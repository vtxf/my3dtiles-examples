/*! For license information please see my3dtiles-lib-main.js.LICENSE.txt */
var XE2;(()=>{var e={53114:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,r){return s=a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&i(o,r.prototype),o},s.apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},c(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t=a();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,r)}}function f(e,t,r){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},f(e,t,r||e)}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}var y=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=t.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=t.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==t.JOIN_ROUND&&(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this.setQuadrantSegments(r),this.setEndCapStyle(n)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(i),this.setJoinStyle(a),this.setMitreLimit(s)}}},{key:"bufferDistanceError",value:function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)}}]),t}();y.CAP_ROUND=1,y.CAP_FLAT=2,y.CAP_SQUARE=3,y.JOIN_ROUND=1,y.JOIN_MITRE=2,y.JOIN_BEVEL=3,y.DEFAULT_QUADRANT_SEGMENTS=8,y.DEFAULT_MITRE_LIMIT=5,y.DEFAULT_SIMPLIFY_FACTOR=.01;var m=function(t){n(i,t);var o=u(i);function i(t){var r;return e(this,i),(r=o.call(this,t)).name=Object.keys({Exception:i})[0],r}return r(i,[{key:"toString",value:function(){return this.message}}]),i}(c(Error)),v=function(t){n(o,t);var r=u(o);function o(t){var n;return e(this,o),(n=r.call(this,t)).name=Object.keys({IllegalArgumentException:o})[0],n}return o}(m),b=function(){function t(){e(this,t)}return r(t,[{key:"filter",value:function(e){}}]),t}();function w(){}function _(){}function P(){}var x,O,C,S,E,M,j,k=function(){function t(){e(this,t)}return r(t,null,[{key:"equalsWithTolerance",value:function(e,t,r){return Math.abs(e-t)<=r}}]),t}(),T=function(){function t(r,n){e(this,t),this.low=n||0,this.high=r||0}return r(t,null,[{key:"toBinaryString",value:function(e){var t,r="";for(t=2147483648;t>0;t>>>=1)r+=(e.high&t)===t?"1":"0";for(t=2147483648;t>0;t>>>=1)r+=(e.low&t)===t?"1":"0";return r}}]),t}();function I(){}function F(){}I.NaN=NaN,I.isNaN=function(e){return Number.isNaN(e)},I.isInfinite=function(e){return!Number.isFinite(e)},I.MAX_VALUE=Number.MAX_VALUE,I.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,I.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(E=2146435072,M=new Float64Array(1),j=new Int32Array(M.buffer),I.doubleToLongBits=function(e){M[0]=e;var t=0|j[0],r=0|j[1];return(r&E)===E&&!!(1048575&r)&&0!==t&&(t=0,r=2146959360),new T(r,t)},I.longBitsToDouble=function(e){return j[0]=e.low,j[1]=e.high,M[0]}):(x=Math.log2,O=Math.floor,C=Math.pow,S=function(){for(var e=53;e>0;e--){var t=C(2,e)-1;if(O(x(t))+1===e)return t}return 0}(),I.doubleToLongBits=function(e){var t,r,n,o,i,a,s,c,l;if(e<0||1/e===Number.NEGATIVE_INFINITY?(a=1<<31,e=-e):a=0,0===e)return new T(c=a,l=0);if(e===1/0)return new T(c=2146435072|a,l=0);if(e!=e)return new T(c=2146959360,l=0);if(o=0,l=0,(t=O(e))>1)if(t<=S)(o=O(x(t)))<=20?(l=0,c=t<<20-o&1048575):(l=t%(r=C(2,n=o-20))<<32-n,c=t/r&1048575);else for(n=t,l=0;0!==(n=O(r=n/2));)o++,l>>>=1,l|=(1&c)<<31,c>>>=1,r!==n&&(c|=524288);if(s=o+1023,i=0===t,t=e-t,o<52&&0!==t)for(n=0;;){if((r=2*t)>=1?(t=r-1,i?(s--,i=!1):(n<<=1,n|=1,o++)):(t=r,i?0==--s&&(o++,i=!1):(n<<=1,o++)),20===o)c|=n,n=0;else if(52===o){l|=n;break}if(1===r){o<20?c|=n<<20-o:o<52&&(l|=n<<52-o);break}}return c|=s<<20,new T(c|=a,l)},I.longBitsToDouble=function(e){var t,r,n,o,i=e.high,a=e.low,s=i&1<<31?-1:1;for(n=((2146435072&i)>>20)-1023,o=0,r=1<<19,t=1;t<=20;t++)i&r&&(o+=C(2,-t)),r>>>=1;for(r=1<<31,t=21;t<=52;t++)a&r&&(o+=C(2,-t)),r>>>=1;if(-1023===n){if(0===o)return 0*s;n=-1022}else{if(1024===n)return 0===o?s/0:NaN;o+=1}return s*o*C(2,n)});var A=function(t){n(o,t);var r=u(o);function o(t){var n;return e(this,o),(n=r.call(this,t)).name=Object.keys({RuntimeException:o})[0],n}return o}(m),L=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,null,[{key:"constructor_",value:function(){if(0===arguments.length)A.constructor_.call(this);else if(1===arguments.length){var e=arguments[0];A.constructor_.call(this,e)}}}]),i}(A),R=function(){function t(){e(this,t)}return r(t,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)t.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new L("Should never reach here"+(null!==e?": "+e:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var e=arguments[0];t.isTrue(e,null)}else if(2===arguments.length){var r=arguments[1];if(!arguments[0])throw null===r?new L:new L(r)}}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];t.equals(e,r,null)}else if(3===arguments.length){var n=arguments[0],o=arguments[1],i=arguments[2];if(!o.equals(n))throw new L("Expected "+n+" but encountered "+o+(null!==i?": "+i:""))}}}]),t}(),D=new ArrayBuffer(8),B=new Float64Array(D),N=new Int32Array(D),z=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getM",value:function(){return I.NaN}},{key:"setOrdinate",value:function(e,r){switch(e){case t.X:this.x=r;break;case t.Y:this.y=r;break;case t.Z:this.setZ(r);break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],r=arguments[1];return!!k.equalsWithTolerance(this.x,t.x,r)&&!!k.equalsWithTolerance(this.y,t.y,r)}}},{key:"setM",value:function(e){throw new v("Invalid ordinate index: "+t.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y;case t.Z:return this.getZ()}throw new v("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||I.isNaN(this.getZ())&&I.isNaN(e.getZ()))}},{key:"equals",value:function(e){return e instanceof t&&this.equals2D(e)}},{key:"equalInZ",value:function(e,t){return k.equalsWithTolerance(this.getZ(),e.getZ(),t)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return R.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.getZ()-e.getZ();return Math.sqrt(t*t+r*r+n*n)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*e+t.hashCode(this.x))+t.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[w,_,P]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)t.constructor_.call(this,0,0);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.x,e.y,e.getZ())}else if(2===arguments.length){var r=arguments[0],n=arguments[1];t.constructor_.call(this,r,n,t.NULL_ORDINATE)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];this.x=o,this.y=i,this.z=a}}},{key:"hashCode",value:function(e){return B[0]=e,N[0]^N[1]}}]),t}(),G=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"compare",value:function(e,r){var n=t.compare(e.x,r.x);if(0!==n)return n;var o=t.compare(e.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:t.compare(e.getZ(),r.getZ())}},{key:"interfaces_",get:function(){return[F]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)t.constructor_.call(this,2);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(e,t){return e<t?-1:e>t?1:I.isNaN(e)?I.isNaN(t)?0:-1:I.isNaN(t)?1:0}}]),t}();z.DimensionalComparator=G,z.NULL_ORDINATE=I.NaN,z.X=0,z.Y=1,z.Z=2,z.M=3;var V=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=e;return this.isNull()?r.isNull():this._maxx===r.getMaxX()&&this._maxy===r.getMaxY()&&this._minx===r.getMinX()&&this._miny===r.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new t;var r=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny;return new t(r,this._maxx<e._maxx?this._maxx:e._maxx,n,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof z){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof t){var r=arguments[0];return!this.isNull()&&!r.isNull()&&r.getMinX()>=this._minx&&r.getMaxX()<=this._maxx&&r.getMinY()>=this._miny&&r.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&o>=this._miny&&o<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof z){var r=arguments[0];return this.intersects(r.x,r.y)}}else if(2===arguments.length){if(arguments[0]instanceof z&&arguments[1]instanceof z){var n=arguments[0],o=arguments[1];return!(this.isNull()||(n.x<o.x?n.x:o.x)>this._maxx||(n.x>o.x?n.x:o.x)<this._minx||(n.y<o.y?n.y:o.y)>this._maxy||(n.y>o.y?n.y:o.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],a=arguments[1];return!this.isNull()&&!(i>this._maxx||i<this._minx||a>this._maxy||a<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return Math.sqrt(e*e+t*t)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof z){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof t){var r=arguments[0];if(r.isNull())return null;this.isNull()?(this._minx=r.getMinX(),this._maxx=r.getMaxX(),this._miny=r.getMinY(),this._maxy=r.getMaxY()):(r._minx<this._minx&&(this._minx=r._minx),r._maxx>this._maxx&&(this._maxx=r._maxx),r._miny<this._miny&&(this._miny=r._miny),r._maxy>this._maxy&&(this._maxy=r._maxy))}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=o,this._maxy=o):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),o<this._miny&&(this._miny=o),o>this._maxy&&(this._maxy=o))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}},{key:"translate",value:function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t}},{key:"expandBy",value:function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=r,this._maxy+=r,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof z){var r=arguments[0];return this.covers(r)}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];return this.covers(n,o)}}},{key:"centre",value:function(){return this.isNull()?null:new z((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof z){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var r=arguments[0];this._minx=r._minx,this._maxx=r._maxx,this._miny=r._miny,this._maxy=r._maxy}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];this.init(n.x,o.x,n.y,o.y)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],c=arguments[3];i<a?(this._minx=i,this._maxx=a):(this._minx=a,this._maxx=i),s<c?(this._miny=s,this._maxy=c):(this._miny=c,this._maxy=s)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var r=0;return this._maxy<e._miny?r=e._miny-this._maxy:this._miny>e._maxy&&(r=this._miny-e._maxy),0===t?r:0===r?t:Math.sqrt(t*t+r*r)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*(e=37*(e=37*e+z.hashCode(this._minx))+z.hashCode(this._maxx))+z.hashCode(this._miny))+z.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[w,P]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof z){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var r=arguments[0];this.init(r)}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];this.init(n.x,o.x,n.y,o.y)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],c=arguments[3];this.init(i,a,s,c)}}},{key:"intersects",value:function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],r=arguments[2];return r.x>=(e.x<t.x?e.x:t.x)&&r.x<=(e.x>t.x?e.x:t.x)&&r.y>=(e.y<t.y?e.y:t.y)&&r.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var n=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=Math.min(i.x,a.x),c=Math.max(i.x,a.x),l=Math.min(n.x,o.x),u=Math.max(n.x,o.x);return!(l>c||u<s||(s=Math.min(i.y,a.y),c=Math.max(i.y,a.y),l=Math.min(n.y,o.y),u=Math.max(n.y,o.y),l>c||u<s))}}}]),t}(),q=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(t.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return null!==e&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(1===arguments.length){var t=arguments[0];return e=t,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var r=arguments[0],n=arguments[1];return e=r,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(r,n)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,t,r){return 0===r?e.equals(t):e.distance(t)<=r}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return null!=this.envelope&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=null==this._envelope?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new V(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,t){for(var r=e.iterator(),n=t.iterator();r.hasNext()&&n.hasNext();){var o=r.next(),i=n.next(),a=o.compareTo(i);if(0!==a)return a}return r.hasNext()?1:n.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===t.TYPECODE_MULTIPOINT||this.getTypeCode()===t.TYPECODE_MULTILINESTRING||this.getTypeCode()===t.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[_,w,P]}},{key:"getClass",value:function(){return t}}],[{key:"hasNonEmptyElements",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}]),t}();q.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},q.TYPECODE_POINT=0,q.TYPECODE_MULTIPOINT=1,q.TYPECODE_LINESTRING=2,q.TYPECODE_LINEARRING=3,q.TYPECODE_MULTILINESTRING=4,q.TYPECODE_POLYGON=5,q.TYPECODE_MULTIPOLYGON=6,q.TYPECODE_GEOMETRYCOLLECTION=7,q.TYPENAME_POINT="Point",q.TYPENAME_MULTIPOINT="MultiPoint",q.TYPENAME_LINESTRING="LineString",q.TYPENAME_LINEARRING="LinearRing",q.TYPENAME_MULTILINESTRING="MultiLineString",q.TYPENAME_POLYGON="Polygon",q.TYPENAME_MULTIPOLYGON="MultiPolygon",q.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",q.geometryChangedFilter={get interfaces_(){return[b]},filter:function(e){e.geometryChangedAction()}};var U=function(){function t(){e(this,t)}return r(t,null,[{key:"toLocationSymbol",value:function(e){switch(e){case t.EXTERIOR:return"e";case t.BOUNDARY:return"b";case t.INTERIOR:return"i";case t.NONE:return"-"}throw new v("Unknown location value: "+e)}}]),t}();U.INTERIOR=0,U.BOUNDARY=1,U.EXTERIOR=2,U.NONE=-1;var H=function(){function t(){e(this,t)}return r(t,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),t}(),W=function(t){n(o,t);var r=u(o);function o(t){var n;return e(this,o),(n=r.call(this,t)).name=Object.keys({NoSuchElementException:o})[0],n}return o}(m),J=function(t){n(o,t);var r=u(o);function o(t){var n;return e(this,o),(n=r.call(this,t)).name=Object.keys({UnsupportedOperationException:o})[0],n}return o}(m),Y=function(t){n(i,t);var o=u(i);function i(){return e(this,i),o.apply(this,arguments)}return r(i,[{key:"contains",value:function(){}}]),i}(H),X=function(t,o){n(a,t);var i=u(a);function a(t){var r;return e(this,a),(r=i.call(this)).map=new Map,t instanceof H&&r.addAll(t),r}return r(a,[{key:"contains",value:function(e){var t=e.hashCode?e.hashCode():e;return!!this.map.has(t)}},{key:"add",value:function(e){var t=e.hashCode?e.hashCode():e;return!this.map.has(t)&&!!this.map.set(t,e)}},{key:"addAll",value:function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.add(n)}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"remove",value:function(){throw new J}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Z(this.map)}},{key:o,value:function(){return this.map}}]),a}(Y,Symbol.iterator),Z=function(){function t(r){e(this,t),this.iterator=r.values();var n=this.iterator.next(),o=n.done,i=n.value;this.done=o,this.value=i}return r(t,[{key:"next",value:function(){if(this.done)throw new W;var e=this.value,t=this.iterator.next(),r=t.done,n=t.value;return this.done=r,this.value=n,e}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new J}}]),t}(),$=function(){function t(){e(this,t)}return r(t,null,[{key:"opposite",value:function(e){return e===t.LEFT?t.RIGHT:e===t.RIGHT?t.LEFT:e}}]),t}();$.ON=0,$.LEFT=1,$.RIGHT=2;var K=function(t){n(o,t);var r=u(o);function o(t){var n;return e(this,o),(n=r.call(this,t)).name=Object.keys({EmptyStackException:o})[0],n}return o}(m),Q=function(t){n(o,t);var r=u(o);function o(t){var n;return e(this,o),(n=r.call(this,t)).name=Object.keys({IndexOutOfBoundsException:o})[0],n}return o}(m),ee=function(t){n(i,t);var o=u(i);function i(){return e(this,i),o.apply(this,arguments)}return r(i,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),i}(H),te=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),(t=o.call(this)).array=[],t}return r(i,[{key:"add",value:function(e){return this.array.push(e),!0}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new Q;return this.array[e]}},{key:"push",value:function(e){return this.array.push(e),e}},{key:"pop",value:function(){if(0===this.array.length)throw new K;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new K;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(e){return this.array.indexOf(e)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),i}(ee);function re(e,t){return e.interfaces_&&e.interfaces_.indexOf(t)>-1}var ne=function(){function t(r){e(this,t),this.str=r}return r(t,[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),t}(),oe=function(){function t(r){e(this,t),this.value=r}return r(t,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(e){return new t(e)}}]),t}(),ie=function(){function t(){e(this,t)}return r(t,null,[{key:"isWhitespace",value:function(e){return e<=32&&e>=0||127===e}},{key:"toUpperCase",value:function(e){return e.toUpperCase()}}]),t}(),ae=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(e,r){var n=this.abs(),o=t.magnitude(n._hi),i=t.TEN.pow(o);(n=n.divide(i)).gt(t.TEN)?(n=n.divide(t.TEN),o+=1):n.lt(t.ONE)&&(n=n.multiply(t.TEN),o-=1);for(var a=o+1,s=new ne,c=t.MAX_PRINT_DIGITS-1,l=0;l<=c;l++){e&&l===a&&s.append(".");var u=Math.trunc(n._hi);if(u<0)break;var f=!1,p=0;u>9?(f=!0,p="9"):p="0"+u,s.append(p),n=n.subtract(t.valueOf(u)).multiply(t.TEN),f&&n.selfAdd(t.TEN);var d=!0,h=t.magnitude(n._hi);if(h<0&&Math.abs(h)>=c-l&&(d=!1),!d)break}return r[0]=o,s.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var r=arguments[0];return this.add(-r)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof t){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var r=arguments[0];return this.selfDivide(r,0)}}else if(2===arguments.length){var n,o,i,a,s=arguments[0],c=arguments[1],l=null,u=null,f=null,p=null;return i=this._hi/s,p=(l=(f=t.SPLIT*i)-(l=f-i))*(u=(p=t.SPLIT*s)-(u=p-s))-(a=i*s)+l*(o=s-u)+(n=i-l)*u+n*o,p=i+(f=(this._hi-a-p+this._lo-i*c)/s),this._hi=p,this._lo=i-p+f,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof t){var e,r,n,o,i=arguments[0],a=null,s=null,c=null,l=null;return e=(n=this._hi/i._hi)-(a=(c=t.SPLIT*n)-(a=c-n)),l=a*(s=(l=t.SPLIT*i._hi)-(s=l-i._hi))-(o=n*i._hi)+a*(r=i._hi-s)+e*s+e*r,new t(l=n+(c=(this._hi-o-l+this._lo-n*i._lo)/i._hi),n-l+c)}if("number"==typeof arguments[0]){var u=arguments[0];return I.isNaN(u)?t.createNaN():t.copy(this).selfDivide(u,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(e){if(0===e)return t.valueOf(1);var r=new t(this),n=t.valueOf(1),o=Math.abs(e);if(o>1)for(;o>0;)o%2==1&&n.selfMultiply(r),(o/=2)>0&&(r=r.sqr());else n=r;return e<0?n.reciprocal():n}},{key:"ceil",value:function(){if(this.isNaN())return t.NaN;var e=Math.ceil(this._hi),r=0;return e===this._hi&&(r=Math.ceil(this._lo)),new t(e,r)}},{key:"compareTo",value:function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var r=arguments[0];return this.init(r),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return t.valueOf(0);if(this.isNegative())return t.NaN;var e=1/Math.sqrt(this._hi),r=this._hi*e,n=t.valueOf(r),o=this.subtract(n.sqr())._hi*(.5*e);return n.add(o)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var r,n,o,i,a,s=arguments[0],c=null;return c=(o=this._hi+s)-(i=o-this._hi),n=(a=(c=s-i+(this._hi-c))+this._lo)+(o-(r=o+a)),this._hi=r+n,this._lo=n+(r-this._hi),this}}else if(2===arguments.length){var l,u,f,p,d=arguments[0],h=arguments[1],g=null,y=null,m=null;f=this._hi+d,u=this._lo+h,y=f-(m=f-this._hi),g=u-(p=u-this._lo);var v=(l=f+(m=(y=d-m+(this._hi-y))+u))+(m=(g=h-p+(this._lo-g))+(m+(f-l))),b=m+(l-v);return this._hi=v,this._lo=b,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var r=arguments[0];return this.selfMultiply(r,0)}}else if(2===arguments.length){var n,o,i=arguments[0],a=arguments[1],s=null,c=null,l=null,u=null;s=(l=t.SPLIT*this._hi)-this._hi,u=t.SPLIT*i,s=l-s,n=this._hi-s,c=u-i;var f=(l=this._hi*i)+(u=s*(c=u-c)-l+s*(o=i-c)+n*c+n*o+(this._hi*a+this._lo*i)),p=u+(s=l-f);return this._hi=f,this._lo=p,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return t.NaN;var e=Math.floor(this._hi),r=0;return e===this._hi&&(r=Math.floor(this._lo)),new t(e,r)}},{key:"negate",value:function(){return this.isNaN()?this:new t(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return e.isNaN()?t.createNaN():t.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var r=arguments[0];return I.isNaN(r)?t.createNaN():t.copy(this).selfMultiply(r,0)}}},{key:"isNaN",value:function(){return I.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=t.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(null!==e)return e;var r=new Array(1).fill(null),n=this.extractSignificantDigits(!0,r),o=r[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(o<0)i="0."+t.stringOfChar("0",-o)+n;else if(-1===n.indexOf(".")){var a=o-n.length;i=n+t.stringOfChar("0",a)+".0"}return this.isNegative()?"-"+i:i}},{key:"reciprocal",value:function(){var e,r,n,o,i=null,a=null,s=null,c=null;e=(n=1/this._hi)-(i=(s=t.SPLIT*n)-(i=s-n)),a=(c=t.SPLIT*this._hi)-this._hi;var l=n+(s=(1-(o=n*this._hi)-(c=i*(a=c-a)-o+i*(r=this._hi-a)+e*a+e*r)-n*this._lo)/this._hi);return new t(l,n-l+s)}},{key:"toSciNotation",value:function(){if(this.isZero())return t.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var r=new Array(1).fill(null),n=this.extractSignificantDigits(!1,r),o=t.SCI_NOT_EXPONENT_CHAR+r[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var a=n.charAt(0)+"."+i;return this.isNegative()?"-"+a+o:a+o}},{key:"abs",value:function(){return this.isNaN()?t.NaN:this.isNegative()?this.negate():new t(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return t.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var r=arguments[0];return t.copy(this).selfAdd(r)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof t){var r=arguments[0];this._hi=r._hi,this._lo=r._lo}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];this._hi=n,this._lo=o}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?t.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[P,w,_]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var r=arguments[0];this.init(r)}else if("string"==typeof arguments[0]){var n=arguments[0];t.constructor_.call(this,t.parse(n))}}else if(2===arguments.length){var o=arguments[0],i=arguments[1];this.init(o,i)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],r=arguments[1],n=arguments[2],o=arguments[3];return t.determinant(t.valueOf(e),t.valueOf(r),t.valueOf(n),t.valueOf(o))}if(arguments[3]instanceof t&&arguments[2]instanceof t&&arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[1],a=arguments[2],s=arguments[3];return arguments[0].multiply(s).selfSubtract(i.multiply(a))}}},{key:"sqr",value:function(e){return t.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var e=arguments[0];return t.parse(e)}if("number"==typeof arguments[0])return new t(arguments[0])}},{key:"sqrt",value:function(e){return t.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var r=0,n=e.length;ie.isWhitespace(e.charAt(r));)r++;var o=!1;if(r<n){var i=e.charAt(r);"-"!==i&&"+"!==i||(r++,"-"===i&&(o=!0))}for(var a=new t,s=0,c=0,l=0,u=!1;!(r>=n);){var f=e.charAt(r);if(r++,ie.isDigit(f)){var p=f-"0";a.selfMultiply(t.TEN),a.selfAdd(p),s++}else{if("."!==f){if("e"===f||"E"===f){var d=e.substring(r);try{l=oe.parseInt(d)}catch(t){throw t instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+d+" in string "+e):t}break}throw new NumberFormatException("Unexpected character '"+f+"' at position "+r+" in string "+e)}c=s,u=!0}}var h=a;u||(c=s);var g=s-c-l;if(0===g)h=a;else if(g>0){var y=t.TEN.pow(g);h=a.divide(y)}else if(g<0){var m=t.TEN.pow(-g);h=a.multiply(m)}return o?h.negate():h}},{key:"createNaN",value:function(){return new t(I.NaN,I.NaN)}},{key:"copy",value:function(e){return new t(e)}},{key:"magnitude",value:function(e){var t=Math.abs(e),r=Math.log(t)/Math.log(10),n=Math.trunc(Math.floor(r));return 10*Math.pow(10,n)<=t&&(n+=1),n}},{key:"stringOfChar",value:function(e,t){for(var r=new ne,n=0;n<t;n++)r.append(e);return r.toString()}}]),t}();ae.PI=new ae(3.141592653589793,12246467991473532e-32),ae.TWO_PI=new ae(6.283185307179586,24492935982947064e-32),ae.PI_2=new ae(1.5707963267948966,6123233995736766e-32),ae.E=new ae(2.718281828459045,14456468917292502e-32),ae.NaN=new ae(I.NaN,I.NaN),ae.EPS=123259516440783e-46,ae.SPLIT=134217729,ae.MAX_PRINT_DIGITS=32,ae.TEN=ae.valueOf(10),ae.ONE=ae.valueOf(1),ae.SCI_NOT_EXPONENT_CHAR="E",ae.SCI_NOT_ZERO="0.0E0";var se=function(){function t(){e(this,t)}return r(t,null,[{key:"orientationIndex",value:function(e,r,n){var o=t.orientationIndexFilter(e,r,n);if(o<=1)return o;var i=ae.valueOf(r.x).selfAdd(-e.x),a=ae.valueOf(r.y).selfAdd(-e.y),s=ae.valueOf(n.x).selfAdd(-r.x),c=ae.valueOf(n.y).selfAdd(-r.y);return i.selfMultiply(c).selfSubtract(a.selfMultiply(s)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof ae&&arguments[2]instanceof ae&&arguments[0]instanceof ae&&arguments[1]instanceof ae){var e=arguments[1],t=arguments[2],r=arguments[3];return arguments[0].multiply(r).selfSubtract(e.multiply(t)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=ae.valueOf(n),c=ae.valueOf(o),l=ae.valueOf(i),u=ae.valueOf(a);return s.multiply(u).selfSubtract(c.multiply(l)).signum()}}},{key:"intersection",value:function(e,t,r,n){var o=new ae(e.y).selfSubtract(t.y),i=new ae(t.x).selfSubtract(e.x),a=new ae(e.x).selfMultiply(t.y).selfSubtract(new ae(t.x).selfMultiply(e.y)),s=new ae(r.y).selfSubtract(n.y),c=new ae(n.x).selfSubtract(r.x),l=new ae(r.x).selfMultiply(n.y).selfSubtract(new ae(n.x).selfMultiply(r.y)),u=i.multiply(l).selfSubtract(c.multiply(a)),f=s.multiply(a).selfSubtract(o.multiply(l)),p=o.multiply(c).selfSubtract(s.multiply(i)),d=u.selfDivide(p).doubleValue(),h=f.selfDivide(p).doubleValue();return I.isNaN(d)||I.isInfinite(d)||I.isNaN(h)||I.isInfinite(h)?null:new z(d,h)}},{key:"orientationIndexFilter",value:function(e,r,n){var o=null,i=(e.x-n.x)*(r.y-n.y),a=(e.y-n.y)*(r.x-n.x),s=i-a;if(i>0){if(a<=0)return t.signum(s);o=i+a}else{if(!(i<0))return t.signum(s);if(a>=0)return t.signum(s);o=-i-a}var c=t.DP_SAFE_EPSILON*o;return s>=c||-s>=c?t.signum(s):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}]),t}();se.DP_SAFE_EPSILON=1e-15;var ce=function(){function t(){e(this,t)}return r(t,[{key:"getM",value:function(e){if(this.hasM()){var t=this.getDimension()-this.getMeasures();return this.getOrdinate(e,t)}return I.NaN}},{key:"setOrdinate",value:function(e,t,r){}},{key:"getZ",value:function(e){return this.hasZ()?this.getOrdinate(e,2):I.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(e,t){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(e){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(e){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(e){}},{key:"copy",value:function(){}},{key:"getY",value:function(e){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[_]}}]),t}();ce.X=0,ce.Y=1,ce.Z=2,ce.M=3;var le=function(){function t(){e(this,t)}return r(t,null,[{key:"index",value:function(e,t,r){return se.orientationIndex(e,t,r)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],r=e.length-1;if(r<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],o=0,i=1;i<=r;i++){var a=e[i];a.y>n.y&&(n=a,o=i)}var s=o;do{(s-=1)<0&&(s=r)}while(e[s].equals2D(n)&&s!==o);var c=o;do{c=(c+1)%r}while(e[c].equals2D(n)&&c!==o);var l=e[s],u=e[c];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var f=t.index(l,n,u);return 0===f?l.x>u.x:f>0}if(re(arguments[0],ce)){var p=arguments[0],d=p.size()-1;if(d<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var h=p.getCoordinate(0),g=0,y=1;y<=d;y++){var m=p.getCoordinate(y);m.y>h.y&&(h=m,g=y)}var b=null,w=g;do{(w-=1)<0&&(w=d),b=p.getCoordinate(w)}while(b.equals2D(h)&&w!==g);var _=null,P=g;do{P=(P+1)%d,_=p.getCoordinate(P)}while(_.equals2D(h)&&P!==g);if(b.equals2D(h)||_.equals2D(h)||b.equals2D(_))return!1;var x=t.index(b,h,_);return 0===x?b.x>_.x:x>0}}}]),t}();le.CLOCKWISE=-1,le.RIGHT=le.CLOCKWISE,le.COUNTERCLOCKWISE=1,le.LEFT=le.COUNTERCLOCKWISE,le.COLLINEAR=0,le.STRAIGHT=le.COLLINEAR;var ue=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(e,t){var r=this.getRightmostSideOfSegment(e,t);return r<0&&(r=this.getRightmostSideOfSegment(e,t-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),r}},{key:"findRightmostEdgeAtVertex",value:function(){var e=this._minDe.getEdge().getCoordinates();R.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],r=e[this._minIndex+1],n=le.index(this._minCoord,r,t),o=!1;(t.y<this._minCoord.y&&r.y<this._minCoord.y&&n===le.COUNTERCLOCKWISE||t.y>this._minCoord.y&&r.y>this._minCoord.y&&n===le.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(e,t){var r=e.getEdge().getCoordinates();if(t<0||t+1>=r.length)return-1;if(r[t].y===r[t+1].y)return-1;var n=$.LEFT;return r[t].y<r[t+1].y&&(n=$.RIGHT),n}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(e){for(var t=e.getEdge().getCoordinates(),r=0;r<t.length-1;r++)(null===this._minCoord||t[r].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=r,this._minCoord=t[r])}},{key:"findRightmostEdgeAtNode",value:function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(e){for(var t=e.iterator();t.hasNext();){var r=t.next();r.isForward()&&this.checkForRightmostCoordinate(r)}R.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===$.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),t}(),fe=function(t){n(i,t);var o=u(i);function i(t,r){var n;return e(this,i),(n=o.call(this,r?t+" [ "+r+" ]":t)).pt=r?new z(r):void 0,n.name=Object.keys({TopologyException:i})[0],n}return r(i,[{key:"getCoordinate",value:function(){return this.pt}}]),i}(A),pe=function(){function t(){e(this,t),this.array=[]}return r(t,[{key:"addLast",value:function(e){this.array.push(e)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),t}(),de=function(t,o){n(a,t);var i=u(a);function a(t){var r;return e(this,a),(r=i.call(this)).array=[],t instanceof H&&r.addAll(t),r}return r(a,[{key:"interfaces_",get:function(){return[ee,H]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(e){return 1===arguments.length?this.array.push(e):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.array.push(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"set",value:function(e,t){var r=this.array[e];return this.array[e]=t,r}},{key:"iterator",value:function(){return new he(this)}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new Q;return this.array[e]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(e){e?this.array.sort((function(t,r){return e.compare(t,r)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(e){for(var t=0,r=this.array.length;t<r;t++)if(this.array[t]===e)return!!this.array.splice(t,1);return!1}},{key:o,value:function(){return this.array.values()}}]),a}(ee,Symbol.iterator),he=function(){function t(r){e(this,t),this.arrayList=r,this.position=0}return r(t,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new W;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(e){return this.arrayList.set(this.position-1,e)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),t}(),ge=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"clearVisitedEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(e){for(var t=null,r=e.getEdges().iterator();r.hasNext();){var n=r.next();if(n.isVisited()||n.getSym().isVisited()){t=n;break}}if(null===t)throw new fe("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var o=e.getEdges().iterator();o.hasNext();){var i=o.next();i.setVisited(!0),this.copySymDepths(i)}}},{key:"computeDepth",value:function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths($.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}},{key:"create",value:function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth($.RIGHT)>=1&&t.getDepth($.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}},{key:"computeDepths",value:function(e){var t=new X,r=new pe,n=e.getNode();for(r.addLast(n),t.add(n),e.setVisited(!0);!r.isEmpty();){var o=r.removeFirst();t.add(o),this.computeNodeDepth(o);for(var i=o.getEdges().iterator();i.hasNext();){var a=i.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(r.addLast(s),t.add(s))}}}}},{key:"compareTo",value:function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var e=new V,t=this._dirEdgeList.iterator();t.hasNext();)for(var r=t.next().getEdge().getCoordinates(),n=0;n<r.length-1;n++)e.expandToInclude(r[n]);this._env=e}return this._env}},{key:"addReachable",value:function(e){var t=new te;for(t.add(e);!t.empty();){var r=t.pop();this.add(r,t)}}},{key:"copySymDepths",value:function(e){var t=e.getSym();t.setDepth($.LEFT,e.getDepth($.RIGHT)),t.setDepth($.RIGHT,e.getDepth($.LEFT))}},{key:"add",value:function(e,t){e.setVisited(!0),this._nodes.add(e);for(var r=e.getEdges().iterator();r.hasNext();){var n=r.next();this._dirEdgeList.add(n);var o=n.getSym().getNode();o.isVisited()||t.push(o)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new de,this._nodes=new de,this._rightMostCoord=null,this._env=null,this._finder=new ue}}]),t}(),ye=function(){function t(){e(this,t)}return r(t,null,[{key:"intersection",value:function(e,t,r,n){var o=e.x<t.x?e.x:t.x,i=e.y<t.y?e.y:t.y,a=e.x>t.x?e.x:t.x,s=e.y>t.y?e.y:t.y,c=r.x<n.x?r.x:n.x,l=r.y<n.y?r.y:n.y,u=r.x>n.x?r.x:n.x,f=r.y>n.y?r.y:n.y,p=((o>c?o:c)+(a<u?a:u))/2,d=((i>l?i:l)+(s<f?s:f))/2,h=e.x-p,g=e.y-d,y=t.x-p,m=t.y-d,v=r.x-p,b=r.y-d,w=n.x-p,_=n.y-d,P=g-m,x=y-h,O=h*m-y*g,C=b-_,S=w-v,E=v*_-w*b,M=P*S-C*x,j=(x*E-S*O)/M,k=(C*O-P*E)/M;return I.isNaN(j)||I.isInfinite(j)||I.isNaN(k)||I.isInfinite(k)?null:new z(j+p,k+d)}}]),t}(),me=function(){function t(){e(this,t)}return r(t,null,[{key:"arraycopy",value:function(e,t,r,n,o){for(var i=0,a=t;a<t+o;a++)r[n+i]=e[a],i++}},{key:"getProperty",value:function(e){return{"line.separator":"\n"}[e]}}]),t}(),ve=function(){function t(){e(this,t)}return r(t,null,[{key:"log10",value:function(e){var r=Math.log(e);return I.isInfinite(r)||I.isNaN(r)?r:r/t.LOG_10}},{key:"min",value:function(e,t,r,n){var o=e;return t<o&&(o=t),r<o&&(o=r),n<o&&(o=n),o}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],r=arguments[2];return e<t?t:e>r?r:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],o=arguments[1],i=arguments[2];return n<o?o:n>i?i:n}}},{key:"wrap",value:function(e,t){return e<0?t- -e%t:e%t}},{key:"max",value:function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],r=arguments[0];return e>r&&(r=e),t>r&&(r=t),r}if(4===arguments.length){var n=arguments[1],o=arguments[2],i=arguments[3],a=arguments[0];return n>a&&(a=n),o>a&&(a=o),i>a&&(a=i),a}}},{key:"average",value:function(e,t){return(e+t)/2}}]),t}();ve.LOG_10=Math.log(10);var be=function(){function t(){e(this,t)}return r(t,null,[{key:"segmentToSegment",value:function(e,r,n,o){if(e.equals(r))return t.pointToSegment(e,n,o);if(n.equals(o))return t.pointToSegment(o,e,r);var i=!1;if(V.intersects(e,r,n,o)){var a=(r.x-e.x)*(o.y-n.y)-(r.y-e.y)*(o.x-n.x);if(0===a)i=!0;else{var s=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),c=((e.y-n.y)*(r.x-e.x)-(e.x-n.x)*(r.y-e.y))/a,l=s/a;(l<0||l>1||c<0||c>1)&&(i=!0)}}else i=!0;return i?ve.min(t.pointToSegment(e,n,o),t.pointToSegment(r,n,o),t.pointToSegment(n,e,r),t.pointToSegment(o,e,r)):0}},{key:"pointToSegment",value:function(e,t,r){if(t.x===r.x&&t.y===r.y)return e.distance(t);var n=(r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y),o=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;if(o<=0)return e.distance(t);if(o>=1)return e.distance(r);var i=((t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y))/n;return Math.abs(i)*Math.sqrt(n)}},{key:"pointToLinePerpendicular",value:function(e,t,r){var n=(r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y),o=((t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y))/n;return Math.abs(o)*Math.sqrt(n)}},{key:"pointToSegmentString",value:function(e,r){if(0===r.length)throw new v("Line array must contain at least one vertex");for(var n=e.distance(r[0]),o=0;o<r.length-1;o++){var i=t.pointToSegment(e,r[o],r[o+1]);i<n&&(n=i)}return n}}]),t}(),we=function(){function t(){e(this,t)}return r(t,[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||re(arguments[0],ce);else if(2===arguments.length);else if(3===arguments.length){var e=arguments[0],t=arguments[1];return this.create(e,t)}}}]),t}(),_e=function(){function t(){e(this,t)}return r(t,[{key:"filter",value:function(e){}}]),t}(),Pe=function(){function t(){e(this,t)}return r(t,null,[{key:"ofLine",value:function(e){var t=e.size();if(t<=1)return 0;var r=0,n=new z;e.getCoordinate(0,n);for(var o=n.x,i=n.y,a=1;a<t;a++){e.getCoordinate(a,n);var s=n.x,c=n.y,l=s-o,u=c-i;r+=Math.sqrt(l*l+u*u),o=s,i=c}return r}}]),t}(),xe=function t(){e(this,t)},Oe=function(){function t(){e(this,t)}return r(t,null,[{key:"copyCoord",value:function(e,t,r,n){for(var o=Math.min(e.getDimension(),r.getDimension()),i=0;i<o;i++)r.setOrdinate(n,i,e.getOrdinate(t,i))}},{key:"isRing",value:function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,ce.X)===e.getOrdinate(t-1,ce.X)&&e.getOrdinate(0,ce.Y)===e.getOrdinate(t-1,ce.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(re(arguments[0],ce)&&Number.isInteger(arguments[1])){var e=arguments[0],r=arguments[1];t.scroll(e,r,t.isRing(e))}else if(re(arguments[0],ce)&&arguments[1]instanceof z){var n=arguments[0],o=arguments[1],i=t.indexOf(o,n);if(i<=0)return null;t.scroll(n,i)}}else if(3===arguments.length){var a=arguments[0],s=arguments[1],c=arguments[2];if(s<=0)return null;for(var l=a.copy(),u=c?a.size()-1:a.size(),f=0;f<u;f++)for(var p=0;p<a.getDimension();p++)a.setOrdinate(f,p,l.getOrdinate((s+f)%u,p));if(c)for(var d=0;d<a.getDimension();d++)a.setOrdinate(u,d,a.getOrdinate(0,d))}}},{key:"isEqual",value:function(e,t){var r=e.size();if(r!==t.size())return!1;for(var n=Math.min(e.getDimension(),t.getDimension()),o=0;o<r;o++)for(var i=0;i<n;i++){var a=e.getOrdinate(o,i),s=t.getOrdinate(o,i);if(!(e.getOrdinate(o,i)===t.getOrdinate(o,i)||I.isNaN(a)&&I.isNaN(s)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var e=arguments[0];return t.minCoordinateIndex(e,0,e.size()-1)}if(3===arguments.length){for(var r=arguments[0],n=arguments[2],o=-1,i=null,a=arguments[1];a<=n;a++){var s=r.getCoordinate(a);(null===i||i.compareTo(s)>0)&&(i=s,o=a)}return o}}},{key:"extend",value:function(e,r,n){var o=e.create(n,r.getDimension()),i=r.size();if(t.copy(r,0,o,0,i),i>0)for(var a=i;a<n;a++)t.copy(r,i-1,o,a,1);return o}},{key:"reverse",value:function(e){for(var r=e.size()-1,n=Math.trunc(r/2),o=0;o<=n;o++)t.swap(e,o,r-o)}},{key:"swap",value:function(e,t,r){if(t===r)return null;for(var n=0;n<e.getDimension();n++){var o=e.getOrdinate(t,n);e.setOrdinate(t,n,e.getOrdinate(r,n)),e.setOrdinate(r,n,o)}}},{key:"copy",value:function(e,r,n,o,i){for(var a=0;a<i;a++)t.copyCoord(e,r+a,n,o+a)}},{key:"ensureValidRing",value:function(e,r){var n=r.size();return 0===n?r:n<=3?t.createClosedRing(e,r,4):r.getOrdinate(0,ce.X)===r.getOrdinate(n-1,ce.X)&&r.getOrdinate(0,ce.Y)===r.getOrdinate(n-1,ce.Y)?r:t.createClosedRing(e,r,n+1)}},{key:"indexOf",value:function(e,t){for(var r=0;r<t.size();r++)if(e.x===t.getOrdinate(r,ce.X)&&e.y===t.getOrdinate(r,ce.Y))return r;return-1}},{key:"createClosedRing",value:function(e,r,n){var o=e.create(n,r.getDimension()),i=r.size();t.copy(r,0,o,0,i);for(var a=i;a<n;a++)t.copy(r,0,o,a,1);return o}},{key:"minCoordinate",value:function(e){for(var t=null,r=0;r<e.size();r++){var n=e.getCoordinate(r);(null===t||t.compareTo(n)>0)&&(t=n)}return t}}]),t}(),Ce=function(){function t(){e(this,t)}return r(t,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case t.FALSE:return t.SYM_FALSE;case t.TRUE:return t.SYM_TRUE;case t.DONTCARE:return t.SYM_DONTCARE;case t.P:return t.SYM_P;case t.L:return t.SYM_L;case t.A:return t.SYM_A}throw new v("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(ie.toUpperCase(e)){case t.SYM_FALSE:return t.FALSE;case t.SYM_TRUE:return t.TRUE;case t.SYM_DONTCARE:return t.DONTCARE;case t.SYM_P:return t.P;case t.SYM_L:return t.L;case t.SYM_A:return t.A}throw new v("Unknown dimension symbol: "+e)}}]),t}();Ce.P=0,Ce.L=1,Ce.A=2,Ce.FALSE=-1,Ce.TRUE=-2,Ce.DONTCARE=-3,Ce.SYM_FALSE="F",Ce.SYM_TRUE="T",Ce.SYM_DONTCARE="*",Ce.SYM_P="0",Ce.SYM_L="1",Ce.SYM_A="2";var Se=function(){function t(){e(this,t)}return r(t,[{key:"filter",value:function(e){}}]),t}(),Ee=function(){function t(){e(this,t)}return r(t,[{key:"filter",value:function(e,t){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),t}(),Me=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new V:this._points.expandEnvelope(new V)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var n=0;n<this._points.size();n++)if(!this.equal(this._points.getCoordinate(n),r._points.getCoordinate(n),t))return!1;return!0}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0){var r=this._points.copy();Oe.reverse(r),this._points=r}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ce.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Oe.reverse(e),this.getFactory().createLineString(e)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return q.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Pe.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var e=arguments[0],t=0,r=0;t<this._points.size()&&r<e._points.size();){var n=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(r));if(0!==n)return n;t++,r++}return t<this._points.size()?1:r<e._points.size()?-1:0}if(2===arguments.length){var o=arguments[0];return arguments[1].compare(this._points,o._points)}}},{key:"apply",value:function(){if(re(arguments[0],_e))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(re(arguments[0],Ee)){var r=arguments[0];if(0===this._points.size())return null;for(var n=0;n<this._points.size()&&(r.filter(this._points,n),!r.isDone());n++);r.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Se)||re(arguments[0],b))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new J}},{key:"isEquivalentClass",value:function(e){return e instanceof a}},{key:"getCoordinateN",value:function(e){return this._points.getCoordinate(e)}},{key:"getGeometryType",value:function(){return q.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new v("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e}},{key:"isCoordinate",value:function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}},{key:"interfaces_",get:function(){return[xe]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];q.constructor_.call(this,t),this.init(e)}}}]),a}(q),je=function t(){e(this,t)},ke=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new V;var e=new V;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new a(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Ce.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return q.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}},{key:"apply",value:function(){if(re(arguments[0],_e)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(re(arguments[0],Ee)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(re(arguments[0],Se)||re(arguments[0],b))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return q.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),R.isTrue(e.size()<=1),this._coordinates=e}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[je]}}],[{key:"constructor_",value:function(){this._coordinates=null;var e=arguments[0],t=arguments[1];q.constructor_.call(this,t),this.init(e)}}]),a}(q),Te=function(){function t(){e(this,t)}return r(t,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(t.ofRingSigned(e))}if(re(arguments[0],ce)){var r=arguments[0];return Math.abs(t.ofRingSigned(r))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,r=e[0].x,n=1;n<e.length-1;n++){var o=e[n].x-r,i=e[n+1].y;t+=o*(e[n-1].y-i)}return t/2}if(re(arguments[0],ce)){var a=arguments[0],s=a.size();if(s<3)return 0;var c=new z,l=new z,u=new z;a.getCoordinate(0,l),a.getCoordinate(1,u);var f=l.x;u.x-=f;for(var p=0,d=1;d<s-1;d++)c.y=l.y,l.x=u.x,l.y=u.y,a.getCoordinate(d+1,u),u.x-=f,p+=l.x*(c.y-u.y);return p/2}}}]),t}(),Ie=function(){function t(){e(this,t)}return r(t,null,[{key:"sort",value:function(){var e=arguments,t=arguments[0];if(1===arguments.length)t.sort((function(e,t){return e.compareTo(t)}));else if(2===arguments.length)t.sort((function(t,r){return e[1].compare(t,r)}));else if(3===arguments.length){var r=t.slice(arguments[1],arguments[2]);r.sort();var n=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length));t.splice(0,t.length);var o,i=g(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;t.push(a)}}catch(e){i.e(e)}finally{i.f()}}else if(4===arguments.length){var s=t.slice(arguments[1],arguments[2]);s.sort((function(t,r){return e[3].compare(t,r)}));var c=t.slice(0,arguments[1]).concat(s,t.slice(arguments[2],t.length));t.splice(0,t.length);var l,u=g(c);try{for(u.s();!(l=u.n()).done;){var f=l.value;t.push(f)}}catch(e){u.e(e)}finally{u.f()}}}},{key:"asList",value:function(e){var t,r=new de,n=g(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.add(o)}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"copyOf",value:function(e,t){return e.slice(0,t)}}]),t}(),Fe=function t(){e(this,t)},Ae=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,r=this._shell.getCoordinates(),n=0;n<r.length;n++)e[++t]=r[n];for(var o=0;o<this._holes.length;o++)for(var i=this._holes[o].getCoordinates(),a=0;a<i.length;a++)e[++t]=i[a];return e}},{key:"getArea",value:function(){var e=0;e+=Te.ofRing(this._shell.getCoordinateSequence());for(var t=0;t<this._holes.length;t++)e-=Te.ofRing(this._holes[t].getCoordinateSequence());return e}},{key:"copyInternal",value:function(){for(var e=this._shell.copy(),t=new Array(this._holes.length).fill(null),r=0;r<this._holes.length;r++)t[r]=this._holes[r].copy();return new a(e,t,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),r=0;r<5;r++){var n=e.getX(r);if(n!==t.getMinX()&&n!==t.getMaxX())return!1;var o=e.getY(r);if(o!==t.getMinY()&&o!==t.getMaxY())return!1}for(var i=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var c=e.getX(s),l=e.getY(s);if(c!==i==(l!==a))return!1;i=c,a=l}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,n=this._shell,i=r._shell;if(!n.equalsExact(i,t))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],t))return!1;return!0}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var e=0;e<this._holes.length;e++)this._holes[e]=this.normalized(this._holes[e],!1);Ie.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];if(t.isEmpty())return null;var n=t.getCoordinateSequence(),o=Oe.minCoordinateIndex(n,0,n.size()-2);Oe.scroll(n,o,!0),le.isCCW(n)===r&&Oe.reverse(n)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var e=this.getExteriorRing().reverse(),t=new Array(this.getNumInteriorRing()).fill(null),r=0;r<t.length;r++)t[r]=this.getInteriorRingN(r).reverse();return this.getFactory().createPolygon(e,t)}},{key:"getTypeCode",value:function(){return q.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(e,t){var r=e.copy();return this.normalize(r,t),r}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=this._shell,r=e._shell;return t.compareToSameClass(r)}if(2===arguments.length){var n=arguments[1],o=arguments[0],i=this._shell,a=o._shell,s=i.compareToSameClass(a,n);if(0!==s)return s;for(var c=this.getNumInteriorRing(),l=o.getNumInteriorRing(),u=0;u<c&&u<l;){var f=this.getInteriorRingN(u),p=o.getInteriorRingN(u),d=f.compareToSameClass(p,n);if(0!==d)return d;u++}return u<c?1:u<l?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],_e)){var e=arguments[0];this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(re(arguments[0],Ee)){var r=arguments[0];if(this._shell.apply(r),!r.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(r),!r.isDone());n++);r.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Se))arguments[0].filter(this);else if(re(arguments[0],b)){var o=arguments[0];o.filter(this),this._shell.apply(o);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(o)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}},{key:"getGeometryType",value:function(){return q.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(e){return this._holes[e]}},{key:"interfaces_",get:function(){return[Fe]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var e=arguments[0],t=arguments[1],r=arguments[2];if(q.constructor_.call(this,r),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),q.hasNullElements(t))throw new v("holes must not contain null elements");if(e.isEmpty()&&q.hasNonEmptyElements(t))throw new v("shell is empty but holes are not");this._shell=e,this._holes=t}}]),a}(q),Le=function(t){n(o,t);var r=u(o);function o(){return e(this,o),r.apply(this,arguments)}return o}(Y),Re=function(t){n(i,t);var o=u(i);function i(t){var r;return e(this,i),(r=o.call(this)).array=[],t instanceof H&&r.addAll(t),r}return r(i,[{key:"contains",value:function(e){var t,r=g(this.array);try{for(r.s();!(t=r.n()).done;)if(0===t.value.compareTo(e))return!0}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"add",value:function(e){if(this.contains(e))return!1;for(var t=0,r=this.array.length;t<r;t++)if(1===this.array[t].compareTo(e))return!!this.array.splice(t,0,e);return this.array.push(e),!0}},{key:"addAll",value:function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.add(n)}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"remove",value:function(){throw new J}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new De(this.array)}}]),i}(Le),De=function(){function t(r){e(this,t),this.array=r,this.position=0}return r(t,[{key:"next",value:function(){if(this.position===this.array.length)throw new W;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new J}}]),t}(),Be=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"computeEnvelopeInternal",value:function(){for(var e=new V,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}},{key:"getGeometryN",value:function(e){return this._geometries[e]}},{key:"getCoordinates",value:function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,r=0;r<this._geometries.length;r++)for(var n=this._geometries[r].getCoordinates(),o=0;o<n.length;o++)e[++t]=n[o];return e}},{key:"getArea",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}},{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var n=0;n<this._geometries.length;n++)if(!this._geometries[n].equalsExact(r._geometries[n],t))return!1;return!0}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Ie.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var e=Ce.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e}},{key:"reverseInternal",value:function(){for(var e=this._geometries.length,t=new de(e),r=0;r<e;r++)t.add(this._geometries[r].reverse());return this.getFactory().buildGeometry(t)}},{key:"getTypeCode",value:function(){return q.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var e=Ce.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e}},{key:"getLength",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=new Re(Ie.asList(this._geometries)),r=new Re(Ie.asList(e._geometries));return this.compare(t,r)}if(2===arguments.length){for(var n=arguments[1],o=arguments[0],i=this.getNumGeometries(),a=o.getNumGeometries(),s=0;s<i&&s<a;){var c=this.getGeometryN(s),l=o.getGeometryN(s),u=c.compareToSameClass(l,n);if(0!==u)return u;s++}return s<i?1:s<a?-1:0}}},{key:"apply",value:function(){if(re(arguments[0],_e))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(re(arguments[0],Ee)){var r=arguments[0];if(0===this._geometries.length)return null;for(var n=0;n<this._geometries.length&&(this._geometries[n].apply(r),!r.isDone());n++);r.isGeometryChanged()&&this.geometryChanged()}else if(re(arguments[0],Se)){var o=arguments[0];o.filter(this);for(var i=0;i<this._geometries.length;i++)this._geometries[i].apply(o)}else if(re(arguments[0],b)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}}},{key:"getBoundary",value:function(){return q.checkNotGeometryCollection(this),R.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return q.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];if(q.constructor_.call(this,t),null===e&&(e=[]),q.hasNullElements(e))throw new v("geometries must not contain null elements");this._geometries=e}}}]),a}(q),Ne=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&f(o(a.prototype),"equalsExact",this).call(this,e,t)}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var e=arguments[0];return this._geometries[e].getCoordinate()}return f(o(a.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Ce.FALSE}},{key:"getTypeCode",value:function(){return q.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return q.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[je]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}]),a}(Be),ze=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Ce.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||f(o(a.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Oe.reverse(e),this.getFactory().createLinearRing(e)}},{key:"getTypeCode",value:function(){return q.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!f(o(a.prototype),"isClosed",this).call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return q.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Me.constructor_.call(this,e,t),this.validateConstruction()}}]),a}(Me);ze.MINIMUM_VALID_SIZE=4;var Ge=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"setOrdinate",value:function(e,t){switch(e){case i.X:this.x=t;break;case i.Y:this.y=t;break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"getZ",value:function(){return z.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case i.X:return this.x;case i.Y:return this.y}throw new v("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new v("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)z.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof i){var e=arguments[0];z.constructor_.call(this,e.x,e.y)}else if(arguments[0]instanceof z){var t=arguments[0];z.constructor_.call(this,t.x,t.y)}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];z.constructor_.call(this,r,n,z.NULL_ORDINATE)}}}]),i}(z);Ge.X=0,Ge.Y=1,Ge.Z=-1,Ge.M=-1;var Ve=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case i.X:this.x=t;break;case i.Y:this.y=t;break;case i.M:this._m=t;break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getZ",value:function(){return z.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case i.X:return this.x;case i.Y:return this.y;case i.M:return this._m}throw new v("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new v("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)z.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var e=arguments[0];z.constructor_.call(this,e.x,e.y),this._m=e._m}else if(arguments[0]instanceof z){var t=arguments[0];z.constructor_.call(this,t.x,t.y),this._m=this.getM()}}else if(3===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2];z.constructor_.call(this,r,n,z.NULL_ORDINATE),this._m=o}}}]),i}(z);Ve.X=0,Ve.Y=1,Ve.Z=-1,Ve.M=2;var qe=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case z.X:this.x=t;break;case z.Y:this.y=t;break;case z.Z:this.z=t;break;case z.M:this._m=t;break;default:throw new v("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getOrdinate",value:function(e){switch(e){case z.X:return this.x;case z.Y:return this.y;case z.Z:return this.getZ();case z.M:return this.getM()}throw new v("Invalid ordinate index: "+e)}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)z.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var e=arguments[0];z.constructor_.call(this,e),this._m=e._m}else if(arguments[0]instanceof z){var t=arguments[0];z.constructor_.call(this,t),this._m=this.getM()}}else if(4===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2],a=arguments[3];z.constructor_.call(this,r,n,o),this._m=a}}}]),i}(z),Ue=function(){function t(){e(this,t)}return r(t,null,[{key:"measures",value:function(e){return e instanceof Ge?0:e instanceof Ve||e instanceof qe?1:0}},{key:"dimension",value:function(e){return e instanceof Ge?2:e instanceof Ve?3:e instanceof qe?4:3}},{key:"create",value:function(){if(1===arguments.length){var e=arguments[0];return t.create(e,0)}if(2===arguments.length){var r=arguments[0],n=arguments[1];return 2===r?new Ge:3===r&&0===n?new z:3===r&&1===n?new Ve:4===r&&1===n?new qe:new z}}}]),t}(),He=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"getCoordinate",value:function(e){return this.get(e)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&re(arguments[0],H)){for(var e=arguments[1],t=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),t=!0;return t}return f(o(a.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var e=f(o(a.prototype),"clone",this).call(this),t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(a.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(a.coordArrayType);for(var e=this.size(),t=new Array(e).fill(null),r=0;r<e;r++)t[r]=this.get(e-r-1);return t}}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];return f(o(a.prototype),"add",this).call(this,e)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var t=arguments[0],r=arguments[1];return this.add(t,r,!0),!0}if(arguments[0]instanceof z&&"boolean"==typeof arguments[1]){var n=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(n))return null;f(o(a.prototype),"add",this).call(this,n)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var i=arguments[0],s=arguments[1];return this.add(i,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var c=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<c.length;u++)this.add(c[u],l);else for(var p=c.length-1;p>=0;p--)this.add(c[p],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof z){var d=arguments[0],h=arguments[1];if(!arguments[2]){var g=this.size();if(g>0){if(d>0&&this.get(d-1).equals2D(h))return null;if(d<g&&this.get(d).equals2D(h))return null}}f(o(a.prototype),"add",this).call(this,d,h)}}else if(4===arguments.length){var y=arguments[0],m=arguments[1],v=arguments[2],b=arguments[3],w=1;v>b&&(w=-1);for(var _=v;_!==b;_+=w)this.add(y[_],m);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var e=this.get(0).copy();this.add(e,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];this.ensureCapacity(t.length),this.add(t,r)}}}]),a}(de);He.coordArrayType=new Array(0).fill(null);var We=function(){function t(){e(this,t)}return r(t,null,[{key:"isRing",value:function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))}},{key:"ptNotInList",value:function(e,r){for(var n=0;n<e.length;n++){var o=e[n];if(t.indexOf(o,r)<0)return o}return null}},{key:"scroll",value:function(e,r){var n=t.indexOf(r,e);if(n<0)return null;var o=new Array(e.length).fill(null);me.arraycopy(e,n,o,0,e.length-n),me.arraycopy(e,0,o,e.length-n,n),me.arraycopy(o,0,e,0,e.length)}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].equals(t[r]))return!1;return!0}if(3===arguments.length){var n=arguments[0],o=arguments[1],i=arguments[2];if(n===o)return!0;if(null===n||null===o)return!1;if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(0!==i.compare(n[a],o[a]))return!1;return!0}}},{key:"intersection",value:function(e,t){for(var r=new He,n=0;n<e.length;n++)t.intersects(e[n])&&r.add(e[n],!0);return r.toCoordinateArray()}},{key:"measures",value:function(e){if(null===e||0===e.length)return 0;var t,r=0,n=g(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r=Math.max(r,Ue.measures(o))}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"hasRepeatedPoints",value:function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return t.hasRepeatedPoints(e)?new He(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(e){for(var t=e.length-1,r=Math.trunc(t/2),n=0;n<=r;n++){var o=e[n];e[n]=e[t-n],e[t-n]=o}}},{key:"removeNull",value:function(e){for(var t=0,r=0;r<e.length;r++)null!==e[r]&&t++;var n=new Array(t).fill(null);if(0===t)return n;for(var o=0,i=0;i<e.length;i++)null!==e[i]&&(n[o++]=e[i]);return n}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),r=0;r<e.length;r++)t[r]=e[r].copy();return t}if(5===arguments.length)for(var n=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=arguments[4],c=0;c<s;c++)i[a+c]=n[o+c].copy()}},{key:"isEqualReversed",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=t[e.length-r-1];if(0!==n.compareTo(o))return!1}return!0}},{key:"envelope",value:function(e){for(var t=new V,r=0;r<e.length;r++)t.expandToInclude(e[r]);return t}},{key:"toCoordinateArray",value:function(e){return e.toArray(t.coordArrayType)}},{key:"dimension",value:function(e){if(null===e||0===e.length)return 3;var t,r=0,n=g(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r=Math.max(r,Ue.dimension(o))}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"atLeastNCoordinatesOrNothing",value:function(e,t){return t.length>=e?t:[]}},{key:"indexOf",value:function(e,t){for(var r=0;r<t.length;r++)if(e.equals(t[r]))return r;return-1}},{key:"increasingDirection",value:function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var r=e.length-1-t,n=e[t].compareTo(e[r]);if(0!==n)return n}return 1}},{key:"compare",value:function(e,t){for(var r=0;r<e.length&&r<t.length;){var n=e[r].compareTo(t[r]);if(0!==n)return n;r++}return r<t.length?-1:r<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var t=null,r=0;r<e.length;r++)(null===t||t.compareTo(e[r])>0)&&(t=e[r]);return t}},{key:"extract",value:function(e,t,r){t=ve.clamp(t,0,e.length);var n=(r=ve.clamp(r,-1,e.length))-t+1;r<0&&(n=0),t>=e.length&&(n=0),r<t&&(n=0);var o=new Array(n).fill(null);if(0===n)return o;for(var i=0,a=t;a<=r;a++)o[i++]=e[a];return o}}]),t}(),Je=function(){function t(){e(this,t)}return r(t,[{key:"compare",value:function(e,t){var r=e,n=t;return We.compare(r,n)}},{key:"interfaces_",get:function(){return[F]}}]),t}(),Ye=function(){function t(){e(this,t)}return r(t,[{key:"compare",value:function(e,t){var r=e,n=t;if(r.length<n.length)return-1;if(r.length>n.length)return 1;if(0===r.length)return 0;var o=We.compare(r,n);return We.isEqualReversed(r,n)?0:o}},{key:"OLDcompare",value:function(e,t){var r=e,n=t;if(r.length<n.length)return-1;if(r.length>n.length)return 1;if(0===r.length)return 0;for(var o=We.increasingDirection(r),i=We.increasingDirection(n),a=o>0?0:r.length-1,s=i>0?0:r.length-1,c=0;c<r.length;c++){var l=r[a].compareTo(n[s]);if(0!==l)return l;a+=o,s+=i}return 0}},{key:"interfaces_",get:function(){return[F]}}]),t}();We.ForwardComparator=Je,We.BidirectionalComparator=Ye,We.coordArrayType=new Array(0).fill(null);var Xe=function(){function t(r){e(this,t),this.str=r}return r(t,[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),t}(),Ze=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():I.NaN}},{key:"setOrdinate",value:function(e,t,r){switch(t){case ce.X:this._coordinates[e].x=r;break;case ce.Y:this._coordinates[e].y=r;break;default:this._coordinates[e].setOrdinate(t,r)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():I.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,t){switch(t){case ce.X:return this._coordinates[e].x;case ce.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(t)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0];arguments[1].setCoordinate(this._coordinates[t])}}},{key:"getCoordinateCopy",value:function(e){var t=this.createCoordinate();return t.setCoordinate(this._coordinates[e]),t}},{key:"createCoordinate",value:function(){return Ue.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++){var n=this.createCoordinate();n.setCoordinate(this._coordinates[r]),e[r]=n}return new t(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new Xe(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ce,P]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];t.constructor_.call(this,e,We.dimension(e),We.measures(e))}else if(Number.isInteger(arguments[0])){var r=arguments[0];this._coordinates=new Array(r).fill(null);for(var n=0;n<r;n++)this._coordinates[n]=new z}else if(re(arguments[0],ce)){var o=arguments[0];if(null===o)return this._coordinates=new Array(0).fill(null),null;this._dimension=o.getDimension(),this._measures=o.getMeasures(),this._coordinates=new Array(o.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=o.getCoordinateCopy(i)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];t.constructor_.call(this,a,s,We.measures(a))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var c=arguments[0],l=arguments[1];this._coordinates=new Array(c).fill(null),this._dimension=l;for(var u=0;u<c;u++)this._coordinates[u]=Ue.create(l)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var f=arguments[0],p=arguments[1],d=arguments[2];this._dimension=p,this._measures=d,this._coordinates=null===f?new Array(0).fill(null):f}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1],y=arguments[2];this._coordinates=new Array(h).fill(null),this._dimension=g,this._measures=y;for(var m=0;m<h;m++)this._coordinates[m]=this.createCoordinate()}}}]),t}(),$e=function(){function t(){e(this,t)}return r(t,[{key:"readResolve",value:function(){return t.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Ze(arguments[0]);if(re(arguments[0],ce))return new Ze(arguments[0])}else{if(2===arguments.length){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Ze(arguments[0],e)}if(3===arguments.length){var t=arguments[2],r=arguments[1]-t;return t>1&&(t=1),r>3&&(r=3),r<2&&(r=2),new Ze(arguments[0],r+t,t)}}}},{key:"interfaces_",get:function(){return[we,P]}}],[{key:"instance",value:function(){return t.instanceObject}}]),t}();$e.instanceObject=new $e;var Ke=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&f(o(a.prototype),"equalsExact",this).call(this,e,t)}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return q.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new de,t=0;t<this._geometries.length;t++)for(var r=this._geometries[t].getBoundary(),n=0;n<r.getNumGeometries();n++)e.add(r.getGeometryN(n));var o=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(o))}},{key:"getGeometryType",value:function(){return q.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Fe]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}]),a}(Be),Qe=function(){function t(){e(this,t)}return r(t,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),t}(),et=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),(t=o.call(this)).map=new Map,t}return r(i,[{key:"get",value:function(e){return this.map.get(e)||null}},{key:"put",value:function(e,t){return this.map.set(e,t),t}},{key:"values",value:function(){for(var e=new de,t=this.map.values(),r=t.next();!r.done;)e.add(r.value),r=t.next();return e}},{key:"entrySet",value:function(){var e=new X;return this.map.entries().forEach((function(t){return e.add(t)})),e}},{key:"size",value:function(){return this.map.size()}}]),i}(Qe),tt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=e;return this._modelType===r._modelType&&this._scale===r._scale}},{key:"compareTo",value:function(e){var t=e,r=this.getMaximumSignificantDigits(),n=t.getMaximumSignificantDigits();return oe.compare(r,n)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===t.FLOATING||this._modelType===t.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===t.FLOATING?e="Floating":this._modelType===t.FLOATING_SINGLE?e="Floating-Single":this._modelType===t.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var e=arguments[0];return I.isNaN(e)||this._modelType===t.FLOATING_SINGLE?e:this._modelType===t.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof z){var r=arguments[0];if(this._modelType===t.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===t.FLOATING?e=16:this._modelType===t.FLOATING_SINGLE?e=6:this._modelType===t.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[P,w]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof rt){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var r=arguments[0];this._modelType=t.FIXED,this.setScale(r)}else if(arguments[0]instanceof t){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}},{key:"mostPrecise",value:function(e,t){return e.compareTo(t)>=0?e:t}}]),t}(),rt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"readResolve",value:function(){return t.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[P]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,t.nameToTypeMap.put(e,this)}}]),t}();rt.nameToTypeMap=new et,tt.Type=rt,tt.FIXED=new rt("FIXED"),tt.FLOATING=new rt("FLOATING"),tt.FLOATING_SINGLE=new rt("FLOATING SINGLE"),tt.maximumPreciseValue=9007199254740992;var nt=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof q){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&f(o(a.prototype),"equalsExact",this).call(this,e,t)}return f(o(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ce.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return q.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new J}},{key:"getGeometryType",value:function(){return q.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[xe]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}]),a}(Be),ot=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new v("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new z(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new z(e.getMinX(),e.getMinY()),new z(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new z(e.getMinX(),e.getMinY()),new z(e.getMinX(),e.getMaxY()),new z(e.getMaxX(),e.getMaxY()),new z(e.getMaxX(),e.getMinY()),new z(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new Me(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new nt(null,this):1===arguments.length?new nt(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var r=null,n=!1,o=!1,i=e.iterator();i.hasNext();){var a=i.next(),s=a.getTypeCode();null===r&&(r=s),s!==r&&(n=!0),a instanceof Be&&(o=!0)}if(null===r)return this.createGeometryCollection();if(n||o)return this.createGeometryCollection(t.toGeometryArray(e));var c=e.iterator().next();if(e.size()>1){if(c instanceof Ae)return this.createMultiPolygon(t.toPolygonArray(e));if(c instanceof Me)return this.createMultiLineString(t.toLineStringArray(e));if(c instanceof ke)return this.createMultiPoint(t.toPointArray(e));R.shouldNeverReachHere("Unhandled geometry type: "+c.getGeometryType())}return c}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof z){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(re(arguments[0],ce))return new ke(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(re(arguments[0],ce)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof ze){var r=arguments[0];return this.createPolygon(r,null)}}else if(2===arguments.length)return new Ae(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new Be(null,this):1===arguments.length?new Be(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(re(arguments[0],ce))return new ze(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new Ke(null,this):1===arguments.length?new Ke(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new Ne(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ne(arguments[0],this);if(re(arguments[0],ce)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var t=new Array(e.size()).fill(null),r=0;r<e.size();r++){var n=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());Oe.copy(e,r,n,0,1),t[r]=this.createPoint(n)}return this.createMultiPoint(t)}}}},{key:"interfaces_",get:function(){return[P]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)t.constructor_.call(this,new tt,0);else if(1===arguments.length){if(re(arguments[0],we)){var e=arguments[0];t.constructor_.call(this,new tt,0,e)}else if(arguments[0]instanceof tt){var r=arguments[0];t.constructor_.call(this,r,0,t.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];t.constructor_.call(this,n,o,t.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this._precisionModel=i,this._coordinateSequenceFactory=s,this._SRID=a}}},{key:"toMultiPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toGeometryArray",value:function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return $e.instance()}},{key:"toMultiLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toMultiPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLinearRingArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"createPointFromInternalCoord",value:function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}}]),t}(),it="XY",at={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},st="EMPTY",ct={};for(var lt in at)ct[lt]=at[lt].toUpperCase();var ut=function(){function t(r){e(this,t),this.wkt=r,this.index_=-1}return r(t,[{key:"isAlpha_",value:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}},{key:"isNumeric_",value:function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)}},{key:"isWhiteSpace_",value:function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var e,t=this.nextChar_(),r=this.index_,n=t;if("("==t)e=2;else if(","==t)e=5;else if(")"==t)e=3;else if(this.isNumeric_(t)||"-"==t)e=4,n=this.readNumber_();else if(this.isAlpha_(t))e=1,n=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=6}return{position:r,value:n,type:e}}},{key:"readNumber_",value:function(){var e,t=this.index_,r=!1,n=!1;do{"."==e?r=!0:"e"!=e&&"E"!=e||(n=!0),e=this.nextChar_()}while(this.isNumeric_(e,r)||!n&&("e"==e||"E"==e)||n&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))}},{key:"readText_",value:function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}}]),t}(),ft=function(){function t(r,n){e(this,t),this.lexer_=r,this.token_,this.layout_=it,this.factory=n}return r(t,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(e){return this.token_.type==e}},{key:"match",value:function(e){var t=this.isTokenType(e);return t&&this.consume_(),t}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var e=it,t=this.token_;if(this.isTokenType(1)){var r=t.value;"Z"===r?e="XYZ":"M"===r?e="XYM":"ZM"===r&&(e="XYZM"),e!==it&&this.consume_()}return e}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(2)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(5));if(this.match(3))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(2)){var e=this.parsePoint_();if(this.match(3))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(2)){var e=this.parsePointList_();if(this.match(3))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(2)){var e=this.parseLineStringTextList_();if(this.match(3))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var e;if(this.match(2)){if(e=2==this.token_.type?this.parsePointTextList_():this.parsePointList_(),this.match(3))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(2)){var e=this.parseLineStringTextList_();if(this.match(3))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(2)){var e=this.parsePolygonTextList_();if(this.match(3))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var e=[],t=this.layout_.length,r=0;r<t;++r){var n=this.token_;if(!this.match(4))break;e.push(n.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var e=[this.parsePoint_()];this.match(5);)e.push(this.parsePoint_());return e}},{key:"parsePointTextList_",value:function(){for(var e=[this.parsePointText_()];this.match(5);)e.push(this.parsePointText_());return e}},{key:"parseLineStringTextList_",value:function(){for(var e=[this.parseLineStringText_()];this.match(5);)e.push(this.parseLineStringText_());return e}},{key:"parsePolygonTextList_",value:function(){for(var e=[this.parsePolygonText_()];this.match(5);)e.push(this.parsePolygonText_());return e}},{key:"isEmptyGeometry_",value:function(){var e=this.isTokenType(1)&&this.token_.value==st;return e&&this.consume_(),e}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var e=this.factory,t=function(e){return s(z,p(e))},r=function(r){var n=r.map((function(r){return e.createLinearRing(r.map(t))}));return n.length>1?e.createPolygon(n[0],n.slice(1)):e.createPolygon(n[0])},n=this.token_;if(this.match(1)){var o=n.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==o){var i=this.parseGeometryCollectionText_();return e.createGeometryCollection(i)}switch(o){case"POINT":var a=this.parsePointText_();return a?e.createPoint(s(z,p(a))):e.createPoint();case"LINESTRING":var c=this.parseLineStringText_().map(t);return e.createLineString(c);case"LINEARRING":var l=this.parseLineStringText_().map(t);return e.createLinearRing(l);case"POLYGON":var u=this.parsePolygonText_();return u&&0!==u.length?r(u):e.createPolygon();case"MULTIPOINT":var f=this.parseMultiPointText_();if(!f||0===f.length)return e.createMultiPoint();var d=f.map(t).map((function(t){return e.createPoint(t)}));return e.createMultiPoint(d);case"MULTILINESTRING":var h=this.parseMultiLineStringText_().map((function(r){return e.createLineString(r.map(t))}));return e.createMultiLineString(h);case"MULTIPOLYGON":var g=this.parseMultiPolygonText_();if(!g||0===g.length)return e.createMultiPolygon();var y=g.map(r);return e.createMultiPolygon(y);default:throw new Error("Invalid geometry type: "+o)}}throw new Error(this.formatErrorMessage_())}}]),t}();function pt(e){if(e.isEmpty())return"";var t=e.getCoordinate(),r=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||r.push(t.z),void 0===t.m||Number.isNaN(t.m)||r.push(t.m),r.join(" ")}function dt(e){for(var t=e.getCoordinates().map((function(e){var t=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||t.push(e.z),void 0===e.m||Number.isNaN(e.m)||t.push(e.m),t})),r=[],n=0,o=t.length;n<o;++n)r.push(t[n].join(" "));return r.join(", ")}function ht(e){var t=[];t.push("("+dt(e.getExteriorRing())+")");for(var r=0,n=e.getNumInteriorRing();r<n;++r)t.push("("+dt(e.getInteriorRingN(r))+")");return t.join(", ")}var gt={Point:pt,LineString:dt,LinearRing:dt,Polygon:ht,MultiPoint:function(e){for(var t=[],r=0,n=e.getNumGeometries();r<n;++r)t.push("("+pt(e.getGeometryN(r))+")");return t.join(", ")},MultiLineString:function(e){for(var t=[],r=0,n=e.getNumGeometries();r<n;++r)t.push("("+dt(e.getGeometryN(r))+")");return t.join(", ")},MultiPolygon:function(e){for(var t=[],r=0,n=e.getNumGeometries();r<n;++r)t.push("("+ht(e.getGeometryN(r))+")");return t.join(", ")},GeometryCollection:function(e){for(var t=[],r=0,n=e.getNumGeometries();r<n;++r)t.push(yt(e.getGeometryN(r)));return t.join(", ")}};function yt(e){var t=e.getGeometryType(),r=gt[t];t=t.toUpperCase();var n=function(e){var t="";if(e.isEmpty())return t;var r=e.getCoordinate();return void 0===r.z||Number.isNaN(r.z)||(t+="Z"),void 0===r.m||Number.isNaN(r.m)||(t+="M"),t}(e);return n.length>0&&(t+=" "+n),e.isEmpty()?t+" "+st:t+" ("+r(e)+")"}var mt=function(){function t(r){e(this,t),this.geometryFactory=r||new ot,this.precisionModel=this.geometryFactory.getPrecisionModel()}return r(t,[{key:"read",value:function(e){var t=new ut(e);return new ft(t,this.geometryFactory).parse()}},{key:"write",value:function(e){return yt(e)}}]),t}(),vt=function(){function t(r){e(this,t),this.parser=new mt(r)}return r(t,[{key:"write",value:function(e){return this.parser.write(e)}}],[{key:"toLineString",value:function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"}}]),t}(),bt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getIndexAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}},{key:"getTopologySummary",value:function(){var e=new Xe;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,t,r,n){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=r,this._inputLines[1][1]=n,this._result=this.computeIntersect(e,t,r,n)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==t.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,r){return t.computeEdgeDistance(this._intPt[r],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===t.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return vt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+vt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,t){return this._inputLines[e][t]}},{key:"isIntersection",value:function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new z,this._intPt[1]=new z,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,t,r){var n=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),i=-1;if(e.equals(t))i=0;else if(e.equals(r))i=n>o?n:o;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(i=n>o?a:s)||e.equals(t)||(i=Math.max(a,s))}return R.isTrue(!(0===i&&!e.equals(t)),"Bad distance calculation"),i}},{key:"nonRobustComputeEdgeDistance",value:function(e,t,r){var n=e.x-t.x,o=e.y-t.y,i=Math.sqrt(n*n+o*o);return R.isTrue(!(0===i&&!e.equals(t)),"Invalid distance calculation"),i}}]),t}();bt.DONT_INTERSECT=0,bt.DO_INTERSECT=1,bt.COLLINEAR=2,bt.NO_INTERSECTION=0,bt.POINT_INTERSECTION=1,bt.COLLINEAR_INTERSECTION=2;var wt=function(t){n(a,t);var i=u(a);function a(){return e(this,a),i.call(this)}return r(a,[{key:"isInSegmentEnvelopes",value:function(e){var t=new V(this._inputLines[0][0],this._inputLines[0][1]),r=new V(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&r.contains(e)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return f(o(a.prototype),"computeIntersection",this).apply(this,arguments);var e=arguments[0],t=arguments[1],r=arguments[2];if(this._isProper=!1,V.intersects(t,r,e)&&0===le.index(t,r,e)&&0===le.index(r,t,e))return this._isProper=!0,(e.equals(t)||e.equals(r))&&(this._isProper=!1),this._result=bt.POINT_INTERSECTION,null;this._result=bt.NO_INTERSECTION}},{key:"intersection",value:function(e,t,r,n){var o=this.intersectionSafe(e,t,r,n);return this.isInSegmentEnvelopes(o)||(o=new z(a.nearestEndpoint(e,t,r,n))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o}},{key:"checkDD",value:function(e,t,r,n,o){var i=se.intersection(e,t,r,n),a=this.isInSegmentEnvelopes(i);me.out.println("DD in env = "+a+"  --------------------- "+i),o.distance(i)>1e-4&&me.out.println("Distance = "+o.distance(i))}},{key:"intersectionSafe",value:function(e,t,r,n){var o=ye.intersection(e,t,r,n);return null===o&&(o=a.nearestEndpoint(e,t,r,n)),o}},{key:"computeCollinearIntersection",value:function(e,t,r,n){var o=V.intersects(e,t,r),i=V.intersects(e,t,n),a=V.intersects(r,n,e),s=V.intersects(r,n,t);return o&&i?(this._intPt[0]=r,this._intPt[1]=n,bt.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=e,this._intPt[1]=t,bt.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||i||s?bt.COLLINEAR_INTERSECTION:bt.POINT_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||i||a?bt.COLLINEAR_INTERSECTION:bt.POINT_INTERSECTION):i&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?bt.COLLINEAR_INTERSECTION:bt.POINT_INTERSECTION):i&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?bt.COLLINEAR_INTERSECTION:bt.POINT_INTERSECTION):bt.NO_INTERSECTION}},{key:"computeIntersect",value:function(e,t,r,n){if(this._isProper=!1,!V.intersects(e,t,r,n))return bt.NO_INTERSECTION;var o=le.index(e,t,r),i=le.index(e,t,n);if(o>0&&i>0||o<0&&i<0)return bt.NO_INTERSECTION;var a=le.index(r,n,e),s=le.index(r,n,t);return a>0&&s>0||a<0&&s<0?bt.NO_INTERSECTION:0===o&&0===i&&0===a&&0===s?this.computeCollinearIntersection(e,t,r,n):(0===o||0===i||0===a||0===s?(this._isProper=!1,e.equals2D(r)||e.equals2D(n)?this._intPt[0]=e:t.equals2D(r)||t.equals2D(n)?this._intPt[0]=t:0===o?this._intPt[0]=new z(r):0===i?this._intPt[0]=new z(n):0===a?this._intPt[0]=new z(e):0===s&&(this._intPt[0]=new z(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,r,n)),bt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(e,t,r,n){var o=e,i=be.pointToSegment(e,r,n),a=be.pointToSegment(t,r,n);return a<i&&(i=a,o=t),(a=be.pointToSegment(r,e,t))<i&&(i=a,o=r),(a=be.pointToSegment(n,e,t))<i&&(i=a,o=n),o}}]),a}(bt),_t=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"countSegment",value:function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var r=e.x,n=t.x;return r>n&&(r=t.x,n=e.x),this._p.x>=r&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var o=le.index(e,t,this._p);if(o===le.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(o=-o),o===le.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==U.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?U.BOUNDARY:this._crossingCount%2==1?U.INTERIOR:U.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof z&&re(arguments[1],ce)){for(var e=arguments[1],r=new t(arguments[0]),n=new z,o=new z,i=1;i<e.size();i++)if(e.getCoordinate(i,n),e.getCoordinate(i-1,o),r.countSegment(n,o),r.isOnSegment())return r.getLocation();return r.getLocation()}if(arguments[0]instanceof z&&arguments[1]instanceof Array){for(var a=arguments[1],s=new t(arguments[0]),c=1;c<a.length;c++){var l=a[c],u=a[c-1];if(s.countSegment(l,u),s.isOnSegment())return s.getLocation()}return s.getLocation()}}}]),t}(),Pt=function(){function t(){e(this,t)}return r(t,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof z&&re(arguments[1],ce)){for(var e=arguments[0],t=arguments[1],r=new wt,n=new z,o=new z,i=t.size(),a=1;a<i;a++)if(t.getCoordinate(a-1,n),t.getCoordinate(a,o),r.computeIntersection(e,n,o),r.hasIntersection())return!0;return!1}if(arguments[0]instanceof z&&arguments[1]instanceof Array){for(var s=arguments[0],c=arguments[1],l=new wt,u=1;u<c.length;u++){var f=c[u-1],p=c[u];if(l.computeIntersection(s,f,p),l.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,t){return _t.locatePointInRing(e,t)}},{key:"isInRing",value:function(e,r){return t.locateInRing(e,r)!==U.EXTERIOR}}]),t}(),xt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"setAllLocations",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==U.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]===U.NONE&&(this.location[t]=e)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[$.ON]=this.location[$.ON],t[$.LEFT]=U.NONE,t[$.RIGHT]=U.NONE,this.location=t}for(var r=0;r<this.location.length;r++)this.location[r]===U.NONE&&r<e.location.length&&(this.location[r]=e.location[r])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[$.LEFT];this.location[$.LEFT]=this.location[$.RIGHT],this.location[$.RIGHT]=e}},{key:"toString",value:function(){var e=new ne;return this.location.length>1&&e.append(U.toLocationSymbol(this.location[$.LEFT])),e.append(U.toLocationSymbol(this.location[$.ON])),this.location.length>1&&e.append(U.toLocationSymbol(this.location[$.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,t,r){this.location[$.ON]=e,this.location[$.LEFT]=t,this.location[$.RIGHT]=r}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:U.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===U.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var e=arguments[0];this.setLocation($.ON,e)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];this.location[t]=r}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(U.NONE)}},{key:"isEqualOnSide",value:function(e,t){return this.location[t]===e.location[t]}},{key:"allPositionsEqual",value:function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[$.ON]=r}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var o=0;o<this.location.length;o++)this.location[o]=n.location[o]}}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[$.ON]=i,this.location[$.LEFT]=a,this.location[$.RIGHT]=s}}}]),t}(),Ot=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,t){this.elt[e].setAllLocations(t)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];this.elt[t].setAllLocationsIfNull(r)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new xt(e.elt[t]):this.elt[t].merge(e.elt[t])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get($.ON)}if(2===arguments.length){var t=arguments[0],r=arguments[1];return this.elt[t].get(r)}}},{key:"toString",value:function(){var e=new ne;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation($.ON,t)}else if(3===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2];this.elt[r].setLocation(n,o)}}},{key:"isEqualOnSide",value:function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}},{key:"allPositionsEqual",value:function(e,t){return this.elt[e].allPositionsEqual(t)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new xt(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new xt(e),this.elt[1]=new xt(e)}else if(arguments[0]instanceof t){var r=arguments[0];this.elt[0]=new xt(r.elt[0]),this.elt[1]=new xt(r.elt[1])}}else if(2===arguments.length){var n=arguments[0],o=arguments[1];this.elt[0]=new xt(U.NONE),this.elt[1]=new xt(U.NONE),this.elt[n].setLocation(o)}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new xt(i,a,s),this.elt[1]=new xt(i,a,s)}else if(4===arguments.length){var c=arguments[0],l=arguments[1],u=arguments[2],f=arguments[3];this.elt[0]=new xt(U.NONE,U.NONE,U.NONE),this.elt[1]=new xt(U.NONE,U.NONE,U.NONE),this.elt[c].setLocations(l,u,f)}}},{key:"toLineLabel",value:function(e){for(var r=new t(U.NONE),n=0;n<2;n++)r.setLocation(n,e.getLocation(n));return r}}]),t}(),Ct=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=le.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(e){this._startDe=e;var t=e,r=!0;do{if(null===t)throw new fe("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new fe("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var n=t.getLabel();R.isTrue(n.isArea()),this.mergeLabel(n),this.addPoints(t.getEdge(),t.isForward(),r),r=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(e){return this._pts.get(e)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(e,t,r){var n=e.getCoordinates();if(t){var o=1;r&&(o=0);for(var i=o;i<n.length;i++)this._pts.add(n[i])}else{var a=n.length-2;r&&(a=n.length-1);for(var s=a;s>=0;s--)this._pts.add(n[s])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)}},{key:"containsPoint",value:function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!Pt.isInRing(e,t.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();)if(r.next().containsPoint(e))return!1;return!0}},{key:"addHole",value:function(e){this._holes.add(e)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],r=arguments[0].getLocation(t,$.RIGHT);if(r===U.NONE)return null;if(this._label.getLocation(t)===U.NONE)return this._label.setLocation(t,r),null}}},{key:"setShell",value:function(e){this._shell=e,null!==e&&e.addHole(this)}},{key:"toPolygon",value:function(e){for(var t=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)t[r]=this._holes.get(r).getLinearRing();return e.createPolygon(this.getLinearRing(),t)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new de,this._pts=new de,this._label=new Ot(U.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new de,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}}]),t}(),St=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"setEdgeRing",value:function(e,t){e.setMinEdgeRing(t)}},{key:"getNext",value:function(e){return e.getNextMin()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Ct.constructor_.call(this,e,t)}}]),i}(Ct),Et=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"buildMinimalRings",value:function(){var e=new de,t=this._startDe;do{if(null===t.getMinEdgeRing()){var r=new St(t,this._geometryFactory);e.add(r)}t=t.getNext()}while(t!==this._startDe);return e}},{key:"setEdgeRing",value:function(e,t){e.setEdgeRing(t)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}},{key:"getNext",value:function(e){return e.getNext()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Ct.constructor_.call(this,e,t)}}]),i}(Ct),Mt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"setVisited",value:function(e){this._isVisited=e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(e){this._label=e}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(e){this._isCovered=e,this._isCoveredSet=!0}},{key:"updateIM",value:function(e){R.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}}}]),t}(),jt=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"isIncidentEdgeInResult",value:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(e){e.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(e){}},{key:"computeMergedLocation",value:function(e,t){var r=U.NONE;if(r=this._label.getLocation(t),!e.isNull(t)){var n=e.getLocation(t);r!==U.BOUNDARY&&(r=n)}return r}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return f(o(a.prototype),"setLabel",this).apply(this,arguments);var e=arguments[0],t=arguments[1];null===this._label?this._label=new Ot(e,t):this._label.setLocation(e,t)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof a){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Ot)for(var t=arguments[0],r=0;r<2;r++){var n=this.computeMergedLocation(t,r);this._label.getLocation(r)===U.NONE&&this._label.setLocation(r,n)}}},{key:"add",value:function(e){this._edges.insert(e),e.setNode(this)}},{key:"setLabelBoundary",value:function(e){if(null===this._label)return null;var t=U.NONE;null!==this._label&&(t=this._label.getLocation(e));var r=null;switch(t){case U.BOUNDARY:r=U.INTERIOR;break;case U.INTERIOR:default:r=U.BOUNDARY}this._label.setLocation(e,r)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new Ot(0,U.NONE)}}]),a}(Mt),kt=function(t){n(o,t);var r=u(o);function o(){return e(this,o),r.apply(this,arguments)}return o}(Qe);function Tt(e){return null==e?0:e.color}function It(e){return null==e?null:e.parent}function Ft(e,t){null!==e&&(e.color=t)}function At(e){return null==e?null:e.left}function Lt(e){return null==e?null:e.right}var Rt=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),(t=o.call(this)).root_=null,t.size_=0,t}return r(i,[{key:"get",value:function(e){for(var t=this.root_;null!==t;){var r=e.compareTo(t.key);if(r<0)t=t.left;else{if(!(r>0))return t.value;t=t.right}}return null}},{key:"put",value:function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var r,n,o=this.root_;do{if(r=o,(n=e.compareTo(o.key))<0)o=o.left;else{if(!(n>0)){var i=o.value;return o.value=t,i}o=o.right}}while(null!==o);var a={key:e,left:null,right:null,value:t,parent:r,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return n<0?r.left=a:r.right=a,this.fixAfterInsertion(a),this.size_++,null}},{key:"fixAfterInsertion",value:function(e){var t;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)It(e)===At(It(It(e)))?1===Tt(t=Lt(It(It(e))))?(Ft(It(e),0),Ft(t,0),Ft(It(It(e)),1),e=It(It(e))):(e===Lt(It(e))&&(e=It(e),this.rotateLeft(e)),Ft(It(e),0),Ft(It(It(e)),1),this.rotateRight(It(It(e)))):1===Tt(t=At(It(It(e))))?(Ft(It(e),0),Ft(t,0),Ft(It(It(e)),1),e=It(It(e))):(e===At(It(e))&&(e=It(e),this.rotateRight(e)),Ft(It(e),0),Ft(It(It(e)),1),this.rotateLeft(It(It(e))));this.root_.color=0}},{key:"values",value:function(){var e=new de,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=i.successor(t));)e.add(t.value);return e}},{key:"entrySet",value:function(){var e=new X,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=i.successor(t));)e.add(t);return e}},{key:"rotateLeft",value:function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}}},{key:"rotateRight",value:function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}}},{key:"getFirstEntry",value:function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(e){for(var t=this.root_;null!==t;){var r=e.compareTo(t.key);if(r<0)t=t.left;else{if(!(r>0))return!0;t=t.right}}return!1}}],[{key:"successor",value:function(e){var t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var r=e;null!==t&&r===t.right;)r=t,t=t.parent;return t}}]),i}(kt),Dt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"find",value:function(e){return this.nodeMap.get(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof z){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof jt){var r=arguments[0],n=this.nodeMap.get(r.getCoordinate());return null===n?(this.nodeMap.put(r.getCoordinate(),r),r):(n.mergeLabel(r),n)}}},{key:"print",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(e){for(var t=new de,r=this.iterator();r.hasNext();){var n=r.next();n.getLabel().getLocation(e)===U.BOUNDARY&&t.add(n)}return t}},{key:"add",value:function(e){var t=e.getCoordinate();this.addNode(t).add(e)}}],[{key:"constructor_",value:function(){this.nodeMap=new Rt,this.nodeFact=null;var e=arguments[0];this.nodeFact=e}}]),t}(),Bt=function(){function t(){e(this,t)}return r(t,null,[{key:"isNorthern",value:function(e){return e===t.NE||e===t.NW}},{key:"isOpposite",value:function(e,t){return e!==t&&2==(e-t+4)%4}},{key:"commonHalfPlane",value:function(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;var r=e<t?e:t;return 0===r&&3===(e>t?e:t)?3:r}},{key:"isInHalfPlane",value:function(e,r){return r===t.SE?e===t.SE||e===t.SW:e===r||e===r+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],r=arguments[1];if(0===e&&0===r)throw new v("Cannot compute the quadrant for point ( "+e+", "+r+" )");return e>=0?r>=0?t.NE:t.SE:r>=0?t.NW:t.SW}if(arguments[0]instanceof z&&arguments[1]instanceof z){var n=arguments[0],o=arguments[1];if(o.x===n.x&&o.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return o.x>=n.x?o.y>=n.y?t.NE:t.SE:o.y>=n.y?t.NW:t.SW}}}]),t}();Bt.NE=0,Bt.NW=1,Bt.SW=2,Bt.SE=3;var Nt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:le.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var t=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),n=r.lastIndexOf("."),o=r.substring(n+1);e.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)}},{key:"compareTo",value:function(e){var t=e;return this.compareDirection(t)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),r=t.lastIndexOf(".");return"  "+t.substring(r+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Bt.quadrant(this._dx,this._dy),R.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2];t.constructor_.call(this,r,n,o,null)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],c=arguments[3];t.constructor_.call(this,i),this.init(a,s),this._label=c}}}]),t}(),zt=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(e){return this._depth[e]}},{key:"setVisited",value:function(e){this._isVisited=e}},{key:"computeDirectedLabel",value:function(){this._label=new Ot(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new fe("assigned depths do not match",this.getCoordinate());this._depth[e]=t}},{key:"isInteriorAreaEdge",value:function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,$.LEFT)===U.INTERIOR&&this._label.getLocation(t,$.RIGHT)===U.INTERIOR||(e=!1);return e}},{key:"setNextMin",value:function(e){this._nextMin=e}},{key:"print",value:function(e){f(o(a.prototype),"print",this).call(this,e),e.print(" "+this._depth[$.LEFT]+"/"+this._depth[$.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")}},{key:"setMinEdgeRing",value:function(e){this._minEdgeRing=e}},{key:"isLineEdge",value:function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,U.EXTERIOR),r=!this._label.isArea(1)||this._label.allPositionsEqual(1,U.EXTERIOR);return e&&t&&r}},{key:"setEdgeRing",value:function(e){this._edgeRing=e}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)}},{key:"setSym",value:function(e){this._sym=e}},{key:"setVisitedEdge",value:function(e){this.setVisited(e),this._sym.setVisited(e)}},{key:"setEdgeDepths",value:function(e,t){var r=this.getEdge().getDepthDelta();this._isForward||(r=-r);var n=1;e===$.LEFT&&(n=-1);var o=$.opposite(e),i=t+r*n;this.setDepth(e,t),this.setDepth(o,i)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(e){this._next=e}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var e=arguments[0],t=arguments[1];if(Nt.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(e,t){return e===U.EXTERIOR&&t===U.INTERIOR?1:e===U.INTERIOR&&t===U.EXTERIOR?-1:0}}]),a}(Nt),Gt=function(){function t(){e(this,t)}return r(t,[{key:"createNode",value:function(e){return new jt(e,null)}}]),t}(),Vt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"printEdges",value:function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var r=this._edges.get(t);r.print(e),r.eiList.print(e)}}},{key:"find",value:function(e){return this._nodes.find(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof jt){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof z){var t=arguments[0];return this._nodes.addNode(t)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(e){me.out.println(e)}},{key:"isBoundaryNode",value:function(e,t){var r=this._nodes.find(t);if(null===r)return!1;var n=r.getLabel();return null!==n&&n.getLocation(e)===U.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(e,t,r,n){return!!e.equals(r)&&le.index(e,t,n)===le.COLLINEAR&&Bt.quadrant(e,t)===Bt.quadrant(r,n)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(e){me.out.print(e)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(e,t){for(var r=0;r<this._edges.size();r++){var n=this._edges.get(r),o=n.getCoordinates();if(this.matchInSameDirection(e,t,o[0],o[1]))return n;if(this.matchInSameDirection(e,t,o[o.length-1],o[o.length-2]))return n}return null}},{key:"insertEdge",value:function(e){this._edges.add(e)}},{key:"findEdgeEnd",value:function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var r=t.next();if(r.getEdge()===e)return r}return null}},{key:"addEdges",value:function(e){for(var t=e.iterator();t.hasNext();){var r=t.next();this._edges.add(r);var n=new zt(r,!0),o=new zt(r,!1);n.setSym(o),o.setSym(n),this.add(n),this.add(o)}}},{key:"add",value:function(e){this._nodes.add(e),this._edgeEndList.add(e)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(e,t){for(var r=0;r<this._edges.size();r++){var n=this._edges.get(r),o=n.getCoordinates();if(e.equals(o[0])&&t.equals(o[1]))return n}return null}}],[{key:"constructor_",value:function(){if(this._edges=new de,this._nodes=null,this._edgeEndList=new de,0===arguments.length)this._nodes=new Dt(new Gt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Dt(e)}}},{key:"linkResultDirectedEdges",value:function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}}]),t}(),qt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"sortShellsAndHoles",value:function(e,t,r){for(var n=e.iterator();n.hasNext();){var o=n.next();o.isHole()?r.add(o):t.add(o)}}},{key:"computePolygons",value:function(e){for(var t=new de,r=e.iterator();r.hasNext();){var n=r.next().toPolygon(this._geometryFactory);t.add(n)}return t}},{key:"placeFreeHoles",value:function(e,r){for(var n=r.iterator();n.hasNext();){var o=n.next();if(null===o.getShell()){var i=t.findEdgeRingContaining(o,e);if(null===i)throw new fe("unable to assign hole to a shell",o.getCoordinate(0));o.setShell(i)}}}},{key:"buildMinimalEdgeRings",value:function(e,t,r){for(var n=new de,o=e.iterator();o.hasNext();){var i=o.next();if(i.getMaxNodeDegree()>2){i.linkDirectedEdgesForMinimalEdgeRings();var a=i.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):r.addAll(a)}else n.add(i)}return n}},{key:"buildMaximalEdgeRings",value:function(e){for(var t=new de,r=e.iterator();r.hasNext();){var n=r.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var o=new Et(n,this._geometryFactory);t.add(o),o.setInResult()}}return t}},{key:"placePolygonHoles",value:function(e,t){for(var r=t.iterator();r.hasNext();){var n=r.next();n.isHole()&&n.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var t=0,r=null,n=e.iterator();n.hasNext();){var o=n.next();o.isHole()||(r=o,t++)}return R.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),r}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],r=arguments[1];Vt.linkResultDirectedEdges(r);var n=this.buildMaximalEdgeRings(t),o=new de,i=this.buildMinimalEdgeRings(n,this._shellList,o);this.sortShellsAndHoles(i,this._shellList,o),this.placeFreeHoles(this._shellList,o)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new de;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,t){for(var r=e.getLinearRing(),n=r.getEnvelopeInternal(),o=r.getCoordinateN(0),i=null,a=null,s=t.iterator();s.hasNext();){var c=s.next(),l=c.getLinearRing(),u=l.getEnvelopeInternal();if(!u.equals(n)&&u.contains(n)){o=We.ptNotInList(r.getCoordinates(),l.getCoordinates());var f=!1;Pt.isInRing(o,l.getCoordinates())&&(f=!0),f&&(null===i||a.contains(u))&&(a=(i=c).getLinearRing().getEnvelopeInternal())}}return i}}]),t}(),Ut=function(){function t(){e(this,t)}return r(t,[{key:"getBounds",value:function(){}}]),t}(),Ht=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Ut,P]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}}]),t}(),Wt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"poll",value:function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(e){for(var t=null,r=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(r)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,r)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new de,this._items.add(null)}}]),t}(),Jt=function(){function t(){e(this,t)}return r(t,[{key:"insert",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"query",value:function(){}}]),t}(),Yt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(e){R.isTrue(null===this._bounds),this._childBoundables.add(e)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Ut,P]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new de,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}}}]),t}(),Xt={reverseOrder:function(){return{compare:function(e,t){return t.compareTo(e)}}},min:function(e){return Xt.sort(e),e.get(0)},sort:function(e,t){var r=e.toArray();t?Ie.sort(r,t):Ie.sort(r);for(var n=e.iterator(),o=0,i=r.length;o<i;o++)n.next(),n.set(r[o])},singletonList:function(e){var t=new de;return t.add(e),t}},Zt=function(){function t(){e(this,t)}return r(t,null,[{key:"maxDistance",value:function(e,r,n,o,i,a,s,c){var l=t.distance(e,r,i,a);return l=Math.max(l,t.distance(e,r,s,c)),l=Math.max(l,t.distance(n,o,i,a)),Math.max(l,t.distance(n,o,s,c))}},{key:"distance",value:function(e,t,r,n){var o=r-e,i=n-t;return Math.sqrt(o*o+i*i)}},{key:"maximumDistance",value:function(e,r){var n=Math.min(e.getMinX(),r.getMinX()),o=Math.min(e.getMinY(),r.getMinY()),i=Math.max(e.getMaxX(),r.getMaxX()),a=Math.max(e.getMaxY(),r.getMaxY());return t.distance(n,o,i,a)}},{key:"minMaxDistance",value:function(e,r){var n=e.getMinX(),o=e.getMinY(),i=e.getMaxX(),a=e.getMaxY(),s=r.getMinX(),c=r.getMinY(),l=r.getMaxX(),u=r.getMaxY(),f=t.maxDistance(n,o,n,a,s,c,s,u);return f=Math.min(f,t.maxDistance(n,o,n,a,s,c,l,c)),f=Math.min(f,t.maxDistance(n,o,n,a,l,u,s,u)),f=Math.min(f,t.maxDistance(n,o,n,a,l,u,l,c)),f=Math.min(f,t.maxDistance(n,o,i,o,s,c,s,u)),f=Math.min(f,t.maxDistance(n,o,i,o,s,c,l,c)),f=Math.min(f,t.maxDistance(n,o,i,o,l,u,s,u)),f=Math.min(f,t.maxDistance(n,o,i,o,l,u,l,c)),f=Math.min(f,t.maxDistance(i,a,n,a,s,c,s,u)),f=Math.min(f,t.maxDistance(i,a,n,a,s,c,l,c)),f=Math.min(f,t.maxDistance(i,a,n,a,l,u,s,u)),f=Math.min(f,t.maxDistance(i,a,n,a,l,u,l,c)),f=Math.min(f,t.maxDistance(i,a,i,o,s,c,s,u)),f=Math.min(f,t.maxDistance(i,a,i,o,s,c,l,c)),f=Math.min(f,t.maxDistance(i,a,i,o,l,u,s,u)),Math.min(f,t.maxDistance(i,a,i,o,l,u,l,c))}}]),t}(),$t=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"maximumDistance",value:function(){return Zt.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,r){var n=t.isComposite(this._boundable1),o=t.isComposite(this._boundable2);if(n&&o)return t.area(this._boundable1)>t.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,r),null):(this.expand(this._boundable2,this._boundable1,!0,e,r),null);if(n)return this.expand(this._boundable1,this._boundable2,!1,e,r),null;if(o)return this.expand(this._boundable2,this._boundable1,!0,e,r),null;throw new v("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(t.isComposite(this._boundable1)||t.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}},{key:"expand",value:function(e,r,n,o,i){for(var a=e.getChildBoundables().iterator();a.hasNext();){var s=a.next(),c=null;(c=n?new t(r,s,this._itemDistance):new t(s,r,this._itemDistance)).getDistance()<i&&o.add(c)}}},{key:"getBoundable",value:function(e){return 0===e?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],r=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=r,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof Yt}}]),t}(),Kt=function(){function t(){e(this,t)}return r(t,[{key:"visitItem",value:function(e){}}]),t}(),Qt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"queryInternal",value:function(){if(re(arguments[2],Kt)&&arguments[0]instanceof Object&&arguments[1]instanceof Yt)for(var e=arguments[0],t=arguments[2],r=arguments[1].getChildBoundables(),n=0;n<r.size();n++){var o=r.get(n);this.getIntersectsOp().intersects(o.getBounds(),e)&&(o instanceof Yt?this.queryInternal(e,o,t):o instanceof Ht?t.visitItem(o.getItem()):R.shouldNeverReachHere())}else if(re(arguments[2],ee)&&arguments[0]instanceof Object&&arguments[1]instanceof Yt)for(var i=arguments[0],a=arguments[2],s=arguments[1].getChildBoundables(),c=0;c<s.size();c++){var l=s.get(c);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Yt?this.queryInternal(i,l,a):l instanceof Ht?a.add(l.getItem()):R.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var r=t.next();r instanceof Yt?e+=this.size(r):r instanceof Ht&&(e+=1)}return e}}},{key:"removeItem",value:function(e,t){for(var r=null,n=e.getChildBoundables().iterator();n.hasNext();){var o=n.next();o instanceof Ht&&o.getItem()===t&&(r=o)}return null!==r&&(e.getChildBoundables().remove(r),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new de:e}if(1===arguments.length){for(var t=arguments[0],r=new de,n=t.getChildBoundables().iterator();n.hasNext();){var o=n.next();if(o instanceof Yt){var i=this.itemsTree(o);null!==i&&r.add(i)}else o instanceof Ht?r.add(o.getItem()):R.shouldNeverReachHere()}return r.size()<=0?null:r}}},{key:"insert",value:function(e,t){R.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ht(e,t))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var e=arguments[0],t=new de;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2];if(R.isTrue(r>-2),n.getLevel()===r)return o.add(n),null;for(var i=n.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof Yt?this.boundablesAtLevel(r,a,o):(R.isTrue(a instanceof Ht),-1===r&&o.add(a))}return null}}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new de;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t}if(2===arguments.length){var r=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.queryInternal(r,this._root,n)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2],i=this.removeItem(n,o);if(i)return!0;for(var a=null,s=n.getChildBoundables().iterator();s.hasNext();){var c=s.next();if(this.getIntersectsOp().intersects(c.getBounds(),r)&&c instanceof Yt&&(i=this.remove(r,c,o))){a=c;break}}return null!==a&&a.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(a),i}}},{key:"createHigherLevels",value:function(e,t){R.isTrue(!e.isEmpty());var r=this.createParentBoundables(e,t+1);return 1===r.size()?r.get(0):this.createHigherLevels(r,t+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var r=t.next();if(r instanceof Yt){var n=this.depth(r);n>e&&(e=n)}}return e+1}}},{key:"createParentBoundables",value:function(e,t){R.isTrue(!e.isEmpty());var r=new de;r.add(this.createNode(t));var n=new de(e);Xt.sort(n,this.getComparator());for(var o=n.iterator();o.hasNext();){var i=o.next();this.lastNode(r).getChildBoundables().size()===this.getNodeCapacity()&&r.add(this.createNode(t)),this.lastNode(r).addChildBoundable(i)}return r}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[P]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new de,this._nodeCapacity=null,0===arguments.length)t.constructor_.call(this,t.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];R.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(e,t){return e>t?1:e<t?-1:0}}]),t}();Qt.IntersectsOp=function(){},Qt.DEFAULT_NODE_CAPACITY=10;var er=function(){function t(){e(this,t)}return r(t,[{key:"distance",value:function(e,t){}}]),t}(),tr=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"createParentBoundablesFromVerticalSlices",value:function(e,t){R.isTrue(e.length>0);for(var r=new de,n=0;n<e.length;n++)r.addAll(this.createParentBoundablesFromVerticalSlice(e[n],t));return r}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.nearestNeighbourK(e,I.POSITIVE_INFINITY,t)}if(3===arguments.length){var r=arguments[0],n=arguments[2],o=arguments[1],i=new Wt;i.add(r);for(var s=new Wt;!i.isEmpty()&&o>=0;){var c=i.poll(),l=c.getDistance();if(l>=o)break;c.isLeaves()?s.size()<n?s.add(c):(s.peek().getDistance()>l&&(s.poll(),s.add(c)),o=s.peek().getDistance()):c.expandToQueue(i,o)}return a.getItems(s)}}},{key:"createNode",value:function(e){return new rr(e)}},{key:"size",value:function(){return 0===arguments.length?f(o(a.prototype),"size",this).call(this):f(o(a.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof V))return f(o(a.prototype),"insert",this).apply(this,arguments);var e=arguments[0],t=arguments[1];if(e.isNull())return null;f(o(a.prototype),"insert",this).call(this,e,t)}},{key:"getIntersectsOp",value:function(){return a.intersectsOp}},{key:"verticalSlices",value:function(e,t){for(var r=Math.trunc(Math.ceil(e.size()/t)),n=new Array(t).fill(null),o=e.iterator(),i=0;i<t;i++){n[i]=new de;for(var a=0;o.hasNext()&&a<r;){var s=o.next();n[i].add(s),a++}}return n}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];return f(o(a.prototype),"query",this).call(this,e)}if(2===arguments.length){var t=arguments[0],r=arguments[1];f(o(a.prototype),"query",this).call(this,t,r)}}},{key:"getComparator",value:function(){return a.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(e,t){return f(o(a.prototype),"createParentBoundables",this).call(this,e,t)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof V){var e=arguments[0],t=arguments[1];return f(o(a.prototype),"remove",this).call(this,e,t)}return f(o(a.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?f(o(a.prototype),"depth",this).call(this):f(o(a.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(e,t){R.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),n=new de(e);Xt.sort(n,a.xComparator);var o=this.verticalSlices(n,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,t)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(re(arguments[0],er)){var e=arguments[0];if(this.isEmpty())return null;var t=new $t(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof $t){var r=arguments[0],n=I.POSITIVE_INFINITY,o=null,i=new Wt;for(i.add(r);!i.isEmpty()&&n>0;){var a=i.poll(),s=a.getDistance();if(s>=n)break;a.isLeaves()?(n=s,o=a):a.expandToQueue(i,n)}return null===o?null:[o.getBoundable(0).getItem(),o.getBoundable(1).getItem()]}}else{if(2===arguments.length){var c=arguments[0],l=arguments[1];if(this.isEmpty()||c.isEmpty())return null;var u=new $t(this.getRoot(),c.getRoot(),l);return this.nearestNeighbour(u)}if(3===arguments.length){var f=arguments[2],p=new Ht(arguments[0],arguments[1]),d=new $t(this.getRoot(),p,f);return this.nearestNeighbour(d)[0]}if(4===arguments.length){var h=arguments[2],g=arguments[3],y=new Ht(arguments[0],arguments[1]),m=new $t(this.getRoot(),y,h);return this.nearestNeighbourK(m,g)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],r=I.POSITIVE_INFINITY,n=new Wt;for(n.add(e);!n.isEmpty();){var o=n.poll(),i=o.getDistance();if(i>t)return!1;if(o.maximumDistance()<=t)return!0;if(o.isLeaves()){if((r=i)<=t)return!0}else o.expandToQueue(n,r)}return!1}if(3===arguments.length){var a=arguments[0],s=arguments[1],c=arguments[2],l=new $t(this.getRoot(),a.getRoot(),s);return this.isWithinDistance(l,c)}}},{key:"interfaces_",get:function(){return[Jt,P]}}],[{key:"constructor_",value:function(){if(0===arguments.length)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];Qt.constructor_.call(this,e)}}},{key:"centreX",value:function(e){return a.avg(e.getMinX(),e.getMaxX())}},{key:"avg",value:function(e,t){return(e+t)/2}},{key:"getItems",value:function(e){for(var t=new Array(e.size()).fill(null),r=0;!e.isEmpty();){var n=e.poll();t[r]=n.getBoundable(0).getItem(),r++}return t}},{key:"centreY",value:function(e){return a.avg(e.getMinY(),e.getMaxY())}}]),a}(Qt),rr=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"computeBounds",value:function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var r=t.next();null===e?e=new V(r.getBounds()):e.expandToInclude(r.getBounds())}return e}}],[{key:"constructor_",value:function(){var e=arguments[0];Yt.constructor_.call(this,e)}}]),i}(Yt);tr.STRtreeNode=rr,tr.xComparator=new(function(){function t(){e(this,t)}return r(t,[{key:"interfaces_",get:function(){return[F]}},{key:"compare",value:function(e,t){return Qt.compareDoubles(tr.centreX(e.getBounds()),tr.centreX(t.getBounds()))}}]),t}()),tr.yComparator=new(function(){function t(){e(this,t)}return r(t,[{key:"interfaces_",get:function(){return[F]}},{key:"compare",value:function(e,t){return Qt.compareDoubles(tr.centreY(e.getBounds()),tr.centreY(t.getBounds()))}}]),t}()),tr.intersectsOp=new(function(){function t(){e(this,t)}return r(t,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(e,t){return e.intersects(t)}}]),t}()),tr.DEFAULT_NODE_CAPACITY=10;var nr=function(){function t(){e(this,t)}return r(t,null,[{key:"relativeSign",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"compare",value:function(e,r,n){if(r.equals2D(n))return 0;var o=t.relativeSign(r.x,n.x),i=t.relativeSign(r.y,n.y);switch(e){case 0:return t.compareValue(o,i);case 1:return t.compareValue(i,o);case 2:return t.compareValue(i,-o);case 3:return t.compareValue(-o,i);case 4:return t.compareValue(-o,-i);case 5:return t.compareValue(-i,-o);case 6:return t.compareValue(-i,o);case 7:return t.compareValue(o,-i)}return R.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0}}]),t}(),or=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:this._isInterior?t._isInterior?nr.compare(this._segmentOctant,this.coord,t.coord):1:-1}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3];this._segString=e,this.coord=new z(t),this.segmentIndex=r,this._segmentOctant=n,this._isInterior=!t.equals2D(e.getCoordinate(r))}}]),t}(),ir=function(){function t(){e(this,t)}return r(t,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),t}(),ar=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getSplitCoordinates",value:function(){var e=new He;this.addEndpoints();for(var t=this.iterator(),r=t.next();t.hasNext();){var n=t.next();this.addEdgeCoordinates(r,n,e),r=n}return e.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var e=new de;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var r=t.next().intValue();this.add(this._edge.getCoordinate(r),r)}}},{key:"createSplitEdgePts",value:function(e,t){var r=t.segmentIndex-e.segmentIndex+2;if(2===r)return[new z(e.coord),new z(t.coord)];var n=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(n);o||r--;var i=new Array(r).fill(null),a=0;i[a++]=new z(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i[a++]=this._edge.getCoordinate(s);return o&&(i[a]=new z(t.coord)),i}},{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"findCollapsesFromExistingVertices",value:function(e){for(var t=0;t<this._edge.size()-2;t++){var r=this._edge.getCoordinate(t);this._edge.getCoordinate(t+1);var n=this._edge.getCoordinate(t+2);r.equals2D(n)&&e.add(oe.valueOf(t+1))}}},{key:"addEdgeCoordinates",value:function(e,t,r){var n=this.createSplitEdgePts(e,t);r.add(n,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),r=t.next();t.hasNext();){var n=t.next(),o=this.createSplitEdge(r,n);e.add(o),r=n}}},{key:"findCollapseIndex",value:function(e,t,r){if(!e.coord.equals2D(t.coord))return!1;var n=t.segmentIndex-e.segmentIndex;return t.isInterior()||n--,1===n&&(r[0]=e.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(e){for(var t=new Array(1).fill(null),r=this.iterator(),n=r.next();r.hasNext();){var o=r.next();this.findCollapseIndex(n,o,t)&&e.add(oe.valueOf(t[0])),n=o}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}},{key:"createSplitEdge",value:function(e,t){var r=this.createSplitEdgePts(e,t);return new ur(r,this._edge.getData())}},{key:"add",value:function(e,t){var r=new or(this._edge,e,t,this._edge.getSegmentOctant(t)),n=this._nodeMap.get(r);return null!==n?(R.isTrue(n.coord.equals2D(e),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(r,r),r)}},{key:"checkSplitEdgesCorrectness",value:function(e){var t=this._edge.getCoordinates(),r=e.get(0).getCoordinate(0);if(!r.equals2D(t[0]))throw new A("bad split edge start point at "+r);var n=e.get(e.size()-1).getCoordinates(),o=n[n.length-1];if(!o.equals2D(t[t.length-1]))throw new A("bad split edge end point at "+o)}}],[{key:"constructor_",value:function(){this._nodeMap=new Rt,this._edge=null;var e=arguments[0];this._edge=e}}]),t}(),sr=function(){function t(){e(this,t)}return r(t,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],r=arguments[1];if(0===e&&0===r)throw new v("Cannot compute the octant for point ( "+e+", "+r+" )");var n=Math.abs(e),o=Math.abs(r);return e>=0?r>=0?n>=o?0:1:n>=o?7:6:r>=0?n>=o?3:2:n>=o?4:5}if(arguments[0]instanceof z&&arguments[1]instanceof z){var i=arguments[0],a=arguments[1],s=a.x-i.x,c=a.y-i.y;if(0===s&&0===c)throw new v("Cannot compute the octant for two identical points "+i);return t.octant(s,c)}}}]),t}(),cr=function(){function t(){e(this,t)}return r(t,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(e){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(e){}},{key:"getData",value:function(){}}]),t}(),lr=function(){function t(){e(this,t)}return r(t,[{key:"addIntersection",value:function(e,t){}},{key:"interfaces_",get:function(){return[cr]}}]),t}(),ur=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,t){return e.equals2D(t)?0:sr.octant(e,t)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var r=arguments[1],n=arguments[3],o=new z(arguments[0].getIntersection(n));this.addIntersection(o,r)}}},{key:"toString",value:function(){return vt.toLineString(new Ze(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,t){var r=t,n=r+1;if(n<this._pts.length){var o=this._pts[n];e.equals2D(o)&&(r=n)}return this._nodeList.add(e,r)}},{key:"addIntersections",value:function(e,t,r){for(var n=0;n<e.getIntersectionNum();n++)this.addIntersection(e,t,r,n)}},{key:"interfaces_",get:function(){return[lr]}}],[{key:"constructor_",value:function(){this._nodeList=new ar(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var e=arguments[0],r=new de;return t.getNodedSubstrings(e,r),r}if(2===arguments.length)for(var n=arguments[1],o=arguments[0].iterator();o.hasNext();)o.next().getNodeList().addSplitEdges(n)}}]),t}(),fr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof t){var e=arguments[0],r=le.index(this.p0,this.p1,e.p0),n=le.index(this.p0,this.p1,e.p1);return r>=0&&n>=0||r<=0&&n<=0?Math.max(r,n):0}if(arguments[0]instanceof z){var o=arguments[0];return le.index(this.p0,this.p1,o)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=e;return this.p0.equals(r.p0)&&this.p1.equals(r.p1)}},{key:"intersection",value:function(e){var t=new wt;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof z){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new z(e);var r=this.projectionFactor(e),n=new z;return n.x=this.p0.x+r*(this.p1.x-this.p0.x),n.y=this.p0.y+r*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof t){var o=arguments[0],i=this.projectionFactor(o.p0),a=this.projectionFactor(o.p1);if(i>=1&&a>=1)return null;if(i<=0&&a<=0)return null;var s=this.project(o.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var c=this.project(o.p1);return a<0&&(c=this.p0),a>1&&(c=this.p1),new t(s,c)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return 0===e?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return be.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return t.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,n=t*t+r*r;return n<=0?I.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*r)/n}},{key:"closestPoints",value:function(e){var t=this.intersection(e);if(null!==t)return[t,t];var r=new Array(2).fill(null),n=I.MAX_VALUE,o=null,i=this.closestPoint(e.p0);n=i.distance(e.p0),r[0]=i,r[1]=e.p0;var a=this.closestPoint(e.p1);(o=a.distance(e.p1))<n&&(n=o,r[0]=a,r[1]=e.p1);var s=e.closestPoint(this.p0);(o=s.distance(this.p0))<n&&(n=o,r[0]=this.p0,r[1]=s);var c=e.closestPoint(this.p1);return(o=c.distance(this.p1))<n&&(n=o,r[0]=this.p1,r[1]=c),r}},{key:"closestPoint",value:function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var t=e,r=this.p0.compareTo(t.p0);return 0!==r?r:this.p1.compareTo(t.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return ye.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,t){var r=this.p0.x+e*(this.p1.x-this.p0.x),n=this.p0.y+e*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,a=Math.sqrt(o*o+i*i),s=0,c=0;if(0!==t){if(a<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=t*o/a,c=t*i/a}return new z(r-c,n+s)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=r.x,this.p1.y=r.y}}},{key:"segmentFraction",value:function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||I.isNaN(t))&&(t=1),t}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var t=this.p1.getY()-this.p0.getY(),r=this.p0.getX()-this.p1.getX(),n=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),o=t*t+r*r,i=t*t-r*r,a=e.getX(),s=e.getY();return new z((-i*a-2*t*r*s-2*t*n)/o,(i*s-2*t*r*a-2*r*n)/o)}},{key:"distance",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return be.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof z){var r=arguments[0];return be.pointToSegment(r,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var t=new z;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}},{key:"hashCode",value:function(){var e=I.doubleToLongBits(this.p0.x);e^=31*I.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),r=I.doubleToLongBits(this.p1.x);return r^=31*I.doubleToLongBits(this.p1.y),t^Math.trunc(r)^Math.trunc(r>>32)}},{key:"interfaces_",get:function(){return[w,P]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)t.constructor_.call(this,new z,new z);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this.p0=r,this.p1=n}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];t.constructor_.call(this,new z(o,i),new z(a,s))}}},{key:"midPoint",value:function(e,t){return new z((e.x+t.x)/2,(e.y+t.y)/2)}}]),t}(),pr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],r=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new fr,this._overlapSeg2=new fr}}]),t}(),dr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getLineSegment",value:function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}},{key:"computeSelect",value:function(e,t,r,n){var o=this._pts[t],i=this._pts[r];if(r-t==1)return n.select(this,t),null;if(!e.intersects(o,i))return null;var a=Math.trunc((t+r)/2);t<a&&this.computeSelect(e,t,a,n),a<r&&this.computeSelect(e,a,r,n)}},{key:"getCoordinates",value:function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,r=this._start;r<=this._end;r++)e[t++]=this._pts[r];return e}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){var r=arguments[0],n=arguments[1],o=arguments[2],i=arguments[3],a=arguments[4],s=arguments[5];if(n-r==1&&a-i==1)return s.overlap(this,r,o,i),null;if(!this.overlaps(r,n,o,i,a))return null;var c=Math.trunc((r+n)/2),l=Math.trunc((i+a)/2);r<c&&(i<l&&this.computeOverlaps(r,c,o,i,l,s),l<a&&this.computeOverlaps(r,c,o,l,a,s)),c<n&&(i<l&&this.computeOverlaps(c,n,o,i,l,s),l<a&&this.computeOverlaps(c,n,o,l,a,s))}}},{key:"setId",value:function(e){this._id=e}},{key:"select",value:function(e,t){this.computeSelect(e,this._start,this._end,t)}},{key:"getEnvelope",value:function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new V(e,t)}return this._env}},{key:"overlaps",value:function(e,t,r,n,o){return V.intersects(this._pts[e],this._pts[t],r._pts[n],r._pts[o])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3];this._pts=e,this._start=t,this._end=r,this._context=n}}]),t}(),hr=function(){function t(){e(this,t)}return r(t,null,[{key:"findChainEnd",value:function(e,t){for(var r=t;r<e.length-1&&e[r].equals2D(e[r+1]);)r++;if(r>=e.length-1)return e.length-1;for(var n=Bt.quadrant(e[r],e[r+1]),o=t+1;o<e.length&&(e[o-1].equals2D(e[o])||Bt.quadrant(e[o-1],e[o])===n);)o++;return o-1}},{key:"getChains",value:function(){if(1===arguments.length){var e=arguments[0];return t.getChains(e,null)}if(2===arguments.length){var r=arguments[0],n=arguments[1],o=new de,i=0;do{var a=t.findChainEnd(r,i),s=new dr(r,i,a,n);o.add(s),i=a}while(i<r.length-1);return o}}}]),t}(),gr=function(){function t(){e(this,t)}return r(t,[{key:"computeNodes",value:function(e){}},{key:"getNodedSubstrings",value:function(){}}]),t}(),yr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"setSegmentIntersector",value:function(e){this._segInt=e}},{key:"interfaces_",get:function(){return[gr]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}}}]),t}(),mr=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return ur.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(e){for(var t=hr.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var r=t.next();r.setId(this._idCounter++),this._index.insert(r.getEnvelope(),r),this._monoChains.add(r)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var e=new vr(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var r=t.next(),n=this._index.query(r.getEnvelope()).iterator();n.hasNext();){var o=n.next();if(o.getId()>r.getId()&&(r.computeOverlaps(o,e),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new de,this._index=new tr,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var e=arguments[0];yr.constructor_.call(this,e)}}}]),i}(yr),vr=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"overlap",value:function(){if(4!==arguments.length)return f(o(a.prototype),"overlap",this).apply(this,arguments);var e=arguments[1],t=arguments[2],r=arguments[3],n=arguments[0].getContext(),i=t.getContext();this._si.processIntersections(n,e,i,r)}}],[{key:"constructor_",value:function(){this._si=null;var e=arguments[0];this._si=e}}]),a}(pr);mr.SegmentOverlapAction=vr;var br=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"isDeletable",value:function(e,t,r,n){var o=this._inputLine[e],i=this._inputLine[t],a=this._inputLine[r];return!!this.isConcave(o,i,a)&&!!this.isShallow(o,i,a,n)&&this.isShallowSampled(o,i,e,r,n)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,r=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(r),o=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(e,r,n,this._distanceTol)&&(this._isDeleted[r]=t.DELETE,i=!0,o=!0),e=i?n:r,r=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(r)}return o}},{key:"isShallowConcavity",value:function(e,t,r,n){return le.index(e,t,r)===this._angleOrientation&&be.pointToSegment(t,e,r)<n}},{key:"isShallowSampled",value:function(e,r,n,o,i){var a=Math.trunc((o-n)/t.NUM_PTS_TO_CHECK);a<=0&&(a=1);for(var s=n;s<o;s+=a)if(!this.isShallow(e,r,this._inputLine[s],i))return!1;return!0}},{key:"isConcave",value:function(e,t,r){return le.index(e,t,r)===this._angleOrientation}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=le.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var r=e+1;r<this._inputLine.length&&this._isDeleted[r]===t.DELETE;)r++;return r}},{key:"isShallow",value:function(e,t,r,n){return be.pointToSegment(t,e,r)<n}},{key:"collapseLine",value:function(){for(var e=new He,r=0;r<this._inputLine.length;r++)this._isDeleted[r]!==t.DELETE&&e.add(this._inputLine[r]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=le.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(e,r){return new t(e).simplify(r)}}]),t}();br.INIT=0,br.DELETE=1,br.KEEP=1,br.NUM_PTS_TO_CHECK=10;var wr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getCoordinates",value:function(){return this._ptList.toArray(t.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var t=new z(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,t){if(t)for(var r=0;r<e.length;r++)this.addPt(e[r]);else for(var n=e.length-1;n>=0;n--)this.addPt(e[n])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new ot).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new z(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new de}}]),t}();wr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var _r=function(){function t(){e(this,t)}return r(t,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=t.PI_TIMES_2;for(;e<=-Math.PI;)e+=t.PI_TIMES_2;return e}},{key:"angle",value:function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],r=arguments[1],n=r.x-t.x,o=r.y-t.y;return Math.atan2(o,n)}}},{key:"isAcute",value:function(e,t,r){var n=e.x-t.x,o=e.y-t.y;return n*(r.x-t.x)+o*(r.y-t.y)>0}},{key:"isObtuse",value:function(e,t,r){var n=e.x-t.x,o=e.y-t.y;return n*(r.x-t.x)+o*(r.y-t.y)<0}},{key:"interiorAngle",value:function(e,r,n){var o=t.angle(r,e),i=t.angle(r,n);return Math.abs(i-o)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=t.PI_TIMES_2;e>=t.PI_TIMES_2&&(e=0)}else{for(;e>=t.PI_TIMES_2;)e-=t.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,r,n){var o=t.angle(r,e),i=t.angle(r,n);return t.diff(o,i)}},{key:"diff",value:function(e,t){var r=null;return(r=e<t?t-e:e-t)>Math.PI&&(r=2*Math.PI-r),r}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(e,r){var n=Math.sin(r-e);return n>0?t.COUNTERCLOCKWISE:n<0?t.CLOCKWISE:t.NONE}},{key:"angleBetweenOriented",value:function(e,r,n){var o=t.angle(r,e),i=t.angle(r,n)-o;return i<=-Math.PI?i+t.PI_TIMES_2:i>Math.PI?i-t.PI_TIMES_2:i}}]),t}();_r.PI_TIMES_2=2*Math.PI,_r.PI_OVER_2=Math.PI/2,_r.PI_OVER_4=Math.PI/4,_r.COUNTERCLOCKWISE=le.COUNTERCLOCKWISE,_r.CLOCKWISE=le.CLOCKWISE,_r.NONE=le.COLLINEAR;var Pr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"addNextSegment",value:function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var r=le.index(this._s0,this._s1,this._s2),n=r===le.CLOCKWISE&&this._side===$.LEFT||r===le.COUNTERCLOCKWISE&&this._side===$.RIGHT;0===r?this.addCollinear(t):n?this.addOutsideTurn(r,t):this.addInsideTurn(r,t)}},{key:"addLineEndCap",value:function(e,t){var r=new fr(e,t),n=new fr;this.computeOffsetSegment(r,$.LEFT,this._distance,n);var o=new fr;this.computeOffsetSegment(r,$.RIGHT,this._distance,o);var i=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,i);switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:this._segList.addPt(n.p1),this.addDirectedFillet(t,s+Math.PI/2,s-Math.PI/2,le.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case y.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(o.p1);break;case y.CAP_SQUARE:var c=new z;c.x=Math.abs(this._distance)*Math.cos(s),c.y=Math.abs(this._distance)*Math.sin(s);var l=new z(n.p1.x+c.x,n.p1.y+c.y),u=new z(o.p1.x+c.x,o.p1.y+c.y);this._segList.addPt(l),this._segList.addPt(u)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,t,r,n){var o=ye.intersection(t.p0,t.p1,r.p0,r.p1);if(null!==o&&(n<=0?1:o.distance(e)/Math.abs(n))<=this._bufParams.getMitreLimit())return this._segList.addPt(o),null;this.addLimitedMitreJoin(t,r,n,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,r){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*t.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===y.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===y.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(r&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new z(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new z(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new z(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new z(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,t){this._segList.addPts(e,t)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,t,r,n,o){var i=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,i),c=r.x-e.x,l=r.y-e.y,u=Math.atan2(l,c);n===le.CLOCKWISE?s<=u&&(s+=2*Math.PI):s>=u&&(s-=2*Math.PI),this._segList.addPt(t),this.addDirectedFillet(e,s,u,n,o),this._segList.addPt(r)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,t,r){this._s1=e,this._s2=t,this._side=r,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,r,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,t,r,n){var o=this._seg0.p1,i=_r.angle(o,this._seg0.p0),a=_r.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,s=_r.normalize(i+a),c=_r.normalize(s+Math.PI),l=n*r,u=r-l*Math.abs(Math.sin(a)),f=o.x+l*Math.cos(c),p=o.y+l*Math.sin(c),d=new z(f,p),h=new fr(o,d),g=h.pointAlongOffset(1,u),y=h.pointAlongOffset(1,-u);this._side===$.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))}},{key:"addDirectedFillet",value:function(e,t,r,n,o){var i=n===le.CLOCKWISE?-1:1,a=Math.abs(t-r),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var c=a/s,l=new z,u=0;u<s;u++){var f=t+i*u*c;l.x=e.x+o*Math.cos(f),l.y=e.y+o*Math.sin(f),this._segList.addPt(l)}}},{key:"computeOffsetSegment",value:function(e,t,r,n){var o=t===$.LEFT?1:-1,i=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(i*i+a*a),c=o*r*i/s,l=o*r*a/s;n.p0.x=e.p0.x-l,n.p0.y=e.p0.y+c,n.p1.x=e.p1.x-l,n.p1.y=e.p1.y+c}},{key:"addInsideTurn",value:function(e,r){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*t.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new z((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var o=new z((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var t=new z(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new wr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*t.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===y.JOIN_BEVEL||this._bufParams.getJoinStyle()===y.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,le.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new fr,this._seg1=new fr,this._offset0=new fr,this._offset1=new fr,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],r=arguments[1],n=arguments[2];this._precisionModel=e,this._bufParams=r,this._li=new wt,this._filletAngleQuantum=Math.PI/2/r.getQuadrantSegments(),r.getQuadrantSegments()>=8&&r.getJoinStyle()===y.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}}]),t}();Pr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Pr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Pr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Pr.MAX_CLOSING_SEG_LEN_FACTOR=80;var xr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getOffsetCurve",value:function(e,t){if(this._distance=t,0===t)return null;var r=t<0,n=Math.abs(t),o=this.getSegGen(n);e.length<=1?this.computePointCurve(e[0],o):this.computeOffsetCurve(e,r,o);var i=o.getCoordinates();return r&&We.reverse(i),i}},{key:"computeSingleSidedBufferCurve",value:function(e,t,r){var n=this.simplifyTolerance(this._distance);if(t){r.addSegments(e,!0);var o=br.simplify(e,-n),i=o.length-1;r.initSideSegments(o[i],o[i-1],$.LEFT),r.addFirstSegment();for(var a=i-2;a>=0;a--)r.addNextSegment(o[a],!0)}else{r.addSegments(e,!1);var s=br.simplify(e,n),c=s.length-1;r.initSideSegments(s[0],s[1],$.LEFT),r.addFirstSegment();for(var l=2;l<=c;l++)r.addNextSegment(s[l],!0)}r.addLastSegment(),r.closeRing()}},{key:"computeRingBufferCurve",value:function(e,t,r){var n=this.simplifyTolerance(this._distance);t===$.RIGHT&&(n=-n);var o=br.simplify(e,n),i=o.length-1;r.initSideSegments(o[i-1],o[0],t);for(var a=1;a<=i;a++){var s=1!==a;r.addNextSegment(o[a],s)}r.closeRing()}},{key:"computeLineBufferCurve",value:function(e,t){var r=this.simplifyTolerance(this._distance),n=br.simplify(e,r),o=n.length-1;t.initSideSegments(n[0],n[1],$.LEFT);for(var i=2;i<=o;i++)t.addNextSegment(n[i],!0);t.addLastSegment(),t.addLineEndCap(n[o-1],n[o]);var a=br.simplify(e,-r),s=a.length-1;t.initSideSegments(a[s],a[s-1],$.LEFT);for(var c=s-2;c>=0;c--)t.addNextSegment(a[c],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()}},{key:"computePointCurve",value:function(e,t){switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:t.createCircle(e);break;case y.CAP_SQUARE:t.createSquare(e)}}},{key:"getLineCurve",value:function(e,t){if(this._distance=t,this.isLineOffsetEmpty(t))return null;var r=Math.abs(t),n=this.getSegGen(r);if(e.length<=1)this.computePointCurve(e[0],n);else if(this._bufParams.isSingleSided()){var o=t<0;this.computeSingleSidedBufferCurve(e,o,n)}else this.computeLineBufferCurve(e,n);return n.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,r,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return t.copyCoordinates(e);var o=this.getSegGen(n);return this.computeRingBufferCurve(e,r,o),o.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,t,r){var n=this.simplifyTolerance(this._distance);if(t){var o=br.simplify(e,-n),i=o.length-1;r.initSideSegments(o[i],o[i-1],$.LEFT),r.addFirstSegment();for(var a=i-2;a>=0;a--)r.addNextSegment(o[a],!0)}else{var s=br.simplify(e,n),c=s.length-1;r.initSideSegments(s[0],s[1],$.LEFT),r.addFirstSegment();for(var l=2;l<=c;l++)r.addNextSegment(s[l],!0)}r.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return 0===e||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new Pr(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},{key:"copyCoordinates",value:function(e){for(var t=new Array(e.length).fill(null),r=0;r<t.length;r++)t[r]=new z(e[r]);return t}}]),t}(),Or=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new de,r=this._subgraphs.iterator();r.hasNext();){var n=r.next(),o=n.getEnvelope();e.y<o.getMinY()||e.y>o.getMaxY()||this.findStabbedSegments(e,n.getDirectedEdges(),t)}return t}if(3===arguments.length)if(re(arguments[2],ee)&&arguments[0]instanceof z&&arguments[1]instanceof zt){for(var i=arguments[0],a=arguments[1],s=arguments[2],c=a.getEdge().getCoordinates(),l=0;l<c.length-1;l++)if(this._seg.p0=c[l],this._seg.p1=c[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<i.x||this._seg.isHorizontal()||i.y<this._seg.p0.y||i.y>this._seg.p1.y||le.index(this._seg.p0,this._seg.p1,i)===le.RIGHT)){var u=a.getDepth($.LEFT);this._seg.p0.equals(c[l])||(u=a.getDepth($.RIGHT));var f=new Cr(this._seg,u);s.add(f)}}else if(re(arguments[2],ee)&&arguments[0]instanceof z&&re(arguments[1],ee))for(var p=arguments[0],d=arguments[2],h=arguments[1].iterator();h.hasNext();){var g=h.next();g.isForward()&&this.findStabbedSegments(p,g,d)}}},{key:"getDepth",value:function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:Xt.min(t)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new fr;var e=arguments[0];this._subgraphs=e}}]),t}(),Cr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"compareTo",value:function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==r||0!=(r=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?r:this._upwardSeg.compareTo(t._upwardSeg)}},{key:"compareX",value:function(e,t){var r=e.p0.compareTo(t.p0);return 0!==r?r:e.p1.compareTo(t.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new fr(e),this._leftDepth=t}}]),t}();Or.DepthSegment=Cr;var Sr=function(t){n(i,t);var o=u(i);function i(){var t;return e(this,i),t=o.call(this),i.constructor_.apply(l(t),arguments),t}return r(i,null,[{key:"constructor_",value:function(){m.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),i}(m),Er=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getY",value:function(){var e=this.y/this.w;if(I.isNaN(e)||I.isInfinite(e))throw new Sr;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(I.isNaN(e)||I.isInfinite(e))throw new Sr;return e}},{key:"getCoordinate",value:function(){var e=new z;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var r=arguments[0],n=arguments[1];this.x=r,this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var o=arguments[0],i=arguments[1];this.x=o.y*i.w-i.y*o.w,this.y=i.x*o.w-o.x*i.w,this.w=o.x*i.y-i.x*o.y}else if(arguments[0]instanceof z&&arguments[1]instanceof z){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var c=arguments[0],l=arguments[1],u=arguments[2];this.x=c,this.y=l,this.w=u}else if(4===arguments.length){var f=arguments[0],p=arguments[1],d=arguments[2],h=arguments[3],g=f.y-p.y,y=p.x-f.x,m=f.x*p.y-p.x*f.y,v=d.y-h.y,b=h.x-d.x,w=d.x*h.y-h.x*d.y;this.x=y*w-b*m,this.y=v*m-g*w,this.w=g*b-v*y}}}]),t}(),Mr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"area",value:function(){return t.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return t.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(null===e)throw new v("Supplied point is null.");return t.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return t.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return t.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return t.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return t.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return t.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return t.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],t=arguments[1],r=arguments[2];this.p0=e,this.p1=t,this.p2=r}},{key:"area",value:function(e,t,r){return Math.abs(((r.x-e.x)*(t.y-e.y)-(t.x-e.x)*(r.y-e.y))/2)}},{key:"signedArea",value:function(e,t,r){return((r.x-e.x)*(t.y-e.y)-(t.x-e.x)*(r.y-e.y))/2}},{key:"det",value:function(e,t,r,n){return e*n-t*r}},{key:"interpolateZ",value:function(e,t,r,n){var o=t.x,i=t.y,a=r.x-o,s=n.x-o,c=r.y-i,l=n.y-i,u=a*l-s*c,f=e.x-o,p=e.y-i,d=(l*f-s*p)/u,h=(-c*f+a*p)/u;return t.getZ()+d*(r.getZ()-t.getZ())+h*(n.getZ()-t.getZ())}},{key:"longestSideLength",value:function(e,t,r){var n=e.distance(t),o=t.distance(r),i=r.distance(e),a=n;return o>a&&(a=o),i>a&&(a=i),a}},{key:"circumcentreDD",value:function(e,t,r){var n=ae.valueOf(e.x).subtract(r.x),o=ae.valueOf(e.y).subtract(r.y),i=ae.valueOf(t.x).subtract(r.x),a=ae.valueOf(t.y).subtract(r.y),s=ae.determinant(n,o,i,a).multiply(2),c=n.sqr().add(o.sqr()),l=i.sqr().add(a.sqr()),u=ae.determinant(o,c,a,l),f=ae.determinant(n,c,i,l),p=ae.valueOf(r.x).subtract(u.divide(s)).doubleValue(),d=ae.valueOf(r.y).add(f.divide(s)).doubleValue();return new z(p,d)}},{key:"isAcute",value:function(e,t,r){return!!_r.isAcute(e,t,r)&&!!_r.isAcute(t,r,e)&&!!_r.isAcute(r,e,t)}},{key:"circumcentre",value:function(e,r,n){var o=n.x,i=n.y,a=e.x-o,s=e.y-i,c=r.x-o,l=r.y-i,u=2*t.det(a,s,c,l),f=t.det(s,a*a+s*s,l,c*c+l*l),p=t.det(a,a*a+s*s,c,c*c+l*l);return new z(o-f/u,i+p/u)}},{key:"perpendicularBisector",value:function(e,t){var r=t.x-e.x,n=t.y-e.y,o=new Er(e.x+r/2,e.y+n/2,1),i=new Er(e.x-n+r/2,e.y+r+n/2,1);return new Er(o,i)}},{key:"angleBisector",value:function(e,t,r){var n=t.distance(e),o=n/(n+t.distance(r)),i=r.x-e.x,a=r.y-e.y;return new z(e.x+o*i,e.y+o*a)}},{key:"area3D",value:function(e,t,r){var n=t.x-e.x,o=t.y-e.y,i=t.getZ()-e.getZ(),a=r.x-e.x,s=r.y-e.y,c=r.getZ()-e.getZ(),l=o*c-i*s,u=i*a-n*c,f=n*s-o*a,p=l*l+u*u+f*f;return Math.sqrt(p)/2}},{key:"centroid",value:function(e,t,r){var n=(e.x+t.x+r.x)/3,o=(e.y+t.y+r.y)/3;return new z(n,o)}},{key:"inCentre",value:function(e,t,r){var n=t.distance(r),o=e.distance(r),i=e.distance(t),a=n+o+i,s=(n*e.x+o*t.x+i*r.x)/a,c=(n*e.y+o*t.y+i*r.y)/a;return new z(s,c)}}]),t}(),jr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"addRingSide",value:function(e,t,r,n,o){if(0===t&&e.length<ze.MINIMUM_VALID_SIZE)return null;var i=n,a=o;e.length>=ze.MINIMUM_VALID_SIZE&&le.isCCW(e)&&(i=o,a=n,r=$.opposite(r));var s=this._curveBuilder.getRingCurve(e,r,t);this.addCurve(s,i,a)}},{key:"addRingBothSides",value:function(e,t){this.addRingSide(e,t,$.LEFT,U.EXTERIOR,U.INTERIOR),this.addRingSide(e,t,$.RIGHT,U.INTERIOR,U.EXTERIOR)}},{key:"addPoint",value:function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),r=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(r,U.EXTERIOR,U.INTERIOR)}},{key:"addPolygon",value:function(e){var t=this._distance,r=$.LEFT;this._distance<0&&(t=-this._distance,r=$.RIGHT);var n=e.getExteriorRing(),o=We.removeRepeatedPoints(n.getCoordinates());if(this._distance<0&&this.isErodedCompletely(n,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addRingSide(o,t,r,U.EXTERIOR,U.INTERIOR);for(var i=0;i<e.getNumInteriorRing();i++){var a=e.getInteriorRingN(i),s=We.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addRingSide(s,t,$.opposite(r),U.INTERIOR,U.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(e,t){var r=new Mr(e[0],e[1],e[2]),n=r.inCentre();return be.pointToSegment(n,r.p0,r.p1)<Math.abs(t)}},{key:"addLineString",value:function(e){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var t=We.removeRepeatedPoints(e.getCoordinates());if(We.isRing(t)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(t,this._distance);else{var r=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(r,U.EXTERIOR,U.INTERIOR)}}},{key:"addCurve",value:function(e,t,r){if(null===e||e.length<2)return null;var n=new ur(e,new Ot(0,U.BOUNDARY,t,r));this._curveList.add(n)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(e){if(e.isEmpty())return null;if(e instanceof Ae)this.addPolygon(e);else if(e instanceof Me)this.addLineString(e);else if(e instanceof ke)this.addPoint(e);else if(e instanceof Ne)this.addCollection(e);else if(e instanceof nt)this.addCollection(e);else if(e instanceof Ke)this.addCollection(e);else{if(!(e instanceof Be))throw new J(e.getGeometryType());this.addCollection(e)}}},{key:"isErodedCompletely",value:function(e,t){var r=e.getCoordinates();if(r.length<4)return t<0;if(4===r.length)return this.isTriangleErodedCompletely(r,t);var n=e.getEnvelopeInternal(),o=Math.min(n.getHeight(),n.getWidth());return t<0&&2*Math.abs(t)>o}},{key:"addCollection",value:function(e){for(var t=0;t<e.getNumGeometries();t++){var r=e.getGeometryN(t);this.add(r)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new de;var e=arguments[0],t=arguments[1],r=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=r}}]),t}(),kr=function(){function t(){e(this,t)}return r(t,[{key:"locate",value:function(e){}}]),t}(),Tr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,t.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new W;var e=this._parent.getGeometryN(this._index++);return e instanceof Be?(this._subcollectionIterator=new t(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new J(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[ir]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof Be)}}]),t}(),Ir=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"locate",value:function(e){return t.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[kr]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(e,r){if(r.isEmpty())return U.EXTERIOR;var n=r.getExteriorRing(),o=t.locatePointInRing(e,n);if(o!==U.INTERIOR)return o;for(var i=0;i<r.getNumInteriorRing();i++){var a=r.getInteriorRingN(i),s=t.locatePointInRing(e,a);if(s===U.BOUNDARY)return U.BOUNDARY;if(s===U.INTERIOR)return U.EXTERIOR}return U.INTERIOR}},{key:"locatePointInRing",value:function(e,t){return t.getEnvelopeInternal().intersects(e)?Pt.locateInRing(e,t.getCoordinates()):U.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,r){return U.EXTERIOR!==t.locatePointInPolygon(e,r)}},{key:"locateInGeometry",value:function(e,r){if(r instanceof Ae)return t.locatePointInPolygon(e,r);if(r instanceof Be)for(var n=new Tr(r);n.hasNext();){var o=n.next();if(o!==r){var i=t.locateInGeometry(e,o);if(i!==U.EXTERIOR)return i}}return U.EXTERIOR}},{key:"isContained",value:function(e,r){return U.EXTERIOR!==t.locate(e,r)}},{key:"locate",value:function(e,r){return r.isEmpty()?U.EXTERIOR:r.getEnvelopeInternal().intersects(e)?t.locateInGeometry(e,r):U.EXTERIOR}}]),t}(),Fr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getNextCW",value:function(e){this.getEdges();var t=this._edgeList.indexOf(e),r=t-1;return 0===t&&(r=this._edgeList.size()-1),this._edgeList.get(r)}},{key:"propagateSideLabels",value:function(e){for(var t=U.NONE,r=this.iterator();r.hasNext();){var n=r.next().getLabel();n.isArea(e)&&n.getLocation(e,$.LEFT)!==U.NONE&&(t=n.getLocation(e,$.LEFT))}if(t===U.NONE)return null;for(var o=t,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getLabel();if(s.getLocation(e,$.ON)===U.NONE&&s.setLocation(e,$.ON,o),s.isArea(e)){var c=s.getLocation(e,$.LEFT),l=s.getLocation(e,$.RIGHT);if(l!==U.NONE){if(l!==o)throw new fe("side location conflict",a.getCoordinate());c===U.NONE&&R.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),o=c}else R.isTrue(s.getLocation(e,$.LEFT)===U.NONE,"found single null side"),s.setLocation(e,$.RIGHT,o),s.setLocation(e,$.LEFT,o)}}}},{key:"getCoordinate",value:function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null}},{key:"print",value:function(e){me.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"isAreaLabelsConsistent",value:function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(e){var t=this.getEdges();if(t.size()<=0)return!0;var r=t.size()-1,n=t.get(r).getLabel().getLocation(e,$.LEFT);R.isTrue(n!==U.NONE,"Found unlabelled area edge");for(var o=n,i=this.iterator();i.hasNext();){var a=i.next().getLabel();R.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,$.LEFT),c=a.getLocation(e,$.RIGHT);if(s===c)return!1;if(c!==o)return!1;o=s}return!0}},{key:"findIndex",value:function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new de(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(e,t,r){return this._ptInAreaLocation[e]===U.NONE&&(this._ptInAreaLocation[e]=Ir.locate(t,r[e].getGeometry())),this._ptInAreaLocation[e]}},{key:"toString",value:function(){var e=new ne;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var r=t.next();e.append(r),e.append("\n")}return e.toString()}},{key:"computeEdgeEndLabels",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)}},{key:"computeLabelling",value:function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],r=this.iterator();r.hasNext();)for(var n=r.next().getLabel(),o=0;o<2;o++)n.isLine(o)&&n.getLocation(o)===U.BOUNDARY&&(t[o]=!0);for(var i=this.iterator();i.hasNext();)for(var a=i.next(),s=a.getLabel(),c=0;c<2;c++)if(s.isAnyNull(c)){var l=U.NONE;if(t[c])l=U.EXTERIOR;else{var u=a.getCoordinate();l=this.getLocation(c,u,e)}s.setAllLocationsIfNull(c,l)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(e,t){this._edgeMap.put(e,t),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Rt,this._edgeList=null,this._ptInAreaLocation=[U.NONE,U.NONE]}}]),t}(),Ar=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var e=null,t=null,r=this._SCANNING_FOR_INCOMING,n=0;n<this._resultAreaEdgeList.size();n++){var o=this._resultAreaEdgeList.get(n),i=o.getSym();if(o.getLabel().isArea())switch(null===e&&o.isInResult()&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;t=i,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!o.isInResult())continue;t.setNext(o),r=this._SCANNING_FOR_INCOMING}}if(r===this._LINKING_TO_OUTGOING){if(null===e)throw new fe("no outgoing dirEdge found",this.getCoordinate());R.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}}},{key:"insert",value:function(e){var t=e;this.insertEdgeEnd(t,t)}},{key:"getRightmostEdge",value:function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var r=e.get(0);if(1===t)return r;var n=e.get(t-1),o=r.getQuadrant(),i=n.getQuadrant();return Bt.isNorthern(o)&&Bt.isNorthern(i)?r:Bt.isNorthern(o)||Bt.isNorthern(i)?0!==r.getDy()?r:0!==n.getDy()?n:(R.shouldNeverReachHere("found two horizontal edges incident on node"),null):n}},{key:"print",value:function(e){me.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var r=t.next();e.print("out "),r.print(e),e.println(),e.print("in "),r.getSym().print(e),e.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new de;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(e){for(var t=this.iterator();t.hasNext();){var r=t.next().getLabel();r.setAllLocationsIfNull(0,e.getLocation(0)),r.setAllLocationsIfNull(1,e.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var e=null,t=null,r=this._edgeList.size()-1;r>=0;r--){var n=this._edgeList.get(r),o=n.getSym();null===t&&(t=o),null!==e&&o.setNext(e),e=n}t.setNext(e)}},{key:"computeDepths",value:function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),r=e.getDepth($.LEFT),n=e.getDepth($.RIGHT),o=this.computeDepths(t+1,this._edgeList.size(),r);if(this.computeDepths(0,t,o)!==n)throw new fe("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var i=arguments[1],a=arguments[2],s=arguments[0];s<i;s++){var c=this._edgeList.get(s);c.setEdgeDepths($.RIGHT,a),a=c.getDepth($.LEFT)}return a}}},{key:"mergeSymLabels",value:function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(e){for(var t=null,r=null,n=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var i=this._resultAreaEdgeList.get(o),a=i.getSym();switch(null===t&&i.getEdgeRing()===e&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==e)continue;r=a,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==e)continue;r.setNextMin(i),n=this._SCANNING_FOR_INCOMING}}n===this._LINKING_TO_OUTGOING&&(R.isTrue(null!==t,"found null for first outgoing dirEdge"),R.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),r.setNextMin(t))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var r=arguments[0],n=0,o=this.iterator();o.hasNext();)o.next().getEdgeRing()===r&&n++;return n}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var e=U.NONE,t=this.iterator();t.hasNext();){var r=t.next(),n=r.getSym();if(!r.isLineEdge()){if(r.isInResult()){e=U.INTERIOR;break}if(n.isInResult()){e=U.EXTERIOR;break}}}if(e===U.NONE)return null;for(var o=e,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(o===U.INTERIOR):(a.isInResult()&&(o=U.EXTERIOR),s.isInResult()&&(o=U.INTERIOR))}}},{key:"computeLabelling",value:function(e){f(o(a.prototype),"computeLabelling",this).call(this,e),this._label=new Ot(U.NONE);for(var t=this.iterator();t.hasNext();)for(var r=t.next().getEdge().getLabel(),n=0;n<2;n++){var i=r.getLocation(n);i!==U.INTERIOR&&i!==U.BOUNDARY||this._label.setLocation(n,U.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),a}(Fr),Lr=function(t){n(i,t);var o=u(i);function i(){return e(this,i),o.call(this)}return r(i,[{key:"createNode",value:function(e){return new jt(e,new Ar)}}]),i}(Gt),Rr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"compareTo",value:function(e){var r=e;return t.compareOriented(this._pts,this._orientation,r._pts,r._orientation)}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)}},{key:"orientation",value:function(e){return 1===We.increasingDirection(e)}},{key:"compareOriented",value:function(e,t,r,n){for(var o=t?1:-1,i=n?1:-1,a=t?e.length:-1,s=n?r.length:-1,c=t?0:e.length-1,l=n?0:r.length-1;;){var u=e[c].compareTo(r[l]);if(0!==u)return u;var f=(c+=o)===a,p=(l+=i)===s;if(f&&!p)return-1;if(!f&&p)return 1;if(f&&p)return 0}}}]),t}(),Dr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"print",value:function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var r=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var n=r.getCoordinates(),o=0;o<n.length;o++)o>0&&e.print(","),e.print(n[o].x+" "+n[o].y);e.println(")")}e.print(")  ")}},{key:"addAll",value:function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())}},{key:"findEdgeIndex",value:function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(e){return this._edges.get(e)}},{key:"findEqualEdge",value:function(e){var t=new Rr(e.getCoordinates());return this._ocaMap.get(t)}},{key:"add",value:function(e){this._edges.add(e);var t=new Rr(e.getCoordinates());this._ocaMap.put(t,e)}}],[{key:"constructor_",value:function(){this._edges=new de,this._ocaMap=new Rt}}]),t}(),Br=function(){function t(){e(this,t)}return r(t,[{key:"processIntersections",value:function(e,t,r,n){}},{key:"isDone",value:function(){}}]),t}(),Nr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"isTrivialIntersection",value:function(e,r,n,o){if(e===n&&1===this._li.getIntersectionNum()){if(t.isAdjacentSegments(r,o))return!0;if(e.isClosed()){var i=e.size()-1;if(0===r&&o===i||0===o&&r===i)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,t,r,n){if(e===r&&t===n)return null;this.numTests++;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=r.getCoordinates()[n],s=r.getCoordinates()[n+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,r,n)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),r.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Br]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,t){return 1===Math.abs(e-t)}}]),t}(),zr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)}},{key:"compareTo",value:function(e){var t=e;return this.compare(t.segmentIndex,t.dist)}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],r=arguments[2];this.coord=new z(e),this.segmentIndex=t,this.dist=r}}]),t}(),Gr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints();for(var t=this.iterator(),r=t.next();t.hasNext();){var n=t.next(),o=this.createSplitEdge(r,n);e.add(o),r=n}}},{key:"addEndpoints",value:function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}},{key:"createSplitEdge",value:function(e,t){var r=t.segmentIndex-e.segmentIndex+2,n=this.edge.pts[t.segmentIndex],o=t.dist>0||!t.coord.equals2D(n);o||r--;var i=new Array(r).fill(null),a=0;i[a++]=new z(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i[a++]=this.edge.pts[s];return o&&(i[a]=t.coord),new Jr(i,new Ot(this.edge._label))}},{key:"add",value:function(e,t,r){var n=new zr(e,t,r),o=this._nodeMap.get(n);return null!==o?o:(this._nodeMap.put(n,n),n)}},{key:"isIntersection",value:function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Rt,this.edge=null;var e=arguments[0];this.edge=e}}]),t}(),Vr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])||t.isTrue(this._matrix[U.INTERIOR][U.BOUNDARY])||t.isTrue(this._matrix[U.BOUNDARY][U.INTERIOR])||t.isTrue(this._matrix[U.BOUNDARY][U.BOUNDARY]))&&this._matrix[U.EXTERIOR][U.INTERIOR]===Ce.FALSE&&this._matrix[U.EXTERIOR][U.BOUNDARY]===Ce.FALSE}},{key:"isCoveredBy",value:function(){return(t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])||t.isTrue(this._matrix[U.INTERIOR][U.BOUNDARY])||t.isTrue(this._matrix[U.BOUNDARY][U.INTERIOR])||t.isTrue(this._matrix[U.BOUNDARY][U.BOUNDARY]))&&this._matrix[U.INTERIOR][U.EXTERIOR]===Ce.FALSE&&this._matrix[U.BOUNDARY][U.EXTERIOR]===Ce.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var r=Math.trunc(t/3),n=t%3;this._matrix[r][n]=Ce.toDimensionValue(e.charAt(t))}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];this._matrix[o][i]=a}}},{key:"isContains",value:function(){return t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])&&this._matrix[U.EXTERIOR][U.INTERIOR]===Ce.FALSE&&this._matrix[U.EXTERIOR][U.BOUNDARY]===Ce.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var r=Math.trunc(t/3),n=t%3;this.setAtLeast(r,n,Ce.toDimensionValue(e.charAt(t)))}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];this._matrix[o][i]<a&&(this._matrix[o][i]=a)}}},{key:"setAtLeastIfValid",value:function(e,t,r){e>=0&&t>=0&&this.setAtLeast(e,t,r)}},{key:"isWithin",value:function(){return t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])&&this._matrix[U.INTERIOR][U.EXTERIOR]===Ce.FALSE&&this._matrix[U.BOUNDARY][U.EXTERIOR]===Ce.FALSE}},{key:"isTouches",value:function(e,r){return e>r?this.isTouches(r,e):(e===Ce.A&&r===Ce.A||e===Ce.L&&r===Ce.L||e===Ce.L&&r===Ce.A||e===Ce.P&&r===Ce.A||e===Ce.P&&r===Ce.L)&&this._matrix[U.INTERIOR][U.INTERIOR]===Ce.FALSE&&(t.isTrue(this._matrix[U.INTERIOR][U.BOUNDARY])||t.isTrue(this._matrix[U.BOUNDARY][U.INTERIOR])||t.isTrue(this._matrix[U.BOUNDARY][U.BOUNDARY]))}},{key:"isOverlaps",value:function(e,r){return e===Ce.P&&r===Ce.P||e===Ce.A&&r===Ce.A?t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])&&t.isTrue(this._matrix[U.INTERIOR][U.EXTERIOR])&&t.isTrue(this._matrix[U.EXTERIOR][U.INTERIOR]):e===Ce.L&&r===Ce.L&&1===this._matrix[U.INTERIOR][U.INTERIOR]&&t.isTrue(this._matrix[U.INTERIOR][U.EXTERIOR])&&t.isTrue(this._matrix[U.EXTERIOR][U.INTERIOR])}},{key:"isEquals",value:function(e,r){return e===r&&t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])&&this._matrix[U.INTERIOR][U.EXTERIOR]===Ce.FALSE&&this._matrix[U.BOUNDARY][U.EXTERIOR]===Ce.FALSE&&this._matrix[U.EXTERIOR][U.INTERIOR]===Ce.FALSE&&this._matrix[U.EXTERIOR][U.BOUNDARY]===Ce.FALSE}},{key:"toString",value:function(){for(var e=new Xe("123456789"),t=0;t<3;t++)for(var r=0;r<3;r++)e.setCharAt(3*t+r,Ce.toDimensionSymbol(this._matrix[t][r]));return e.toString()}},{key:"setAll",value:function(e){for(var t=0;t<3;t++)for(var r=0;r<3;r++)this._matrix[t][r]=e}},{key:"get",value:function(e,t){return this._matrix[e][t]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(e){if(9!==e.length)throw new v("Should be length 9: "+e);for(var r=0;r<3;r++)for(var n=0;n<3;n++)if(!t.matches(this._matrix[r][n],e.charAt(3*r+n)))return!1;return!0}},{key:"add",value:function(e){for(var t=0;t<3;t++)for(var r=0;r<3;r++)this.setAtLeast(t,r,e.get(t,r))}},{key:"isDisjoint",value:function(){return this._matrix[U.INTERIOR][U.INTERIOR]===Ce.FALSE&&this._matrix[U.INTERIOR][U.BOUNDARY]===Ce.FALSE&&this._matrix[U.BOUNDARY][U.INTERIOR]===Ce.FALSE&&this._matrix[U.BOUNDARY][U.BOUNDARY]===Ce.FALSE}},{key:"isCrosses",value:function(e,r){return e===Ce.P&&r===Ce.L||e===Ce.P&&r===Ce.A||e===Ce.L&&r===Ce.A?t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])&&t.isTrue(this._matrix[U.INTERIOR][U.EXTERIOR]):e===Ce.L&&r===Ce.P||e===Ce.A&&r===Ce.P||e===Ce.A&&r===Ce.L?t.isTrue(this._matrix[U.INTERIOR][U.INTERIOR])&&t.isTrue(this._matrix[U.EXTERIOR][U.INTERIOR]):e===Ce.L&&r===Ce.L&&0===this._matrix[U.INTERIOR][U.INTERIOR]}},{key:"interfaces_",get:function(){return[_]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Ce.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var e=arguments[0];t.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof t){var r=arguments[0];t.constructor_.call(this),this._matrix[U.INTERIOR][U.INTERIOR]=r._matrix[U.INTERIOR][U.INTERIOR],this._matrix[U.INTERIOR][U.BOUNDARY]=r._matrix[U.INTERIOR][U.BOUNDARY],this._matrix[U.INTERIOR][U.EXTERIOR]=r._matrix[U.INTERIOR][U.EXTERIOR],this._matrix[U.BOUNDARY][U.INTERIOR]=r._matrix[U.BOUNDARY][U.INTERIOR],this._matrix[U.BOUNDARY][U.BOUNDARY]=r._matrix[U.BOUNDARY][U.BOUNDARY],this._matrix[U.BOUNDARY][U.EXTERIOR]=r._matrix[U.BOUNDARY][U.EXTERIOR],this._matrix[U.EXTERIOR][U.INTERIOR]=r._matrix[U.EXTERIOR][U.INTERIOR],this._matrix[U.EXTERIOR][U.BOUNDARY]=r._matrix[U.EXTERIOR][U.BOUNDARY],this._matrix[U.EXTERIOR][U.EXTERIOR]=r._matrix[U.EXTERIOR][U.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var e=arguments[0],r=arguments[1];return r===Ce.SYM_DONTCARE||r===Ce.SYM_TRUE&&(e>=0||e===Ce.TRUE)||r===Ce.SYM_FALSE&&e===Ce.FALSE||r===Ce.SYM_P&&e===Ce.P||r===Ce.SYM_L&&e===Ce.L||r===Ce.SYM_A&&e===Ce.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[1];return new t(arguments[0]).matches(n)}}},{key:"isTrue",value:function(e){return e>=0||e===Ce.TRUE}}]),t}(),qr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return null===e||0===e.length?null:(this.ensureCapacity(this._size+e.length),me.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var t=Math.max(e,2*this._data.length);this._data=Ie.copyOf(this._data,t)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return me.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)t.constructor_.call(this,10);else if(1===arguments.length){var e=arguments[0];this._data=new Array(e).fill(null)}}}]),t}(),Ur=function(){function t(){e(this,t)}return r(t,[{key:"getChainStartIndices",value:function(e){var t=0,r=new qr(Math.trunc(e.length/2));r.add(t);do{var n=this.findChainEnd(e,t);r.add(n),t=n}while(t<e.length-1);return r.toArray()}},{key:"findChainEnd",value:function(e,t){for(var r=Bt.quadrant(e[t],e[t+1]),n=t+1;n<e.length&&Bt.quadrant(e[n-1],e[n])===r;)n++;return n-1}},{key:"OLDgetChainStartIndices",value:function(e){var r=0,n=new de;n.add(r);do{var o=this.findChainEnd(e,r);n.add(o),r=o}while(r<e.length-1);return t.toIntArray(n)}}],[{key:"toIntArray",value:function(e){for(var t=new Array(e.size()).fill(null),r=0;r<t.length;r++)t[r]=e.get(r).intValue();return t}}]),t}(),Hr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(e){var t=this.pts[this.startIndex[e]].x,r=this.pts[this.startIndex[e+1]].x;return t>r?t:r}},{key:"getMinX",value:function(e){var t=this.pts[this.startIndex[e]].x,r=this.pts[this.startIndex[e+1]].x;return t<r?t:r}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[r],t.startIndex[r+1],n)}else if(6===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],c=arguments[4],l=arguments[5];if(i-o==1&&c-s==1)return l.addIntersections(this.e,o,a.e,s),null;if(!this.overlaps(o,i,a,s,c))return null;var u=Math.trunc((o+i)/2),f=Math.trunc((s+c)/2);o<u&&(s<f&&this.computeIntersectsForChain(o,u,a,s,f,l),f<c&&this.computeIntersectsForChain(o,u,a,f,c,l)),u<i&&(s<f&&this.computeIntersectsForChain(u,i,a,s,f,l),f<c&&this.computeIntersectsForChain(u,i,a,f,c,l))}}},{key:"overlaps",value:function(e,t,r,n,o){return V.intersects(this.pts[e],this.pts[t],r.pts[n],r.pts[o])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(e,t){for(var r=0;r<this.startIndex.length-1;r++)for(var n=0;n<e.startIndex.length-1;n++)this.computeIntersectsForChain(r,e,n,t)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Ur;this.startIndex=t.getChainStartIndices(this.pts)}}]),t}(),Wr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"getDepth",value:function(e,t){return this._depth[e][t]}},{key:"setDepth",value:function(e,t,r){this._depth[e][t]=r}},{key:"isNull",value:function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var r=0;r<3;r++)if(this._depth[e][r]!==t.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===t.NULL_VALUE}if(2===arguments.length){var o=arguments[0],i=arguments[1];return this._depth[o][i]===t.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var r=1;r<3;r++){var n=0;this._depth[e][r]>t&&(n=1),this._depth[e][r]=n}}}},{key:"getDelta",value:function(e){return this._depth[e][$.RIGHT]-this._depth[e][$.LEFT]}},{key:"getLocation",value:function(e,t){return this._depth[e][t]<=0?U.EXTERIOR:U.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var e=arguments[0],r=0;r<2;r++)for(var n=1;n<3;n++){var o=e.getLocation(r,n);o!==U.EXTERIOR&&o!==U.INTERIOR||(this.isNull(r,n)?this._depth[r][n]=t.depthAtLocation(o):this._depth[r][n]+=t.depthAtLocation(o))}else if(3===arguments.length){var i=arguments[0],a=arguments[1];arguments[2]===U.INTERIOR&&this._depth[i][a]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var r=0;r<3;r++)this._depth[e][r]=t.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===U.EXTERIOR?0:e===U.INTERIOR?1:t.NULL_VALUE}}]),t}();Wr.NULL_VALUE=-1;var Jr=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new a(e,Ot.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(e){this._isIsolated=e}},{key:"setName",value:function(e){this._name=e}},{key:"equals",value:function(e){if(!(e instanceof a))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var r=!0,n=!0,o=this.pts.length,i=0;i<this.pts.length;i++)if(this.pts[i].equals2D(t.pts[i])||(r=!1),this.pts[i].equals2D(t.pts[--o])||(n=!1),!r&&!n)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}}},{key:"print",value:function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(e){a.updateIM(this._label,e)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new Hr(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new V;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}},{key:"addIntersection",value:function(e,t,r,n){var o=new z(e.getIntersection(n)),i=t,a=e.getEdgeDistance(r,n),s=i+1;if(s<this.pts.length){var c=this.pts[s];o.equals2D(c)&&(i=s,a=0)}this.eiList.add(o,i,a)}},{key:"toString",value:function(){var e=new Xe;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()}},{key:"isPointwiseEqual",value:function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0}},{key:"setDepthDelta",value:function(e){this._depthDelta=e}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(e,t,r){for(var n=0;n<e.getIntersectionNum();n++)this.addIntersection(e,t,r,n)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Gr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Wr,this._depthDelta=0,1===arguments.length){var e=arguments[0];a.constructor_.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],r=arguments[1];this.pts=t,this._label=r}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Vr&&arguments[0]instanceof Ot))return f(o(a),"updateIM",this).apply(this,arguments);var e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,$.ON),e.getLocation(1,$.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,$.LEFT),e.getLocation(1,$.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,$.RIGHT),e.getLocation(1,$.RIGHT),2))}}]),a}(Mt),Yr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(e){var r=this._edgeList.findEqualEdge(e);if(null!==r){var n=r.getLabel(),o=e.getLabel();r.isPointwiseEqual(e)||(o=new Ot(e.getLabel())).flip(),n.merge(o);var i=t.depthDelta(o),a=r.getDepthDelta()+i;r.setDepthDelta(a)}else this._edgeList.add(e),e.setDepthDelta(t.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(e,t){for(var r=new de,n=e.iterator();n.hasNext();){var o=n.next(),i=o.getRightmostCoordinate(),a=new Or(r).getDepth(i);o.computeDepth(a),o.findResultEdges(),r.add(o),t.add(o.getDirectedEdges(),o.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var t=new de,r=e.getNodes().iterator();r.hasNext();){var n=r.next();if(!n.isVisited()){var o=new ge;o.create(n),t.add(o)}}return Xt.sort(t,Xt.reverseOrder()),t}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new mr,r=new wt;return r.setPrecisionModel(e),t.setSegmentIntersector(new Nr(r)),t}},{key:"buffer",value:function(e,t){var r=this._workingPrecisionModel;null===r&&(r=e.getPrecisionModel()),this._geomFact=e.getFactory();var n=new xr(r,this._bufParams),o=new jr(e,t,n).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,r),this._graph=new Vt(new Lr),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),a=new qt(this._geomFact);this.buildSubgraphs(i,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)}},{key:"computeNodedEdges",value:function(e,t){var r=this.getNoder(t);r.computeNodes(e);for(var n=r.getNodedSubstrings().iterator();n.hasNext();){var o=n.next(),i=o.getCoordinates();if(2!==i.length||!i[0].equals2D(i[1])){var a=o.getData(),s=new Jr(o.getCoordinates(),new Ot(a));this.insertUniqueEdge(s)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Dr;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var t=e.getLocation(0,$.LEFT),r=e.getLocation(0,$.RIGHT);return t===U.INTERIOR&&r===U.EXTERIOR?1:t===U.EXTERIOR&&r===U.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var t=new ot,r=new de;e.hasNext();){var n=e.next(),o=t.createLineString(n.getCoordinates());r.add(o)}return t.buildGeometry(r)}}]),t}(),Xr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"rescale",value:function(){if(re(arguments[0],H))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var r=arguments[0],n=0;n<r.length;n++)r[n].x=r[n].x/this._scaleFactor+this._offsetX,r[n].y=r[n].y/this._scaleFactor+this._offsetY;2===r.length&&r[0].equals2D(r[1])&&me.out.println(r)}}},{key:"scale",value:function(){if(re(arguments[0],H)){for(var e=arguments[0],t=new de(e.size()),r=e.iterator();r.hasNext();){var n=r.next();t.add(new ur(this.scale(n.getCoordinates()),n.getData()))}return t}if(arguments[0]instanceof Array){for(var o=arguments[0],i=new Array(o.length).fill(null),a=0;a<o.length;a++)i[a]=new z(Math.round((o[a].x-this._offsetX)*this._scaleFactor),Math.round((o[a].y-this._offsetY)*this._scaleFactor),o[a].getZ());return We.removeRepeatedPoints(i)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}},{key:"interfaces_",get:function(){return[gr]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],r=arguments[1];t.constructor_.call(this,e,r,0,0)}else if(4===arguments.length){var n=arguments[0],o=arguments[1];this._noder=n,this._scaleFactor=o,this._isScaled=!this.isIntegerPrecision()}}}]),t}(),Zr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var r=arguments[0],n=arguments[1].iterator();n.hasNext();)for(var o=n.next().getCoordinates(),i=1;i<o.length-1;i++)if(o[i].equals(r))throw new A("found endpt/interior pt intersection at index "+i+" :pt "+r)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),r=this._segStrings.iterator();r.hasNext();){var n=r.next();this.checkInteriorIntersections(t,n)}else if(2===arguments.length)for(var o=arguments[0],i=arguments[1],a=o.getCoordinates(),s=i.getCoordinates(),c=0;c<a.length-1;c++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(o,c,i,l);else if(4===arguments.length){var u=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3];if(u===p&&f===d)return null;var h=u.getCoordinates()[f],g=u.getCoordinates()[f+1],y=p.getCoordinates()[d],m=p.getCoordinates()[d+1];if(this._li.computeIntersection(h,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,h,g)||this.hasInteriorIntersection(this._li,y,m)))throw new A("found non-noded intersection at "+h+"-"+g+" and "+y+"-"+m)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var r=arguments[0].getCoordinates(),n=0;n<r.length-2;n++)this.checkCollapse(r[n],r[n+1],r[n+2])}},{key:"hasInteriorIntersection",value:function(e,t,r){for(var n=0;n<e.getIntersectionNum();n++){var o=e.getIntersection(n);if(!o.equals(t)&&!o.equals(r))return!0}return!1}},{key:"checkCollapse",value:function(e,r,n){if(e.equals(n))throw new A("found non-noded collapse at "+t.fact.createLineString([e,r,n]))}}],[{key:"constructor_",value:function(){this._li=new wt,this._segStrings=null;var e=arguments[0];this._segStrings=e}}]),t}();Zr.fact=new ot;var $r=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"intersectsScaled",value:function(e,t){var r=Math.min(e.x,t.x),n=Math.max(e.x,t.x),o=Math.min(e.y,t.y),i=Math.max(e.y,t.y),a=this._maxx<r||this._minx>n||this._maxy<o||this._miny>i;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return R.isTrue(!(a&&s),"Found bad envelope test"),s}},{key:"initCorners",value:function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new z(this._maxx,this._maxy),this._corner[1]=new z(this._minx,this._maxy),this._corner[2]=new z(this._minx,this._miny),this._corner[3]=new z(this._maxx,this._miny)}},{key:"intersects",value:function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var e=t.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new V(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))}},{key:"intersectsToleranceSquare",value:function(e,t){var r=!1,n=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||r&&n||e.equals(this._pt)||t.equals(this._pt)))))}},{key:"addSnappedNode",value:function(e,t){var r=e.getCoordinate(t),n=e.getCoordinate(t+1);return!!this.intersects(r,n)&&(e.addIntersection(this.getCoordinate(),t),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],r=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=r,t<=0)throw new v("Scale factor must be non-zero");1!==t&&(this._pt=new z(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new z,this._p1Scaled=new z),this.initCorners(this._pt)}}]),t}();$r.SAFE_ENV_EXPANSION_FACTOR=.75;var Kr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new fr}}]),t}(),Qr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"snap",value:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var n=arguments[0],o=arguments[1],i=arguments[2],a=n.getSafeEnvelope(),s=new en(n,o,i);return this._index.query(a,new(function(){function t(){e(this,t)}return r(t,[{key:"interfaces_",get:function(){return[Kt]}},{key:"visitItem",value:function(e){e.select(a,s)}}]),t}())),s.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var e=arguments[0];this._index=e}}]),t}(),en=function(t){n(a,t);var i=u(a);function a(){var t;return e(this,a),t=i.call(this),a.constructor_.apply(l(t),arguments),t}return r(a,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof dr))return f(o(a.prototype),"select",this).apply(this,arguments);var e=arguments[1],t=arguments[0].getContext();if(this._parentEdge===t&&(e===this._hotPixelVertexIndex||e+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(t,e)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],t=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=r}}]),a}(Kr);Qr.HotPixelSnapAction=en;var tn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"processIntersections",value:function(e,t,r,n){if(e===r&&t===n)return null;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=r.getCoordinates()[n],s=r.getCoordinates()[n+1];if(this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var c=0;c<this._li.getIntersectionNum();c++)this._interiorIntersections.add(this._li.getIntersection(c));e.addIntersections(this._li,t,0),r.addIntersections(this._li,n,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Br]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new de}}]),t}(),rn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"checkCorrectness",value:function(e){var t=ur.getNodedSubstrings(e),r=new Zr(t);try{r.checkValid()}catch(e){if(!(e instanceof m))throw e;e.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return ur.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(e,t){var r=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(r),this.computeVertexSnaps(e)}},{key:"findInteriorIntersections",value:function(e,t){var r=new tn(t);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(e),r.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(re(arguments[0],H))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof ur)for(var r=arguments[0],n=r.getCoordinates(),o=0;o<n.length;o++){var i=new $r(n[o],this._scaleFactor,this._li);this._pointSnapper.snap(i,r,o)&&r.addIntersection(n[o],o)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e,this._noder=new mr,this._pointSnapper=new Qr(this._noder.getIndex()),this.snapRound(e,this._li)}},{key:"computeIntersectionSnaps",value:function(e){for(var t=e.iterator();t.hasNext();){var r=t.next(),n=new $r(r,this._scaleFactor,this._li);this._pointSnapper.snap(n)}}},{key:"interfaces_",get:function(){return[gr]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new wt,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}}]),t}(),nn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return r(t,[{key:"bufferFixedPrecision",value:function(e){var t=new Xr(new rn(new tt(1)),e.getScale()),r=new Yr(this._bufParams);r.setWorkingPrecisionModel(e),r.setNoder(t),this._resultGeometry=r.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var e=t.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(e){if(!(e instanceof fe))throw e;this._saveException=e}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var r=arguments[0],n=t.precisionScaleFactor(this._argGeom,this._distance,r),o=new tt(n);this.bufferFixedPrecision(o)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===tt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new Yr(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof A))throw e;this._saveException=e}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new y,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],r=arguments[1];this._argGeom=t,this._bufParams=r}}},{key:"bufferOp",value:function(){if(2===arguments.length){var e=arguments[1];return new t(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof q&&"number"==typeof arguments[1]){var r=arguments[1],n=arguments[2],o=new t(arguments[0]);return o.setQuadrantSegments(n),o.getResultGeometry(r)}if(arguments[2]instanceof y&&arguments[0]instanceof q&&"number"==typeof arguments[1]){var i=arguments[1];return new t(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var a=arguments[1],s=arguments[2],c=arguments[3],l=new t(arguments[0]);return l.setQuadrantSegments(s),l.setEndCapStyle(c),l.getResultGeometry(a)}}},{key:"precisionScaleFactor",value:function(e,t,r){var n=e.getEnvelopeInternal(),o=ve.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(t>0?t:0),i=r-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,i)}}]),t}();nn.CAP_ROUND=y.CAP_ROUND,nn.CAP_BUTT=y.CAP_FLAT,nn.CAP_FLAT=y.CAP_FLAT,nn.CAP_SQUARE=y.CAP_SQUARE,nn.MAX_PRECISION_DIGITS=12;var on=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],an=function(){function t(r){e(this,t),this.geometryFactory=r||new ot}return r(t,[{key:"read",value:function(e){var t,r=(t="string"==typeof e?JSON.parse(e):e).type;if(!sn[r])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==on.indexOf(r)?sn[r].call(this,t.coordinates):"GeometryCollection"===r?sn[r].call(this,t.geometries):sn[r].call(this,t)}},{key:"write",value:function(e){var t=e.getGeometryType();if(!cn[t])throw new Error("Geometry is not supported");return cn[t].call(this,e)}}]),t}(),sn={Feature:function(e){var t={};for(var r in e)t[r]=e[r];if(e.geometry){var n=e.geometry.type;if(!sn[n])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=sn.bbox.call(this,e.bbox)),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var r=0;r<e.features.length;++r)t.features.push(this.read(e.features[r]))}return e.bbox&&(t.bbox=this.parse.bbox.call(this,e.bbox)),t},coordinates:function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push(s(z,p(n)))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new z(e[0],e[1]),new z(e[2],e[1]),new z(e[2],e[3]),new z(e[0],e[3]),new z(e[0],e[1])])},Point:function(e){var t=s(z,p(e));return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],r=0;r<e.length;++r)t.push(sn.Point.call(this,e[r]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=sn.coordinates.call(this,e);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],r=0;r<e.length;++r)t.push(sn.LineString.call(this,e[r]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=sn.coordinates.call(this,e[0]),r=this.geometryFactory.createLinearRing(t),n=[],o=1;o<e.length;++o){var i=e[o],a=sn.coordinates.call(this,i),s=this.geometryFactory.createLinearRing(a);n.push(s)}return this.geometryFactory.createPolygon(r,n)},MultiPolygon:function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push(sn.Polygon.call(this,n))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r];t.push(this.read(n))}return this.geometryFactory.createGeometryCollection(t)}},cn={coordinate:function(e){var t=[e.x,e.y];return e.z&&t.push(e.z),e.m&&t.push(e.m),t},Point:function(e){return{type:"Point",coordinates:cn.coordinate.call(this,e.getCoordinate())}},MultiPoint:function(e){for(var t=[],r=0;r<e._geometries.length;++r){var n=e._geometries[r],o=cn.Point.call(this,n);t.push(o.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],r=e.getCoordinates(),n=0;n<r.length;++n){var o=r[n];t.push(cn.coordinate.call(this,o))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],r=0;r<e._geometries.length;++r){var n=e._geometries[r],o=cn.LineString.call(this,n);t.push(o.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],r=cn.LineString.call(this,e._shell);t.push(r.coordinates);for(var n=0;n<e._holes.length;++n){var o=e._holes[n],i=cn.LineString.call(this,o);t.push(i.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],r=0;r<e._geometries.length;++r){var n=e._geometries[r],o=cn.Polygon.call(this,n);t.push(o.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],r=0;r<e._geometries.length;++r){var n=e._geometries[r],o=n.getGeometryType();t.push(cn[o].call(this,n))}return{type:"GeometryCollection",geometries:t}}};return{BufferOp:nn,GeoJSONReader:function(){function t(r){e(this,t),this.parser=new an(r||new ot)}return r(t,[{key:"read",value:function(e){return this.parser.read(e)}}]),t}(),GeoJSONWriter:function(){function t(){e(this,t),this.parser=new an(this.geometryFactory)}return r(t,[{key:"write",value:function(e){return this.parser.write(e)}}]),t}()}}()},19511:(e,t,r)=>{"use strict";var n=r(38075)("ArrayBuffer.prototype.byteLength",!0),o=r(84670);e.exports=function(e){return o(e)?n?n(e):e.byteLength:NaN}},38075:(e,t,r)=>{"use strict";var n=r(70453),o=r(10487),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},10487:(e,t,r)=>{"use strict";var n=r(66743),o=r(70453),i=r(96897),a=r(69675),s=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||n.call(c,s),u=r(30655),f=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=l(n,c,arguments);return i(t,1+f(0,e.length-(arguments.length-1)),!0)};var p=function(){return l(n,s,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},71582:(e,t,r)=>{"use strict";var n=r(35341),o=r(44262),i=r(51476),a=r(53467).orient2d;function s(e,t,r){t=Math.max(0,void 0===t?2:t),r=r||0;var o=function(e){for(var t=e[0],r=e[0],n=e[0],o=e[0],a=0;a<e.length;a++){var s=e[a];s[0]<t[0]&&(t=s),s[0]>n[0]&&(n=s),s[1]<r[1]&&(r=s),s[1]>o[1]&&(o=s)}var c=[t,r,n,o],l=c.slice();for(a=0;a<e.length;a++)i(e[a],c)||l.push(e[a]);return function(e){e.sort(b);for(var t=[],r=0;r<e.length;r++){for(;t.length>=2&&d(t[t.length-2],t[t.length-1],e[r])<=0;)t.pop();t.push(e[r])}for(var n=[],o=e.length-1;o>=0;o--){for(;n.length>=2&&d(n[n.length-2],n[n.length-1],e[o])<=0;)n.pop();n.push(e[o])}return n.pop(),t.pop(),t.concat(n)}(l)}(e),a=new n(16);a.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},a.compareMinX=function(e,t){return e[0]-t[0]},a.compareMinY=function(e,t){return e[1]-t[1]},a.load(e);for(var s,l=[],u=0;u<o.length;u++){var f=o[u];a.remove(f),s=g(f,s),l.push(s)}var p=new n(16);for(u=0;u<l.length;u++)p.insert(h(l[u]));for(var m=t*t,v=r*r;l.length;){var w=l.shift(),_=w.p,P=w.next.p,x=y(_,P);if(!(x<v)){var O=x/m;(f=c(a,w.prev.p,_,P,w.next.next.p,O,p))&&Math.min(y(f,_),y(f,P))<=O&&(l.push(w),l.push(g(f,w)),a.remove(f),p.remove(w),p.insert(h(w)),p.insert(h(w.next)))}}w=s;var C=[];do{C.push(w.p),w=w.next}while(w!==s);return C.push(w.p),C}function c(e,t,r,n,i,a,s){for(var c=new o([],l),f=e.data;f;){for(var d=0;d<f.children.length;d++){var h=f.children[d],g=f.leaf?m(h,r,n):u(r,n,h);g>a||c.push({node:h,dist:g})}for(;c.length&&!c.peek().node.children;){var y=c.pop(),v=y.node,b=m(v,t,r),w=m(v,n,i);if(y.dist<b&&y.dist<w&&p(r,v,s)&&p(n,v,s))return v}(f=c.pop())&&(f=f.node)}return null}function l(e,t){return e.dist-t.dist}function u(e,t,r){if(f(e,r)||f(t,r))return 0;var n=v(e[0],e[1],t[0],t[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var o=v(e[0],e[1],t[0],t[1],r.minX,r.minY,r.minX,r.maxY);if(0===o)return 0;var i=v(e[0],e[1],t[0],t[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===i)return 0;var a=v(e[0],e[1],t[0],t[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===a?0:Math.min(n,o,i,a)}function f(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function p(e,t,r){for(var n,o,i,a,s=Math.min(e[0],t[0]),c=Math.min(e[1],t[1]),l=Math.max(e[0],t[0]),u=Math.max(e[1],t[1]),f=r.search({minX:s,minY:c,maxX:l,maxY:u}),p=0;p<f.length;p++)if(n=f[p].p,o=f[p].next.p,i=e,n!==(a=t)&&o!==i&&d(n,o,i)>0!=d(n,o,a)>0&&d(i,a,n)>0!=d(i,a,o)>0)return!1;return!0}function d(e,t,r){return a(e[0],e[1],t[0],t[1],r[0],r[1])}function h(e){var t=e.p,r=e.next.p;return e.minX=Math.min(t[0],r[0]),e.minY=Math.min(t[1],r[1]),e.maxX=Math.max(t[0],r[0]),e.maxY=Math.max(t[1],r[1]),e}function g(e,t){var r={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(r.next=t.next,r.prev=t,t.next.prev=r,t.next=r):(r.prev=r,r.next=r),r}function y(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function m(e,t,r){var n=t[0],o=t[1],i=r[0]-n,a=r[1]-o;if(0!==i||0!==a){var s=((e[0]-n)*i+(e[1]-o)*a)/(i*i+a*a);s>1?(n=r[0],o=r[1]):s>0&&(n+=i*s,o+=a*s)}return(i=e[0]-n)*i+(a=e[1]-o)*a}function v(e,t,r,n,o,i,a,s){var c,l,u,f,p=r-e,d=n-t,h=a-o,g=s-i,y=e-o,m=t-i,v=p*p+d*d,b=p*h+d*g,w=h*h+g*g,_=p*y+d*m,P=h*y+g*m,x=v*w-b*b,O=x,C=x;0===x?(l=0,O=1,f=P,C=w):(f=v*P-b*_,(l=b*P-w*_)<0?(l=0,f=P,C=w):l>O&&(l=O,f=P+b,C=w)),f<0?(f=0,-_<0?l=0:-_>v?l=O:(l=-_,O=v)):f>C&&(f=C,-_+b<0?l=0:-_+b>v?l=O:(l=-_+b,O=v));var S=(1-(u=0===f?0:f/C))*o+u*a-((1-(c=0===l?0:l/O))*e+c*r),E=(1-u)*i+u*s-((1-c)*t+c*n);return S*S+E*E}function b(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}o.default&&(o=o.default),e.exports=s,e.exports.default=s},51715:(e,t,r)=>{"use strict";function n(){return new o}function o(){this.reset()}r.r(t),r.d(t,{geoAlbers:()=>Pn,geoAlbersUsa:()=>xn,geoArea:()=>X,geoAzimuthalEqualArea:()=>En,geoAzimuthalEqualAreaRaw:()=>Sn,geoAzimuthalEquidistant:()=>jn,geoAzimuthalEquidistantRaw:()=>Mn,geoBounds:()=>Ge,geoCentroid:()=>tt,geoCircle:()=>pt,geoClipExtent:()=>Ct,geoConicConformal:()=>Ln,geoConicConformalRaw:()=>An,geoConicEqualArea:()=>_n,geoConicEqualAreaRaw:()=>wn,geoConicEquidistant:()=>Nn,geoConicEquidistantRaw:()=>Bn,geoContains:()=>Yt,geoDistance:()=>Nt,geoEquirectangular:()=>Dn,geoEquirectangularRaw:()=>Rn,geoGnomonic:()=>Gn,geoGnomonicRaw:()=>zn,geoGraticule:()=>$t,geoGraticule10:()=>Kt,geoIdentity:()=>qn,geoInterpolate:()=>Qt,geoLength:()=>Rt,geoMercator:()=>Tn,geoMercatorRaw:()=>kn,geoNaturalEarth1:()=>Hn,geoNaturalEarth1Raw:()=>Un,geoOrthographic:()=>Jn,geoOrthographicRaw:()=>Wn,geoPath:()=>rn,geoProjection:()=>mn,geoProjectionMutator:()=>vn,geoRotation:()=>lt,geoStereographic:()=>Xn,geoStereographicRaw:()=>Yn,geoStream:()=>R,geoTransform:()=>cn,geoTransverseMercator:()=>$n,geoTransverseMercatorRaw:()=>Zn}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(e){a(i,e,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function a(e,t,r){var n=e.s=t+r,o=n-t,i=n-o;e.t=t-i+(r-o)}var s=1e-6,c=1e-12,l=Math.PI,u=l/2,f=l/4,p=2*l,d=180/l,h=l/180,g=Math.abs,y=Math.atan,m=Math.atan2,v=Math.cos,b=Math.ceil,w=Math.exp,_=(Math.floor,Math.log),P=Math.pow,x=Math.sin,O=Math.sign||function(e){return e>0?1:e<0?-1:0},C=Math.sqrt,S=Math.tan;function E(e){return e>1?0:e<-1?l:Math.acos(e)}function M(e){return e>1?u:e<-1?-u:Math.asin(e)}function j(e){return(e=x(e/2))*e}function k(){}function T(e,t){e&&F.hasOwnProperty(e.type)&&F[e.type](e,t)}var I={Feature:function(e,t){T(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,o=r.length;++n<o;)T(r[n].geometry,t)}},F={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){A(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)A(r[n],t,0)},Polygon:function(e,t){L(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)L(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,o=r.length;++n<o;)T(r[n],t)}};function A(e,t,r){var n,o=-1,i=e.length-r;for(t.lineStart();++o<i;)n=e[o],t.point(n[0],n[1],n[2]);t.lineEnd()}function L(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)A(e[r],t,1);t.polygonEnd()}function R(e,t){e&&I.hasOwnProperty(e.type)?I[e.type](e,t):T(e,t)}var D,B,N,z,G,V=n(),q=n(),U={point:k,lineStart:k,lineEnd:k,polygonStart:function(){V.reset(),U.lineStart=H,U.lineEnd=W},polygonEnd:function(){var e=+V;q.add(e<0?p+e:e),this.lineStart=this.lineEnd=this.point=k},sphere:function(){q.add(p)}};function H(){U.point=J}function W(){Y(D,B)}function J(e,t){U.point=Y,D=e,B=t,N=e*=h,z=v(t=(t*=h)/2+f),G=x(t)}function Y(e,t){var r=(e*=h)-N,n=r>=0?1:-1,o=n*r,i=v(t=(t*=h)/2+f),a=x(t),s=G*a,c=z*i+s*v(o),l=s*n*x(o);V.add(m(l,c)),N=e,z=i,G=a}function X(e){return q.reset(),R(e,U),2*q}function Z(e){return[m(e[1],e[0]),M(e[2])]}function $(e){var t=e[0],r=e[1],n=v(r);return[n*v(t),n*x(t),x(r)]}function K(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ee(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function te(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function re(e){var t=C(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ne,oe,ie,ae,se,ce,le,ue,fe,pe,de,he,ge,ye,me,ve,be,we,_e,Pe,xe,Oe,Ce,Se,Ee,Me,je=n(),ke={point:Te,lineStart:Fe,lineEnd:Ae,polygonStart:function(){ke.point=Le,ke.lineStart=Re,ke.lineEnd=De,je.reset(),U.polygonStart()},polygonEnd:function(){U.polygonEnd(),ke.point=Te,ke.lineStart=Fe,ke.lineEnd=Ae,V<0?(ne=-(ie=180),oe=-(ae=90)):je>s?ae=90:je<-s&&(oe=-90),pe[0]=ne,pe[1]=ie}};function Te(e,t){fe.push(pe=[ne=e,ie=e]),t<oe&&(oe=t),t>ae&&(ae=t)}function Ie(e,t){var r=$([e*h,t*h]);if(ue){var n=Q(ue,r),o=Q([n[1],-n[0],0],n);re(o),o=Z(o);var i,a=e-se,s=a>0?1:-1,c=o[0]*d*s,l=g(a)>180;l^(s*se<c&&c<s*e)?(i=o[1]*d)>ae&&(ae=i):l^(s*se<(c=(c+360)%360-180)&&c<s*e)?(i=-o[1]*d)<oe&&(oe=i):(t<oe&&(oe=t),t>ae&&(ae=t)),l?e<se?Be(ne,e)>Be(ne,ie)&&(ie=e):Be(e,ie)>Be(ne,ie)&&(ne=e):ie>=ne?(e<ne&&(ne=e),e>ie&&(ie=e)):e>se?Be(ne,e)>Be(ne,ie)&&(ie=e):Be(e,ie)>Be(ne,ie)&&(ne=e)}else fe.push(pe=[ne=e,ie=e]);t<oe&&(oe=t),t>ae&&(ae=t),ue=r,se=e}function Fe(){ke.point=Ie}function Ae(){pe[0]=ne,pe[1]=ie,ke.point=Te,ue=null}function Le(e,t){if(ue){var r=e-se;je.add(g(r)>180?r+(r>0?360:-360):r)}else ce=e,le=t;U.point(e,t),Ie(e,t)}function Re(){U.lineStart()}function De(){Le(ce,le),U.lineEnd(),g(je)>s&&(ne=-(ie=180)),pe[0]=ne,pe[1]=ie,ue=null}function Be(e,t){return(t-=e)<0?t+360:t}function Ne(e,t){return e[0]-t[0]}function ze(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Ge(e){var t,r,n,o,i,a,s;if(ae=ie=-(ne=oe=1/0),fe=[],R(e,ke),r=fe.length){for(fe.sort(Ne),t=1,i=[n=fe[0]];t<r;++t)ze(n,(o=fe[t])[0])||ze(n,o[1])?(Be(n[0],o[1])>Be(n[0],n[1])&&(n[1]=o[1]),Be(o[0],n[1])>Be(n[0],n[1])&&(n[0]=o[0])):i.push(n=o);for(a=-1/0,t=0,n=i[r=i.length-1];t<=r;n=o,++t)o=i[t],(s=Be(n[1],o[0]))>a&&(a=s,ne=o[0],ie=n[1])}return fe=pe=null,ne===1/0||oe===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,oe],[ie,ae]]}var Ve,qe,Ue={sphere:k,point:He,lineStart:Je,lineEnd:Ze,polygonStart:function(){Ue.lineStart=$e,Ue.lineEnd=Ke},polygonEnd:function(){Ue.lineStart=Je,Ue.lineEnd=Ze}};function He(e,t){e*=h;var r=v(t*=h);We(r*v(e),r*x(e),x(t))}function We(e,t,r){++de,ge+=(e-ge)/de,ye+=(t-ye)/de,me+=(r-me)/de}function Je(){Ue.point=Ye}function Ye(e,t){e*=h;var r=v(t*=h);Se=r*v(e),Ee=r*x(e),Me=x(t),Ue.point=Xe,We(Se,Ee,Me)}function Xe(e,t){e*=h;var r=v(t*=h),n=r*v(e),o=r*x(e),i=x(t),a=m(C((a=Ee*i-Me*o)*a+(a=Me*n-Se*i)*a+(a=Se*o-Ee*n)*a),Se*n+Ee*o+Me*i);he+=a,ve+=a*(Se+(Se=n)),be+=a*(Ee+(Ee=o)),we+=a*(Me+(Me=i)),We(Se,Ee,Me)}function Ze(){Ue.point=He}function $e(){Ue.point=Qe}function Ke(){et(Oe,Ce),Ue.point=He}function Qe(e,t){Oe=e,Ce=t,e*=h,t*=h,Ue.point=et;var r=v(t);Se=r*v(e),Ee=r*x(e),Me=x(t),We(Se,Ee,Me)}function et(e,t){e*=h;var r=v(t*=h),n=r*v(e),o=r*x(e),i=x(t),a=Ee*i-Me*o,s=Me*n-Se*i,c=Se*o-Ee*n,l=C(a*a+s*s+c*c),u=M(l),f=l&&-u/l;_e+=f*a,Pe+=f*s,xe+=f*c,he+=u,ve+=u*(Se+(Se=n)),be+=u*(Ee+(Ee=o)),we+=u*(Me+(Me=i)),We(Se,Ee,Me)}function tt(e){de=he=ge=ye=me=ve=be=we=_e=Pe=xe=0,R(e,Ue);var t=_e,r=Pe,n=xe,o=t*t+r*r+n*n;return o<c&&(t=ve,r=be,n=we,he<s&&(t=ge,r=ye,n=me),(o=t*t+r*r+n*n)<c)?[NaN,NaN]:[m(r,t)*d,M(n/C(o))*d]}function rt(e){return function(){return e}}function nt(e,t){function r(r,n){return r=e(r,n),t(r[0],r[1])}return e.invert&&t.invert&&(r.invert=function(r,n){return(r=t.invert(r,n))&&e.invert(r[0],r[1])}),r}function ot(e,t){return[e>l?e-p:e<-l?e+p:e,t]}function it(e,t,r){return(e%=p)?t||r?nt(st(e),ct(t,r)):st(e):t||r?ct(t,r):ot}function at(e){return function(t,r){return[(t+=e)>l?t-p:t<-l?t+p:t,r]}}function st(e){var t=at(e);return t.invert=at(-e),t}function ct(e,t){var r=v(e),n=x(e),o=v(t),i=x(t);function a(e,t){var a=v(t),s=v(e)*a,c=x(e)*a,l=x(t),u=l*r+s*n;return[m(c*o-u*i,s*r-l*n),M(u*o+c*i)]}return a.invert=function(e,t){var a=v(t),s=v(e)*a,c=x(e)*a,l=x(t),u=l*o-c*i;return[m(c*o+l*i,s*r+u*n),M(u*r-s*n)]},a}function lt(e){function t(t){return(t=e(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t}return e=it(e[0]*h,e[1]*h,e.length>2?e[2]*h:0),t.invert=function(t){return(t=e.invert(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t},t}function ut(e,t,r,n,o,i){if(r){var a=v(t),s=x(t),c=n*r;null==o?(o=t+n*p,i=t-c/2):(o=ft(a,o),i=ft(a,i),(n>0?o<i:o>i)&&(o+=n*p));for(var l,u=o;n>0?u>i:u<i;u-=c)l=Z([a,-s*v(u),-s*x(u)]),e.point(l[0],l[1])}}function ft(e,t){(t=$(t))[0]-=e,re(t);var r=E(-t[1]);return((-t[2]<0?-r:r)+p-s)%p}function pt(){var e,t,r=rt([0,0]),n=rt(90),o=rt(6),i={point:function(r,n){e.push(r=t(r,n)),r[0]*=d,r[1]*=d}};function a(){var a=r.apply(this,arguments),s=n.apply(this,arguments)*h,c=o.apply(this,arguments)*h;return e=[],t=it(-a[0]*h,-a[1]*h,0).invert,ut(i,s,c,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(r="function"==typeof e?e:rt([+e[0],+e[1]]),a):r},a.radius=function(e){return arguments.length?(n="function"==typeof e?e:rt(+e),a):n},a.precision=function(e){return arguments.length?(o="function"==typeof e?e:rt(+e),a):o},a}function dt(){var e,t=[];return{point:function(t,r){e.push([t,r])},lineStart:function(){t.push(e=[])},lineEnd:k,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function ht(e,t){return g(e[0]-t[0])<s&&g(e[1]-t[1])<s}function gt(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function yt(e,t,r,n,o){var i,a,s=[],c=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,r,n=e[0],a=e[t];if(ht(n,a)){for(o.lineStart(),i=0;i<t;++i)o.point((n=e[i])[0],n[1]);o.lineEnd()}else s.push(r=new gt(n,e,null,!0)),c.push(r.o=new gt(n,null,r,!1)),s.push(r=new gt(a,e,null,!1)),c.push(r.o=new gt(a,null,r,!0))}})),s.length){for(c.sort(t),mt(s),mt(c),i=0,a=c.length;i<a;++i)c[i].e=r=!r;for(var l,u,f=s[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;l=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(i=0,a=l.length;i<a;++i)o.point((u=l[i])[0],u[1]);else n(p.x,p.n.x,1,o);p=p.n}else{if(d)for(l=p.p.z,i=l.length-1;i>=0;--i)o.point((u=l[i])[0],u[1]);else n(p.x,p.p.x,-1,o);p=p.p}l=(p=p.o).z,d=!d}while(!p.v);o.lineEnd()}}}function mt(e){if(t=e.length){for(var t,r,n=0,o=e[0];++n<t;)o.n=r=e[n],r.p=o,o=r;o.n=r=e[0],r.p=o}}function vt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}ot.invert=ot,1===(Ve=vt).length&&(qe=Ve,Ve=function(e,t){return vt(qe(e),t)});var bt=Array.prototype;function wt(e){for(var t,r,n,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(r=new Array(a);--o>=0;)for(t=(n=e[o]).length;--t>=0;)r[--a]=n[t];return r}function _t(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(o);++n<o;)i[n]=e+n*r;return i}bt.slice,bt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Pt=1e9,xt=-Pt;function Ot(e,t,r,n){function o(o,i){return e<=o&&o<=r&&t<=i&&i<=n}function i(o,i,s,c){var u=0,f=0;if(null==o||(u=a(o,s))!==(f=a(i,s))||l(o,i)<0^s>0)do{c.point(0===u||3===u?e:r,u>1?n:t)}while((u=(u+s+4)%4)!==f);else c.point(i[0],i[1])}function a(n,o){return g(n[0]-e)<s?o>0?0:3:g(n[0]-r)<s?o>0?2:1:g(n[1]-t)<s?o>0?1:0:o>0?3:2}function c(e,t){return l(e.x,t.x)}function l(e,t){var r=a(e,1),n=a(t,1);return r!==n?r-n:0===r?t[1]-e[1]:1===r?e[0]-t[0]:2===r?e[1]-t[1]:t[0]-e[0]}return function(a){var s,l,u,f,p,d,h,g,y,m,v,b=a,w=dt(),_={point:P,lineStart:function(){_.point=x,l&&l.push(u=[]),m=!0,y=!1,h=g=NaN},lineEnd:function(){s&&(x(f,p),d&&y&&w.rejoin(),s.push(w.result())),_.point=P,y&&b.lineEnd()},polygonStart:function(){b=w,s=[],l=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,r=0,o=l.length;r<o;++r)for(var i,a,s=l[r],c=1,u=s.length,f=s[0],p=f[0],d=f[1];c<u;++c)i=p,a=d,p=(f=s[c])[0],d=f[1],a<=n?d>n&&(p-i)*(n-a)>(d-a)*(e-i)&&++t:d<=n&&(p-i)*(n-a)<(d-a)*(e-i)&&--t;return t}(),r=v&&t,o=(s=wt(s)).length;(r||o)&&(a.polygonStart(),r&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&yt(s,c,t,i,a),a.polygonEnd()),b=a,s=l=u=null}};function P(e,t){o(e,t)&&b.point(e,t)}function x(i,a){var s=o(i,a);if(l&&u.push([i,a]),m)f=i,p=a,d=s,m=!1,s&&(b.lineStart(),b.point(i,a));else if(s&&y)b.point(i,a);else{var c=[h=Math.max(xt,Math.min(Pt,h)),g=Math.max(xt,Math.min(Pt,g))],w=[i=Math.max(xt,Math.min(Pt,i)),a=Math.max(xt,Math.min(Pt,a))];!function(e,t,r,n,o,i){var a,s=e[0],c=e[1],l=0,u=1,f=t[0]-s,p=t[1]-c;if(a=r-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>l&&(l=a)}if(a=o-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<u&&(u=a)}if(a=n-c,p||!(a>0)){if(a/=p,p<0){if(a<l)return;a<u&&(u=a)}else if(p>0){if(a>u)return;a>l&&(l=a)}if(a=i-c,p||!(a<0)){if(a/=p,p<0){if(a>u)return;a>l&&(l=a)}else if(p>0){if(a<l)return;a<u&&(u=a)}return l>0&&(e[0]=s+l*f,e[1]=c+l*p),u<1&&(t[0]=s+u*f,t[1]=c+u*p),!0}}}}}(c,w,e,t,r,n)?s&&(b.lineStart(),b.point(i,a),v=!1):(y||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),s||b.lineEnd(),v=!1)}h=i,g=a,y=s}return _}}function Ct(){var e,t,r,n=0,o=0,i=960,a=500;return r={stream:function(r){return e&&t===r?e:e=Ot(n,o,i,a)(t=r)},extent:function(s){return arguments.length?(n=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,r):[[n,o],[i,a]]}}}var St=n();function Et(e,t){var r=t[0],n=t[1],o=[x(r),-v(r),0],i=0,a=0;St.reset();for(var c=0,u=e.length;c<u;++c)if(h=(d=e[c]).length)for(var d,h,g=d[h-1],y=g[0],b=g[1]/2+f,w=x(b),_=v(b),P=0;P<h;++P,y=C,w=E,_=j,g=O){var O=d[P],C=O[0],S=O[1]/2+f,E=x(S),j=v(S),k=C-y,T=k>=0?1:-1,I=T*k,F=I>l,A=w*E;if(St.add(m(A*T*x(I),_*j+A*v(I))),i+=F?k+T*p:k,F^y>=r^C>=r){var L=Q($(g),$(O));re(L);var R=Q(o,L);re(R);var D=(F^k>=0?-1:1)*M(R[2]);(n>D||n===D&&(L[0]||L[1]))&&(a+=F^k>=0?1:-1)}}return(i<-s||i<s&&St<-s)^1&a}var Mt,jt,kt,Tt=n(),It={sphere:k,point:k,lineStart:function(){It.point=At,It.lineEnd=Ft},lineEnd:k,polygonStart:k,polygonEnd:k};function Ft(){It.point=It.lineEnd=k}function At(e,t){Mt=e*=h,jt=x(t*=h),kt=v(t),It.point=Lt}function Lt(e,t){e*=h;var r=x(t*=h),n=v(t),o=g(e-Mt),i=v(o),a=n*x(o),s=kt*r-jt*n*i,c=jt*r+kt*n*i;Tt.add(m(C(a*a+s*s),c)),Mt=e,jt=r,kt=n}function Rt(e){return Tt.reset(),R(e,It),+Tt}var Dt=[null,null],Bt={type:"LineString",coordinates:Dt};function Nt(e,t){return Dt[0]=e,Dt[1]=t,Rt(Bt)}var zt={Feature:function(e,t){return Vt(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,o=r.length;++n<o;)if(Vt(r[n].geometry,t))return!0;return!1}},Gt={Sphere:function(){return!0},Point:function(e,t){return qt(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)if(qt(r[n],t))return!0;return!1},LineString:function(e,t){return Ut(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)if(Ut(r[n],t))return!0;return!1},Polygon:function(e,t){return Ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,o=r.length;++n<o;)if(Ht(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,o=r.length;++n<o;)if(Vt(r[n],t))return!0;return!1}};function Vt(e,t){return!(!e||!Gt.hasOwnProperty(e.type))&&Gt[e.type](e,t)}function qt(e,t){return 0===Nt(e,t)}function Ut(e,t){var r=Nt(e[0],e[1]);return Nt(e[0],t)+Nt(t,e[1])<=r+s}function Ht(e,t){return!!Et(e.map(Wt),Jt(t))}function Wt(e){return(e=e.map(Jt)).pop(),e}function Jt(e){return[e[0]*h,e[1]*h]}function Yt(e,t){return(e&&zt.hasOwnProperty(e.type)?zt[e.type]:Vt)(e,t)}function Xt(e,t,r){var n=_t(e,t-s,r).concat(t);return function(e){return n.map((function(t){return[e,t]}))}}function Zt(e,t,r){var n=_t(e,t-s,r).concat(t);return function(e){return n.map((function(t){return[t,e]}))}}function $t(){var e,t,r,n,o,i,a,c,l,u,f,p,d=10,h=d,y=90,m=360,v=2.5;function w(){return{type:"MultiLineString",coordinates:_()}}function _(){return _t(b(n/y)*y,r,y).map(f).concat(_t(b(c/m)*m,a,m).map(p)).concat(_t(b(t/d)*d,e,d).filter((function(e){return g(e%y)>s})).map(l)).concat(_t(b(i/h)*h,o,h).filter((function(e){return g(e%m)>s})).map(u))}return w.lines=function(){return _().map((function(e){return{type:"LineString",coordinates:e}}))},w.outline=function(){return{type:"Polygon",coordinates:[f(n).concat(p(a).slice(1),f(r).reverse().slice(1),p(c).reverse().slice(1))]}},w.extent=function(e){return arguments.length?w.extentMajor(e).extentMinor(e):w.extentMinor()},w.extentMajor=function(e){return arguments.length?(n=+e[0][0],r=+e[1][0],c=+e[0][1],a=+e[1][1],n>r&&(e=n,n=r,r=e),c>a&&(e=c,c=a,a=e),w.precision(v)):[[n,c],[r,a]]},w.extentMinor=function(r){return arguments.length?(t=+r[0][0],e=+r[1][0],i=+r[0][1],o=+r[1][1],t>e&&(r=t,t=e,e=r),i>o&&(r=i,i=o,o=r),w.precision(v)):[[t,i],[e,o]]},w.step=function(e){return arguments.length?w.stepMajor(e).stepMinor(e):w.stepMinor()},w.stepMajor=function(e){return arguments.length?(y=+e[0],m=+e[1],w):[y,m]},w.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],w):[d,h]},w.precision=function(s){return arguments.length?(v=+s,l=Xt(i,o,90),u=Zt(t,e,v),f=Xt(c,a,90),p=Zt(n,r,v),w):v},w.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function Kt(){return $t()()}function Qt(e,t){var r=e[0]*h,n=e[1]*h,o=t[0]*h,i=t[1]*h,a=v(n),s=x(n),c=v(i),l=x(i),u=a*v(r),f=a*x(r),p=c*v(o),g=c*x(o),y=2*M(C(j(i-n)+a*c*j(o-r))),b=x(y),w=y?function(e){var t=x(e*=y)/b,r=x(y-e)/b,n=r*u+t*p,o=r*f+t*g,i=r*s+t*l;return[m(o,n)*d,m(i,C(n*n+o*o))*d]}:function(){return[r*d,n*d]};return w.distance=y,w}function er(e){return e}var tr,rr,nr,or,ir=n(),ar=n(),sr={point:k,lineStart:k,lineEnd:k,polygonStart:function(){sr.lineStart=cr,sr.lineEnd=fr},polygonEnd:function(){sr.lineStart=sr.lineEnd=sr.point=k,ir.add(g(ar)),ar.reset()},result:function(){var e=ir/2;return ir.reset(),e}};function cr(){sr.point=lr}function lr(e,t){sr.point=ur,tr=nr=e,rr=or=t}function ur(e,t){ar.add(or*e-nr*t),nr=e,or=t}function fr(){ur(tr,rr)}const pr=sr;var dr=1/0,hr=dr,gr=-dr,yr=gr,mr={point:function(e,t){e<dr&&(dr=e),e>gr&&(gr=e),t<hr&&(hr=t),t>yr&&(yr=t)},lineStart:k,lineEnd:k,polygonStart:k,polygonEnd:k,result:function(){var e=[[dr,hr],[gr,yr]];return gr=yr=-(hr=dr=1/0),e}};const vr=mr;var br,wr,_r,Pr,xr=0,Or=0,Cr=0,Sr=0,Er=0,Mr=0,jr=0,kr=0,Tr=0,Ir={point:Fr,lineStart:Ar,lineEnd:Dr,polygonStart:function(){Ir.lineStart=Br,Ir.lineEnd=Nr},polygonEnd:function(){Ir.point=Fr,Ir.lineStart=Ar,Ir.lineEnd=Dr},result:function(){var e=Tr?[jr/Tr,kr/Tr]:Mr?[Sr/Mr,Er/Mr]:Cr?[xr/Cr,Or/Cr]:[NaN,NaN];return xr=Or=Cr=Sr=Er=Mr=jr=kr=Tr=0,e}};function Fr(e,t){xr+=e,Or+=t,++Cr}function Ar(){Ir.point=Lr}function Lr(e,t){Ir.point=Rr,Fr(_r=e,Pr=t)}function Rr(e,t){var r=e-_r,n=t-Pr,o=C(r*r+n*n);Sr+=o*(_r+e)/2,Er+=o*(Pr+t)/2,Mr+=o,Fr(_r=e,Pr=t)}function Dr(){Ir.point=Fr}function Br(){Ir.point=zr}function Nr(){Gr(br,wr)}function zr(e,t){Ir.point=Gr,Fr(br=_r=e,wr=Pr=t)}function Gr(e,t){var r=e-_r,n=t-Pr,o=C(r*r+n*n);Sr+=o*(_r+e)/2,Er+=o*(Pr+t)/2,Mr+=o,jr+=(o=Pr*e-_r*t)*(_r+e),kr+=o*(Pr+t),Tr+=3*o,Fr(_r=e,Pr=t)}const Vr=Ir;function qr(e){this._context=e}qr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,p)}},result:k};var Ur,Hr,Wr,Jr,Yr,Xr=n(),Zr={point:k,lineStart:function(){Zr.point=$r},lineEnd:function(){Ur&&Kr(Hr,Wr),Zr.point=k},polygonStart:function(){Ur=!0},polygonEnd:function(){Ur=null},result:function(){var e=+Xr;return Xr.reset(),e}};function $r(e,t){Zr.point=Kr,Hr=Jr=e,Wr=Yr=t}function Kr(e,t){Jr-=e,Yr-=t,Xr.add(C(Jr*Jr+Yr*Yr)),Jr=e,Yr=t}const Qr=Zr;function en(){this._string=[]}function tn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function rn(e,t){var r,n,o=4.5;function i(e){return e&&("function"==typeof o&&n.pointRadius(+o.apply(this,arguments)),R(e,r(n))),n.result()}return i.area=function(e){return R(e,r(pr)),pr.result()},i.measure=function(e){return R(e,r(Qr)),Qr.result()},i.bounds=function(e){return R(e,r(vr)),vr.result()},i.centroid=function(e){return R(e,r(Vr)),Vr.result()},i.projection=function(t){return arguments.length?(r=null==t?(e=null,er):(e=t).stream,i):e},i.context=function(e){return arguments.length?(n=null==e?(t=null,new en):new qr(t=e),"function"!=typeof o&&n.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(n.pointRadius(+e),+e),i):o},i.projection(e).context(t)}function nn(e,t,r,n){return function(o,i){var a,s,c,l=t(i),u=o.invert(n[0],n[1]),f=dt(),p=t(f),d=!1,h={point:g,lineStart:m,lineEnd:v,polygonStart:function(){h.point=b,h.lineStart=w,h.lineEnd=_,s=[],a=[]},polygonEnd:function(){h.point=g,h.lineStart=m,h.lineEnd=v,s=wt(s);var e=Et(a,u);s.length?(d||(i.polygonStart(),d=!0),yt(s,an,e,r,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(t,r){var n=o(t,r);e(t=n[0],r=n[1])&&i.point(t,r)}function y(e,t){var r=o(e,t);l.point(r[0],r[1])}function m(){h.point=y,l.lineStart()}function v(){h.point=g,l.lineEnd()}function b(e,t){c.push([e,t]);var r=o(e,t);p.point(r[0],r[1])}function w(){p.lineStart(),c=[]}function _(){b(c[0][0],c[0][1]),p.lineEnd();var e,t,r,n,o=p.clean(),l=f.result(),u=l.length;if(c.pop(),a.push(c),c=null,u)if(1&o){if((t=(r=l[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((n=r[e])[0],n[1]);i.lineEnd()}}else u>1&&2&o&&l.push(l.pop().concat(l.shift())),s.push(l.filter(on))}return h}}function on(e){return e.length>1}function an(e,t){return((e=e.x)[0]<0?e[1]-u-s:u-e[1])-((t=t.x)[0]<0?t[1]-u-s:u-t[1])}en.prototype={_radius:4.5,_circle:tn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=tn(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const sn=nn((function(){return!0}),(function(e){var t,r=NaN,n=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var c=i>0?l:-l,f=g(i-r);g(f-l)<s?(e.point(r,n=(n+a)/2>0?u:-u),e.point(o,n),e.lineEnd(),e.lineStart(),e.point(c,n),e.point(i,n),t=0):o!==c&&f>=l&&(g(r-o)<s&&(r-=o*s),g(i-c)<s&&(i-=c*s),n=function(e,t,r,n){var o,i,a=x(e-r);return g(a)>s?y((x(t)*(i=v(n))*x(r)-x(n)*(o=v(t))*x(e))/(o*i*a)):(t+n)/2}(r,n,i,a),e.point(o,n),e.lineEnd(),e.lineStart(),e.point(c,n),t=0),e.point(r=i,n=a),o=c},lineEnd:function(){e.lineEnd(),r=n=NaN},clean:function(){return 2-t}}}),(function(e,t,r,n){var o;if(null==e)o=r*u,n.point(-l,o),n.point(0,o),n.point(l,o),n.point(l,0),n.point(l,-o),n.point(0,-o),n.point(-l,-o),n.point(-l,0),n.point(-l,o);else if(g(e[0]-t[0])>s){var i=e[0]<t[0]?l:-l;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(t[0],t[1])}),[-l,-u]);function cn(e){return{stream:ln(e)}}function ln(e){return function(t){var r=new un;for(var n in e)r[n]=e[n];return r.stream=t,r}}function un(){}function fn(e,t,r){var n=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),R(r,e.stream(vr));var a=vr.result(),s=Math.min(n/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),c=+t[0][0]+(n-s*(a[1][0]+a[0][0]))/2,l=+t[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&e.clipExtent(i),e.scale(150*s).translate([c,l])}function pn(e,t,r){return fn(e,[[0,0],t],r)}un.prototype={constructor:un,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dn=16,hn=v(30*h);function gn(e,t){return+t?function(e,t){function r(n,o,i,a,c,l,u,f,p,d,h,y,v,b){var w=u-n,_=f-o,P=w*w+_*_;if(P>4*t&&v--){var x=a+d,O=c+h,S=l+y,E=C(x*x+O*O+S*S),j=M(S/=E),k=g(g(S)-1)<s||g(i-p)<s?(i+p)/2:m(O,x),T=e(k,j),I=T[0],F=T[1],A=I-n,L=F-o,R=_*A-w*L;(R*R/P>t||g((w*A+_*L)/P-.5)>.3||a*d+c*h+l*y<hn)&&(r(n,o,i,a,c,l,I,F,k,x/=E,O/=E,S,v,b),b.point(I,F),r(I,F,k,x,O,S,u,f,p,d,h,y,v,b))}}return function(t){var n,o,i,a,s,c,l,u,f,p,d,h,g={point:y,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=m}};function y(r,n){r=e(r,n),t.point(r[0],r[1])}function m(){u=NaN,g.point=v,t.lineStart()}function v(n,o){var i=$([n,o]),a=e(n,o);r(u,f,l,p,d,h,u=a[0],f=a[1],l=n,p=i[0],d=i[1],h=i[2],dn,t),t.point(u,f)}function b(){g.point=y,t.lineEnd()}function w(){m(),g.point=_,g.lineEnd=P}function _(e,t){v(n=e,t),o=u,i=f,a=p,s=d,c=h,g.point=v}function P(){r(u,f,l,p,d,h,o,i,n,a,s,c,dn,t),g.lineEnd=b,b()}return g}}(e,t):function(e){return ln({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}(e)}var yn=ln({point:function(e,t){this.stream.point(e*h,t*h)}});function mn(e){return vn((function(){return e}))()}function vn(e){var t,r,n,o,i,a,c,u,f,p,y=150,m=480,b=250,w=0,_=0,P=0,x=0,O=0,S=null,E=sn,M=null,j=er,k=.5,T=gn(A,k);function I(e){return[(e=i(e[0]*h,e[1]*h))[0]*y+r,n-e[1]*y]}function F(e){return(e=i.invert((e[0]-r)/y,(n-e[1])/y))&&[e[0]*d,e[1]*d]}function A(e,o){return[(e=t(e,o))[0]*y+r,n-e[1]*y]}function L(){i=nt(o=it(P,x,O),t);var e=t(w,_);return r=m-e[0]*y,n=b+e[1]*y,R()}function R(){return f=p=null,I}return I.stream=function(e){return f&&p===e?f:f=yn(E(o,T(j(p=e))))},I.clipAngle=function(e){return arguments.length?(E=+e?function(e,t){var r=v(e),n=r>0,o=g(r)>s;function i(e,t){return v(e)*v(t)>r}function a(e,t,n){var o=[1,0,0],i=Q($(e),$(t)),a=K(i,i),c=i[0],u=a-c*c;if(!u)return!n&&e;var f=r*a/u,p=-r*c/u,d=Q(o,i),h=te(o,f);ee(h,te(i,p));var y=d,m=K(h,y),v=K(y,y),b=m*m-v*(K(h,h)-1);if(!(b<0)){var w=C(b),_=te(y,(-m-w)/v);if(ee(_,h),_=Z(_),!n)return _;var P,x=e[0],O=t[0],S=e[1],E=t[1];O<x&&(P=x,x=O,O=P);var M=O-x,j=g(M-l)<s;if(!j&&E<S&&(P=S,S=E,E=P),j||M<s?j?S+E>0^_[1]<(g(_[0]-x)<s?S:E):S<=_[1]&&_[1]<=E:M>l^(x<=_[0]&&_[0]<=O)){var k=te(y,(-m+w)/v);return ee(k,h),[_,Z(k)]}}}function c(t,r){var o=n?e:l-e,i=0;return t<-o?i|=1:t>o&&(i|=2),r<-o?i|=4:r>o&&(i|=8),i}return nn(i,(function(e){var t,r,u,f,p;return{lineStart:function(){f=u=!1,p=1},point:function(d,h){var g,y=[d,h],m=i(d,h),v=n?m?0:c(d,h):m?c(d+(d<0?l:-l),h):0;if(!t&&(f=u=m)&&e.lineStart(),m!==u&&(!(g=a(t,y))||ht(t,g)||ht(y,g))&&(y[0]+=s,y[1]+=s,m=i(y[0],y[1])),m!==u)p=0,m?(e.lineStart(),g=a(y,t),e.point(g[0],g[1])):(g=a(t,y),e.point(g[0],g[1]),e.lineEnd()),t=g;else if(o&&t&&n^m){var b;v&r||!(b=a(y,t,!0))||(p=0,n?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!m||t&&ht(t,y)||e.point(y[0],y[1]),t=y,u=m,r=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return p|(f&&u)<<1}}}),(function(r,n,o,i){ut(i,e,t,o,r,n)}),n?[0,-e]:[-l,e-l])}(S=e*h,6*h):(S=null,sn),R()):S*d},I.clipExtent=function(e){return arguments.length?(j=null==e?(M=a=c=u=null,er):Ot(M=+e[0][0],a=+e[0][1],c=+e[1][0],u=+e[1][1]),R()):null==M?null:[[M,a],[c,u]]},I.scale=function(e){return arguments.length?(y=+e,L()):y},I.translate=function(e){return arguments.length?(m=+e[0],b=+e[1],L()):[m,b]},I.center=function(e){return arguments.length?(w=e[0]%360*h,_=e[1]%360*h,L()):[w*d,_*d]},I.rotate=function(e){return arguments.length?(P=e[0]%360*h,x=e[1]%360*h,O=e.length>2?e[2]%360*h:0,L()):[P*d,x*d,O*d]},I.precision=function(e){return arguments.length?(T=gn(A,k=e*e),R()):C(k)},I.fitExtent=function(e,t){return fn(I,e,t)},I.fitSize=function(e,t){return pn(I,e,t)},function(){return t=e.apply(this,arguments),I.invert=t.invert&&F,L()}}function bn(e){var t=0,r=l/3,n=vn(e),o=n(t,r);return o.parallels=function(e){return arguments.length?n(t=e[0]*h,r=e[1]*h):[t*d,r*d]},o}function wn(e,t){var r=x(e),n=(r+x(t))/2;if(g(n)<s)return function(e){var t=v(e);function r(e,r){return[e*t,x(r)/t]}return r.invert=function(e,r){return[e/t,M(r*t)]},r}(e);var o=1+r*(2*n-r),i=C(o)/n;function a(e,t){var r=C(o-2*n*x(t))/n;return[r*x(e*=n),i-r*v(e)]}return a.invert=function(e,t){var r=i-t;return[m(e,g(r))/n*O(r),M((o-(e*e+r*r)*n*n)/(2*n))]},a}function _n(){return bn(wn).scale(155.424).center([0,33.6442])}function Pn(){return _n().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function xn(){var e,t,r,n,o,i,a=Pn(),c=_n().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=_n().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){i=[e,t]}};function f(e){var t=e[0],a=e[1];return i=null,r.point(t,a),i||(n.point(t,a),i)||(o.point(t,a),i)}function p(){return e=t=null,f}return f.invert=function(e){var t=a.scale(),r=a.translate(),n=(e[0]-r[0])/t,o=(e[1]-r[1])/t;return(o>=.12&&o<.234&&n>=-.425&&n<-.214?c:o>=.166&&o<.234&&n>=-.214&&n<-.115?l:a).invert(e)},f.stream=function(r){return e&&t===r?e:(n=[a.stream(t=r),c.stream(r),l.stream(r)],o=n.length,e={point:function(e,t){for(var r=-1;++r<o;)n[r].point(e,t)},sphere:function(){for(var e=-1;++e<o;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)n[e].polygonEnd()}});var n,o},f.precision=function(e){return arguments.length?(a.precision(e),c.precision(e),l.precision(e),p()):a.precision()},f.scale=function(e){return arguments.length?(a.scale(e),c.scale(.35*e),l.scale(e),f.translate(a.translate())):a.scale()},f.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),i=+e[0],f=+e[1];return r=a.translate(e).clipExtent([[i-.455*t,f-.238*t],[i+.455*t,f+.238*t]]).stream(u),n=c.translate([i-.307*t,f+.201*t]).clipExtent([[i-.425*t+s,f+.12*t+s],[i-.214*t-s,f+.234*t-s]]).stream(u),o=l.translate([i-.205*t,f+.212*t]).clipExtent([[i-.214*t+s,f+.166*t+s],[i-.115*t-s,f+.234*t-s]]).stream(u),p()},f.fitExtent=function(e,t){return fn(f,e,t)},f.fitSize=function(e,t){return pn(f,e,t)},f.scale(1070)}function On(e){return function(t,r){var n=v(t),o=v(r),i=e(n*o);return[i*o*x(t),i*x(r)]}}function Cn(e){return function(t,r){var n=C(t*t+r*r),o=e(n),i=x(o),a=v(o);return[m(t*i,n*a),M(n&&r*i/n)]}}var Sn=On((function(e){return C(2/(1+e))}));function En(){return mn(Sn).scale(124.75).clipAngle(179.999)}Sn.invert=Cn((function(e){return 2*M(e/2)}));var Mn=On((function(e){return(e=E(e))&&e/x(e)}));function jn(){return mn(Mn).scale(79.4188).clipAngle(179.999)}function kn(e,t){return[e,_(S((u+t)/2))]}function Tn(){return In(kn).scale(961/p)}function In(e){var t,r,n,o=mn(e),i=o.center,a=o.scale,s=o.translate,c=o.clipExtent,u=null;function f(){var i=l*a(),s=o(lt(o.rotate()).invert([0,0]));return c(null==u?[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]:e===kn?[[Math.max(s[0]-i,u),t],[Math.min(s[0]+i,r),n]]:[[u,Math.max(s[1]-i,t)],[r,Math.min(s[1]+i,n)]])}return o.scale=function(e){return arguments.length?(a(e),f()):a()},o.translate=function(e){return arguments.length?(s(e),f()):s()},o.center=function(e){return arguments.length?(i(e),f()):i()},o.clipExtent=function(e){return arguments.length?(null==e?u=t=r=n=null:(u=+e[0][0],t=+e[0][1],r=+e[1][0],n=+e[1][1]),f()):null==u?null:[[u,t],[r,n]]},f()}function Fn(e){return S((u+e)/2)}function An(e,t){var r=v(e),n=e===t?x(e):_(r/v(t))/_(Fn(t)/Fn(e)),o=r*P(Fn(e),n)/n;if(!n)return kn;function i(e,t){o>0?t<-u+s&&(t=-u+s):t>u-s&&(t=u-s);var r=o/P(Fn(t),n);return[r*x(n*e),o-r*v(n*e)]}return i.invert=function(e,t){var r=o-t,i=O(n)*C(e*e+r*r);return[m(e,g(r))/n*O(r),2*y(P(o/i,1/n))-u]},i}function Ln(){return bn(An).scale(109.5).parallels([30,30])}function Rn(e,t){return[e,t]}function Dn(){return mn(Rn).scale(152.63)}function Bn(e,t){var r=v(e),n=e===t?x(e):(r-v(t))/(t-e),o=r/n+e;if(g(n)<s)return Rn;function i(e,t){var r=o-t,i=n*e;return[r*x(i),o-r*v(i)]}return i.invert=function(e,t){var r=o-t;return[m(e,g(r))/n*O(r),o-O(n)*C(e*e+r*r)]},i}function Nn(){return bn(Bn).scale(131.154).center([0,13.9389])}function zn(e,t){var r=v(t),n=v(e)*r;return[r*x(e)/n,x(t)/n]}function Gn(){return mn(zn).scale(144.049).clipAngle(60)}function Vn(e,t,r,n){return 1===e&&1===t&&0===r&&0===n?er:ln({point:function(o,i){this.stream.point(o*e+r,i*t+n)}})}function qn(){var e,t,r,n,o,i,a=1,s=0,c=0,l=1,u=1,f=er,p=null,d=er;function h(){return n=o=null,i}return i={stream:function(e){return n&&o===e?n:n=f(d(o=e))},clipExtent:function(n){return arguments.length?(d=null==n?(p=e=t=r=null,er):Ot(p=+n[0][0],e=+n[0][1],t=+n[1][0],r=+n[1][1]),h()):null==p?null:[[p,e],[t,r]]},scale:function(e){return arguments.length?(f=Vn((a=+e)*l,a*u,s,c),h()):a},translate:function(e){return arguments.length?(f=Vn(a*l,a*u,s=+e[0],c=+e[1]),h()):[s,c]},reflectX:function(e){return arguments.length?(f=Vn(a*(l=e?-1:1),a*u,s,c),h()):l<0},reflectY:function(e){return arguments.length?(f=Vn(a*l,a*(u=e?-1:1),s,c),h()):u<0},fitExtent:function(e,t){return fn(i,e,t)},fitSize:function(e,t){return pn(i,e,t)}}}function Un(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791)),t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))]}function Hn(){return mn(Un).scale(175.295)}function Wn(e,t){return[v(t)*x(e),x(t)]}function Jn(){return mn(Wn).scale(249.5).clipAngle(90+s)}function Yn(e,t){var r=v(t),n=1+v(e)*r;return[r*x(e)/n,x(t)/n]}function Xn(){return mn(Yn).scale(250).clipAngle(142)}function Zn(e,t){return[_(S((u+t)/2)),-e]}function $n(){var e=In(Zn),t=e.center,r=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?r([e[0],e[1],e.length>2?e[2]+90:90]):[(e=r())[0],e[1],e[2]-90]},r([0,0,90]).scale(159.155)}Mn.invert=Cn((function(e){return e})),kn.invert=function(e,t){return[e,2*y(w(t))-u]},Rn.invert=Rn,zn.invert=Cn(y),Un.invert=function(e,t){var r,n=t,o=25;do{var i=n*n,a=i*i;n-=r=(n*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(g(r)>s&&--o>0);return[e/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]},Wn.invert=Cn(M),Yn.invert=Cn((function(e){return 2*y(e)})),Zn.invert=function(e,t){return[-t,2*y(w(e))-u]}},3227:(e,t,r)=>{"use strict";function n(e){return function(){return e}}function o(e){return e[0]}function i(e){return e[1]}function a(){this._=null}function s(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function c(e,t){var r=t,n=t.R,o=r.U;o?o.L===r?o.L=n:o.R=n:e._=n,n.U=o,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function l(e,t){var r=t,n=t.L,o=r.U;o?o.L===r?o.L=n:o.R=n:e._=n,n.U=o,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function u(e){for(;e.L;)e=e.L;return e}r.r(t),r.d(t,{voronoi:()=>G}),a.prototype={constructor:a,insert:function(e,t){var r,n,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=u(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)r===(n=r.U).L?(o=n.R)&&o.C?(r.C=o.C=!1,n.C=!0,e=n):(e===r.R&&(c(this,r),r=(e=r).U),r.C=!1,n.C=!0,l(this,n)):(o=n.L)&&o.C?(r.C=o.C=!1,n.C=!0,e=n):(e===r.L&&(l(this,r),r=(e=r).U),r.C=!1,n.C=!0,c(this,n)),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,r,n,o=e.U,i=e.L,a=e.R;if(r=i?a?u(a):i:a,o?o.L===e?o.L=r:o.R=r:this._=r,i&&a?(n=r.C,r.C=e.C,r.L=i,i.U=r,r!==a?(o=r.U,r.U=e.U,e=r.R,o.L=e,r.R=a,a.U=r):(r.U=o,o=r,e=r.R)):(n=e.C,e=r),e&&(e.U=o),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,c(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,l(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,c(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,l(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,c(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,l(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};const f=a;function p(e,t,r,n){var o=[null,null],i=R.push(o)-1;return o.left=e,o.right=t,r&&h(o,e,t,r),n&&h(o,t,e,n),A[e.index].halfedges.push(i),A[t.index].halfedges.push(i),o}function d(e,t,r){var n=[t,r];return n.left=e,n}function h(e,t,r,n){e[0]||e[1]?e.left===r?e[1]=n:e[0]=n:(e[0]=n,e.left=t,e.right=r)}function g(e,t,r,n,o){var i,a=e[0],s=e[1],c=a[0],l=a[1],u=0,f=1,p=s[0]-c,d=s[1]-l;if(i=t-c,p||!(i>0)){if(i/=p,p<0){if(i<u)return;i<f&&(f=i)}else if(p>0){if(i>f)return;i>u&&(u=i)}if(i=n-c,p||!(i<0)){if(i/=p,p<0){if(i>f)return;i>u&&(u=i)}else if(p>0){if(i<u)return;i<f&&(f=i)}if(i=r-l,d||!(i>0)){if(i/=d,d<0){if(i<u)return;i<f&&(f=i)}else if(d>0){if(i>f)return;i>u&&(u=i)}if(i=o-l,d||!(i<0)){if(i/=d,d<0){if(i>f)return;i>u&&(u=i)}else if(d>0){if(i<u)return;i<f&&(f=i)}return!(u>0||f<1)||(u>0&&(e[0]=[c+u*p,l+u*d]),f<1&&(e[1]=[c+f*p,l+f*d]),!0)}}}}}function y(e,t,r,n,o){var i=e[1];if(i)return!0;var a,s,c=e[0],l=e.left,u=e.right,f=l[0],p=l[1],d=u[0],h=u[1],g=(f+d)/2,y=(p+h)/2;if(h===p){if(g<t||g>=n)return;if(f>d){if(c){if(c[1]>=o)return}else c=[g,r];i=[g,o]}else{if(c){if(c[1]<r)return}else c=[g,o];i=[g,r]}}else if(s=y-(a=(f-d)/(h-p))*g,a<-1||a>1)if(f>d){if(c){if(c[1]>=o)return}else c=[(r-s)/a,r];i=[(o-s)/a,o]}else{if(c){if(c[1]<r)return}else c=[(o-s)/a,o];i=[(r-s)/a,r]}else if(p<h){if(c){if(c[0]>=n)return}else c=[t,a*t+s];i=[n,a*n+s]}else{if(c){if(c[0]<t)return}else c=[n,a*n+s];i=[t,a*t+s]}return e[0]=c,e[1]=i,!0}function m(e,t){var r=e.site,n=t.left,o=t.right;return r===o&&(o=n,n=r),o?Math.atan2(o[1]-n[1],o[0]-n[0]):(r===n?(n=t[1],o=t[0]):(n=t[0],o=t[1]),Math.atan2(n[0]-o[0],o[1]-n[1]))}function v(e,t){return t[+(t.left!==e.site)]}function b(e,t){return t[+(t.left===e.site)]}var w,_=[];function P(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}function x(e){var t=e.P,r=e.N;if(t&&r){var n=t.site,o=e.site,i=r.site;if(n!==i){var a=o[0],s=o[1],c=n[0]-a,l=n[1]-s,u=i[0]-a,f=i[1]-s,p=2*(c*f-l*u);if(!(p>=-B)){var d=c*c+l*l,h=u*u+f*f,g=(f*d-l*h)/p,y=(c*h-u*d)/p,m=_.pop()||new P;m.arc=e,m.site=o,m.x=g+a,m.y=(m.cy=y+s)+Math.sqrt(g*g+y*y),e.circle=m;for(var v=null,b=L._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}L.insert(v,m),v||(w=m)}}}}function O(e){var t=e.circle;t&&(t.P||(w=t.N),L.remove(t),_.push(t),s(t),e.circle=null)}var C=[];function S(){s(this),this.edge=this.site=this.circle=null}function E(e){var t=C.pop()||new S;return t.site=e,t}function M(e){O(e),F.remove(e),C.push(e),s(e)}function j(e){var t=e.circle,r=t.x,n=t.cy,o=[r,n],i=e.P,a=e.N,s=[e];M(e);for(var c=i;c.circle&&Math.abs(r-c.circle.x)<D&&Math.abs(n-c.circle.cy)<D;)i=c.P,s.unshift(c),M(c),c=i;s.unshift(c),O(c);for(var l=a;l.circle&&Math.abs(r-l.circle.x)<D&&Math.abs(n-l.circle.cy)<D;)a=l.N,s.push(l),M(l),l=a;s.push(l),O(l);var u,f=s.length;for(u=1;u<f;++u)l=s[u],c=s[u-1],h(l.edge,c.site,l.site,o);c=s[0],(l=s[f-1]).edge=p(c.site,l.site,null,o),x(c),x(l)}function k(e){for(var t,r,n,o,i=e[0],a=e[1],s=F._;s;)if((n=T(s,a)-i)>D)s=s.L;else{if(!((o=i-I(s,a))>D)){n>-D?(t=s.P,r=s):o>-D?(t=s,r=s.N):t=r=s;break}if(!s.R){t=s;break}s=s.R}!function(e){A[e.index]={site:e,halfedges:[]}}(e);var c=E(e);if(F.insert(t,c),t||r){if(t===r)return O(t),r=E(t.site),F.insert(c,r),c.edge=r.edge=p(t.site,c.site),x(t),void x(r);if(r){O(t),O(r);var l=t.site,u=l[0],f=l[1],d=e[0]-u,g=e[1]-f,y=r.site,m=y[0]-u,v=y[1]-f,b=2*(d*v-g*m),w=d*d+g*g,_=m*m+v*v,P=[(v*w-g*_)/b+u,(d*_-m*w)/b+f];h(r.edge,l,y,P),c.edge=p(l,e,null,P),r.edge=p(e,y,null,P),x(t),x(r)}else c.edge=p(t.site,c.site)}}function T(e,t){var r=e.site,n=r[0],o=r[1],i=o-t;if(!i)return n;var a=e.P;if(!a)return-1/0;var s=(r=a.site)[0],c=r[1],l=c-t;if(!l)return s;var u=s-n,f=1/i-1/l,p=u/l;return f?(-p+Math.sqrt(p*p-2*f*(u*u/(-2*l)-c+l/2+o-i/2)))/f+n:(n+s)/2}function I(e,t){var r=e.N;if(r)return T(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var F,A,L,R,D=1e-6,B=1e-12;function N(e,t){return t[1]-e[1]||t[0]-e[0]}function z(e,t){var r,n,o,i=e.sort(N).pop();for(R=[],A=new Array(e.length),F=new f,L=new f;;)if(o=w,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===r&&i[1]===n||(k(i),r=i[0],n=i[1]),i=e.pop();else{if(!o)break;j(o.arc)}if(function(){for(var e,t,r,n,o=0,i=A.length;o<i;++o)if((e=A[o])&&(n=(t=e.halfedges).length)){var a=new Array(n),s=new Array(n);for(r=0;r<n;++r)a[r]=r,s[r]=m(e,R[t[r]]);for(a.sort((function(e,t){return s[t]-s[e]})),r=0;r<n;++r)s[r]=t[a[r]];for(r=0;r<n;++r)t[r]=s[r]}}(),t){var a=+t[0][0],s=+t[0][1],c=+t[1][0],l=+t[1][1];!function(e,t,r,n){for(var o,i=R.length;i--;)y(o=R[i],e,t,r,n)&&g(o,e,t,r,n)&&(Math.abs(o[0][0]-o[1][0])>D||Math.abs(o[0][1]-o[1][1])>D)||delete R[i]}(a,s,c,l),function(e,t,r,n){var o,i,a,s,c,l,u,f,p,h,g,y,m=A.length,w=!0;for(o=0;o<m;++o)if(i=A[o]){for(a=i.site,s=(c=i.halfedges).length;s--;)R[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)g=(h=b(i,R[c[s]]))[0],y=h[1],f=(u=v(i,R[c[++s%l]]))[0],p=u[1],(Math.abs(g-f)>D||Math.abs(y-p)>D)&&(c.splice(s,0,R.push(d(a,h,Math.abs(g-e)<D&&n-y>D?[e,Math.abs(f-e)<D?p:n]:Math.abs(y-n)<D&&r-g>D?[Math.abs(p-n)<D?f:r,n]:Math.abs(g-r)<D&&y-t>D?[r,Math.abs(f-r)<D?p:t]:Math.abs(y-t)<D&&g-e>D?[Math.abs(p-t)<D?f:e,t]:null))-1),++l);l&&(w=!1)}if(w){var _,P,x,O=1/0;for(o=0,w=null;o<m;++o)(i=A[o])&&(x=(_=(a=i.site)[0]-e)*_+(P=a[1]-t)*P)<O&&(O=x,w=i);if(w){var C=[e,t],S=[e,n],E=[r,n],M=[r,t];w.halfedges.push(R.push(d(a=w.site,C,S))-1,R.push(d(a,S,E))-1,R.push(d(a,E,M))-1,R.push(d(a,M,C))-1)}}for(o=0;o<m;++o)(i=A[o])&&(i.halfedges.length||delete A[o])}(a,s,c,l)}this.edges=R,this.cells=A,F=L=R=A=null}function G(){var e=o,t=i,r=null;function a(n){return new z(n.map((function(r,o){var i=[Math.round(e(r,o,n)/D)*D,Math.round(t(r,o,n)/D)*D];return i.index=o,i.data=r,i})),r)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),a):t},a.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},a.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],a):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},a}z.prototype={constructor:z,polygons:function(){var e=this.edges;return this.cells.map((function(t){var r=t.halfedges.map((function(r){return v(t,e[r])}));return r.data=t.site.data,r}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(r,n){if(i=(o=r.halfedges).length)for(var o,i,a,s,c,l,u=r.site,f=-1,p=t[o[i-1]],d=p.left===u?p.right:p.left;++f<i;)a=d,d=(p=t[o[f]]).left===u?p.right:p.left,a&&d&&n<a.index&&n<d.index&&(c=a,l=d,((s=u)[0]-l[0])*(c[1]-s[1])-(s[0]-c[0])*(l[1]-s[1])<0)&&e.push([u.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,r){for(var n,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var c=e-o.site[0],l=t-o.site[1],u=c*c+l*l;do{o=i.cells[n=a],a=null,o.halfedges.forEach((function(r){var n=i.edges[r],s=n.left;if(s!==o.site&&s||(s=n.right)){var c=e-s[0],l=t-s[1],f=c*c+l*l;f<u&&(u=f,a=s.index)}}))}while(null!==a);return i._found=n,null==r||u<=r*r?o.site:null}}},4982:(e,t,r)=>{"use strict";var n=r(6525),o=r(38075),i=r(71589),a=r(70453),s=r(94552),c=r(920),l=r(37653),u=r(47244),f=r(61451),p=r(84670),d=r(62120),h=r(14035),g=r(37070),y=r(1189),m=r(81539),v=r(60593),b=r(25767),w=r(19511),_=o("SharedArrayBuffer.prototype.byteLength",!0),P=o("Date.prototype.getTime"),x=Object.getPrototypeOf,O=o("Object.prototype.toString"),C=a("%Set%",!0),S=o("Map.prototype.has",!0),E=o("Map.prototype.get",!0),M=o("Map.prototype.size",!0),j=o("Set.prototype.add",!0),k=o("Set.prototype.delete",!0),T=o("Set.prototype.has",!0),I=o("Set.prototype.size",!0);function F(e,t,r,n){for(var o,i=s(e);(o=i.next())&&!o.done;)if(B(t,o.value,r,n))return k(e,o.value),!0;return!1}function A(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function L(e,t,r,o,i,a){var s=A(r);if(null!=s)return s;var c=E(t,s),l=n({},i,{strict:!1});return!(void 0===c&&!S(t,s)||!B(o,c,l,a))&&!S(e,s)&&B(o,c,l,a)}function R(e,t,r){var n=A(r);return null!=n?n:T(t,n)&&!T(e,n)}function D(e,t,r,n,o,i){for(var a,c,l=s(e);(a=l.next())&&!a.done;)if(B(r,c=a.value,o,i)&&B(n,E(t,c),o,i))return k(e,c),!0;return!1}function B(e,t,r,o){var a=r||{};if(a.strict?l(e,t):e===t)return!0;if(m(e)!==m(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return a.strict?l(e,t):e==t;var c,k=o.has(e),A=o.has(t);if(k&&A){if(o.get(e)===o.get(t))return!0}else c={};return k||o.set(e,c),A||o.set(t,c),function(e,t,r,o){var a,c;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(O(e)!==O(t))return!1;if(u(e)!==u(t))return!1;if(f(e)!==f(t))return!1;var l=e instanceof Error,m=t instanceof Error;if(l!==m)return!1;if((l||m)&&(e.name!==t.name||e.message!==t.message))return!1;var k=h(e),A=h(t);if(k!==A)return!1;if((k||A)&&(e.source!==t.source||i(e)!==i(t)))return!1;var z=d(e),G=d(t);if(z!==G)return!1;if((z||G)&&P(e)!==P(t))return!1;if(r.strict&&x&&x(e)!==x(t))return!1;var V=b(e),q=b(t);if(V!==q)return!1;if(V||q){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var U=N(e),H=N(t);if(U!==H)return!1;if(U||H){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var W=p(e),J=p(t);if(W!==J)return!1;if(W||J)return w(e)===w(t)&&"function"==typeof Uint8Array&&B(new Uint8Array(e),new Uint8Array(t),r,o);var Y=g(e),X=g(t);if(Y!==X)return!1;if(Y||X)return _(e)===_(t)&&"function"==typeof Uint8Array&&B(new Uint8Array(e),new Uint8Array(t),r,o);if(typeof e!=typeof t)return!1;var Z=y(e),$=y(t);if(Z.length!==$.length)return!1;for(Z.sort(),$.sort(),a=Z.length-1;a>=0;a--)if(Z[a]!=$[a])return!1;for(a=Z.length-1;a>=0;a--)if(!B(e[c=Z[a]],t[c],r,o))return!1;var K=v(e),Q=v(t);return K===Q&&("Set"===K||"Set"===Q?function(e,t,r,n){if(I(e)!==I(t))return!1;for(var o,i,a,c=s(e),l=s(t);(o=c.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new C),j(a,o.value);else if(!T(t,o.value)){if(r.strict)return!1;if(!R(e,t,o.value))return!1;a||(a=new C),j(a,o.value)}if(a){for(;(i=l.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!F(a,i.value,r.strict,n))return!1}else if(!r.strict&&!T(e,i.value)&&!F(a,i.value,r.strict,n))return!1;return 0===I(a)}return!0}(e,t,r,o):"Map"!==K||function(e,t,r,o){if(M(e)!==M(t))return!1;for(var i,a,c,l,u,f,p=s(e),d=s(t);(i=p.next())&&!i.done;)if(l=i.value[0],u=i.value[1],l&&"object"==typeof l)c||(c=new C),j(c,l);else if(void 0===(f=E(t,l))&&!S(t,l)||!B(u,f,r,o)){if(r.strict)return!1;if(!L(e,t,l,u,r,o))return!1;c||(c=new C),j(c,l)}if(c){for(;(a=d.next())&&!a.done;)if(l=a.value[0],f=a.value[1],l&&"object"==typeof l){if(!D(c,e,l,f,r,o))return!1}else if(!(r.strict||e.has(l)&&B(E(e,l),f,r,o)||D(c,e,l,f,n({},r,{strict:!1}),o)))return!1;return 0===I(c)}return!0}(e,t,r,o))}(e,t,a,o)}function N(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return B(e,t,r,c())}},61451:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},30041:(e,t,r)=>{"use strict";var n=r(30655),o=r(58068),i=r(69675),a=r(75795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],f=!!a&&a(e,t);if(n)n(e,t,{configurable:null===l&&f?f.configurable:!l,enumerable:null===s&&f?f.enumerable:!s,value:r,writable:null===c&&f?f.writable:!c});else{if(!u&&(s||c||l))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},38452:(e,t,r)=>{"use strict";var n=r(1189),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=r(30041),c=r(30592)(),l=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;c?s(e,t,r,!0):s(e,t,r)},u=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)l(e,i[s],t[i[s]],r[i[s]])};u.supportsDescriptors=!!c,e.exports=u},66570:e=>{"use strict";function t(e,t,n){n=n||2;var i,a,s,c,f,p,h,g=t&&t.length,y=g?t[0]*n:e.length,m=r(e,0,y,n,!0),v=[];if(!m||m.next===m.prev)return v;if(g&&(m=function(e,t,n,o){var i,a,s,c=[];for(i=0,a=t.length;i<a;i++)(s=r(e,t[i]*o,i<a-1?t[i+1]*o:e.length,o,!1))===s.next&&(s.steiner=!0),c.push(d(s));for(c.sort(l),i=0;i<c.length;i++)n=u(c[i],n);return n}(e,t,m,n)),e.length>80*n){i=s=e[0],a=c=e[1];for(var b=n;b<y;b+=n)(f=e[b])<i&&(i=f),(p=e[b+1])<a&&(a=p),f>s&&(s=f),p>c&&(c=p);h=0!==(h=Math.max(s-i,c-a))?32767/h:0}return o(m,v,n,i,a,h,0),v}function r(e,t,r,n,o){var i,a;if(o===S(e,t,r,n)>0)for(i=t;i<r;i+=n)a=x(i,e[i],e[i+1],a);else for(i=r-n;i>=t;i-=n)a=x(i,e[i],e[i+1],a);return a&&m(a,a.next)&&(O(a),a=a.next),a}function n(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(O(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function o(e,t,r,l,u,f,d){if(e){!d&&f&&function(e,t,r,n){var o=e;do{0===o.z&&(o.z=p(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,n,o,i,a,s,c,l=1;do{for(r=e,e=null,i=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(c=l;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,c--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(a>1)}(o)}(e,l,u,f);for(var h,g,y=e;e.prev!==e.next;)if(h=e.prev,g=e.next,f?a(e,l,u,f):i(e))t.push(h.i/r|0),t.push(e.i/r|0),t.push(g.i/r|0),O(e),e=g.next,y=g.next;else if((e=g)===y){d?1===d?o(e=s(n(e),t,r),t,r,l,u,f,2):2===d&&c(e,t,r,l,u,f):o(n(e),t,r,l,u,f,1);break}}}function i(e){var t=e.prev,r=e,n=e.next;if(y(t,r,n)>=0)return!1;for(var o=t.x,i=r.x,a=n.x,s=t.y,c=r.y,l=n.y,u=o<i?o<a?o:a:i<a?i:a,f=s<c?s<l?s:l:c<l?c:l,p=o>i?o>a?o:a:i>a?i:a,d=s>c?s>l?s:l:c>l?c:l,g=n.next;g!==t;){if(g.x>=u&&g.x<=p&&g.y>=f&&g.y<=d&&h(o,s,i,c,a,l,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function a(e,t,r,n){var o=e.prev,i=e,a=e.next;if(y(o,i,a)>=0)return!1;for(var s=o.x,c=i.x,l=a.x,u=o.y,f=i.y,d=a.y,g=s<c?s<l?s:l:c<l?c:l,m=u<f?u<d?u:d:f<d?f:d,v=s>c?s>l?s:l:c>l?c:l,b=u>f?u>d?u:d:f>d?f:d,w=p(g,m,t,r,n),_=p(v,b,t,r,n),P=e.prevZ,x=e.nextZ;P&&P.z>=w&&x&&x.z<=_;){if(P.x>=g&&P.x<=v&&P.y>=m&&P.y<=b&&P!==o&&P!==a&&h(s,u,c,f,l,d,P.x,P.y)&&y(P.prev,P,P.next)>=0)return!1;if(P=P.prevZ,x.x>=g&&x.x<=v&&x.y>=m&&x.y<=b&&x!==o&&x!==a&&h(s,u,c,f,l,d,x.x,x.y)&&y(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;P&&P.z>=w;){if(P.x>=g&&P.x<=v&&P.y>=m&&P.y<=b&&P!==o&&P!==a&&h(s,u,c,f,l,d,P.x,P.y)&&y(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;x&&x.z<=_;){if(x.x>=g&&x.x<=v&&x.y>=m&&x.y<=b&&x!==o&&x!==a&&h(s,u,c,f,l,d,x.x,x.y)&&y(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function s(e,t,r){var o=e;do{var i=o.prev,a=o.next.next;!m(i,a)&&v(i,o,o.next,a)&&_(i,a)&&_(a,i)&&(t.push(i.i/r|0),t.push(o.i/r|0),t.push(a.i/r|0),O(o),O(o.next),o=e=a),o=o.next}while(o!==e);return n(o)}function c(e,t,r,i,a,s){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&g(c,l)){var u=P(c,l);return c=n(c,c.next),u=n(u,u.next),o(c,t,r,i,a,s,0),void o(u,t,r,i,a,s,0)}l=l.next}c=c.next}while(c!==e)}function l(e,t){return e.x-t.x}function u(e,t){var r=function(e,t){var r,n=t,o=e.x,i=e.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a&&(a=s,r=n.x<n.next.x?n:n.next,s===o))return r}n=n.next}while(n!==t);if(!r)return null;var c,l=r,u=r.x,p=r.y,d=1/0;n=r;do{o>=n.x&&n.x>=u&&o!==n.x&&h(i<p?o:a,i,u,p,i<p?a:o,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(o-n.x),_(n,e)&&(c<d||c===d&&(n.x>r.x||n.x===r.x&&f(r,n)))&&(r=n,d=c)),n=n.next}while(n!==l);return r}(e,t);if(!r)return t;var o=P(r,e);return n(o,o.next),n(r,r.next)}function f(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function p(e,t,r,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function h(e,t,r,n,o,i,a,s){return(o-a)*(t-s)>=(e-a)*(i-s)&&(e-a)*(n-s)>=(r-a)*(t-s)&&(r-a)*(i-s)>=(o-a)*(n-s)}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&v(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(_(e,t)&&_(t,e)&&function(e,t){var r=e,n=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||m(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,r,n){var o=w(y(e,t,r)),i=w(y(e,t,n)),a=w(y(r,n,e)),s=w(y(r,n,t));return o!==i&&a!==s||!(0!==o||!b(e,r,t))||!(0!==i||!b(e,n,t))||!(0!==a||!b(r,e,n))||!(0!==s||!b(r,t,n))}function b(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function w(e){return e>0?1:e<0?-1:0}function _(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function P(e,t){var r=new C(e.i,e.x,e.y),n=new C(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function x(e,t,r,n){var o=new C(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function O(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,r,n){for(var o=0,i=t,a=r-n;i<r;i+=n)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}e.exports=t,e.exports.default=t,t.deviation=function(e,t,r,n){var o=t&&t.length,i=o?t[0]*r:e.length,a=Math.abs(S(e,0,i,r));if(o)for(var s=0,c=t.length;s<c;s++){var l=t[s]*r,u=s<c-1?t[s+1]*r:e.length;a-=Math.abs(S(e,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var p=n[s]*r,d=n[s+1]*r,h=n[s+2]*r;f+=Math.abs((e[p]-e[h])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[h+1]-e[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[o][i][a]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r}},30655:(e,t,r)=>{"use strict";var n=r(70453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},27738:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},82682:(e,t,r)=>{"use strict";var n=r(69600),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===o.call(e)?function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},89353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var r=[],n=1,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments),s=r(0,o.length-a.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=",");return r}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(a,arguments));return Object(t)===t?t:this}return o.apply(e,n(a,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},66743:(e,t,r)=>{"use strict";var n=r(89353);e.exports=Function.prototype.bind||n},74462:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},70453:(e,t,r)=>{"use strict";var n,o=r(69383),i=r(41237),a=r(79290),s=r(79538),c=r(58068),l=r(69675),u=r(35345),f=Function,p=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var h=function(){throw new l},g=d?function(){try{return h}catch(e){try{return d(arguments,"callee").get}catch(e){return h}}}():h,y=r(64039)(),m=r(80024)(),v=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),b={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":y&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&y&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&y&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&v?v(""[Symbol.iterator]()):n,"%Symbol%":y?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":g,"%TypedArray%":w,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(e){var P=v(v(e));_["%Error.prototype%"]=P}var x=function e(t){var r;if("%AsyncFunction%"===t)r=p("async function () {}");else if("%GeneratorFunction%"===t)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=p("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(r=v(o.prototype))}return _[t]=r,r},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=r(66743),S=r(9957),E=C.call(Function.call,Array.prototype.concat),M=C.call(Function.apply,Array.prototype.splice),j=C.call(Function.call,String.prototype.replace),k=C.call(Function.call,String.prototype.slice),T=C.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,A=function(e,t){var r,n=e;if(S(O,n)&&(n="%"+(r=O[n])[0]+"%"),S(_,n)){var o=_[n];if(o===b&&(o=x(n)),void 0===o&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return j(e,I,(function(e,t,r,o){n[n.length]=r?j(o,F,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=A("%"+n+"%",t),i=o.name,a=o.value,s=!1,u=o.alias;u&&(n=u[0],M(r,E([0,1],u)));for(var f=1,p=!0;f<r.length;f+=1){var h=r[f],g=k(h,0,1),y=k(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new c("property names with quotes must have matching quotes");if("constructor"!==h&&p||(s=!0),S(_,i="%"+(n+="."+h)+"%"))a=_[i];else if(null!=a){if(!(h in a)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&f+1>=r.length){var m=d(a,h);a=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[h]}else p=S(a,h),a=a[h];p&&!s&&(_[i]=a)}}return a}},75795:(e,t,r)=>{"use strict";var n=r(70453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},29790:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},30592:(e,t,r)=>{"use strict";var n=r(30655),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},80024:e=>{"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},64039:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(41333);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},49092:(e,t,r)=>{"use strict";var n=r(41333);e.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(66743);e.exports=i.call(n,o)},20063:(e,t,r)=>{"use strict";var n=r(9957),o=r(920)(),i=r(69675),a={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");if(o.assert(e),!a.has(e,t))throw new i("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");var r=o.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");var r=o.get(e);return!!r&&n(r,"$"+t)},set:function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");var n=o.get(e);n||(n={},o.set(e,n)),n["$"+t]=r}};Object.freeze&&Object.freeze(a),e.exports=a},47244:(e,t,r)=>{"use strict";var n=r(49092)(),o=r(38075)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},84670:(e,t,r)=>{"use strict";var n=r(10487),o=r(38075),i=r(70453)("%ArrayBuffer%",!0),a=o("ArrayBuffer.prototype.byteLength",!0),s=o("Object.prototype.toString"),c=!!i&&!a&&new i(0).slice,l=!!c&&n(c);e.exports=a||l?function(e){if(!e||"object"!=typeof e)return!1;try{return a?a(e):l(e,0),!0}catch(e){return!1}}:i?function(e){return"[object ArrayBuffer]"===s(e)}:function(e){return!1}},39803:(e,t,r)=>{"use strict";if(r(29790)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},75128:(e,t,r)=>{"use strict";var n=r(38075),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),a=r(49092)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i(e))}},69600:e=>{"use strict";var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},s=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;c.call(p)===c.call(document.all)&&(f=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&s(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(l)return s(e);if(a(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},62120:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(49092)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},83802:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},21703:(e,t,r)=>{"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i=r(49092)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===o.call(e))}},14035:(e,t,r)=>{"use strict";var n,o,i,a,s=r(38075),c=r(49092)();if(c){n=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var l=function(){throw i};a={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var u=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var t=f(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},90256:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},37070:(e,t,r)=>{"use strict";var n=r(38075)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=n?function(e){if(!e||"object"!=typeof e)return!1;try{return n(e),!0}catch(e){return!1}}:function(e){return!1}},4761:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i=r(49092)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},93612:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(64039)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},87842:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var o=r?r.prototype.has:null,i=n?n.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e,o),i)try{i.call(e,i)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},12648:(e,t,r)=>{"use strict";var n=r(70453),o=r(38075),i=n("%WeakSet%",!0),a=o("WeakSet.prototype.has",!0);if(a){var s=o("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(e){return!0}return e instanceof i}catch(e){}return!1}}else e.exports=function(e){return!1}},45864:(e,t,r)=>{"use strict";function n(e,t,r){return e<t?(r-e)/(t-e):(e-r)/(e-t)}function o(e,t,r,n){var o;return r>n&&(o=r,r=n,n=o),e<t?e<r?(r-e)/(t-e):(n-e)/(t-e):e>n?(e-n)/(e-t):(e-r)/(e-t)}function i(e,t,r,n){return e<t?(r-e)/(t-e):(e-n)/(e-t)}function a(e,t,r,n){return e<t?(n-e)/(t-e):(e-r)/(e-t)}function s(){this.successCallback=null,this.verbose=!1,this.polygons=!1,this.polygons_full=!1,this.linearRing=!0,this.noQuadTree=!1,this.noFrame=!1}function c(e,t,r,n){var o=[];return e.polygons.forEach((function(e){e.forEach((function(e){e[0]+=t,e[1]+=r})),n.linearRing&&e.push(e[0]),o.push(e)})),o}function l(e,t,r,n){return 0===r?(e+=1,t+=n[0][1]):1===r?e+=n[0][0]:2===r?t+=n[0][1]:3===r&&(e+=n[0][0],t+=1),[e,t]}function u(e,t,r){return 0===r?e++:1===r||(2===r?t++:3===r&&(e++,t++)),[e,t]}function f(e,t,r,n,o){var i=n,a=o,s=0,c=0;if(this.x=t,this.y=r,this.lowerBound=null,this.upperBound=null,this.childA=null,this.childB=null,this.childC=null,this.childD=null,1===n&&1===o)this.lowerBound=Math.min(e[r][t],e[r][t+1],e[r+1][t+1],e[r+1][t]),this.upperBound=Math.max(e[r][t],e[r][t+1],e[r+1][t+1],e[r+1][t]);else{if(n>1){for(;0!==i;)i>>=1,s++;n===1<<s-1&&s--,i=1<<s-1}if(o>1){for(;0!==a;)a>>=1,c++;o===1<<c-1&&c--,a=1<<c-1}this.childA=new f(e,t,r,i,a),this.lowerBound=this.childA.lowerBound,this.upperBound=this.childA.upperBound,n-i>0&&(this.childB=new f(e,t+i,r,n-i,a),this.lowerBound=Math.min(this.lowerBound,this.childB.lowerBound),this.upperBound=Math.max(this.upperBound,this.childB.upperBound),o-a>0&&(this.childC=new f(e,t+i,r+a,n-i,o-a),this.lowerBound=Math.min(this.lowerBound,this.childC.lowerBound),this.upperBound=Math.max(this.upperBound,this.childC.upperBound))),o-a>0&&(this.childD=new f(e,t,r+a,i,o-a),this.lowerBound=Math.min(this.lowerBound,this.childD.lowerBound),this.upperBound=Math.max(this.upperBound,this.childD.upperBound))}}function p(e){var t,r;if(!e)throw new Error("data is required");if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Error("data must be scalar field, i.e. array of arrays");if(e.length<2)throw new Error("data must contain at least two rows");if((r=e[0].length)<2)throw new Error("data must contain at least two columns");for(t=1;t<e.length;t++){if(!Array.isArray(e[t]))throw new Error("Row "+t+" is not an array");if(e[t].length!=r)throw new Error("unequal row lengths detected, please provide a regular grid")}this.data=e,this.root=new f(e,0,0,e[0].length-1,e.length-1)}function d(e,t,r){var o,i,a,f=!1,d=!1,g=null,y=null,m=null,v=null,b=null,w=[];if(!e)throw new Error("data is required");if(null==t)throw new Error("threshold is required");if(r&&"object"!=typeof r)throw new Error("options must be an object");if(o=function(e){var t,r,o,i,a;for(i=new s,e=e||{},a=Object.keys(i),t=0;t<a.length;t++)null!=(o=e[r=a[t]])&&(i[r]=o);return i.polygons_full=!i.polygons,i.interpolate=n,i}(r),e instanceof p)g=e,y=e.root,m=e.data,o.noQuadTree||(f=!0);else{if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");m=e}if(Array.isArray(t)){for(d=!0,o.noQuadTree||(f=!0),i=0;i<t.length;i++)if(isNaN(+t[i]))throw new Error("threshold["+i+"] is not a number")}else{if(isNaN(+t))throw new Error("threshold must be a number or array of numbers");t=[t]}return f&&!y&&(g=new p(m),y=g.root,m=g.data),o.verbose&&(o.polygons?console.log("MarchingSquaresJS-isoLines: returning single lines (polygons) for each grid cell"):console.log("MarchingSquaresJS-isoLines: returning line paths (polygons) for entire data grid"),d&&console.log("MarchingSquaresJS-isoLines: multiple lines requested, returning array of line paths instead of lines for a single threshold")),t.forEach((function(e,t){if(b=[],o.threshold=e,o.verbose&&console.log("MarchingSquaresJS-isoLines: computing iso lines for threshold "+e),o.polygons)if(f)y.cellsBelowThreshold(o.threshold,!0).forEach((function(e){b=b.concat(c(h(m,e.x,e.y,o),e.x,e.y,o))}));else for(a=0;a<m.length-1;++a)for(t=0;t<m[0].length-1;++t)b=b.concat(c(h(m,t,a,o),t,a,o));else{for(v=[],t=0;t<m[0].length-1;++t)v[t]=[];if(f)y.cellsBelowThreshold(o.threshold,!1).forEach((function(e){v[e.x][e.y]=h(m,e.x,e.y,o)}));else for(t=0;t<m[0].length-1;++t)for(a=0;a<m.length-1;++a)v[t][a]=h(m,t,a,o);b=function(e,t,r){var n,o,i,a,s,c,f,p,d,h,g,y,m,v,b,w=[],_=e.length-1,P=e[0].length-1,x=["right","bottom","left","top"],O=[0,-1,0,1],C=[-1,0,1,0],S={bottom:1,left:2,top:3,right:0};return r.noFrame||function(e,t){var r,n,o,i,a;for(r=!0,n=e[0].length,o=e.length,a=0;a<o;a++)if(e[a][0]>=t||e[a][n-1]>=t){r=!1;break}if(r&&(e[o-1][0]>=t||e[o-1][n-1]>=t)&&(r=!1),r)for(i=0;i<n-1;i++)if(e[0][i]>=t||e[o-1][i]>t){r=!1;break}return r}(e,r.threshold)&&(r.linearRing?w.push([[0,0],[0,_],[P,_],[P,0],[0,0]]):w.push([[0,0],[0,_],[P,_],[P,0]])),t.forEach((function(e,E){e.forEach((function(e,M){for(n=null,o=0;o<4;o++)if(n=x[o],"object"==typeof e.edges[n]){for(s=[],i=e.edges[n],c=n,f=E,p=M,d=!1,h=[E+i.path[0][0],M+i.path[0][1]],s.push(h);!d&&"object"==typeof(a=t[f][p]).edges[c];)if(i=a.edges[c],delete a.edges[c],(g=i.path[1])[0]+=f,g[1]+=p,s.push(g),c=i.move.enter,f+=i.move.x,p+=i.move.y,void 0===t[f]||void 0===t[f][p]){if(!r.linearRing)break;if(y=0,m=0,f===P?(f--,y=0):f<0?(f++,y=2):p===_?(p--,y=3):p<0&&(p++,y=1),f===E&&p===M&&y===S[n]){d=!0,c=n;break}for(;;){if(v=!1,m>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==t[f]&&void 0!==t[f][p]&&(a=t[f][p],b=x[y],"object"==typeof a.edges[b])){i=a.edges[b],s.push(l(f,p,y,i.path)),c=b,v=!0;break}if(v)break;if(s.push(u(f,p,y)),p+=C[y],void 0!==t[f+=O[y]]&&void 0!==t[f][p]||(0===y&&p<0||1===y&&f<0||2===y&&p===_||3===y&&f===P)&&(f-=O[y],p-=C[y],y=(y+1)%4,m++),f===E&&p===M&&y===S[n]){d=!0,c=n;break}}}!r.linearRing||s[s.length-1][0]===h[0]&&s[s.length-1][1]===h[1]||s.push(h),w.push(s)}}))})),w}(m,v,o)}d?w.push(b):w=b,"function"==typeof o.successCallback&&o.successCallback(w,e)})),w}function h(e,t,r,n){var o,i,a,s,c,l,u=0,f=e[r+1][t],p=e[r+1][t+1],d=e[r][t+1],h=e[r][t],g=n.threshold;if(!(isNaN(h)||isNaN(d)||isNaN(p)||isNaN(f))){switch(u|=f>=g?8:0,u|=p>=g?4:0,u|=d>=g?2:0,l={cval:u=+(u|=h>=g?1:0),polygons:[],edges:{},x0:h,x1:d,x2:p,x3:f},u){case 0:n.polygons&&l.polygons.push([[0,0],[0,1],[1,1],[1,0]]);break;case 15:break;case 14:o=n.interpolate(h,f,g),s=n.interpolate(h,d,g),n.polygons_full&&(l.edges.left={path:[[0,o],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&l.polygons.push([[0,0],[0,o],[s,0]]);break;case 13:s=n.interpolate(h,d,g),i=n.interpolate(d,p,g),n.polygons_full&&(l.edges.bottom={path:[[s,0],[1,i]],move:{x:1,y:0,enter:"left"}}),n.polygons&&l.polygons.push([[s,0],[1,i],[1,0]]);break;case 11:i=n.interpolate(d,p,g),a=n.interpolate(f,p,g),n.polygons_full&&(l.edges.right={path:[[1,i],[a,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&l.polygons.push([[1,i],[a,1],[1,1]]);break;case 7:o=n.interpolate(h,f,g),a=n.interpolate(f,p,g),n.polygons_full&&(l.edges.top={path:[[a,1],[0,o]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&l.polygons.push([[a,1],[0,o],[0,1]]);break;case 1:o=n.interpolate(h,f,g),s=n.interpolate(h,d,g),n.polygons_full&&(l.edges.bottom={path:[[s,0],[0,o]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&l.polygons.push([[s,0],[0,o],[0,1],[1,1],[1,0]]);break;case 2:s=n.interpolate(h,d,g),i=n.interpolate(d,p,g),n.polygons_full&&(l.edges.right={path:[[1,i],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&l.polygons.push([[0,0],[0,1],[1,1],[1,i],[s,0]]);break;case 4:i=n.interpolate(d,p,g),a=n.interpolate(f,p,g),n.polygons_full&&(l.edges.top={path:[[a,1],[1,i]],move:{x:1,y:0,enter:"left"}}),n.polygons&&l.polygons.push([[0,0],[0,1],[a,1],[1,i],[1,0]]);break;case 8:o=n.interpolate(h,f,g),a=n.interpolate(f,p,g),n.polygons_full&&(l.edges.left={path:[[0,o],[a,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&l.polygons.push([[0,0],[0,o],[a,1],[1,1],[1,0]]);break;case 12:o=n.interpolate(h,f,g),i=n.interpolate(d,p,g),n.polygons_full&&(l.edges.left={path:[[0,o],[1,i]],move:{x:1,y:0,enter:"left"}}),n.polygons&&l.polygons.push([[0,0],[0,o],[1,i],[1,0]]);break;case 9:s=n.interpolate(h,d,g),a=n.interpolate(f,p,g),n.polygons_full&&(l.edges.bottom={path:[[s,0],[a,1]],move:{x:0,y:1,enter:"bottom"}}),n.polygons&&l.polygons.push([[s,0],[a,1],[1,1],[1,0]]);break;case 3:o=n.interpolate(h,f,g),i=n.interpolate(d,p,g),n.polygons_full&&(l.edges.right={path:[[1,i],[0,o]],move:{x:-1,y:0,enter:"right"}}),n.polygons&&l.polygons.push([[0,o],[0,1],[1,1],[1,i]]);break;case 6:s=n.interpolate(h,d,g),a=n.interpolate(f,p,g),n.polygons_full&&(l.edges.top={path:[[a,1],[s,0]],move:{x:0,y:-1,enter:"top"}}),n.polygons&&l.polygons.push([[0,0],[0,1],[a,1],[s,0]]);break;case 10:o=n.interpolate(h,f,g),i=n.interpolate(d,p,g),s=n.interpolate(h,d,g),a=n.interpolate(f,p,g),c=(h+d+p+f)/4,n.polygons_full&&(c<g?(l.edges.left={path:[[0,o],[a,1]],move:{x:0,y:1,enter:"bottom"}},l.edges.right={path:[[1,i],[s,0]],move:{x:0,y:-1,enter:"top"}}):(l.edges.right={path:[[1,i],[a,1]],move:{x:0,y:1,enter:"bottom"}},l.edges.left={path:[[0,o],[s,0]],move:{x:0,y:-1,enter:"top"}})),n.polygons&&(c<g?l.polygons.push([[0,0],[0,o],[a,1],[1,1],[1,i],[s,0]]):(l.polygons.push([[0,0],[0,o],[s,0]]),l.polygons.push([[a,1],[1,1],[1,i]])));break;case 5:o=n.interpolate(h,f,g),i=n.interpolate(d,p,g),s=n.interpolate(h,d,g),a=n.interpolate(f,p,g),c=(h+d+p+f)/4,n.polygons_full&&(c<g?(l.edges.bottom={path:[[s,0],[0,o]],move:{x:-1,y:0,enter:"right"}},l.edges.top={path:[[a,1],[1,i]],move:{x:1,y:0,enter:"left"}}):(l.edges.top={path:[[a,1],[0,o]],move:{x:-1,y:0,enter:"right"}},l.edges.bottom={path:[[s,0],[1,i]],move:{x:1,y:0,enter:"left"}})),n.polygons&&(c<g?l.polygons.push([[0,o],[0,1],[a,1],[1,i],[1,0],[s,0]]):(l.polygons.push([[0,o],[0,1],[a,1]]),l.polygons.push([[s,0],[1,i],[1,0]])))}return l}}r.r(t),r.d(t,{QuadTree:()=>p,isoBands:()=>y,isoContours:()=>d,isoLines:()=>d,quadTree:()=>p}),f.prototype.cellsInBand=function(e,t,r){var n=[];return r=void 0===r||r,this.lowerBound>t||this.upperBound<e||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(n=n.concat(this.childA.cellsInBand(e,t,r))),this.childB&&(n=n.concat(this.childB.cellsInBand(e,t,r))),this.childD&&(n=n.concat(this.childD.cellsInBand(e,t,r))),this.childC&&(n=n.concat(this.childC.cellsInBand(e,t,r)))):(r||this.lowerBound<=e||this.upperBound>=t)&&n.push({x:this.x,y:this.y})),n},f.prototype.cellsBelowThreshold=function(e,t){var r=[];return t=void 0===t||t,this.lowerBound>e||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(r=r.concat(this.childA.cellsBelowThreshold(e,t))),this.childB&&(r=r.concat(this.childB.cellsBelowThreshold(e,t))),this.childD&&(r=r.concat(this.childD.cellsBelowThreshold(e,t))),this.childC&&(r=r.concat(this.childC.cellsBelowThreshold(e,t)))):(t||this.upperBound>=e)&&r.push({x:this.x,y:this.y})),r};var g={square:function(e,t,r,n,o,i){i.polygons&&e.polygons.push([[0,0],[0,1],[1,1],[1,0]])},triangle_bl:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(t,o,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,s],[a,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,s],[a,0],[0,0]])},triangle_br:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[a,0],[1,s]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[a,0],[1,s],[1,0]])},triangle_tr:function(e,t,r,n,o,i){var a=i.interpolate(r,n,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV);i.polygons_full&&(e.edges.rt={path:[[1,a],[s,1]],move:{x:0,y:1,enter:"br"}}),i.polygons&&e.polygons.push([[1,a],[s,1],[1,1]])},triangle_tl:function(e,t,r,n,o,i){var a=i.interpolate(o,n,i.minV,i.maxV),s=i.interpolate(t,o,i.minV,i.maxV);i.polygons_full&&(e.edges.tl={path:[[a,1],[0,s]],move:{x:-1,y:0,enter:"rt"}}),i.polygons&&e.polygons.push([[0,s],[0,1],[a,1]])},tetragon_t:function(e,t,r,n,o,i){var a=i.interpolate(r,n,i.minV,i.maxV),s=i.interpolate(t,o,i.minV,i.maxV);i.polygons_full&&(e.edges.rt={path:[[1,a],[0,s]],move:{x:-1,y:0,enter:"rt"}}),i.polygons&&e.polygons.push([[0,s],[0,1],[1,1],[1,a]])},tetragon_r:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[a,0],[s,1]],move:{x:0,y:1,enter:"br"}}),i.polygons&&e.polygons.push([[a,0],[s,1],[1,1],[1,0]])},tetragon_b:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,a],[1,s]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[0,0],[0,a],[1,s],[1,0]])},tetragon_l:function(e,t,r,n,o,i){var a=i.interpolate(o,n,i.minV,i.maxV),s=i.interpolate(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.tl={path:[[a,1],[s,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,1],[a,1],[s,0]])},tetragon_bl:function(e,t,r,n,o,i){var a=i.interpolate_a(t,r,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate_a(t,o,i.minV,i.maxV),l=i.interpolate_b(t,o,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[a,0],[0,c]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[s,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[a,0],[0,c],[0,l],[s,0]])},tetragon_br:function(e,t,r,n,o,i){var a=i.interpolate_a(t,r,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate_a(r,n,i.minV,i.maxV),l=i.interpolate_b(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[a,0],[1,l]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,c],[s,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[a,0],[1,l],[1,c],[s,0]])},tetragon_tr:function(e,t,r,n,o,i){var a=i.interpolate_a(o,n,i.minV,i.maxV),s=i.interpolate_b(o,n,i.minV,i.maxV),c=i.interpolate_b(r,n,i.minV,i.maxV),l=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.rb={path:[[1,l],[a,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[s,1],[1,c]],move:{x:1,y:0,enter:"lt"}}),i.polygons&&e.polygons.push([[1,l],[a,1],[s,1],[1,c]])},tetragon_tl:function(e,t,r,n,o,i){var a=i.interpolate_a(o,n,i.minV,i.maxV),s=i.interpolate_b(o,n,i.minV,i.maxV),c=i.interpolate_b(t,o,i.minV,i.maxV),l=i.interpolate_a(t,o,i.minV,i.maxV);i.polygons_full&&(e.edges.tr={path:[[s,1],[0,l]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,c],[a,1]],move:{x:0,y:1,enter:"bl"}}),i.polygons&&e.polygons.push([[s,1],[0,l],[0,c],[a,1]])},tetragon_lr:function(e,t,r,n,o,i){var a=i.interpolate_a(t,o,i.minV,i.maxV),s=i.interpolate_b(t,o,i.minV,i.maxV),c=i.interpolate_b(r,n,i.minV,i.maxV),l=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.lt={path:[[0,s],[1,c]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,l],[0,a]],move:{x:-1,y:0,enter:"rb"}}),i.polygons&&e.polygons.push([[0,a],[0,s],[1,c],[1,l]])},tetragon_tb:function(e,t,r,n,o,i){var a=i.interpolate_a(o,n,i.minV,i.maxV),s=i.interpolate_b(o,n,i.minV,i.maxV),c=i.interpolate_b(t,r,i.minV,i.maxV),l=i.interpolate_a(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.tr={path:[[s,1],[c,0]],move:{x:0,y:-1,enter:"tr"}},e.edges.bl={path:[[l,0],[a,1]],move:{x:0,y:1,enter:"bl"}}),i.polygons&&e.polygons.push([[l,0],[a,1],[s,1],[c,0]])},pentagon_tr:function(e,t,r,n,o,i){var a=i.interpolate(o,n,i.minV,i.maxV),s=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.tl={path:[[a,1],[1,s]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[0,0],[0,1],[a,1],[1,s],[1,0]])},pentagon_tl:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"br"}}),i.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[1,1],[1,0]])},pentagon_br:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.rt={path:[[1,s],[a,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,1],[1,1],[1,s],[a,0]])},pentagon_bl:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rt"}}),i.polygons&&e.polygons.push([[0,a],[0,1],[1,1],[1,0],[s,0]])},pentagon_tr_rl:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV),c=i.interpolate_b(r,n,i.minV,i.maxV),l=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.tl={path:[[s,1],[1,c]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,l],[0,a]],move:{x:-1,y:0,enter:"rt"}}),i.polygons&&e.polygons.push([[0,a],[0,1],[s,1],[1,c],[1,l]])},pentagon_rb_bt:function(e,t,r,n,o,i){var a=i.interpolate(r,n,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate_a(t,r,i.minV,i.maxV),l=i.interpolate(o,n,i.minV,i.maxV);i.polygons_full&&(e.edges.rt={path:[[1,a],[s,0]],move:{x:0,y:-1,enter:"tr"}},e.edges.bl={path:[[c,0],[l,1]],move:{x:0,y:1,enter:"br"}}),i.polygons&&e.polygons.push([[l,1],[1,1],[1,a],[s,0],[c,0]])},pentagon_bl_lr:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate_a(t,o,i.minV,i.maxV),c=i.interpolate_b(t,o,i.minV,i.maxV),l=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,c],[1,l]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[a,0],[0,s],[0,c],[1,l],[1,0]])},pentagon_lt_tb:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate_a(o,n,i.minV,i.maxV),c=i.interpolate_b(o,n,i.minV,i.maxV),l=i.interpolate(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[c,1],[l,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[c,1],[l,0]])},pentagon_bl_tb:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV),c=i.interpolate_b(t,r,i.minV,i.maxV),l=i.interpolate_a(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[l,0],[0,a]],move:{x:-1,y:0,enter:"rt"}},e.edges.tl={path:[[s,1],[c,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[0,a],[0,1],[s,1],[c,0],[l,0]])},pentagon_lt_rl:function(e,t,r,n,o,i){var a=i.interpolate_a(t,o,i.minV,i.maxV),s=i.interpolate_b(t,o,i.minV,i.maxV),c=i.interpolate(o,n,i.minV,i.maxV),l=i.interpolate(r,o,i.minV,i.maxV);i.polygons_full&&(e.edges.lt={path:[[0,s],[c,1]],move:{x:0,y:1,enter:"br"}},e.edges.rt={path:[[1,l],[0,a]],move:{x:-1,y:0,enter:"rb"}}),i.polygons&&e.polygons.push([[0,a],[0,s],[c,1],[1,1],[1,l]])},pentagon_tr_bt:function(e,t,r,n,o,i){var a=i.interpolate_a(o,n,i.minV,i.maxV),s=i.interpolate_b(o,n,i.minV,i.maxV),c=i.interpolate(r,n,i.minV,i.maxV),l=i.interpolate(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[l,0],[a,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[s,1],[1,c]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[a,1],[s,1],[1,c],[1,0],[l,0]])},pentagon_rb_lr:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate_b(r,n,i.minV,i.maxV),c=i.interpolate_a(r,n,i.minV,i.maxV),l=i.interpolate(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,a],[1,s]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,c],[l,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,a],[1,s],[1,c],[l,0]])},hexagon_lt_tr:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate_a(o,n,i.minV,i.maxV),c=i.interpolate_b(o,n,i.minV,i.maxV),l=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[c,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[c,1],[1,l],[1,0]])},hexagon_bl_lt:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate_a(t,o,i.minV,i.maxV),c=i.interpolate_b(t,o,i.minV,i.maxV),l=i.interpolate(o,n,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,c],[l,1]],move:{x:0,y:1,enter:"br"}}),i.polygons&&e.polygons.push([[a,0],[0,s],[0,c],[l,1],[1,1],[1,0]])},hexagon_bl_rb:function(e,t,r,n,o,i){var a=i.interpolate_a(t,r,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate(t,o,i.minV,i.maxV),l=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[a,0],[0,c]],move:{x:-1,y:0,enter:"rt"}},e.edges.rt={path:[[1,l],[s,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[a,0],[0,c],[0,1],[1,1],[1,l],[s,0]])},hexagon_tr_rb:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV),c=i.interpolate_b(r,n,i.minV,i.maxV),l=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.tl={path:[[s,1],[1,c]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,l],[a,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,1],[s,1],[1,c],[1,l],[a,0]])},hexagon_lt_rb:function(e,t,r,n,o,i){var a=i.interpolate(t,o,i.minV,i.maxV),s=i.interpolate(o,n,i.minV,i.maxV),c=i.interpolate(r,n,i.minV,i.maxV),l=i.interpolate(t,r,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,a],[s,1]],move:{x:0,y:1,enter:"br"}},e.edges.rt={path:[[1,c],[l,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,a],[s,1],[1,1],[1,c],[l,0]])},hexagon_bl_tr:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(t,o,i.minV,i.maxV),c=i.interpolate(o,n,i.minV,i.maxV),l=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rt"}},e.edges.tl={path:[[c,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[a,0],[0,s],[0,1],[c,1],[1,l],[1,0]])},heptagon_tr:function(e,t,r,n,o,i){var a=i.interpolate_a(t,r,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate_a(t,o,i.minV,i.maxV),l=i.interpolate_b(t,o,i.minV,i.maxV),u=i.interpolate(o,n,i.minV,i.maxV),f=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[a,0],[0,c]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[u,1]],move:{x:0,y:1,enter:"br"}},e.edges.rt={path:[[1,f],[s,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[a,0],[0,c],[0,l],[u,1],[1,1],[1,f],[s,0]])},heptagon_bl:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate(t,o,i.minV,i.maxV),c=i.interpolate_a(o,n,i.minV,i.maxV),l=i.interpolate_b(o,n,i.minV,i.maxV),u=i.interpolate_b(r,n,i.minV,i.maxV),f=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.lb={path:[[0,s],[c,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[l,1],[1,u]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,f],[a,0]],move:{x:0,y:-1,enter:"tl"}}),i.polygons&&e.polygons.push([[0,0],[0,s],[c,1],[l,1],[1,u],[1,f],[a,0]])},heptagon_tl:function(e,t,r,n,o,i){var a=i.interpolate_a(t,r,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate(t,o,i.minV,i.maxV),l=i.interpolate(o,n,i.minV,i.maxV),u=i.interpolate_b(r,n,i.minV,i.maxV),f=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[a,0],[0,c]],move:{x:-1,y:0,enter:"rt"}},e.edges.tl={path:[[l,1],[1,u]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,f],[s,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[a,0],[0,c],[0,1],[l,1],[1,u],[1,f],[s,0]])},heptagon_br:function(e,t,r,n,o,i){var a=i.interpolate(t,r,i.minV,i.maxV),s=i.interpolate_a(t,o,i.minV,i.maxV),c=i.interpolate_b(t,o,i.minV,i.maxV),l=i.interpolate_a(o,n,i.minV,i.maxV),u=i.interpolate_b(o,n,i.minV,i.maxV),f=i.interpolate(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,c],[l,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[u,1],[1,f]],move:{x:1,y:0,enter:"lb"}}),i.polygons&&e.polygons.push([[a,0],[0,s],[0,c],[l,1],[u,1],[1,f],[1,0]])},octagon:function(e,t,r,n,o,i){var a=i.interpolate_a(t,r,i.minV,i.maxV),s=i.interpolate_b(t,r,i.minV,i.maxV),c=i.interpolate_a(t,o,i.minV,i.maxV),l=i.interpolate_b(t,o,i.minV,i.maxV),u=i.interpolate_a(o,n,i.minV,i.maxV),f=i.interpolate_b(o,n,i.minV,i.maxV),p=i.interpolate_b(r,n,i.minV,i.maxV),d=i.interpolate_a(r,n,i.minV,i.maxV);i.polygons_full&&(e.edges.bl={path:[[a,0],[0,c]],move:{x:-1,y:0,enter:"rb"}},e.edges.lt={path:[[0,l],[u,1]],move:{x:0,y:1,enter:"bl"}},e.edges.tr={path:[[f,1],[1,p]],move:{x:1,y:0,enter:"lt"}},e.edges.rb={path:[[1,d],[s,0]],move:{x:0,y:-1,enter:"tr"}}),i.polygons&&e.polygons.push([[a,0],[0,c],[0,l],[u,1],[f,1],[1,p],[1,d],[s,0]])}};function y(e,t,r,n){var f,d,h,g=!1,y=null,m=null,b=null,w=null,_=!1,P=[],x=[],O=[];if(!e)throw new Error("data is required");if(null==t)throw new Error("lowerBound is required");if(null==r)throw new Error("bandWidth is required");if(n&&"object"!=typeof n)throw new Error("options must be an object");if(h=function(e){var t,r,n,c,l;for(c=new s,e=e||{},l=Object.keys(c),t=0;t<l.length;t++)null!=(n=e[r=l[t]])&&(c[r]=n);return c.polygons_full=!c.polygons,c.interpolate=o,c.interpolate_a=i,c.interpolate_b=a,c}(n),e instanceof p)y=e,m=e.root,b=e.data,h.noQuadTree||(g=!0);else{if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");b=e}if(Array.isArray(t)){for(_=!0,h.noQuadTree||(g=!0),f=0;f<t.length;f++)if(isNaN(+t[f]))throw new Error("lowerBound["+f+"] is not a number");if(Array.isArray(r)){if(t.length!==r.length)throw new Error("lowerBound and bandWidth have unequal lengths");for(f=0;f<r.length;f++)if(isNaN(+r[f]))throw new Error("bandWidth["+f+"] is not a number")}else{if(isNaN(+r))throw new Error("bandWidth must be a number");for(P=[],f=0;f<t.length;f++)P.push(r);r=P}}else{if(isNaN(+t))throw new Error("lowerBound must be a number");if(t=[t],isNaN(+r))throw new Error("bandWidth must be a number");r=[r]}return g&&!m&&(y=new p(b),m=y.root,b=y.data),h.verbose&&(h.polygons?console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"):console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),_&&console.log("MarchingSquaresJS-isoBands: multiple bands requested, returning array of band polygons instead of polygons for a single band")),t.forEach((function(e,t){if(x=[],h.minV=e,h.maxV=e+r[t],h.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+r[t])+"]"),h.polygons)if(g)m.cellsInBand(h.minV,h.maxV,!0).forEach((function(e){x=x.concat(c(v(b,e.x,e.y,h),e.x,e.y,h))}));else for(d=0;d<b.length-1;++d)for(f=0;f<b[0].length-1;++f)x=x.concat(c(v(b,f,d,h),f,d,h));else{for(w=[],f=0;f<b[0].length-1;++f)w[f]=[];if(g)m.cellsInBand(h.minV,h.maxV,!1).forEach((function(e){w[e.x][e.y]=v(b,e.x,e.y,h)}));else for(f=0;f<b[0].length-1;++f)for(d=0;d<b.length-1;++d)w[f][d]=v(b,f,d,h);x=function(e,t,r){var n,o,i,a,s,c,f,p,d,h,g,y,m,v,b,w,_=[],P=e.length-1,x=e[0].length-1,O=[["rt","rb"],["br","bl"],["lb","lt"],["tl","tr"]],C=[0,-1,0,1],S=[-1,0,1,0],E=["bl","lb","lt","tl","tr","rt","rb","br"],M={bl:1,br:1,lb:2,lt:2,tl:3,tr:3,rt:0,rb:0};return function(e,t,r){var n,o,i,a,s;for(n=!0,o=e[0].length,i=e.length,s=0;s<i;s++)if(e[s][0]<t||e[s][0]>r||e[s][o-1]<t||e[s][o-1]>r){n=!1;break}if(n&&(e[i-1][0]<t||e[i-1][0]>r||e[i-1][o-1]<t||e[i-1][o-1]>r)&&(n=!1),n)for(a=0;a<o-1;a++)if(e[0][a]<t||e[0][a]>r||e[i-1][a]<t||e[i-1][a]>r){n=!1;break}return n}(e,r.minV,r.maxV)&&(r.linearRing?_.push([[0,0],[0,P],[x,P],[x,0],[0,0]]):_.push([[0,0],[0,P],[x,P],[x,0]])),t.forEach((function(e,j){e.forEach((function(e,k){for(n=null,i=0;i<8;i++)if(n=E[i],"object"==typeof e.edges[n]){for(o=[],a=e.edges[n],f=n,p=j,d=k,h=!1,g=[j+a.path[0][0],k+a.path[0][1]],o.push(g);!h&&"object"==typeof(y=t[p][d]).edges[f];)if(a=y.edges[f],delete y.edges[f],(b=a.path[1])[0]+=p,b[1]+=d,o.push(b),f=a.move.enter,p+=a.move.x,d+=a.move.y,void 0===t[p]||void 0===t[p][d]){if(m=0,v=0,p===x)p--,m=0;else if(p<0)p++,m=2;else if(d===P)d--,m=3;else{if(!(d<0))throw new Error("Left the grid somewhere in the interior!");d++,m=1}if(p===j&&d===k&&m===M[n]){h=!0,f=n;break}for(;;){if(w=!1,v>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==t[p]&&void 0!==t[p][d])for(y=t[p][d],s=0;s<O[m].length;s++)if(c=O[m][s],"object"==typeof y.edges[c]){a=y.edges[c],o.push(l(p,d,m,a.path)),f=c,w=!0;break}if(w)break;if(o.push(u(p,d,m)),d+=S[m],void 0!==t[p+=C[m]]&&void 0!==t[p][d]||(0===m&&d<0||1===m&&p<0||2===m&&d===P||3===m&&p===x)&&(p-=C[m],d-=S[m],m=(m+1)%4,v++),p===j&&d===k&&m===M[n]){h=!0,f=n;break}}}!r.linearRing||o[o.length-1][0]===g[0]&&o[o.length-1][1]===g[1]||o.push(g),_.push(o)}}))})),_}(b,w,h)}_?O.push(x):O=x,"function"==typeof h.successCallback&&h.successCallback(O,e,r[t])})),O}function m(e,t,r,n,o,i){var a=(n+r+t+e)/4;return a>i?2:a<o?0:1}function v(e,t,r,n){var o,i,a=0,s=e[r+1][t],c=e[r+1][t+1],l=e[r][t+1],u=e[r][t],f=n.minV,p=n.maxV;if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(s))){switch(a|=s<f?0:s>p?128:64,a|=c<f?0:c>p?32:16,a|=l<f?0:l>p?8:4,i=0,o={cval:a=+(a|=u<f?0:u>p?2:1),polygons:[],edges:{},x0:u,x1:l,x2:c,x3:s,x:t,y:r},a){case 85:g.square(o,u,l,c,s,n);case 0:case 170:break;case 169:g.triangle_bl(o,u,l,c,s,n);break;case 166:g.triangle_br(o,u,l,c,s,n);break;case 154:g.triangle_tr(o,u,l,c,s,n);break;case 106:g.triangle_tl(o,u,l,c,s,n);break;case 1:g.triangle_bl(o,u,l,c,s,n);break;case 4:g.triangle_br(o,u,l,c,s,n);break;case 16:g.triangle_tr(o,u,l,c,s,n);break;case 64:g.triangle_tl(o,u,l,c,s,n);break;case 168:g.tetragon_bl(o,u,l,c,s,n);break;case 162:g.tetragon_br(o,u,l,c,s,n);break;case 138:g.tetragon_tr(o,u,l,c,s,n);break;case 42:g.tetragon_tl(o,u,l,c,s,n);break;case 2:g.tetragon_bl(o,u,l,c,s,n);break;case 8:g.tetragon_br(o,u,l,c,s,n);break;case 32:g.tetragon_tr(o,u,l,c,s,n);break;case 128:g.tetragon_tl(o,u,l,c,s,n);break;case 5:g.tetragon_b(o,u,l,c,s,n);break;case 20:g.tetragon_r(o,u,l,c,s,n);break;case 80:g.tetragon_t(o,u,l,c,s,n);break;case 65:g.tetragon_l(o,u,l,c,s,n);break;case 165:g.tetragon_b(o,u,l,c,s,n);break;case 150:g.tetragon_r(o,u,l,c,s,n);break;case 90:g.tetragon_t(o,u,l,c,s,n);break;case 105:g.tetragon_l(o,u,l,c,s,n);break;case 160:g.tetragon_lr(o,u,l,c,s,n);break;case 130:g.tetragon_tb(o,u,l,c,s,n);break;case 10:g.tetragon_lr(o,u,l,c,s,n);break;case 40:g.tetragon_tb(o,u,l,c,s,n);break;case 101:g.pentagon_tr(o,u,l,c,s,n);break;case 149:g.pentagon_tl(o,u,l,c,s,n);break;case 86:g.pentagon_bl(o,u,l,c,s,n);break;case 89:g.pentagon_br(o,u,l,c,s,n);break;case 69:g.pentagon_tr(o,u,l,c,s,n);break;case 21:g.pentagon_tl(o,u,l,c,s,n);break;case 84:g.pentagon_bl(o,u,l,c,s,n);break;case 81:g.pentagon_br(o,u,l,c,s,n);break;case 96:g.pentagon_tr_rl(o,u,l,c,s,n);break;case 24:g.pentagon_rb_bt(o,u,l,c,s,n);break;case 6:g.pentagon_bl_lr(o,u,l,c,s,n);break;case 129:g.pentagon_lt_tb(o,u,l,c,s,n);break;case 74:g.pentagon_tr_rl(o,u,l,c,s,n);break;case 146:g.pentagon_rb_bt(o,u,l,c,s,n);break;case 164:g.pentagon_bl_lr(o,u,l,c,s,n);break;case 41:g.pentagon_lt_tb(o,u,l,c,s,n);break;case 66:g.pentagon_bl_tb(o,u,l,c,s,n);break;case 144:g.pentagon_lt_rl(o,u,l,c,s,n);break;case 36:g.pentagon_tr_bt(o,u,l,c,s,n);break;case 9:g.pentagon_rb_lr(o,u,l,c,s,n);break;case 104:g.pentagon_bl_tb(o,u,l,c,s,n);break;case 26:g.pentagon_lt_rl(o,u,l,c,s,n);break;case 134:g.pentagon_tr_bt(o,u,l,c,s,n);break;case 161:g.pentagon_rb_lr(o,u,l,c,s,n);break;case 37:g.hexagon_lt_tr(o,u,l,c,s,n);break;case 148:g.hexagon_bl_lt(o,u,l,c,s,n);break;case 82:g.hexagon_bl_rb(o,u,l,c,s,n);break;case 73:g.hexagon_tr_rb(o,u,l,c,s,n);break;case 133:g.hexagon_lt_tr(o,u,l,c,s,n);break;case 22:g.hexagon_bl_lt(o,u,l,c,s,n);break;case 88:g.hexagon_bl_rb(o,u,l,c,s,n);break;case 97:g.hexagon_tr_rb(o,u,l,c,s,n);break;case 145:case 25:g.hexagon_lt_rb(o,u,l,c,s,n);break;case 70:case 100:g.hexagon_bl_tr(o,u,l,c,s,n);break;case 17:0===(i=m(u,l,c,s,f,p))?(g.triangle_bl(o,u,l,c,s,n),g.triangle_tr(o,u,l,c,s,n)):g.hexagon_lt_rb(o,u,l,c,s,n);break;case 68:0===(i=m(u,l,c,s,f,p))?(g.triangle_tl(o,u,l,c,s,n),g.triangle_br(o,u,l,c,s,n)):g.hexagon_bl_tr(o,u,l,c,s,n);break;case 153:2===(i=m(u,l,c,s,f,p))?(g.triangle_bl(o,u,l,c,s,n),g.triangle_tr(o,u,l,c,s,n)):g.hexagon_lt_rb(o,u,l,c,s,n);break;case 102:2===(i=m(u,l,c,s,f,p))?(g.triangle_tl(o,u,l,c,s,n),g.triangle_br(o,u,l,c,s,n)):g.hexagon_bl_tr(o,u,l,c,s,n);break;case 152:2===(i=m(u,l,c,s,f,p))?(g.triangle_tr(o,u,l,c,s,n),g.tetragon_bl(o,u,l,c,s,n)):g.heptagon_tr(o,u,l,c,s,n);break;case 137:2===(i=m(u,l,c,s,f,p))?(g.triangle_bl(o,u,l,c,s,n),g.tetragon_tr(o,u,l,c,s,n)):g.heptagon_bl(o,u,l,c,s,n);break;case 98:2===(i=m(u,l,c,s,f,p))?(g.triangle_tl(o,u,l,c,s,n),g.tetragon_br(o,u,l,c,s,n)):g.heptagon_tl(o,u,l,c,s,n);break;case 38:2===(i=m(u,l,c,s,f,p))?(g.triangle_br(o,u,l,c,s,n),g.tetragon_tl(o,u,l,c,s,n)):g.heptagon_br(o,u,l,c,s,n);break;case 18:0===(i=m(u,l,c,s,f,p))?(g.triangle_tr(o,u,l,c,s,n),g.tetragon_bl(o,u,l,c,s,n)):g.heptagon_tr(o,u,l,c,s,n);break;case 33:0===(i=m(u,l,c,s,f,p))?(g.triangle_bl(o,u,l,c,s,n),g.tetragon_tr(o,u,l,c,s,n)):g.heptagon_bl(o,u,l,c,s,n);break;case 72:0===(i=m(u,l,c,s,f,p))?(g.triangle_tl(o,u,l,c,s,n),g.tetragon_br(o,u,l,c,s,n)):g.heptagon_tl(o,u,l,c,s,n);break;case 132:0===(i=m(u,l,c,s,f,p))?(g.triangle_br(o,u,l,c,s,n),g.tetragon_tl(o,u,l,c,s,n)):g.heptagon_br(o,u,l,c,s,n);break;case 136:0===(i=m(u,l,c,s,f,p))?(g.tetragon_tl(o,u,l,c,s,n),g.tetragon_br(o,u,l,c,s,n)):1===i?g.octagon(o,u,l,c,s,n):(g.tetragon_bl(o,u,l,c,s,n),g.tetragon_tr(o,u,l,c,s,n));break;case 34:0===(i=m(u,l,c,s,f,p))?(g.tetragon_bl(o,u,l,c,s,n),g.tetragon_tr(o,u,l,c,s,n)):1===i?g.octagon(o,u,l,c,s,n):(g.tetragon_tl(o,u,l,c,s,n),g.tetragon_br(o,u,l,c,s,n))}return o}}},58859:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&c&&"function"==typeof c.get?c.get:null,u=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,g=Object.prototype.toString,y=Function.prototype.toString,m=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,P=RegExp.prototype.test,x=Array.prototype.concat,O=Array.prototype.join,C=Array.prototype.slice,S=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,F=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function A(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||P.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-S(-e):S(e);if(n!==e){var o=String(n),i=v.call(t,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var L=r(42634),R=L.custom,D=V(R)?R:null;function B(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function N(e){return b.call(String(e),/"/g,"&quot;")}function z(e){return!("[object Array]"!==H(e)||T&&"object"==typeof e&&T in e)}function G(e){return!("[object RegExp]"!==H(e)||T&&"object"==typeof e&&T in e)}function V(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!j)return!1;try{return j.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,o,s){var c=n||{};if(U(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(U(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=!U(c,"customInspect")||c.customInspect;if("boolean"!=typeof g&&"symbol"!==g)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(U(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(U(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return J(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var P=String(t);return w?A(t,P):P}if("bigint"==typeof t){var S=String(t)+"n";return w?A(t,S):S}var M=void 0===c.depth?5:c.depth;if(void 0===o&&(o=0),o>=M&&M>0&&"object"==typeof t)return z(t)?"[Array]":"[Object]";var R,q=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=O.call(Array(e.indent+1)," ")}return{base:r,prev:O.call(Array(t+1),r)}}(c,o);if(void 0===s)s=[];else if(W(s,t)>=0)return"[Circular]";function Y(t,r,n){if(r&&(s=C.call(s)).push(r),n){var i={depth:c.depth};return U(c,"quoteStyle")&&(i.quoteStyle=c.quoteStyle),e(t,i,o+1,s)}return e(t,c,o+1,s)}if("function"==typeof t&&!G(t)){var ee=function(e){if(e.name)return e.name;var t=m.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=Q(t,Y);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+O.call(te,", ")+" }":"")}if(V(t)){var re=k?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(t);return"object"!=typeof t||k?re:X(re)}if((R=t)&&"object"==typeof R&&("undefined"!=typeof HTMLElement&&R instanceof HTMLElement||"string"==typeof R.nodeName&&"function"==typeof R.getAttribute)){for(var ne="<"+_.call(String(t.nodeName)),oe=t.attributes||[],ie=0;ie<oe.length;ie++)ne+=" "+oe[ie].name+"="+B(N(oe[ie].value),"double",c);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+_.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var ae=Q(t,Y);return q&&!function(e){for(var t=0;t<e.length;t++)if(W(e[t],"\n")>=0)return!1;return!0}(ae)?"["+K(ae,q)+"]":"[ "+O.call(ae,", ")+" ]"}if(function(e){return!("[object Error]"!==H(e)||T&&"object"==typeof e&&T in e)}(t)){var se=Q(t,Y);return"cause"in Error.prototype||!("cause"in t)||I.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+O.call(se,", ")+" }":"{ ["+String(t)+"] "+O.call(x.call("[cause]: "+Y(t.cause),se),", ")+" }"}if("object"==typeof t&&g){if(D&&"function"==typeof t[D]&&L)return L(t,{depth:M-o});if("symbol"!==g&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{l.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return a&&a.call(t,(function(e,r){ce.push(Y(r,t,!0)+" => "+Y(e,t))})),$("Map",i.call(t),ce,q)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var le=[];return u&&u.call(t,(function(e){le.push(Y(e,t))})),$("Set",l.call(t),le,q)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Z("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Z("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(e){}return!1}(t))return Z("WeakRef");if(function(e){return!("[object Number]"!==H(e)||T&&"object"==typeof e&&T in e)}(t))return X(Y(Number(t)));if(function(e){if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}(t))return X(Y(E.call(t)));if(function(e){return!("[object Boolean]"!==H(e)||T&&"object"==typeof e&&T in e)}(t))return X(h.call(t));if(function(e){return!("[object String]"!==H(e)||T&&"object"==typeof e&&T in e)}(t))return X(Y(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==H(e)||T&&"object"==typeof e&&T in e)}(t)&&!G(t)){var ue=Q(t,Y),fe=F?F(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",de=!fe&&T&&Object(t)===t&&T in t?v.call(H(t),8,-1):pe?"Object":"",he=(fe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||pe?"["+O.call(x.call([],de||[],pe||[]),": ")+"] ":"");return 0===ue.length?he+"{}":q?he+"{"+K(ue,q)+"}":he+"{ "+O.call(ue,", ")+" }"}return String(t)};var q=Object.prototype.hasOwnProperty||function(e){return e in this};function U(e,t){return q.call(e,t)}function H(e){return g.call(e)}function W(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function J(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return J(v.call(e,0,t.maxStringLength),t)+n}return B(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function X(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function $(e,t,r,n){return e+" ("+t+") {"+(n?K(r,n):O.call(r,", "))+"}"}function K(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+O.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=z(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=U(e,o)?t(e[o],e):""}var i,a="function"==typeof M?M(e):[];if(k){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)U(e,c)&&(r&&String(Number(c))===c&&c<e.length||k&&i["$"+c]instanceof Symbol||(P.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof M)for(var l=0;l<a.length;l++)I.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}},89211:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},37653:(e,t,r)=>{"use strict";var n=r(38452),o=r(10487),i=r(89211),a=r(9394),s=r(36576),c=o(a(),Object);n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},9394:(e,t,r)=>{"use strict";var n=r(89211);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},36576:(e,t,r)=>{"use strict";var n=r(9394),o=r(38452);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},28875:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(1093),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=l&&r;if(s&&e.length>0&&!o.call(e,0))for(var g=0;g<e.length;++g)p.push(String(g));if(n&&e.length>0)for(var y=0;y<e.length;++y)p.push(String(y));else for(var m in e)h&&"prototype"===m||!o.call(e,m)||p.push(String(m));if(c)for(var v=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)v&&"constructor"===u[b]||!o.call(e,u[b])||p.push(u[b]);return p}}e.exports=n},1189:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1093),i=Object.keys,a=i?function(e){return i(e)}:r(28875),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},38403:(e,t,r)=>{"use strict";var n=r(1189),o=r(41333)(),i=r(38075),a=Object,s=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=a(e);if(1===arguments.length)return r;for(var i=1;i<arguments.length;++i){var u=a(arguments[i]),f=n(u),p=o&&(Object.getOwnPropertySymbols||l);if(p)for(var d=p(u),h=0;h<d.length;++h){var g=d[h];c(u,g)&&s(f,g)}for(var y=0;y<f.length;++y){var m=f[y];if(c(u,m)){var v=u[m];r[m]=v}}}return r}},6525:(e,t,r)=>{"use strict";var n=r(38452),o=r(10487),i=r(38403),a=r(11514),s=r(40984),c=o.apply(a()),l=function(e,t){return c(Object,arguments)};n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},11514:(e,t,r)=>{"use strict";var n=r(38403);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},40984:(e,t,r)=>{"use strict";var n=r(38452),o=r(11514);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},3841:e=>{e.exports=function(e,t,r,n){var o=e[0],i=e[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=(n-r)/2,c=0,l=s-1;c<s;l=c++){var u=t[r+2*c+0],f=t[r+2*c+1],p=t[r+2*l+0],d=t[r+2*l+1];f>i!=d>i&&o<(p-u)*(i-f)/(d-f)+u&&(a=!a)}return a}},51476:(e,t,r)=>{var n=r(3841),o=r(61137);e.exports=function(e,t,r,i){return t.length>0&&Array.isArray(t[0])?o(e,t,r,i):n(e,t,r,i)},e.exports.nested=o,e.exports.flat=n},61137:e=>{e.exports=function(e,t,r,n){var o=e[0],i=e[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=n-r,c=0,l=s-1;c<s;l=c++){var u=t[c+r][0],f=t[c+r][1],p=t[l+r][0],d=t[l+r][1];f>i!=d>i&&o<(p-u)*(i-f)/(d-f)+u&&(a=!a)}return a}},59004:function(e){e.exports=function(){"use strict";function e(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var t=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function r(e,t){return e>t?1:e<t?-1:0}function n(e,r,n){for(var o=new t(null,null),i=o,a=o;;){var s=n(e,r.key);if(s<0){if(null===r.left)break;if(n(e,r.left.key)<0){var c=r.left;if(r.left=c.right,c.right=r,null===(r=c).left)break}a.left=r,a=r,r=r.left}else{if(!(s>0))break;if(null===r.right)break;if(n(e,r.right.key)>0&&(c=r.right,r.right=c.left,c.left=r,null===(r=c).right))break;i.right=r,i=r,r=r.right}}return i.right=r.left,a.left=r.right,r.left=o.right,r.right=o.left,r}function o(e,r,o,i){var a=new t(e,r);if(null===o)return a.left=a.right=null,a;var s=i(e,(o=n(e,o,i)).key);return s<0?(a.left=o.left,a.right=o,o.left=null):s>=0&&(a.right=o.right,a.left=o,o.right=null),a}function i(e,t,r){var o=null,i=null;if(t){var a=r((t=n(e,t,r)).key,e);0===a?(o=t.left,i=t.right):a<0?(i=t.right,t.right=null,o=t):(o=t.left,t.left=null,i=t)}return{left:o,right:i}}function a(e,t,r,n,o){if(e){n(t+(r?" ":" ")+o(e)+"\n");var i=t+(r?"    ":"   ");e.left&&a(e.left,i,!1,n,o),e.right&&a(e.right,i,!0,n,o)}}var s=function(){function s(e){void 0===e&&(e=r),this._root=null,this._size=0,this._comparator=e}return s.prototype.insert=function(e,t){return this._size++,this._root=o(e,t,this._root,this._comparator)},s.prototype.add=function(e,r){var o=new t(e,r);null===this._root&&(o.left=o.right=null,this._size++,this._root=o);var i=this._comparator,a=n(e,this._root,i),s=i(e,a.key);return 0===s?this._root=a:(s<0?(o.left=a.left,o.right=a,a.left=null):s>0&&(o.right=a.right,o.left=a,a.right=null),this._size++,this._root=o),this._root},s.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},s.prototype._remove=function(e,t,r){var o;return null===t?null:0===r(e,(t=n(e,t,r)).key)?(null===t.left?o=t.right:(o=n(e,t.left,r)).right=t.right,this._size--,o):t},s.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=n(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},s.prototype.findStatic=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return t;t=n<0?t.left:t.right}return null},s.prototype.find=function(e){return this._root&&(this._root=n(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},s.prototype.contains=function(e){for(var t=this._root,r=this._comparator;t;){var n=r(e,t.key);if(0===n)return!0;t=n<0?t.left:t.right}return!1},s.prototype.forEach=function(e,t){for(var r=this._root,n=[],o=!1;!o;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),e.call(t,r),r=r.right):o=!0;return this},s.prototype.range=function(e,t,r,n){for(var o=[],i=this._comparator,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(i((a=o.pop()).key,t)>0)break;if(i(a.key,e)>=0&&r.call(n,a))return this;a=a.right}return this},s.prototype.keys=function(){var e=[];return this.forEach((function(t){var r=t.key;return e.push(r)})),e},s.prototype.values=function(){var e=[];return this.forEach((function(t){var r=t.data;return e.push(r)})),e},s.prototype.min=function(){return this._root?this.minNode(this._root).key:null},s.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},s.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},s.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},s.prototype.at=function(e){for(var t=this._root,r=!1,n=0,o=[];!r;)if(t)o.push(t),t=t.left;else if(o.length>0){if(t=o.pop(),n===e)return t;n++,t=t.right}else r=!0;return null},s.prototype.next=function(e){var t=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r}for(var n=this._comparator;t;){var o=n(e.key,t.key);if(0===o)break;o<0?(r=t,t=t.left):t=t.right}return r},s.prototype.prev=function(e){var t=this._root,r=null;if(null!==e.left){for(r=e.left;r.right;)r=r.right;return r}for(var n=this._comparator;t;){var o=n(e.key,t.key);if(0===o)break;o<0?t=t.left:(r=t,t=t.right)}return r},s.prototype.clear=function(){return this._root=null,this._size=0,this},s.prototype.toList=function(){return function(e){for(var r=e,n=[],o=!1,i=new t(null,null),a=i;!o;)r?(n.push(r),r=r.left):n.length>0?r=(r=a=a.next=n.pop()).right:o=!0;return a.next=null,i.next}(this._root)},s.prototype.load=function(e,r,n){void 0===r&&(r=[]),void 0===n&&(n=!1);var o=e.length,i=this._comparator;if(n&&u(e,r,0,o-1,i),null===this._root)this._root=c(e,r,0,o),this._size=o;else{var a=function(e,r,n){for(var o=new t(null,null),i=o,a=e,s=r;null!==a&&null!==s;)n(a.key,s.key)<0?(i.next=a,a=a.next):(i.next=s,s=s.next),i=i.next;return null!==a?i.next=a:null!==s&&(i.next=s),o.next}(this.toList(),function(e,r){for(var n=new t(null,null),o=n,i=0;i<e.length;i++)o=o.next=new t(e[i],r[i]);return o.next=null,n.next}(e,r),i);o=this._size+o,this._root=l({head:a},0,o)}return this},s.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),s.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return a(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},s.prototype.update=function(e,t,r){var a=this._comparator,s=i(e,this._root,a),c=s.left,l=s.right;a(e,t)<0?l=o(t,r,l,a):c=o(t,r,c,a),this._root=function(e,t,r){return null===t?e:(null===e||((t=n(e.key,t,r)).left=e),t)}(c,l,a)},s.prototype.split=function(e){return i(e,this._root,this._comparator)},s.prototype[Symbol.iterator]=function(){var t,r,n;return e(this,(function(e){switch(e.label){case 0:t=this._root,r=[],n=!1,e.label=1;case 1:return n?[3,6]:null===t?[3,2]:(r.push(t),t=t.left,[3,5]);case 2:return 0===r.length?[3,4]:[4,t=r.pop()];case 3:return e.sent(),t=t.right,[3,5];case 4:n=!0,e.label=5;case 5:return[3,1];case 6:return[2]}}))},s}();function c(e,r,n,o){var i=o-n;if(i>0){var a=n+Math.floor(i/2),s=e[a],l=r[a],u=new t(s,l);return u.left=c(e,r,n,a),u.right=c(e,r,a+1,o),u}return null}function l(e,t,r){var n=r-t;if(n>0){var o=t+Math.floor(n/2),i=l(e,t,o),a=e.head;return a.left=i,e.head=e.head.next,a.right=l(e,o+1,r),a}return null}function u(e,t,r,n,o){if(!(r>=n)){for(var i=e[r+n>>1],a=r-1,s=n+1;;){do{a++}while(o(e[a],i)<0);do{s--}while(o(e[s],i)>0);if(a>=s)break;var c=e[a];e[a]=e[s],e[s]=c,c=t[a],t[a]=t[s],t[s]=c}u(e,t,r,s,o),u(e,t,s+1,n,o)}}const f=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,p=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,n=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:r,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:n,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}};let d=Number.EPSILON;void 0===d&&(d=Math.pow(2,-52));const h=d*d,g=(e,t)=>{if(-d<e&&e<d&&-d<t&&t<d)return 0;const r=e-t;return r*r<h*e*t?0:e<t?-1:1};class y{constructor(){this.tree=new s,this.round(0)}round(e){const t=this.tree.add(e),r=this.tree.prev(t);if(null!==r&&0===g(t.key,r.key))return this.tree.remove(e),r.key;const n=this.tree.next(t);return null!==n&&0===g(t.key,n.key)?(this.tree.remove(e),n.key):e}}const m=new class{constructor(){this.reset()}reset(){this.xRounder=new y,this.yRounder=new y}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}},v=11102230246251565e-32,b=134217729,w=(3+8*v)*v;function _(e,t,r,n,o){let i,a,s,c,l=t[0],u=n[0],f=0,p=0;u>l==u>-l?(i=l,l=t[++f]):(i=u,u=n[++p]);let d=0;if(f<e&&p<r)for(u>l==u>-l?(a=l+i,s=i-(a-l),l=t[++f]):(a=u+i,s=i-(a-u),u=n[++p]),i=a,0!==s&&(o[d++]=s);f<e&&p<r;)u>l==u>-l?(a=i+l,c=a-i,s=i-(a-c)+(l-c),l=t[++f]):(a=i+u,c=a-i,s=i-(a-c)+(u-c),u=n[++p]),i=a,0!==s&&(o[d++]=s);for(;f<e;)a=i+l,c=a-i,s=i-(a-c)+(l-c),l=t[++f],i=a,0!==s&&(o[d++]=s);for(;p<r;)a=i+u,c=a-i,s=i-(a-c)+(u-c),u=n[++p],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function P(e){return new Float64Array(e)}const x=22204460492503146e-32,O=11093356479670487e-47,C=P(4),S=P(8),E=P(12),M=P(16),j=P(4);function k(e,t,r,n,o,i){const a=(t-i)*(r-o),s=(e-o)*(n-i),c=a-s,l=Math.abs(a+s);return Math.abs(c)>=33306690738754716e-32*l?c:-function(e,t,r,n,o,i,a){let s,c,l,u,f,p,d,h,g,y,m,v,P,k,T,I,F,A;const L=e-o,R=r-o,D=t-i,B=n-i;k=L*B,p=b*L,d=p-(p-L),h=L-d,p=b*B,g=p-(p-B),y=B-g,T=h*y-(k-d*g-h*g-d*y),I=D*R,p=b*D,d=p-(p-D),h=D-d,p=b*R,g=p-(p-R),y=R-g,F=h*y-(I-d*g-h*g-d*y),m=T-F,f=T-m,C[0]=T-(m+f)+(f-F),v=k+m,f=v-k,P=k-(v-f)+(m-f),m=P-I,f=P-m,C[1]=P-(m+f)+(f-I),A=v+m,f=A-v,C[2]=v-(A-f)+(m-f),C[3]=A;let N=function(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}(4,C),z=x*a;if(N>=z||-N>=z)return N;if(f=e-L,s=e-(L+f)+(f-o),f=r-R,l=r-(R+f)+(f-o),f=t-D,c=t-(D+f)+(f-i),f=n-B,u=n-(B+f)+(f-i),0===s&&0===c&&0===l&&0===u)return N;if(z=O*a+w*Math.abs(N),N+=L*u+B*s-(D*l+R*c),N>=z||-N>=z)return N;k=s*B,p=b*s,d=p-(p-s),h=s-d,p=b*B,g=p-(p-B),y=B-g,T=h*y-(k-d*g-h*g-d*y),I=c*R,p=b*c,d=p-(p-c),h=c-d,p=b*R,g=p-(p-R),y=R-g,F=h*y-(I-d*g-h*g-d*y),m=T-F,f=T-m,j[0]=T-(m+f)+(f-F),v=k+m,f=v-k,P=k-(v-f)+(m-f),m=P-I,f=P-m,j[1]=P-(m+f)+(f-I),A=v+m,f=A-v,j[2]=v-(A-f)+(m-f),j[3]=A;const G=_(4,C,4,j,S);k=L*u,p=b*L,d=p-(p-L),h=L-d,p=b*u,g=p-(p-u),y=u-g,T=h*y-(k-d*g-h*g-d*y),I=D*l,p=b*D,d=p-(p-D),h=D-d,p=b*l,g=p-(p-l),y=l-g,F=h*y-(I-d*g-h*g-d*y),m=T-F,f=T-m,j[0]=T-(m+f)+(f-F),v=k+m,f=v-k,P=k-(v-f)+(m-f),m=P-I,f=P-m,j[1]=P-(m+f)+(f-I),A=v+m,f=A-v,j[2]=v-(A-f)+(m-f),j[3]=A;const V=_(G,S,4,j,E);k=s*u,p=b*s,d=p-(p-s),h=s-d,p=b*u,g=p-(p-u),y=u-g,T=h*y-(k-d*g-h*g-d*y),I=c*l,p=b*c,d=p-(p-c),h=c-d,p=b*l,g=p-(p-l),y=l-g,F=h*y-(I-d*g-h*g-d*y),m=T-F,f=T-m,j[0]=T-(m+f)+(f-F),v=k+m,f=v-k,P=k-(v-f)+(m-f),m=P-I,f=P-m,j[1]=P-(m+f)+(f-I),A=v+m,f=A-v,j[2]=v-(A-f)+(m-f),j[3]=A;const q=_(V,E,4,j,M);return M[q-1]}(e,t,r,n,o,i,l)}const T=(e,t)=>e.x*t.y-e.y*t.x,I=(e,t)=>e.x*t.x+e.y*t.y,F=(e,t,r)=>{const n=k(e.x,e.y,t.x,t.y,r.x,r.y);return n>0?-1:n<0?1:0},A=e=>Math.sqrt(I(e,e)),L=(e,t,r)=>{const n={x:t.x-e.x,y:t.y-e.y},o={x:r.x-e.x,y:r.y-e.y};return T(o,n)/A(o)/A(n)},R=(e,t,r)=>{const n={x:t.x-e.x,y:t.y-e.y},o={x:r.x-e.x,y:r.y-e.y};return I(o,n)/A(o)/A(n)},D=(e,t,r)=>0===t.y?null:{x:e.x+t.x/t.y*(r-e.y),y:r},B=(e,t,r)=>0===t.x?null:{x:r,y:e.y+t.y/t.x*(r-e.x)};class N{static compare(e,t){const r=N.comparePoints(e.point,t.point);return 0!==r?r:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:G.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let e=0,r=t.length;e<r;e++){const r=t[e];this.point.events.push(r),r.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const r=this.point.events[t];if(void 0===r.segment.consumedBy)for(let n=t+1;n<e;n++){const e=this.point.events[n];void 0===e.consumedBy&&r.otherSE.point.events===e.otherSE.point.events&&r.segment.consume(e.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,r=this.point.events.length;t<r;t++){const r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}getLeftmostComparator(e){const t=new Map,r=r=>{const n=r.otherSE;t.set(r,{sine:L(this.point,e.point,n.point),cosine:R(this.point,e.point,n.point)})};return(e,n)=>{t.has(e)||r(e),t.has(n)||r(n);const{sine:o,cosine:i}=t.get(e),{sine:a,cosine:s}=t.get(n);return o>=0&&a>=0?i<s?1:i>s?-1:0:o<0&&a<0?i<s?-1:i>s?1:0:a<o?-1:a>o?1:0}}}let z=0;class G{static compare(e,t){const r=e.leftSE.point.x,n=t.leftSE.point.x,o=e.rightSE.point.x,i=t.rightSE.point.x;if(i<r)return 1;if(o<n)return-1;const a=e.leftSE.point.y,s=t.leftSE.point.y,c=e.rightSE.point.y,l=t.rightSE.point.y;if(r<n){if(s<a&&s<c)return 1;if(s>a&&s>c)return-1;const r=e.comparePoint(t.leftSE.point);if(r<0)return 1;if(r>0)return-1;const n=t.comparePoint(e.rightSE.point);return 0!==n?n:-1}if(r>n){if(a<s&&a<l)return-1;if(a>s&&a>l)return 1;const r=t.comparePoint(e.leftSE.point);if(0!==r)return r;const n=e.comparePoint(t.rightSE.point);return n<0?1:n>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(o<i){const r=t.comparePoint(e.rightSE.point);if(0!==r)return r}if(o>i){const r=e.comparePoint(t.rightSE.point);if(r<0)return 1;if(r>0)return-1}if(o!==i){const e=c-a,t=o-r,u=l-s,f=i-n;if(e>t&&u<f)return 1;if(e<t&&u>f)return-1}return o>i?1:o<i||c<l?-1:c>l?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,r,n){this.id=++z,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=r,this.windings=n}static fromRing(e,t,r){let n,o,i;const a=N.comparePoints(e,t);if(a<0)n=e,o=t,i=1;else{if(!(a>0))throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);n=t,o=e,i=-1}const s=new N(n,!0),c=new N(o,!1);return new G(s,c,[r],[i])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;const t=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(t.x===r.x)return e.x===t.x?0:e.x<t.x?1:-1;const o=(e.y-t.y)/n.y,i=t.x+o*n.x;if(e.x===i)return 0;const a=(e.x-t.x)/n.x,s=t.y+a*n.y;return e.y===s?0:e.y<s?-1:1}getIntersection(e){const t=this.bbox(),r=e.bbox(),n=p(t,r);if(null===n)return null;const o=this.leftSE.point,i=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,c=f(t,a)&&0===this.comparePoint(a),l=f(r,o)&&0===e.comparePoint(o),u=f(t,s)&&0===this.comparePoint(s),d=f(r,i)&&0===e.comparePoint(i);if(l&&c)return d&&!u?i:!d&&u?s:null;if(l)return u&&o.x===s.x&&o.y===s.y?null:o;if(c)return d&&i.x===a.x&&i.y===a.y?null:a;if(d&&u)return null;if(d)return i;if(u)return s;const h=((e,t,r,n)=>{if(0===t.x)return B(r,n,e.x);if(0===n.x)return B(e,t,r.x);if(0===t.y)return D(r,n,e.y);if(0===n.y)return D(e,t,r.y);const o=T(t,n);if(0==o)return null;const i={x:r.x-e.x,y:r.y-e.y},a=T(i,t)/o,s=T(i,n)/o;return{x:(e.x+s*t.x+(r.x+a*n.x))/2,y:(e.y+s*t.y+(r.y+a*n.y))/2}})(o,this.vector(),a,e.vector());return null===h?null:f(n,h)?m.round(h.x,h.y):null}split(e){const t=[],r=void 0!==e.events,n=new N(e,!0),o=new N(e,!1),i=this.rightSE;this.replaceRightSE(o),t.push(o),t.push(n);const a=new G(n,i,this.rings.slice(),this.windings.slice());return N.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),N.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(n.checkForConsuming(),o.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(e){let t=this,r=e;for(;t.consumedBy;)t=t.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const n=G.compare(t,r);if(0!==n){if(n>0){const e=t;t=r,r=e}if(t.prev===r){const e=t;t=r,r=e}for(let e=0,n=r.rings.length;e<n;e++){const n=r.rings[e],o=r.windings[e],i=t.rings.indexOf(n);-1===i?(t.rings.push(n),t.windings.push(o)):t.windings[i]+=o}r.rings=null,r.windings=null,r.consumedBy=t,r.leftSE.consumedBy=t.leftSE,r.rightSE.consumedBy=t.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys;for(let e=0,n=this.rings.length;e<n;e++){const n=this.rings[e],o=this.windings[e],i=t.indexOf(n);-1===i?(t.push(n),r.push(o)):r[i]+=o}const o=[],i=[];for(let e=0,n=t.length;e<n;e++){if(0===r[e])continue;const n=t[e],a=n.poly;if(-1===i.indexOf(a))if(n.isExterior)o.push(a);else{-1===i.indexOf(a)&&i.push(a);const e=o.indexOf(n.poly);-1!==e&&o.splice(e,1)}}for(let e=0,t=o.length;e<t;e++){const t=o[e].multiPoly;-1===n.indexOf(t)&&n.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch($.type){case"union":{const r=0===e.length,n=0===t.length;this._isInResult=r!==n;break}case"intersection":{let r,n;e.length<t.length?(r=e.length,n=t.length):(r=t.length,n=e.length),this._isInResult=n===$.numMultiPolys&&r<n;break}case"xor":{const r=Math.abs(e.length-t.length);this._isInResult=r%2==1;break}case"difference":{const r=e=>1===e.length&&e[0].isSubject;this._isInResult=r(e)!==r(t);break}default:throw new Error(`Unrecognized operation type found ${$.type}`)}return this._isInResult}}class V{constructor(e,t,r){if(!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=r,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=m.round(e[0][0],e[0][1]);this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let o=n;for(let t=1,r=e.length;t<r;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let r=m.round(e[t][0],e[t][1]);r.x===o.x&&r.y===o.y||(this.segments.push(G.fromRing(o,r,this)),r.x<this.bbox.ll.x&&(this.bbox.ll.x=r.x),r.y<this.bbox.ll.y&&(this.bbox.ll.y=r.y),r.x>this.bbox.ur.x&&(this.bbox.ur.x=r.x),r.y>this.bbox.ur.y&&(this.bbox.ur.y=r.y),o=r)}n.x===o.x&&n.y===o.y||this.segments.push(G.fromRing(o,n,this))}getSweepEvents(){const e=[];for(let t=0,r=this.segments.length;t<r;t++){const r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}class q{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new V(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,r=e.length;t<r;t++){const r=new V(e[t],this,!1);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,r=this.interiorRings.length;t<r;t++){const r=this.interiorRings[t].getSweepEvents();for(let t=0,n=r.length;t<n;t++)e.push(r[t])}return e}}class U{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let t=0,r=e.length;t<r;t++){const r=new q(e[t],this);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,r=this.polys.length;t<r;t++){const r=this.polys[t].getSweepEvents();for(let t=0,n=r.length;t<n;t++)e.push(r[t])}return e}}class H{static factory(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(!n.isInResult()||n.ringOut)continue;let o=null,i=n.leftSE,a=n.rightSE;const s=[i],c=i.point,l=[];for(;o=i,i=a,s.push(i),i.point!==c;)for(;;){const e=i.getAvailableLinkedEvents();if(0===e.length){const e=s[0].point,t=s[s.length-1].point;throw new Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===e.length){a=e[0].otherSE;break}let r=null;for(let e=0,t=l.length;e<t;e++)if(l[e].point===i.point){r=e;break}if(null!==r){const e=l.splice(r)[0],n=s.splice(e.index);n.unshift(n[0].otherSE),t.push(new H(n.reverse()));continue}l.push({index:s.length,point:i.point});const n=i.getLeftmostComparator(o);a=e.sort(n)[0].otherSE;break}t.push(new H(s))}return t}constructor(e){this.events=e;for(let t=0,r=e.length;t<r;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let r=1,n=this.events.length-1;r<n;r++){const n=this.events[r].point,o=this.events[r+1].point;0!==F(n,e,o)&&(t.push(n),e=n)}if(1===t.length)return null;const r=t[0],n=t[1];0===F(r,e,n)&&t.shift(),t.push(t[0]);const o=this.isExteriorRing()?1:-1,i=this.isExteriorRing()?0:t.length-1,a=this.isExteriorRing()?t.length:-1,s=[];for(let e=i;e!=a;e+=o)s.push([t[e].x,t[e].y]);return s}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,r=this.events.length;t<r;t++){const r=this.events[t];N.compare(e,r)>0&&(e=r)}let t=e.segment.prevInResult(),r=t?t.prevInResult():null;for(;;){if(!t)return null;if(!r)return t.ringOut;if(r.ringOut!==t.ringOut)return r.ringOut.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut.enclosingRing();t=r.prevInResult(),r=t?t.prevInResult():null}}}class W{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(let t=0,r=this.interiorRings.length;t<r;t++){const r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}class J{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,r=this.polys.length;t<r;t++){const r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}_composePolys(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(!n.poly)if(n.isExteriorRing())t.push(new W(n));else{const e=n.enclosingRing();e.poly||t.push(new W(e)),e.poly.addInterior(n)}}return t}}class Y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.compare;this.queue=e,this.tree=new s(t),this.segments=[]}process(e){const t=e.segment,r=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),r;const n=e.isLeft?this.tree.add(t):this.tree.find(t);if(!n)throw new Error(`Unable to find segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] in SweepLine tree.`);let o,i,a=n,s=n;for(;void 0===o;)a=this.tree.prev(a),null===a?o=null:void 0===a.key.consumedBy&&(o=a.key);for(;void 0===i;)s=this.tree.next(s),null===s?i=null:void 0===s.key.consumedBy&&(i=s.key);if(e.isLeft){let n=null;if(o){const e=o.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(n=e),!o.isAnEndpoint(e))){const t=this._splitSafely(o,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}}let a=null;if(i){const e=i.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(a=e),!i.isAnEndpoint(e))){const t=this._splitSafely(i,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}}if(null!==n||null!==a){let e=null;e=null===n?a:null===a||N.comparePoints(n,a)<=0?n:a,this.queue.remove(t.rightSE),r.push(t.rightSE);const o=t.split(e);for(let e=0,t=o.length;e<t;e++)r.push(o[e])}r.length>0?(this.tree.remove(t),r.push(e)):(this.segments.push(t),t.prev=o)}else{if(o&&i){const e=o.getIntersection(i);if(null!==e){if(!o.isAnEndpoint(e)){const t=this._splitSafely(o,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}if(!i.isAnEndpoint(e)){const t=this._splitSafely(i,e);for(let e=0,n=t.length;e<n;e++)r.push(t[e])}}}this.tree.remove(t)}return r}_splitSafely(e,t){this.tree.remove(e);const r=e.rightSE;this.queue.remove(r);const n=e.split(t);return n.push(r),void 0===e.consumedBy&&this.tree.add(e),n}}const X="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Z="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const $=new class{run(e,t,r){$.type=e,m.reset();const n=[new U(t,!0)];for(let e=0,t=r.length;e<t;e++)n.push(new U(r[e],!1));if($.numMultiPolys=n.length,"difference"===$.type){const e=n[0];let t=1;for(;t<n.length;)null!==p(n[t].bbox,e.bbox)?t++:n.splice(t,1)}if("intersection"===$.type)for(let e=0,t=n.length;e<t;e++){const t=n[e];for(let r=e+1,o=n.length;r<o;r++)if(null===p(t.bbox,n[r].bbox))return[]}const o=new s(N.compare);for(let e=0,t=n.length;e<t;e++){const t=n[e].getSweepEvents();for(let e=0,r=t.length;e<r;e++)if(o.insert(t[e]),o.size>X)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const i=new Y(o);let a=o.size,c=o.pop();for(;c;){const e=c.key;if(o.size===a){const t=e.segment;throw new Error(`Unable to pop() ${e.isLeft?"left":"right"} SweepEvent [${e.point.x}, ${e.point.y}] from segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] from queue.`)}if(o.size>X)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(i.segments.length>Z)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const t=i.process(e);for(let e=0,r=t.length;e<r;e++){const r=t[e];void 0===r.consumedBy&&o.insert(r)}a=o.size,c=o.pop()}m.reset();const l=H.factory(i.segments);return new J(l).getGeom()}};return{union:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return $.run("union",e,r)},intersection:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return $.run("intersection",e,r)},xor:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return $.run("xor",e,r)},difference:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return $.run("difference",e,r)}}}()},76578:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},35341:function(e){e.exports=function(){"use strict";function e(e,n,o,i,a){!function e(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,c=n-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);e(r,n,Math.max(o,Math.floor(n-c*u/s+f)),Math.min(i,Math.floor(n+(s-c)*u/s+f)),a)}var p=r[n],d=o,h=i;for(t(r,o,n),a(r[i],p)>0&&t(r,o,i);d<h;){for(t(r,d,h),d++,h--;a(r[d],p)<0;)d++;for(;a(r[h],p)>0;)h--}0===a(r[o],p)?t(r,o,h):t(r,++h,i),h<=n&&(o=h+1),n<=h&&(i=h-1)}}(e,n,o||0,i||e.length-1,a||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,o){o||(o=h(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<r;i++){var a=e.children[i];s(o,e.leaf?n(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,r,n,o,i){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=o)){var s=r+Math.ceil((n-r)/o/2)*o;e(t,s,r,n,i),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!d(e,t))return r;for(var n=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?n(a):a;d(e,s)&&(t.leaf?r.push(a):p(e,s)?this._all(a,r):o.push(a))}t=o.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var o=t.children[n],i=t.leaf?this.toBBox(o):o;if(d(e,i)){if(t.leaf||p(e,i))return!0;r.push(o)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=h([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,i,a=this.data,s=this.toBBox(e),c=[],l=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],r=l.pop(),i=!0),a.leaf){var u=o(e,a.children,t);if(-1!==u)return a.children.splice(u,1),c.push(a),this._condense(c),this}i||a.leaf||!p(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(c.push(a),l.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var o,a=r-t+1,s=this._maxEntries;if(a<=s)return i(o=h(e.slice(t,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(o=h([])).leaf=!1,o.height=n;var c=Math.ceil(a/s),l=c*Math.ceil(Math.sqrt(s));g(e,t,r,l,this.compareMinX);for(var u=t;u<=r;u+=l){var f=Math.min(u+l-1,r);g(e,u,f,c,this.compareMinY);for(var p=u;p<=f;p+=c){var d=Math.min(p+c-1,f);o.children.push(this._build(e,p,d,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var c=t.children[s],l=u(c),f=(p=e,d=c,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-l);f<i?(i=f,o=l<o?l:o,a=c):f===i&&l<o&&(o=l,a=c)}t=a||t.children[0]}var p,d;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),o=[],i=this._chooseSubtree(n,this.data,t,o);for(i.children.push(e),s(i,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),s=h(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,o,i,s,c,l,f,p=1/0,d=1/0,h=t;h<=r-t;h++){var g=a(e,0,h,this.toBBox),y=a(e,h,r,this.toBBox),m=(o=g,i=y,void 0,void 0,void 0,void 0,s=Math.max(o.minX,i.minX),c=Math.max(o.minY,i.minY),l=Math.min(o.maxX,i.maxX),f=Math.min(o.maxY,i.maxY),Math.max(0,l-s)*Math.max(0,f-c)),v=u(g)+u(y);m<p?(p=m,n=h,d=v<d?v:d):m===p&&v<d&&(d=v,n=h)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:c,o=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,o)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var o=this.toBBox,i=a(e,0,t,o),c=a(e,r-t,r,o),l=f(i)+f(c),u=t;u<r-t;u++){var p=e.children[u];s(i,e.leaf?o(p):p),l+=f(i)}for(var d=r-t-1;d>=t;d--){var h=e.children[d];s(c,e.leaf?o(h):h),l+=f(c)}return l},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},n}()},77675:(e,t,r)=>{"use strict";var n=r(43206),o=r(69675),i=Object;e.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},71589:(e,t,r)=>{"use strict";var n=r(38452),o=r(10487),i=r(77675),a=r(15330),s=r(43984),c=o(a());n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},15330:(e,t,r)=>{"use strict";var n=r(77675),o=r(38452).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},43984:(e,t,r)=>{"use strict";var n=r(38452).supportsDescriptors,o=r(15330),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!n||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(l),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},53467:function(e,t){!function(e){"use strict";const t=134217729;function r(e,t,r,n,o){let i,a,s,c,l=t[0],u=n[0],f=0,p=0;u>l==u>-l?(i=l,l=t[++f]):(i=u,u=n[++p]);let d=0;if(f<e&&p<r)for(u>l==u>-l?(s=i-((a=l+i)-l),l=t[++f]):(s=i-((a=u+i)-u),u=n[++p]),i=a,0!==s&&(o[d++]=s);f<e&&p<r;)u>l==u>-l?(s=i-((a=i+l)-(c=a-i))+(l-c),l=t[++f]):(s=i-((a=i+u)-(c=a-i))+(u-c),u=n[++p]),i=a,0!==s&&(o[d++]=s);for(;f<e;)s=i-((a=i+l)-(c=a-i))+(l-c),l=t[++f],i=a,0!==s&&(o[d++]=s);for(;p<r;)s=i-((a=i+u)-(c=a-i))+(u-c),u=n[++p],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function n(e){return new Float64Array(e)}const o=n(4),i=n(8),a=n(12),s=n(16),c=n(4);e.orient2d=function(e,n,l,u,f,p){const d=(n-p)*(l-f),h=(e-f)*(u-p),g=d-h;if(0===d||0===h||d>0!=h>0)return g;const y=Math.abs(d+h);return Math.abs(g)>=33306690738754716e-32*y?g:-function(e,n,l,u,f,p,d){let h,g,y,m,v,b,w,_,P,x,O,C,S,E,M,j,k,T;const I=e-f,F=l-f,A=n-p,L=u-p;v=(M=(_=I-(w=(b=t*I)-(b-I)))*(x=L-(P=(b=t*L)-(b-L)))-((E=I*L)-w*P-_*P-w*x))-(O=M-(k=(_=A-(w=(b=t*A)-(b-A)))*(x=F-(P=(b=t*F)-(b-F)))-((j=A*F)-w*P-_*P-w*x))),o[0]=M-(O+v)+(v-k),v=(S=E-((C=E+O)-(v=C-E))+(O-v))-(O=S-j),o[1]=S-(O+v)+(v-j),v=(T=C+O)-C,o[2]=C-(T-v)+(O-v),o[3]=T;let R=function(e,t){let r=t[0];for(let e=1;e<4;e++)r+=t[e];return r}(0,o),D=22204460492503146e-32*d;if(R>=D||-R>=D)return R;if(h=e-(I+(v=e-I))+(v-f),y=l-(F+(v=l-F))+(v-f),g=n-(A+(v=n-A))+(v-p),m=u-(L+(v=u-L))+(v-p),0===h&&0===g&&0===y&&0===m)return R;if(D=11093356479670487e-47*d+33306690738754706e-32*Math.abs(R),(R+=I*m+L*h-(A*y+F*g))>=D||-R>=D)return R;v=(M=(_=h-(w=(b=t*h)-(b-h)))*(x=L-(P=(b=t*L)-(b-L)))-((E=h*L)-w*P-_*P-w*x))-(O=M-(k=(_=g-(w=(b=t*g)-(b-g)))*(x=F-(P=(b=t*F)-(b-F)))-((j=g*F)-w*P-_*P-w*x))),c[0]=M-(O+v)+(v-k),v=(S=E-((C=E+O)-(v=C-E))+(O-v))-(O=S-j),c[1]=S-(O+v)+(v-j),v=(T=C+O)-C,c[2]=C-(T-v)+(O-v),c[3]=T;const B=r(4,o,4,c,i);v=(M=(_=I-(w=(b=t*I)-(b-I)))*(x=m-(P=(b=t*m)-(b-m)))-((E=I*m)-w*P-_*P-w*x))-(O=M-(k=(_=A-(w=(b=t*A)-(b-A)))*(x=y-(P=(b=t*y)-(b-y)))-((j=A*y)-w*P-_*P-w*x))),c[0]=M-(O+v)+(v-k),v=(S=E-((C=E+O)-(v=C-E))+(O-v))-(O=S-j),c[1]=S-(O+v)+(v-j),v=(T=C+O)-C,c[2]=C-(T-v)+(O-v),c[3]=T;const N=r(B,i,4,c,a);v=(M=(_=h-(w=(b=t*h)-(b-h)))*(x=m-(P=(b=t*m)-(b-m)))-((E=h*m)-w*P-_*P-w*x))-(O=M-(k=(_=g-(w=(b=t*g)-(b-g)))*(x=y-(P=(b=t*y)-(b-y)))-((j=g*y)-w*P-_*P-w*x))),c[0]=M-(O+v)+(v-k),v=(S=E-((C=E+O)-(v=C-E))+(O-v))-(O=S-j),c[1]=S-(O+v)+(v-j),v=(T=C+O)-C,c[2]=C-(T-v)+(O-v),c[3]=T;const z=r(N,a,4,c,s);return s[z-1]}(e,n,l,u,f,p,y)},e.orient2dfast=function(e,t,r,n,o,i){return(t-i)*(r-o)-(e-o)*(n-i)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},96897:(e,t,r)=>{"use strict";var n=r(70453),o=r(30041),i=r(30592)(),a=r(75795),s=r(69675),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},43206:(e,t,r)=>{"use strict";var n=r(30041),o=r(30592)(),i=r(74462).functionsHaveConfigurableNames(),a=r(69675);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(e,"name",t,!0,!0):n(e,"name",t)),e}},920:(e,t,r)=>{"use strict";var n=r(70453),o=r(38075),i=r(58859),a=r(69675),s=n("%WeakMap%",!0),c=n("%Map%",!0),l=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),d=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+i(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return l(e,n)}else if(c){if(t)return p(t,n)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return f(e,n)}else if(c){if(t)return h(t,n)}else if(r)return function(e,t){return!!g(e,t)}(r,n);return!1},set:function(n,o){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),u(e,n,o)):c?(t||(t=new c),d(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},96766:e=>{"use strict";e.exports={eudist:function(e,t,r){for(var n=e.length,o=0,i=0;i<n;i++){var a=(e[i]||0)-(t[i]||0);o+=a*a}return r?Math.sqrt(o):o},mandist:function(e,t,r){for(var n=e.length,o=0,i=0;i<n;i++)o+=Math.abs((e[i]||0)-(t[i]||0));return r?Math.sqrt(o):o},dist:function(e,t,r){var n=Math.abs(e-t);return r?n:n*n}}},5810:(e,t,r)=>{"use strict";var n=r(96766),o=n.eudist,i=n.dist;e.exports={kmrand:function(e,t){for(var r={},n=[],o=t<<2,i=e.length,a=e[0].length>0;n.length<t&&o-- >0;){var s=e[Math.floor(Math.random()*i)],c=a?s.join("_"):""+s;r[c]||(r[c]=!0,n.push(s))}if(n.length<t)throw new Error("Error initializating clusters");return n},kmpp:function(e,t){var r=e[0].length?o:i,n=[],a=e.length,s=e[0].length>0,c=e[Math.floor(Math.random()*a)];for(s&&c.join("_"),n.push(c);n.length<t;){for(var l=[],u=n.length,f=0,p=[],d=0;d<a;d++){for(var h=1/0,g=0;g<u;g++){var y=r(e[d],n[g]);y<=h&&(h=y)}l[d]=h}for(var m=0;m<a;m++)f+=l[m];for(var v=0;v<a;v++)p[v]={i:v,v:e[v],pr:l[v]/f,cs:0};p.sort((function(e,t){return e.pr-t.pr})),p[0].cs=p[0].pr;for(var b=1;b<a;b++)p[b].cs=p[b-1].cs+p[b].pr;for(var w=Math.random(),_=0;_<a-1&&p[_++].cs<w;);n.push(p[_-1].v)}return n}}},61756:(e,t,r)=>{"use strict";var n=r(96766),o=r(5810),i=n.eudist,a=(n.mandist,n.dist,o.kmrand),s=o.kmpp;function c(e,t,r){r=r||[];for(var n=0;n<e;n++)r[n]=t;return r}e.exports=function(e,t,r,n){var o=[],l=[],u=[],f=[],p=!1,d=n||1e4,h=e.length,g=e[0].length,y=g>0,m=[];if(r)o="kmrand"==r?a(e,t):"kmpp"==r?s(e,t):r;else for(var v={};o.length<t;){var b=Math.floor(Math.random()*h);v[b]||(v[b]=!0,o.push(e[b]))}do{c(t,0,m);for(var w=0;w<h;w++){for(var _=1/0,P=0,x=0;x<t;x++)(f=y?i(e[w],o[x]):Math.abs(e[w]-o[x]))<=_&&(_=f,P=x);u[w]=P,m[P]++}for(var O=[],C=(l=[],0);C<t;C++)O[C]=y?c(g,0,O[C]):0,l[C]=o[C];if(y){for(var S=0;S<t;S++)o[S]=[];for(var E=0;E<h;E++)for(var M=O[u[E]],j=e[E],k=0;k<g;k++)M[k]+=j[k];p=!0;for(var T=0;T<t;T++){for(var I=o[T],F=O[T],A=l[T],L=m[T],R=0;R<g;R++)I[R]=F[R]/L||0;if(p)for(var D=0;D<g;D++)if(A[D]!=I[D]){p=!1;break}}}else{for(var B=0;B<h;B++)O[u[B]]+=e[B];for(var N=0;N<t;N++)o[N]=O[N]/m[N]||0;p=!0;for(var z=0;z<t;z++)if(l[z]!=o[z]){p=!1;break}}p=p||--d<=0}while(!p);return{it:1e4-d,k:t,idxs:u,centroids:o}}},81820:(e,t,r)=>{"use strict";var n=r(20063),o=SyntaxError,i="object"==typeof StopIteration?StopIteration:null;e.exports=function(e){if(!i)throw new o("this environment lacks StopIteration");n.set(e,"[[Done]]",!1);var t={next:function(){var e=n.get(this,"[[Iterator]]"),t=n.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(t){if(n.set(e,"[[Done]]",!0),t!==i)throw t;return{done:!0,value:void 0}}}};return n.set(t,"[[Iterator]]",e),t}},23494:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});class n{constructor(e=[],t=o){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,o=t[e];for(;e<n;){let n=1+(e<<1),i=t[n];const a=n+1;if(a<this.length&&r(t[a],i)<0&&(n=a,i=t[a]),r(i,o)>=0)break;t[e]=i,e=n}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}function i(e,t){return e.p.x>t.p.x?1:e.p.x<t.p.x?-1:e.p.y!==t.p.y?e.p.y>t.p.y?1:-1:1}function a(e,t){return e.rightSweepEvent.p.x>t.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<t.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==t.rightSweepEvent.p.y?e.rightSweepEvent.p.y<t.rightSweepEvent.p.y?1:-1:1}class s{constructor(e,t,r,n){this.p={x:e[0],y:e[1]},this.featureId=t,this.ringId=r,this.eventId=n,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}let c=0,l=0,u=0;function f(e,t){const r="Feature"===e.type?e.geometry:e;let n=r.coordinates;"Polygon"!==r.type&&"MultiLineString"!==r.type||(n=[n]),"LineString"===r.type&&(n=[[n]]);for(let e=0;e<n.length;e++)for(let r=0;r<n[e].length;r++){let o=n[e][r][0],a=null;l+=1;for(let f=0;f<n[e][r].length-1;f++){a=n[e][r][f+1];const p=new s(o,c,l,u),d=new s(a,c,l,u+1);p.otherEvent=d,d.otherEvent=p,i(p,d)>0?(d.isLeftEndpoint=!0,p.isLeftEndpoint=!1):(p.isLeftEndpoint=!0,d.isLeftEndpoint=!1),t.push(p),t.push(d),o=a,u+=1}}c+=1}class p{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function d(e,t){if(null===e||null===t)return!1;if(e.leftSweepEvent.ringId===t.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.rightSweepEvent)||e.leftSweepEvent.isSamePoint(t.leftSweepEvent)||e.leftSweepEvent.isSamePoint(t.rightSweepEvent)))return!1;const r=e.leftSweepEvent.p.x,n=e.leftSweepEvent.p.y,o=e.rightSweepEvent.p.x,i=e.rightSweepEvent.p.y,a=t.leftSweepEvent.p.x,s=t.leftSweepEvent.p.y,c=t.rightSweepEvent.p.x,l=t.rightSweepEvent.p.y,u=(l-s)*(o-r)-(c-a)*(i-n);if(0===u)return!1;const f=((c-a)*(n-s)-(l-s)*(r-a))/u,p=((o-r)*(n-s)-(i-n)*(r-a))/u;return f>=0&&f<=1&&p>=0&&p<=1&&[r+f*(o-r),n+f*(i-n)]}const h=function(e,t){const r=new n([],i);return function(e,t){if("FeatureCollection"===e.type){const r=e.features;for(let e=0;e<r.length;e++)f(r[e],t)}else f(e,t)}(e,r),function(e,t){t=t||!1;const r=[],o=new n([],a);for(;e.length;){const n=e.pop();if(n.isLeftEndpoint){const e=new p(n);for(let i=0;i<o.data.length;i++){const a=o.data[i];if(t&&a.leftSweepEvent.featureId===n.featureId)continue;const s=d(e,a);!1!==s&&r.push(s)}o.push(e)}else!1===n.isLeftEndpoint&&o.pop()}return r}(r,t)}},44262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});class n{constructor(e=[],t=o){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,o=t[e];for(;e<n;){let n=1+(e<<1),i=t[n];const a=n+1;if(a<this.length&&r(t[a],i)<0&&(n=a,i=t[a]),r(i,o)>=0)break;t[e]=i,e=n}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}},85681:(e,t,r)=>{"use strict";function n(e){return e}function o(e){if(null==e)return n;var t,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,n){n||(t=r=0);var c=2,l=e.length,u=new Array(l);for(u[0]=(t+=e[0])*o+a,u[1]=(r+=e[1])*i+s;c<l;)u[c]=e[c],++c;return u}}function i(e){var t,r=o(e.transform),n=1/0,i=n,a=-n,s=-n;function c(e){(e=r(e))[0]<n&&(n=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}function l(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(l);break;case"Point":c(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(c)}}for(t in e.arcs.forEach((function(e){for(var t,o=-1,c=e.length;++o<c;)(t=r(e[o],o))[0]<n&&(n=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])})),e.objects)l(e.objects[t]);return[n,i,a,s]}function a(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return s(e,t)}))}:s(e,t)}function s(e,t){var r=t.id,n=t.bbox,o=null==t.properties?{}:t.properties,i=c(e,t);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function c(e,t){var r=o(e.transform),n=e.arcs;function i(e,t){t.length&&t.pop();for(var o=n[e<0?~e:e],i=0,a=o.length;i<a;++i)t.push(r(o[i],i));e<0&&function(e,t){for(var r,n=e.length,o=n-t;o<--n;)r=e[o],e[o++]=e[n],e[n]=r}(t,a)}function a(e){return r(e)}function s(e){for(var t=[],r=0,n=e.length;r<n;++r)i(e[r],t);return t.length<2&&t.push(t[0]),t}function c(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(c)}return function e(t){var r,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":r=a(t.coordinates);break;case"MultiPoint":r=t.coordinates.map(a);break;case"LineString":r=s(t.arcs);break;case"MultiLineString":r=t.arcs.map(s);break;case"Polygon":r=l(t.arcs);break;case"MultiPolygon":r=t.arcs.map(l);break;default:return null}return{type:n,coordinates:r}}(t)}function l(e,t){var r={},n={},o={},i=[],a=-1;function s(e,t){for(var n in e){var o=e[n];delete t[o.start],delete o.start,delete o.end,o.forEach((function(e){r[e<0?~e:e]=1})),i.push(o)}}return t.forEach((function(r,n){var o,i=e.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=r,t[n]=o)})),t.forEach((function(t){var r,i,a=function(t){var r,n=e.arcs[t<0?~t:t],o=n[0];return e.transform?(r=[0,0],n.forEach((function(e){r[0]+=e[0],r[1]+=e[1]}))):r=n[n.length-1],t<0?[r,o]:[o,r]}(t),s=a[0],c=a[1];if(r=o[s])if(delete o[r.end],r.push(t),r.end=c,i=n[c]){delete n[i.start];var l=i===r?r:r.concat(i);n[l.start=r.start]=o[l.end=i.end]=l}else n[r.start]=o[r.end]=r;else if(r=n[c])if(delete n[r.start],r.unshift(t),r.start=s,i=o[s]){delete o[i.end];var u=i===r?r:i.concat(r);n[u.start=i.start]=o[u.end=r.end]=u}else n[r.start]=o[r.end]=r;else n[(r=[t]).start=s]=o[r.end=c]=r})),s(o,n),s(n,o),t.forEach((function(e){r[e<0?~e:e]||i.push([e])})),i}function u(e){return c(e,f.apply(this,arguments))}function f(e,t,r){var n,o,i;if(arguments.length>1)n=function(e,t,r){var n,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:n})}function s(e){e.forEach(a)}function c(e){e.forEach(s)}return function e(t){switch(n=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(c)}(t.arcs)}}(t),i.forEach(null==r?function(e){o.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}(0,t,r);else for(o=0,n=new Array(i=e.arcs.length);o<i;++o)n[o]=o;return{type:"MultiLineString",arcs:l(e,n)}}function p(e){return c(e,d.apply(this,arguments))}function d(e,t){var r={},n=[],o=[];function i(e){e.forEach((function(t){t.forEach((function(t){(r[t=t<0?~t:t]||(r[t]=[])).push(e)}))})),n.push(e)}function a(t){return function(e){for(var t,r=-1,n=e.length,o=e[n-1],i=0;++r<n;)t=o,o=e[r],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}(c(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":i(t.arcs);break;case"MultiPolygon":t.arcs.forEach(i)}})),n.forEach((function(e){if(!e._){var t=[],n=[e];for(e._=1,o.push(t);e=n.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){r[e<0?~e:e].forEach((function(e){e._||(e._=1,n.push(e))}))}))}))}})),n.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:o.map((function(t){var n,o=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){r[e<0?~e:e].length<2&&o.push(e)}))}))})),(n=(o=l(e,o)).length)>1)for(var i,s,c=1,u=a(o[0]);c<n;++c)(i=a(o[c]))>u&&(s=o[0],o[0]=o[c],o[c]=s,u=i);return o})).filter((function(e){return e.length>0}))}}function h(e,t){for(var r=0,n=e.length;r<n;){var o=r+n>>>1;e[o]<t?r=o+1:n=o}return r}function g(e){var t={},r=e.map((function(){return[]}));function n(e,r){e.forEach((function(e){e<0&&(e=~e);var n=t[e];n?n.push(r):t[e]=[r]}))}function o(e,t){e.forEach((function(e){n(e,t)}))}var i={LineString:n,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach((function(e){o(e,t)}))}};for(var a in e.forEach((function e(t,r){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,r)})):t.type in i&&i[t.type](t.arcs,r)})),t)for(var s=t[a],c=s.length,l=0;l<c;++l)for(var u=l+1;u<c;++u){var f,p=s[l],d=s[u];(f=r[p])[a=h(f,d)]!==d&&f.splice(a,0,d),(f=r[d])[a=h(f,p)]!==p&&f.splice(a,0,p)}return r}function y(e){if(null==e)return n;var t,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,n){n||(t=r=0);var c=2,l=e.length,u=new Array(l),f=Math.round((e[0]-a)/o),p=Math.round((e[1]-s)/i);for(u[0]=f-t,t=f,u[1]=p-r,r=p;c<l;)u[c]=e[c],++c;return u}}function m(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)c=e.bbox;else{if(!((r=Math.floor(t))>=2))throw new Error("n must be 2");var r,n=(c=e.bbox||i(e))[0],o=c[1],a=c[2],s=c[3];t={scale:[a-n?(a-n)/(r-1):1,s-o?(s-o)/(r-1):1],translate:[n,o]}}var c,l,u=y(t),f=e.objects,p={};function d(e){return u(e)}function h(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(h)};break;case"Point":t={type:"Point",coordinates:d(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(d)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(l in f)p[l]=h(f[l]);return{type:"Topology",bbox:c,transform:t,objects:p,arcs:e.arcs.map((function(e){var t,r=0,n=1,o=e.length,i=new Array(o);for(i[0]=u(e[0],0);++r<o;)((t=u(e[r],r))[0]||t[1])&&(i[n++]=t);return 1===n&&(i[n++]=[0,0]),i.length=n,i}))}}r.r(t),r.d(t,{bbox:()=>i,feature:()=>a,merge:()=>p,mergeArcs:()=>d,mesh:()=>u,meshArcs:()=>f,neighbors:()=>g,quantize:()=>m,transform:()=>o,untransform:()=>y})},16888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{topology:()=>h});var n=Object.prototype.hasOwnProperty;function o(e,t,r,n,o,i){3===arguments.length&&(n=i=Array,o=null);for(var a=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new i(e),c=e-1,l=0;l<e;++l)a[l]=o;return{set:function(n,i){for(var l=t(n)&c,u=a[l],f=0;u!=o;){if(r(u,n))return s[l]=i;if(++f>=e)throw new Error("full hashmap");u=a[l=l+1&c]}return a[l]=n,s[l]=i,i},maybeSet:function(n,i){for(var l=t(n)&c,u=a[l],f=0;u!=o;){if(r(u,n))return s[l];if(++f>=e)throw new Error("full hashmap");u=a[l=l+1&c]}return a[l]=n,s[l]=i,i},get:function(n,i){for(var l=t(n)&c,u=a[l],f=0;u!=o;){if(r(u,n))return s[l];if(++f>=e)break;u=a[l=l+1&c]}return i},keys:function(){for(var e=[],t=0,r=a.length;t<r;++t){var n=a[t];n!=o&&e.push(n)}return e}}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}var a=new ArrayBuffer(16),s=new Float64Array(a),c=new Uint32Array(a);function l(e){s[0]=e[0],s[1]=e[1];var t=c[0]^c[1];return 2147483647&(t<<5^t>>7^c[2]^c[3])}function u(e,t,r){for(var n,o=t+(r---t>>1);t<o;++t,--r)n=e[t],e[t]=e[r],e[r]=n}function f(e){var t={type:"GeometryCollection",geometries:e.features.map(p)};return null!=e.bbox&&(t.bbox=e.bbox),t}function p(e){var t,r=d(e.geometry);for(t in null!=e.id&&(r.id=e.id),null!=e.bbox&&(r.bbox=e.bbox),e.properties){r.properties=e.properties;break}return r}function d(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(d)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function h(e,t){var r=function(e){var t=1/0,r=1/0,o=-1/0,i=-1/0;function a(e){null!=e&&n.call(s,e.type)&&s[e.type](e)}var s={GeometryCollection:function(e){e.geometries.forEach(a)},Point:function(e){c(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(c)},LineString:function(e){l(e.arcs)},MultiLineString:function(e){e.arcs.forEach(l)},Polygon:function(e){e.arcs.forEach(l)},MultiPolygon:function(e){e.arcs.forEach(u)}};function c(e){var n=e[0],a=e[1];n<t&&(t=n),n>o&&(o=n),a<r&&(r=a),a>i&&(i=a)}function l(e){e.forEach(c)}function u(e){e.forEach(l)}for(var f in e)a(e[f]);return o>=t&&i>=r?[t,r,o,i]:void 0}(e=function(e){var t,r,n={};for(t in e)n[t]=null==(r=e[t])?{type:null}:("FeatureCollection"===r.type?f:"Feature"===r.type?p:d)(r);return n}(e)),a=t>0&&r&&function(e,t,r){var o=t[0],i=t[1],a=t[2],s=t[3],c=a-o?(r-1)/(a-o):1,l=s-i?(r-1)/(s-i):1;function u(e){return[Math.round((e[0]-o)*c),Math.round((e[1]-i)*l)]}function f(e,t){for(var r,n,a,s,u,f=-1,p=0,d=e.length,h=new Array(d);++f<d;)r=e[f],s=Math.round((r[0]-o)*c),u=Math.round((r[1]-i)*l),s===n&&u===a||(h[p++]=[n=s,a=u]);for(h.length=p;p<t;)p=h.push([h[0][0],h[0][1]]);return h}function p(e){return f(e,2)}function d(e){return f(e,4)}function h(e){return e.map(d)}function g(e){null!=e&&n.call(y,e.type)&&y[e.type](e)}var y={GeometryCollection:function(e){e.geometries.forEach(g)},Point:function(e){e.coordinates=u(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(u)},LineString:function(e){e.arcs=p(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(p)},Polygon:function(e){e.arcs=h(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(h)}};for(var m in e)g(e[m]);return{scale:[1/c,1/l],translate:[o,i]}}(e,r,t),s=function(e){var t,r,n,a,s=e.coordinates,c=e.lines,u=e.rings,f=c.length+u.length;for(delete e.lines,delete e.rings,n=0,a=c.length;n<a;++n)for(t=c[n];t=t.next;)++f;for(n=0,a=u.length;n<a;++n)for(r=u[n];r=r.next;)++f;var p=o(2*f*1.4,l,i),d=e.arcs=[];for(n=0,a=c.length;n<a;++n){t=c[n];do{h(t)}while(t=t.next)}for(n=0,a=u.length;n<a;++n)if((r=u[n]).next)do{h(r)}while(r=r.next);else g(r);function h(e){var t,r,n,o,i,a,c,l;if(n=p.get(t=s[e[0]]))for(c=0,l=n.length;c<l;++c)if(y(o=n[c],e))return e[0]=o[0],void(e[1]=o[1]);if(i=p.get(r=s[e[1]]))for(c=0,l=i.length;c<l;++c)if(m(a=i[c],e))return e[1]=a[0],void(e[0]=a[1]);n?n.push(e):p.set(t,[e]),i?i.push(e):p.set(r,[e]),d.push(e)}function g(e){var t,r,n,o,i;if(r=p.get(s[e[0]]))for(o=0,i=r.length;o<i;++o){if(v(n=r[o],e))return e[0]=n[0],void(e[1]=n[1]);if(b(n,e))return e[0]=n[1],void(e[1]=n[0])}if(r=p.get(t=s[e[0]+w(e)]))for(o=0,i=r.length;o<i;++o){if(v(n=r[o],e))return e[0]=n[0],void(e[1]=n[1]);if(b(n,e))return e[0]=n[1],void(e[1]=n[0])}r?r.push(e):p.set(t,[e]),d.push(e)}function y(e,t){var r=e[0],n=t[0],o=e[1];if(r-o!=n-t[1])return!1;for(;r<=o;++r,++n)if(!i(s[r],s[n]))return!1;return!0}function m(e,t){var r=e[0],n=t[0],o=e[1],a=t[1];if(r-o!=n-a)return!1;for(;r<=o;++r,--a)if(!i(s[r],s[a]))return!1;return!0}function v(e,t){var r=e[0],n=t[0],o=e[1]-r;if(o!==t[1]-n)return!1;for(var a=w(e),c=w(t),l=0;l<o;++l)if(!i(s[r+(l+a)%o],s[n+(l+c)%o]))return!1;return!0}function b(e,t){var r=e[0],n=t[0],o=e[1],a=t[1],c=o-r;if(c!==a-n)return!1;for(var l=w(e),u=c-w(t),f=0;f<c;++f)if(!i(s[r+(f+l)%c],s[a-(f+u)%c]))return!1;return!0}function w(e){for(var t=e[0],r=e[1],n=t,o=n,i=s[n];++n<r;){var a=s[n];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=n,i=a)}return o-t}return e}(function(e){var t,r,n,a,s,c,f,p=function(e){var t,r,n,a,s=e.coordinates,c=e.lines,u=e.rings,f=function(){for(var e=o(1.4*s.length,O,C,Int32Array,-1,Int32Array),t=new Int32Array(s.length),r=0,n=s.length;r<n;++r)t[r]=e.maybeSet(r,r);return t}(),p=new Int32Array(s.length),d=new Int32Array(s.length),h=new Int32Array(s.length),g=new Int8Array(s.length),y=0;for(t=0,r=s.length;t<r;++t)p[t]=d[t]=h[t]=-1;for(t=0,r=c.length;t<r;++t){var m=c[t],v=m[0],b=m[1];for(n=f[v],a=f[++v],++y,g[n]=1;++v<=b;)x(t,n,n=a,a=f[v]);++y,g[a]=1}for(t=0,r=s.length;t<r;++t)p[t]=-1;for(t=0,r=u.length;t<r;++t){var w=u[t],_=w[0]+1,P=w[1];for(x(t,f[P-1],n=f[_-1],a=f[_]);++_<=P;)x(t,n,n=a,a=f[_])}function x(e,t,r,n){if(p[r]!==e){p[r]=e;var o=d[r];if(o>=0){var i=h[r];o===t&&i===n||o===n&&i===t||(++y,g[r]=1)}else d[r]=t,h[r]=n}}function O(e){return l(s[e])}function C(e,t){return i(s[e],s[t])}p=d=h=null;var S,E=function(e,t,r,n,o){3===arguments.length&&(n=Array,o=null);for(var i=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,s=0;s<e;++s)i[s]=o;return{add:function(n){for(var s=t(n)&a,c=i[s],l=0;c!=o;){if(r(c,n))return!0;if(++l>=e)throw new Error("full hashset");c=i[s=s+1&a]}return i[s]=n,!0},has:function(n){for(var s=t(n)&a,c=i[s],l=0;c!=o;){if(r(c,n))return!0;if(++l>=e)break;c=i[s=s+1&a]}return!1},values:function(){for(var e=[],t=0,r=i.length;t<r;++t){var n=i[t];n!=o&&e.push(n)}return e}}}(1.4*y,l,i);for(t=0,r=s.length;t<r;++t)g[S=f[t]]&&E.add(s[S]);return E}(e),d=e.coordinates,h=e.lines,g=e.rings;for(r=0,n=h.length;r<n;++r)for(var y=h[r],m=y[0],v=y[1];++m<v;)p.has(d[m])&&(t={0:m,1:y[1]},y[1]=m,y=y.next=t);for(r=0,n=g.length;r<n;++r)for(var b=g[r],w=b[0],_=w,P=b[1],x=p.has(d[w]);++_<P;)p.has(d[_])&&(x?(t={0:_,1:b[1]},b[1]=_,b=b.next=t):(f=P-_,u(a=d,s=w,c=P),u(a,s,s+f),u(a,s+f,c),d[P]=d[w],x=!0,_=w));return e}(function(e){var t=-1,r=[],o=[],i=[];function a(e){e&&n.call(s,e.type)&&s[e.type](e)}var s={GeometryCollection:function(e){e.geometries.forEach(a)},LineString:function(e){e.arcs=c(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(c)},Polygon:function(e){e.arcs=e.arcs.map(l)},MultiPolygon:function(e){e.arcs=e.arcs.map(u)}};function c(e){for(var n=0,o=e.length;n<o;++n)i[++t]=e[n];var a={0:t-o+1,1:t};return r.push(a),a}function l(e){for(var r=0,n=e.length;r<n;++r)i[++t]=e[r];var a={0:t-n+1,1:t};return o.push(a),a}function u(e){return e.map(l)}for(var f in e)a(e[f]);return{type:"Topology",coordinates:i,lines:r,rings:o,objects:e}}(e))),c=s.coordinates,h=o(1.4*s.arcs.length,g,y);function m(e){e&&n.call(v,e.type)&&v[e.type](e)}e=s.objects,s.bbox=r,s.arcs=s.arcs.map((function(e,t){return h.set(e,t),c.slice(e[0],e[1]+1)})),delete s.coordinates,c=null;var v={GeometryCollection:function(e){e.geometries.forEach(m)},LineString:function(e){e.arcs=b(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(b)},Polygon:function(e){e.arcs=e.arcs.map(b)},MultiPolygon:function(e){e.arcs=e.arcs.map(w)}};function b(e){var t=[];do{var r=h.get(e);t.push(e[0]<e[1]?r:~r)}while(e=e.next);return t}function w(e){return e.map(b)}for(var _ in e)m(e[_]);return a&&(s.transform=a,s.arcs=function(e){for(var t=-1,r=e.length;++t<r;){for(var n,o,i=e[t],a=0,s=1,c=i.length,l=i[0],u=l[0],f=l[1];++a<c;)n=(l=i[a])[0],o=l[1],n===u&&o===f||(i[s++]=[n-u,o-f],u=n,f=o);1===s&&(i[s++]=[0,0]),i.length=s}return e}(s.arcs)),s}function g(e){var t,r=e[0],n=e[1];return n<r&&(t=r,r=n,n=t),r+31*n}function y(e,t){var r,n=e[0],o=e[1],i=t[0],a=t[1];return o<n&&(r=n,n=o,o=r),a<i&&(r=i,i=a,a=r),n===i&&o===a}},34016:e=>{(()=>{var t={1320:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(n="".concat("vtxf-renderer","/").concat(r.j))&&void 0!==n?n:"-",i="vtxf-renderer",a=((Date.now()-1730096355e3)/36e5).toFixed(1),s="%c ".concat(o,"%c ").concat("0.3.40",".").concat("34978d3b3ddb48ccff0b434d304d341013b248b2".slice(0,8),".").concat("2024-10-28T06:19:15.000Z"," (").concat(a,")\n%c").concat(i?i+"\n":"","").concat(o,"").concat("vtxf","\n%c ");t.copyright=Object.seal({get owner(){return"vtxf"},get ownerlink(){return"www.czmtoy.com"},get info(){return s},get date(){return"2024-10-28T06:19:15.000Z"},get author(){return"vtxf"},get version(){return"0.3.40"},get name(){return"vtxf-renderer"},get commitId(){return"34978d3b3ddb48ccff0b434d304d341013b248b2"},print:function(){!force&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},8890:function(){"use strict";var e=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function t(e){var t=new Date(e).getTime(),r=(Date.now()-t)/36e5,n=r/24;return n<1?"".concat((r%24).toFixed(1),""):"".concat(n.toFixed(1),"")}window.g_xe2CopyRightsTxt=window.g_xe2CopyRightsTxt||function(){return Object.entries(window.g_xe2CopyRights).map((function(r){var n=e(r,2),o=n[0],i=n[1],a=i.commitId,s=i.version,c=i.date;return"".concat(o,"  ").concat(s," - ").concat(a.slice(0,8)," - ").concat(c," - ").concat(t(c))})).join("  \n")},window.g_xe2CopyRightsMd=window.g_xe2CopyRightsMd||function(r,n){return Object.entries(window.g_xe2CopyRights).map((function(o){var i=e(o,2),a=i[0],s=i[1],c=s.commitId,l=s.version,u=s.date,f=s.gituri;return f?'<span style="font-size: '.concat(null!=r?r:12,"px; color: ").concat(null!=n?n:"white",'">').concat(a,"  ").concat(l,' - <a href="').concat(f,'" target="_blank">').concat(c.slice(0,8),"</a> - ").concat(u," - ").concat(t(u),"</span>"):'<span style="font-size: '.concat(null!=r?r:12,"px; color: ").concat(null!=n?n:"white",'">').concat(a,"  ").concat(l," - ").concat(c.slice(0,8)," - ").concat(u," - ").concat(t(u),"</span>")})).join("<br/>\n")}},4342:(e,t)=>{"use strict";function r(){return!0}function n(){throw new Error("throwOnDestroyed")}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyObject=void 0,t.destroyObject=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=n);e.isDestroyed=r}},3251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Destroyable=t.destroyObject=void 0;var n=r(4342);Object.defineProperty(t,"destroyObject",{enumerable:!0,get:function(){return n.destroyObject}});var o=function(){function e(){this._memId=++e._lastMemId}return Object.defineProperty(e.prototype,"__v_skip",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"memId",{get:function(){return this._memId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disposers",{get:function(){return this._disposers||(this._disposers=[]),this._disposers},enumerable:!1,configurable:!0}),e.prototype.dispose=function(e){return this.disposers.push(e),e},e.prototype.d=function(e){return this.dispose(e)},e.prototype.disposeVar=function(e){return this.disposers.push((function(){return e.destroy()})),e},e.prototype.dv=function(e){return this.disposeVar(e)},e.prototype.tryDisposeVar=function(e){return this.disposers.push((function(){return e.tryDestroy()})),e},e.prototype.tdv=function(e){return this.tryDisposeVar(e)},e.prototype.autoDispose=function(e){return"function"==typeof e?this.dispose(e):this.disposeVar(e)},e.prototype.ad=function(e){return"function"==typeof e?this.dispose(e):this.disposeVar(e)},e.prototype.isDestroyed=function(){return!1},e.prototype.destroyImp=function(){},e.prototype.destroy=function(){if(this._toDestroyEvent&&this._toDestroyEvent.emit(),this.destroyImp(),this._disposers)try{for(var e=this._disposers,t=e.length-1;t>=0;--t)e[t]();e.length=0,this._disposers=void 0}catch(e){console.error("destroy get error! ".concat(e))}return(0,n.destroyObject)(this)},e.prototype.tryDestory=function(){if(!this.isDestroyed())return this.destroy()},e._lastMemId=-1,e}();t.Destroyable=o;var i=r(9495);Object.defineProperties(o.prototype,{toDestroyEvent:{get:function(){return void 0===this._toDestroyEvent&&(this._toDestroyEvent=this.disposeVar(new i.Event)),this._toDestroyEvent}}})},652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExtProp=t.setExtProp=void 0;var r=new WeakMap;t.setExtProp=function(e,t,n){r.has(e)||r.set(e,{}),r.get(e)[t]=n},t.getExtProp=function(e,t){if(r.has(e))return r.get(e)[t]}},9911:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.HasOwner=void 0;var i=function(e){function t(t){var r=e.call(this)||this;return r._owner=t,r}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),t}(r(3251).Destroyable);t.HasOwner=i},8073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjPool=void 0;var r=function(){function e(e,t,r){void 0===r&&(r=!1),this._createDefaultFunc=e,this._destroyFunc=t,this._freeElements=[],this._usedElementsCount=0,this._nextCreateID=1,this._scratchObjs=[],r&&(this._usedElements=[])}return Object.defineProperty(e.prototype,"usedElementsCount",{get:function(){return this._usedElementsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"freeElementsCount",{get:function(){return this._freeElements.length},enumerable:!1,configurable:!0}),e.prototype._getCreateID=function(){return this._nextCreateID++},e.prototype._create=function(){var e;return(e=this._freeElements.length>0?this._freeElements.pop():this._createDefaultFunc&&this._createDefaultFunc()||{})._cid=this._getCreateID(),e},e.prototype.create=function(){return this._create()},e.prototype.multiCreate=function(e){this._scratchObjs.length=0;for(var t=0;t<e;++t)this._scratchObjs.push(this._create());return this._scratchObjs},e.prototype._destroy=function(e){this._destroyFunc&&this._destroyFunc(e),e._cid=void 0},e.prototype.destroy=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length,n=0;n<r;++n)this._destroy(e[n])},e}();t.ObjPool=r},2612:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableArray=void 0;var s=r(3251),c=r(9495),l=function(e){function t(){var t=e.call(this)||this;return t._innerObj=[],t.dispose((function(){if(t.length=0,t._innerObj.length>0)throw new Error("this._innerObj.length > 0");t._toChangeEvent&&t._toChangeEvent.reset(),t._innerObj=void 0})),t}return o(t,e),Object.defineProperty(t.prototype,"toChangeEvent",{get:function(){return this._toChangeEvent||(this._toChangeEvent=new c.Event),this._toChangeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedEvent",{get:function(){return this._changedEvent||(this._changedEvent=new c.Event),this._changedEvent},enumerable:!1,configurable:!0}),t.prototype._resetArray=function(e){this._toChangeEvent&&this._toChangeEvent.emit([{start:0,deleteCount:this._innerObj.length,items:e}],this);var t=e.length;this._innerObj.length=t;for(var r=0;r<t;++r)this._innerObj[r]=e[r];this._changedEvent&&this._changedEvent.emit(this)},t.prototype.splice=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=this._innerObj.length;(e=e>this._innerObj.length?this._innerObj.length:e)>s?e=s:e<0&&(e+=s)<0&&(e=0);var c=this._innerObj.length-e;if(t>c?t=c:t<0&&(t=0),1===arguments.length){this._toChangeEvent&&this._toChangeEvent.emit([{start:e,deleteCount:this._innerObj.length-e,items:[]}],this);var l=this._innerObj.splice(e);return this._changedEvent&&this._changedEvent.emit(this),l}return 2===arguments.length?(this._toChangeEvent&&this._toChangeEvent.emit([{start:e,deleteCount:t,items:[]}],this),l=this._innerObj.splice(e,t),this._changedEvent&&this._changedEvent.emit(this),l):(this._toChangeEvent&&this._toChangeEvent.emit([{start:e,deleteCount:t,items:n}],this),l=(r=this._innerObj).splice.apply(r,a([e,t],i(n),!1)),this._changedEvent&&this._changedEvent.emit(this),l)},t.prototype.pop=function(){if(0!==this._innerObj.length){if(this._toChangeEvent){var e=this._innerObj.length-1;this._toChangeEvent.emit([{start:e,deleteCount:1,items:[]}],this)}var t=this._innerObj.pop();return this._changedEvent&&this._changedEvent.emit(this),t}},t.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this._toChangeEvent){var n=this._innerObj.length;this._toChangeEvent.emit([{start:n,deleteCount:0,items:t}],this)}var o=(e=this._innerObj).push.apply(e,a([],i(t),!1));return this._changedEvent&&this._changedEvent.emit(this),o},Object.defineProperty(t.prototype,"length",{get:function(){return this._innerObj.length},set:function(e){if(e<0)throw new Error("value < 0");var t=this._innerObj.length;if(t!==e){if(this._toChangeEvent){var r=void 0,n=void 0,o=void 0;t>e?(r=e,n=t-e,o=[]):(r=t,n=0,o=new Array(e-t)),this._toChangeEvent.emit([{start:r,deleteCount:n,items:o}],this)}this._innerObj.length=e,this._changedEvent&&this._changedEvent.emit(this)}},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this._innerObj[e]},t.prototype.set=function(e,t){var r=this._innerObj.length;if(e<0||e>=r)throw new Error("index < 0 || index >= length");this._toChangeEvent&&this._toChangeEvent.emit([{start:e,deleteCount:1,items:[t]}],this),this._innerObj[e]=t,this._changedEvent&&this._changedEvent.emit(this)},t.prototype.indexOf=function(e){return this._innerObj.indexOf(e)},t.prototype[Symbol.iterator]=function(){return this._innerObj[Symbol.iterator]()},t}(s.Destroyable);t.ObservableArray=l},655:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.reactPosition2DsSet=t.reactPositionsSet=t.reactPositions=t.reactJsonCollectionWithUndefined=t.reactJsonCollection=t.reactArrayCollectionWithUndefined=t.reactArrayCollection=t.reactPlainObjectWithUndefined=t.reactPlainObject=t.reactJsonWithUndefined=t.reactJson=t.reactDeepArrayWithUndefined=t.reactDeepArray=t.reactArrayWithNull=t.reactArrayWithUndefined=t.reactArray=t.react=t.ReactiveVariable=void 0;var c=r(3251),l=r(9495),u=function(e){function t(t,r,n){var o=e.call(this)||this;return o._equalsFunc=r,o._assignFunc=n,o._value=o._assignFunc&&o._assignFunc(t,void 0)||t,o}return o(t,e),Object.defineProperty(t.prototype,"assignFunc",{get:function(){return this._assignFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"equalsFunc",{get:function(){return this._equalsFunc},enumerable:!1,configurable:!0}),t.prototype.equals=function(e){return this._equalsFunc?this._equalsFunc(this._value,e):this._value===e},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(this._equalsFunc?!this._equalsFunc(this._value,e):this._value!==e){if(this.toChangeFunc&&!this.toChangeFunc(e,this._value))return;this._assignFunc?(this._oldValue=this._assignFunc(this._value,this._oldValue),this._value=this._assignFunc(e,this._value)):(this._oldValue=this._value,this._value=e),this._changed&&this._changed.emit(e,this._oldValue)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed||(this._changed=this.disposeVar(new l.Event)),this._changed},enumerable:!1,configurable:!0}),t.prototype.forceChange=function(){this._changed&&this._changed.emit(this._value,this._value)},t}(c.Destroyable);function f(e,t,r){return new u(e,t,r)}function p(e){return void 0===e||"object"!=typeof e||null!==e&&!Array.isArray(e)}function d(e,t,r){return f(e,(function(e,r){return e.length===r.length&&e.every((function(e,n){return t&&t(e,r[n])||e===r[n]}))}),(function(e,t){var n=t||new Array(e.length);return n.length=e.length,e.forEach((function(e,t){n[t]=r?r(e):e})),n}))}function h(e,t,r){return f(e,(function(e,r){return void 0===e||void 0===r?void 0===e&&void 0===r:e.length===r.length&&e.every((function(e,n){return t&&t(e,r[n])||e===r[n]}))}),(function(e,t){if(e){var n=t||new Array(e.length);return n.length=e.length,e.forEach((function(e,t){n[t]=r?r(e):e})),n}}))}function g(e){return h(e,(function(e,t){return e.every((function(e,r){return e===t[r]}))}),(function(e){return s([],a(e),!1)}))}t.ReactiveVariable=u,t.react=f,t.reactArray=function(e){return new u(e,(function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}),(function(e,t){var r=t||new Array(e.length);return r.length=e.length,e.forEach((function(e,t){return r[t]=e})),r}))},t.reactArrayWithUndefined=function(e){return f(e,(function(e,t){return void 0===e||void 0===t?void 0===e&&void 0===t:e.length===t.length&&e.every((function(e,r){return e===t[r]}))}),(function(e,t){if(e){var r=t||new Array(e.length);return r.length=e.length,e.forEach((function(e,t){return r[t]=e})),r}}))},t.reactArrayWithNull=function(e){return f(e,(function(e,t){return p(e)?(console.error("isNotArrayOrNull(a): "),console.error(e),!1):p(t)?(console.error("isNotArrayOrNull(b): "),console.error(t),!1):null===e||null===t?null===e&&null===t:e.length===t.length&&e.every((function(e,r){return e===t[r]}))}),(function(e,t){if(p(e))return console.error("isNotArrayOrNull(s): "),console.error(e),null;if(null===e)return null;var r=t||new Array(e.length);return r.length=e.length,e.forEach((function(e,t){return r[t]=e})),r}))},t.reactDeepArray=d,t.reactDeepArrayWithUndefined=h,t.reactJson=function(e){return new u(e,(function(e,t){return e===t||void 0!==e&&void 0!==t&&JSON.stringify(e)===JSON.stringify(t)}),(function(e,t){if(void 0!==e)return JSON.parse(JSON.stringify(e))}))},t.reactJsonWithUndefined=function(e){return new u(e,(function(e,t){return e===t||void 0!==e&&void 0!==t&&JSON.stringify(e)===JSON.stringify(t)}),(function(e,t){if(void 0!==e)return JSON.parse(JSON.stringify(e))}))},t.reactPlainObject=function(e){return new u(e,(function(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((function(r,o){return r===n[o]&&e[r]===t[r]}))}),(function(e,t){return e&&i({},e)}))},t.reactPlainObjectWithUndefined=function(e){return new u(e,(function(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((function(r,o){return r===n[o]&&e[r]===t[r]}))}),(function(e,t){return e&&i({},e)}))},t.reactArrayCollection=function(e){return d(e,(function(e,t){return e.every((function(e,r){return e===t[r]}))}),(function(e){return s([],a(e),!1)}))},t.reactArrayCollectionWithUndefined=g,t.reactJsonCollection=function(e){return d(e,(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}),(function(e){return JSON.parse(JSON.stringify(e))}))},t.reactJsonCollectionWithUndefined=function(e){return h(e,(function(e,t){return JSON.stringify(e)===JSON.stringify(t)}),(function(e){return JSON.parse(JSON.stringify(e))}))},t.reactPositions=function(e){return g(e)},t.reactPositionsSet=function(e){return h(e,(function(e,t){return e.length===t.length&&e.every((function(e,r){return e.every((function(e,n){return e===t[r][n]}))}))}),(function(e){return e.map((function(e){return s([],a(e),!1)}))}))},t.reactPosition2DsSet=function(e){return h(e,(function(e,t){return e.length===t.length&&e.every((function(e,r){return e.every((function(e,n){return e===t[r][n]}))}))}),(function(e){return e.map((function(e){return s([],a(e),!1)}))}))}},7826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroyScalableArray=t.createScalableArray=void 0;var n=r(2017),o=function(){function e(){this._array=[]}return Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),e}(),i=new n.ObjPool((function(){return new o})),a=new WeakMap;t.createScalableArray=function(){var e=i.create();return a.set(e.array,e),e.array},t.destroyScalableArray=function(e){var t=a.get(e);if(!t)throw console.warn("!obj"),new Error("!obj");i.destroy(t)}},2309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalableBufferPool=t.ScalableBuffer=void 0;var n=r(7525),o=r(2017);r(3428);var i=function(){function e(){this._arrayBuffer=new ArrayBuffer(1024)}return Object.defineProperty(e.prototype,"byteLength",{get:function(){return this._arrayBuffer.byteLength},enumerable:!1,configurable:!0}),e.prototype.resize=function(e){if(this._arrayBuffer.byteLength<e){var t=(0,n.nextPow2)(e);this._arrayBuffer=ArrayBuffer.transfer(this._arrayBuffer,t)}},Object.defineProperty(e.prototype,"arrayBuffer",{get:function(){return this._arrayBuffer},enumerable:!1,configurable:!0}),e}();t.ScalableBuffer=i,t.scalableBufferPool=new o.ObjPool((function(){return new i}))},4465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStartUpdateFunc=t.requestAnimationFrameTimeStampTest=void 0,t.requestAnimationFrameTimeStampTest=function(){return new Promise((function(e,t){var r=performance.now();requestAnimationFrame((function(t){return e(t>r)}))}))},t.defaultStartUpdateFunc=function(e){var t,r;return r=function(n){n=performance.now(),t=requestAnimationFrame(r),e(n)},t=requestAnimationFrame(r),function(){cancelAnimationFrame(t)}}},800:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassStyle=void 0,t.addClassStyle=function(e){var t=document.createElement("style");return t.innerText=e,document.head.appendChild(t)}},9591:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.bindu=t.bind=t.track=t.getCompleteReactParams=void 0;var i=r(2396),a=r(655);function s(e){var t=e instanceof a.ReactiveVariable?[e,"value","changed"]:o([],n(e),!1);return t[2]=t[2]||t[1]+"Changed",t}function c(e,t,r,n){void 0===n&&(n=!1),t[2]=t[2]||t[1]+"Changed";var o=function(){var n=t[0][t[1]];e[0][e[1]]=r?r(n):n};return o(),n?t[0][t[2]].disposableWeakOn(o):t[0][t[2]].disposableOn(o)}function l(e,t,r,n,o){return void 0===o&&(o=!1),function(e,t,r,n,o){void 0===o&&(o=!1);var i=c(e,t,r,o),a=c(t,e,n,o);return function(){return i(),a()}}(s(e),s(t),r,n,o)}t.getCompleteReactParams=s,t.track=function(e,t,r,n){return void 0===n&&(n=!1),c(e instanceof a.ReactiveVariable?[e,"value","changed"]:e,t instanceof a.ReactiveVariable?[t,"value","changed"]:t,r,n)},t.bind=l,t.bindu=function(e,t,r,o){void 0===o&&(o=!1);var a=n((0,i.getReactFuncs)(t),1)[0];return l(e,t,(function(e){return null!=e?e:r}),(function(e){return e===r&&void 0===a()?void 0:e}),o)}},6989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGuid=void 0,t.createGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},1640:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.createProps=void 0;var i=r(3251),a=r(655);t.createProps=function(e){var t,r,s=new i.Destroyable,c=function(e,t){var r,n=s.disposeVar(t instanceof a.ReactiveVariable?t:(0,a.react)(t));Object.defineProperties(s,((r={})[e]={get:function(){return n.value},set:function(e){n.value=e}},r["".concat(e,"Changed")]={get:function(){return n.changed}},r))};try{for(var l=n(Object.entries(e)),u=l.next();!u.done;u=l.next()){var f=o(u.value,2);c(f[0],f[1])}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return s}},899:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t){if(!window||!window.setTimeout||!window.clearTimeout)throw new Error("");var o=0;function i(){o>0&&(window.clearTimeout(o),o=0)}return[function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];i(),o=window.setTimeout.apply(window,n([e,t],r(a),!1))},i]}},1331:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.encodeString=void 0,t.encodeString=function(e,t){var o,i=r=r||new TextEncoder,a=0;if(i.encodeInto){var s=void 0;t?s=t:(o=3*e.length,(!n||n.byteLength<o)&&(n=new Uint8Array(2*o)),s=new Uint8Array(n.buffer,0,o));var c=i.encodeInto(e,s);if(void 0===c.written)throw new Error("encodedResults.written === 'undefined'");a=c.written}else{var l=i.encode(e);t&&t.set(l),a=l.byteLength}return a}},6573:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createNextAnimateFrameWeakEvent=t.NextAnimateFrameWeakEvent=t.createNextAnimateFrameEvent=t.NextAnimateFrameEvent=t.createNextMicroTaskWeakEvent=t.NextMicroTaskWeakEvent=t.createNextMicroTaskEvent=t.NextMicroTaskEvent=void 0;var s=r(9495),c=r(5250),l=function(e){function t(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=e.call(this)||this;return i._nextFunc=t,i.dispose((function(){i._cancellFunc&&(i._cancellFunc(),i._cancellFunc=void 0)})),n.forEach((function(e){return i.dispose(e[r?"dwon":"don"]((function(){i.next()})))})),i}return o(t,e),t.prototype.next=function(){var e=this;this._cancellFunc||(this._cancellFunc=this._nextFunc((function(){return e._cancellFunc=void 0,e.emit()})))},t.prototype.flush=function(){this._cancellFunc&&(this._cancellFunc(),this._cancellFunc=void 0,this.emit())},t}(s.Event),u=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,a([c.nextMicroTask,!1],i(t),!1))||this}return o(t,e),t}(l);t.NextMicroTaskEvent=u,t.createNextMicroTaskEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(u.bind.apply(u,a([void 0],i(e),!1)))};var f=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,a([c.nextMicroTask,!0],i(t),!1))||this}return o(t,e),t}(l);t.NextMicroTaskWeakEvent=f,t.createNextMicroTaskWeakEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(u.bind.apply(u,a([void 0],i(e),!1)))};var p=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,a([c.nextAnimateFrame,!1],i(t),!1))||this}return o(t,e),t}(l);t.NextAnimateFrameEvent=p,t.createNextAnimateFrameEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(p.bind.apply(p,a([void 0],i(e),!1)))};var d=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,a([c.nextAnimateFrame,!0],i(t),!1))||this}return o(t,e),t}(l);t.NextAnimateFrameWeakEvent=d,t.createNextAnimateFrameWeakEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(d.bind.apply(d,a([void 0],i(e),!1)))}},7693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var n=r(6073);t.every=function(e,t){return!(0,n.forEachWithBreak)(e,(function(e,r){return!t(e,r)}))}},694:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.extendClassProps=void 0;var i=r(655);function a(e,t,r,o){var a=e;if(!a[t]){var s=o(),c=Object.fromEntries(Object.entries(s).filter((function(t){var o=n(t,2),a=o[0],s=o[1],c=a in Object.getPrototypeOf(r);if(c){var l=s instanceof i.ReactiveVariable?s.value:s;e[a]=l}return!c})).map((function(e){var t=n(e,2),r=t[0],o=t[1];return o instanceof i.ReactiveVariable?[r,o]:[r,Array.isArray(o)?(0,i.reactArrayWithUndefined)(o):(0,i.react)(o)]})));a[t]=c}return a[t]}t.extendClassProps=function(e,t){var r,i,s,c=Symbol("".concat(null===(s=null==e?void 0:e.constructor)||void 0===s?void 0:s.name,"-createDefaultProps"));e.constructor.__xbsj_dpSymbol=c,e.constructor.__xbsj_createDefaultProps=t;var l=function(r,n){var i;if(!Reflect.has(e,r)){var s=function(e){var t,r;if(!e[c]){for(var n=[],i=Object.getPrototypeOf(e);i;)n.push(i),i=Object.getPrototypeOf(i);n.reverse();try{for(var s=o(n),l=s.next();!l.done;l=s.next()){var u=l.value,f=u.constructor.__xbsj_dpSymbol;if(f){var p=u.constructor.__xbsj_createDefaultProps;p&&a(e,f,u,p)}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}};Object.defineProperties(e,((i={})[r]={get:function(){return s(this),a(this,c,e,t)[r].value},set:function(n){s(this);var o=a(this,c,e,t)[r];o||console.error("!propObj"),o.value=n}},i["".concat(r,"Changed")]={get:function(){return s(this),a(this,c,e,t)[r].changed}},i["".concat(r,"React")]={get:function(){return s(this),a(this,c,e,t)[r]}},i))}};try{for(var u=o(Object.entries(t())),f=u.next();!f.done;f=u.next()){var p=n(f.value,2),d=p[0];p[1],l(d)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}},7491:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchArrayBuffer=void 0,t.fetchArrayBuffer=function(e,t){return void 0===t&&(t=fetch),r(this,void 0,void 0,(function(){var r;return n(this,(function(n){switch(n.label){case 0:return[4,t(e)];case 1:return(r=n.sent()).ok?[4,r.arrayBuffer()]:[2,void 0];case 2:return[2,n.sent()]}}))}))}},8049:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchImage=void 0,t.fetchImage=function(e,t){return void 0===t&&(t=""),r(this,void 0,void 0,(function(){return n(this,(function(r){return[2,new Promise((function(r,n){var o=new Image;o.crossOrigin=t,o.src=e,o.onload=function(){return r(o)},o.onerror=function(e){return n(e)}}))]}))}))}},8576:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJson=void 0,t.fetchJson=function(e,t){return void 0===t&&(t=fetch),r(this,void 0,void 0,(function(){var r,o;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,t(e)];case 1:return(r=n.sent()).ok?[4,r.json()]:[2,void 0];case 2:return[2,n.sent()];case 3:return o=n.sent(),console.error("fetchJson error: ".concat(o)),console.error(o),[2,void 0];case 4:return[2]}}))}))}},6073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEachWithBreak=void 0;var n=r(3580);t.forEachWithBreak=function(e,t){for(var r=!1,o=(0,n.getIterator)(e),i=-1;;){var a=o.next(),s=a.done,c=a.value;if(s)break;if(t(c,++i)){r=!0;break}}return r}},9375:(e,t)=>{"use strict";function r(e,t){return(new Array(t).join("0")+e).slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDateTime=t.formatInterger=void 0,t.formatInterger=r,t.getDateTime=function(){var e=function(e){return r(e,2)},t=new Date,n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),a=t.getHours(),s=t.getMinutes(),c=t.getSeconds();return"".concat(n,"-").concat(e(o),"-").concat(e(i)," ").concat(e(a),":").concat(e(s),":").concat(e(c))}},8347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase64UriData=void 0;var r=/^data:(.*?)(;base64)?,(.*)$/;function n(e,t){var r=decodeURIComponent(t);return e?atob(r):r}function o(e,t){for(var r=n(e,t),o=new ArrayBuffer(r.length),i=new Uint8Array(o),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return o}function i(e,t){void 0===t&&(t="text");var r=e[1],i=!!e[2],a=e[3];switch(t){case"text":return[n(i,a),r];case"arraybuffer":return[o(i,a),r];case"blob":var s=o(i,a);return[new Blob([s],{type:r}),r];case"document":return[(new DOMParser).parseFromString(n(i,a),r),r];case"json":return[JSON.parse(n(i,a)),r];default:throw new Error("Unhandled responseType: "+t)}}t.getBase64UriData=function(e,t){void 0===t&&(t="text");var n=r.exec(e);if(null!==n){if("document"===t)return i(n,t);if("blob"===t)return i(n,t);if("arraybuffer"===t)return i(n,t);if("text"===t)return i(n,t);if("json"===t)return i(n,t);throw new Error("responseType error!")}}},3893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseUri=void 0,t.getBaseUri=function(e){return e.substr(0,e.lastIndexOf("/"))}},7316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFinalUri=void 0;var n=r(2652);t.getFinalUri=function(e,t){var r=(0,n.isAbsoluteUri)(e),o=e;return(0,n.isBase64Uri)(e)||r||t&&(o=t+"/"+e),o}},681:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncFromStr=void 0,t.getFuncFromStr=function(e){var t=e.trim();if(t)try{var r=Function('"use strict";return ('+t+")")();if("function"==typeof r)return r}catch(e){return void console.info("firstTryFunc get error! ".concat(e))}}},3580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIterator=void 0,t.getIterator=function(e){var t;if("function"==typeof e.next)t=e;else{if("function"!=typeof e[Symbol.iterator])throw new Error("iteratorOrIterable error!");t=e[Symbol.iterator]()}return t}},6235:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMinMaxPosition=void 0;var o=r(4862);t.getMinMaxPosition=function(e,t){var r,i,a,s,c,l,u,f;if(e.length%3!=0)throw new Error("positions.length % 3 !== 0");var p=e.length/3;function d(t){var r;return n(this,(function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<p?[4,e[3*r+t]]:[3,4];case 2:n.sent(),n.label=3;case 3:return++r,[3,1];case 4:return[2]}}))}var h=null!==(r=null==t?void 0:t.min)&&void 0!==r?r:[NaN,NaN,NaN],g=null!==(i=null==t?void 0:t.max)&&void 0!==i?i:[NaN,NaN,NaN];return h[0]=null!==(a=(0,o.min)(d(0)))&&void 0!==a?a:NaN,h[1]=null!==(s=(0,o.min)(d(1)))&&void 0!==s?s:NaN,h[2]=null!==(c=(0,o.min)(d(2)))&&void 0!==c?c:NaN,g[0]=null!==(l=(0,o.max)(d(0)))&&void 0!==l?l:NaN,g[1]=null!==(u=(0,o.max)(d(1)))&&void 0!==u?u:NaN,g[2]=null!==(f=(0,o.max)(d(2)))&&void 0!==f?f:NaN,{min:h,max:g}}},2203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPaddingByteLength=void 0,t.getPaddingByteLength=function(e,t){return 1!==t&&2!==t&&4!==t&&8!==t&&console.warn("getPaddingByteLength boundaryByteLength(".concat(t,") is not 2^")),(t-e%t)%t}},2396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReactFuncs=void 0;var n=r(9591),o=r(8579);t.getReactFuncs=function(e){var t=(0,n.getCompleteReactParams)(e);return[function(){return t[0][t[1]]},function(e){try{t[0][t[1]]=e}catch(e){(0,o.oneTimeWarning)("setValue error, obj(".concat(t[0].constructor.name,") prop(").concat(t[1],") error(").concat(e,")"))}},t[0][t[2]]]}},7070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValueFromRatio=t.defaultLerpFunc=void 0;var n=r(3580);t.defaultLerpFunc=function(e,t,r){return e*(1-r)+t*r},t.getValueFromRatio=function(e,t,r,o,i){for(var a,s,c,l,u=(0,n.getIterator)(t);;){var f=u.next(),p=f.done,d=f.value;if(p)break;if(void 0===d)throw new Error("typeof value === 'undefined'");var h=d.ratio,g=d.value;if(a=c,s=l&&o?o(l,null!=i?i:s):l,c=h,l=g,(void 0===a||e>=a)&&(void 0===c||e<=c)){if(void 0===a)return l&&o?o(l,i):l;if(void 0===c||void 0===l)throw new Error("typeof rightRatio === 'undefined'");return r(s,l,(e-a)/(c-a),i)}l=l&&o?o(l,i):l}if(void 0===c)throw new Error("typeof rightRatio === 'undefined'");if(e>c)return l;throw new Error("!(ratio > rightRatio)")}},7322:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1320),t),o(r(800),t),o(r(9591),t),o(r(6989),t),o(r(1640),t),o(r(899),t),o(r(3251),t),o(r(1331),t),o(r(6573),t),o(r(7693),t),o(r(694),t),o(r(652),t),o(r(7491),t),o(r(8049),t),o(r(8576),t),o(r(6073),t),o(r(9375),t),o(r(8347),t),o(r(3893),t),o(r(7316),t),o(r(681),t),o(r(3580),t),o(r(6235),t),o(r(2203),t),o(r(2396),t),o(r(7070),t),o(r(9911),t),o(r(7322),t),o(r(6911),t),o(r(5798),t),o(r(1717),t),o(r(8073),t),o(r(5252),t),o(r(9887),t),o(r(1233),t),o(r(757),t),o(r(7008),t),o(r(4862),t),o(r(7525),t),o(r(5270),t),o(r(2017),t),o(r(7264),t),o(r(709),t),o(r(2612),t),o(r(3173),t),o(r(8579),t),o(r(9661),t),o(r(9495),t),o(r(3294),t),o(r(9853),t),o(r(9871),t),o(r(655),t),o(r(980),t),o(r(7062),t),o(r(4746),t),o(r(7826),t),o(r(2309),t),o(r(352),t),o(r(4465),t),o(r(6940),t),o(r(5250),t),o(r(3818),t),o(r(2652),t),o(r(675),t),r(8890),r(3428)},6911:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isCrossOriginUrl=void 0,t.isCrossOriginUrl=function(e){(r=null!=r?r:document.createElement("a")).href=window.location.href;var t=r.host,n=r.protocol;return r.href=e,r.href=r.href,n!==r.protocol||t!==r.host}},5798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=void 0;var n=r(3580);t.forEach=function(e,t){for(var r=(0,n.getIterator)(e),o=0;;){var i=r.next(),a=i.done,s=i.value;if(a)break;t(s,o++)}}},1717:(e,t)=>{"use strict";function r(e){return JSON.stringify(e,void 0,"    ")}Object.defineProperty(t,"__esModule",{value:!0}),t.printJson=t.toJsonStr=void 0,t.toJsonStr=r,t.printJson=function(e){console.log(r(e))}},5252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.length=void 0;var n=r(7062),o=function(e){return++e};t.length=function(e){return(0,n.reduce)(e,o,0)}},9887:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadJs=void 0;var r=[];function n(e,t,n){if(r.includes(e))return console.warn("_loadJs ".concat(e," has loaded before!")),void(t&&t());var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),i.onload=i.onreadystatechange=function(){this.readyState&&"complete"!==this.readyState||(r.push(e),t&&t(),i.onload=i.onreadystatechange=null)},i.onerror=function(e,t,r,o,i){n(i)},o.appendChild(i)}t.loadJs=function(e,t){if(void 0===t&&(t=!0),t){var r=window.L;window.L&&(window.L=void 0);var o=window.define;return window.define&&(window.define=void 0),new Promise((function(t,r){n(e,t,r)})).then((function(){return window.define=o,window.L=r,Promise.resolve()}))}return new Promise((function(t,r){n(e,t,r)}))}},757:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.magicStrToUint32=void 0,t.magicStrToUint32=function(e){if(e.length>4)throw new Error("getMagic error! str.length > 4");return function(e){return n([],r(e),!1).reverse().reduce((function(e,t){return(e<<=8)+t.codePointAt(0)}),0)}(e)}},4862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.min=t.max=void 0;var n=r(7062);t.max=function(e){return(0,n.reduce)(e,(function(e,t){return e>t?e:t}),Number.NEGATIVE_INFINITY)},t.min=function(e){return(0,n.reduce)(e,(function(e,t){return e<t?e:t}),Number.POSITIVE_INFINITY)}},7525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextPow2=void 0,t.nextPow2=function(e){return e|=0,e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}},5270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeBufferToUint8Array=void 0,t.nodeBufferToUint8Array=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}},7264:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.objsIterator=void 0;var o=r(9871),i=r(3580);t.objsIterator=function(e,t){var r,a,s,c;return n(this,(function(n){switch(n.label){case 0:r=(0,i.getIterator)(e),n.label=1;case 1:return a=r.next(),s=a.done,c=a.value,s?[3,3]:[4,(0,o.getValueFromProps)(c,t)];case 2:return n.sent(),[3,1];case 3:return[2]}}))}},3173:(e,t)=>{"use strict";function r(e){var t=0|+e;if(t.toString()===e)return t}Object.defineProperty(t,"__esModule",{value:!0}),t.observeArray=void 0,t.observeArray=function(e,t){if(!Array.isArray(e))throw new Error("!Array.isArray(array)");return new Proxy(e,{set:function(e,n,o,i){var a=e;if("string"!=typeof n)throw new Error("typeof key !== string");var s=r(n);if(void 0===s)return Reflect.set(a,n,o,i);if(s<0)throw new Error("n < 0 || n >= array.length");return!!t({type:void 0===a[s]?"insert":"update",index:s,oldValue:a[s],value:o})&&Reflect.set(e,n,o,i)},deleteProperty:function(e,n){var o=e;if("string"!=typeof n)throw new Error("typeof key !== string");var i=r(n);if(void 0===i)return Reflect.deleteProperty(e,n);if(i<0||i>=o.length)throw new Error("n < 0 || n >= array.length");return!!t({type:"delete",index:i,oldValue:o[i],value:void 0})&&Reflect.deleteProperty(e,n)}})}},8579:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneTimeWarning=void 0;var r=new Set;t.oneTimeWarning=function(e,t){void 0===t&&(t=e),r.has(t)||(r.add(t),console.warn(e))}},9661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.os=void 0,t.os={}},2971:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DoublyLinkedList=void 0;var o=new(r(2017).ObjPool)((function(){return{item:void 0,previous:void 0,next:void 0}}),(function(e){e.item=void 0,e.previous=void 0,e.next=void 0}),!0);function i(e,t,r){var n=o.create();return n.item=e,n.previous=t,n.next=r,n}function a(e){if(!e)throw new Error("node is undefined!");o.destroy(e)}function s(e,t){t.previous&&t.next?(t.previous.next=t.next,t.next.previous=t.previous):t.previous?(t.previous.next=void 0,e.tail=t.previous):t.next?(t.next.previous=void 0,e.head=t.next):(e.head=void 0,e.tail=void 0),t.next=void 0,t.previous=void 0}var c=function(){function e(e){var t=(e||{needLength:!0}).needLength;this.head=void 0,this.tail=void 0,t&&(this._length=0)}return e.prototype._incrementLength=function(){"number"==typeof this._length&&++this._length},e.prototype._decrementLength=function(){"number"==typeof this._length&&--this._length},e.prototype._setLength=function(e){"number"==typeof this._length&&(this._length=e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this.head},enumerable:!1,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e;return n(this,(function(t){switch(t.label){case 0:e=this.head,t.label=1;case 1:return e?[4,e]:[3,3];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.remove=function(e){if(!e)throw new Error("node is undefined!");s(this,e),this._decrementLength(),a(e)},e.prototype.getNode=function(e){for(var t=this.head;null!==t;){if(!t)throw new Error("current is undefined!");if(t.item===e)return t;t=t.next}},e.prototype.moveAfter=function(e,t){if(e!==t){s(this,t);var r=e.next;e.next=t,this.tail===e?this.tail=t:r&&(r.previous=t),t.next=r,t.previous=e}},e.prototype.moveBefore=function(e,t){if(e!==t){s(this,t);var r=e.previous;e.previous=t,this.head===e?this.head=t:r&&(r.next=t),t.previous=r,t.next=e}},e.prototype.insertBefore=function(e,t){var r=i(t,e.previous,e);return e.previous&&(e.previous.next=r),e.previous=r,this.head===e&&(this.head=r),this._incrementLength(),r},e.prototype.insertAfter=function(e,t){var r=i(t,e,e.next);return e.next&&(e.next.previous=r),e.next=r,this.tail===e&&(this.tail=r),this._incrementLength(),r},e.prototype._setFirstNode=function(e){if(this.head||this.tail)throw new Error("_setFirstNode error!");var t=i(e,void 0,void 0);if(this.head=t,this.tail=t,this._incrementLength(),1!==this._length)throw new Error("_setFirstNode error! this._length !== 1");return t},e.prototype.push=function(e){return this.tail?this.insertAfter(this.tail,e):this._setFirstNode(e)},e.prototype.pop=function(){if(!this.tail)throw new Error("DoublyLinkedList is empty!");var e=this.tail.item;return this.remove(this.tail),e},e.prototype.shift=function(){if(!this.head)throw new Error("DoublyLinkedList is empty!");var e=this.head.item;return this.remove(this.head),e},e.prototype.unshift=function(e){return this.head?this.insertBefore(this.head,e):this._setFirstNode(e)},e.prototype.removeAll=function(){for(var e=this.head;e;){var t=e.next;a(e),e=t}this.head=void 0,this.tail=void 0,this._setLength(0)},e}();t.DoublyLinkedList=c},8047:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.EventListenerHandler=void 0;var s=r(3251),c=r(8579),l=r(6059),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(8064).SmartListenerHandler);t.EventListenerHandler=u;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"_pipe",{get:function(){var e;return this.__pipe=null!==(e=this.__pipe)&&void 0!==e?e:new l.ListenerPipe,this.__pipe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return!this.__pipe||this._pipe.empty},enumerable:!1,configurable:!0}),t.prototype.emit=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this.isDestroyed()&&this.beforeCallback&&this.beforeCallback.apply(this,a([],i(t),!1)),!this.isDestroyed()&&(e=this._pipe).do.apply(e,a([],i(t),!1)),!this.isDestroyed()&&this.afterCallback&&this.afterCallback.apply(this,a([],i(t),!1))},t.prototype.on=function(e,t,r,n){void 0===r&&(r=!1);var o=r?this._pipe.unshift(e,t,!1):this._pipe.push(e,t,!1);return(n=null!=n?n:new u)._reset(o,o._cid),n},t.prototype.disposableOn=function(e,t,r,n){var o=this;void 0===r&&(r=!1);var i=this.on(e,t,r,n);return function(){i.valid&&o.off(i)}},t.prototype.don=function(e,t,r,n){return void 0===r&&(r=!1),this.disposableOn(e,t,r,n)},t.prototype.disposableWeakOn=function(e,t,r,n){void 0===r&&(r=!1);var o=new s.Destroyable,i=function(){!o.isDestroyed()&&o.destroy()};return o.dispose(this.disposableOn(e,t,r,n)),o.dispose(this.toDestroyEvent.disposableOn(i)),i},t.prototype.dwon=function(e,t,r,n){return void 0===r&&(r=!1),this.disposableWeakOn(e,t,r,n)},t.prototype.once=function(e,t,r,n){void 0===r&&(r=!1);var o=r?this._pipe.unshift(e,t,!0):this._pipe.push(e,t,!0);return(n=null!=n?n:new u)._reset(o,o._cid),n},t.prototype.disposableOnce=function(e,t,r,n){var o=this;void 0===r&&(r=!1);var i=this.once(e,t,r,n);return function(){return i.valid&&o.off(i)}},t.prototype.donce=function(e,t,r,n){var o=this;void 0===r&&(r=!1);var i=this.once(e,t,r,n);return function(){return i.valid&&o.off(i)}},t.prototype.off=function(e){if(!e.valid)throw new Error("handler is not valid!");this._pipe.remove(e._listenerHandler),e._reset()},t.prototype.reset=function(){this._pipe.removeAll()},t.prototype.destroyImp=function(){this.empty||((0,c.oneTimeWarning)("The event is destroying with listeners!"),this._pipe.removeAll())},t}(s.Destroyable);t.Event=f},6059:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ListenerPipe=void 0;var i=r(2971),a=new(r(2017).ObjPool)((function(){return{func:void 0,scope:void 0,_hasRemoved:!1,_once:!1}}),(function(e){e.func=void 0,e.scope=void 0,e._hasRemoved=!1,e._once=!1}),!0),s=function(){function e(){}return Object.defineProperty(e.prototype,"_dll",{get:function(){var e;return this.__dll=null!==(e=this.__dll)&&void 0!==e?e:new i.DoublyLinkedList({needLength:!0}),this.__dll},enumerable:!1,configurable:!0}),e.prototype._pushCurrentListener=function(e){this.__currentListenerStack?Array.isArray(this.__currentListenerStack)?this.__currentListenerStack.push(e):this.__currentListenerStack=[this.__currentListenerStack,e]:this.__currentListenerStack=e},e.prototype._popCurrentListener=function(){if(!this.__currentListenerStack)throw new Error("cannot pop!");Array.isArray(this.__currentListenerStack)?this.__currentListenerStack.pop():this.__currentListenerStack=void 0},e.prototype._hasCurrentListener=function(e){return!!this.__currentListenerStack&&(Array.isArray(this.__currentListenerStack)?-1!==this.__currentListenerStack.indexOf(e):this.__currentListenerStack===e)},e.prototype.do=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.__dll&&!this._dll.empty)for(var i=this._dll.head;i;){var a=i.item;a._hasRemoved||(this._pushCurrentListener(a),(e=a.func).call.apply(e,o([a.scope],n(t),!1)),this._popCurrentListener());var s=i.next;a._once&&!a._hasRemoved&&(this.remove(i),i=void 0),i&&this._clearHasRemoved(i),i=s}},Object.defineProperty(e.prototype,"empty",{get:function(){if(!this.__dll||this._dll.empty)return!0;for(var e=!0,t=this._dll.head;t;){if(!t.item._hasRemoved){e=!1;break}t=t.next}return e},enumerable:!1,configurable:!0}),e.prototype.isHandlerValid=function(e){return!e.item._hasRemoved},e.prototype.nextHandler=function(e){if(!e.item._hasRemoved)throw new Error("handler has removed!");for(var t=e.next;t&&t.item._hasRemoved;)t=t.next;return t},e.prototype.prevHandler=function(e){if(!e.item._hasRemoved)throw new Error("handler has removed!");for(var t=e.previous;t&&t.item._hasRemoved;)t=t.previous;return t},e.prototype.moveAfter=function(e,t){if(e.item._hasRemoved||t.item._hasRemoved)throw new Error("handler or nextHandler has removed!");return this._dll.moveAfter(e,t)},e.prototype.moveBefore=function(e,t){if(e.item._hasRemoved||t.item._hasRemoved)throw new Error("handler or prevHandler has removed!");return this._dll.moveBefore(e,t)},e.prototype.insertBefore=function(e,t,r,n){if(void 0===n&&(n=!1),e.item._hasRemoved)throw new Error("handler has removed!");var o=a.create();return o.func=t,o.scope=r,o._once=n,this._dll.insertBefore(e,o)},e.prototype.insertAfter=function(e,t,r,n){if(void 0===n&&(n=!1),e.item._hasRemoved)throw new Error("handler has removed!");var o=a.create();return o.func=t,o.scope=r,o._once=n,this._dll.insertAfter(e,o)},e.prototype._clearHasRemoved=function(e){e.item._hasRemoved&&!this._hasCurrentListener(e.item)&&(a.destroy(e.item),this._dll.remove(e))},e.prototype.remove=function(e){if(!e.item||e.item._hasRemoved)throw new Error("handler has removed!");this._hasCurrentListener(e.item)?e.item._hasRemoved=!0:(a.destroy(e.item),this._dll.remove(e))},e.prototype.removeAll=function(){if(this.__dll&&!this._dll.empty)for(var e=this._dll.head;e;){var t=e.next;e.item._hasRemoved||this.remove(e),e=t}},e.prototype.destroy=function(){if(this.__dll){for(var e=this._dll.head;e;){var t=e.next,r=e;this._hasCurrentListener(r.item)||(console.warn("Event has remove item that on current stack!"),console.warn("".concat(r.item.func.toString()))),a.destroy(r.item),this._dll.remove(r),e=t}this.__dll=void 0,this.__currentListenerStack=void 0}},e.prototype.push=function(e,t,r){void 0===r&&(r=!1);var n=a.create();return n.func=e,n.scope=t,n._once=r,this._dll.push(n)},e.prototype.pop=function(){var e=this.tail;if(!e)throw new Error("pop error!");this.remove(e)},e.prototype.shift=function(){var e=this.head;if(!e)throw new Error("shift error!");this.remove(e)},e.prototype.unshift=function(e,t,r){void 0===r&&(r=!1);var n=a.create();return n.func=e,n.scope=t,n._once=r,this._dll.unshift(n)},Object.defineProperty(e.prototype,"tail",{get:function(){for(var e=this._dll.tail;e&&e.item._hasRemoved;)e=e.previous;return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"head",{get:function(){for(var e=this._dll.head;e&&e.item._hasRemoved;)e=e.previous;return e},enumerable:!1,configurable:!0}),e}();t.ListenerPipe=s},8064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmartListenerHandler=void 0;var r=function(){function e(){}return e.prototype._reset=function(e,t){this._listenerHandler=e,this._cid=t},e.prototype.clone=function(t){return(t=null!=t?t:new e)._reset(this._listenerHandler,this._cid),t},Object.defineProperty(e.prototype,"valid",{get:function(){if(void 0!==this._listenerHandler&&"number"==typeof this._cid){var e=this._listenerHandler._cid;if(void 0!==e&&this._cid===e)return!0}return!1},enumerable:!1,configurable:!0}),e}();t.SmartListenerHandler=r},7114:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartListenerPipe=void 0;var i=r(6059),a=r(8064);function s(e,t){return(t=null!=t?t:new a.SmartListenerHandler)._reset(e,e._cid),t}var c=function(){function e(){}return Object.defineProperty(e.prototype,"_pipe",{get:function(){var e;return this.__pipe=null!==(e=this.__pipe)&&void 0!==e?e:new i.ListenerPipe,this.__pipe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this.__pipe||this._pipe.empty},enumerable:!1,configurable:!0}),e.prototype.do=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this._pipe).do.apply(e,o([],n(t),!1))},e.prototype.isHandlerValid=function(e){return!!e.valid&&this._pipe.isHandlerValid(e._listenerHandler)},e.prototype.moveAfter=function(e,t){if(!e.valid||!t.valid)throw new Error("handler or nextHander is not valid!");return this._pipe.moveAfter(e._listenerHandler,t._listenerHandler)},e.prototype.moveBefore=function(e,t){if(!e.valid||!t.valid)throw new Error("handler or nextHander is not valid!");return this._pipe.moveAfter(e._listenerHandler,t._listenerHandler)},e.prototype.insertBefore=function(e,t,r,n,o){if(void 0===n&&(n=!1),!e.valid)throw new Error("handler is not valid!");return s(this._pipe.insertBefore(e._listenerHandler,t,r,n),o)},e.prototype.insertAfter=function(e,t,r,n,o){if(void 0===n&&(n=!1),!e.valid)throw new Error("handler is not valid!");return s(this._pipe.insertAfter(e._listenerHandler,t,r,n),o)},e.prototype.remove=function(e){if(!e.valid)throw new Error("handler is not valid!");return this._pipe.remove(e._listenerHandler)},e.prototype.removeAll=function(){return this._pipe.removeAll()},e.prototype.push=function(e,t,r,n){return void 0===r&&(r=!1),s(this._pipe.push(e,t,r),n)},e.prototype.pop=function(){return this._pipe.pop()},e.prototype.shift=function(){return this._pipe.shift()},e.prototype.unshift=function(e,t,r,n){return void 0===r&&(r=!1),s(this._pipe.unshift(e,t,r),n)},e.prototype.getTail=function(e){var t=this._pipe.tail;return t?s(t,e):void 0},e.prototype.getHead=function(e){var t=this._pipe.head;return t?s(t,e):void 0},e}();t.SmartListenerPipe=c},9495:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2971),t),o(r(8047),t),o(r(6059),t),o(r(8064),t),o(r(7114),t)},3294:function(e,t){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.pluckProperty=void 0,t.pluckProperty=function(e,t){for(var n,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=e;try{for(var c=r(i),l=c.next();!l.done;l=c.next()){var u=l.value;if(!s[u]){if(!t)return;s[u]={}}s=s[u]}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return s}},9853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevPow2=void 0,t.prevPow2=function(e){return e|=0,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e>>1}},9871:function(e,t){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.setValueFromProps=t.getValueFromProps=void 0,t.getValueFromProps=function(e,t){var n,o,i=e;try{for(var a=r(t),s=a.next();!s.done;s=a.next())i=i[s.value]}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i},t.setValueFromProps=function(e,t,r){if(0===t.length)throw new Error("props0");for(var n=t.length-1,o=t[n],i=e,a=0;a<n;++a){var s=t[a];void 0===i[s]&&(i[s]={}),i=i[s]}i[o]=r}},980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFileFromBrowser=void 0,t.readFileFromBrowser=function(){return new Promise((function(e,t){var r=document.createElement("input");r.type="file",r.style.display="none";var n=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});r.dispatchEvent(n),r.addEventListener("change",(function(n){var o=r.files;o&&o.length>0?o[0].text().then((function(t){e(t)})):t()}))}))}},7062:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var n=r(3580);t.reduce=function(e,t,r){for(var o=(0,n.getIterator)(e),i=r,a=0;;){var s=o.next(),c=s.done,l=s.value;if(c)break;i=t(i,l,a++)}return i}},3164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadLink=void 0,t.downloadLink=function(e,t){var r=document.createElement("a"),n=new MouseEvent("click");r.download=t||"",r.href=e,r.dispatchEvent(n)}},4746:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7034),t),o(r(3164),t)},7034:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveOnBrowser=void 0,t.saveOnBrowser=function(e,t,r){void 0===r&&(t.endsWith(".gltf")?r="model/gltf+json":t.endsWith(".bin")?r="application/octet-stream":t.endsWith(".glb")?r="model/gltf-binary":t.endsWith(".jpg")||t.endsWith(".jpeg")?r="image/jpeg":t.endsWith(".png")?r="image/png":t.endsWith(".glsl")?r="text/plain":t.endsWith(".json")?r="application/json":t.endsWith(".b3dm")||t.endsWith(".i3dm")?r="application/octet-stream":console.warn("save ".concat(t,": MimeType!")));var n=new Blob([e],{type:r||""}),o=URL.createObjectURL(n),i=document.createElement("a"),a=new MouseEvent("click");i.download=t,i.href=o,i.dispatchEvent(a),URL.revokeObjectURL(o)}},352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.some=void 0;var n=r(6073);t.some=function(e,t){return(0,n.forEachWithBreak)(e,(function(e,r){return t(e,r)}))}},6940:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var i=r(4465);t.throttle=function(e,t,r){void 0===r&&(r=i.defaultStartUpdateFunc);var a=Number.NEGATIVE_INFINITY,s=void 0;return[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s=e},r&&r((function(r){r-a>t&&s&&(e.apply(void 0,o([],n(s),!1)),s=void 0,a=r)}))||void 0]}},5250:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.nextMicroTask=t.nextAnimateFrame=t.animateFrame=t.timeout=t.interval=void 0,t.interval=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var a=setInterval.apply(void 0,n([e,t],r(o),!1));return function(){return clearInterval(a)}},t.timeout=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var a=setTimeout.apply(void 0,n([e,t],r(o),!1));return function(){return clearTimeout(a)}},t.animateFrame=function(e){for(var t,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=function(){var i=performance.now();e.apply(void 0,n([i],r(o),!1)),t=requestAnimationFrame(a)};return a(),function(){return void 0!==t&&(cancelAnimationFrame(t),t=void 0)}},t.nextAnimateFrame=function(e){for(var t,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return t=requestAnimationFrame((function(){var t=performance.now();e.apply(void 0,n([t],r(o),!1))})),function(){return void 0!==t&&(cancelAnimationFrame(t),t=void 0)}},t.nextMicroTask=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i,a=!1;return new Promise((function(e,t){i=t,e()})).then((function(){!a&&e.apply(void 0,n([],r(t),!1))})).catch((function(e){console.error(e)})),function(){return(a=!0)&&i&&(i("nextMicroTask cancelled!"),i=void 0)}}},3818:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ui=void 0,t.ui={alert:function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),r(void 0,void 0,void 0,(function(){return n(this,(function(t){return window.alert(e),[2]}))}))},confirm:function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),r(void 0,void 0,void 0,(function(){return n(this,(function(t){return[2,window.confirm(e)]}))}))},prompt:function(e,t,o){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===o&&(o=""),r(void 0,void 0,void 0,(function(){var r;return n(this,(function(n){return null===(r=window.prompt(e,t))?[2,void 0]:[2,r]}))}))},select:function(e,t,o){return void 0===e&&(e=[]),void 0===t&&(t=""),void 0===o&&(o=""),r(void 0,void 0,void 0,(function(){var r,o,i;return n(this,(function(n){return 0===e.length?[2,void 0]:(r="".concat(t,"\n").concat(e.map((function(e,t){return"".concat(t+1,". ").concat(e)})).join("\n"),"\n\n):\n"),null===(o=window.prompt(r,"1"))?[2,void 0]:(i=parseInt(o),isNaN(i)||i<1||i>e.length?[2,void 0]:[2,i-1]))}))}))}}},2652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBase64Uri=t.isAbsoluteUri=void 0,t.isAbsoluteUri=function(e){return e.startsWith("http:")||e.startsWith("https:")},t.isBase64Uri=function(e){return e.startsWith("data:")}},675:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.withoutUndefinedArray=t.withoutUndefined=void 0;var o=r(2396),i=r(655);function a(e,t,r,a){var s=n((0,o.getReactFuncs)(e),3),c=s[0],l=s[1],u=s[2],f=(0,i.react)(t,r,a);return f.dispose(f.changed.dwon((function(){f.value!==t?l(f.value):l(void 0)}))),void 0!==c()&&(f.value=c()),f.dispose(u.don((function(e){f.value=void 0!==e?e:t}))),f}t.withoutUndefined=a,t.withoutUndefinedArray=function(e,t,r,n){return a(e,t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return r&&r(e,t[n])||e===t[n]}))}),(function(e,t){for(var r=t||new Array(e.length),o=0;o<e.length;++o)r[o]=n?n(e[o]):e[o];return r.length=e.length,r}))}},709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Observable:()=>k});const n="insert",o="update",i="delete",a="reverse",s="shuffle",c=Symbol("observable-meta-key"),l={async:1},u={path:1,pathsOf:1,pathsFrom:1},f={[c]:{value:null},observe:{value:function(e,t){if("function"!=typeof e)throw new Error(`observer MUST be a function, got '${e}'`);const r=this[c].observers;if(r.some((t=>t[0]===e)))console.warn("observer may be bound to an observable only once; will NOT rebind");else{let n;n=t?function(e){const t={};if(void 0!==e.path){if("string"!=typeof e.path||""===e.path)throw new Error('"path" option, if/when provided, MUST be a non-empty string');t.path=e.path}if(void 0!==e.pathsOf){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if("string"!=typeof e.pathsOf)throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');t.pathsOf=e.pathsOf.split(".").filter((e=>e))}if(void 0!==e.pathsFrom){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf"  option/s');if("string"!=typeof e.pathsFrom||""===e.pathsFrom)throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');t.pathsFrom=e.pathsFrom}const r=Object.keys(e).filter((e=>!u.hasOwnProperty(e)));if(r.length)throw new Error(`'${r.join(", ")}' is/are not a valid observer option/s`);return t}(t):{},r.push([e,n])}}},unobserve:{value:function(){const e=this[c].observers;let t=e.length;if(t){let r=arguments.length;if(r)for(;r--;){let n=t;for(;n--;)e[n][0]===arguments[r]&&(e.splice(n,1),t--)}else e.splice(0)}}}},p=function(e,t){f[c].value=t;const r=Object.defineProperties({},f);for(const n of Object.keys(e))r[n]=b(e[n],n,t);return r},d=function(e,t){let r=0,n=e.length;f[c].value=t;const o=Object.defineProperties(new Array(n),f);for(;r<n;r++)o[r]=b(e[r],r,t);return o},h=function(e,t){return f[c].value=t,Object.defineProperties(e,f),e},g=function(e,t){let r=t;if(e.path){const n=e.path;r=t.filter((e=>e.path.join(".")===n))}else if(e.pathsOf){const n=e.pathsOf;r=t.filter((e=>e.path.length===n.length+1||e.path.length===n.length&&(e.type===a||e.type===s)))}else if(e.pathsFrom){const n=e.pathsFrom;r=t.filter((e=>e.path.join(".").startsWith(n)))}return r},y=function(e,t){try{e(t)}catch(r){console.error(`failed to notify listener ${e} with ${t}`,r)}},m=function(){const e=this.batches;this.batches=null;for(const[t,r]of e)y(t,r)},v=function(e,t){let r,n,o,i,a,s,c,l=e;const u=t.length;do{for(r=l.observers,a=r.length;a--;)if([n,o]=r[a],i=g(o,t),i.length)if(l.options.async){l.batches||(l.batches=[],queueMicrotask(m.bind(l)));let e=l.batches.find((e=>e[0]===n));e||(e=[n,[]],l.batches.push(e)),Array.prototype.push.apply(e[1],i)}else y(n,i);let e;if(l.parent){e=new Array(u);for(let r=0;r<u;r++)c=t[r],s=[l.ownKey,...c.path],e[r]={type:c.type,path:s,value:c.value,oldValue:c.oldValue,object:c.object};t=e,l=l.parent}else l=null}while(l)},b=function(e,t,r){return e&&"object"==typeof e?Array.isArray(e)?new M({target:e,ownKey:t,parent:r}).proxy:ArrayBuffer.isView(e)?new j({target:e,ownKey:t,parent:r}).proxy:e instanceof Date||e instanceof Blob||e instanceof Error?e:new E({target:e,ownKey:t,parent:r}).proxy:e},w=function(){const e=this[c],t=e.target;let r,n,o;for(t.reverse(),r=0,n=t.length;r<n;r++)if(o=t[r],o&&"object"==typeof o){const e=o[c];e&&(e.ownKey=r)}return v(e,[{type:a,path:[],object:this}]),this},_=function(e){const t=this[c],r=t.target;let n,o,i;for(r.sort(e),n=0,o=r.length;n<o;n++)if(i=r[n],i&&"object"==typeof i){const e=i[c];e&&(e.ownKey=n)}return v(t,[{type:s,path:[],object:this}]),this},P=function(e,t,r){const i=this[c],a=i.target,s=[],l=a.length,u=a.slice(0);if(t=void 0===t?0:t<0?Math.max(l+t,0):Math.min(t,l),r=void 0===r?l:r<0?Math.max(l+r,0):Math.min(r,l),t<l&&r>t){let l;a.fill(e,t,r);for(let e,f,p=t;p<r;p++)e=a[p],a[p]=b(e,p,i),u.hasOwnProperty(p)?(f=u[p],f&&"object"==typeof f&&(l=f[c],l&&(f=l.detach())),s.push({type:o,path:[p],value:a[p],oldValue:f,object:this})):s.push({type:n,path:[p],value:a[p],object:this});v(i,s)}return this},x=function(e,t,r){const n=this[c],i=n.target,a=i.length;e=e<0?Math.max(a+e,0):e,t=void 0===t?0:t<0?Math.max(a+t,0):Math.min(t,a),r=void 0===r?a:r<0?Math.max(a+r,0):Math.min(r,a);const s=Math.min(r-t,a-e);if(e<a&&e!==t&&s>0){const a=i.slice(0),l=[];i.copyWithin(e,t,r);for(let t,r,u,f=e;f<e+s;f++)t=i[f],t&&"object"==typeof t&&(t=b(t,f,n),i[f]=t),r=a[f],r&&"object"==typeof r&&(u=r[c],u&&(r=u.detach())),"object"!=typeof t&&t===r||l.push({type:o,path:[f],value:t,oldValue:r,object:this});v(n,l)}return this},O={pop:function(){const e=this[c],t=e.target,r=t.length-1;let n=t.pop();if(n&&"object"==typeof n){const e=n[c];e&&(n=e.detach())}return v(e,[{type:i,path:[r],oldValue:n,object:this}]),n},push:function(){const e=this[c],t=e.target,r=arguments.length,o=new Array(r),i=t.length;for(let t=0;t<r;t++)o[t]=b(arguments[t],i+t,e);const a=Reflect.apply(t.push,t,o),s=[];for(let e=i,r=t.length;e<r;e++)s[e-i]={type:n,path:[e],value:t[e],object:this};return v(e,s),a},shift:function(){const e=this[c],t=e.target;let r,n,o,a,s;for(r=t.shift(),r&&"object"==typeof r&&(s=r[c],s&&(r=s.detach())),n=0,o=t.length;n<o;n++)a=t[n],a&&"object"==typeof a&&(s=a[c],s&&(s.ownKey=n));return v(e,[{type:i,path:[0],oldValue:r,object:this}]),r},unshift:function(){const e=this[c],t=e.target,r=arguments.length,o=new Array(r);for(let t=0;t<r;t++)o[t]=b(arguments[t],t,e);const i=Reflect.apply(t.unshift,t,o);for(let e,r=0,n=t.length;r<n;r++)if(e=t[r],e&&"object"==typeof e){const t=e[c];t&&(t.ownKey=r)}const a=o.length,s=new Array(a);for(let e=0;e<a;e++)s[e]={type:n,path:[e],value:t[e],object:this};return v(e,s),i},reverse:w,sort:_,fill:P,copyWithin:x,splice:function(){const e=this[c],t=e.target,r=arguments.length,a=new Array(r),s=t.length;for(let t=0;t<r;t++)a[t]=b(arguments[t],t,e);const l=0===r?0:a[0]<0?s+a[0]:a[0],u=r<2?s-l:a[1],f=Math.max(r-2,0),p=Reflect.apply(t.splice,t,a),d=t.length;let h,g,y,m;for(let e,r=0;r<d;r++)e=t[r],e&&"object"==typeof e&&(h=e[c],h&&(h.ownKey=r));for(g=0,y=p.length;g<y;g++)m=p[g],m&&"object"==typeof m&&(h=m[c],h&&(p[g]=h.detach()));const w=[];let _;for(_=0;_<u;_++)_<f?w.push({type:o,path:[l+_],value:t[l+_],oldValue:p[_],object:this}):w.push({type:i,path:[l+_],oldValue:p[_],object:this});for(;_<f;_++)w.push({type:n,path:[l+_],value:t[l+_],object:this});return v(e,w),p}},C={reverse:w,sort:_,fill:P,copyWithin:x,set:function(e,t){const r=this[c],n=r.target,i=e.length,a=n.slice(0);t=t||0,n.set(e,t);const s=new Array(i);for(let e=t;e<i+t;e++)s[e-t]={type:o,path:[e],value:n[e],oldValue:a[e],object:this};v(r,s)}};class S{constructor(e,t){const{target:r,parent:n,ownKey:o}=e;n&&void 0!==o?(this.parent=n,this.ownKey=o):(this.parent=null,this.ownKey=null);const i=t(r,this);this.observers=[],this.revocable=Proxy.revocable(i,this),this.proxy=this.revocable.proxy,this.target=i,this.options=this.processOptions(e.options)}processOptions(e){if(e){if("object"!=typeof e)throw new Error(`Observable options if/when provided, MAY only be an object, got '${e}'`);const t=Object.keys(e).filter((e=>!l.hasOwnProperty(e)));if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},e)}return{}}detach(){return this.parent=null,this.target}set(e,t,r){let i=e[t];if(r!==i){const a=b(r,t,this);if(e[t]=a,i&&"object"==typeof i){const e=i[c];e&&(i=e.detach())}const s=void 0===i?[{type:n,path:[t],value:a,object:this.proxy}]:[{type:o,path:[t],value:a,oldValue:i,object:this.proxy}];v(this,s)}return!0}deleteProperty(e,t){let r=e[t];if(delete e[t],r&&"object"==typeof r){const e=r[c];e&&(r=e.detach())}const n=[{type:i,path:[t],oldValue:r,object:this.proxy}];return v(this,n),!0}}class E extends S{constructor(e){super(e,p)}}class M extends S{constructor(e){super(e,d)}get(e,t){return O.hasOwnProperty(t)?O[t]:e[t]}}class j extends S{constructor(e){super(e,h)}get(e,t){return C.hasOwnProperty(t)?C[t]:e[t]}}class k{constructor(){throw new Error('Observable MAY NOT be created via constructor, see "Observable.from" API')}static from(e,t){if(e&&"object"==typeof e){if(e[c])return e;if(Array.isArray(e))return new M({target:e,ownKey:null,parent:null,options:t}).proxy;if(ArrayBuffer.isView(e))return new j({target:e,ownKey:null,parent:null,options:t}).proxy;if(e instanceof Date||e instanceof Blob||e instanceof Error)throw new Error(`${e} found to be one of a on-observable types`);return new E({target:e,ownKey:null,parent:null,options:t}).proxy}throw new Error("observable MAY ONLY be created from a non-null object")}static isObservable(e){return!(!e||!e[c])}}Object.freeze(k)},1233:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LRUMap:()=>i});const n=Symbol("newer"),o=Symbol("older");function i(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}function a(e,t){this.key=e,this.value=t,this[n]=void 0,this[o]=void 0}function s(e){this.entry=e}function c(e){this.entry=e}function l(e){this.entry=e}i.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e[n]&&(e===this.oldest&&(this.oldest=e[n]),e[n][o]=e[o]),e[o]&&(e[o][n]=e[n]),e[n]=void 0,e[o]=this.newest,this.newest&&(this.newest[n]=e),this.newest=e)},i.prototype.assign=function(e){let t,r=this.limit||Number.MAX_VALUE;this._keymap.clear();let i=e[Symbol.iterator]();for(let e=i.next();!e.done;e=i.next()){let i=new a(e.value[0],e.value[1]);if(this._keymap.set(i.key,i),t?(t[n]=i,i[o]=t):this.oldest=i,t=i,0==r--)throw new Error("overflow")}this.newest=t,this.size=this._keymap.size},i.prototype.get=function(e){var t=this._keymap.get(e);if(t)return this._markEntryAsUsed(t),t.value},i.prototype.set=function(e,t){var r=this._keymap.get(e);return r?(r.value=t,this._markEntryAsUsed(r),this):(this._keymap.set(e,r=new a(e,t)),this.newest?(this.newest[n]=r,r[o]=this.newest):this.oldest=r,this.newest=r,++this.size,this.size>this.limit&&this.shift(),this)},i.prototype.shift=function(){var e=this.oldest;if(e)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[o]=void 0):(this.oldest=void 0,this.newest=void 0),e[n]=e[o]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]},i.prototype.find=function(e){let t=this._keymap.get(e);return t?t.value:void 0},i.prototype.has=function(e){return this._keymap.has(e)},i.prototype.delete=function(e){var t=this._keymap.get(e);if(t)return this._keymap.delete(t.key),t[n]&&t[o]?(t[o][n]=t[n],t[n][o]=t[o]):t[n]?(t[n][o]=void 0,this.oldest=t[n]):t[o]?(t[o][n]=void 0,this.newest=t[o]):this.oldest=this.newest=void 0,this.size--,t.value},i.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[n],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let e=this.entry;return e?(this.entry=e[n],{done:!1,value:e.key}):{done:!0,value:void 0}},l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){let e=this.entry;return e?(this.entry=e[n],{done:!1,value:e.value}):{done:!0,value:void 0}},i.prototype.keys=function(){return new c(this.oldest)},i.prototype.values=function(){return new l(this.oldest)},i.prototype.entries=function(){return this},i.prototype[Symbol.iterator]=function(){return new s(this.oldest)},i.prototype.forEach=function(e,t){"object"!=typeof t&&(t=this);let r=this.oldest;for(;r;)e.call(t,r.value,r.key,this),r=r[n]},i.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,r=this.oldest;r;)e[t++]={key:r.key,value:r.value},r=r[n];return e},i.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t[n])&&(e+=" < ");return e}},7008:(e,t,r)=>{"use strict";function n(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,o,i,a){return n((s=n(n(t,e),n(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function i(e,t,r,n,i,a,s){return o(t&r|~t&n,e,t,i,a,s)}function a(e,t,r,n,i,a,s){return o(t&n|r&~n,e,t,i,a,s)}function s(e,t,r,n,i,a,s){return o(t^r^n,e,t,i,a,s)}function c(e,t,r,n,i,a,s){return o(r^(t|~n),e,t,i,a,s)}function l(e,t){var r,o,l,u,f;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,d=-271733879,h=-1732584194,g=271733878;for(r=0;r<e.length;r+=16)o=p,l=d,u=h,f=g,p=i(p,d,h,g,e[r],7,-680876936),g=i(g,p,d,h,e[r+1],12,-389564586),h=i(h,g,p,d,e[r+2],17,606105819),d=i(d,h,g,p,e[r+3],22,-1044525330),p=i(p,d,h,g,e[r+4],7,-176418897),g=i(g,p,d,h,e[r+5],12,1200080426),h=i(h,g,p,d,e[r+6],17,-1473231341),d=i(d,h,g,p,e[r+7],22,-45705983),p=i(p,d,h,g,e[r+8],7,1770035416),g=i(g,p,d,h,e[r+9],12,-1958414417),h=i(h,g,p,d,e[r+10],17,-42063),d=i(d,h,g,p,e[r+11],22,-1990404162),p=i(p,d,h,g,e[r+12],7,1804603682),g=i(g,p,d,h,e[r+13],12,-40341101),h=i(h,g,p,d,e[r+14],17,-1502002290),p=a(p,d=i(d,h,g,p,e[r+15],22,1236535329),h,g,e[r+1],5,-165796510),g=a(g,p,d,h,e[r+6],9,-1069501632),h=a(h,g,p,d,e[r+11],14,643717713),d=a(d,h,g,p,e[r],20,-373897302),p=a(p,d,h,g,e[r+5],5,-701558691),g=a(g,p,d,h,e[r+10],9,38016083),h=a(h,g,p,d,e[r+15],14,-660478335),d=a(d,h,g,p,e[r+4],20,-405537848),p=a(p,d,h,g,e[r+9],5,568446438),g=a(g,p,d,h,e[r+14],9,-1019803690),h=a(h,g,p,d,e[r+3],14,-187363961),d=a(d,h,g,p,e[r+8],20,1163531501),p=a(p,d,h,g,e[r+13],5,-1444681467),g=a(g,p,d,h,e[r+2],9,-51403784),h=a(h,g,p,d,e[r+7],14,1735328473),p=s(p,d=a(d,h,g,p,e[r+12],20,-1926607734),h,g,e[r+5],4,-378558),g=s(g,p,d,h,e[r+8],11,-2022574463),h=s(h,g,p,d,e[r+11],16,1839030562),d=s(d,h,g,p,e[r+14],23,-35309556),p=s(p,d,h,g,e[r+1],4,-1530992060),g=s(g,p,d,h,e[r+4],11,1272893353),h=s(h,g,p,d,e[r+7],16,-155497632),d=s(d,h,g,p,e[r+10],23,-1094730640),p=s(p,d,h,g,e[r+13],4,681279174),g=s(g,p,d,h,e[r],11,-358537222),h=s(h,g,p,d,e[r+3],16,-722521979),d=s(d,h,g,p,e[r+6],23,76029189),p=s(p,d,h,g,e[r+9],4,-640364487),g=s(g,p,d,h,e[r+12],11,-421815835),h=s(h,g,p,d,e[r+15],16,530742520),p=c(p,d=s(d,h,g,p,e[r+2],23,-995338651),h,g,e[r],6,-198630844),g=c(g,p,d,h,e[r+7],10,1126891415),h=c(h,g,p,d,e[r+14],15,-1416354905),d=c(d,h,g,p,e[r+5],21,-57434055),p=c(p,d,h,g,e[r+12],6,1700485571),g=c(g,p,d,h,e[r+3],10,-1894986606),h=c(h,g,p,d,e[r+10],15,-1051523),d=c(d,h,g,p,e[r+1],21,-2054922799),p=c(p,d,h,g,e[r+8],6,1873313359),g=c(g,p,d,h,e[r+15],10,-30611744),h=c(h,g,p,d,e[r+6],15,-1560198380),d=c(d,h,g,p,e[r+13],21,1309151649),p=c(p,d,h,g,e[r+4],6,-145523070),g=c(g,p,d,h,e[r+11],10,-1120210379),h=c(h,g,p,d,e[r+2],15,718787259),d=c(d,h,g,p,e[r+9],21,-343485551),p=n(p,o),d=n(d,l),h=n(h,u),g=n(g,f);return[p,d,h,g]}function u(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function f(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){var t,r,n="0123456789abcdef",o="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),o+=n.charAt(t>>>4&15)+n.charAt(15&t);return o}function d(e){return unescape(encodeURIComponent(e))}function h(e){return function(e){return u(l(f(e),8*e.length))}(d(e))}function g(e,t){return function(e,t){var r,n,o=f(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=l(o,8*e.length)),r=0;r<16;r+=1)i[r]=909522486^o[r],a[r]=1549556828^o[r];return n=l(i.concat(f(t)),512+8*t.length),u(l(a.concat(n),640))}(d(e),d(t))}function y(e,t,r){return t?r?g(t,e):p(g(t,e)):r?h(e):p(h(e))}r.r(t),r.d(t,{md5:()=>y})},3428:()=>{ArrayBuffer.transfer||(ArrayBuffer.transfer=function(e,t){e=Object(e);var r=new ArrayBuffer(t);if(!(e instanceof ArrayBuffer&&r instanceof ArrayBuffer))throw new TypeError("Source and destination must be ArrayBuffer instances");if(r.byteLength>=e.byteLength){var n=0,o=e.byteLength;[8,4,2,1].forEach((function(t){if(o>=t){var i=function(e,t,r,n,o){var i=Uint8Array;switch(e){case 8:i=Float64Array;break;case 4:i=Float32Array;break;case 2:i=Uint16Array;break;default:i=Uint8Array}for(var a=new i(t,n,Math.trunc(o/e)),s=new i(r,n,Math.trunc(o/e)),c=0;c<s.length;c++)s[c]=a[c];return{nextOffset:a.byteOffset+a.byteLength,leftBytes:t.byteLength-(a.byteOffset+a.byteLength)}}(t,e,r,n,o);n=i.nextOffset,o=i.leftBytes}}))}return r})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=109;var o=n(7322);e.exports=o})()},11403:(e,t,r)=>{(()=>{"use strict";var t={1320:(e,t,r)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(n="".concat("vtxf-renderer","/").concat(r.j))&&void 0!==n?n:"-",i="vtxf-renderer",a=((Date.now()-1730096355e3)/36e5).toFixed(1),s="%c ".concat(o,"%c ").concat("0.3.40",".").concat("34978d3b3ddb48ccff0b434d304d341013b248b2".slice(0,8),".").concat("2024-10-28T06:19:15.000Z"," (").concat(a,")\n%c").concat(i?i+"\n":"","").concat(o,"").concat("vtxf","\n%c ");t.copyright=Object.seal({get owner(){return"vtxf"},get ownerlink(){return"www.czmtoy.com"},get info(){return s},get date(){return"2024-10-28T06:19:15.000Z"},get author(){return"vtxf"},get version(){return"0.3.40"},get name(){return"vtxf-renderer"},get commitId(){return"34978d3b3ddb48ccff0b434d304d341013b248b2"},print:function(){!force&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},3812:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingSphere=void 0;var n=r(380),o=r(8429),i=r(4935),a=r(67),s=r(7550);!function(e){function t(e,t){return t=t||(0,i.createNumbers)(3),s.Vector.set(t,e[0],e[1],e[2]),t}function r(e){return e[3]}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t){e[3]=t}e.getCenter=t,e.getRadius=r,e.setCenter=c,e.setRadius=l,e.fromCenterRadius=function(e,t,r){return s.Vector.set(r,e[0],e[1],e[2],t)};var u=(0,i.createNumbers)(3),f=(0,i.createNumbers)(3);e.intersectPlane=function(e,o){var i=t(e,u),c=r(e),l=a.Plane.getNormal(o,f),p=s.Vector.dot(l,i)+a.Plane.getDistance(o);return p<-c?n.Intersect.OUTSIDE:p<c?n.Intersect.INTERSECTING:n.Intersect.INSIDE};var p=(0,i.createNumbers)(3);e.transform=function(e,n,a){a=a||(0,i.createNumbers)(4);var s=t(e,p),u=r(e);return o.Matrix4.affineMultiplyByPoint(n,s,s),u*=o.Matrix4.getMaximumScale(n),c(a,s),l(a,u),a};var d=(0,i.createNumbers)(3),h=(0,i.createNumbers)(3),g=(0,i.createNumbers)(3),y=(0,i.createNumbers)(3);e.union=function(e,t,r){r=r||(0,i.createNumbers)(4);var n=s.Vector.set(d,e[0],e[1],e[2]),o=e[3],a=s.Vector.set(h,t[0],t[1],t[2]),c=t[3],l=s.Vector.subtract(a,n,g),u=s.Vector.magnitude(l);if(o>=u+c)return s.Vector.clone(e,r),r;if(c>=u+o)return s.Vector.clone(t,r),r;var f=.5*(o+u+c),p=s.Vector.multiplyByScalar(l,(-o+f)/u,y);return s.Vector.add(p,n,p),s.Vector.set(r,p[0],p[1],p[2],f),r};var m=(0,i.createNumbers)(3);e.fromCornerPoints=function(e,t,r){var n=s.Vector.lerp(e,t,.5,m),o=s.Vector.distance(n,t);return s.Vector.set(r,n[0],n[1],n[2],o)}}(t.BoundingSphere||(t.BoundingSphere={}))},3280:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._getCullingVolumeFromProjectionMatrix=void 0;var i=o(r(6568)),a=r(4935),s=r(7550);function c(e,t,r){return e[4*(r-1)+(t-1)]}t._getCullingVolumeFromProjectionMatrix=function(e,t){var r,o,l=e;if(6!==(t=t||new i.default([(0,a.createNumbers)(4),(0,a.createNumbers)(4),(0,a.createNumbers)(4),(0,a.createNumbers)(4),(0,a.createNumbers)(4),(0,a.createNumbers)(4)])).planes.length)throw new Error("!target.planes || target.planes.length !== 6");s.Vector.set(t.planes[0],c(l,4,1)+c(l,1,1),c(l,4,2)+c(l,1,2),c(l,4,3)+c(l,1,3),c(l,4,4)+c(l,1,4)),s.Vector.set(t.planes[1],c(l,4,1)-c(l,1,1),c(l,4,2)-c(l,1,2),c(l,4,3)-c(l,1,3),c(l,4,4)-c(l,1,4)),s.Vector.set(t.planes[2],c(l,4,1)+c(l,2,1),c(l,4,2)+c(l,2,2),c(l,4,3)+c(l,2,3),c(l,4,4)+c(l,2,4)),s.Vector.set(t.planes[3],c(l,4,1)-c(l,2,1),c(l,4,2)-c(l,2,2),c(l,4,3)-c(l,2,3),c(l,4,4)-c(l,2,4)),s.Vector.set(t.planes[4],c(l,4,1)+c(l,3,1),c(l,4,2)+c(l,3,2),c(l,4,3)+c(l,3,3),c(l,4,4)+c(l,3,4)),s.Vector.set(t.planes[5],c(l,4,1)-c(l,3,1),c(l,4,2)-c(l,3,2),c(l,4,3)-c(l,3,3),c(l,4,4)-c(l,3,4));try{for(var u=n(t.planes),f=u.next();!f.done;f=u.next()){var p=f.value;s.Vector.normalize(p,p)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return t}},6568:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CullingVolume=void 0;var o=r(3812),i=r(380),a=r(6224),s=r(67),c=r(3280),l=function(){function e(e){void 0===e&&(e=[]),this.planes=e}return e.fromProjectionMatrix=function(e,t){return(0,c._getCullingVolumeFromProjectionMatrix)(e,t)},e.prototype.computeVisibilityWithPlaneMask=function(t,r,n){if(n===e.MASK_OUTSIDE||n===e.MASK_INSIDE)return n;var s=e.MASK_INSIDE,c=this.planes;if(c)for(var l=0,u=c.length;l<u;++l){var f=l<31?1<<l:0;if(!(l<31)||n&f){var p=void 0;if("box"===t?p=a.OrientedBoundingBox.intersectPlane(r,c[l]):"sphere"===t&&(p=o.BoundingSphere.intersectPlane(r,c[l])),p===i.Intersect.OUTSIDE)return e.MASK_OUTSIDE;p===i.Intersect.INTERSECTING&&(s|=f)}}return s},e.prototype.transform=function(e){var t,r;try{for(var o=n(this.planes),i=o.next();!i.done;i=o.next()){var a=i.value;s.Plane.transform(a,e,a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},e.MASK_OUTSIDE=4294967295,e.MASK_INSIDE=0,e.MASK_INDETERMINATE=2147483647,e}();t.CullingVolume=l,t.default=l},380:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Intersect=void 0,(r=t.Intersect||(t.Intersect={})).OUTSIDE=-1,r.INTERSECTING=0,r.INSIDE=1},7285:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InverseViewMatrix=void 0;var n=r(7550),o=function(){function e(){}return e.getDirection=function(e,t){return n.Vector.set(t,-e[8],-e[9],-e[10])},e.getRight=function(e,t){return n.Vector.set(t,e[0],e[1],e[2])},e.getUp=function(e,t){return n.Vector.set(t,e[4],e[5],e[6])},e.getEye=function(e,t){return n.Vector.set(t,e[12],e[13],e[14])},e}();t.InverseViewMatrix=o},4831:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix3=void 0;var n,o=r(4935),i=r(7550);(n=t.Matrix3||(t.Matrix3={})).multiply=function(e,t,r){var n=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],i=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],a=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],s=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],c=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],l=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],u=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],f=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],p=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return(r=r||(0,o.createNumbers)(9))[0]=n,r[1]=i,r[2]=a,r[3]=s,r[4]=c,r[5]=l,r[6]=u,r[7]=f,r[8]=p,r},n.multiplyByVector=function(e,t,r){var n=t[0],o=t[1],a=t[2],s=e[0]*n+e[3]*o+e[6]*a,c=e[1]*n+e[4]*o+e[7]*a,l=e[2]*n+e[5]*o+e[8]*a;return i.Vector.set(r,s,c,l)},n.fromQuaternion=function(e,t){var r=e[0]*e[0],n=e[0]*e[1],a=e[0]*e[2],s=e[0]*e[3],c=e[1]*e[1],l=e[1]*e[2],u=e[1]*e[3],f=e[2]*e[2],p=e[2]*e[3],d=e[3]*e[3],h=r-c-f+d,g=2*(n-p),y=2*(a+u),m=2*(n+p),v=-r+c-f+d,b=2*(l-s),w=2*(a-u),_=2*(l+s),P=-r-c+f+d;return t=t||(0,o.createNumbers)(9),i.Vector.set(t,h,m,w,g,v,_,y,b,P),t},n.getScale=function(e,t){return(t=t||(0,o.createNumbers)(3))[0]=i.Vector.magnitude([e[0],e[1],e[2]]),t[1]=i.Vector.magnitude([e[3],e[4],e[5]]),t[2]=i.Vector.magnitude([e[6],e[7],e[8]]),t},n.getElementIndex=function(e,t){return 3*e+t},n.IDENTITY=Object.freeze([1,0,0,0,1,0,0,0,1]),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN0ROW2=2,n.COLUMN1ROW0=3,n.COLUMN1ROW1=4,n.COLUMN1ROW2=5,n.COLUMN2ROW0=6,n.COLUMN2ROW1=7,n.COLUMN2ROW2=8},5924:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._fromDirectionUpRightAndTranslation=t._fromMatrix3AndTranslation=t._fromTranslation=void 0;var n=r(4935),o=r(7550),i=r(1597);t._fromTranslation=function(e,t){return(t=t||(0,n.createNumbers)(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},t._fromMatrix3AndTranslation=function(e,t,r){return t=t||i.Vector3.ZERO,(r=r||(0,n.createNumbers)(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=0,r[4]=e[3],r[5]=e[4],r[6]=e[5],r[7]=0,r[8]=e[6],r[9]=e[7],r[10]=e[8],r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r},t._fromDirectionUpRightAndTranslation=function(e,t,r,n,a){var s=null!=n?n:i.Vector3.ZERO;return o.Vector.set(a,r[0],r[1],r[2],0,t[0],t[1],t[2],0,-e[0],-e[1],-e[2],0,s[0],s[1],s[2],1)}},6831:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._inverseTransformation=void 0;var n=r(4935);t._inverseTransformation=function(e,t){var r=e[0],o=e[1],i=e[2],a=e[4],s=e[5],c=e[6],l=e[8],u=e[9],f=e[10],p=e[12],d=e[13],h=e[14],g=-r*p-o*d-i*h,y=-a*p-s*d-c*h,m=-l*p-u*d-f*h;return(t=t||(0,n.createNumbers)(16))[0]=r,t[1]=a,t[2]=l,t[3]=0,t[4]=o,t[5]=s,t[6]=u,t[7]=0,t[8]=i,t[9]=c,t[10]=f,t[11]=0,t[12]=g,t[13]=y,t[14]=m,t[15]=1,t}},5056:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t._getMaximumScale=t._setScale=t._getScale=void 0;var i=r(4935),a=r(7550),s=r(2769);function c(e,t){return(t=t||(0,i.createNumbers)(3))[0]=a.Vector.magnitude([e[0],e[1],e[2]]),t[1]=a.Vector.magnitude([e[4],e[5],e[6]]),t[2]=a.Vector.magnitude([e[8],e[9],e[10]]),t}t._getScale=c;var l=(0,i.createNumbers)(3);t._setScale=function(e,t,r){var n=c(e,l),o=a.Vector.divide(t,n,l);return(0,s._multiplyByScale)(e,o,r)};var u=(0,i.createNumbers)(3);t._getMaximumScale=function(e){var t=c(e,u);return Math.max.apply(Math,o([],n(a.Vector.itr(t)),!1))}},3569:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setColumn=t._getColumn=void 0;var n=r(4935),o=r(7550);t._getColumn=function(e,t,r){if(t<0||t>3)throw new Error("index < 0 || index > 3");var o=4*t,i=e[o],a=e[o+1],s=e[o+2],c=e[o+3];return(r=r||(0,n.createNumbers)(4))[0]=i,r[1]=a,r[2]=s,r[3]=c,r},t._setColumn=function(e,t,r,n){if(t<0||t>3)throw new Error("index < 0 || index > 3");var i=4*t;return(n=o.Vector.clone(e,n))[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n}},8429:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix4=void 0;var i=r(4831),a=r(4935),s=r(2289),c=r(7550),l=r(1597),u=r(3569),f=r(3309),p=r(2769),d=r(4069),h=r(3594),g=r(2406),y=r(5924),m=r(6831),v=r(5056);!function(e){function t(e,t,r){return(0,y._fromMatrix3AndTranslation)(e,t,r)}e.getElementIndex=function(e,t){if(e<0||e>3||t<0||t>3)throw new Error("column < 0 || column > 3 || row < 0 || row > 3");return 4*e+t},e.getColumn=function(e,t,r){return(0,u._getColumn)(e,t,r)},e.setColumn=function(e,t,r,n){return(0,u._setColumn)(e,t,r,n)},e.getRow=function(e,t,r){return(0,d._getRow)(e,t,r)},e.setRow=function(e,t,r,n){(0,d._setRow)(e,t,r,n)},e.getTranslation=function(e,t){return(0,h._getTranslation)(e,t)},e.setTranslation=function(e,t,r){return(0,h._setTranslation)(e,t,r)},e.getScale=function(e,t){return(0,v._getScale)(e,t)},e.setScale=function(e,t,r){return(0,v._setScale)(e,t,r)},e.getMaximumScale=function(e){return(0,v._getMaximumScale)(e)},e.multiply=function(e,t,r){return(0,p._multiply)(e,t,r)},e.multiplyTransformation=function(e,t,r){return(0,p._multiplyTransformation)(e,t,r)},e.multiplyByMatrix3=function(e,t,r){return(0,p._multiplyByMatrix3)(e,t,r)},e.multiplyByTranslation=function(e,t,r){return(0,p._multiplyByTranslation)(e,t,r)},e.multiplyByUniformScale=function(e,t,r){(0,p._multiplyByUniformScale)(e,t,r)},e.multiplyByScale=function(e,t,r){return(0,p._multiplyByScale)(e,t,r)},e.multiplyByVector=function(e,t,r){return(0,p._multiplyByVector)(e,t,r)},e.multiplyByPointAsVector=function(e,t,r){return(0,p._multiplyByPointAsVector)(e,t,r)},e.affineMultiplyByPoint=function(e,t,r){return(0,p._affineMultiplyByPoint)(e,t,r)},e.multiplyByPoint=function(e,t,r){return(0,p._multiplyByPoint)(e,t,r)},e.continuousMultiply=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return p._continuousMultiply.apply(void 0,o([e,t],n(r),!1))},e.transpose=function(e,t){return(0,g._transpose)(e,t)},e.getMatrix3=function(e,t){return(t=t||(0,a.createNumbers)(9))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.setMatrix3=function(t,r){(r=r||c.Vector.clone(e.IDENTITY))[0]=t[0],r[1]=t[1],r[2]=t[2],r[4]=t[3],r[5]=t[4],r[6]=t[5],r[8]=t[6],r[9]=t[7],r[10]=t[8]},e.inverse=function(e,t){return(0,f.inverse)(e,t)},e.inverseTransformation=function(e,t){return(0,m._inverseTransformation)(e,t)},e.IDENTITY=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.ZERO=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.fromTranslation=function(e,t){return(0,y._fromTranslation)(e,t)},e.fromMatrix3AndTranslation=t;var r=(0,a.createNumbers)(9);e.fromRotateQuatAndTranslation=function(e,n,o){return i.Matrix3.fromQuaternion(e,r),t(r,n,o)},e.fromDirectionUpRightAndTranslation=function(e,t,r,n,o){return(0,y._fromDirectionUpRightAndTranslation)(e,t,r,n,o)},e.fromScale=function(e,t){return c.Vector.set(t,e[0],0,0,0,0,e[1],0,0,0,0,e[2],0,0,0,0,1)};var b=s.Quaternion.fromAxisAngle([1,0,0],.5*Math.PI),w=i.Matrix3.fromQuaternion(b);e.Z2NY=e.fromMatrix3AndTranslation(w);var _=(0,a.createNumbers)(4),P=(0,a.createNumbers)(9);e.fromAxisAngle=function(t,r,n){return s.Quaternion.fromAxisAngle(t,r,_),i.Matrix3.fromQuaternion(_,P),e.fromMatrix3AndTranslation(P,l.Vector3.ZERO,n)}}(t.Matrix4||(t.Matrix4={}))},3309:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inverse=void 0;var n=r(8429),o=r(4935),i=r(7550),a=(0,o.createNumbers)(9),s=(0,o.createNumbers)(9),c=(0,o.createNumbers)(4),l=(0,o.createNumbers)(4,0,0,0,1);t.inverse=function(e,t){var r=e[0],u=e[4],f=e[8],p=e[12],d=e[1],h=e[5],g=e[9],y=e[13],m=e[2],v=e[6],b=e[10],w=e[14],_=e[3],P=e[7],x=e[11],O=e[15],C=b*O,S=w*x,E=v*O,M=w*P,j=v*x,k=b*P,T=m*O,I=w*_,F=m*x,A=b*_,L=m*P,R=v*_,D=C*h+M*g+j*y-(S*h+E*g+k*y),B=S*d+T*g+A*y-(C*d+I*g+F*y),N=E*d+I*h+L*y-(M*d+T*h+R*y),z=k*d+F*h+R*g-(j*d+A*h+L*g),G=S*u+E*f+k*p-(C*u+M*f+j*p),V=C*r+I*f+F*p-(S*r+T*f+A*p),q=M*r+T*u+R*p-(E*r+I*u+L*p),U=j*r+A*u+L*f-(k*r+F*u+R*f),H=(C=f*y)*P+(M=p*h)*x+(j=u*g)*O-((S=p*g)*P+(E=u*y)*x+(k=f*h)*O),W=S*_+(T=r*y)*x+(A=f*d)*O-(C*_+(I=p*d)*x+(F=r*g)*O),J=E*_+I*P+(L=r*h)*O-(M*_+T*P+(R=u*d)*O),Y=k*_+F*P+R*x-(j*_+A*P+L*x),X=E*b+k*w+S*v-(j*w+C*v+M*b),Z=F*w+C*m+I*b-(T*b+A*w+S*m),$=T*v+R*w+M*m-(L*w+E*m+I*v),K=L*b+j*m+A*v-(F*v+R*b+k*m),Q=r*D+u*B+f*N+p*z;if(t=t||(0,o.createNumbers)(16),Math.abs(Q)<1e-21){if(i.Vector.equalsEpsilon(n.Matrix4.getMatrix3(e,a),s,1e-7)&&i.Vector.equals(n.Matrix4.getRow(e,3,c),l))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new Error("matrix is not invertible because its determinate is zero.")}return Q=1/Q,t[0]=D*Q,t[1]=B*Q,t[2]=N*Q,t[3]=z*Q,t[4]=G*Q,t[5]=V*Q,t[6]=q*Q,t[7]=U*Q,t[8]=H*Q,t[9]=W*Q,t[10]=J*Q,t[11]=Y*Q,t[12]=X*Q,t[13]=Z*Q,t[14]=$*Q,t[15]=K*Q,t}},2769:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t._continuousMultiply=t._multiplyByPoint=t._affineMultiplyByPoint=t._multiplyByPointAsVector=t._multiplyByVector=t._multiplyByScale=t._multiplyByUniformScale=t._multiplyByTranslation=t._multiplyByMatrix3=t._multiplyTransformation=t._multiply=void 0;var o=r(4935),i=r(7550);function a(e,t,r){var n=e[0],i=e[1],a=e[2],s=e[3],c=e[4],l=e[5],u=e[6],f=e[7],p=e[8],d=e[9],h=e[10],g=e[11],y=e[12],m=e[13],v=e[14],b=e[15],w=t[0],_=t[1],P=t[2],x=t[3],O=t[4],C=t[5],S=t[6],E=t[7],M=t[8],j=t[9],k=t[10],T=t[11],I=t[12],F=t[13],A=t[14],L=t[15],R=n*w+c*_+p*P+y*x,D=i*w+l*_+d*P+m*x,B=a*w+u*_+h*P+v*x,N=s*w+f*_+g*P+b*x,z=n*O+c*C+p*S+y*E,G=i*O+l*C+d*S+m*E,V=a*O+u*C+h*S+v*E,q=s*O+f*C+g*S+b*E,U=n*M+c*j+p*k+y*T,H=i*M+l*j+d*k+m*T,W=a*M+u*j+h*k+v*T,J=s*M+f*j+g*k+b*T,Y=n*I+c*F+p*A+y*L,X=i*I+l*F+d*A+m*L,Z=a*I+u*F+h*A+v*L,$=s*I+f*F+g*A+b*L;return(r=r||(0,o.createNumbers)(16))[0]=R,r[1]=D,r[2]=B,r[3]=N,r[4]=z,r[5]=G,r[6]=V,r[7]=q,r[8]=U,r[9]=H,r[10]=W,r[11]=J,r[12]=Y,r[13]=X,r[14]=Z,r[15]=$,r}t._multiply=a,t._multiplyTransformation=function(e,t,r){var n=e[0],i=e[1],a=e[2],s=e[4],c=e[5],l=e[6],u=e[8],f=e[9],p=e[10],d=e[12],h=e[13],g=e[14],y=t[0],m=t[1],v=t[2],b=t[4],w=t[5],_=t[6],P=t[8],x=t[9],O=t[10],C=t[12],S=t[13],E=t[14],M=n*y+s*m+u*v,j=i*y+c*m+f*v,k=a*y+l*m+p*v,T=n*b+s*w+u*_,I=i*b+c*w+f*_,F=a*b+l*w+p*_,A=n*P+s*x+u*O,L=i*P+c*x+f*O,R=a*P+l*x+p*O,D=n*C+s*S+u*E+d,B=i*C+c*S+f*E+h,N=a*C+l*S+p*E+g;return(r=r||(0,o.createNumbers)(16))[0]=M,r[1]=j,r[2]=k,r[3]=0,r[4]=T,r[5]=I,r[6]=F,r[7]=0,r[8]=A,r[9]=L,r[10]=R,r[11]=0,r[12]=D,r[13]=B,r[14]=N,r[15]=1,r},t._multiplyByMatrix3=function(e,t,r){var n=e[0],i=e[1],a=e[2],s=e[4],c=e[5],l=e[6],u=e[8],f=e[9],p=e[10],d=t[0],h=t[1],g=t[2],y=t[3],m=t[4],v=t[5],b=t[6],w=t[7],_=t[8],P=n*d+s*h+u*g,x=i*d+c*h+f*g,O=a*d+l*h+p*g,C=n*y+s*m+u*v,S=i*y+c*m+f*v,E=a*y+l*m+p*v,M=n*b+s*w+u*_,j=i*b+c*w+f*_,k=a*b+l*w+p*_;return(r=r||(0,o.createNumbers)(16))[0]=P,r[1]=x,r[2]=O,r[3]=0,r[4]=C,r[5]=S,r[6]=E,r[7]=0,r[8]=M,r[9]=j,r[10]=k,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},t._multiplyByTranslation=function(e,t,r){var n=t[0],i=t[1],a=t[2],s=n*e[0]+i*e[4]+a*e[8]+e[12],c=n*e[1]+i*e[5]+a*e[9]+e[13],l=n*e[2]+i*e[6]+a*e[10]+e[14];return(r=r||(0,o.createNumbers)(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=s,r[13]=c,r[14]=l,r[15]=e[15],r};var s=(0,o.createNumbers)(3);function c(e,t,r){if(1!==e[15])throw new Error("_multiplyByScale error: it should be affine matrix!");var n=t[0],a=t[1],s=t[2];return r=r||(0,o.createNumbers)(16),1===n&&1===a&&1===s?e!==r?i.Vector.clone(e,r):e:(r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=0,r[4]=a*e[4],r[5]=a*e[5],r[6]=a*e[6],r[7]=0,r[8]=s*e[8],r[9]=s*e[9],r[10]=s*e[10],r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=1,r)}function l(e,t,r){var n=t[0],i=t[1],a=t[2],s=t[3],c=e[0]*n+e[4]*i+e[8]*a+e[12]*s,l=e[1]*n+e[5]*i+e[9]*a+e[13]*s,u=e[2]*n+e[6]*i+e[10]*a+e[14]*s,f=e[3]*n+e[7]*i+e[11]*a+e[15]*s;return(r=r||(0,o.createNumbers)(4))[0]=c,r[1]=l,r[2]=u,r[3]=f,r}t._multiplyByUniformScale=function(e,t,r){return s[0]=t,s[1]=t,s[2]=t,c(e,s,r)},t._multiplyByScale=c,t._multiplyByVector=l,t._multiplyByPointAsVector=function(e,t,r){var n=t[0],i=t[1],a=t[2],s=e[0]*n+e[4]*i+e[8]*a,c=e[1]*n+e[5]*i+e[9]*a,l=e[2]*n+e[6]*i+e[10]*a;return(r=r||(0,o.createNumbers)(3))[0]=s,r[1]=c,r[2]=l,r},t._affineMultiplyByPoint=function(e,t,r){if(1!==e[15])throw new Error("matrix[15] !== 1");var n=t[0],i=t[1],a=t[2],s=e[0]*n+e[4]*i+e[8]*a+e[12],c=e[1]*n+e[5]*i+e[9]*a+e[13],l=e[2]*n+e[6]*i+e[10]*a+e[14];return(r=r||(0,o.createNumbers)(3))[0]=s,r[1]=c,r[2]=l,r};var u=(0,o.createNumbers)(4);t._multiplyByPoint=function(e,t,r){i.Vector.set(u,t[0],t[1],t[2],1),l(e,u,u),r=r||(0,o.createNumbers)(3);var a=n(i.Vector.itr(u),4),s=a[0],c=a[1],f=a[2],p=a[3];return i.Vector.set(r,s/p,c/p,f/p),r},t._continuousMultiply=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r.length;e!==t&&i.Vector.clone(t,e);for(var s=0;s<o;++s)Array.isArray(r[s])&&"function"==typeof r[s][0]?(0,r[s][0])(e,r[s][1],e):16===r[s].length&&a(e,r[s],e);return e}},4069:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setRow=t._getRow=void 0;var n=r(4935),o=r(7550);t._getRow=function(e,t,r){if(t<0||t>3)throw new Error("index < 0 || index > 3");r=r||(0,n.createNumbers)(4);var o=e[t],i=e[t+4],a=e[t+8],s=e[t+12];return r[0]=o,r[1]=i,r[2]=a,r[3]=s,r},t._setRow=function(e,t,r,n){if(t<0||t>3)throw new Error("index < 0 || index > 3");return(n=o.Vector.clone(e,n))[t]=r[0],n[t+4]=r[1],n[t+8]=r[2],n[t+12]=r[3],n}},3594:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setTranslation=t._getTranslation=void 0;var n=r(4935);t._getTranslation=function(e,t){return(t=t||(0,n.createNumbers)(3))[0]=e[12],t[1]=e[13],t[2]=e[14],t},t._setTranslation=function(e,t,r){return e!==(r=r||(0,n.createNumbers)(16))&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[15]=e[15]),r[12]=t[0],r[13]=t[1],r[14]=t[2],r}},2406:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._transpose=void 0;var n=r(4935);t._transpose=function(e,t){var r=e[1],o=e[2],i=e[3],a=e[6],s=e[7],c=e[11];return(t=t||(0,n.createNumbers)(16))[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=a,t[10]=e[10],t[11]=e[14],t[12]=i,t[13]=s,t[14]=c,t[15]=e[15],t}},4935:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ary2Ns=t.xyzw2N4=t.xyz2N3=t.xyz2N2=t.Xyzw2Ns=t.createNumbers=void 0,t.createNumbers=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e>16)throw new Error("length > 16");for(var o=new Array(e),i=0;i<e;++i)o[i]=null!==(t=r[i])&&void 0!==t?t:0;return o};var r=function(){function e(e,t){this._xyzw=e,this._length=t}return Object.defineProperty(e.prototype,0,{get:function(){var e;return null!==(e=this._xyzw.x)&&void 0!==e?e:0},set:function(e){this._xyzw.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,1,{get:function(){var e;return null!==(e=this._xyzw.y)&&void 0!==e?e:0},set:function(e){this._xyzw.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,2,{get:function(){var e;return null!==(e=this._xyzw.z)&&void 0!==e?e:0},set:function(e){this._xyzw.z=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,3,{get:function(){var e;return null!==(e=this._xyzw.w)&&void 0!==e?e:0},set:function(e){this._xyzw.w=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),e}();t.Xyzw2Ns=r,t.xyz2N2=function(e){return new r(e,2)},t.xyz2N3=function(e){return new r(e,3)},t.xyzw2N4=function(e){return new r(e,4)};var n=function(){function e(e,t,r,n){this._array=e,this._length=t,this._start=r,this._stride=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,0,{get:function(){return this._array[this._start+0*this._stride]},set:function(e){this._array[this._start+0*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,1,{get:function(){return this._array[this._start+1*this._stride]},set:function(e){this._array[this._start+1*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,2,{get:function(){return this._array[this._start+2*this._stride]},set:function(e){this._array[this._start+2*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,3,{get:function(){return this._array[this._start+3*this._stride]},set:function(e){this._array[this._start+3*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,4,{get:function(){return this._array[this._start+4*this._stride]},set:function(e){this._array[this._start+4*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,5,{get:function(){return this._array[this._start+5*this._stride]},set:function(e){this._array[this._start+5*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,6,{get:function(){return this._array[this._start+6*this._stride]},set:function(e){this._array[this._start+6*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,7,{get:function(){return this._array[this._start+7*this._stride]},set:function(e){this._array[this._start+7*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,8,{get:function(){return this._array[this._start+8*this._stride]},set:function(e){this._array[this._start+8*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,9,{get:function(){return this._array[this._start+9*this._stride]},set:function(e){this._array[this._start+9*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,10,{get:function(){return this._array[this._start+10*this._stride]},set:function(e){this._array[this._start+10*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,11,{get:function(){return this._array[this._start+11*this._stride]},set:function(e){this._array[this._start+11*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,12,{get:function(){return this._array[this._start+12*this._stride]},set:function(e){this._array[this._start+12*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,13,{get:function(){return this._array[this._start+13*this._stride]},set:function(e){this._array[this._start+13*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,14,{get:function(){return this._array[this._start+14*this._stride]},set:function(e){this._array[this._start+14*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,15,{get:function(){return this._array[this._start+15*this._stride]},set:function(e){this._array[this._start+15*this._stride]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,16,{get:function(){return this._array[this._start+16*this._stride]},set:function(e){this._array[this._start+16*this._stride]=e},enumerable:!1,configurable:!0}),e}();t.ary2Ns=function(e,t,r,o){return void 0===r&&(r=0),void 0===o&&(o=1),new n(e,t,r,o)}},6224:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.OrientedBoundingBox=void 0;var i=r(4935),a=r(7550),s=r(67),c=r(380),l=r(4831);!function(e){function t(e,t){return t=t||(0,i.createNumbers)(3),a.Vector.set(t,e[0],e[1],e[2]),t}function r(e,t){t=t||(0,i.createNumbers)(9);var r=e;return a.Vector.set(t,r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11]),t}e.getCenter=t,e.getHalfAxes=r,e.setCenter=function(e,t){for(var r=0;r<3;++r)e[r]=t[r];return e},e.setHalfAxes=function(e,t){for(var r=0;r<9;++r)e[r+3]=t[r];return e};var u=(0,i.createNumbers)(3),f=(0,i.createNumbers)(9);e.getModelMatrix=function(e,n){var o=r(e,f),i=t(e,u);return a.Vector.set(n,o[0],o[1],o[2],0,o[3],o[4],o[5],0,o[6],o[7],o[8],0,i[0],i[1],i[2],1)};var p=(0,i.createNumbers)(3),d=(0,i.createNumbers)(3),h=(0,i.createNumbers)(9);e.intersectPlane=function(e,n){var o=t(e,p),i=s.Plane.getNormal(n,d),l=s.Plane.getDistance(n),u=r(e,h),f=i[0],g=i[1],y=i[2],m=Math.abs(f*u[0]+g*u[1]+y*u[2])+Math.abs(f*u[3]+g*u[4]+y*u[5])+Math.abs(f*u[6]+g*u[7]+y*u[8]),v=a.Vector.dot(i,o)+l;return v<=-m?c.Intersect.OUTSIDE:v>=m?c.Intersect.INSIDE:c.Intersect.INTERSECTING};var g=(0,i.createNumbers)(3);e.getBoundingSphere=function(e,t){t=t||(0,i.createNumbers)(4);var s=r(e,h),c=l.Matrix3.getScale(s,g),u=Math.max.apply(Math,o([],n(a.Vector.itr(c)),!1));return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=u,t}}(t.OrientedBoundingBox||(t.OrientedBoundingBox={}))},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Plane=void 0;var n=r(4935),o=r(7550),i=r(2701),a=r(8429);!function(e){var t=(0,n.createNumbers)(3);function r(e,r){o.Vector.set(t,e[0],e[1],e[2]);var n=o.Vector.magnitudeSquared(t);if(Math.abs(n-1)>1e-9)throw new Error("plane");return o.Vector.dot(t,r)+e[3]}function s(e,t){return t=t||(0,n.createNumbers)(3),o.Vector.set(t,e[0],e[1],e[2]),t}e.distancePlaneToPoint=r,e.projectPointOntoPlane=function(e,i,a){a=a||(0,n.createNumbers)(3);var s=r(i,e);return o.Vector.set(t,i[0],i[1],i[2]),o.Vector.multiplyByScalar(t,-s,a),o.Vector.add(a,e,a),a},e.getNormal=s,e.getDistance=function(e){return e[3]},e.setNormal=function(e,t){for(var r=0;r<3;++r)e[r]=t[r];return e},e.setDistance=function(e,t){return e[3]=t,e};var c=(0,n.createNumbers)(3),l=(0,n.createNumbers)(3);e.distanceRayToPlane=function(e,t,n){void 0===n&&(n=1e-5);var a=i.Ray.getDirection(e,c),u=s(t,l),f=-o.Vector.dot(a,u);if(!(Math.abs(f)<n))return r(t,i.Ray.getOrigin(e,c))/f};var u=(0,n.createNumbers)(16),f=(0,n.createNumbers)(4),p=(0,n.createNumbers)(3);e.transform=function(e,t,r){r=r||(0,n.createNumbers)(4);var i=a.Matrix4.inverse(a.Matrix4.transpose(t,u),u),c=a.Matrix4.multiplyByVector(i,e,f),l=s(e,p);return o.Vector.multiplyByScalar(c,1/o.Vector.magnitude(l),r),r},e.fromPointNormal=function(e,t,r){if(Math.abs(1-o.Vector.magnitude(t))>1e-6)throw new Error("Math.abs(1 - Vector.magnitude(normal)) > 0.000001");var i=-o.Vector.dot(t,e);return r=r||(0,n.createNumbers)(4),o.Vector.set(r,t[0],t[1],t[2],i)},e.UNIT_X=(0,n.createNumbers)(4,1,0,0,0),e.UNIT_Y=(0,n.createNumbers)(4,0,1,0,0),e.UNIT_Z=(0,n.createNumbers)(4,0,0,1,0)}(t.Plane||(t.Plane={}))},2109:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectionMatrix=void 0;var n,o,i=r(4935);(o=(n=t.ProjectionMatrix||(t.ProjectionMatrix={})).Perspective||(n.Perspective={})).compute=function(e,t,r,n,o){if(r<=0||n<=0||e<=0||e>=Math.PI)throw new Error("near <= 0 || far <= 0 || fovY <= 0 || fovY >= Math.PI");var a=1/Math.tan(.5*e),s=a/t,c=(n+r)/(r-n),l=2*n*r/(r-n);return(o=o||(0,i.createNumbers)(16))[0]=s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=c,o[11]=-1,o[12]=0,o[13]=0,o[14]=l,o[15]=0,o},o.getSseDenominator=function(e){return 2/e[5]},o.getPerspectiveParams=function(e){var t=e,r=t[10],n=(r-1)/(r+1),o=t[14]*(n-1)/(-2*n),i=n*o,a=2*o/t[0],s=(a+t[8]*a)/2,c=s-a,l=2*o/t[5],u=(l+t[9]*l)/2;return{n:o,f:i,r:s,l:c,t:u,b:u-l}},o.resetNearFar=function(e,t,r,n,o,i,a,s){var c=e/a;return{l:r*=c,r:n*=c,b:o*=c,t:i*=c,n:a=e,f:t}},o.getFovAndAspectRatio=function(e,t,r,n,o,i){var a=(e+t)/2,s=(r+n)/2,c=t-a,l=n-s,u=2*Math.atan(c/o),f=2*Math.atan(l/o);return{xOffset:a,yOffset:s,fov:u>f?u:f,hFov:u,vFov:f,aspectRatio:c/l}}},2289:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Quaternion=void 0;var n=r(4935),o=r(7550),i=r(1597),a=r(4831),s=r(8429);!function(e){var t=(0,n.createNumbers)(3);function r(e,r,i){var a=r/2,s=Math.sin(a);o.Vector.normalize(e,t);var c=t[0]*s,l=t[1]*s,u=t[2]*s,f=Math.cos(a);return i=i||(0,n.createNumbers)(4),o.Vector.clone([c,l,u,f],i),i}e.fromAxisAngle=r;var c=(0,n.createNumbers)(3,1,2,0),l=(0,n.createNumbers)(3);function u(e,t){var r,o,i,s,u,f=e[a.Matrix3.COLUMN0ROW0],p=e[a.Matrix3.COLUMN1ROW1],d=e[a.Matrix3.COLUMN2ROW2],h=f+p+d;if(h>0)u=.5*(r=Math.sqrt(h+1)),r=.5/r,o=(e[a.Matrix3.COLUMN1ROW2]-e[a.Matrix3.COLUMN2ROW1])*r,i=(e[a.Matrix3.COLUMN2ROW0]-e[a.Matrix3.COLUMN0ROW2])*r,s=(e[a.Matrix3.COLUMN0ROW1]-e[a.Matrix3.COLUMN1ROW0])*r;else{var g=c,y=0;p>f&&(y=1),d>f&&d>p&&(y=2);var m=g[y],v=g[m];r=Math.sqrt(e[a.Matrix3.getElementIndex(y,y)]-e[a.Matrix3.getElementIndex(m,m)]-e[a.Matrix3.getElementIndex(v,v)]+1);var b=l;b[y]=.5*r,r=.5/r,u=(e[a.Matrix3.getElementIndex(v,m)]-e[a.Matrix3.getElementIndex(m,v)])*r,b[m]=(e[a.Matrix3.getElementIndex(m,y)]+e[a.Matrix3.getElementIndex(y,m)])*r,b[v]=(e[a.Matrix3.getElementIndex(v,y)]+e[a.Matrix3.getElementIndex(y,v)])*r,o=-b[0],i=-b[1],s=-b[2]}return t?(t[0]=o,t[1]=i,t[2]=s,t[3]=u,t):(0,n.createNumbers)(4,o,i,s,u)}e.fromRotationMatrix3=u;var f=(0,n.createNumbers)(9);e.fromRotationMatrix4=function(e,t){return u(s.Matrix4.getMatrix3(e,f),t)},e.multiply=function(e,t,r){var n=e[0],i=e[1],a=e[2],s=e[3],c=t[0],l=t[1],u=t[2],f=t[3],p=s*c+n*f+i*u-a*l,d=s*l-n*u+i*f+a*c,h=s*u+n*l-i*c+a*f,g=s*f-n*c-i*l-a*u;return o.Vector.set(r,p,d,h,g)};var p=(0,n.createNumbers)(3);e.rotationTo=function(e,t,n){var a=o.Vector.dot(e,t);return a<-.999999?(i.Vector3.cross(i.Vector3.UNIT_X,e,p),o.Vector.magnitudeSquared(p)<.001&&i.Vector3.cross(i.Vector3.UNIT_Y,e,p),o.Vector.normalize(p,p),r(p,Math.PI,n)):a>.999999?o.Vector.set(n,0,0,0,1):(i.Vector3.cross(e,t,p),n=o.Vector.set(n,p[0],p[1],p[2],1+a),o.Vector.normalize(n,n))};var d=(0,n.createNumbers)(4);e.lerp=function(e,t,r,n){return o.Vector.multiplyByScalar(t,r,d),n=o.Vector.multiplyByScalar(e,1-r,n),o.Vector.add(d,n,n)};var h=(0,n.createNumbers)(4),g=(0,n.createNumbers)(4),y=(0,n.createNumbers)(4);e.slerp=function(e,t,r,n){var i=o.Vector.dot(e,t),a=t;if(i<0&&(i=-i,a=o.Vector.negate(t,h)),1-i<1e-6)return o.Vector.lerp(e,a,r,n);var s=Math.acos(i);return o.Vector.multiplyByScalar(e,Math.sin((1-r)*s),g),o.Vector.multiplyByScalar(a,Math.sin(r*s),y),n=o.Vector.add(g,y,n),o.Vector.multiplyByScalar(n,1/Math.sin(s),n)}}(t.Quaternion||(t.Quaternion={}))},2701:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Ray=void 0;var n,o=r(7550);(n=t.Ray||(t.Ray={})).getOrigin=function(e,t){return o.Vector.set(t,e[0],e[1],e[2])},n.getDirection=function(e,t){return o.Vector.set(t,e[3],e[4],e[5])}},2478:(e,t)=>{var r,n,o,i,a,s,c,l,u;Object.defineProperty(t,"__esModule",{value:!0}),t.Tween=void 0,(r=t.Tween||(t.Tween={})).Linear=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*e/n+t},(u=r.Quad||(r.Quad={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*(e/=n)*e+t},u.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),-r*(e/=n)*(e-2)+t},u.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),(e/=n/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},(l=r.Cubic||(r.Cubic={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*(e/=n)*e*e+t},l.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*((e=e/n-1)*e*e+1)+t},l.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},(c=r.Quart||(r.Quart={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*(e/=n)*e*e*e+t},c.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),-r*((e=e/n-1)*e*e*e-1)+t},c.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),(e/=n/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},(s=r.Quint||(r.Quint={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*(e/=n)*e*e*e*e+t},s.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*((e=e/n-1)*e*e*e*e+1)+t},s.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),(e/=n/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},(a=r.Sine||(r.Sine={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),-r*Math.cos(e/n*(Math.PI/2))+r+t},a.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*Math.sin(e/n*(Math.PI/2))+t},a.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),-r/2*(Math.cos(Math.PI*e/n)-1)+t},(i=r.Expo||(r.Expo={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),0==e?t:r*Math.pow(2,10*(e/n-1))+t},i.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),e==n?t+r:r*(1-Math.pow(2,-10*e/n))+t},i.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),0==e?t:e==n?t+r:(e/=n/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(2-Math.pow(2,-10*--e))+t},(o=r.Circ||(r.Circ={})).easeIn=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),-r*(Math.sqrt(1-(e/=n)*e)-1)+t},o.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),r*Math.sqrt(1-(e=e/n-1)*e)+t},o.easeInOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),(e/=n/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},(n=r.Bounce||(r.Bounce={})).easeIn=function(e,t,n,o){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===o&&(o=1),n-r.Bounce.easeOut(o-e,0,n,o)+t},n.easeOut=function(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),(e/=n)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},n.easeInOut=function(e,t,n,o){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===o&&(o=1),e<o/2?.5*r.Bounce.easeIn(2*e,0,n,o)+t:.5*r.Bounce.easeOut(2*e-o,0,n,o)+.5*n+t}},7550:function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;var o=r(4935);!function(e){function t(e,t){for(var r=e.length,n=0;n<r;++n)if(!t(e[n],n))return!1;return!0}function r(e,t,r){for(var n=e.length,o=r,i=0;i<n;++i)o=t(o,e[i],i);return o}e.set=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e=e||(0,o.createNumbers)(t.length),t.length>e.length)throw new Error("args.length > target.length");return e instanceof Float64Array?e.set(t):_(t,e),e},e.every=t,e.reduce=r,e.itr=function(e){var t;return n(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<e.length?[4,e[t]]:[3,4];case 2:r.sent(),r.label=3;case 3:return++t,[3,1];case 4:return[2]}}))};var i,a=function(e,t){return e+t*t};function s(e){return r(e,a,0)}e.magnitudeSquared=s,e.magnitude=function(e){var t=s(e);return Math.sqrt(t)},e.isNormalized=function(e,t){void 0===t&&(t=1e-5);var r=s(e);return Math.abs(r-1)<t};var c,l=function(e,t,r){return e+t*i[r]};e.dot=function(e,t){return m(e,t),i=t,r(e,l,0)};var u,f=function(e,t,r){return e+(t-c[r])*(t-c[r])};function p(e,t){return m(e,t),c=t,r(e,f,0)}e.distanceSquared=p,e.distance=function(e,t){return Math.sqrt(p(e,t))};var d,h,g=function(e,t){return e===u[t]};e.equals=function(e,r){return m(e,r),u=r,t(e,g)};var y=function(e,t){return Math.abs(e-d[t])<h};function m(e,t){if(e.length!==t.length)throw new Error("left.length !== right.length")}function v(e,t,r){var n=e.length;m(e,r=r||(0,o.createNumbers)(n));for(var i=0;i<n;++i)r[i]=t(e[i],i);return r}function b(e,t,r,n){m(e,t),n&&m(e,n);var i=e.length;n=n||(0,o.createNumbers)(i);for(var a=0;a<i;++a)n[a]=r(e[a],t[a]);return n}e.equalsEpsilon=function(e,r,n){return void 0===n&&(n=0),m(e,r),d=r,h=n,t(e,y)},e.op1=v,e.op2=b;var w=function(e){return e};function _(e,t){return v(e,w,t)}e.clone=_;var P=0,x=function(e,t){return e*P};function O(e,t,r){return P=t,v(e,x,r)}e.multiplyByScalar=O,e.normalize=function(e,t,r){void 0===r&&(r=0);var n=s(e);if(!(n<=r))return O(e,1/Math.sqrt(n),t)},e.negate=function(e,t){return O(e,-1,t)};var C=function(e){return Math.abs(e)};e.abs=function(e,t){return v(e,C,t)};var S=function(e){return e-Math.floor(e)};e.fract=function(e,t){return v(e,S,t)};var E=function(e,t){return e-t};e.subtract=function(e,t,r){return b(e,t,E,r)};var M=function(e,t){return e+t};e.add=function(e,t,r){return b(e,t,M,r)};var j=function(e,t){return e*t};e.multiply=function(e,t,r){return b(e,t,j,r)};var k,T=function(e,t){return e/t};e.divide=function(e,t,r){return b(e,t,T,r)};var I=function(e,t){return e*(1-k)+t*k};e.lerp=function(e,t,r,n){return k=r,b(e,t,I,n)}}(t.Vector||(t.Vector={}))},1597:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3=void 0;var n,o=r(4935),i=r(7550);(n=t.Vector3||(t.Vector3={})).cross=function(e,t,r){var n=e[0],o=e[1],a=e[2],s=t[0],c=t[1],l=t[2],u=o*l-a*c,f=a*s-n*l,p=n*c-o*s;return i.Vector.set(r,u,f,p)},n.getOrthogonalityVector=function(e,t,r,o){if(!i.Vector.isNormalized(e))throw new Error("!Vector.isNormalized(constVector)");if(!(r=i.Vector.isNormalized(t)?i.Vector.clone(t,r):i.Vector.normalize(t,r)))throw new Error("vectorToFix is [0, 0, 0]!");return r=n.cross(e,r,r),i.Vector.normalize(r,r),o&&i.Vector.clone(r,o),n.cross(r,e,r),i.Vector.normalize(r,r)},n.UNIT_X=Object.freeze([1,0,0]),n.UNIT_Y=Object.freeze([0,1,0]),n.UNIT_Z=Object.freeze([0,0,1]),n.ZERO=Object.freeze([0,0,0]),n.ONE=Object.freeze([1,1,1]),n.SCRATCH0=(0,o.createNumbers)(3),n.SCRATCH1=(0,o.createNumbers)(3),n.SCRATCH2=(0,o.createNumbers)(3),n.SCRATCH3=(0,o.createNumbers)(3),n.SCRATCH4=(0,o.createNumbers)(3),n.SCRATCH5=(0,o.createNumbers)(3),n.SCRATCH6=(0,o.createNumbers)(3),n.SCRATCH7=(0,o.createNumbers)(3),n.SCRATCH8=(0,o.createNumbers)(3),n.SCRATCH9=(0,o.createNumbers)(3)},6496:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Vector4=void 0;var i=r(4935),a=r(7550),s=(0,i.createNumbers)(4,1,255,65025,16581375),c=(0,i.createNumbers)(4,1/255,1/255,1/255,0),l=(0,i.createNumbers)(4,1,1/255,1/65025,1/16581375),u=(0,i.createNumbers)(4);!function(e){e.packDepth=function(e,t){if(e<0||e>1)throw new Error("depth < 0 || depth > 1");if(1===e)return a.Vector.set(t,1,0,0,0);t=a.Vector.multiplyByScalar(s,e,t),a.Vector.fract(t,t);var r=a.Vector.set(u,t[1],t[2],t[3],t[3]);return a.Vector.multiply(r,c,r),a.Vector.subtract(t,r,t)},e.unpackDepth=function(e){return a.Vector.dot(e,l)};var t=new Uint32Array(1),r=new Uint8Array(t.buffer);e.uint32ToFourUint8s=function(e,i){if(e>4294967295)throw new Error("uint32Number(".concat(e,") > 0xFFFFFFFF"));return t[0]=e,a.Vector.set.apply(a.Vector,o([i],n(r),!1))},e.fourUint8sToUint32=function(e){return a.Vector.clone(e,r),t[0]},e.ONE=(0,i.createNumbers)(4,1,1,1,1),e.ZERO=(0,i.createNumbers)(4,0,0,0,0)}(t.Vector4||(t.Vector4={}))},6241:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewMatrix=void 0;var n=r(4831),o=r(8429),i=r(4935),a=r(2289),s=r(7550),c=r(1597),l=(0,i.createNumbers)(3),u=(0,i.createNumbers)(3),f=(0,i.createNumbers)(3);!function(e){function t(e,t,r,n,o){return(o=o||(0,i.createNumbers)(16))[0]=n[0],o[1]=r[0],o[2]=-t[0],o[3]=0,o[4]=n[1],o[5]=r[1],o[6]=-t[1],o[7]=0,o[8]=n[2],o[9]=r[2],o[10]=-t[2],o[11]=0,o[12]=-s.Vector.dot(n,e),o[13]=-s.Vector.dot(r,e),o[14]=s.Vector.dot(t,e),o[15]=1,o}e.computeView=t;var r=(0,i.createNumbers)(3),p=(0,i.createNumbers)(3),d=(0,i.createNumbers)(3);function h(e,n,o){var i=r,a=p,c=d,l=n;return s.Vector.set(i,-l[6],-l[7],-l[8]),s.Vector.set(a,l[3],l[4],l[5]),s.Vector.set(c,l[0],l[1],l[2]),t(e,i,a,c,o)}e.fromRotationMatrix3AndPosition=h;var g=(0,i.createNumbers)(9);e.fromRotationQuatAndPosition=function(e,t,r){return n.Matrix3.fromQuaternion(t,g),h(e,g,r)},e.lookAt=function(t,r,n,o){var i=s.Vector.subtract(r,t,l);if(!s.Vector.normalize(i,i))throw new Error("direction is undefined!");return c.Vector3.getOrthogonalityVector(i,n,f,u),e.computeView(t,i,f,u,o)},e.lookAtWithDirection=function(t,r,n,o){if(Math.abs(s.Vector.magnitudeSquared(r)-1)>1e-5)throw new Error("direction is not normalized!");return c.Vector3.getOrthogonalityVector(r,n,f,u),e.computeView(t,r,f,u,o)},e.getDirection=function(e,t){return s.Vector.set(t,-e[2],-e[6],-e[10])},e.getRight=function(e,t){return s.Vector.set(t,e[0],e[4],e[8])},e.getUp=function(e,t){return s.Vector.set(t,e[1],e[5],e[9])};var y=(0,i.createNumbers)(9);function m(e,t){(t=t||(0,i.createNumbers)(9))[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[1],t[4]=e[5],t[5]=e[9],t[6]=e[2],t[7]=e[6],t[8]=e[10]}e.getRotationQuat=function(e,t){return m(e,y),a.Quaternion.fromRotationMatrix3(y,t)},e.getRotationMatrix=m,e.getEye=function(e,t){var r=e,n=-r[0]*r[12]-r[1]*r[13]-r[2]*r[14],o=-r[4]*r[12]-r[5]*r[13]-r[6]*r[14],i=-r[8]*r[12]-r[9]*r[13]-r[10]*r[14];return s.Vector.set(t,n,o,i)};var v=(0,i.createNumbers)(3);e.distanceFromEye=function(e,t){return-o.Matrix4.affineMultiplyByPoint(e,t,v)[2]},e.ratioScreenToWorldSpace=function(e,t,r){return t[3]*e[5]*.5/r};var b=(0,i.createNumbers)(4),w=(0,i.createNumbers)(3),_=(0,i.createNumbers)(16),P=(0,i.createNumbers)(16),x=(0,i.createNumbers)(16);e.rotateWithAxis=function(e,t,r,n,c){return c=c||(0,i.createNumbers)(16),o.Matrix4.fromTranslation(t,_),s.Vector.negate(t,w),o.Matrix4.fromTranslation(w,P),a.Quaternion.fromAxisAngle(r,-n,b),o.Matrix4.fromRotateQuatAndTranslation(b,void 0,x),o.Matrix4.continuousMultiply(c,e,_,x,P)},e.computeOrthographicOffCenter=function(e,t,r,n,o,a,s){var c=1/(t-e),l=1/(n-r),u=1/(a-o),f=-(t+e)*c,p=-(n+r)*l,d=-(a+o)*u;return c*=2,l*=2,u*=-2,(s=s||(0,i.createNumbers)(16))[0]=c,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=u,s[11]=0,s[12]=f,s[13]=p,s[14]=d,s[15]=1,s}}(t.ViewMatrix||(t.ViewMatrix={}))},8094:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=void 0,t.clamp=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e<t?t:e>r?r:e}},53:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1320),t),o(r(3812),t),o(r(8094),t),o(r(6568),t),o(r(380),t),o(r(7285),t),o(r(410),t),o(r(4831),t),o(r(8429),t),o(r(4935),t),o(r(6224),t),o(r(67),t),o(r(2109),t),o(r(2289),t),o(r(2701),t),o(r(2478),t),o(r(7550),t),o(r(1597),t),o(r(6496),t),o(r(6241),t)},410:function(e,t,r){this&&this.__read,this&&this.__spreadArray,Object.defineProperty(t,"__esModule",{value:!0}),t.Kriging=void 0;var n=r(1941);function o(e,t){return e.resize(8*t),new Float64Array(e.arrayBuffer,0,t)}function i(e,t,r){var n=r;if(n.length!==t*t)throw new Error("Z.length !== n * n");n.fill(0);for(var o=0;o<t;o++)n[o*t+o]=e;return n}function a(e,t,r,n,o){var i,a,s=o;if(s.length!==r*n)throw new Error("Z.length !== n * m");for(i=0;i<r;i++)for(a=0;a<n;a++)s[i*n+a]=e[i*n+a]+t[i*n+a];return s}function s(e,t,r,n,o,i){var a,s,c,l=i;if(l.length!==r*o)throw new Error("Z.length !== n * p");for(a=0;a<r;a++)for(s=0;s<o;s++)for(l[a*o+s]=0,c=0;c<n;c++)l[a*o+s]+=e[a*n+c]*t[c*o+s];return l}var c=new n.ScalableBuffer;function l(e,t){var r,n,i,a=o(c,t);for(r=0;r<t;r++)a[r]=e[r*t+r];for(r=0;r<t;r++){for(n=0;n<r;n++)a[r]-=e[r*t+n]*e[r*t+n];if(a[r]<=0)return!1;for(a[r]=Math.sqrt(a[r]),n=r+1;n<t;n++){for(i=0;i<r;i++)e[n*t+r]-=e[n*t+i]*e[r*t+i];e[n*t+r]/=a[r]}}for(r=0;r<t;r++)e[r*t+r]=a[r];return!0}function u(e,t){var r,n,o,i;for(r=0;r<t;r++)for(e[r*t+r]=1/e[r*t+r],n=r+1;n<t;n++){for(i=0,o=r;o<n;o++)i-=e[n*t+o]*e[o*t+r];e[n*t+r]=i/e[n*t+n]}for(r=0;r<t;r++)for(n=r+1;n<t;n++)e[r*t+n]=0;for(r=0;r<t;r++){for(e[r*t+r]*=e[r*t+r],o=r+1;o<t;o++)e[r*t+r]+=e[o*t+r]*e[o*t+r];for(n=r+1;n<t;n++)for(o=n;o<t;o++)e[r*t+n]+=e[o*t+r]*e[o*t+n]}for(r=0;r<t;r++)for(n=0;n<r;n++)e[r*t+n]=e[n*t+r]}var f=new n.ScalableBuffer,p=new n.ScalableBuffer,d=new n.ScalableBuffer,h=new n.ScalableBuffer;function g(e,t){var r,n,i,a,s,c,l,u,g,y=t,m=o(f,t*t),v=o(p,t),b=o(d,t),w=o(h,t),_=0,P=0;for(r=0;r<t;r++)for(n=0;n<t;n++)m[r*t+n]=r==n?1:0;for(n=0;n<t;n++)w[n]=0;for(r=0;r<t;r++){for(c=0,n=0;n<t;n++)if(1!=w[n])for(i=0;i<t;i++)0==w[i]&&Math.abs(e[n*t+i])>=c&&(c=Math.abs(e[n*t+i]),P=n,_=i);if(++w[_],P!=_){for(a=0;a<t;a++)g=e[P*t+a],e[P*t+a]=e[_*t+a],e[_*t+a]=g;for(a=0;a<y;a++)g=m[P*t+a],m[P*t+a]=m[_*t+a],m[_*t+a]=g}if(b[r]=P,v[r]=_,0==e[_*t+_])return!1;for(u=1/e[_*t+_],e[_*t+_]=1,a=0;a<t;a++)e[_*t+a]*=u;for(a=0;a<y;a++)m[_*t+a]*=u;for(s=0;s<t;s++)if(s!=_){for(l=e[s*t+_],e[s*t+_]=0,a=0;a<t;a++)e[s*t+a]-=e[_*t+a]*l;for(a=0;a<y;a++)m[s*t+a]-=m[_*t+a]*l}}for(a=t-1;a>=0;a--)if(b[a]!=v[a])for(i=0;i<t;i++)g=e[i*t+b[a]],e[i*t+b[a]]=e[i*t+v[a]],e[i*t+v[a]]=g;return!0}function y(e,t,r,n,o){return t+(n-t)/r*(1-Math.exp(-1/o*Math.pow(e/r,2)))}function m(e,t,r,n,o){return t+(n-t)/r*(1-Math.exp(-1/o*(e/r)))}function v(e,t,r,n,o){return e>r?t+(n-t)/r:t+(n-t)/r*(e/r*1.5-.5*Math.pow(e/r,3))}function b(e,t){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}!function(e){var t=new n.ScalableBuffer,r=new n.ScalableBuffer,c=new n.ScalableBuffer,f=new n.ScalableBuffer,p=new n.ScalableBuffer,d=new n.ScalableBuffer,h=new n.ScalableBuffer,w=new n.ScalableBuffer,_=new n.ScalableBuffer,P=new n.ScalableBuffer,x=new n.ScalableBuffer,O=new n.ScalableBuffer,C=new n.ScalableBuffer,S=[];e.train=function(e,n,E,M,j,k,T,I){var F;switch(j){case"gaussian":F=y;break;case"exponential":F=m;break;case"spherical":F=v}var A,L,R,D,B={t:e,x:n,y:E,z:M,nugget:0,range:0,sill:0,A:1/3,n:0,model:F},N=e.length,z=S;for(z.length=(N*N-N)/2,A=0,R=0;A<N;A++)for(L=0;L<A;L++,R++)z[R]=z[R]||[0,0],z[R][0]=b([n[A],E[A],M[A]],[n[L],E[L],M[L]]),z[R][1]=Math.abs(e[A]-e[L]);z.sort((function(e,t){return e[0]-t[0]})),B.range=z[(N*N-N)/2-1][0];var G=(N*N-N)/2>30?30:(N*N-N)/2,V=B.range/G,q=o(O,G);q.fill(0);var U=o(C,G);if(U.fill(0),G<30)for(D=0;D<G;D++)q[D]=z[D][0],U[D]=z[D][1];else{for(A=0,L=0,R=0,D=0;A<G&&L<(N*N-N)/2;A++,R=0){for(;z[L][0]<=(A+1)*V&&(q[D]+=z[L][0],U[D]+=z[L][1],R++,!(++L>=(N*N-N)/2)););R>0&&(q[D]/=R,U[D]/=R,D++)}if(D<2)return B}N=D,B.range=q[N-1]-q[0];var H=o(t,2*N);H.fill(1);var W=o(r,N),J=B.A;for(A=0;A<N;A++){switch(j){case"gaussian":H[2*A+1]=1-Math.exp(-1/J*Math.pow(q[A]/B.range,2));break;case"exponential":H[2*A+1]=1-Math.exp(-1/J*q[A]/B.range);break;case"spherical":H[2*A+1]=q[A]/B.range*1.5-.5*Math.pow(q[A]/B.range,3)}W[A]=U[A]}var Y=function(e,t,r,n){var o,i,a=n;if(a.length!==2*t)throw new Error("Z.length !== m * n");for(o=0;o<t;o++)for(i=0;i<2;i++)a[i*t+o]=e[2*o+i];return a}(H,N,0,o(c,2*N)),X=s(Y,H,2,N,2,o(f,4)),Z=(X=a(X,i(1/T,2,o(h,4)),2,2,o(p,4))).slice(0);l(X,2)?u(X,2):(g(Z,2),X=Z);var $=s(s(X,Y,2,2,N,o(_,2*N)),W,2,N,1,o(w,2));B.nugget=$[0],B.sill=$[1]*B.range+B.nugget,B.n=n.length,N=n.length;var K=o(d,N*N);for(A=0;A<N;A++){for(L=0;L<A;L++)K[A*N+L]=B.model(Math.pow(Math.pow(n[A]-n[L],2)+Math.pow(E[A]-E[L],2),.5),B.nugget,B.range,B.sill,B.A),K[L*N+A]=K[A*N+L];K[A*N+A]=B.model(0,B.nugget,B.range,B.sill,B.A)}var Q=a(K,i(k,N,o(x,N*N)),N,N,o(P,N*N)),ee=Q.slice(0);if(l(Q,N)?u(Q,N):(g(ee,N),Q=ee),I.length!==N)throw new Error("mResult.length !== n");return B.M=s(Q,e,N,N,1,I),B};var E=new n.ScalableBuffer,M=new n.ScalableBuffer;e.predict=function(e,t,r,n){var i,a=o(E,n.n);for(i=0;i<n.n;i++){var c=b([e,t,r],[n.x[i],n.y[i],n.z[i]]);a[i]=n.model(c,n.nugget,n.range,n.sill,n.A)}if(!n.M)throw new Error("!variogram.M");return s(a,n.M,1,n.n,1,o(M,1))[0]}}(t.Kriging||(t.Kriging={}))},1941:e=>{e.exports=r(34016)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.j=156;var i=o(53);e.exports=i})()},22202:(e,t,r)=>{(()=>{"use strict";var t={5208:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loop=t.conditional=t.parse=void 0,t.parse=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach((function(r){return e(t,r,n,o)}));else if("function"==typeof r)r(t,n,o,e);else{var i=Object.keys(r)[0];Array.isArray(r[i])?(o[i]={},e(t,r[i],n,o[i])):o[i]=r[i](t,n,o,e)}return n},t.conditional=function(e,t){return function(r,n,o,i){t(r,n,o)&&i(r,e,n,o)}},t.loop=function(e,t){return function(r,n,o,i){for(var a=[],s=r.pos;t(r,n,o);){var c={};if(i(r,e,n,c),r.pos===s)break;s=r.pos,a.push(c)}return a}}},2515:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.readBits=t.readArray=t.readUnsigned=t.readString=t.peekBytes=t.readBytes=t.peekByte=t.readByte=t.buildStream=void 0,t.buildStream=function(e){return{data:e,pos:0}},t.readByte=function(){return function(e){return e.data[e.pos++]}},t.peekByte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return t.data[t.pos+e]}};var r=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};t.readBytes=r,t.peekBytes=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}},t.readString=function(e){return function(t){return Array.from(r(e)(t)).map((function(e){return String.fromCharCode(e)})).join("")}},t.readUnsigned=function(e){return function(t){var n=r(2)(t);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}},t.readArray=function(e,t){return function(n,o,i){for(var a="function"==typeof t?t(n,o,i):t,s=r(e),c=new Array(a),l=0;l<a;l++)c[l]=s(n);return c}},t.readBits=function(e){return function(t){for(var r=function(e){return e.data[e.pos++]}(t),n=new Array(8),o=0;o<8;o++)n[7-o]=!!(r&1<<o);return Object.keys(e).reduce((function(t,r){var o=e[r];return o.length?t[r]=function(e,t,r){for(var n=0,o=0;o<r;o++)n+=e[t+o]&&Math.pow(2,r-o-1);return n}(n,o.index,o.length):t[r]=n[o.index],t}),{})}}},8841:(e,t,r)=>{t.A=void 0;var n=r(5208),o=r(2515),i={blocks:function(e){for(var t=[],r=e.data.length,n=0,i=(0,o.readByte)()(e);0!==i&&i;i=(0,o.readByte)()(e)){if(e.pos+i>=r){var a=r-e.pos;t.push((0,o.readBytes)(a)(e)),n+=a;break}t.push((0,o.readBytes)(i)(e)),n+=i}for(var s=new Uint8Array(n),c=0,l=0;l<t.length;l++)s.set(t[l],c),c+=t[l].length;return s}},a=(0,n.conditional)({gce:[{codes:(0,o.readBytes)(2)},{byteSize:(0,o.readByte)()},{extras:(0,o.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,o.readUnsigned)(!0)},{transparentColorIndex:(0,o.readByte)()},{terminator:(0,o.readByte)()}]},(function(e){var t=(0,o.peekBytes)(2)(e);return 33===t[0]&&249===t[1]})),s=(0,n.conditional)({image:[{code:(0,o.readByte)()},{descriptor:[{left:(0,o.readUnsigned)(!0)},{top:(0,o.readUnsigned)(!0)},{width:(0,o.readUnsigned)(!0)},{height:(0,o.readUnsigned)(!0)},{lct:(0,o.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,n.conditional)({lct:(0,o.readArray)(3,(function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(e,t,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,o.readByte)()},i]}]},(function(e){return 44===(0,o.peekByte)()(e)})),c=(0,n.conditional)({text:[{codes:(0,o.readBytes)(2)},{blockSize:(0,o.readByte)()},{preData:function(e,t,r){return(0,o.readBytes)(r.text.blockSize)(e)}},i]},(function(e){var t=(0,o.peekBytes)(2)(e);return 33===t[0]&&1===t[1]})),l=(0,n.conditional)({application:[{codes:(0,o.readBytes)(2)},{blockSize:(0,o.readByte)()},{id:function(e,t,r){return(0,o.readString)(r.blockSize)(e)}},i]},(function(e){var t=(0,o.peekBytes)(2)(e);return 33===t[0]&&255===t[1]})),u=(0,n.conditional)({comment:[{codes:(0,o.readBytes)(2)},i]},(function(e){var t=(0,o.peekBytes)(2)(e);return 33===t[0]&&254===t[1]})),f=[{header:[{signature:(0,o.readString)(3)},{version:(0,o.readString)(3)}]},{lsd:[{width:(0,o.readUnsigned)(!0)},{height:(0,o.readUnsigned)(!0)},{gct:(0,o.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,o.readByte)()},{pixelAspectRatio:(0,o.readByte)()}]},(0,n.conditional)({gct:(0,o.readArray)(3,(function(e,t){return Math.pow(2,t.lsd.gct.size+1)}))},(function(e,t){return t.lsd.gct.exists})),{frames:(0,n.loop)([a,l,u,s,c],(function(e){var t=(0,o.peekByte)()(e);return 33===t||44===t}))}];t.A=f},1320:(e,t,r)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(n="".concat("vtxf-renderer","/").concat(r.j))&&void 0!==n?n:"-",i="vtxf-renderer",a=((Date.now()-1730096355e3)/36e5).toFixed(1),s="%c ".concat(o,"%c ").concat("0.3.40",".").concat("34978d3b3ddb48ccff0b434d304d341013b248b2".slice(0,8),".").concat("2024-10-28T06:19:15.000Z"," (").concat(a,")\n%c").concat(i?i+"\n":"","").concat(o,"").concat("vtxf","\n%c ");t.copyright=Object.seal({get owner(){return"vtxf"},get ownerlink(){return"www.czmtoy.com"},get info(){return s},get date(){return"2024-10-28T06:19:15.000Z"},get author(){return"vtxf"},get version(){return"0.3.40"},get name(){return"vtxf-renderer"},get commitId(){return"34978d3b3ddb48ccff0b434d304d341013b248b2"},print:function(){!force&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},6699:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationPlayer=void 0;var a=r(1473),s=r(4648),c=r(4648),l=r(1843),u=function(e){function t(t){void 0===t&&(t=5e3);var r=e.call(this)||this;return r._animation=new a.Animation(t),r.dispose((function(){r.destroyAllChannels(),r._animation.destroy()})),r._player=new l.Player(t),r.dispose((function(){return r._player.destroy()})),r._initAnimation(),r._selectedChannelChanged=new c.Event,r}return o(t,e),Object.defineProperty(t.prototype,"animation",{get:function(){return this._animation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChannelChanged",{get:function(){return this._selectedChannelChanged||(this._selectedChannelChanged=new c.Event),this._selectedChannelChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChannel",{get:function(){return this._selectedChannel},set:function(e){if(this._selectedChannel!==e){var t=this._selectedChannel;this._selectedChannel=e,this._selectedChannelChanged&&this._selectedChannelChanged.emit(e,t)}},enumerable:!1,configurable:!0}),t.prototype._initAnimation=function(){var e=this,t=this._animation,r=this._player;t.progressFunc=function(e){},this.dispose((function(){t.progressFunc=void 0,t.enterFunc=void 0,t.leaveFunc=void 0})),this.dispose(r.currentTimeChangedEvent.disposableOn((function(e,n){r.playing?t.currentTime=e:(t.currentTime=e,t.currentTime=Number.NaN)}))),this.dispose(r.startPlayingEvent.disposableOn((function(e){t.currentTime=e}))),this.dispose(r.stopPlayingEvent.disposableOn((function(e){t.currentTime=Number.NaN}))),this.dispose(this._animation.changedEvent.disposableOn((function(t){e._player.duration=t.duration})))},t.prototype.addChannel=function(){var e=new a.Channel(1e3,2e3);if(this._selectedChannel){var t=this._animation.channels.indexOf(this._selectedChannel);this._animation.channels.splice(t+1,0,e)}else this._animation.channels.push(e);return e},t.prototype.removeChannel=function(){if(this._selectedChannel){var e=this._animation.channels.indexOf(this._selectedChannel);-1!==e&&(this._animation.channels.splice(e,1),this._selectedChannel.destroy()),this._selectedChannel=void 0}else console.warn("Channel.")},t.prototype.raiseChannel=function(e){var t=this._animation.channels.indexOf(e);if(-1===t)console.warn("-1 === index");else if(0===t)console.warn("cannot raise current channel!");else{if(!(t>0))throw new Error("should not be here!");this._animation.channels.splice(t,1),this._animation.channels.splice(t-1,0,e)}},t.prototype.lowerChannel=function(e){var t=this._animation.channels.indexOf(e);if(-1===t)console.warn("-1 === index");else if(t===this._animation.channels.length-1)console.warn("cannot lower current channel!");else{if(!(t>=0))throw new Error("should not be here!");this._animation.channels.splice(t,1),this._animation.channels.splice(t+1,0,e)}},t.prototype.destroyAllChannels=function(){var e,t,r=this._animation;if(r.hasChannels){try{for(var n=i(r.channels),o=n.next();!o.done;o=n.next()){var s=o.value;(0,a.destroyAnimationWithChildren)(s.animation)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}r.channels.length=0,this._selectedChannel=void 0}},t}(s.Destroyable);t.AnimationPlayer=u},1473:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyAnimationWithChildren=t.Animation=t.Channel=void 0;var a=r(4648),s=r(1941),c=r(4648),l=0,u=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=1e3);var n=e.call(this)||this;return n._startTime=Number.NaN,n._enabled=!0,n._animation=new f(r),n.dispose((function(){return n._animation.destroy()})),n.dispose((function(){n._changedEvent&&(n._changedEvent.reset(),n._changedEvent=void 0)})),n.startTime=t,n.dispose(n._animation.changedEvent.disposableOn((function(){n.changedEvent&&n.changedEvent.emit(n)}))),n}return o(t,e),Object.defineProperty(t.prototype,"changedEvent",{get:function(){return this._changedEvent||(this._changedEvent=new c.Event),this._changedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animation",{get:function(){return this._animation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(e){this._startTime!==e&&(this._startTime=e,this.changedEvent&&this.changedEvent.emit(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.changedEvent&&this.changedEvent.emit(this))},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.Channel=u;var f=function(e){function t(t){void 0===t&&(t=0);var r=e.call(this)||this;return r._duration=t,r._currentTime=Number.NaN,r.dispose((function(){r._channels&&(r._channels.destroy(),r._channels=void 0),r.enterFunc=void 0,r.leaveFunc=void 0,r.progressFunc=void 0,r._changedEvent&&(r._changedEvent.reset(),r._changedEvent=void 0)})),r}return o(t,e),Object.defineProperty(t.prototype,"changedEvent",{get:function(){return this._changedEvent||(this._changedEvent=new c.Event),this._changedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name||(this._name="Unknown".concat(++l)),this._name},set:function(e){this._name!==e&&(this._name=e,this._changedEvent&&this._changedEvent.emit(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChannels",{get:function(){return!(!this._channels||0===this._channels.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"channels",{get:function(){var e=this;if(!this._channels){var t=new WeakMap,r=new s.ObservableArray;this.dispose(r.toChangeEvent.disposableOn((function(r,n){for(var o=r.length,i=0;i<o;++i){var a=r[i];if(a.deleteCount>0)for(var s=a.start;s<a.deleteCount;++s){var c=n.get(s);if(!(d=t.get(c)))throw console.error("!disposeFunc"),new Error("!disposeFunc");d(),t.delete(c)}if(a.items.length>0)for(var l=a.items,u=l.length,f=0;f<u;++f){var p=l[f],d=p.changedEvent.disposableOn((function(t){e.recomputeDurationFromChildren(!1),e._changedEvent&&e._changedEvent.emit(e)}));t.set(p,d)}}return!0}))),this.dispose(r.changedEvent.disposableOn((function(){e.recomputeDurationFromChildren(!1),e._changedEvent&&e._changedEvent.emit(e)}))),this._channels=r}return this._channels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(e){this._duration!==e&&(this._duration,this._duration=e,this._changedEvent&&this._changedEvent.emit(this))},enumerable:!1,configurable:!0}),t.prototype.recomputeDurationFromChildren=function(e){void 0===e&&(e=!1);var t=this._channels;if(t&&t.length>0){for(var r=0,n=t.length,o=0;o<n;++o){var i=t.get(o),a=i.animation,s=i.startTime;e&&a.recomputeDurationFromChildren();var c=s+a.duration;r<c&&(r=c)}this.duration=r}},t.prototype.valid=function(e){return(e=null!=e?e:this._currentTime)>=0&&e<=this.duration},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._currentTime},set:function(e){if(this.valid(e)||(e=Number.NaN),Number.isNaN(e)&&Number.isNaN(this._currentTime));else if(this._currentTime!==e){var t=this._currentTime;if(Number.isNaN(e)?this.leaveFunc&&this.leaveFunc(t):Number.isNaN(this._currentTime)&&this.enterFunc&&this.enterFunc(e),this._currentTime=e,Number.isNaN(e)||this.progressFunc&&this.progressFunc(e,t),this._channels)for(var r=this._channels.length,n=0;n<r;++n){var o=this._channels.get(n),i=o.animation,a=o.startTime;if(o.enabled)if(Number.isNaN(e))i.currentTime=Number.NaN;else if(Number.isNaN(t)){var s=e-a;i.currentTime=s}else{var c=a+i.duration;s=e-a,e>t?(e<=a&&(i.currentTime=s),a>t&&a<=e&&(i.currentTime=0),e>a&&e<=c&&(i.currentTime=s),c>t&&c<=e&&(i.currentTime=i.duration),e>c&&(i.currentTime=s)):e<t&&(e>c&&(i.currentTime=s),c>t&&c<=e&&(i.currentTime=i.duration),e>a&&e<=c&&(i.currentTime=s),a>t&&a<=e&&(i.currentTime=0),e<=a&&(i.currentTime=s))}}}},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.Animation=f,t.destroyAnimationWithChildren=function e(t){var r,n;if(t.hasChannels)try{for(var o=i(t.channels),a=o.next();!a.done;a=o.next())e(a.value.animation)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.destroy()}},5353:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},186:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStops=void 0;var i=r(4638),a=r(4648),s=[0,0,0,0],c=function(){function e(){this._value=[],this._valueStr="[]",this.value=[{ratio:0,rgba:[0,0,1,1]},{ratio:.2,rgba:[0,1,0,1]},{ratio:.8,rgba:[1,1,0,1]},{ratio:1,rgba:[1,0,0,1]}]}return Object.defineProperty(e.prototype,"valueChanged",{get:function(){return this._valueChanged||(this._valueChanged=new a.Event),this._valueChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return JSON.parse(JSON.stringify(this._value))},set:function(e){if(0!==e.length){var t;if(this._value.length===e.length){var r=o([],n(e),!1).sort((function(e,t){return e.ratio-t.ratio}));if(t=JSON.stringify(r),this._valueStr===t)return}t=t||JSON.stringify(o([],n(e),!1).sort((function(e,t){return e.ratio-t.ratio})));var i=this._value;if(this._value=JSON.parse(t),0===this._value.length)throw console.error("this._colorStops.length === 0"),new Error("this._colorStops.length === 0");this._valueChanged&&this._valueChanged.emit(this._value,i)}else console.error("value.length === 0")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueStr",{get:function(){return this._valueStr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minRatio",{get:function(){return this._value[0].ratio},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxRatio",{get:function(){return this._value[this._value.length-1].ratio},enumerable:!1,configurable:!0}),e.prototype._getRatioIndex=function(e){if(e<this._value[0].ratio||e>this._value[this._value.length-1].ratio)throw console.error("ratio <= this._colorStops[0].ratio || ratio >= this._colorStops[this._colorStops.length - 1].ratio"),new Error("ratio <= this._colorStops[0].ratio || ratio >= this._colorStops[this._colorStops.length - 1].ratio");for(var t=this._value.length,r=0;r<t-1;++r)if(e>=this._value[r].ratio&&e<=this._value[r+1].ratio)return r;throw console.error("shoud not be here!"),new Error("shoud not be here!")},e.prototype.getRatioColor=function(e,t){e=(0,i.clamp)(e,this.minRatio,this.maxRatio);for(var r=this._getRatioIndex(e),n=this._value[r],o=this._value[r+1],a=(e-n.ratio)/(o.ratio-n.ratio),s=0;s<4;++s)t[s]=n.rgba[s]*(1-a)+o.rgba[s]*a;if(!t.some(Number.isNaN))return t;console.error("result NaN")},e.prototype.getColorsInUint8=function(e){if(e.length%4!=0)throw console.error("result.length % 4 !== 0"),new Error("result.length % 4 !== 0");for(var t=e.length/4,r=1/t,n=0;n<t;++n){var o=s;this.getRatioColor((n+.5)*r,o)||o.splice(0,4,0,0,0,0);for(var i=0;i<4;++i)e[4*n+i]=255*o[i]|0}return e},e}();t.ColorStops=c},6815:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ComplexImage=t.getTypeFromImageUri=void 0;var i=r(1941),a=r(1941),s=r(4747),c=r(770),l=r(2885),u=r(6687),f=r(3116),p=r(8473),d=r(7190),h=r(39);function g(e){var t=e.substring(e.lastIndexOf(".")+1);return y.suffixTypes[t]}t.getTypeFromImageUri=g;var y=function(e){function t(){var t=e.call(this)||this;return t._enabled=t.disposeVar((0,a.react)(!1)),t._uri=t.disposeVar((0,a.react)("")),t._type=t.disposeVar((0,a.react)(void 0)),t._size=t.disposeVar((0,a.reactArrayWithUndefined)(void 0)),t._pixelFormat=t.disposeVar((0,a.react)("RGBA")),t._flipY=t.disposeVar((0,a.react)(!0)),t._crossOriginReact=t.disposeVar((0,a.react)("")),t._autoplayReact=t.disposeVar((0,a.react)(!0)),t._loopReact=t.disposeVar((0,a.react)(!0)),t._copyTextureEvent=t.disposeVar(new i.Event),t._imageProcessingResettingEvent=t.disposeVar((0,i.createNextAnimateFrameEvent)(t.enabledChanged,t.uriChanged,t.typeChanged)),t._imageProcessingResetting=t.disposeVar(new s.ObjResettingWithEvent(t._imageProcessingResettingEvent,(function(){do{if(!t.enabled)break;if(!t.uri)break;var e=t.type;if(e||(e=g(t.uri)),!e)break;if("img"===e)return new c.ImageProcessing(t,t.uri);if("video"===e)return new f.VideoProcessing(t,t.uri);if("gif"===e)return new p.GifProcessing(t,t.uri);if("hls"===e)return new d.HlsProcessing(t,t.uri);if("flv"===e)return new h.FlvProcessing(t,t.uri)}while(0)}))),t._createNativeTextureEvent=t.disposeVar((0,i.createNextAnimateFrameEvent)(t.enabledChanged,t.sizeChanged,t.pixelFormatChanged,t.flipYChanged)),t}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri.value},set:function(e){this._uri.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uriChanged",{get:function(){return this._uri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type.value},set:function(e){this._type.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeChanged",{get:function(){return this._type.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size.value},set:function(e){this._size.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeChanged",{get:function(){return this._size.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelFormat",{get:function(){return this._pixelFormat.value},set:function(e){this._pixelFormat.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelFormatChanged",{get:function(){return this._pixelFormat.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this._flipY.value},set:function(e){this._flipY.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipYChanged",{get:function(){return this._flipY.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossOrigin",{get:function(){return this._crossOriginReact.value},set:function(e){this._crossOriginReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossOriginChanged",{get:function(){return this._crossOriginReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoplay",{get:function(){return this._autoplayReact.value},set:function(e){this._autoplayReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoplayChanged",{get:function(){return this._autoplayReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loopReact.value},set:function(e){this._loopReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopChanged",{get:function(){return this._loopReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyTextureEvent",{get:function(){return this._copyTextureEvent},enumerable:!1,configurable:!0}),t.prototype.copyTexture=function(e){this._createNativeTextureEvent.flush(),this._copyTextureEvent.emit(e)},Object.defineProperty(t.prototype,"imageProcessingResetting",{get:function(){return this._imageProcessingResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createNativeTextureEvent",{get:function(){return this._createNativeTextureEvent},enumerable:!1,configurable:!0}),t.prototype.copyFromCanvas=function(e){e.width<=0||e.height<=0?console.warn("canvas.width <= 0 || canvas.height <= 0"):(this.size=[e.width,e.height],this.pixelFormat="RGBA",this.copyTexture({source:e}))},t.types=u.complexImageTypes,t.czmPixelFormats=l.czmPixelFormats,t.suffixTypes={png:"img",jpg:"img",svg:"img",webp:"img",gif:"gif",mp4:"video",mov:"video",webm:"video",flv:"flv",m3u8:"hls"},t}(i.Destroyable);t.ComplexImage=y},6687:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.complexImageTypes=void 0,t.complexImageTypes=["img","gif","video","flv","hls"]},2885:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.czmPixelFormats=void 0,t.czmPixelFormats=["DEPTH_COMPONENT","DEPTH_STENCIL","ALPHA","RED","RG","RGB","RGBA","LUMINANCE","LUMINANCE_ALPHA","RGB_DXT1","RGBA_DXT1","RGBA_DXT3","RGBA_DXT5","RGB_PVRTC_4BPPV1","RGB_PVRTC_2BPPV1","RGBA_PVRTC_4BPPV1","RGBA_PVRTC_2BPPV1","RGBA_ASTC","RGB_ETC1","RGB8_ETC2","RGBA8_ETC2_EAC","RGBA_BC7"]},6954:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},39:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FlvProcessing=t.FlvJsLoading=void 0;var s=r(1941),c=r(6406),l=r(8264),u=r(4439),f=function(e){function t(){var r=e.call(this)||this;return r._loading=!1,r._loadedEvent=r.disposeVar(new s.Event),r._loaded=!1,r._loadedPromise=new Promise((function(e){r._loadedPromiseResolve=e})),r._processing=r.disposeVar((0,u.createProcessingFromAsyncFunc)((function(e){return i(r,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return this._loading=!0,window.flvjs?(console.info("flvjs"),[3,3]):[3,1];case 1:return r=l.SceneObject.context.getStrFromEnv(t.path),[4,e.promise((0,s.loadJs)(r))];case 2:n.sent(),n.label=3;case 3:return this._loading=!1,this._loaded=!0,this._loadedEvent.emit(),this._loadedPromiseResolve(),[2]}}))}))}))),r._processingStart=r._processing.start(),r}return o(t,e),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadedEvent",{get:function(){return this._loadedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loaded",{get:function(){return this._loaded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadedPromise",{get:function(){return this._loadedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.instance=function(){return t._instance=t._instance||new t,t._instance},t.path="${xr-utils-script-dir}/xr-static/xr-utils/flvjs/1.6.2/flv.min.js",t}(s.Destroyable);t.FlvJsLoading=f;var p=function(e){function t(t,r){var n=e.call(this)||this;n._complexImage=t,n._videoSrc=r;var o,i=document.createElement("video");return i.src=n._videoSrc,i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.zIndex="-100",i.style.visibility="hidden",(o=function(){i.crossOrigin=n._complexImage.crossOrigin})(),n.dispose(n._complexImage.crossOriginChanged.disposableOn(o)),(o=function(){i.autoplay=n._complexImage.autoplay})(),n.dispose(n._complexImage.autoplayChanged.disposableOn(o)),(o=function(){i.loop=n._complexImage.loop})(),n.dispose(n._complexImage.loopChanged.disposableOn(o)),i.muted=!0,document.body.appendChild(i),n._element=i,n.dispose((function(){return document.body.removeChild(i)})),n}return o(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),t}(s.Destroyable),d=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._videoSrc=r,n._videoDom=n.disposeVar(new p(n._complexImage,"")),n._processing=n.disposeVar((0,u.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){var t,r,n,o;return a(this,(function(i){switch(i.label){case 0:return t=this.videoSrc,r=f.instance(),[4,e.promise(r.loadedPromise)];case 1:return i.sent(),n=window.flvjs,o=this.element,[4,(0,c.step)(e,(function(){return new Promise((function(e,r){if(n.isSupported()){var i=n.createPlayer({type:"flv",url:t});i.attachMediaElement(o),i.load(),i.play(),o.xbsjFlvPlayer=i}else r("flvjs")}))}))];case 2:return i.sent(),[2]}}))}))}))),n._processingStartup=n._processing.start(),n}return o(t,e),Object.defineProperty(t.prototype,"videoSrc",{get:function(){return this._videoSrc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoDom",{get:function(){return this._videoDom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.videoDom.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t}(s.Destroyable),h=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._imageUri=r,n._videoDom=n.disposeVar(new d(n._complexImage,n._imageUri)),n._update=n.disposeVar((0,c.createAnimateFrameWithStartValues)((function(){return n.update()}))),n._updateStart=n._update.start(),n}return o(t,e),Object.defineProperty(t.prototype,"videoDom",{get:function(){return this._videoDom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._videoDom.element},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(!(this.videoElement.readyState<2)){var e=this._complexImage,t=this.videoElement,r=t.videoWidth,n=t.videoHeight;e.size=[r,n],e.pixelFormat="RGBA",e.copyTexture({source:this.videoElement})}},t}(s.Destroyable);t.FlvProcessing=h},8473:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.GifProcessing=void 0;var i=r(4670),a=r(4648),s=r(6406),c=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._imageUri=r,n._gif=n.disposeVar(new i.Gif),n._update=n.disposeVar((0,s.createAnimateFrameWithStartValues)((function(){return n.update()}))),n._updateStart=n._update.start(),n._gif.url=n._imageUri,n}return o(t,e),Object.defineProperty(t.prototype,"gif",{get:function(){return this._gif},enumerable:!1,configurable:!0}),t.prototype.update=function(){var e=this,t=this._gif.player;if(t.gifFrames){var r,n=this._complexImage,o=t.gifCanvas,i=o.width,a=o.height;n.size=[i,a],n.pixelFormat="RGBA",n.copyTexture({source:t.gifCanvas}),(r=function(){t.autoPlayOnLoad=e._complexImage.autoplay})(),this.dispose(this._complexImage.autoplayChanged.disposableOn(r)),(r=function(){t.loop=e._complexImage.loop})(),this.dispose(this._complexImage.loopChanged.disposableOn(r))}},t}(a.Destroyable);t.GifProcessing=c},7190:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HlsProcessing=t.HlsJsLoading=void 0;var s=r(1941),c=r(6406),l=r(8264),u=r(4439),f=function(e){function t(){var r=e.call(this)||this;return r._loading=!1,r._loadedEvent=r.disposeVar(new s.Event),r._loaded=!1,r._loadedPromise=new Promise((function(e){r._loadedPromiseResolve=e})),r._processing=r.disposeVar((0,u.createProcessingFromAsyncFunc)((function(e){return i(r,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return this._loading=!0,window.Hls?(console.info("hlsjs"),[3,3]):[3,1];case 1:return r=l.SceneObject.context.getStrFromEnv(t.path),[4,e.promise((0,s.loadJs)(r))];case 2:n.sent(),n.label=3;case 3:return this._loading=!1,this._loaded=!0,this._loadedEvent.emit(),this._loadedPromiseResolve(),[2]}}))}))}))),r._processingStart=r._processing.start(),r}return o(t,e),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadedEvent",{get:function(){return this._loadedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loaded",{get:function(){return this._loaded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadedPromise",{get:function(){return this._loadedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.instance=function(){return t._instance=t._instance||new t,t._instance},t.path="${xr-utils-script-dir}/xr-static/xr-utils/hlsjs/1.4.12/hls.min.js",t}(s.Destroyable);t.HlsJsLoading=f;var p=function(e){function t(t,r){var n=e.call(this)||this;n._complexImage=t,n._videoSrc=r;var o,i=document.createElement("video");return i.src=n._videoSrc,i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.zIndex="-100",i.style.visibility="hidden",(o=function(){i.crossOrigin=n._complexImage.crossOrigin})(),n.dispose(n._complexImage.crossOriginChanged.disposableOn(o)),(o=function(){i.autoplay=n._complexImage.autoplay})(),n.dispose(n._complexImage.autoplayChanged.disposableOn(o)),(o=function(){i.loop=n._complexImage.loop})(),n.dispose(n._complexImage.loopChanged.disposableOn(o)),i.muted=!0,document.body.appendChild(i),n._element=i,n.dispose((function(){return document.body.removeChild(i)})),n}return o(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),t}(s.Destroyable),d=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._videoSrc=r,n._videoDom=n.disposeVar(new p(n._complexImage,"")),n._processing=n.disposeVar((0,u.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){var t,r,n,o,i;return a(this,(function(a){switch(a.label){case 0:return t=this.videoSrc,r=f.instance(),[4,e.promise(r.loadedPromise)];case 1:return a.sent(),n=window.Hls,o=new n,i=this.element,[4,(0,c.step)(e,(function(){return new Promise((function(e,r){i.xbsjHLS=o,o.attachMedia(i),o.on(n.Events.MEDIA_ATTACHED,(function(){o.loadSource(t),o.on(n.Events.MANIFEST_PARSED,(function(t,r){i.play(),e()}))})),o.on(n.Events.ERROR,(function(e,t){t.type;var n=t.details;t.fatal&&(o.destroy(),r(n))}))}))}))];case 2:return a.sent(),[2]}}))}))}))),n._processingStartup=n._processing.start(),n}return o(t,e),Object.defineProperty(t.prototype,"videoSrc",{get:function(){return this._videoSrc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoDom",{get:function(){return this._videoDom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.videoDom.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t}(s.Destroyable),h=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._imageUri=r,n._videoDom=n.disposeVar(new d(n._complexImage,n._imageUri)),n._update=n.disposeVar((0,c.createAnimateFrameWithStartValues)((function(){return n.update()}))),n._updateStart=n._update.start(),n}return o(t,e),Object.defineProperty(t.prototype,"videoDom",{get:function(){return this._videoDom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._videoDom.element},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(!(this.videoElement.readyState<2)){var e=this._complexImage,t=this.videoElement,r=t.videoWidth,n=t.videoHeight;e.size=[r,n],e.pixelFormat="RGBA",e.copyTexture({source:this.videoElement})}},t}(s.Destroyable);t.HlsProcessing=h},770:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageProcessing=void 0;var s=r(1941),c=r(4439),l=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._imageUri=r,n._processing=n.disposeVar((0,c.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return t=this._complexImage,[4,e.promise((0,s.fetchImage)(this._imageUri,this._complexImage.crossOrigin))];case 1:return(r=n.sent())?(r instanceof HTMLImageElement&&(t.size=[r.naturalWidth,r.naturalHeight],t.pixelFormat="RGBA",t.copyTexture({source:r})),[2]):[2]}}))}))}))),n._processingStart=n._processing.start(),n}return o(t,e),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.ImageProcessing=l},3116:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VideoProcessing=void 0;var i=r(1941),a=r(6406),s=function(e){function t(t,r){var n=e.call(this)||this;n._complexImage=t,n._videoSrc=r;var o,i=document.createElement("video");return i.src=n._videoSrc,i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.zIndex="-100",i.style.visibility="hidden",i.style.width="0px",i.style.height="0px",(o=function(){i.crossOrigin=n._complexImage.crossOrigin})(),n.dispose(n._complexImage.crossOriginChanged.disposableOn(o)),(o=function(){i.autoplay=n._complexImage.autoplay})(),n.dispose(n._complexImage.autoplayChanged.disposableOn(o)),(o=function(){i.loop=n._complexImage.loop})(),n.dispose(n._complexImage.loopChanged.disposableOn(o)),i.muted=!0,document.body.appendChild(i),n._element=i,n.dispose((function(){return document.body.removeChild(i)})),n}return o(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),t}(i.Destroyable),c=function(e){function t(t,r){var n=e.call(this)||this;return n._complexImage=t,n._imageUri=r,n._videoDom=n.disposeVar(new s(n._complexImage,n._imageUri)),n._update=n.disposeVar((0,a.createAnimateFrameWithStartValues)((function(){return n.update()}))),n._updateStart=n._update.start(),n}return o(t,e),Object.defineProperty(t.prototype,"videoDom",{get:function(){return this._videoDom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._videoDom.element},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(!(this.videoElement.readyState<2)){var e=this._complexImage,t=this.videoElement,r=t.videoWidth,n=t.videoHeight;e.size=[r,n],e.pixelFormat="RGBA",e.copyTexture({source:this.videoElement})}},t}(i.Destroyable);t.VideoProcessing=c},1488:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6815),t),o(r(6687),t),o(r(2885),t),o(r(6954),t),o(r(770),t),o(r(3116),t),o(r(8473),t),o(r(7190),t),o(r(39),t)},2470:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof l?l(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGetLocalFilePath=t.defaultLocalFileServer=t.LocalFileServer=t.LocalRootDir=t.getFileArrayBuffer=t.getFileJson=t.getFileText=t.getSubEntriesFromDir=void 0;var u=r(4648);function f(e){var t,r,n,o;return i(this,void 0,void 0,(function(){var i,l,u,f,p,d,h,g,y,m,v;return a(this,(function(a){switch(a.label){case 0:i=[],l=[],u=e.entries(),a.label=1;case 1:a.trys.push([1,6,7,12]),f=!0,p=s(u),a.label=2;case 2:return[4,p.next()];case 3:if(d=a.sent(),t=d.done)return[3,5];o=d.value,f=!1;try{h=c(o,2),g=h[0],y=h[1],"file"===(m=y).kind?i.push(g):"directory"===m.kind&&l.push(g)}finally{f=!0}a.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return v=a.sent(),r={error:v},[3,12];case 7:return a.trys.push([7,,10,11]),f||t||!(n=p.return)?[3,9]:[4,n.call(p)];case 8:a.sent(),a.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,{files:i,dirs:l}]}}))}))}function p(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.getFile()];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()]}}))}))}function d(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,p(e)];case 1:t=r.sent();try{return[2,JSON.parse(t)]}catch(e){return[2,void 0]}return[2]}}))}))}function h(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.getFile()];case 1:return[4,t.sent().arrayBuffer()];case 2:return[2,t.sent()]}}))}))}t.getSubEntriesFromDir=f,t.getFileText=p,t.getFileJson=d,t.getFileArrayBuffer=h;var g=function(e){function t(t){var r=e.call(this)||this;return r._rootDirHandle=t,r}return o(t,e),Object.defineProperty(t.prototype,"rootDirHandle",{get:function(){return this._rootDirHandle},enumerable:!1,configurable:!0}),t.prototype.getSubFilesAndDirs=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,f(this._rootDirHandle)];case 1:return[2,e.sent()]}}))}))},t.prototype.getDir=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:t=this._rootDirHandle,a.label=1;case 1:a.trys.push([1,6,7,8]),r=l(e),n=r.next(),a.label=2;case 2:return n.done?[3,5]:(o=n.value,[4,null==t?void 0:t.getDirectoryHandle(o)]);case 3:if(!(t=a.sent()))return console.log("getDirectoryHandle ".concat(o," failed")),[2,void 0];a.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return i=a.sent(),s={error:i},[3,8];case 7:try{n&&!n.done&&(c=r.return)&&c.call(r)}finally{if(s)throw s.error}return[7];case 8:return[2,t]}}))}))},t.prototype.getFile=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return a(this,(function(o){switch(o.label){case 0:return[4,this.getDir(e)];case 1:if(!(r=o.sent()))return[2,void 0];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.getFileHandle(t)];case 3:return[2,o.sent()];case 4:return n=o.sent(),console.error(" ".concat(e.join("/"),"/").concat(t," error: ").concat(n),n),[2,void 0];case 5:return[2]}}))}))},t}(u.Destroyable);t.LocalRootDir=g;var y=function(e){function t(t){var r=e.call(this)||this;return r._prefix=t,r._startRootDirId=0,r._dirMap=new Map,r}return o(t,e),Object.defineProperty(t.prototype,"prefix",{get:function(){return this._prefix},enumerable:!1,configurable:!0}),t.prototype.getRootDirId=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),console.log("window.showDirectoryPicker begin"),[4,window.showDirectoryPicker({id:e,mode:"read"})];case 1:return t=i.sent(),console.log("window.showDirectoryPicker end",t),[3,3];case 2:return r=i.sent(),console.error("LocalFileServer getRootDirId failed: ".concat(r),r),[2,void 0];case 3:return t?(n=++this._startRootDirId,o="".concat(this._prefix).concat(n),this._dirMap.set(o,new g(t)),[2,o]):[2]}}))}))},t.prototype.getRootDir=function(e){return this._dirMap.get(e)},t.prototype.getFile=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,i,s;return a(this,(function(a){switch(a.label){case 0:return(t=e.split("/")).length<2?(console.warn("LocalFileServer getFile failed: ".concat(e)),[2,void 0]):(r=t[0],(n=this._dirMap.get(r))?(o=t.slice(1,t.length-1),i=t[t.length-1],[4,n.getFile(o,i)]):(console.warn("LocalFileServer getFile failed: ".concat(e)),[2,void 0]));case 1:return(s=a.sent())?[2,s]:(console.warn("LocalFileServer getFile failed: ".concat(e)),[2,void 0])}}))}))},t.prototype.getText=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,this.getFile(e)];case 1:return(t=r.sent())?[4,p(t)]:[2,void 0];case 2:return[2,r.sent()]}}))}))},t.prototype.getArrayBuffer=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,this.getFile(e)];case 1:return(t=r.sent())?[4,h(t)]:[2,void 0];case 2:return[2,r.sent()]}}))}))},t.prototype.getJson=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,this.getFile(e)];case 1:return(t=r.sent())?[4,d(t)]:[2,void 0];case 2:return[2,r.sent()]}}))}))},t.prototype.getLocalFilePath=function(e,t,r){return i(this,void 0,void 0,(function(){var r,n,o,i;return a(this,(function(a){switch(a.label){case 0:return[4,this.getRootDirId(t)];case 1:return(r=a.sent())?(n=this.getRootDir(r))?[4,n.getSubFilesAndDirs()]:(console.warn("getRootDir error!"),[2,void 0]):(console.warn("getRootDirId error!"),[2,void 0]);case 2:return(o=a.sent()).files?0===(i=e?o.files.filter((function(t){return e.some((function(e){return t.endsWith(e)}))})):o.files).length?(console.warn(""),[2,void 0]):[2,"https://".concat(r,"/").concat(i[0])]:(console.warn("getSubFilesAndDirs error! "),[2,void 0])}}))}))},t}(u.Destroyable);t.LocalFileServer=y,t.defaultLocalFileServer=new y("xe2_local"),t.defaultGetLocalFilePath=function(e,r,n){return i(this,void 0,void 0,(function(){return a(this,(function(o){switch(o.label){case 0:return[4,t.defaultLocalFileServer.getLocalFilePath(e,r,n)];case 1:return[2,o.sent()]}}))}))}},1843:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;var i=r(4648),a=r(4648),s=r(4648),c=r(1941),l=function(e){function t(t,r){void 0===t&&(t=1e3),void 0===r&&(r=c.defaultStartUpdateFunc);var n=e.call(this)||this;return n._currentTime=n.disposeVar((0,s.react)(0)),n._speed=1,n._duration=t,n._loop=!1,n.startUpdateFunc=r,n._updateBindThis=n._update.bind(n),n.dispose((function(){n._cancelStartUpdateFunc&&(n._cancelStartUpdateFunc(),n._cancelStartUpdateFunc=void 0)})),n._startTimeStamp=Number.NaN,n.dispose((function(){n._startPlayingEvent&&n._startPlayingEvent.reset(),n._stopPlayingEvent&&n._stopPlayingEvent.reset()})),n}return o(t,e),Object.defineProperty(t.prototype,"startPlayingEvent",{get:function(){return this._startPlayingEvent=this._startPlayingEvent||new a.Event,this._startPlayingEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopPlayingEvent",{get:function(){return this._stopPlayingEvent=this._stopPlayingEvent||new a.Event,this._stopPlayingEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTimeChangedEvent",{get:function(){return this._currentTime.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopChangedEvent",{get:function(){return this._loopChangedEvent=this._loopChangedEvent||new a.Event,this._loopChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop!==e&&(this._loop=e,this._loopChangedEvent&&this._loopChangedEvent.emit(this._loop))},enumerable:!1,configurable:!0}),t.prototype._update=function(e){if(Number.isNaN(this._startTimeStamp))console.warn("Number.isNaN(this._startTimeStamp)");else{var t=(e-this._startTimeStamp)*this._speed;this._setCurrentTimeInner(t)}},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._currentTime.value},set:function(e){this._setCurrentTimeInner(e),this._resetStartTime()},enumerable:!1,configurable:!0}),t.prototype._setCurrentTimeInner=function(e){this._currentTime.value!==e&&(this._duration<=0?this._currentTime.value=0:e<0?this.loop?this._currentTime.value=this._duration+e%this._duration:(this._currentTime.value=0,this.playing&&this._stopPlaying()):e>this._duration?this.loop?this._currentTime.value=e%this._duration:(this._currentTime.value=this._duration,this.playing&&this._stopPlaying()):this._currentTime.value=e)},Object.defineProperty(t.prototype,"durationChangedEvent",{get:function(){return this._durationChangedEvent||(this._durationChangedEvent=new a.Event),this._durationChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(e){var t;if(e<0)console.warn("duration sholud greater than 0!");else if(this._duration!==e){var r=this._duration;this._duration=e,this._currentTime.value>this._duration&&(this._currentTime.value=this._duration),null===(t=this._durationChangedEvent)||void 0===t||t.emit(this._duration,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speedChangedEvent",{get:function(){return this._speedChangedEvent||(this._speedChangedEvent=new a.Event),this._speedChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(e){var t;if(this._speed!==e&&0!==e){var r=this._speed;this._speed=e,this._resetStartTime(),null===(t=this._speedChangedEvent)||void 0===t||t.emit(this._speed,r)}},enumerable:!1,configurable:!0}),t.prototype._resetStartTime=function(){this._startTimeStamp=performance.now()-this._currentTime.value/this._speed},t.prototype._startPlaying=function(){var e,t;this._resetStartTime(),this._cancelStartUpdateFunc=this.startUpdateFunc(this._updateBindThis),null===(e=this._startPlayingEvent)||void 0===e||e.emit(this._currentTime.value),null===(t=this._playingChangedEvent)||void 0===t||t.emit(!0)},t.prototype._stopPlaying=function(){var e,t;if(!this._cancelStartUpdateFunc)throw new Error("this._cancelStartUpdateFunc is undefined!");this._cancelStartUpdateFunc(),this._cancelStartUpdateFunc=void 0,null===(e=this._stopPlayingEvent)||void 0===e||e.emit(this._currentTime.value),null===(t=this._playingChangedEvent)||void 0===t||t.emit(!1)},Object.defineProperty(t.prototype,"playingChangedEvent",{get:function(){return this._playingChangedEvent||(this._playingChangedEvent=new a.Event),this._playingChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return!!this._cancelStartUpdateFunc},set:function(e){!!this._cancelStartUpdateFunc!==e&&(e?this._startPlaying():this._stopPlaying())},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.Player=l},8166:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DivBoxPicker=t.BoxPicker=void 0;var i=r(4648),a=r(4648),s=r(7247),c=r(4648),l=function(e){function t(){var t=e.call(this)||this;t._pickRectEvent=t.disposeVar(new a.Event),t._updateRectEvent=t.disposeVar(new a.Event),t._pointerActionEvent=t.disposeVar(new a.Event),t._active=t.disposeVar((0,c.react)(!1)),t._pickRect={left0:0,top0:0,left1:0,top1:0};var r=0,n=0,o=0,i=0;return t.dispose(t._pointerActionEvent.disposableOn((function(e){var a=e.type,s=e.left,c=e.top;"PointerDown"===a?(t._active.value=!0,r=s,n=c,o=s,i=c,t._setPickRect({left0:r,top0:n,left1:o,top1:i}),t._updateRectEvent.emit(t._pickRect)):"PointerMove"===a?t._active.value&&(o=s,i=c,t._setPickRect({left0:r,top0:n,left1:o,top1:i}),t._updateRectEvent.emit(t._pickRect)):"PointerUp"===a&&t._active.value&&(t._active.value=!1,o=s,i=c,t._setPickRect({left0:r,top0:n,left1:o,top1:i}),t._updateRectEvent.emit(t._pickRect),t._pickRectEvent.emit(t._pickRect))}))),t}return o(t,e),t.prototype._setPickRect=function(e){var t=e.left0,r=e.left1,n=e.top0,o=e.top1;this._pickRect.left0=t,this._pickRect.left1=r,this._pickRect.top0=n,this._pickRect.top1=o},t.prototype.pointerDown=function(e,t){this._pointerActionEvent.emit({type:"PointerDown",left:e,top:t})},t.prototype.pointerMove=function(e,t){this._pointerActionEvent.emit({type:"PointerMove",left:e,top:t})},t.prototype.pointerUp=function(e,t){this._pointerActionEvent.emit({type:"PointerUp",left:e,top:t})},t.prototype.reset=function(){this._setPickRect({left0:0,top0:0,left1:0,top1:0}),this._updateRectEvent.emit(this._pickRect),this._pickRectEvent.emit(this._pickRect)},Object.defineProperty(t.prototype,"activeEvent",{get:function(){return this._active.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateRectEvent",{get:function(){return this._updateRectEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickRectEvent",{get:function(){return this._pickRectEvent},enumerable:!1,configurable:!0}),t.getLeftTopAndSize=function(e,t){t=t||{left:0,top:0,width:0,height:0,forward:!0};var r=e.left0,n=e.top0,o=e.left1,i=e.top1;return t.width=Math.abs(r-o),t.height=Math.abs(n-i),t.left=Math.min(r,o),t.top=Math.min(n,i),t.forward=o>r,t},t.contains=function(e,t,r){var n=r.left,o=r.top,i=r.width,a=r.height;return e>n&&e<=n+i&&t>=o&&t<=o+a},t}(i.Destroyable);t.BoxPicker=l;var u=function(e){function t(t){var r=e.call(this)||this,n=r.disposeVar(new s.PointerClickDeprecated(t));r.dispose(n.downEvent.disposableOn((function(e,t,n){return n.altKey&&r.pointerDown(e,t)}))),r.dispose(n.moveEvent.disposableOn((function(e,t){return r.pointerMove(e,t)}))),r.dispose(n.upEvent.disposableOn((function(e,t){return r.pointerUp(e,t)})));var o=document.createElement("div");o.style.backgroundColor="rgba(0, 0, 0, 0)",o.style.border="2px dashed red",o.style.position="absolute",o.style.boxSizing="border-box",o.style.pointerEvents="none",o.style.height="0px",o.style.width="0px",o.style.left="0px",o.style.top="0px",o.style.display="none",t.appendChild(o),r.dispose((function(){return t.removeChild(o)})),r.dispose(r.activeEvent.disposableOn((function(e){o.style.display=e?"block":"none"})));var i=function(){r.reset()};t.addEventListener("contextmenu",i),r.dispose((function(){return t.removeEventListener("contextmenu",i)}));var a={left:0,top:0,width:0,height:0,forward:!1};return r.dispose(r.updateRectEvent.disposableOn((function(e){if(l.getLeftTopAndSize(e,a)){var t=a.left,r=a.top,n=a.width,i=a.height;o.style.height="".concat(0|i,"px"),o.style.width="".concat(0|n,"px"),o.style.left="".concat(0|t,"px"),o.style.top="".concat(0|r,"px")}}))),r}return o(t,e),t}(l);t.DivBoxPicker=u},245:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DivPointerClick=void 0;var i=r(4648),a=r(4438),s=function(e){function t(t,r){var n=e.call(this)||this;n._div=t,n._pointerClick=n.disposeVar(new a.PointerClick);var o=n,i=o.div,s=o.pointerClick,c=function(e){return s.pointerDown(e)},l=function(e){return s.pointerMove(e)},u=function(e){return s.pointerOut(e)},f=function(e){return s.pointerUp(e)};return i.addEventListener("pointerdown",c,r),i.addEventListener("pointermove",l,r),i.addEventListener("pointerout",u,r),i.addEventListener("pointerup",f,r),n.dispose((function(){i.removeEventListener("pointerdown",c,r),i.removeEventListener("pointermove",l,r),i.removeEventListener("pointerout",u,r),i.removeEventListener("pointerup",f,r)})),n}return o(t,e),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointerClick",{get:function(){return this._pointerClick},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this.pointerClick.clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbclickEvent",{get:function(){return this.pointerClick.dbclickEvent},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.DivPointerClick=s},1625:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DomElementEvent=void 0;var i=r(4648),a=-1,s=function(e){function t(t,r,n,o){var i=e.call(this)||this;i._domElement=t,i._type=r,i.callback=o;var s=function(e){return e.__xbsj_listenerNo__=++a,e.__xbsj_listenerTime__=Date.now(),e.__xbsj_lastCurrentTarget__=e.currentTarget,i.emit(e),i.callback&&i.callback(e)};return i._domElement.addEventListener(i._type,s,n),i.dispose((function(){return i._domElement.removeEventListener(i._type,s,n)})),i}return o(t,e),t.getLastLisenNo=function(){return a},t.getCurrentTarget=function(e){return e.__xbsj_lastCurrentTarget__},t.getListenerNo=function(e){return e.__xbsj_listenerNo__},t.getListenerTime=function(e){return e.__xbsj_listenerTime__},t.on=function(e,r){var n=t.getLastLisenNo();return e.disposableOn((function(e){var o=t.getListenerNo(e);(void 0===o||o>n)&&r(e)}))},Object.defineProperty(t.prototype,"element",{get:function(){return this._domElement},enumerable:!1,configurable:!0}),t.create=function(e,r,n){return new t(e,r,n)},t}(i.Event);t.DomElementEvent=s},4438:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerClick=void 0;var c=r(4648),l=r(4648),u=r(4648),f=r(6406),p=r(4439),d=r(1625),h=r(367),g=function(e){function t(){var t=e.call(this)||this;t._clickEvent=t.disposeVar(new l.Event),t._dbclickEvent=t.disposeVar(new l.Event),t._pointerdownEvent=t.disposeVar(new l.Event),t._pointerupEvent=t.disposeVar(new l.Event),t._pointermoveEvent=t.disposeVar(new l.Event),t._pointeroutEvent=t.disposeVar(new l.Event),t.dbClickDelayTime=300,t.nativeClickDelayTime=500,t.clickMovementTolerantPixelSize=3,t.debugging=!1,t._enabled=t.disposeVar((0,u.react)(!0));var r=t.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return i(t,void 0,void 0,(function(){var t,r,n=this;return a(this,(function(o){switch(o.label){case 0:t=function(){var t,o,i;return a(this,(function(a){switch(a.label){case 0:return[4,(0,f.step)(e,(function(e){return new Promise((function(t,r){e.disposer.dispose(r),e.disposer.dispose(d.DomElementEvent.on(n._pointerdownEvent,t))}))}))];case 1:return t=a.sent(),o=(0,h.getDomEventCurrentTargetPos)(t),r.debugging&&console.log(" ".concat(o.toString())),[4,(0,f.step)(e,(function(e){return new Promise((function(t,r){e.disposer.dispose(r);var i=setTimeout((function(){return t(!0)}),n.nativeClickDelayTime);e.disposer.dispose((function(){return clearTimeout(i)})),e.disposer.dispose(d.DomElementEvent.on(n._pointermoveEvent,(function(e){var r=s((0,h.getDomEventCurrentTargetPos)(e),2),n=r[0],i=r[1],a=s(o,2),c=a[0],l=a[1];(Math.abs(n-c)>3||Math.abs(i-l)>3)&&t(!1)}))),e.disposer.dispose(d.DomElementEvent.on(n._pointeroutEvent,(function(){return t(!1)}))),e.disposer.dispose(d.DomElementEvent.on(n._pointerupEvent,(function(){return t(!0)})))}))}))];case 2:return a.sent()?[4,(0,f.step)(e,(function(e){return new Promise((function(t,r){e.disposer.dispose(r);var i=setTimeout((function(){return t("timeout")}),n.dbClickDelayTime);e.disposer.dispose((function(){return clearTimeout(i)})),e.disposer.dispose(d.DomElementEvent.on(n._pointermoveEvent,(function(e){var r=s((0,h.getDomEventCurrentTargetPos)(e),2),n=r[0],i=r[1],a=s(o,2),c=a[0],l=a[1];(Math.abs(n-c)>3||Math.abs(i-l)>3)&&t("moved")}))),e.disposer.dispose(d.DomElementEvent.on(n._pointerdownEvent,t)),e.disposer.dispose(d.DomElementEvent.on(n._pointeroutEvent,(function(){return t("pointouted")}))),e.disposer.dispose(d.DomElementEvent.on(n._pointerupEvent,(function(){return t("pointuped")})))}))}))]:(r.debugging&&console.log("1"),[2,"continue"]);case 3:return"string"==typeof(i=a.sent())?(r.debugging&&console.log("error: ".concat(i)),r._clickEvent.emit(t),[2,"continue"]):[4,(0,f.step)(e,(function(e){return new Promise((function(t,r){e.disposer.dispose(r);var i=setTimeout((function(){return t(!1)}),n.nativeClickDelayTime);e.disposer.dispose((function(){return clearTimeout(i)})),e.disposer.dispose(d.DomElementEvent.on(n._pointermoveEvent,(function(e){var r=s((0,h.getDomEventCurrentTargetPos)(e),2),n=r[0],i=r[1],a=s(o,2),c=a[0],l=a[1];(Math.abs(n-c)>3||Math.abs(i-l)>3)&&t(!1)}))),e.disposer.dispose(d.DomElementEvent.on(n._pointeroutEvent,(function(){return t(!1)}))),e.disposer.dispose(d.DomElementEvent.on(n._pointerupEvent,(function(){return t(!0)})))}))}))];case 4:return a.sent()?(r.debugging&&console.log(""),r._dbclickEvent.emit(i),[2]):(r.debugging&&console.log("2"),[2,"continue"])}}))},r=this,o.label=1;case 1:return[5,t()];case 2:o.sent(),o.label=3;case 3:return[3,1];case 4:return[2]}}))}))}))),n=function(e){e?r.restart():r.isRunning&&r.cancel()};return n(t.enabled),t.dispose(t.enabledChanged.disposableOn(n)),t}return o(t,e),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),t.prototype.pointerDown=function(e){this._pointerdownEvent.emit(e)},t.prototype.pointerUp=function(e){this._pointerupEvent.emit(e)},t.prototype.pointerMove=function(e){this._pointermoveEvent.emit(e)},t.prototype.pointerOut=function(e){this._pointeroutEvent.emit(e)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.PointerClick=g},7247:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerClickDeprecated=void 0;var a=r(817),s=r(4648),c=r(367),l=r(4648),u=function(e){function t(t){var r=e.call(this)||this;r._clickEvent=new l.Event,r._dbclickEvent=new l.Event,r._downEvent=new l.Event,r._upEvent=new l.Event,r._moveEvent=new l.Event,r._debouncing=new a.DebouncingDeprecated(300),r.dispose((function(){r._clickEvent.destroy(),r._dbclickEvent.destroy(),r._downEvent.destroy(),r._upEvent.destroy(),r._moveEvent.destroy(),r._debouncing.destroy()}));var n=!1,o=[0,0],s=!1;r._debouncing.progressFunc=function(e){var t=i(e,2),n=i(t[0],3),o=n[0],a=n[1],s=n[2],c=t[1];1===c?r._clickEvent.emit(o,a,s):c>=2?r._dbclickEvent.emit(o,a,s):console.error("point click should not be here!")},r._debouncing.start(),r.dispose((function(){r._debouncing.isRunning&&r._debouncing.cancel(),r._debouncing.destroy()}));var u=function(e){n=!0;var t=i((0,c.getDomEventCurrentTargetPos)(e),2),a=t[0],s=t[1];o[0]=a,o[1]=s,r._downEvent.emit(a,s,e)},f=function(e){var t=i((0,c.getDomEventCurrentTargetPos)(e),2),o=t[0],a=t[1];n&&!s&&r._debouncing.debounce(o,a,e),n=!1,s=!1,r._upEvent.emit(o,a,e)},p=function(e){var t=i((0,c.getDomEventCurrentTargetPos)(e),2),a=t[0],l=t[1];if(n&&!s){var u=i(o,2),f=u[0],p=u[1];(Math.abs(a-f)>3||Math.abs(l-p)>3)&&(s=!0)}r._moveEvent.emit(a,l,e)},d=function(){n=!1,s=!1};return t.addEventListener("pointerdown",u),t.addEventListener("pointerup",f),t.addEventListener("pointermove",p),t.addEventListener("pointerout",d),r.dispose((function(){t.removeEventListener("pointerdown",u),t.removeEventListener("pointerup",f),t.removeEventListener("pointermove",p),t.removeEventListener("pointerout",d)})),r}return o(t,e),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"downEvent",{get:function(){return this._downEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"upEvent",{get:function(){return this._upEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moveEvent",{get:function(){return this._moveEvent},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.PointerClickDeprecated=u},9892:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PointerHover=void 0;var i=r(4648),a=r(4648),s=r(6406),c=function(e){function t(){var t=e.call(this)||this;t._hoverEvent=t.disposeVar(new a.Event),t._hoverOutEvent=t.disposeVar(new a.Event),t._pointerdownEvent=t.disposeVar(new a.Event),t._pointerupEvent=t.disposeVar(new a.Event),t._pointermoveEvent=t.disposeVar(new a.Event),t._pointeroutEvent=t.disposeVar(new a.Event),t.delayTime=800;var r,n=t.disposeVar((0,s.createTimeout)()),o=function(){r?t._hoverEvent.emit(r):console.warn("!lastPointerEvent")};return t.dispose(t._pointerdownEvent.disposableOn((function(e){t._hoverOutEvent.emit()}))),t.dispose(t._pointerupEvent.disposableOn((function(e){t._hoverOutEvent.emit()}))),t.dispose(t._pointermoveEvent.disposableOn((function(e){r=e,n.restart(void 0,o,t.delayTime),t._hoverOutEvent.emit()}))),t.dispose(t._pointeroutEvent.disposableOn((function(e){n.cancel(),t._hoverOutEvent.emit()}))),t}return o(t,e),Object.defineProperty(t.prototype,"hoverEvent",{get:function(){return this._hoverEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoverOutEvent",{get:function(){return this._hoverOutEvent},enumerable:!1,configurable:!0}),t.prototype.pointerDown=function(e){this._pointerdownEvent.emit(e)},t.prototype.pointerUp=function(e){this._pointerupEvent.emit(e)},t.prototype.pointerMove=function(e){this._pointermoveEvent.emit(e)},t.prototype.pointerOut=function(e){this._pointeroutEvent.emit(e)},t}(i.Destroyable);t.PointerHover=c},7085:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerHoverDeprecated=void 0;var a=r(4648),s=r(4648),c=r(817),l=r(367),u=function(e){function t(t,r){void 0===r&&(r=1500);var n=e.call(this)||this;n._hoverEvent=new s.Event,n._hoverOutEvent=new s.Event;var o=new c.DebouncingDeprecated(r);n.dispose((function(){return o.destroy()}));var a,u=0,f=0;o.progressFunc=function(){return n._hoverEvent.emit(u,f,a)};var p=function(e){var t;!o.isRunning&&o.restart(),a=e,t=i((0,l.getDomEventCurrentTargetPos)(e),2),u=t[0],f=t[1],o.debounce(),n._hoverOutEvent.emit()},d=function(e){var t;!o.isRunning&&o.restart(),a=e,t=i((0,l.getDomEventCurrentTargetPos)(a),2),u=t[0],f=t[1],o.debounce(),n._hoverOutEvent.emit()},h=function(e){var t;!o.isRunning&&o.restart(),a=e,t=i((0,l.getDomEventCurrentTargetPos)(a),2),u=t[0],f=t[1],o.debounce(),n._hoverOutEvent.emit()},g=function(e){o.isRunning&&o.cancel(),n._hoverOutEvent.emit()};return t.addEventListener("pointerdown",p),t.addEventListener("pointerup",d),t.addEventListener("pointermove",h),t.addEventListener("pointerout",g),n.dispose((function(){t.removeEventListener("pointerdown",p),t.removeEventListener("pointerup",d),t.removeEventListener("pointermove",h),t.removeEventListener("pointerout",g)})),n}return o(t,e),Object.defineProperty(t.prototype,"hoverEvent",{get:function(){return this._hoverEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoverOutEvent",{get:function(){return this._hoverOutEvent},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.PointerHoverDeprecated=u},367:(e,t)=>{function r(e,t){t=t||[];var n=e.parentNode;return n?r(n,t.concat(n)):t}function n(e){var t=e.composedPath&&e.composedPath()||e.path,n=e.target;if(null!=t)return t.indexOf(window)<0?t.concat(window):t;if(n===window)return[window];if(null===n)throw new Error("target === null");return[n].concat(r(n),window)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDomEventCurrentTargetPos=void 0,t.getDomEventCurrentTargetPos=function(e){for(var t=e.offsetX,r=e.offsetY,o=n(e),i=0;i<o.length;++i){var a=o[i];if(!(a!==e.currentTarget&&a instanceof HTMLElement))break;t+=a.clientLeft,r+=a.clientTop,t+=a.offsetLeft,r+=a.offsetTop}return[t,r]}},7785:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8166),t),o(r(245),t),o(r(1625),t),o(r(4438),t),o(r(7247),t),o(r(9892),t),o(r(7085),t),o(r(367),t)},8920:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncingWithStartValues=t.Debouncing=void 0;var s=r(1941),c=r(5992),l=function(e){function t(){var t=e.call(this,(function(e,r,n){var o=e.errorFunc;try{var a=i((0,s.debounce)(r,n),2),c=a[0],l=a[1];return t._doFunc=c,l}catch(e){return o(e),function(){}}}))||this;return t}return o(t,e),t.prototype.do=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._doFunc&&this._doFunc.apply(this,a([],i(e),!1))},t}(c.Processing);t.Debouncing=l;var u=function(e){function t(t,r){var n=e.call(this,(function(e){var o=e.errorFunc;try{var a=i((0,s.debounce)(t,r),2),c=a[0],l=a[1];return n._doFunc=c,l}catch(e){return o(e),function(){}}}))||this;return n}return o(t,e),t.prototype.do=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._doFunc&&this._doFunc.apply(this,a([],i(e),!1))},t}(c.Processing);t.DebouncingWithStartValues=u},1e3:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createFetchingWithStartValues=t.createFetching=t.cancelableFetch=t.cancelableFetchWithProgress=void 0;var i=r(5354),a=r(2639),s=r(5245);function c(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=new AbortController,s=o.signal,c=n(t,2),l=c[0],u=c[1];if(null==u?void 0:u.signal)throw console.error("init?.signal"),new Error("init?.signal");(u=u||{}).signal&&console.warn("revocableFetch error: init.signal would be override!"),u.signal=s;var f=!1,p=fetch(l,u);return e&&(p=p.then((function(t){if(!t.ok)return t;if(!t.body)throw Error("ReadableStream not yet supported in this browser.");var r=t.headers.get("content-length");r||console.warn("response.headers.get('content-length') is undefined... cannot get contentLength!");var n=r?parseInt(r,10):0,o=0;return new Response(new ReadableStream({start:function(r){if(!t.body)throw new Error("!response.body");var i=t.body.getReader();!function t(){i.read().then((function(i){var a=i.done,s=i.value;if(a)r.close();else{if(!s)throw new Error("!value");if(!e)throw new Error("!progressFunc");o+=s.byteLength,e(o,n),r.enqueue(s),t()}})).catch((function(e){r.error(e)}))}()}}),{status:t.status,statusText:t.statusText,headers:t.headers})})).catch((function(e){throw f?(e instanceof Error&&20!==e.code&&console.error("error.code !== 20"),console.log("fetching cancelled!"),new i.CancelError("fetching cancelled! error: ".concat(e))):(e instanceof Error&&20===e.code&&console.error("error.code === 20"),e)}))),(0,a.setPromiseCancel)(p,(function(){f=!0,o.abort()})),p}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.apply(void 0,o([void 0],n(e),!1))}t.cancelableFetchWithProgress=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return c.apply(void 0,o([e],n(t),!1))},t.cancelableFetch=l,t.createFetching=function(){return(0,s.createProcessingFromPromiseCreateFunc)(l)},t.createFetchingWithStartValues=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.createProcessingFromPromiseCreateFuncWithStartValues.apply(void 0,o([l],n(e),!1))}},4490:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createSleepingWithStartValues=t.createSleeping=t.sleep=void 0;var i=r(5354),a=r(5245),s=r(2639);function c(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=void 0,a=new Promise((function(n,i){o=i,t=globalThis.setTimeout((function(){t=void 0,n(r)}),e)}));return(0,s.setPromiseCancel)(a,(function(e){t&&(clearTimeout(t),t=void 0),o&&o(null!=e?e:new i.CancelError("sleep cancel error!"))})),a}t.sleep=c,t.createSleeping=function(){return(0,a.createProcessingFromPromiseCreateFunc)(c)},t.createSleepingWithStartValues=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return a.createProcessingFromPromiseCreateFuncWithStartValues.apply(void 0,o([c,e],n(t),!1))}},8587:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ThrottlingWithStartValues=t.Throttling=void 0;var s=r(1941),c=r(5992),l=function(e){function t(){var t=e.call(this,(function(e,r,n){var o=e.errorFunc;try{var a=i((0,s.throttle)(r,n),2),c=a[0],l=a[1];return t._doFunc=c,l}catch(e){return o(e),function(){}}}))||this;return t}return o(t,e),t.prototype.do=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._doFunc&&this._doFunc.apply(this,a([],i(e),!1))},t}(c.Processing);t.Throttling=l;var u=function(e){function t(t,r){var n=e.call(this,(function(e){var o=e.errorFunc;try{var a=i((0,s.throttle)(t,r),2),c=a[0],l=a[1];return n._doFunc=c,l}catch(e){return o(e),function(){}}}))||this;return n}return o(t,e),t.prototype.do=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._doFunc&&this._doFunc.apply(this,a([],i(e),!1))},t}(c.Processing);t.ThrottlingWithStartValues=u},5479:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=void 0;var i=r(4648),a=r(4648),s=r(1843),c=function(e){function t(t){var r=e.call(this)||this;return r._stop=r.disposeVar((0,a.react)(0)),r._current=r.disposeVar((0,a.react)(0)),r._start=r.disposeVar((0,a.react)(0)),r._player=r.disposeVar(new s.Player(200)),r.dispose(r._player.currentTimeChangedEvent.disposableOn((function(e){var t=e/r._player.duration;t=t>1?1:t<0?0:t;var n=r._start.value,o=r._stop.value;r._current.value=n+(o-n)*t}))),r.duration=t,r}return o(t,e),Object.defineProperty(t.prototype,"current",{get:function(){return this._current.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._current.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._start.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceChanged",{get:function(){return this._start.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._stop.value},set:function(e){this._start.value=this._current.value,this._stop.value=e,this._player.currentTime=0,this._player.playing=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetChanged",{get:function(){return this._stop.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._player.duration},set:function(e){this._player.duration=e},enumerable:!1,configurable:!0}),t.prototype.reset=function(e){this._start.value=e,this._current.value=e,this._stop.value=e,this._player.playing=!1},t}(i.Destroyable);t.Transition=c},6769:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNextMicroTaskEvent=t.createNextAnimateFrameEvent=void 0;var n=r(1941);Object.defineProperty(t,"createNextAnimateFrameEvent",{enumerable:!0,get:function(){return n.createNextAnimateFrameEvent}}),Object.defineProperty(t,"createNextMicroTaskEvent",{enumerable:!0,get:function(){return n.createNextMicroTaskEvent}})},6690:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPromiseFromProcessing=void 0;var i=r(4648);t.getPromiseFromProcessing=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var a=-1;return[function(t){return a===e.runningId&&e.isRunning&&e.cancel(t)},new Promise((function(r,s){e.isRunning&&e.cancel(),e.reset();var c=new i.Destroyable;c.dispose(e.completeEvent.disposableOn((function(e){r(e),c.isDestroyed()?console.error("disposer is destroyed! ".concat(c)):c.destroy()}))),c.dispose(e.errorEvent.disposableOn((function(e){s(e),c.isDestroyed()?console.error("disposer is destroyed! ".concat(c)):c.destroy()}))),e.start.apply(e,o([],n(t),!1)),a=e.runningId}))]}},6406:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8920),t),o(r(6769),t),o(r(1e3),t),o(r(6690),t),o(r(2012),t),o(r(4490),t),o(r(9610),t),o(r(3473),t),o(r(8587),t),o(r(5479),t)},2012:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimateFrameWithStartValues=t.createAnimateFrame=t.createIntervalWithStartValues=t.createInterval=t.createTimeoutWithStartValues=t.createTimeout=t.createNextMicroTaskWithStartValues=t.createNextMicroTask=t.createNextAnimateFrameWithStartValues=t.createNextAnimateFrame=void 0;var i=r(1941),a=r(4439);function s(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return t.apply(void 0,o([],n(r),!1))}catch(t){e(t)}}t.createNextAnimateFrame=function(){return new a.Processing((function(e,t){var r=e.completeFunc,n=e.errorFunc;return(0,i.nextAnimateFrame)((function(){return s(n,(function(){t&&t(),r()}))}))}))},t.createNextAnimateFrameWithStartValues=function(e){return new a.Processing((function(t){var r=t.completeFunc,n=t.errorFunc;return(0,i.nextAnimateFrame)((function(){return s(n,(function(){e&&e(),r()}))}))}))},t.createNextMicroTask=function(){return new a.Processing((function(e,t){var r=e.completeFunc,n=e.errorFunc;return(0,i.nextMicroTask)((function(){s(n,(function(){t&&t(),r()}))}))}))},t.createNextMicroTaskWithStartValues=function(e){return new a.Processing((function(t){var r=t.completeFunc,n=t.errorFunc;return(0,i.nextMicroTask)((function(){s(n,(function(){e&&e(),r()}))}))}))},t.createTimeout=function(){return new a.Processing((function(e,t,r){var n=e.completeFunc,o=e.errorFunc;return(0,i.timeout)((function(){s(o,(function(){t&&t(),n()}))}),null!=r?r:1e3)}))},t.createTimeoutWithStartValues=function(e,t){return new a.Processing((function(r){var n=r.completeFunc,o=r.errorFunc;return(0,i.timeout)((function(){s(o,(function(){e&&e(),n()}))}),null!=t?t:1e3)}))},t.createInterval=function(){return new a.Processing((function(e,t,r){var n=e.errorFunc;return void 0===r&&(r=1e3),(0,i.interval)((function(){return s(n,t)}),r)}))},t.createIntervalWithStartValues=function(e,t){return void 0===t&&(t=1e3),new a.Processing((function(r){var n=r.errorFunc;return(0,i.interval)((function(){return s(n,e)}),t)}))},t.createAnimateFrame=function(){return new a.Processing((function(e,t){var r=e.errorFunc;return(0,i.animateFrame)((function(e){return s(r,t,e)}))}))},t.createAnimateFrameWithStartValues=function(e){return new a.Processing((function(t){var r=t.errorFunc;return(0,i.animateFrame)((function(t){return s(r,e,t)}))}))}},9610:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.step=void 0;var s=r(4439),c=r(6690);t.step=function(e,t){for(var r=this,l=[],u=2;u<arguments.length;u++)l[u-2]=arguments[u];return e.promise((0,s.pairToPromise)(c.getPromiseFromProcessing.apply(void 0,a([(0,s.createProcessingFromAsyncFunc)((function(s){for(var c=[],l=1;l<arguments.length;l++)c[l-1]=arguments[l];return n(r,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return e.disposer.dispose((function(){s.isDestroyed()||s.cancel()})),[4,t.apply(void 0,a([s],i(c),!1))];case 1:return[2,r.sent()]}}))}))}))],i(l),!1))))}},3473:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.stepProcessing=void 0;var i=r(4439),a=r(6690);t.stepProcessing=function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.promise((0,i.pairToPromise)(a.getPromiseFromProcessing.apply(void 0,o([t],n(r),!1))))}},817:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncingDeprecated=void 0;var a=r(5815),s=r(1941),c=function(e){function t(t){void 0===t&&(t=300);var r=e.call(this,(function(e){var t=e.progressFunc,n=(e.completeFunc,e.errorFunc,i((0,s.debounce)((function(){if(!r._lastDebounceValue)throw new Error("!this._lastDebounceValue");t([r._lastDebounceValue,r._debouncTimes]),r._debouncTimes=0}),r._delayTime),2)),o=n[0],a=n[1];return r._d=o,function(){a()}}))||this;return r._delayTime=t,r._debouncTimes=0,r}return o(t,e),Object.defineProperty(t.prototype,"delayTime",{get:function(){return this._delayTime},enumerable:!1,configurable:!0}),t.prototype.debounce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isRunning?(++this._debouncTimes,this._lastDebounceValue=e,this._d&&this._d()):console.warn("Debouncing is not running!")},t}(a.ProcessingDeprecated);t.DebouncingDeprecated=c},8685:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Fetching=void 0;var s=r(2039),c=r(5354),l=function(e){function t(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=e.call(this,(function(e){for(var r=e.progressFunc,n=e.completeFunc,l=e.errorFunc,u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];var p={},d={loaded:0,total:0},h=o._fetchArgs||u;if(0===h.length)throw new Error("fetchArgs.length === 0");if(s.cancelableFetchDeprecated.apply(void 0,a([p,function(e,t){d.loaded=e,d.total=t,r(d)}],i(h),!1)).then(t).then(n).catch((function(e){e instanceof c.CancelError||l(e)})),!p.cancelFunc)throw new Error("!cancelResult.cancelFunc");return p.cancelFunc}))||this;return r.length>0&&(o._fetchArgs=r),o}return o(t,e),Object.defineProperty(t.prototype,"fetchArgs",{get:function(){return this._fetchArgs},enumerable:!1,configurable:!0}),t}(r(5815).ProcessingDeprecated);t.Fetching=l},9308:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.IntervalDeprecated=void 0;var i=r(4187),a=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this,(function(e){var t=e.progressFunc;return e.completeFunc,e.errorFunc,n._intervalFunc=t,n._intervalID&&console.error("this._intervalID should be undefined!"),n.leading&&t(),n._intervalID=setInterval(t,n.intervalTime),function(){if(!n._intervalID)throw console.error("this._intervalID should not be undefined!"),new Error("this._intervalID should not be undefined!");clearInterval(n._intervalID),n._intervalID=void 0}}))||this;return n.intervalTime=t,n.leading=r,n.dispose(n.intervalTimeChanged.disposableOn((function(){n._intervalID&&n._intervalFunc&&(clearInterval(n._intervalID),n._intervalID=setInterval(n._intervalFunc,n.intervalTime))}))),n}return o(t,e),t}(r(5815).ProcessingDeprecated);t.IntervalDeprecated=a,(0,i.defineReactiveProp)(a,"leading",!0),(0,i.defineReactiveProp)(a,"intervalTime",500)},8311:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.TimingDeprecated=void 0;var i=r(5354),a=r(1941),s=function(){function e(e,t,r,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.startTime=e,this.duration=t,this.delay=r,this.proccessFunc=n,this.completeFunc=o,this._lastUpdateTimeStamp=0,this._processData={ratio:0,timeStamp:0,timeStampFromStart:0,timeStampFromLastUpdate:0}}return e.prototype.update=function(e){var t=(e-this.startTime)/this.duration;t>=0&&(this._processData.ratio=t,this._processData.timeStamp=e,this._processData.timeStampFromStart=e-this.startTime,this._processData.timeStampFromLastUpdate=e-this._lastUpdateTimeStamp,this._lastUpdateTimeStamp=e,this.proccessFunc&&this.proccessFunc(this._processData),t>=1&&this.completeFunc&&this.completeFunc())},e.prototype.start=function(){this.startTime=performance.now()+this.delay,this._lastUpdateTimeStamp=this.startTime},e}(),c=function(e){function t(t,r,n){void 0===t&&(t=1e3),void 0===r&&(r=0),void 0===n&&(n=a.defaultStartUpdateFunc);var o,i=this;function c(){o&&o()}return(i=e.call(this,(function(e){var t=e.progressFunc,r=e.completeFunc,n=(e.errorFunc,i.startUpdateFunc&&i.startUpdateFunc(i._base.update.bind(i._base))||void 0);return i._base.startTime=performance.now(),i._base.duration=i.duration,i._base.delay=i.delay,i._base.proccessFunc=t,i._base.completeFunc=function(){n&&n(),r()},i._base.start(),o=n,c}))||this)._base=new s,i.duration=t,i.delay=r,i.startUpdateFunc=n,i}return o(t,e),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._base.startTime},enumerable:!1,configurable:!0}),t}(i.ProcessingDeprecated);t.TimingDeprecated=c},2742:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionDeprecated=void 0;var i=r(4648),a=r(4648),s=r(8311),c=function(e){function t(t){var r=e.call(this)||this;return r._duration=t,r._target=0,r._current=0,r._start=0,r._timing=new s.TimingDeprecated(Number.POSITIVE_INFINITY),r._timing.progressFunc=function(e){var t=e.ratio;t=t<0?0:t>1?1:t;var n=r._start*(1-t)+r._target*t;r._current=n,r._currentChanged&&r._currentChanged.emit(r._target,r._current)},r.dispose((function(){r._timing.isRunning&&r._timing.cancel(),r._timing.destroy()})),r}return o(t,e),t.prototype.reset=function(e,t){void 0===t&&(t=e),this._timing.isRunning&&this._timing.cancel(),this._target=e,this._current=t,this._start=e},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(e){if(this._target!==e){this._target=e,this._timing.isRunning&&this._timing.cancel(),this._timing.reset(),this._start=this._current;var t=Math.abs(this._target-this._start);this._timing.duration=t*this._duration,this._timing.start()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged||(this._currentChanged=new a.Event),this._currentChanged},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.TransitionDeprecated=c},2039:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.cancelableFetchDeprecated=void 0;var i=r(5354);function a(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=new AbortController,s=a.signal,c=n(r,2),l=c[0],u=c[1];if(null==u?void 0:u.signal)throw console.error("init?.signal"),new Error("init?.signal");(u=u||{}).signal=s;var f=!1;(0,i._executeSetCancelFuncOrCancelResult)(e,(function(){f=!0,a.abort()}));var p=fetch(l,u);return t&&(p=p.then((function(e){if(!e.ok)return e;if(!e.body)throw Error("ReadableStream not yet supported in this browser.");var r=e.headers.get("content-length"),n=r?parseInt(r,10):0,o=0;return new Response(new ReadableStream({start:function(r){if(!e.body)throw new Error("!response.body");var i=e.body.getReader();!function e(){i.read().then((function(i){var a=i.done,s=i.value;if(a)r.close();else{if(!s)throw new Error("!value");if(!t)throw new Error("!progressFunc");o+=s.byteLength,t(o,n),r.enqueue(s),e()}})).catch((function(e){r.error(e)}))}()}}),{status:e.status,statusText:e.statusText,headers:e.headers})})).catch((function(e){throw f?(e instanceof Error&&20!==e.code&&console.error("error.code !== 20"),console.log("fetching cancelled!"),new i.CancelError("fetching cancelled!")):(e instanceof Error&&20===e.code&&console.error("error.code === 20"),e)}))),p}t.cancelableFetchDeprecated=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>=1){if("function"==typeof e[0]||void 0===e[0]){var r={},i=a.apply(void 0,o([r],n(e),!1)),s=r.cancelFunc;if(!s)throw new Error("!cancelResult.cancelFunc");return[s,i]}return a.apply(void 0,o([],n(e),!1))}throw new Error("cancelableFetch args error!")}},6209:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(817),t),o(r(8685),t),o(r(9308),t),o(r(5678),t),o(r(8311),t),o(r(2742),t),o(r(2039),t)},5678:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sleepDeprecated=void 0;var n=r(5354);t.sleepDeprecated=function(e,t){var r,o=void 0,i=new Promise((function(t,n){o=n,r=globalThis.setTimeout((function(){r=void 0,t()}),e)})),a=function(e){r&&(clearTimeout(r),r=void 0),o&&o(null!=e?e:new n.CancelError("sleep cancel error!"))};return"boolean"==typeof t&&t?[a,i]:t?((0,n._executeSetCancelFuncOrCancelResult)(t,a),i):void 0}},5815:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessingDeprecated=void 0;var s=r(4648),c=r(4648),l=function(e){function t(t,r,n,o,i,a,s,c){var l=e.call(this)||this;return l._startProcessingFunc=t,l.startFunc=r,l.progressFunc=n,l.completeFunc=o,l.cancelFunc=i,l.cancelledFunc=a,l.errorFunc=s,l.finishedFunc=c,l._processingID=-1,l._status="Initial",l.dispose((function(){var e;return null===(e=l._statusChangedEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._startEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._progressEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._completeEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._cancelEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._cancelledEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._errorEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){var e;return null===(e=l._finishedEvent)||void 0===e?void 0:e.destroy()})),l.dispose((function(){return l.reset()})),l}return o(t,e),Object.defineProperty(t.prototype,"startEvent",{get:function(){return this._startEvent=this._startEvent||new c.Event,this._startEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressEvent",{get:function(){return this._progressEvent=this._progressEvent||new c.Event,this._progressEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeEvent",{get:function(){return this._completeEvent=this._completeEvent||new c.Event,this._completeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelEvent",{get:function(){return this._cancelEvent=this._cancelEvent||new c.Event,this._cancelEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelledEvent",{get:function(){return this._cancelledEvent=this._cancelledEvent||new c.Event,this._cancelledEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorEvent",{get:function(){return this._errorEvent=this._errorEvent||new c.Event,this._errorEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finishedEvent",{get:function(){return this._finishedEvent=this._finishedEvent||new c.Event,this._finishedEvent},enumerable:!1,configurable:!0}),t.prototype._completeFunc=function(e,t){this.processingID===e&&"Running"===this._status&&(this._status="Completed",this.completeFunc&&this.completeFunc(t),this._completeEvent&&this._completeEvent.emit(t),this.finishedFunc&&this.finishedFunc({status:"Completed",value:t}),this._finishedEvent&&this._finishedEvent.emit({status:"Completed",value:t}))},t.prototype._cancelFunc=function(e){"Running"===this._status&&(this._status="Cancelling",this.cancelFunc&&this.cancelFunc(e),this._cancelEvent&&this._cancelEvent.emit(e))},t.prototype._cancelledFunc=function(e){"Cancelling"===this._status&&(this._status="Cancelled",this.cancelledFunc&&this.cancelledFunc(e),this._cancelledEvent&&this._cancelledEvent.emit(e),this.finishedFunc&&this.finishedFunc({status:"Cancelled",cancelError:e}),this._finishedEvent&&this._finishedEvent.emit({status:"Cancelled",cancelError:e}))},t.prototype._errorFunc=function(e,t){this.processingID===e&&"Running"===this._status&&(this._status="Error",this.errorFunc&&this.errorFunc(t),this._errorEvent&&this._errorEvent.emit(t),this.finishedFunc&&this.finishedFunc({status:"Error",error:t}),this._finishedEvent&&this._finishedEvent.emit({status:"Error",error:t}))},t.prototype._progressFunc=function(e,t){this.processingID===e&&"Running"===this._status&&(this.progressFunc&&this.progressFunc(t),this._progressEvent&&this._progressEvent.emit(t))},t.prototype._startFunc=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if("Initial"===this._status){this._status="Running";var n=++this._processingID,o={completeFunc:this._completeFunc.bind(this,n),errorFunc:this._errorFunc.bind(this,n),progressFunc:this._progressFunc.bind(this,n),cancelFunc:this._cancel.bind(this,n),processingID:n},s=this._startProcessingFunc.apply(this,a([o],i(t),!1));return this._forceCancelFunc=s,this.startFunc&&this.startFunc.apply(this,a([],i(t),!1)),this._startEvent&&(e=this._startEvent).emit.apply(e,a([],i(t),!1)),n}return console.warn("this._status !== 'Initial' but start again!"),-1},Object.defineProperty(t.prototype,"_status",{get:function(){return this.__status},set:function(e){if(this.__status!==e){var t=this.__status;this.__status=e,this._statusChangedEvent&&this._statusChangedEvent.emit(e,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processingID",{get:function(){return this._processingID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusChangedEvent",{get:function(){return this._statusChangedEvent||(this._statusChangedEvent=new c.Event),this._statusChangedEvent},enumerable:!1,configurable:!0}),t.prototype.reset=function(e){"Running"===this._status&&this.cancel(e),"Cancelled"===this._status||"Error"===this._status||"Completed"===this._status?this._status="Initial":"Cancelling"===this._status&&console.warn("Cannot reset! (this._status === 'Cancelling')")},Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype.cancel=function(e,t){return void 0===t&&(t=this.processingID),this._cancel(t,e)},t.prototype._cancel=function(e,t){var r=this;if(this.processingID===e)if("Running"===this._status){if(!this._forceCancelFunc)throw new Error("this._forceCancelFunc is undefined!");this._cancelFunc(t);var n=this._forceCancelFunc(t);if(this._forceCancelFunc=void 0,n&&n instanceof Promise)return n.then((function(){r._cancelledFunc(t)}));this._cancelledFunc(t)}else console.warn("this._status !== 'Running' but cancel")},t.prototype.start=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return this._startFunc.apply(this,a([],i(e),!1))}catch(e){console.error("processing start error: ".concat(e))}},t.prototype.restart=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];try{return this.isRunning&&this.cancel(e),this.isFinished&&this.reset(e),this.isInitial?this._startFunc.apply(this,a([],i(t),!1)):(console.warn("restart failed!"),-1)}catch(e){console.error("processing restart error: ".concat(e))}},Object.defineProperty(t.prototype,"isCompleted",{get:function(){return"Completed"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCancelled",{get:function(){return"Cancelled"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCancelling",{get:function(){return"Cancelling"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isError",{get:function(){return"Error"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInitial",{get:function(){return"Initial"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return"Running"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinished",{get:function(){return this.isCancelled||this.isCompleted||this.isError},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.ProcessingDeprecated=l},6272:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessingStarter=void 0;var i=r(4648),a=r(1941),s=r(3803),c=function(){function e(e){this._startParams=e,this._cancelled=!1,this._cancelsMap=new Map}return Object.defineProperty(e.prototype,"disposer",{get:function(){var e=this;return this._disposer||(this._disposer=new i.Destroyable,this._disposer.dispose((function(){return e._disposer=void 0}))),this._disposer},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){var t,r,o;if(!this._cancelled){this._cancelled=!0,null===(o=this._disposer)||void 0===o||o.destroy(),this._cancelError=e;try{for(var i=n(this._cancelsMap.values()),a=i.next();!a.done;a=i.next())(0,a.value)(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}this._cancelsMap.clear()}},e.prototype.check=function(){var e;if(this._cancelled)throw null!==(e=this._cancelError)&&void 0!==e?e:new s.CancelError("cancel from CancelManager!")},Object.defineProperty(e.prototype,"cancelFuncsNum",{get:function(){return(0,a.reduce)(this._cancelsMap.keys(),(function(e){return e+1}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processingID",{get:function(){return this._startParams.processingID},enumerable:!1,configurable:!0}),e.prototype.promises=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.map((function(t){var r=o(t,2),n=r[0],i=r[1];return e._cancelsMap.set(i,n),i.finally((function(){return e._cancelsMap.delete(i)}))}))},e.prototype.promise=function(e){var t=this,r=o(e,2),n=r[0],i=r[1];return this._cancelsMap.set(i,n),i.finally((function(){return t._cancelsMap.delete(i)}))},e.prototype.promiseAny=function(e){var t=this,r=[],n=e.map((function(e){var n=o(e,2),i=n[0],a=n[1];return t._cancelsMap.set(a,i),r.push(i),a.finally((function(){return t._cancelsMap.delete(a)}))}));return Promise.any(n).finally((function(){return r.forEach((function(e){return e(new s.CancelError("cancel from promiseAny!"))}))}))},e.prototype.promiseAll=function(e){var t=this,r=[],n=e.map((function(e){var n=o(e,2),i=n[0],a=n[1];return t._cancelsMap.set(a,i),r.push(i),a.finally((function(){return t._cancelsMap.delete(a)}))}));return Promise.all(n).finally((function(){return r.forEach((function(e){return e(new s.CancelError("cancel from promiseAll!"))}))}))},e.prototype.promiseRace=function(e){var t=this,r=[],n=e.map((function(e){var n=o(e,2),i=n[0],a=n[1];return t._cancelsMap.set(a,i),r.push(i),a.finally((function(){return t._cancelsMap.delete(a)}))}));return Promise.race(n).finally((function(){return r.forEach((function(e){return e(new s.CancelError("cancel from promiseRace!"))}))}))},e.prototype.checkAndPromises=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.map((function(t){var r=o(t,2),n=r[0],i=r[1];return e._cancelsMap.set(i,n),i.finally((function(){return e._cancelsMap.delete(i),e.check()}))}))},e.prototype.checkAndPromise=function(e){var t=this;return e instanceof Promise?e.finally((function(){return t.check()})):this.promise(e).finally((function(){return t.check()}))},e.prototype.complete=function(e){var t;0!==this.cancelFuncsNum&&console.warn("complete: this.cancelFuncsNum(".concat(this.cancelFuncsNum,")0")),null===(t=this._disposer)||void 0===t||t.destroy(),this._cancelsMap.clear(),this._startParams.completeFunc(e)},e.prototype.error=function(e){var t;null===(t=this._disposer)||void 0===t||t.destroy(),this._cancelsMap.clear(),this._startParams.errorFunc(e)},e.prototype.progressFunc=function(e){this._startParams.progressFunc(e)},e.prototype.forceCancel=function(e){return this._startParams.cancelFunc(e)},e}();t.ProcessingStarter=c},6093:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.wrapAsyncFuncToCancelablePromise=t.cancelablePromise=t._executeSetCancelFuncOrCancelResult=void 0;var i=r(3803);function a(e,t){"function"==typeof e?e(t):e.cancelFunc=t}function s(e,t){return t instanceof Promise?function(e,t){var r=void 0,n=t.then((function(e){if(r)throw r;return e}));return a(e,(function(e){r=null!=e?e:new i.CancelError("_revocablePromise_forPromise cancel error!")})),n}(e,t):function(e,t){return new Promise((function(r,n){a(e,(function(e){n(null!=e?e:new i.CancelError("_revocablePromise_forExecutor cancel error!"))}));try{t(r,n)}catch(e){n(e)}}))}(e,t)}function c(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var c,l=void 0,u=t.apply(void 0,o([{cancelCheck:function(){if(l)throw l},registerCancelFunc:function(e){(c=c||[]).push(e)}}],n(r),!1));return a(e,(function(e){if(l=null!=e?e:new i.CancelError("wrapAsyncFuncToRevocablePromise cancel error!"),c)for(var t=c.length-1;t>=0;--t)(0,c[t])(e)})),u}t._executeSetCancelFuncOrCancelResult=a,t.cancelablePromise=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(e[0]instanceof Promise){var r=s(o={},e[0]),n=o.cancelFunc;if(!n)throw new Error("!cancelResult.cancelFunc");return[n,r]}}else if(2===e.length){var o;if(e[0]instanceof Object)return s(o=e[0],e[1])}throw new Error("args wrong!")},t.wrapAsyncFuncToCancelablePromise=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>=1){if("function"==typeof e[0]){var r={},i=c.apply(void 0,o([r],n(e),!1)),a=r.cancelFunc;if(!a)throw new Error("!cancelResult.cancelFunc");return[a,i]}return c.apply(void 0,o([],n(e),!1))}throw new Error("wrapAsyncFuncToCancelablePromise args error!")}},7375:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createProcessing=void 0;var i=r(5815),a=r(6272);t.createProcessing=function(e){return new i.ProcessingDeprecated((function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=new a.ProcessingStarter(t);return e.apply(void 0,o([s],n(r),!1)).then(s.complete.bind(s)).catch(s.error.bind(s)),s.cancel.bind(s)}))}},5354:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7375),t),o(r(5815),t),o(r(6272),t),o(r(3803),t),o(r(7887),t),o(r(6093),t)},3803:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CancelError=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);t.CancelError=o},7887:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.NextMicroTaskEvent=t.NextMicroTask=t.NextAnimationFrame=t.getPromiseFromAsyncFunc=t.getPromiseFromProcessing=t.getProcessingFromPromise=void 0;var c=r(4648),l=r(4648),u=r(7375),f=r(5815);function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=-1;return[function(t){return n===e.processingID&&e.isRunning&&e.cancel(t)},new Promise((function(r,o){e.isRunning&&e.cancel(),e.reset();var s=e.finishedEvent.disposableOn((function(e){"Error"===e.status?o(e.error):"Cancelled"===e.status?o(e.cancelError):"Completed"===e.status&&r(e.value),s()}));e.start.apply(e,a([],i(t),!1)),n=e.processingID}))]}t.getProcessingFromPromise=function(e){return new f.ProcessingDeprecated((function(t){var r=t.completeFunc,n=t.errorFunc,o=!1;return e.then((function(e){o||r(e)})).catch((function(e){o||n(e)})),function(){o=!0}}))},t.getPromiseFromProcessing=p,t.getPromiseFromAsyncFunc=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=(0,u.createProcessing)(e),o=i(p.apply(void 0,a([n],i(t),!1)),2);return[o[0],o[1].finally((function(){return n.destroy()}))]};var d=function(e){function t(t){return e.call(this,(function(e){for(var r=e.completeFunc,n=e.errorFunc,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var c=requestAnimationFrame((function(e){try{var s=t.apply(void 0,a([],i(o),!1));r(s)}catch(e){n(e)}}));return function(){return cancelAnimationFrame(c)}}))||this}return o(t,e),t}(f.ProcessingDeprecated);t.NextAnimationFrame=d;var h=function(e){function t(t){return e.call(this,(function(e){for(var r,n=e.completeFunc,o=e.errorFunc,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];return new Promise((function(e,t){r=t,e()})).then((function(){n(t.apply(void 0,a([],i(s),!1)))})).catch(o),function(){r&&r()}}))||this}return o(t,e),t}(f.ProcessingDeprecated);t.NextMicroTask=h;var g=function(e){function t(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=e.call(this)||this;i._event=new l.Event;try{for(var a=s(n),c=a.next();!c.done;c=a.next()){var u=c.value;i.dispose(u.disposableOn((function(){!f.isRunning&&f.restart()})))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}var f=new h((function(){i._event.emit()}));return i.dispose((function(){return f.destroy()})),i}return o(t,e),Object.defineProperty(t.prototype,"event",{get:function(){return this._event},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.NextMicroTaskEvent=g},5953:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelsManager=void 0;var a=r(4648),s=r(1941),c=r(2514),l=r(2639),u=function(e){function t(){var t=e.call(this)||this;return t._cancelled=!1,t._promiseSet=new Set,t}return o(t,e),Object.defineProperty(t.prototype,"disposer",{get:function(){return this._disposer=this._disposer||new a.Destroyable,this._disposer},enumerable:!1,configurable:!0}),t.prototype.destroyImp=function(){this.finally()},t.prototype.cancel=function(e){var t,r,n;if(!this._cancelled){this._cancelled=!0,null===(n=this._disposer)||void 0===n||n.destroy(),this._cancelError=e;try{for(var o=i(this._promiseSet),a=o.next();!a.done;a=o.next()){var s=a.value;(0,l.cancelPromise)(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}this._promiseSet.clear()}},Object.defineProperty(t.prototype,"cancelFuncsNum",{get:function(){return(0,s.reduce)(this._promiseSet,(function(e){return e+1}),0)},enumerable:!1,configurable:!0}),t.prototype.finally=function(){this._disposer&&!this._disposer.isDestroyed()&&this._disposer.destroy(),this._promiseSet.clear()},t.prototype.check=function(){var e;if(this._cancelled)throw null!==(e=this._cancelError)&&void 0!==e?e:new c.CancelError("cancel from CancelManager!")},t.prototype.promise=function(e){var t=this;return this._promiseSet.add(e),e.finally((function(){return t._promiseSet.delete(e),t.check()}))},t.prototype.promiseAny=function(e){var t=this,r=[],n=e.map((function(e){return t._promiseSet.add(e),(0,l.isPromiseCancelable)(e)&&r.push((0,l.getPromiseCancel)(e)),e.finally((function(){return t._promiseSet.delete(e)}))}));return Promise.any(n).finally((function(){return r.forEach((function(e){return e(new c.CancelError("cancel from promiseAny!"))})),r.length=0}))},t.prototype.promiseAll=function(e){var t=this,r=[],n=e.map((function(e){return t._promiseSet.add(e),(0,l.isPromiseCancelable)(e)&&r.push((0,l.getPromiseCancel)(e)),e.finally((function(){return t._promiseSet.delete(e)}))}));return Promise.all(n).finally((function(){return r.forEach((function(e){return e(new c.CancelError("cancel from promiseAll!"))})),r.length=0}))},t.prototype.promiseRace=function(e){var t=this,r=[],n=e.map((function(e){return t._promiseSet.add(e),(0,l.isPromiseCancelable)(e)&&r.push((0,l.getPromiseCancel)(e)),e.finally((function(){return t._promiseSet.delete(e)}))}));return Promise.race(n).finally((function(){return r.forEach((function(e){return e(new c.CancelError("cancel from promiseRace!"))})),r.length=0}))},t}(a.Destroyable);t.CancelsManager=u},5992:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createStartFuncFromAsyncFunc=t.Processing=void 0;var s=r(4648),c=r(4648),l=r(2514),u=r(5953),f=r(2639),p=function(e){function t(t){var r=e.call(this)||this;return r._startFunc=t,r._status="Initial",r._runningId=-1,r.dispose((function(){return r.isRunning&&r.cancel()})),r}return o(t,e),Object.defineProperty(t.prototype,"errorEvent",{get:function(){return this._errorEvent||(this._errorEvent=new c.Event),this._errorEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeEvent",{get:function(){return this._completeEvent||(this._completeEvent=new c.Event),this._completeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorFunc",{get:function(){return this._errorFunc},set:function(e){this._errorFunc!==e&&(this._errorFunc=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeFunc",{get:function(){return this._completeFunc},set:function(e){this._completeFunc!==e&&(this._completeFunc=e)},enumerable:!1,configurable:!0}),t.prototype.start=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if("Initial"===this._status){var n=++this._runningId;this._status="Running",this._cancelFunc=this._startFunc.apply(this,a([{completeFunc:function(t){var r;n===e._runningId&&"Running"===e._status&&(e._status="Completed",e._completeFunc&&e._completeFunc(t),null===(r=e._completeEvent)||void 0===r||r.emit(t))},errorFunc:function(t){var r;n===e._runningId&&"Running"===e._status&&(e._status="Error",e._errorFunc&&e._errorFunc(t),null===(r=e._errorEvent)||void 0===r||r.emit(t))},runningingID:n}],i(t),!1))}},t.prototype.cancel=function(e){var t;if(void 0===e&&(e=new l.CancelError("")),"Running"===this._status){if(!this._cancelFunc)throw new Error("!this._cancelFunc");this._status="Error",this._errorFunc&&this._errorFunc(e),null===(t=this._errorEvent)||void 0===t||t.emit(e),this._cancelFunc(e),this._cancelFunc=void 0}},t.prototype.reset=function(){"Running"===this._status&&console.error("processing cannot reset while running. you can first cancel it!"),"Completed"!==this._status&&"Error"!==this._status||(this._status="Initial")},Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInitial",{get:function(){return"Initial"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return"Running"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleted",{get:function(){return"Completed"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isError",{get:function(){return"Error"===this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runningId",{get:function(){return this._runningId},enumerable:!1,configurable:!0}),t.prototype.restart=function(e){void 0===e&&(e=new l.CancelError(""));for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isRunning&&this.cancel(e),this.reset(),this.start.apply(this,a([],i(t),!1))},t.prototype.restartIfNotRunning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isRunning||(this.reset(),this.start.apply(this,a([],i(e),!1)))},t}(s.Destroyable);t.Processing=p,t.createStartFuncFromAsyncFunc=function(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=new u.CancelsManager,s=t.completeFunc,c=t.errorFunc,l=e.apply(void 0,a([o],i(r),!1)).then(s).catch(c).finally((function(){return o.destroy()}));return(0,f.setPromiseCancel)(l,o.cancel.bind(o)),function(e){return(0,f.cancelPromise)(l,e)}}}},5245:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createProcessingFromAsyncFuncWithStartValues=t.createProcessingFromAsyncFunc=t.asyncFuncToCancelablePromise=t.cancelFuncToCancelablePromise=t.createProcessingFromPromiseCreateFuncWithStartValues=t.createProcessingFromPromiseCreateFunc=void 0;var i=r(5953),a=r(5992),s=r(2639);t.createProcessingFromPromiseCreateFunc=function(e){return t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(void 0,o([],n(t),!1));return(0,s.isPromiseCancelable)(i)?i:(0,s.createCancelablePromise)(i)},new a.Processing((0,a.createStartFuncFromAsyncFunc)((function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.promise(t.apply(void 0,o([],n(r),!1)))})));var t},t.createProcessingFromPromiseCreateFuncWithStartValues=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new a.Processing((0,a.createStartFuncFromAsyncFunc)((function(r){return r.promise(e.apply(void 0,o([],n(t),!1)))})))}((function(){var r=e.apply(void 0,o([],n(t),!1));return(0,s.isPromiseCancelable)(r)?r:(0,s.createCancelablePromise)(r)}))},t.cancelFuncToCancelablePromise=function(e){var t,r=new Promise((function(r,n){t=function(){e(),n()}}));return(0,s.setPromiseCancel)(r,t),r},t.asyncFuncToCancelablePromise=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var a=new i.CancelsManager,c=e.apply(void 0,o([a],n(t),!1)).finally((function(){return a.destroy()}));return(0,s.setPromiseCancel)(c,a.cancel.bind(a)),c},t.createProcessingFromAsyncFunc=function(e){return new a.Processing((0,a.createStartFuncFromAsyncFunc)(e))},t.createProcessingFromAsyncFuncWithStartValues=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new a.Processing((0,a.createStartFuncFromAsyncFunc)((function(r){return e.apply(void 0,o([r],n(t),!1))})))}},4439:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2639),t),o(r(5245),t),o(r(5992),t),o(r(5953),t),o(r(2514),t)},2639:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getEventFromPromise=t.getPromiseFromEvent=t.createCancelablePromise=t.pairToPromise=t.cancelPromise=t.isPromiseCancelable=t.getPromiseCancel=t.setPromiseCancel=void 0;var o=r(1941),i=r(4648);function a(e,t){(0,o.getExtProp)(e,"_promise_cancel")&&console.warn("setPromiseCancel warn: promise has cancelFunc!"),(0,o.setExtProp)(e,"_promise_cancel",t)}function s(e){return(0,o.getExtProp)(e,"_promise_cancel")}t.setPromiseCancel=a,t.getPromiseCancel=s,t.isPromiseCancelable=function(e){return!!s(e)},t.cancelPromise=function(e,t){var r=s(e);return!!r&&(r(t),!0)},t.pairToPromise=function(e){var t=n(e,2),r=t[0],o=t[1];return a(o,r),o},t.createCancelablePromise=function(e){var t,r=new Promise((function(r,n){t=n,e.then(r).catch(n)}));return a(r,t),r},t.getPromiseFromEvent=function(e){var t,r,n=new Promise((function(n,o){r=e.disposableOn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r&&r(),n(e)})),t=function(e){r&&r(),o(e)}}));return[t,n]},t.getEventFromPromise=function(e){var t=new i.Event,r=new i.Event;return e.then((function(e){t.isDestroyed()||t.emit(e)})).catch((function(e){r.isDestroyed()||r.emit(e)})),[t,r]}},2514:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelError=void 0,t.CancelError=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Error.call.apply(Error,n([this],r(e),!1))}return Object.setPrototypeOf(e.prototype,Error.prototype),e}()},2042:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RefsManager=void 0;var i=r(1941),a=function(e){function t(t){var r=e.call(this)||this;r._sceneObjRefs=new Map,r._refs={},r._refsChagned=r.disposeVar(new i.Event);var n=function(e,t,n){if(n){var o=r.getLastSceneObject(n);if(s=r._sceneObjRefs.get(n)){var i=s.indexOf(e);-1===i?console.warn("this._sceneObjRefs(id: ".concat(e.id," type: ").concat(e.typeName,")")):(s.splice(i,1),0===s.length&&r._sceneObjRefs.delete(n))}else console.warn("this._sceneObjRefsref(".concat(n,"), "));var a=r.getLastSceneObject(n);r._refs[n]=a,r._refsChagned.emit(a,o)}var s;t&&(o=r.getLastSceneObject(t),(s=r._sceneObjRefs.get(t))?(s.push(e),s.length>0&&console.warn("ref".concat(t,"\n").concat(s.map((function(e){return"".concat(e.id," ").concat(e.typeName,"\n")})).join(" ")))):r._sceneObjRefs.set(t,[e]),a=r.getLastSceneObject(t),r._refs[t]=a,r._refsChagned.emit(a,o))};return r.dispose(t.sceneObjCreatedEvent.disposableOn((function(e){var t=function(t,r){return n(e,t,r)};e.ref&&t(e.ref,void 0),e.refChanged.disposableOn(t)}))),r.dispose(t.sceneObjToDestroyEvent.disposableOn((function(e){e.ref&&n(e,void 0,e.ref)}))),r}return o(t,e),Object.defineProperty(t.prototype,"sceneObjRefs",{get:function(){return this._sceneObjRefs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refs",{get:function(){return this._refs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refsChanged",{get:function(){return this._refsChagned},enumerable:!1,configurable:!0}),t.prototype.getLastSceneObject=function(e){var t=this.getSceneObjects(e);if(t)return t[t.length-1]},t.prototype.getSceneObjects=function(e){var t=this._sceneObjRefs.get(e);if(t&&0!==t.length)return t},t}(i.Destroyable);t.RefsManager=a},3542:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.SceneObjectWithId=t.SceneObjectIdWatching=t.getSceneObjectReactFromId=t.SceneObjectFromId=void 0;var a=r(1941),s=r(8264),c=r(4648),l=r(4747),u=function(e){function t(t){var r=e.call(this)||this;r._id=t,r._sceneObject=r.disposeVar((0,c.react)(void 0)),r.dispose((function(){r._sceneObject.value=void 0}));var n=s.SceneObject.getSceneObjById(r._id);return n&&(r._sceneObject.value=n),r.dispose(s.SceneObject.context.sceneObjCreatedEvent.disposableOn((function(e){e.id===r._id&&(r._sceneObject.value=e)}))),r.dispose(s.SceneObject.context.sceneObjToDestroyEvent.disposableOn((function(e){e.id===r._id&&(r._sceneObject.value=void 0)}))),r}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectChanged",{get:function(){return this._sceneObject.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t}(c.Destroyable);function f(e){var t=i((0,a.getReactFuncs)(e),3),r=t[0],n=(t[1],t[2]),o=(0,c.react)(void 0);return o.disposeVar(new l.ObjResettingWithEvent(n,(function(){var e=r();if(e){var t=new u(e),n=function(){o.value=t.sceneObject};return n(),t.dispose(t.sceneObjectChanged.disposableOn(n)),t}o.value=void 0}))),o}t.SceneObjectFromId=u,t.getSceneObjectReactFromId=f;var p=function(e){function t(t,r){var n=e.call(this)||this,o=n.disposeVar(f(t));return n.disposeVar(new l.ObjResettingWithEvent(o.changed,(function(){var e=o.value;if(e)return r(e)}))),n}return o(t,e),t}(c.Destroyable);t.SceneObjectIdWatching=p;var d=function(e){function t(t,r){var n=e.call(this)||this;n._id=t,n._sofi=n.disposeVar(new u(n._id));var o=function(){r.sceneObject=n._sofi.sceneObject};return o(),n.dispose(n._sofi.sceneObjectChanged.disposableOn(o)),n}return o(t,e),t}(c.Destroyable),h=function(e){function t(){var t=e.call(this)||this;return t._id=t.disposeVar((0,c.react)(void 0)),t._sceneObject=t.disposeVar((0,c.react)(void 0)),t._resetting=t.disposeVar(new l.ObjResettingWithEvent(t.idChanged,(function(){var e=t.id;if(void 0!==e&&""!==e)return new d(e,t);t.sceneObject=void 0}))),t}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id.value},set:function(e){this._id.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idChanged",{get:function(){return this._id.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject.value},set:function(e){this._sceneObject.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectChanged",{get:function(){return this._sceneObject.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetting",{get:function(){return this._resetting},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.SceneObjectWithId=h},4671:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.SceneObjectsContext=void 0;var s=r(1941),c=r(8363),l=r(8542),u=r(2042),f=function(e){function t(){var t=e.call(this)||this;return t._sceneObjConstructorsMap=new Map,t._sceneObjs=new Map,t._sceneObjCreatedEvent=new s.Event,t._sceneObjToDestroyEvent=new s.Event,t._refsManager=t.disposeVar(new u.RefsManager(t)),t._environmentVariables={"xr-static":"xr-static"},t._environmentVariablesChanged=t.disposeVar(new s.Event),t}return o(t,e),Object.defineProperty(t.prototype,"typeNames",{get:function(){return this._sceneObjConstructorsMap.keys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjs",{get:function(){return this._sceneObjs.values()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjCreatedEvent",{get:function(){return this._sceneObjCreatedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjToDestroyEvent",{get:function(){return this._sceneObjToDestroyEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refsManager",{get:function(){return this._refsManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$refs",{get:function(){return this._refsManager.refs},enumerable:!1,configurable:!0}),t.prototype.register=function(e,t,r){return this._sceneObjConstructorsMap.has(e)&&(console.warn("register warn: ".concat(e," has registered, object is: ")),console.warn(this._sceneObjConstructorsMap.get(e))),this._sceneObjConstructorsMap.set(e,t),r&&this.setProps(e,r),e},t.prototype._getSceneObjConstructor=function(e){return this._sceneObjConstructorsMap.get(e)||void 0},t.prototype.getProps=function(e){var t=this._getSceneObjConstructor(e);if(t)return(0,s.getExtProp)(t,"__sceneObjExtraInfo");console.warn("cannot get constructor from type: ".concat(e))},t.prototype.setProps=function(e,t){var r=this._getSceneObjConstructor(e);if(r){var n=(0,s.getExtProp)(r,"__sceneObjExtraInfo");n||(n={},(0,s.setExtProp)(r,"__sceneObjExtraInfo",n)),Object.assign(n,t)}else console.warn("cannot get constructor from type: ".concat(e))},t.prototype.getProp=function(e,t){var r=this.getProps(e);return r&&r[t]},t.prototype.setProp=function(e,t,r){var n;this.setProps(e,((n={})[t]=r,n))},t.prototype._addSceneObject=function(e){var t=this;this._sceneObjs.set(e.id,e),this._sceneObjCreatedEvent.emit(e),e.dispose((function(){return t._deleteSceneObject(e)}))},t.prototype._deleteSceneObject=function(e){this._sceneObjToDestroyEvent.emit(e),this._sceneObjs.delete(e.id)},t.prototype.createSceneObjectFromClass=function(e,t){if(!t||this._sceneObjs.has(t)){var r=(0,s.createGuid)();t&&console.warn("idid".concat(t," -> ").concat(r," id")),t=r}if(!t)throw new Error("id");var n=new e(t);return n.id!==t&&(console.warn("sceneObj.id(".concat(n.id,") !== id(").concat(t,") sceneObjectType: ").concat(n.typeName)),console.warn("id"),console.warn("class MySceneObj extends ESSceneObject { constructor(id) { super(id); } }")),this._addSceneObject(n),n},t.prototype.createSceneObject=function(e,t){if("string"==typeof e){var r=this._getSceneObjConstructor(e);return r?this.createSceneObjectFromClass(r,t):void console.warn("Cannot find SceneObjectType: ".concat(e))}return this.createSceneObjectFromClass(e,t)},t.prototype.createSceneObjectFromJson=function(e){var t=this.createSceneObject(e.type,e.id);return t&&(t.json=e),t},t.prototype.getSceneObjectById=function(e){return this._sceneObjs.get(e)},t.prototype.getSceneObjectsByDevTags=function(e){var t,r,n=[],o=function(t){e.some((function(e){return t.devTags&&t.devTags.includes(e)}))&&n.push(t)};try{for(var a=i(this.sceneObjs),s=a.next();!s.done;s=a.next())o(s.value)}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},Object.defineProperty(t.prototype,"environmentVariables",{get:function(){return this._environmentVariables},set:function(e){var t,r;try{for(var n=i(Object.entries(e)),o=n.next();!o.done;o=n.next()){var s=a(o.value,2),c=s[0],l=s[1];this.setEnv(c,l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"environmentVariablesChanged",{get:function(){return this._environmentVariablesChanged},enumerable:!1,configurable:!0}),t.prototype.setEnv=function(e,t){if(this._environmentVariables[e]!==t){var r=this._environmentVariables[e];this._environmentVariables[e]=t,this._environmentVariablesChanged.emit(e,t,r)}},t.prototype.getEnv=function(e){return this._environmentVariables[e]},t.prototype.getStrFromEnv=function(e){return(0,l.replaceStrWithEnv)(e)},t.prototype.createEnvStrReact=function(e,t){return(0,c.createEnvEvalStrReact)(e,t)},t.prototype.createEvnStrReact=function(e,t){return(0,c.createEnvEvalStrReact)(e,t)},t}(s.Destroyable);t.SceneObjectsContext=f},8363:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.createEnvEvalStrReact=void 0;var o=r(4747),i=r(1941),a=r(8264);t.createEnvEvalStrReact=function(e,t){var r=n((0,o.getReactFuncs)(e),3),s=r[0],c=(r[1],r[2]),l=(0,i.react)(void 0),u=function(){var e,r=null!==(e=s())&&void 0!==e?e:t;l.value=r&&a.SceneObject.context.getStrFromEnv(r)};return u(),c&&l.dispose(c.disposableOn(u)),l.dispose(a.SceneObject.context.environmentVariablesChanged.disposableOn(u)),l}},8542:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceStrWithEnv=void 0;var n=r(8264);t.replaceStrWithEnv=function(e){for(;;){var t=e.replace(/\${(.*?)\}/,(function(e,t){var r=n.SceneObject.context.getEnv(t);return void 0===r?(console.warn("(".concat(t,")")),"{env-error}"):r}));if(t===e)break;e=t}return e}},8264:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SceneObject=void 0;var u=r(1941),f=r(4747),p=r(4671),d=function(e){function t(t){var r=e.call(this)||this;return r._components=r.disposeVar(new f.ObservableSet),void 0!==t&&("string"!=typeof t?console.warn("IDid".concat(typeof t,"").concat(t)):""===t.trim()?console.warn("ID"):t.trim()!==t&&console.warn("idid: ".concat(t))),r._id=null!=t?t:(0,u.createGuid)(),r._setDefaultName(),r}return o(t,e),Object.defineProperty(t,"sceneObjs",{get:function(){return t.context.sceneObjs},enumerable:!1,configurable:!0}),t.getSceneObjById=function(e){return t.context.getSceneObjectById(e)},t.getSceneObjsByDevTags=function(e){return t.context.getSceneObjectsByDevTags(e)},Object.defineProperty(t,"$refs",{get:function(){return t.context.refsManager.refs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){console.error("(".concat(this.name,"/").concat(this.typeName,")IDID"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),t.prototype._setDefaultName=function(){this.name="".concat(this.typeName,"_").concat((""+this.id).slice(-4))},t.prototype._innerGetJson=function(e){var t,r;void 0===e&&(e=!0);var n={id:this.id,type:this.typeName};try{for(var o=s(Object.keys(this.defaultProps)),i=o.next();!i.done;i=o.next()){var a=i.value;if(e){var c=this.defaultProps[a];(c instanceof u.ReactiveVariable?c.equals(this[a]):c===this[a])||(n[a]=this[a])}else n[a]=this[a]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},t.prototype._innerSetJson=function(e,t,r){var n,o;if(e instanceof Object&&(!e.type||e.type===this.typeName)){e.id&&e.id!==this.id&&console.warn("value.id === undefined || value.id".concat(e.id," !== this.id(").concat(this.id,")"));var i=t||[];i.push("id","type");var a=Object.keys(this.defaultProps).filter((function(e){return!i.includes(e)}));try{for(var c=s(a),l=c.next();!l.done;l=c.next()){var f=l.value;if(f in e)this[f]=null===e[f]?void 0:e[f];else if(null==r||!r){var p=this.defaultProps[f];p instanceof u.ReactiveVariable&&(p=p.value),this[f]=p}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}else console.error("value.type && value.type".concat(e.type," !== this.typeName").concat(this.typeName))},t.prototype.setJsonWithoutDefaults=function(e){this._innerSetJson(e,void 0,!0)},t.prototype.setJsonWithDefaults=function(e){this._innerSetJson(e,void 0,!1)},t.prototype.getJsonWithDefaults=function(){return this._innerGetJson(!1)},t.prototype.getJsonWithoutDefaults=function(){return this._innerGetJson(!0)},Object.defineProperty(t.prototype,"jsonStr",{get:function(){return JSON.stringify(this.json,void 0,"    ")},set:function(e){try{this.json=e&&JSON.parse(e)||{}}catch(e){console.error("SceneObjectjsonerror: ".concat(e))}},enumerable:!1,configurable:!0}),t.prototype.addDevTag=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.devTags){var n=t.filter((function(t){return!e.devTags.includes(t)}));n.length>0&&(this.devTags=l(l([],c(this.devTags),!1),c(n),!1))}else this.devTags=t},t.prototype.deleteDevTag=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.devTags){var r=this.devTags.filter((function(t){return!e.includes(t)}));this.devTags=r}},Object.defineProperty(t.prototype,"selfCreatedEvent",{get:function(){var e=this;return this._selfCreatedEvent||(this._selfCreatedEvent=this.disposeVar(new u.Event),this.dispose(t.context.sceneObjCreatedEvent.disposableOn((function(t){if(!e._selfCreatedEvent)throw new Error("!this._createdEvent");t===e&&e._selfCreatedEvent.emit()})))),this._selfCreatedEvent},enumerable:!1,configurable:!0}),t.context=new p.SceneObjectsContext,t.register=t.context.register.bind(t.context),t.create=t.context.createSceneObject.bind(t.context),t.createFromClass=t.context.createSceneObjectFromClass.bind(t.context),t.createFromJson=t.context.createSceneObjectFromJson.bind(t.context),t}(u.Destroyable);t.SceneObject=d,function(e){e.createDefaultProps=function(){return{name:"",ref:void 0,devTags:(0,u.reactArrayWithUndefined)(void 0),extras:(0,u.reactJson)(void 0)}}}(d=t.SceneObject||(t.SceneObject={})),t.SceneObject=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps),a(r(3542),t)},8793:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.unLoading=t.UnLoading=void 0;var i=r(1941),a=function(e){function t(){var t=e.call(this)||this;return t._unloadEvent=t.disposeVar(new i.Event),window.addEventListener("beforeunload",(function(){t._unloadEvent.emit(),t.destroy()})),t}return o(t,e),t.prototype.unload=function(e){this.dispose(this._unloadEvent.disposableOn(e,unescape,!0))},t}(i.Destroyable);t.UnLoading=a,t.unLoading=new a},7207:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjResetting=t.ObjResettingWithEvent=void 0;var s=r(1941),c=function(e){function t(t,r,n,o){void 0===n&&(n=!0);var c=e.call(this)||this;c._resetEvent=t,c._createFunc=r,c._obj=c.disposeVar((0,s.react)(void 0));var l=c._resetEvent,u=c._createFunc,f=function(){c._obj.value&&(c._obj.value.destroy(),c._obj.value=void 0)};return c.dispose(f),n&&(c._obj.value=o?u.apply(void 0,a([],i(o),!1)):u()),c.dispose(l.disposableOn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f(),c._obj.value=u.apply(void 0,a([],i(e),!1))}))),c}return o(t,e),Object.defineProperty(t.prototype,"obj",{get:function(){return this._obj.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objChanged",{get:function(){return this._obj.changed},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.ObjResettingWithEvent=c;var l=function(e){function t(t,r,n){void 0===r&&(r=!0);var o=e.call(this)||this;return o._createFunc=t,o._execOnInit=r,o._initParams=n,o._event=o.disposeVar(new s.Event),o._objResettingWithEvent=o.disposeVar(new c(o._event,o._createFunc,o._execOnInit,o._initParams)),o}return o(t,e),Object.defineProperty(t.prototype,"obj",{get:function(){return this._objResettingWithEvent.obj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objChanged",{get:function(){return this._objResettingWithEvent.objChanged},enumerable:!1,configurable:!0}),t.prototype.reset=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this._event).emit.apply(e,a([],i(t),!1))},t}(s.Destroyable);t.ObjResetting=l},2988:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableSet=void 0;var c=r(1941),l=function(e){function t(){var r=e.call(this)||this;return r._set=new Set,r._toChangeEvent=r.disposeVar(new c.Event),r._changedEvent=r.disposeVar(new c.Event),r.dispose((function(){0!==r._set.size&&(t.warnOnDestroying&&console.warn("this._set.size > 0"),r.clear())})),r}return o(t,e),Object.defineProperty(t.prototype,"toChange",{get:function(){return this._toChangeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changedEvent},enumerable:!1,configurable:!0}),t.prototype.add=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;this._toChangeEvent.emit([],[s]),this._set.add(s),this._changedEvent.emit([],[s])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.delete=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;this._toChangeEvent.emit([s],[]),this._set.delete(s),this._changedEvent.emit([s],[])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.disposableAdd=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.add.apply(this,s([],a(t),!1)),function(){return e.delete.apply(e,s([],a(t),!1))}},Object.defineProperty(t.prototype,"size",{get:function(){return this._set.size},enumerable:!1,configurable:!0}),t.prototype.clear=function(){var e=s([],a(this._set),!1);this._toChangeEvent.emit([],e),this._set.clear(),this._changedEvent.emit([],e)},t.prototype.values=function(){return this._set.values()},t.warnOnDestroying=!0,t}(c.Destroyable);t.ObservableSet=l},6621:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getReactFuncs=void 0;var n=r(1941);Object.defineProperty(t,"getReactFuncs",{enumerable:!0,get:function(){return n.getReactFuncs}})},4747:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7207),t),o(r(2988),t),o(r(6621),t)},4648:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SmartListenerPipe=t.SmartListenerHandler=t.ListenerPipe=t.Event=t.EventListenerHandler=t.DoublyLinkedList=t.react=t.ReactiveVariable=t.ObjPool=t.Destroyable=void 0;var n=r(1941);Object.defineProperty(t,"Destroyable",{enumerable:!0,get:function(){return n.Destroyable}});var o=r(1941);Object.defineProperty(t,"ObjPool",{enumerable:!0,get:function(){return o.ObjPool}});var i=r(1941);Object.defineProperty(t,"ReactiveVariable",{enumerable:!0,get:function(){return i.ReactiveVariable}}),Object.defineProperty(t,"react",{enumerable:!0,get:function(){return i.react}});var a=r(1941);Object.defineProperty(t,"DoublyLinkedList",{enumerable:!0,get:function(){return a.DoublyLinkedList}}),Object.defineProperty(t,"EventListenerHandler",{enumerable:!0,get:function(){return a.EventListenerHandler}}),Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"ListenerPipe",{enumerable:!0,get:function(){return a.ListenerPipe}}),Object.defineProperty(t,"SmartListenerHandler",{enumerable:!0,get:function(){return a.SmartListenerHandler}}),Object.defineProperty(t,"SmartListenerPipe",{enumerable:!0,get:function(){return a.SmartListenerPipe}})},298:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defined=void 0,t.defined=function(e){return null!=e}},2183:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(298),t),o(r(6811),t)},6811:(e,t)=>{function r(e,t){return e instanceof Promise?e.then(t):Promise.resolve(e).then(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.when=void 0,t.when=r,r.defer=function(){var e={},t=new Promise((function(t,r){e.resolve=t,e.reject=r}));return e.promise=t,e},r.resolve=function(e){return Promise.resolve(e)}},4187:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defineReactiveProp=void 0;var n=r(4648);t.defineReactiveProp=function(e,t,r,o){var i,a="_"+t,s="_"+t+"Changed",c=t+"Changed";Object.defineProperties(e.prototype,((i={})[t]={get:function(){return void 0===this[a]&&void 0!==r&&(this[a]=r),this[a]},set:function(e){if(void 0===this[a]&&void 0!==r&&(this[a]=r),o?!o(this[a],e):this[a]!==e){var t=this[a];this[a]=e,this[s]&&this[s].emit(e,t)}}},i[c]={get:function(){var e=this;return void 0===this[s]&&(this[s]=new n.Event,void 0!==this.dispose&&this.dispose((function(){return e[s].destroy()}))),this[s]}},i))}},6548:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4187),t)},3816:(e,t)=>{function r(e,t){return void 0===t&&(t=[0,0]),t[0]=-e[1],t[1]=e[0],t}function n(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function o(e,t){void 0===t&&(t=[0,0]);var r=function(e){return Math.sqrt(function(e){return e[0]*e[0]+e[1]*e[1]}(e))}(e);return t[0]=e[0]/r,t[1]=e[1]/r,t}function i(e,t){return void 0===t&&(t=[0,0]),t[0]=-e[0],t[1]=-e[1],t}function a(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]*t,r[1]=e[1]*t,r}function s(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function c(e,t){var r,n,o=(n=t,(r=e)[0]*n[0]+r[1]*n[1]),i=Math.acos(o);return 1/Math.cos(i/2)}function l(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e,r[1]=t,r}Object.defineProperty(t,"__esModule",{value:!0}),t.extrudePolyline=void 0;var u=[0,0],f=[0,0],p=[0,0],d=[0,0],h=[0,0],g=[0,0],y=[0,0],m=[0,0];function v(e,t,l,u,f,p){var v=n(e,t,m),b=r(o(v,v),d),w=n(l,e,m),_=r(o(w,w),g),P=i(b,h),x=i(_,y),O=s(b,_);o(O,O);var C,S,E=(S=_,(C=b)[0]*S[1]-C[1]*S[0]);if(Math.abs(E)<.1)s(k=a(O,u,m),e,k),p.push(k[0],k[1]),f.push(p.length/2),p.push(e[0],e[1]),f.push(p.length/2),a(T=i(O,m),u,T),s(T,e,T),p.push(T[0],T[1]),f.push(p.length/2);else if(E<0){s(k=a(b,u,m),e,k),p.push(k[0],k[1]);var M=a(O,u,m);s(M,e,M),p.push(M[0],M[1]),s(T=a(_,u,m),e,T),p.push(T[0],T[1]),f.push(p.length/2),p.push(e[0],e[1]),f.push(p.length/2),j=(j=c(x,P))>3?3:j,a(I=i(O,m),j*u,I),s(I,e,I),p.push(I[0],I[1]),f.push(p.length/2)}else{var j,k,T;s(k=a(O,(j=(j=c(b,_))>3?3:j)*u,m),e,k),p.push(k[0],k[1]),f.push(p.length/2),p.push(e[0],e[1]),f.push(p.length/2),s(T=a(P,u,m),e,T),p.push(T[0],T[1]);var I,F=i(O,m);a(F,u,F),s(F,e,F),p.push(F[0],F[1]),s(I=a(x,u,m),e,I),p.push(I[0],I[1]),f.push(p.length/2)}}var b=[];t.extrudePolyline=function(e,t,c,h,y,w){void 0===c&&(c=!1),h=null!=h?h:[],y=null!=y?y:[],w=null!=w?w:[];var _=b;_.length=0,function(e,t,c,h,y){if(void 0===c&&(c=!1),e.length%2!=0)throw new Error("positions.length % 2 !== 0");h=null!=h?h:[],y=null!=y?y:[];var b=e,w=b.length/2;if(!(w<2)){if(c){if(!(w>=3))throw new Error("loop should have >= 3 vertex!");var _=l(b[0],b[1],u),P=l(b[2],b[3],p);v(_,l(b[2*(w-1)+0],b[2*(w-1)+1],f),P,t,y,h)}else{_=l(b[0],b[1],u);var x=n(P=l(b[2],b[3],p),_,m),O=r(o(x,x),g);s(S=a(O,t,m),_,S),h.push(S[0],S[1]),y.push(h.length/2),h.push(_[0],_[1]),y.push(h.length/2),a(E=i(O,m),t,E),s(E,_,E),h.push(E[0],E[1]),y.push(h.length/2)}if(w>=3)for(var C=1;C<w-1;++C)_=l(b[2*C+0],b[2*C+1],u),P=l(b[2*(C+1)+0],b[2*(C+1)+1],p),v(_,l(b[2*(C-1)+0],b[2*(C-1)+1],f),P,t,y,h);if(c){if(!(w>=3))throw new Error("loop should have >= 3 vertex!");_=l(b[2*(w-1)+0],b[2*(w-1)+1],u),P=l(b[0],b[1],p),v(_,l(b[2*(w-2)+0],b[2*(w-2)*1],f),P,t,y,h)}else{var S,E,M=n(_=l(b[2*(w-1)+0],b[2*(w-1)+1],u),l(b[2*(w-2)+0],b[2*(w-2)+1],f),m),j=r(o(M,M),d);s(S=a(j,t,m),_,S),h.push(S[0],S[1]),y.push(h.length/2),h.push(_[0],_[1]),y.push(h.length/2),a(E=i(j,m),t,E),s(E,_,E),h.push(E[0],E[1]),y.push(h.length/2)}}}(e,.5*t,c,h,_),function(e,t,r,n,o){if(n=n||[],o=o||[],e.length%2!=0)throw new Error("extrudedPositions.length % 2 !== 0");if(r.length%3!=0)throw new Error("extrudesSegments.length % 3 !== 0");for(var i=r.length/3,a=0,s=0;s<i;++s){for(var c=r[3*s+0],l=r[3*s+1],u=r[3*s+2],f=a;f<c;++f)n.push(0,0);if(c-a>=2)for(var p=a+1;p<c;++p)o.push(c,p,p-1);n.push(0,.5);for(var d=l;d<u;++d)n.push(0,1);if(u-l>=2)for(var h=l+1;h<u;++h)o.push(c,h-1,h);a=u}for(a=0,s=0;s<i-1;++s){var g=r[3*s+0]-1,y=r[3*s+1]-1,m=r[3*s+2]-1,v=r[3*s+2],b=r[3*(s+1)+0],w=r[3*(s+1)+1];o.push(g,y,b),o.push(g,b,v),o.push(y,m,w),o.push(y,w,b)}t&&(g=r[3*(i-1)+0]-1,y=r[3*(i-1)+1]-1,m=r[3*(i-1)+2]-1,v=0,b=r[0],w=r[1],o.push(g,y,b),o.push(g,b,v),o.push(y,m,w),o.push(y,w,b))}(h,c,_,y,w)}},1409:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3816),t)},1307:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Gif=void 0;var i=r(1941),a=r(4439),s=r(4439),c=r(7970),l=r(2533),u=function(e){function t(t){var r=e.call(this)||this;return r._url=r.disposeVar((0,i.react)("")),r._loadGifFramesProcessing=r.disposeVar((0,s.createProcessingFromPromiseCreateFunc)((function(e){return(0,a.createCancelablePromise)((0,l.loadGifFrames)(e))}))),r._player=r.disposeVar(new c.GifPlayer(t)),r._player.autoPlayOnLoad=!0,r._loadGifFramesProcessing.completeFunc=function(e){var t=e.gifFrames;return r._player.gifFrames=t},r.dispose(r._url.changed.disposableOn((function(e){r._player.gifFrames=void 0,r._loadGifFramesProcessing.restart(new a.CancelError("reload gif(".concat(e,")")),e)}))),r}return o(t,e),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url.value},set:function(e){this._url.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadedEvent",{get:function(){return this._loadGifFramesProcessing.completeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._player.gifSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeChanged",{get:function(){return this._player.gifSizeChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._player.gifDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationChanged",{get:function(){return this._player.gifDurationChanged},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.Gif=u},7970:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.GifPlayer=void 0;var s=r(1941);function c(e,t,r){return e<t?t:e>r?r:e}var l=function(e){function t(t,r,n){void 0===r&&(r=!0);var o=e.call(this)||this;o._container=t,o._gifFrames=o.disposeVar((0,s.react)(void 0)),o._gifDurations=[],o._gifDuration=o.disposeVar((0,s.react)(0)),o._gifSize=o.disposeVar((0,s.react)([0,0],(function(e,t){return e.every((function(e,r){return e===t[r]}))}),(function(e){return a([],i(e),!1)}))),o._autoPlayOnLoad=o.disposeVar((0,s.react)(!0)),o.loop=!0;var l=document.createElement("canvas");o._gifCanvas=l,l.style.width="100%",l.style.height="100%";var u,f=l.getContext("2d");o._container&&o._container.appendChild(l),o.dispose((function(){return o._container&&o._container.removeChild(l)})),o.dispose(o._gifFrames.changed.disposableOn((function(e){if(!e||0===e.length)return l.width=0,void(l.height=0);var t=e[0].dims,r=t.width,n=t.height;o._gifSize.value=[r,n];var i=e.length,a=0;o._gifDurations.length=0;for(var s=0;s<i;++s)a+=e[s].delay,o._gifDurations.push(a);o._gifDuration.value=o._gifDurations[o._gifDurations.length-1],l.width=r,l.height=n,u=f.createImageData(r,n),o.currentTimeChangedEvent.emit(o.currentTime,o.currentTime),o._autoPlayOnLoad.value&&(o.currentTime=0,o.playing=!0)})));var p=-1;return o.dispose(o.currentTimeChangedEvent.disposableOn((function(e){var t=c(e/o.duration,0,1),r=o.gifDuration*t,n=o._gifFrames.value;if(n&&n.length>0){var a=o._getFrame(r);if(a===p)return;p=a;var l=n[a];if(0!==l.disposalType&&1!==l.disposalType&&2!==l.disposalType&&(0,s.oneTimeWarning)("gif parsed get disposalType ".concat(l.disposalType,"... frame: ").concat(a," size: ").concat(JSON.stringify(l.dims)),"gif parsed get disposalType ".concat(l.disposalType,"...")),!u||0!==a&&2!==l.disposalType||u.data.fill(0),u){var d=i(o._gifSize.value,2),h=d[0],g=d[1],y=l.dims,m=y.width,v=y.height,b=y.left,w=y.top;if(v>g)throw new Error("height > canvasHeight");for(var _=0;_<v;++_)for(var P=0;P<m;++P){var x=_*m+P,O=(w+_)*h+(b+P),C=u.data,S=l.patch,E=S[4*x+3]/255;C[4*O+0]=C[4*O+0]*(1-E)+S[4*x+0]*E|0,C[4*O+1]=C[4*O+1]*(1-E)+S[4*x+1]*E|0,C[4*O+2]=C[4*O+2]*(1-E)+S[4*x+2]*E|0,C[4*O+3]=0|c(C[4*O+3]+S[4*x+3],0,255)}f.putImageData(u,0,0)}}else(0,s.oneTimeWarning)("gif")}))),o.dispose(o._gifDuration.changed.disposableOn((function(){o.duration=o.gifDuration}))),o._autoPlayOnLoad.value=r,o._gifFrames.value=n,o}return o(t,e),Object.defineProperty(t.prototype,"gifCanvas",{get:function(){return this._gifCanvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifFrames",{get:function(){return this._gifFrames.value},set:function(e){this._gifFrames.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifFramesChanged",{get:function(){return this._gifFrames.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifSize",{get:function(){return this._gifSize.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifSizeChanged",{get:function(){return this._gifSize.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifDuration",{get:function(){return this._gifDuration.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifDurationChanged",{get:function(){return this._gifDuration.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoPlayOnLoad",{get:function(){return this._autoPlayOnLoad.value},set:function(e){this._autoPlayOnLoad.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoPlayOnLoadChanged",{get:function(){return this._autoPlayOnLoad.changed},enumerable:!1,configurable:!0}),t.prototype._getFrame=function(e){for(var t=this._gifDurations.length,r=0;r<t;++r)if(e<=this._gifDurations[r])return r;throw new Error("should not be here")},t}(r(1843).Player);t.GifPlayer=l},4670:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2533),t),o(r(7970),t),o(r(1307),t)},2533:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadGifFrames=void 0;var i=r(9704);t.loadGifFrames=function(e){return n(this,void 0,void 0,(function(){var t,r,n;return o(this,(function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:return[4,o.sent().arrayBuffer()];case 2:return t=o.sent(),r=(0,i.parseGIF)(t),n=(0,i.decompressFrames)(r,!0),[2,{gif:r,gifFrames:n,arrayBuffer:t}]}}))}))}},3384:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),(0,r(2484).registerScript)(),o(r(1320),t),o(r(1473),t),o(r(6699),t),o(r(5353),t),o(r(186),t),o(r(1843),t),o(r(7785),t),o(r(6406),t),o(r(6209),t),o(r(4439),t),o(r(5992),t),o(r(8264),t),o(r(4747),t),o(r(2183),t),o(r(6548),t),o(r(1145),t),o(r(4330),t),o(r(136),t),o(r(2075),t),o(r(2773),t),o(r(1488),t),o(r(2470),t),o(r(8793),t),o(r(1409),t),o(r(7357),t),o(r(2484),t),o(r(3672),t),o(r(4670),t)},1145:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadBASIS=t.CompressedTextureBuffer=void 0;var n=r(9928);Object.defineProperty(t,"CompressedTextureBuffer",{enumerable:!0,get:function(){return n.CompressedTextureBuffer}});var o=r(2075),i=r(6811),a=r(298),s=r(1941),c=Error,l=new o.TaskProcessor("transcodeBASISToTexture",Number.POSITIVE_INFINITY);t.loadBASIS=function(e,t){if(!e)throw new c("resourceOrUrlOrBuffer is required.");var r;if(r=e instanceof ArrayBuffer||ArrayBuffer.isView(e)?i.when.resolve(e):(0,s.fetchArrayBuffer)(e),(0,a.defined)(r))return r.then((function(e){if((0,a.defined)(e)){var r=[];e instanceof ArrayBuffer?r.push(e):(0===e.byteOffset&&e.byteLength===e.buffer.byteLength||(e=e.slice(0,e.length)),r.push(e.buffer));var n={data:e,textureFormat:t};return l.scheduleTask(n,r)}})).then((function(e){return e||console.error("compressedTextureBuffer is undefined!"),n.CompressedTextureBuffer.clone(e)}))}},4330:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadCRN=void 0;var n=r(9928),o=r(2075),i=r(6811),a=r(298),s=r(1941),c=Error,l=new o.TaskProcessor("transcodeCRNToDXT",Number.POSITIVE_INFINITY);t.loadCRN=function(e){if(!(0,a.defined)(e))throw new c("resourceOrUrlOrBuffer is required.");var t;if(t=e instanceof ArrayBuffer||ArrayBuffer.isView(e)?i.when.resolve(e):(0,s.fetchArrayBuffer)(e),(0,a.defined)(t))return t.then((function(e){if((0,a.defined)(e)){var t=[];return e instanceof ArrayBuffer?t.push(e):(0===e.byteOffset&&e.byteLength===e.buffer.byteLength||(e=e.slice(0,e.length)),t.push(e.buffer)),l.scheduleTask(e,t)}})).then((function(e){return e||console.error("compressedTextureBuffer is undefined!"),n.CompressedTextureBuffer.clone(e)}))}},6613:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasImagePoi=void 0;var a=r(1941),s=r(6406),c=r(9192),l=r(7767);function u(e,t){var r=i(t,3),n=r[0],o=r[1],s=r[2],c="".concat(n,"-").concat(o,"-").concat(s),u=(0,a.getExtProp)(e,c);return u||(u=(0,l.imageToCanvas)(e),(0,l.setCanvasUniformColor)(u,t),(0,a.setExtProp)(e,c,u)),u}var f=function(e){function t(t,r,n,o,i){void 0===n&&(n=[32,32]),void 0===o&&(o=[.5,1,0,0]),void 0===i&&(i="#F00F");var a=e.call(this,t)||this;a._image=r,a._size=n,a._originRatioAndOffset=o,a._defaultColorStr=i,a._tooltip="",a._title="",a.__scale=[1,1],a._tooltipAlpha=0,a._bgColor=[.3,.3,.3,.8],a._bgColorHexStr=(0,l.getColorHexStr)(a._bgColor),a._fgColor=[1,1,1,1],a._fgColorHexStr=(0,l.getColorHexStr)(a._fgColor);var c=new s.Transition(100),u=new s.Transition(100);a.dispose((function(){c.destroy(),u.destroy()}));var f=function(){if(a._clickEvent&&!a._clickEvent.empty){var e=(1+.08*u.current)*(1+.08*c.current);a._scale=[e,e],a._tooltipAlpha=c.current}};return a.dispose(a.activedChanged.disposableOn((function(e){u.target=e?1:0,a.needRedraw()}))),a.dispose(a.hoveredChanged.disposableOn((function(e){c.target=e?1:0,a.needRedraw()}))),a.dispose(a.selectedChanged.disposableOn((function(){a.needRedraw()}))),a.dispose(u.currentChanged.disposableOn(f)),a.dispose(c.currentChanged.disposableOn(f)),a}return o(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){var t=i(e,2),r=t[0],n=t[1],o=i(this._size,2),a=o[0],s=o[1];a===r&&s===n||(this._size[0]=r,this._size[1]=n,this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_scale",{get:function(){return this.__scale},set:function(e){var t=i(e,2),r=t[0],n=t[1],o=i(this.__scale,2),a=o[0],s=o[1];a===r&&s===n||(this.__scale[0]=r,this.__scale[1]=n,this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fgColor",{get:function(){return this._fgColor},set:function(e){if(!this._fgColor.every((function(t,r){return e[r]===t}))){var t=i(e,4),r=t[0],n=t[1],o=t[2],a=t[3];this._fgColor.splice(0,4,r,n,o,a),this._fgColorHexStr=(0,l.getColorHexStr)(this._fgColor),this.needRedraw()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgColor",{get:function(){return this._bgColor},set:function(e){if(!this._bgColor.every((function(t,r){return e[r]===t}))){var t=i(e,4),r=t[0],n=t[1],o=t[2],a=t[3];this._bgColor.splice(0,4,r,n,o,a),this._bgColorHexStr=(0,l.getColorHexStr)(this._bgColor),this.needRedraw()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRatioAndOffset",{get:function(){return this._originRatioAndOffset},set:function(e){var t=i(this._originRatioAndOffset,4),r=t[0],n=t[1],o=t[2],a=t[3],s=i(e,4),c=s[0],l=s[1],u=s[2],f=s[3];r===c&&n===l&&o===u&&a===f||(this._originRatioAndOffset.splice(0,4,c,l,u,f),this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},set:function(e){this._image!==e&&(this._image=e,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultColorStr",{get:function(){return this._defaultColorStr},set:function(e){this._defaultColorStr!==e&&(this._defaultColorStr=e,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._tooltip!==e&&(this._tooltip=e,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title!==e&&(this._title=e,this.needRedraw())},enumerable:!1,configurable:!0}),t.prototype.draw=function(e){if(this._show){var t=i(this._winPos,2),r=t[0],n=t[1],o=this._size[0]*this.__scale[0],a=this._size[1]*this.__scale[1],s=(0,l.getDrawRect)([r,n],this._size,this.__scale,this._originRatioAndOffset),c=s.left,f=s.top,p=e.globalAlpha;if(e.globalAlpha=this.opacity,this._image){if(this.selected){var d=u(this._image,[1,0,0]),h=(0,l.getDrawRect)([r,n+3],[o+6,a+6],[1,1],this._originRatioAndOffset),g=h.left,y=h.top;e.drawImage(d,g,y,o+6,a+6)}if(this.actived){var m=i(this._fgColor,4),v=m[0],b=m[1],w=m[2],_=(m[3],d=u(this._image,[v,b,w]),(0,l.getDrawRect)([r,n+4],[o+8,a+8],[1,1],this._originRatioAndOffset)),P=_.left,x=_.top;e.drawImage(d,P,x,o+8,a+8)}if(this.hovered){var O=i(this._bgColor,4),C=(v=O[0],b=O[1],w=O[2],O[3],u(this._image,[v,b,w])),S=(0,l.getDrawRect)([r,n+2],[o+4,a+4],[1,1],this._originRatioAndOffset),E=S.left,M=S.top;e.drawImage(C,E,M,o+4,a+4)}e.drawImage(this._image,c,f,o,a)}else e.fillStyle=this._fgColorHexStr,e.fillRect(c,f,o,a);if(""!==this._title&&(0,l.drawTextBlock)(e,r+20,n-16,[0,.5,0,0],this._title,"14px Arial",4,this._fgColorHexStr,this._bgColorHexStr),e.globalAlpha=p,this._hovered&&""!==this._tooltip){var j=e.globalAlpha;e.globalAlpha=this._tooltipAlpha,(0,l.drawTextBlock)(e,r,n-42,[.5,1,0,0],this._tooltip,"12px Arial",4,this._fgColorHexStr,this._bgColorHexStr),e.globalAlpha=j}}},t.prototype.drawForPick=function(e,t){if(this._show){var r=i(this._winPos,2),n=r[0],o=r[1],a=t("default"),s=this._size[0]*this.__scale[0],c=this._size[1]*this.__scale[1],u=(0,l.getDrawRect)([n,o],this._size,this.__scale,this._originRatioAndOffset),f=u.left,p=u.top;e.fillStyle=a,e.fillRect(f,p,s,c)}},t}(c.CanvasPoi);t.CanvasImagePoi=f},9192:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasPoi=void 0;var i=r(4648),a=function(e){function t(t,r,n){void 0===r&&(r=[0,0]),void 0===n&&(n=0);var o=e.call(this,t)||this;return o._winPos=r,o._depth=n,o.dispose(o.winPosAndDepthChanged.disposableOn((function(){o.needRedraw(),o.needPickRedraw()}))),o}return o(t,e),Object.defineProperty(t.prototype,"winPos",{get:function(){return this._winPos},set:function(e){this._winPos[0]===e[0]&&this._winPos[1]===e[1]||(this._winPos[0]=e[0],this._winPos[1]=e[1],this._winPosAndDepthChanged&&this._winPosAndDepthChanged.emit(this._winPos,this._depth))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return this._depth},set:function(e){this._depth!==e&&(this._depth=e,this._winPosAndDepthChanged&&this._winPosAndDepthChanged.emit(this._winPos,this._depth))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosAndDepthChanged",{get:function(){return this._winPosAndDepthChanged||(this._winPosAndDepthChanged=new i.Event),this._winPosAndDepthChanged},enumerable:!1,configurable:!0}),t}(r(2449).CanvasPrimitive);t.CanvasPoi=a},1408:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasPointPoi=void 0;var a=r(6406),s=r(4648),c=r(9192),l=r(7767),u=function(e){function t(t){var r=e.call(this,t)||this;r._width=16,r._text="",r._fillStyle="#0F0",r._scale=1,r.dispose(r.scaleChanged.disposableOn((function(e){r.needRedraw(),r.needPickRedraw()})));var n=r.disposeVar(new a.Transition(100)),o=r.disposeVar(new a.Transition(100)),i=function(){r._clickEvent&&!r._clickEvent.empty&&(r.scale=(1+.1*o.current)*(1+.2*n.current))};return r.dispose(o.currentChanged.disposableOn(i)),r.dispose(n.currentChanged.disposableOn(i)),r.dispose(r.activedChanged.disposableOn((function(e){o.target=e?1:0,r.needRedraw()}))),r.dispose(r.hoveredChanged.disposableOn((function(e){n.target=e?1:0,r.needRedraw()}))),r.dispose(r.selectedChanged.disposableOn((function(e){r.needRedraw()}))),r}return o(t,e),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale!==e&&(this._scale=e,this._scaleChanged&&this._scaleChanged.emit(e,this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleChanged",{get:function(){return this._scaleChanged||(this._scaleChanged=new s.Event),this._scaleChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillStyle",{get:function(){return this._fillStyle},set:function(e){this._fillStyle!==e&&(this._fillStyle=e,this.needRedraw())},enumerable:!1,configurable:!0}),t.prototype.draw=function(e){if(this._show){var t=i(this._winPos,2),r=t[0],n=t[1],o=e.globalAlpha;e.globalAlpha=this.opacity;var a=this._width*this._scale;this.selected&&(0,l.drawPoint)(e,r,n+3,a+3,"#F00"),this.actived&&this._clickEvent&&!this._clickEvent.empty&&(0,l.drawPoint)(e,r,n+5,a+5,"#FFF"),this.hovered?(0,l.drawPoint)(e,r,n+3,a+3,"#000A"):(0,l.drawPoint)(e,r,n+1,a+1,"#000A"),(0,l.drawPoint)(e,r,n,a,this._fillStyle);var s=this._scale>1.2?"bold 14px Arial":"bold 10px Arial";(0,l.drawText)(e,r,n-a,this._text,s,"#000"),e.globalAlpha=o}},t.prototype.drawForPick=function(e,t){if(this._show){var r=i(this._winPos,2),n=r[0],o=r[1],a=this._width*this._scale,s=t("default");(0,l.drawPoint)(e,n,o,a,s)}},t}(c.CanvasPoi);t.CanvasPointPoi=u},2449:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasPrimitive=void 0;var i=r(1941),a=r(4648),s=r(4648),c=function(e){function t(t,r){void 0===r&&(r={});var n=e.call(this)||this;n._canvasPrimitivesContext=t,n._id=(0,i.createGuid)(),n._actived=!1,n._hovered=!1,n._selected=!1,n._opacity=1,n._show=!0;var o=r.needRedraw,a=void 0===o||o,c=r.needPickRedraw,l=void 0===c||c;return a&&(n._needRedrawEvent=new s.Event),l&&(n._needPickRedrawEvent=new s.Event),n._canvasPrimitivesContext.addPoi(n),n.dispose((function(){return n._canvasPrimitivesContext.removePoi(n)})),n.dispose(n.showChanged.disposableOn((function(){n.needRedraw(),n.needPickRedraw()}))),n.dispose(n.opacityChanged.disposableOn((function(){return n.needRedraw()}))),n}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._canvasPrimitivesContext},enumerable:!1,configurable:!0}),t.prototype.needRedraw=function(){this._needRedrawEvent?this._needRedrawEvent.emit():console.warn("no needRedrawEvent!")},t.prototype.needPickRedraw=function(){this._needPickRedrawEvent?this._needPickRedrawEvent.emit():console.warn("no needPickRedrawEvent!")},t.prototype.hasClickEvent=function(){return!!this._clickEvent},Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent=this._clickEvent||new s.Event,this._clickEvent},enumerable:!1,configurable:!0}),t.prototype.hasClickOutEvent=function(){return!!this._clickOutEvent},Object.defineProperty(t.prototype,"clickOutEvent",{get:function(){return this._clickOutEvent=this._clickOutEvent||new s.Event,this._clickOutEvent},enumerable:!1,configurable:!0}),t.prototype.hasDbclickEvent=function(){return!!this._dbclickEvent},Object.defineProperty(t.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent=this._dbclickEvent||new s.Event,this._dbclickEvent},enumerable:!1,configurable:!0}),t.prototype.hasDbclickOutEvent=function(){return!!this._dbclickOutEvent},Object.defineProperty(t.prototype,"dbclickOutEvent",{get:function(){return this._dbclickOutEvent=this._dbclickOutEvent||new s.Event,this._dbclickOutEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actived",{get:function(){return this._actived},set:function(e){this._actived!==e&&(this._actived=e,this._activedChanged&&this._activedChanged.emit(e,this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activedChanged",{get:function(){return this._activedChanged=this._activedChanged||new s.Event,this._activedChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hovered",{get:function(){return this._hovered},set:function(e){this._hovered!==e&&(this._hovered=e,this._hoveredChanged&&this._hoveredChanged.emit(e,this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredChanged",{get:function(){return this._hoveredChanged=this._hoveredChanged||new s.Event,this._hoveredChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this._selectedChanged&&this._selectedChanged.emit(e,this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChanged",{get:function(){return this._selectedChanged=this._selectedChanged||new s.Event,this._selectedChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){this._opacity!==e&&(this._opacity=e,this._opacityChanged&&this._opacityChanged.emit(e,this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacityChanged",{get:function(){return this._opacityChanged=this._opacityChanged||new s.Event,this._opacityChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._showChanged&&this._showChanged.emit(e,this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._showChanged=this._showChanged||new s.Event,this._showChanged},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.CanvasPrimitive=c},833:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasPrimitivesContext=void 0;var a=r(1941),s=r(6406),c=r(4648),l=r(9467),u=function(e,t){return t.depth-e.depth},f=function(e){function t(){var t=e.call(this)||this;t._pois=[],t._size=[0,0],t._needRedraw=!1,t._needPickRedraw=!1,t._pickColorManager=new l.PickColorMananger;var r=document.createElement("canvas");r.style.width="100%",r.style.height="100%",t._canvasElement=r;var n=r.getContext("2d");if(null===n)throw new Error("cannot get context 2d!");return t._ctx=n,t._offscreenCanvasElement=document.createElement("canvas"),t._offscreenCtx=t._offscreenCanvasElement.getContext("2d"),t._offscreenCtx.imageSmoothingEnabled=!1,t._offscreenCanvasElement2=document.createElement("canvas"),t._offscreenCtx2=t._offscreenCanvasElement2.getContext("2d"),t._offscreenCtx2.imageSmoothingEnabled=!1,t.disposeVar((0,s.createAnimateFrameWithStartValues)((function(){var e=i(t._size,2),r=e[0],n=e[1],o=t._canvasElement,a=o.clientWidth,s=o.clientHeight;r===a&&n===s||(t._size[0]=a,t._size[1]=s,t._canvasElement.width=a,t._canvasElement.height=s,t._offscreenCanvasElement.width=a,t._offscreenCanvasElement.height=s,t._offscreenCanvasElement2.width=a,t._offscreenCanvasElement2.height=s,t._dirty()),t._needRedraw&&(t._needRedraw=!1,t._draw())}))).start(),t}return o(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pois",{get:function(){return this._pois},enumerable:!1,configurable:!0}),t.prototype._dirty=function(){this._needRedraw=!0,this._needPickRedraw=!0},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.addPoi=function(e){var t=this;if(void 0===(0,a.getExtProp)(e,"listenHandler"))if(-1===this._pois.indexOf(e)){this._pois.push(e),this._dirty();var r=e._needRedrawEvent;if(r){var n=r.on((function(){t._needRedraw=!0}));(0,a.setExtProp)(e,"needRedrawEventHandler",n)}var o=e._needPickRedrawEvent;if(o){var i=o.on((function(){t._needPickRedraw=!0}));(0,a.setExtProp)(e,"needPickRedrawEventHandler",i)}}else console.error("poi");else console.error("poipoiManager")},t.prototype.removePoi=function(e){var t=this._pois.indexOf(e);if(-1!==t){this._pois.splice(t,1),this._dirty();var r=e._needRedrawEvent;if(r){var n=(0,a.getExtProp)(e,"needRedrawEventHandler");n?r.off(n):console.error("poilistenHandler")}var o=e._needPickRedrawEvent;if(o){var i=(0,a.getExtProp)(e,"needPickRedrawEventHandler");i?o.off(i):console.error("poilistenHandler")}}else console.error("poi")},t.prototype._draw=function(){var e=this;this._pois.sort(u);var t=i(this._size,2),r=t[0],n=t[1];this._ctx.clearRect(0,0,r,n),this._pois.forEach((function(t){return t.draw(e._ctx)}))},t.prototype.pick=function(e,t,r,n){return this._needPickRedraw&&(this._needPickRedraw=!1,this._pickDraw()),this._getPickInfo(e,t,r,n)},t.prototype._pickDraw=function(){var e=this;this._pickColorManager.reset(),this._pois.sort(u);var t=i(this._size,2),r=t[0],n=t[1];this._offscreenCtx.clearRect(0,0,r,n),this._pois.forEach((function(t){t.drawForPick(e._offscreenCtx,(function(r){var n=i(e._pickColorManager.createPickColor(t,r),3),o=n[0],a=n[1],s=n[2];return"rgb(".concat(o,", ").concat(a,", ").concat(s,")")}))}))},t.prototype._getPickInfo=function(e,t,r,n){for(var o=this._offscreenCtx.getImageData(e,t,r,n),a=[],s=o.data.length/4,c=0;c<s;++c){var l=o.data[4*c+0],u=o.data[4*c+1],f=o.data[4*c+2];if(255===o.data[4*c+3]){var p=this._pickColorManager.getPickInfoFromColor(l,u,f);if(p&&p.poi&&!a.includes(p)){var d=!0,h=i(this._size,2),g=h[0],y=h[1];this._offscreenCtx2.clearRect(0,0,g,y),p.poi.drawForPick(this._offscreenCtx2,(function(e){return"rgb(255, 255, 255)"}));var m=this._offscreenCtx2.getImageData(e,t,r,n),v=m.data[4*c+0],b=m.data[4*c+1],w=m.data[4*c+2];m.data[4*c+3],255===v&&255===b&&255===w||(d=!1),d&&a.push(p)}}}return a},t}(c.Destroyable);t.CanvasPrimitivesContext=f},9467:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.PickColorMananger=t.uint8sToUint32=t.uint32ToUint8s=void 0;var a=r(4648),s=new ArrayBuffer(4),c=new Uint32Array(s),l=new Uint8Array(s);function u(e){if(e>=16777215)throw new Error("uint32 > 0xFFFFFF");return c[0]=e,[l[0],l[1],l[2]]}function f(e,t,r){return l[0]=e,l[1]=t,l[2]=r,l[3]=0,c[0]}t.uint32ToUint8s=u,t.uint8sToUint32=f;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pickColors=new Array(16777215),t._pickColorIndex=0,t}return o(t,e),t.prototype.reset=function(){for(var e=0;e<this._pickColorIndex;++e){var t=this._pickColors[e];if(!t)throw console.error("this._pickColors[i] should not be undefined!"),new Error("this._pickColors[i] should not be undefined!");t.poi=null,t.tag=""}this._pickColorIndex=0},t.prototype.createPickColor=function(e,t){var r=this._pickColorIndex;++this._pickColorIndex;var n=this._pickColors[r];n?(n.poi=e,n.tag=t):this._pickColors[r]={poi:e,tag:t};var o=i(u(r),3);return[o[0],o[1],o[2]]},t.prototype.getPickInfoFromColor=function(e,t,r){var n=f(e,t,r);if(n>=this._pickColorIndex)console.error("index >= this._pickColorIndex");else{var o=this._pickColors[n];if(o)return o;console.error("!this._pickColors[index]")}},t.prototype.destroyImp=function(){this.reset()},t}(a.Destroyable);t.PickColorMananger=p},7767:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function n(e,t,n,o){var i=r(e,2),a=i[0],s=i[1],c=r(o,4),l=c[0],u=c[1],f=c[2],p=c[3],d=t[0]*n[0],h=t[1]*n[1],g=a-(d*l+f),y=s-(h*u+p);return{left:g,top:y,right:g+d,bottom:y+h}}function o(e,t,r,n,o,i){e.beginPath(),e.moveTo(t+i,r),e.lineTo(t+n-i,r),e.arcTo(t+n,r,t+n,r+i,i),e.lineTo(t+n,r+o-i),e.arcTo(t+n,r+o,t+n-i,r+o,i),e.lineTo(t+i,r+o),e.arcTo(t,r+o,t,r+o-i,i),e.lineTo(t,r+i),e.arcTo(t,r,t+i,r,i)}function i(e){return("00"+e.toString(16).toUpperCase()).substr(-2)}Object.defineProperty(t,"__esModule",{value:!0}),t.getColorHexStr=t.uint8ToHexStr=t.drawTextBlock=t.setCanvasUniformColor=t.imageToCanvas=t.drawText=t.drawRoundRectPath=t.drawPoint=t.getDrawRect=void 0,t.getDrawRect=n,t.drawPoint=function(e,t,r,n,o){e.beginPath(),e.moveTo(t,r),e.lineTo(t-.5*n,r-.5*n),e.arc(t,r-n,.7071067811865475*n,.75*Math.PI,.25*Math.PI),e.lineTo(t,r),e.fillStyle=o,e.fill()},t.drawRoundRectPath=o,t.drawText=function(e,t,r,n,o,i){e.font=o;var a=e.measureText(n),s=a.actualBoundingBoxLeft+a.actualBoundingBoxRight,c=Number.isFinite(a.fontBoundingBoxAscent)?a.fontBoundingBoxAscent:a.actualBoundingBoxAscent,l=Number.isFinite(a.fontBoundingBoxDescent)?a.fontBoundingBoxDescent:a.actualBoundingBoxDescent,u=c+l;e.fillStyle=i,e.fillText(n,t-.5*s,r+.5*u-l)},t.imageToCanvas=function(e){var t=e.width,r=e.height,n=t instanceof SVGAnimatedLength?t.baseVal.SVG_LENGTHTYPE_PX:t,o=r instanceof SVGAnimatedLength?r.baseVal.SVG_LENGTHTYPE_PX:r,i=document.createElement("canvas");i.width=n,i.height=o;var a=i.getContext("2d");if(!a)throw new Error("!cavnasCtx");return a.drawImage(e,0,0,n,o),i},t.setCanvasUniformColor=function(e,t){var n=e.width,o=e.height,i=e.getContext("2d");if(!i)throw new Error("!cavnasCtx");for(var a=r(t.map((function(e){return 255*e|0})),3),s=a[0],c=a[1],l=a[2],u=i.getImageData(0,0,n,o),f=u.data,p=0;p<f.length;p+=4)f[p]=s,f[p+1]=c,f[p+2]=l;i.putImageData(u,0,0)},t.drawTextBlock=function(e,t,r,i,a,s,c,l,u){void 0===i&&(i=[.5,1,0,0]),void 0===s&&(s="12px Arial"),void 0===c&&(c=2),void 0===l&&(l="#FFF"),void 0===u&&(u="#000A"),e.font=s;var f=e.measureText(a),p=f.actualBoundingBoxLeft+f.actualBoundingBoxRight+2*c,d=f.fontBoundingBoxAscent+f.fontBoundingBoxDescent+2*c,h=n([t,r],[p,d],[1,1],i),g=h.left,y=h.top,m=h.bottom;e.fillStyle=u,o(e,g,y,p,d,c),e.fill(),e.fillStyle=l,e.fillText(a,g+c,m-c-f.fontBoundingBoxDescent)},t.uint8ToHexStr=i,t.getColorHexStr=function(e){var t=r(e.map((function(e){return 255*e|0})),4),n=t[0],o=t[1],a=t[2],s=t[3];return"#".concat(i(n)).concat(i(o)).concat(i(a)).concat(i(s))}},3268:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6613),t),o(r(9192),t),o(r(1408),t),o(r(2449),t),o(r(833),t),o(r(7767),t),o(r(9467),t)},7507:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.BorderedPosFloatDiv=t.createBottomTriangleElement=t.createCloseDiv=void 0;var a=r(4648),s=r(1246),c=["top","bottom","left","right"];function l(e,t,r){var n,o=document.createElement("div");return o.style.cssText="position: absolute; ".concat((n=r,Object.entries(n).map((function(e){var t=i(e,2),r=t[0],n=t[1];return c.includes(r)?"".concat(r,": ").concat(n,"px; "):""})).join(""))," background-color: ").concat(e,"; border-radius: ").concat(t,"px;"),o.innerHTML='<svg viewBox="0 0 1024 1024" style="display: block;" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2420" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32"><defs><style type="text/css"></style></defs><path d="M512 128C300.8 128 128 300.8 128 512s172.8 384 384 384 384-172.8 384-384S723.2 128 512 128zM512 832c-179.2 0-320-140.8-320-320s140.8-320 320-320 320 140.8 320 320S691.2 832 512 832z" p-id="2421" fill="#ffffff"></path><path d="M672 352c-12.8-12.8-32-12.8-44.8 0L512 467.2 396.8 352C384 339.2 364.8 339.2 352 352S339.2 384 352 396.8L467.2 512 352 627.2c-12.8 12.8-12.8 32 0 44.8s32 12.8 44.8 0L512 556.8l115.2 115.2c12.8 12.8 32 12.8 44.8 0s12.8-32 0-44.8L556.8 512l115.2-115.2C684.8 384 684.8 364.8 672 352z" p-id="2422" fill="#ffffff"></path></svg>',o}function u(e,t,r){void 0===r&&(r="rgba(0,0,0,0.7)");var n=document.createElement("div");n.style.cssText="margin: 0 auto; width: ".concat(e,"px; height: ").concat(t,"px; position: relative; pointer-events: none;");var o=document.createElement("div");return o.style.cssText="position: absolute; left: 0px; top: 0px; width: 0; height: 0; border-left: ".concat(.5*e,"px solid transparent; border-right: ").concat(.5*e,"px solid transparent; border-top: ").concat(t,"px solid ").concat(r,";"),n.appendChild(o),[n,o]}t.createCloseDiv=l,t.createBottomTriangleElement=u;var f=function(e){function t(){var t=e.call(this)||this;t._colorStr="rgba(0, 0, 0, 0.7)",t._divColorChanged=new a.Event,t._borderRadius=10;var r=document.createElement("div");r.style.cssText="position: relative; background-color: ".concat(t._colorStr,"; border-radius: ").concat(t._borderRadius,"px; padding: 5px; pointer-events: all;"),t._borderDiv=r;var n=l(t._colorStr,10,{top:3,right:3}),o=i(u(2*t._borderRadius,2*t._borderRadius,t._colorStr),2),s=o[0],c=o[1],f=document.createElement("div");t._innerContentDiv=f,r.appendChild(f),r.appendChild(n),t.contentDiv.appendChild(r),t.contentDiv.appendChild(s),n.style.opacity="0.1",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.1"},n.onclick=function(){t._closeEvent&&t._closeEvent.emit()},t._closeDiv=n,t.dispose(t._divColorChanged.disposableOn((function(){c.style.borderTopColor=t._colorStr,r.style.backgroundColor=t._colorStr,s.style.width="".concat(2*t._borderRadius,"px"),s.style.height="".concat(2*t._borderRadius,"px"),c.style.borderLeft="".concat(t._borderRadius,"px"),c.style.borderRight="".concat(t._borderRadius,"px"),c.style.borderTop="".concat(2*t._borderRadius,"px")})));var p=function(e){"Escape"===e.key&&t._closeEvent&&t._closeEvent.emit()};return document.body.addEventListener("keydown",p,!0),t.dispose((function(){document.removeEventListener("keydown",p,!0)})),t}return o(t,e),Object.defineProperty(t.prototype,"borderDiv",{get:function(){return this._borderDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerContentDiv",{get:function(){return this._innerContentDiv},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.show=!1,this.opacity=0,this._closeDiv.style.opacity="0.1",e.prototype.reset.call(this)},Object.defineProperty(t.prototype,"colorStr",{get:function(){return this._colorStr},set:function(e){this._colorStr!==e&&(this._colorStr=e,this._divColorChanged.emit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(e){this._borderRadius!==e&&(this._borderRadius=e,this._divColorChanged.emit())},enumerable:!1,configurable:!0}),t}(s.PosFloatDiv);t.BorderedPosFloatDiv=f},4319:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorInfo=t.CursorFloatDiv=void 0;var a=r(4648),s=r(7785),c=r(3681),l=function(e){function t(){var t=e.call(this)||this;return t.contentDiv.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.contentDiv.style.borderRadius="3px",t.contentDiv.style.color="rgb(255, 255, 255)",t.contentDiv.style.padding="1px 5px 1px 5px",t.contentDiv.style.fontSize="12px",t.contentDiv.style.whiteSpace="nowrap",t.contentDiv.innerText="",t.originRatioX=0,t.originRatioY=0,t.originOffsetX=-16,t}return o(t,e),t}(c.PosFloatDiv);t.CursorFloatDiv=l;var u=function(e){function t(t,r){var n=e.call(this)||this;n._pointerOut=n.disposeVar((0,a.react)(!1)),n._show=n.disposeVar((0,a.react)(!0)),n._cursorDiv=new c.DivPoi(r,t),n.dispose((function(){return n._cursorDiv.destroy()}));var o=function(e){var t=i((0,s.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];n._cursorDiv.floatDiv.winPos=[r,o]};t.addEventListener("pointermove",o),n.dispose((function(){return t.removeEventListener("pointermove",o)}));var l=function(){n._cursorDiv.show=n.show&&n._pointerOut.value};return l(),n.dispose(n.showChanged.disposableOn(l)),n.dispose(n._pointerOut.changed.disposableOn(l)),n}return o(t,e),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._pointerOut.value=!1},Object.defineProperty(t.prototype,"cursorDiv",{get:function(){return this._cursorDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._cursorDiv.floatDiv.contentDiv.innerText},set:function(e){this._cursorDiv.floatDiv.contentDiv.innerText=e},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.CursorInfo=u},6412:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DivPoi=void 0;var i=r(4648),a=r(4648),s=r(4408),c=function(e){function t(t,r){var n=e.call(this)||this;return n._customDivClass=t,n._divContainer=r,n._show=!1,n.dispose((function(){n.show=!1})),n}return o(t,e),t.prototype._updateDivPoi=function(){if(this._show){var e=this.floatDiv;e.element.parentElement||this._divContainer.appendChild(e.element)}else{var t=this._floatDiv;t&&t.element.parentElement&&this._divContainer.removeChild(t.element)}},Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._updateDivPoi(),this._showChanged&&this._showChanged.emit(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"floatDiv",{get:function(){var e=this;if(!this._floatDiv){var t=(0,s.getFloatDivPool)(this._customDivClass).create();this.dispose((function(){(0,s.getFloatDivPool)(e._customDivClass).destroy(t)})),this._floatDiv=t}return this._floatDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._showChanged||(this._showChanged=new i.Event),this._showChanged},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.DivPoi=c},4408:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getFloatDivPool=t.FloatDiv=void 0;var a=r(4648),s=r(4648),c=r(4648),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._show=!0,t._opacity=1,t._winPos=[0,0],t}return o(t,e),Object.defineProperty(t.prototype,"winPos",{get:function(){return this._winPos},set:function(e){var t=i(e,2),r=t[0],n=t[1],o=i(this._winPos,2),a=o[0],s=o[1];r===a&&n===s||(this._winPos[0]=r,this._winPos[1]=n,this._winPosChanged&&this._winPosChanged.emit(this._winPos))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosChanged",{get:function(){return this._winPosChanged=this._winPosChanged||new a.Event,this._winPosChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){this._opacity!==e&&(this._opacity=e,this._opacityChanged&&this._opacityChanged.emit(this._opacity))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opacityChanged",{get:function(){return this._opacityChanged=this._opacityChanged||new a.Event,this._opacityChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._showChanged&&this._showChanged.emit(this._show))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._showChanged=this._showChanged||new a.Event,this._showChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeEvent",{get:function(){return this._closeEvent||(this._closeEvent=new a.Event),this._closeEvent},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.FloatDiv=l;var u=new WeakMap;t.getFloatDivPool=function(e){if(!u.has(e)){var t=new c.ObjPool((function(){return new e}),(function(e){return e.reset()}));u.set(e,t)}return u.get(e)}},3115:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameBorderedPosFloatDiv=void 0;var i=r(4648),a=function(e){function t(){var t=e.call(this)||this,r=document.createElement("iframe");r.style.cssText="width: 100%; height: 100%; border-width: 0px; border-radius: 5px; display: block;",r.src="http://www.weather.com.cn/live/index.shtml",t._iframe=r,t.innerContentDiv.appendChild(r);var n=function(e){e.source===t._iframe.contentWindow&&(t._iframeMessageEvent?t._iframeMessageEvent.emit(e):console.warn("iframedata: ".concat(e.data)))};return window.addEventListener("message",n),t.dispose((function(){window.removeEventListener("message",n)})),t}return o(t,e),t.prototype.reset=function(){e.prototype.reset.call(this),this.src=""},Object.defineProperty(t.prototype,"src",{get:function(){return this._iframe.src},set:function(e){this._iframe.src!==e&&(this._iframe.src=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframe",{get:function(){return this._iframe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeMessageEvent",{get:function(){return this._iframeMessageEvent=this._iframeMessageEvent||new i.Event,this._iframeMessageEvent},enumerable:!1,configurable:!0}),t}(r(7507).BorderedPosFloatDiv);t.IFrameBorderedPosFloatDiv=a},1246:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.PosFloatDiv=void 0;var a=r(4648),s=function(e){function t(){var t=e.call(this)||this;t._originOffsetX=0,t._originOffsetY=0,t._originRatioX=.5,t._originRatioY=1,t._divChanged=new a.Event;var r=document.createElement("div");r.style.cssText="width: 0px; height: 0px; position: absolute; opacity: 1.0; visibility: visible;";var n=document.createElement("div");n.style.cssText="position: absolute; left: ".concat(-t._originOffsetX,"px; top: ").concat(-t._originOffsetY,"px; transform: translateX(-").concat(100*t._originRatioX,"%) translateY(-").concat(100*t._originRatioY,"%); margin: 0; padding: 0; pointer-events: none;");var o=document.createElement("div");t._contentDiv=o,n.appendChild(o),r.appendChild(n);var s=function(e){e.stopPropagation()};return r.addEventListener("pointermove",s),r.addEventListener("pointerdown",s),r.addEventListener("pointerup",s),t.dispose((function(){r.removeEventListener("pointermove",s),r.removeEventListener("pointerdown",s),r.removeEventListener("pointerup",s)})),t._div=r,t.dispose(t._divChanged.disposableOn((function(){n.style.left="".concat(-t._originOffsetX,"px"),n.style.top="".concat(-t._originOffsetY,"px"),n.style.transform="translateX(-".concat(100*t._originRatioX,"%) translateY(-").concat(100*t._originRatioY,"%)")}))),t.dispose(t.winPosChanged.disposableOn((function(e){var r=i(e,2),n=r[0],o=r[1];t._div.style.left="".concat(n,"px"),t._div.style.top="".concat(o,"px")}))),t.dispose(t.opacityChanged.disposableOn((function(e){t._div.style.opacity="".concat(e)}))),t.dispose(t.showChanged.disposableOn((function(e){t._div.style.visibility=e?"visible":"hidden"}))),t}return o(t,e),Object.defineProperty(t.prototype,"contentDiv",{get:function(){return this._contentDiv},enumerable:!1,configurable:!0}),t.prototype.reset=function(){},Object.defineProperty(t.prototype,"originOffsetX",{get:function(){return this._originOffsetX},set:function(e){this._originOffsetX!==e&&(this._originOffsetX=e,this._divChanged.emit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originOffsetY",{get:function(){return this._originOffsetY},set:function(e){this._originOffsetY!==e&&(this._originOffsetY=e,this._divChanged.emit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRatioX",{get:function(){return this._originRatioX},set:function(e){this._originRatioX!==e&&(this._originRatioX=e,this._divChanged.emit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRatioY",{get:function(){return this._originRatioY},set:function(e){this._originRatioY!==e&&(this._originRatioY=e,this._divChanged.emit())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._div},enumerable:!1,configurable:!0}),t}(r(4408).FloatDiv);t.PosFloatDiv=s},8357:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolTipDiv=void 0;var a=function(e){function t(){var t=e.call(this)||this;t._text="";var r=document.createElement("div");t._div=r,r.style.cssText="width: 0px; height: 0px; position: absolute; opacity: 1.0; visibility: visible; transition: opacity 0.5s;";var n=document.createElement("div");n.style.cssText="position: absolute; left: 0px; bottom: 0px; transform: translateX(-50%); margin: 0; padding: 0; pointer-events: none;";var o=document.createElement("div");return o.style.cssText="position: relative; background-color: rgba(0, 0, 0, 0.7); border-radius: 5px; padding: 3px; pointer-events: all; color: white; white-space: nowrap;",o.innerText=t._text,t._div.appendChild(n),n.appendChild(o),t._contentContainer=o,t._div=r,t.dispose(t.winPosChanged.disposableOn((function(e){var r=i(e,2),n=r[0],o=r[1];t._div.style.left="".concat(n,"px"),t._div.style.top="".concat(o-50,"px")}))),t.dispose(t.opacityChanged.disposableOn((function(e){t._div.style.opacity="".concat(e)}))),t.dispose(t.showChanged.disposableOn((function(e){t._div.style.visibility=e?"visible":"hidden"}))),t}return o(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._div},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.opacity=1,this.show=!0},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._contentContainer.innerText=e)},enumerable:!1,configurable:!0}),t}(r(4408).FloatDiv);t.ToolTipDiv=a},3681:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1246),t),o(r(6412),t),o(r(4408),t),o(r(7507),t),o(r(3115),t),o(r(8357),t),o(r(4319),t)},136:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3268),t),o(r(3681),t)},3187:(e,t)=>{function r(e,t,r){for(var n=0;n<r;++n)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.equalsPenSplineVertexType=void 0,t.equalsPenSplineVertexType=function(e,t,n){return r(e.position,t.position,n)&&(e.leftPosition===t.leftPosition===void 0||e.leftPosition&&t.leftPosition&&r(e.leftPosition,t.leftPosition,n)||!1)&&(e.rightPosition===t.rightPosition===void 0||e.rightPosition&&t.rightPosition&&r(e.rightPosition,t.rightPosition,n)||!1)}},1222:(e,t)=>{function r(e,t){var r=e*e,n=r*e,o=e+e+e,i=r+r+r,a=n+n+n,s=1-o+i-n,c=o-(i+i)+a,l=i-a,u=n;return t?(t[0]=s,t[1]=c,t[2]=l,t[3]=u,t):[s,c,l,u]}Object.defineProperty(t,"__esModule",{value:!0}),t.computBezierSpline3BaseFactors=t.bezierSpline3=t.bezierSpline3WithBaseFactor=t.getBezierSpline3BaseFactor=void 0,t.getBezierSpline3BaseFactor=r,t.bezierSpline3WithBaseFactor=function(e,t,r,n,o,i,a){for(var s=null!=a?a:new Array(t),c=0;c<t;++c)s[c]=e[0]*r[c]+e[1]*n[c]+e[2]*o[c]+e[3]*i[c];return s},t.bezierSpline3=function(e,t,n,o,i,a,s){for(var c=r(e),l=null!=s?s:new Array(t),u=0;u<t;++u)l[u]=c[0]*n[u]+c[1]*o[u]+c[2]*i[u]+c[3]*a[u];return l},t.computBezierSpline3BaseFactors=function(e){for(var t=new Array(e+1),n=1/e,o=0,i=0;i<e;++i)t[i]=r(o),o+=n;return t}},7357:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1222),t),o(r(3187),t),o(r(500),t)},500:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.vertexArrayToBezierSpline3Positions=void 0;var n=r(1222),o=(0,n.computBezierSpline3BaseFactors)(20);t.vertexArrayToBezierSpline3Positions=function(e,t,r,i){var a,s,c=e.length;if(c<=1)return e.map((function(e){return e.position}));for(var l=20===i?o:(0,n.computBezierSpline3BaseFactors)(i),u=r?c:c-1,f=new Array(u*i+1),p=0;p<u;++p){var d=e[p],h=e[p+1===c?0:p+1],g=d.position,y=null!==(a=d.rightPosition)&&void 0!==a?a:d.position,m=null!==(s=h.leftPosition)&&void 0!==s?s:h.position,v=h.position,b=p*i;f[b]=g;for(var w=1;w<i;++w)f[b+w]=(0,n.bezierSpline3WithBaseFactor)(l[w],t,g,y,m,v)}return f[u*i]=e[r?0:c-1].position,f}},2484:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.registerScript=t.getNameAndExtFromFileName=t.getDirAndFileNameFromPath=t.getCurrentScriptPath=void 0;var o=r(8264);function i(){return document.currentScript.src}function a(e){var t=/(.*)[\/\\](.*)/.exec(e);return t&&t.length>=3?[t[1],t[2]]:void 0}function s(e){var t=/(.*)\.(.*)/.exec(e);return t&&t.length>=3?[t[1],t[2]]:void 0}t.getCurrentScriptPath=i,t.getDirAndFileNameFromPath=a,t.getNameAndExtFromFileName=s,t.registerScript=function(){var e,t,r=i(),c=n(null!==(e=a(r))&&void 0!==e?e:["",""],2),l=c[0],u=c[1],f=n(null!==(t=s(u))&&void 0!==t?t:["",""],2),p=f[0],d=f[1];p?(o.SceneObject.context.setEnv("".concat(p,"-script-path"),r),o.SceneObject.context.setEnv("".concat(p,"-script-dir"),l),o.SceneObject.context.setEnv("".concat(p,"-script-name"),p),o.SceneObject.context.setEnv("".concat(p,"-script-ext"),d)):console.warn("getCurrentScriptPath error: ".concat(p))}},9258:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8578:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},9361:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=void 0;var c=r(1941),l=r(2054),u=r(2527),f=r(684),p=function(e){function t(r){var n=e.call(this)||this;return n._root=n.disposeVar(new l.TreeItem(n,!0,"_ROOT")),n._itemChildrenChanged=n.disposeVar(new c.Event),n._itemChildrenToChange=n.disposeVar(new c.Event),n._itemsAdded=n.disposeVar(new c.Event),n._itemsDeleted=n.disposeVar(new c.Event),n._itemsChanged=n.disposeVar(new c.Event),n._transactionStack=0,n._addedItems=new Set,n._deletedItems=new Set,n._selectedItems=n.disposeVar(new c.ObservableArray),n._itemDivHeight=n.disposeVar((0,c.react)(t.defaultItemDivHeight)),n._forceRedrawEvent=n.disposeVar(new c.Event),n._uiTree=n.disposeVar(new u.UiTree(n)),n._root._tree.value=n,n.dispose(n._itemChildrenToChange.disposableOn((function(e,t){var r,o,a,s;if(e.children){try{for(var c=i(t),l=c.next();!l.done;l=c.next()){for(var u=l.value,f=u.start,p=u.deleteCount,d=u.items,h=f;h<f+p;++h){var g=e.children.get(h);n._deletedItems.has(g)?console.error("this._deletedItems.has(currentItem(".concat(g.id,"))")):n._deletedItems.add(g)}try{for(var y=(a=void 0,i(d)),m=y.next();!m.done;m=y.next())g=m.value,n._deletedItems.has(g)?n._deletedItems.delete(g):n._addedItems.add(g)}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}n._execTransaction()}else console.error("!item.children")}))),void 0!==r&&(n.itemDivHeight=r),n}return o(t,e),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selectedItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastSelectedItem",{get:function(){return this._selectedItems.length>0?this._selectedItems.get(this._selectedItems.length-1):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemDivHeight",{get:function(){return this._itemDivHeight.value},set:function(e){this._itemDivHeight.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemDivHeightChanged",{get:function(){return this._itemDivHeight.changed},enumerable:!1,configurable:!0}),t.prototype.forceRedraw=function(){this._forceRedrawEvent.emit()},Object.defineProperty(t.prototype,"uiTree",{get:function(){return this._uiTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._root.children},enumerable:!1,configurable:!0}),t.prototype.getDescendants=function(e){return this._root.getDescendants(e)},t.prototype.getTreeItemFromId=function(e){var t,r,n=void 0;try{for(var o=i(this.getDescendants()),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.id===e){n=s;break}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},t.prototype._startTransaction=function(){0===this._transactionStack&&(this._deletedItems.size>0&&(console.warn("this._deletedItems.size > 0"),this._deletedItems.clear()),this._addedItems.size>0&&(console.warn("this._addedItems.size > 0"),this._addedItems.clear())),++this._transactionStack},t.prototype._stopTransaction=function(){--this._transactionStack,this._execTransaction()},t.prototype._execTransaction=function(){0===this._transactionStack&&(this._deletedItems.size>0&&(this._itemsDeleted.emit(s([],a(this._deletedItems),!1)),this._deletedItems.clear()),this._addedItems.size>0&&(this._itemsAdded.emit(s([],a(this._addedItems),!1)),this._addedItems.clear()))},Object.defineProperty(t.prototype,"itemChildrenChanged",{get:function(){return this._itemChildrenChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemChildrenToChange",{get:function(){return this._itemChildrenToChange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsChanged",{get:function(){return this._itemsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsAdded",{get:function(){return this._itemsAdded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsDeleted",{get:function(){return this._itemsDeleted},enumerable:!1,configurable:!0}),t.defaultItemDivHeight=24,t.canMoveToTreeItem=f.canMoveToTreeItem,t.moveToTreeItem=f.moveToTreeItem,t.canMoveToTreeItems=f.canMoveToTreeItems,t.moveToTreeItems=f.moveToTreeItems,t}(c.Destroyable);t.Tree=p},2054:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItem=void 0;var l=r(1941),u=r(684),f=r(4876),p=function(e){function t(r,n,o){void 0===n&&(n=!1);var i=e.call(this)||this;return i._tree=r,i._hasChildren=n,i._parent=i.disposeVar((0,l.react)(void 0)),i._level=i.disposeVar((0,l.react)(0)),i._uiTreeObject=i.disposeVar(new f.UiTreeObject(i)),i._id=null!=o?o:(0,l.createGuid)(),"_ROOT"!==i._id&&t.wm.has(i._id)&&console.warn("id(".concat(i._id,")")),t.wm.set(i._id,i),i.dispose((function(){"_ROOT"===i._id||t.wm.has(i._id)?t.wm.delete(i._id):console.warn("(".concat(i._id,")wm"))})),i.dispose(i._parent.changed.disposableOn((function(){i._updateLevel()}))),i.dispose(i._level.changed.disposableOn((function(){var e,t;if(i.children)try{for(var r=a(i.children),n=r.next();!n.done;n=r.next())n.value._updateLevel()}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}))),t.allTreeItems.set(i._id,i),i.dispose((function(){t.allTreeItems.delete(i._id)})),i}return o(t,e),t.getFromId=function(e){return t.wm.get(e)},Object.defineProperty(t.prototype,"uiTreeObject",{get:function(){return this._uiTreeObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype._updateLevel=function(){this.parent&&(this._level.value=this.parent.level+1)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentChanged",{get:function(){return this._parent.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){var e=this;if(this._hasChildren){if(!this._children){var t=this.disposeVar(new l.ObservableArray);this._children=t,this.dispose(t.toChangeEvent.disposableOn((function(t,r){var n,o,i,s;try{for(var c=a(t),l=c.next();!l.done;l=c.next()){for(var u=l.value,f=u.start,p=u.deleteCount,d=u.items,h=f;h<f+p;++h)r.get(h)._parent.value=void 0;try{for(var g=(i=void 0,a(d)),y=g.next();!y.done;y=g.next()){var m=y.value;if(m.parent)throw console.error("treeItem"),new Error("item.parent should not exist!");m._parent.value=e}}catch(e){i={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}})));var r=new Set,n=new Set;this.dispose(t.toChangeEvent.disposableOn((function(t,o){var i,s,c,l,u,f,p;if(e.tree){r.clear(),n.clear();try{for(var d=a(t),h=d.next();!h.done;h=d.next()){for(var g=h.value,y=g.start,m=g.deleteCount,v=g.items,b=y;b<y+m;++b)r.add(o.get(b));try{for(var w=(c=void 0,a(v)),_=w.next();!_.done;_=w.next()){var P=_.value;n.add(P)}}catch(e){c={error:e}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}}}catch(e){i={error:e}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}try{for(var x=a(r),O=x.next();!O.done;O=x.next())P=O.value,n.has(P)&&(r.delete(P),n.delete(P))}catch(e){u={error:e}}finally{try{O&&!O.done&&(f=x.return)&&f.call(x)}finally{if(u)throw u.error}}null===(p=e.tree)||void 0===p||p.itemChildrenToChange.emit(e,t,r,n)}}))),this.dispose(t.changedEvent.disposableOn((function(){var t;null===(t=e.tree)||void 0===t||t.itemChildrenChanged.emit(e)}))),this.dispose(t.toChangeEvent.disposableOn((function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e._childrenToChangeEvent&&(t=e._childrenToChangeEvent).emit.apply(t,c([],s(r),!1))}))),this.dispose(t.changedEvent.disposableOn((function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e._childrenChangedEvent&&(t=e._childrenChangedEvent).emit.apply(t,c([],s(r),!1))})))}return this._children}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenResetedEvent",{get:function(){return this._childrenResetedEvent||(this._childrenResetedEvent=new l.Event),this._childrenResetedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenToChangeEvent",{get:function(){return this._childrenToChangeEvent||(this._childrenToChangeEvent=new l.Event),this._childrenToChangeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenChangedEvent",{get:function(){return this._childrenChangedEvent||(this._childrenChangedEvent=new l.Event),this._childrenChangedEvent},enumerable:!1,configurable:!0}),t.prototype.resetChildren=function(e){void 0===e&&(e=!1),this._children&&(this._children.length=0),this._hasChildren=e,this._childrenResetedEvent&&this._childrenResetedEvent.emit(e)},t.prototype.getDescendants=function(e){var t,r,n,o,a,s;return i(this,(function(i){switch(i.label){case 0:r=[],n=[],(t=this).children&&t.children.length>0&&(!e||e(t))&&(r.push(0),n.push(t.children)),i.label=1;case 1:return r.length>0?(o=r[r.length-1],a=n[n.length-1],[4,s=a.get(o)]):[3,3];case 2:return i.sent(),o<a.length-1?++r[r.length-1]:(n.pop(),r.pop()),s.children&&s.children.length>0&&(!e||e(s))&&(r.push(0),n.push(s.children)),[3,1];case 3:return[2]}}))},t.prototype.getAncestors=function(e){var t;return i(this,(function(r){switch(r.label){case 0:t=this.parent,r.label=1;case 1:return t?[4,t]:[3,3];case 2:return r.sent(),e&&!e(t)?[3,3]:(t=t.parent,[3,1]);case 3:return[2]}}))},t.prototype.isDescendantOf=function(e){var t,r;try{for(var n=a(this.getAncestors()),o=n.next();!o.done;o=n.next())if(o.value===e)return!0}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},t.prototype.isAncestorOf=function(e){return e.isDescendantOf(this)},Object.defineProperty(t.prototype,"level",{get:function(){return this._level.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelChanged",{get:function(){return this._level.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree},enumerable:!1,configurable:!0}),t.prototype.canMoveTo=function(e,t){return(0,u.canMoveToTreeItem)(this,e,t)},t.prototype.moveTo=function(e,t){(0,u.moveToTreeItem)(this,e,t)},t.prototype.detachFromParent=function(){if(this.parent&&this.parent.children){var e=this.parent.children.indexOf(this);this.parent.children.splice(e,1)}},t.prototype.insertNewTreeItem=function(e,t){if(t&&t.tree!==this.tree)return console.warn("newTreeItem.tree !== this.tree"),!1;if(this.children&&e.startsWith("Inner"))return t&&this.children.push(t),!0;if("Inner"===e)return!1;var r=this.parent;if(!r||!r.children)return!1;var n=r.children.indexOf(this);return e.endsWith("Before")?t&&r.children.splice(n,0,t):e.endsWith("After")&&t&&r.children.splice(n+1,0,t),!0},t.wm=new Map,t.allTreeItems=new Map,t}(l.Destroyable);t.TreeItem=p},2527:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.UiTree=void 0;var s=r(1941),c=r(6406),l=function(e){function t(t){var r=e.call(this)||this;r._tree=t,r._redrawEvent=r.disposeVar(new s.Event),r._containerScrollTop=r.disposeVar((0,s.react)(0)),r._containerClientHeight=r.disposeVar((0,s.react)(-1)),r._container=r.disposeVar((0,s.react)(void 0)),r._redrawInfo={topFreeSpaceHeight:0,topUnvisibleItemNum:0,middleTreeItems:[],bottomFreeSpaceHeight:0,bottomUnvisibleItemNum:0};var n,o=r._containerClientHeight,i=r._containerScrollTop,l=r._tree._forceRedrawEvent,u=r.disposeVar((0,s.createNextAnimateFrameEvent)(r._tree.itemDivHeightChanged,r._tree.itemChildrenChanged,r._tree.itemsChanged,o.changed,i.changed,l)),f=r.redrawInfo,p=function(e){var t=e.uiTreeObject;return!(!e.children||t&&t.collapsed)};return r.dispose(u.disposableOn((function(){var e,t,n,c;if(f.topFreeSpaceHeight=0,f.topUnvisibleItemNum=0,f.middleTreeItems.length=0,f.bottomFreeSpaceHeight=0,f.bottomUnvisibleItemNum=0,r._containerClientHeight.value>=0){var l=(0,s.length)(r._tree.getDescendants(p)),u=r._tree.itemDivHeight,d=u*l,h=(0,s.max)([(0,s.min)([(0,s.max)([d-o.value,0]),i.value]),0]),g=h/u|0,y=0|Math.ceil((h-g*u+o.value)/u);g>0&&(f.topUnvisibleItemNum=g,f.topFreeSpaceHeight=g*r._tree.itemDivHeight);var m=g+y,v=0;try{for(var b=a(r._tree.getDescendants(p)),w=b.next();!w.done;w=b.next()){var _=w.value;if(v>=m)break;v>=g&&f.middleTreeItems.push(_),++v}}catch(t){e={error:t}}finally{try{w&&!w.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}var P=l-g-y;P>0&&(f.bottomUnvisibleItemNum=P,f.bottomFreeSpaceHeight=P*r._tree.itemDivHeight)}else try{for(var x=a(r._tree.getDescendants(p)),O=x.next();!O.done;O=x.next())_=O.value,f.middleTreeItems.push(_)}catch(e){n={error:e}}finally{try{O&&!O.done&&(c=x.return)&&c.call(x)}finally{if(n)throw n.error}}r._redrawEvent.emit(f)}))),r.dispose((function(){return n&&(n.destroy(),n=void 0)})),r.dispose(r.containerChanged.disposableOn((function(e){n&&(n.destroy(),n=void 0),e&&(n=(0,c.createAnimateFrame)()).start((function(){var t=e,n=t.scrollTop,o=t.clientHeight;void 0===n||void 0===o?(0,s.oneTimeWarning)("createUiTreeWithContainer error: conainter has no scrollTop or clientHeight property!"):(r.containerScrollTop=n,r.containerClientHeight=o)}))}))),r}return o(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container.value},set:function(e){this._container.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redrawInfo",{get:function(){return this._redrawInfo},enumerable:!1,configurable:!0}),t.prototype.getTreeItemPos=function(e){var t,r,n=0,o=!1;try{for(var i=a(this._tree.getDescendants((function(e){var t=e.uiTreeObject;return!(!e.children||t&&t.collapsed)}))),s=i.next();!s.done;s=i.next()){if(s.value===e){o=!0;break}++n}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o?[n,n*this._tree.itemDivHeight]:void 0},t.prototype.collapseAll=function(){var e,t;console.log("collapseAll");try{for(var r=a(this.tree.root.getDescendants()),n=r.next();!n.done;n=r.next())n.value.uiTreeObject.collapsed=!0}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redrawEvent",{get:function(){return this._redrawEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerScrollTop",{get:function(){return this._containerScrollTop.value},set:function(e){this._containerScrollTop.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerScrollTopChanged",{get:function(){return this._containerScrollTop.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerClientHeight",{get:function(){return this._containerClientHeight.value},set:function(e){this._containerClientHeight.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerClientHeightChanged",{get:function(){return this._containerClientHeight.changed},enumerable:!1,configurable:!0}),t.prototype.getAllItems=function(e){var t,r,n,o,s,c;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,7]),t=a(this._tree.getDescendants()),r=t.next(),i.label=1;case 1:return r.done?[3,4]:(n=r.value,e&&!e(n)?[3,3]:[4,n]);case 2:i.sent(),i.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return o=i.sent(),s={error:o},[3,7];case 6:try{r&&!r.done&&(c=t.return)&&c.call(t)}finally{if(s)throw s.error}return[7];case 7:return[2]}}))},t.prototype.getAllSelectedItems=function(){return this.getAllItems((function(e){return e.uiTreeObject.selected}))},t.prototype.getAllCheckedLeafItems=function(){return this.getAllItems((function(e){return!e.children&&"checked"===e.uiTreeObject.checkedStatus}))},t.prototype.clearAllSelectedItems=function(e){var t,r;try{for(var n=a(this.getAllSelectedItems()),o=n.next();!o.done;o=n.next()){var i=o.value;e&&e.includes(i)||(i.uiTreeObject.selected=!1)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},t}(s.Destroyable);t.UiTree=l},4876:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.UiTreeObject=void 0;var a=r(1941),s={checked:1,unchecked:2,indeterminate:3},c=["checked","unchecked","indeterminate"],l=function(e){function t(t){var r=e.call(this)||this;r._treeItem=t,r._collapsed=r.disposeVar((0,a.react)(!1)),r._checkedStatus=r.disposeVar((0,a.react)("unchecked")),r._selected=r.disposeVar((0,a.react)(!1)),r._moveToPositionMode=r.disposeVar((0,a.react)("none")),r._updateCheckedStatusFromChildrenEvent=r.disposeVar(new a.Event);var n=function(){return r._treeItem.tree&&r._treeItem.tree.itemsChanged.emit([r._treeItem])};r.dispose(r._collapsed.changed.disposableOn(n)),r.dispose(r._checkedStatus.changed.disposableOn(n)),r.dispose(r._selected.changed.disposableOn(n)),r.dispose(r._moveToPositionMode.changed.disposableOn(n)),r.dispose(r._checkedStatus.changed.disposableOn((function(){return r._treeItem.parent&&r._treeItem.parent.uiTreeObject.updateCheckedStatusFromChildren()}))),r.dispose(r._treeItem.childrenChangedEvent.disposableOn((function(){r.updateCheckedStatusFromChildren()})));var o=r.disposeVar((0,a.createNextAnimateFrameEvent)(r._updateCheckedStatusFromChildrenEvent));return r.dispose(o.disposableOn((function(){if(r._treeItem.children){var e=0;(0,a.forEachWithBreak)(r._treeItem.children,(function(t){return 3==(e|=s[t.uiTreeObject.checkedStatus])})),e>0&&(r._checkedStatus.value=c[e-1])}}))),r.dispose(r._treeItem.childrenResetedEvent.disposableOn((function(e){e||"indeterminate"!==r.checkedStatus||(r._checkedStatus.value="unchecked")}))),r.dispose(r._selected.changed.disposableOn((function(e){var t=r._treeItem.tree;t&&function(e,t,n){if(void 0===n&&(n=!0),t)e.selectedItems.push(r._treeItem);else{var o=e.selectedItems.indexOf(r._treeItem);-1===o?n&&console.error("selectedItems index -1"):e.selectedItems.splice(o,1)}}(t,e)}))),r.dispose((function(){return r.selected=!1})),r}return o(t,e),Object.defineProperty(t.prototype,"treeItem",{get:function(){return this._treeItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return this._collapsed.value},set:function(e){this._collapsed.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsedChanged",{get:function(){return this._collapsed.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkedStatus",{get:function(){return this._checkedStatus.value},enumerable:!1,configurable:!0}),t.prototype.check=function(e){var t,r,n=e?"checked":"unchecked";if(this._checkedStatus.value!==n&&(this._checkedStatus.value=n,this._treeItem.children))try{for(var o=i(this._treeItem.children),a=o.next();!a.done;a=o.next())a.value.uiTreeObject.check(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},t.prototype.updateCheckedStatusFromChildren=function(){this._updateCheckedStatusFromChildrenEvent.emit()},Object.defineProperty(t.prototype,"checkedStatusChanged",{get:function(){return this._checkedStatus.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected.value},set:function(e){this._selected.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChanged",{get:function(){return this._selected.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moveToPositionMode",{get:function(){return this._moveToPositionMode.value},set:function(e){this._moveToPositionMode.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moveToPositionModeChanged",{get:function(){return this._moveToPositionMode.changed},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.UiTreeObject=l},2773:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(9258),t),o(r(684),t),o(r(8578),t),o(r(9361),t),o(r(2054),t),o(r(2527),t),o(r(4876),t)},684:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.moveToTreeItems=t.canMoveToTreeItems=t.moveToTreeItem=t.canMoveToTreeItem=void 0;var o=r(1941);function i(e,t,r){if(e.tree!==t.tree||e===t||e.isAncestorOf(t))return!1;if(e.tree!==t.tree)return!1;if(!e.parent)return!1;if(!e.parent.children)throw console.error(""),new Error("");return!(t===e||e.isAncestorOf(t)||"inner"!==r&&!t.parent||"inner"===r&&!t.children)}function a(e,t,r){if(e.tree&&t.tree&&e.tree===t.tree)if(e.parent){if(!e.parent.children)throw console.error(""),new Error("");if(t!==e)if(e.isAncestorOf(t))console.warn("");else if("inner"===r||t.parent)if("inner"!==r||t.children){e.tree._startTransaction();var n=e.parent.children.indexOf(e);if(e.parent.children.splice(n,1),"inner"!==r){var o=t.parent;if(!o||!o.children)throw new Error("!parent");var i=o.children.indexOf(t);"before"===r?o.children.splice(i,0,e):"after"===r&&o.children.splice(i+1,0,e)}else t.children.push(e);e.tree._stopTransaction()}else console.warn("");else console.warn("");else console.warn("")}else console.warn("")}t.canMoveToTreeItem=i,t.moveToTreeItem=a,t.canMoveToTreeItems=function(e,t,r){return(0,o.every)(e,(function(e){return i(e,t,r)}))},t.moveToTreeItems=function(e,t,r){var o,s;try{for(var c=n(e),l=c.next();!l.done;l=c.next()){var u=l.value;i(u,t,r)?a(u,t,r):console.warn("treeItem(id: ".concat(u.id,") cannot move..."))}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}}},3672:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartWorker=t.findTransferableObjectsFromArgs=void 0;var c=r(1941),l=r(4648);function u(e,t){var r,n,o,s,c,l,f,p;if("number"==typeof e||"string"==typeof e||"boolean"==typeof e||void 0===e);else if(e instanceof String||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e instanceof Blob||e instanceof File||e instanceof FileList);else if(e instanceof ArrayBuffer)-1===t.indexOf(e)&&t.push(e);else if(ArrayBuffer.isView(e))-1===t.indexOf(e.buffer)&&t.push(e.buffer);else if(e instanceof ImageBitmap)-1===t.indexOf(e)&&t.push(e);else if(e instanceof ImageData);else if(e instanceof Map)try{for(var d=i(e),h=d.next();!h.done;h=d.next())u(h.value,t)}catch(e){r={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}else if(e instanceof Set)try{for(var g=i(e),y=g.next();!y.done;y=g.next())u(y.value,t)}catch(e){o={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}else if(Array.isArray(e))try{for(var m=i(e),v=m.next();!v.done;v=m.next())u(v.value,t)}catch(e){c={error:e}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}else{if(!(e instanceof Object))throw console.error(""),new Error("");try{for(var b=i(Object.entries(e)),w=b.next();!w.done;w=b.next()){var _=a(w.value,2);_[0],u(_[1],t)}}catch(e){f={error:e}}finally{try{w&&!w.done&&(p=b.return)&&p.call(b)}finally{if(f)throw f.error}}}}function f(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{var o=[];try{for(var a=i(r),s=a.next();!s.done;s=a.next())u(s.value,o)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o}catch(e){return}}t.findTransferableObjectsFromArgs=f;var p=function(e){function t(){var t=e.call(this)||this;t._resultEvent=new c.Event,t._lastExecId=-1;var r=URL.createObjectURL(new Blob(["\n\n    function _findTransferableObjectsFromArg(arg, transferableObjects) {\n        if (typeof arg === 'number' || typeof arg === 'string' || typeof arg === 'boolean' || typeof arg === 'undefined') {\n        }\n        else if (arg instanceof String ||\n            arg instanceof Boolean ||\n            arg instanceof Date ||\n            arg instanceof RegExp ||\n            arg instanceof Blob ||\n            arg instanceof File ||\n            arg instanceof FileList) {\n        }\n        else if (arg instanceof ArrayBuffer) {\n            if (-1 === transferableObjects.indexOf(arg)) {\n                transferableObjects.push(arg);\n            }\n        }\n        else if (ArrayBuffer.isView(arg)) {\n            if (-1 === transferableObjects.indexOf(arg.buffer)) {\n                transferableObjects.push(arg.buffer);\n            }\n        }\n        else if (arg instanceof ImageBitmap) {\n            if (-1 === transferableObjects.indexOf(arg)) {\n                transferableObjects.push(arg);\n            }\n        }\n        else if (arg instanceof ImageData) {\n        }\n        else if (arg instanceof Map) {\n            for (let a of arg) {\n                _findTransferableObjectsFromArg(a, transferableObjects);\n            }\n        }\n        else if (arg instanceof Set) {\n            for (let a of arg) {\n                _findTransferableObjectsFromArg(a, transferableObjects);\n            }\n        }\n        else if (Array.isArray(arg)) {\n            for (let a of arg) {\n                _findTransferableObjectsFromArg(a, transferableObjects);\n            }\n        }\n        else if (arg instanceof Object) {\n            for (let [k, v] of Object.entries(arg)) {\n                _findTransferableObjectsFromArg(v, transferableObjects);\n            }\n        }\n        else {\n            console.error(``);\n            throw new Error(``);\n        }\n    }\n    \n                function findTransferableObjectsFromArgs(...args) {\n        try {\n            const transferableObjects = [];\n            for (let arg of args) {\n                _findTransferableObjectsFromArg(arg, transferableObjects);\n            }\n            return transferableObjects;\n        }\n        catch (error) {\n            return undefined;\n        }\n    }\n    \n                function progressFunc(execId, value) {\n        // @ts-ignore\n        const workerGlobal = globalThis;\n        const transferableObjects = findTransferableObjectsFromArgs(value);\n        const finalResult = {\n            type: 'function_progress',\n            execId,\n            progress: value,\n        };\n        if (transferableObjects) {\n            workerGlobal.postMessage(finalResult, transferableObjects);\n        }\n        else {\n            workerGlobal.postMessage(finalResult);\n        }\n    }\n    \n                onmessage = function onmessageFunc(messageEvent) {\n                // DedicatedWorkerGlobalScope\n                // @ts-ignore\n                const workerGlobal = globalThis;\n                const { execId, type, name, args } = messageEvent.data;\n                if (type === 'function' || type === 'progressFunc') {\n                    try {\n                        // @ts-ignore\n                        const func = workerGlobal[name];\n                        if (typeof func !== 'function') {\n                            console.error(`typeof func !== 'function'`);\n                            throw new Error(`typeof func !== 'function'`);\n                        }\n                        let resultOrResultPromise;\n                        if (type === 'progressFunc') {\n                            // @ts-ignore\n                            workerGlobal._cancelFuncsMap = workerGlobal._cancelFuncsMap || new Map();\n                            // @ts-ignore\n                            const cancelFuncsMap = workerGlobal._cancelFuncsMap;\n                            const localProgressFunc = (value) => {\n                                progressFunc(execId, value);\n                            };\n                            let resolve_;\n                            let reject_;\n                            resultOrResultPromise = new Promise((resolve, reject) => {\n                                resolve_ = resolve;\n                                reject_ = reject;\n                            });\n                            let finished = false;\n                            const completeFunc = (value) => {\n                                finished = true;\n                                if (cancelFuncsMap.has(execId)) {\n                                    cancelFuncsMap.delete(execId);\n                                }\n                                resolve_(value);\n                            };\n                            const errorFunc = (error) => {\n                                finished = true;\n                                if (cancelFuncsMap.has(execId)) {\n                                    cancelFuncsMap.delete(execId);\n                                }\n                                reject_(error);\n                            };\n                            const cancelFunc = func(localProgressFunc, completeFunc, errorFunc, ...args);\n                            if (typeof cancelFunc === 'function') {\n                                if (!finished) {\n                                    cancelFuncsMap.set(execId, cancelFunc);\n                                }\n                            }\n                            else {\n                                console.warn(`typeof cancelFunc !== 'function'`);\n                            }\n                        }\n                        else if (type === 'function') {\n                            resultOrResultPromise = func(...args);\n                        }\n                        if (resultOrResultPromise instanceof Promise) {\n                            resultOrResultPromise.then(result => {\n                                const transferableObjects = findTransferableObjectsFromArgs(result);\n                                const finalResult = {\n                                    type: 'function_result',\n                                    execId,\n                                    result,\n                                };\n                                transferableObjects && workerGlobal.postMessage(finalResult, transferableObjects) || workerGlobal.postMessage(finalResult);\n                            }).catch(error => {\n                                const finalResult = {\n                                    type: 'function_result',\n                                    execId,\n                                    error,\n                                };\n                                workerGlobal.postMessage(finalResult);\n                            });\n                        }\n                        else {\n                            const result = resultOrResultPromise;\n                            const finalResult = {\n                                type: 'function_result',\n                                execId,\n                                result,\n                            };\n                            const transferableObjects = findTransferableObjectsFromArgs(result);\n                            transferableObjects && workerGlobal.postMessage(finalResult, transferableObjects) || workerGlobal.postMessage(finalResult);\n                        }\n                    }\n                    catch (error) {\n                        const finalResult = {\n                            type: 'function_result',\n                            execId,\n                            error,\n                        };\n                        workerGlobal.postMessage(finalResult);\n                    }\n                }\n                else if (type === 'progressFunc_cancel') {\n                    // @ts-ignore\n                    workerGlobal._cancelFuncsMap = workerGlobal._cancelFuncsMap || new Map();\n                    // @ts-ignore\n                    const cancelFuncsMap = workerGlobal._cancelFuncsMap;\n                    // const execId = args[0];\n                    if (typeof execId !== 'number') {\n                        console.error(`typeof execId !== 'number'`);\n                    }\n                    else {\n                        const cancelFunc = cancelFuncsMap.get(execId);\n                        if (cancelFunc) {\n                            cancelFunc(`progressFunc cancel execId: ${execId}`);\n                        }\n                        else {\n                            // \n                            // 1 \n                            // 2 \n                            console.warn(`cancelFuncsMap cannot find execId: ${execId}`);\n                        }\n                    }\n                }\n                else {\n                    console.error('type');\n                }\n            }\n    "]));return t.dispose((function(){return URL.revokeObjectURL(r)})),t._worker=new Worker(r),t.dispose((function(){return t._worker.terminate()})),t._worker.onmessage=function(e){t._resultEvent.emit(e)},t}return o(t,e),t.prototype.execWorkerFunc=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=f(t);if(n)return this.execWorkerFuncWithTransferableObjects.apply(this,s([e,n],a(t),!1));throw console.error(""),new Error("")},t.prototype.execWorkerFuncWithTransferableObjects=function(e,t){var r=this;void 0===t&&(t=[]);for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(t)return new Promise((function(o,i){r._execWorkerFuncWithTransferableObjects.apply(r,s([e,o,i,t],a(n),!1))}));throw console.error(""),new Error("")},t.prototype._execWorkerFuncWithTransferableObjects=function(e,t,r,n){void 0===n&&(n=[]);for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=++this._lastExecId,s={execId:a,type:"function",name:e,args:o};this._worker.postMessage(s,n);var c=this._resultEvent.disposableOn((function(e){var n=e.data;n.execId===a&&("function_result"===n.type?(c(),"error"in n?r(n.error):t(n.result)):"function_progress"===n.type&&console.error("messageData.type === 'function_progress'"))}))},t.prototype.execWorkerProgressFunc=function(e,t,r,n){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var c=f(o);if(c)return this.execWorkerProgressFuncWithTransferableObjects.apply(this,s([e,t,r,n,c],a(o),!1));throw console.error(""),new Error("")},t.prototype.execWorkerProgressFuncWithTransferableObjects=function(e,t,r,n,o){void 0===o&&(o=[]);for(var i=[],c=5;c<arguments.length;c++)i[c-5]=arguments[c];return this._execWorkerProgressFuncWithTransferableObjects.apply(this,s([e,t,r,n,o],a(i),!1))},t.prototype._execWorkerProgressFuncWithTransferableObjects=function(e,t,r,n,o){var i=this;void 0===o&&(o=[]);for(var a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];var c=++this._lastExecId,l={execId:c,type:"progressFunc",name:e,args:a};this._worker.postMessage(l,o);var u=this._resultEvent.disposableOn((function(e){var o=e.data;o.execId===c&&("function_result"===o.type?(u&&(u(),u=void 0),"error"in o?n(o.error):r(o.result)):"function_progress"===o.type&&t&&t(o.progress))}));return function(){u&&(u(),u=void 0),i._worker.postMessage({execId:c,type:"progressFunc_cancel",name:"funcName",args:[]})}},t.prototype.eval=function(e){return this.execWorkerFuncWithTransferableObjects("eval",[],e)},t.prototype.importScripts=function(e){return this.execWorkerFuncWithTransferableObjects("importScripts",[],e)},t.prototype.createGlobalFunc=function(e,t){return this.execWorkerFuncWithTransferableObjects("eval",[],"globalThis['".concat(null!=t?t:e.name,"'] = ").concat(e.toString(),";undefined;"))},t}(l.Destroyable);t.SmartWorker=p},2075:(e,t,r)=>{r.r(t),r.d(t,{TaskProcessor:()=>d});var n=r(1941),o=r(2183);function i(e,t){return null!=e?e:t}const a=Error,s=Error;function c(){if(!(0,o.defined)(d._canTransferArrayBuffer)){var e=new Worker(u("transferTypedArrayTest.js"));e.postMessage=i(e.webkitPostMessage,e.postMessage);var t=new Int8Array([99]);try{e.postMessage({array:t},[t.buffer])}catch(e){return d._canTransferArrayBuffer=!1,d._canTransferArrayBuffer}var r=o.when.defer();e.onmessage=function(t){var n=t.data.array,i=(0,o.defined)(n)&&99===n[0];r.resolve(i),e.terminate(),d._canTransferArrayBuffer=i},d._canTransferArrayBuffer=r.promise}return d._canTransferArrayBuffer}function l(e,t){--e._activeTasks;var r=t.id;if((0,o.defined)(r)){var n=e._deferreds,i=n[r];if((0,o.defined)(t.error)){var c=t.error;"RuntimeError"===c.name?(c=new s(t.error.message)).stack=t.error.stack:"DeveloperError"===c.name&&((c=new a(t.error.message)).stack=t.error.stack),i.reject(c)}else i.resolve(t.result);delete n[r]}}function u(e){var t=function(e){return e=e.endsWith(".js")?e:e+".js",(0,n.getFinalUri)(e,d.workerBaseAbsoluteUri)}(e);if((0,n.isCrossOriginUrl)(t)){var r,o='importScripts("'+t+'");';try{r=new Blob([o],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(o),r=i.getBlob("application/javascript")}t=(window.URL||window.webkitURL).createObjectURL(r)}return t}var f;function p(e){var t=new Worker(((0,o.defined)(f)||(f=u("cesiumWorkerBootstrapper.js")),f));t.postMessage=i(t.webkitPostMessage,t.postMessage);const r=(0,n.isAbsoluteUri)(d.workerBaseAbsoluteUri)?d.workerBaseAbsoluteUri:"";var a={loaderConfig:{paths:{Workers:r},baseUrl:r},workerModule:e._workerName};return t.postMessage(a),t.onmessage=function(t){l(e,t.data)},t}function d(e,t){this._workerName=e,this._maximumActiveTasks=i(t,5),this._activeTasks=0,this._deferreds={},this._nextID=0}var h=[];d.prototype.scheduleTask=function(e,t){if((0,o.defined)(this._worker)||(this._worker=p(this)),!(this._activeTasks>=this._maximumActiveTasks)){++this._activeTasks;var r=this;return(0,o.when)(c(),(function(n){(0,o.defined)(t)?n||(t.length=0):t=h;var i=r._nextID++,a=o.when.defer();return r._deferreds[i]=a,r._worker.postMessage({id:i,parameters:e,canTransferArrayBuffer:n},t),a.promise}))}},d.prototype.initWebAssemblyModule=function(e){(0,o.defined)(this._worker)||(this._worker=p(this));var t=o.when.defer(),r=this,n=this._worker;return getWebAssemblyLoaderConfig(this,e).then((function(e){return(0,o.when)(c(),(function(i){var a,s=e.wasmBinary;(0,o.defined)(s)&&i&&(a=[s]),n.onmessage=function(e){n.onmessage=function(e){l(r,e.data)},t.resolve(e.data)},n.postMessage({webAssemblyConfig:e},a)}))})),t},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return(0,o.defined)(this._worker)&&this._worker.terminate(),(0,n.destroyObject)(this)},d._defaultWorkerModulePrefix="Workers/",d._workerModulePrefix=d._defaultWorkerModulePrefix,d._canTransferArrayBuffer=void 0,d.workerBaseAbsoluteUri="xr-static/workers/core"},9704:(e,t,r)=>{r.r(t),r.d(t,{decompressFrame:()=>s,decompressFrames:()=>c,parseGIF:()=>a});var n=r(8841),o=r(5208),i=r(2515);const a=e=>{const t=new Uint8Array(e);return(0,o.parse)((0,i.buildStream)(t),n.A)},s=(e,t,r)=>{if(!e.image)return void console.warn("gif frame does not have associated image.");const{image:n}=e,o=n.descriptor.width*n.descriptor.height;var i=((e,t,r)=>{const n=4096,o=r;var i,a,s,c,l,u,f,p,d,h;const g=new Array(r),y=new Array(n),m=new Array(n),v=new Array(4097);for(l=1+(a=1<<(h=e)),i=a+2,f=-1,s=(1<<(c=h+1))-1,p=0;p<a;p++)y[p]=0,m[p]=p;var b,w,_,P,x,O;for(b=w=_=P=x=O=0,d=0;d<o;){if(0===P){if(w<c){b+=t[O]<<w,w+=8,O++;continue}if(p=b&s,b>>=c,w-=c,p>i||p==l)break;if(p==a){s=(1<<(c=h+1))-1,i=a+2,f=-1;continue}if(-1==f){v[P++]=m[p],f=p,_=p;continue}for(u=p,p==i&&(v[P++]=_,p=f);p>a;)v[P++]=m[p],p=y[p];_=255&m[p],v[P++]=_,i<n&&(y[i]=f,m[i]=_,!(++i&s)&&i<n&&(c++,s+=i)),f=u}P--,g[x++]=v[P],d++}for(d=x;d<o;d++)g[d]=0;return g})(n.data.minCodeSize,n.data.blocks,o);n.descriptor.lct.interlaced&&(i=((e,t)=>{const r=new Array(e.length),n=e.length/t,o=function(n,o){const i=e.slice(o*t,(o+1)*t);r.splice.apply(r,[n*t,t].concat(i))},i=[0,4,2,1],a=[8,8,4,2];for(var s=0,c=0;c<4;c++)for(var l=i[c];l<n;l+=a[c])o(l,s),s++;return r})(i,n.descriptor.width));const a={pixels:i,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?a.colorTable=n.lct:a.colorTable=t,e.gce&&(a.delay=10*(e.gce.delay||10),a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),r&&(a.patch=(e=>{const t=e.pixels.length,r=new Uint8ClampedArray(4*t);for(var n=0;n<t;n++){const t=4*n,o=e.pixels[n],i=e.colorTable[o]||[0,0,0];r[t]=i[0],r[t+1]=i[1],r[t+2]=i[2],r[t+3]=o!==e.transparentIndex?255:0}return r})(a)),a},c=(e,t)=>e.frames.filter((e=>e.image)).map((r=>s(r,e.gct,t)))},9928:(e,t,r)=>{function n(e,t,r,n,o){this._format=e,this._width=t,this._height=r,this._buffer=n,this._mipLevels=o}r.r(t),r.d(t,{CompressedTextureBuffer:()=>n}),Object.defineProperties(n.prototype,{internalFormat:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},bufferView:{get:function(){return this._buffer}},mipLevels:{get:function(){return this._mipLevels}}}),n.clone=function(e){if(e)return new n(e._format,e._width,e._height,e._buffer,e._mipLevels)},n.prototype.clone=function(){return n.clone(this)}},1941:e=>{e.exports=r(34016)},4638:e=>{e.exports=r(11403)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=593;var i=o(3384);e.exports=i})()},81539:(e,t,r)=>{"use strict";var n=r(4761),o=r(21703),i=r(75128),a=r(93612),s=r(39803);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":o(e)?"Number":i(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},60593:(e,t,r)=>{"use strict";var n=r(83802),o=r(90256),i=r(87842),a=r(12648);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},25767:(e,t,r)=>{"use strict";var n=r(82682),o=r(39209),i=r(10487),a=r(38075),s=r(75795),c=a("Object.prototype.toString"),l=r(49092)(),u="undefined"==typeof globalThis?r.g:globalThis,f=o(),p=a("String.prototype.slice"),d=Object.getPrototypeOf,h=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(f,l&&s&&d?function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=d(t),n=s(r,Symbol.toStringTag);if(!n){var o=d(r);n=s(o,Symbol.toStringTag)}g["$"+e]=i(n.get)}}:function(e){var t=new u[e],r=t.slice||t.set;r&&(g["$"+e]=i(r))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!l){var t=p(c(e),8,-1);return h(f,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,(function(r,n){if(!t)try{r(e),t=p(n,1)}catch(e){}})),t}(e)}return s?function(e){var t=!1;return n(g,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=p(n,1))}catch(e){}})),t}(e):null}},82711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(47418))&&n.__esModule?n:{default:n};function i(e,t){var r="";for(var n in e)for(var o in t)n==t[o]&&(null==e[n]&&(e[n]=""),r+=e[n]);return r}function a(e,t){var r="",n=function(n){for(var i in t)n==t[i]&&(null==e[n]&&(e[n]=""),r+=o.default.get_first(e[n],{retain:!1}))};for(var i in e)n(i);return r}function s(e,t){var r="";for(var n in e)for(var o in t)n==t[o]&&(null==e[n]&&(e[n]=""),r+=e[n].toLocaleLowerCase());return r}function c(e,t){var r="",n=function(n){for(var i in t)n==t[i]&&(null==e[n]&&(e[n]=""),r+=o.default.get_acronym(e[n].GetCN(),{retain:!0}))};for(var i in e)n(i);return r}String.prototype.GetCN=function(){return this.replace(/[^\u4e00-\u9fa5\uf900-\ufa2d]/g,"")},t.default=function(e,t){var r=this;this.indexesList="",this.baseData="",this.initIndexes=function(e,t){return r.baseData=e,r.indexesList=function(e,t){var r=[];for(var n in e)r[n]=[a(e[n],t),i(e[n],t),s(e[n],t),c(e[n],t)];return r}(e,t),r.query},this.query=function(e){var t=r.indexesList;e=e.toLocaleLowerCase();var n=[];for(var o in t){var i=t[o];for(var a in i)if(-1!=i[a].indexOf(e)){3==a?0==i[a].indexOf(e)&&n.push(r.baseData[o]):n.push(r.baseData[o]);break}}return n},this.initIndexes(e,t)}},47418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={a:"",e:"",ai:"",ei:"",xi:"",yi:"",an:"",han:"",ang:"",ao:"",wa:"",yu:"",niu:"",o:"",ba:"",pa:"",pi:"",bi:"",bai:"",bo:"",bei:"",ban:"",pan:"",bin:"",bang:"",pang:"",beng:"",bao:"",bu:"",pu:"",mian:"",po:"",fan:"",fu:"",ben:"",feng:"",bian:"",pian:"",zhen:"",biao:"",piao:"",huo:"",bie:"",min:"",fen:"",bing:"",geng:"",fang:"",xian:"",fou:"",ca:"",cha:"",cai:"",can:"",shen:"",cen:"",san:"",cang:"",zang:"",chen:"",cao:"",ce:"",ze:"",zhai:"",dao:"",ceng:"",zha:"",chai:"",ci:"",zi:"",cuo:"",chan:"",shan:"",zhan:"",xin:"",lian:"",chang:"",zhang:"",chao:"",zhao:"",zhou:"",che:"",ju:"",cheng:"",rong:"",sheng:"",deng:"",zhi:"",zheng:"",tang:"",chi:"",shi:"",qi:"",chuai:"",tuo:"",duo:"",xue:"",chong:"",chou:"",qiu:"",xiu:"",chu:"",tuan:"",zhui:"",chuan:"",zhuan:"",yuan:"",cuan:"",chuang:"",zhuang:"",chui:"",chun:"",zhun:"",cu:"",dun:"",qu:"",xu:"",chuo:"",zu:"",ji:"",cong:"",zong:"",cou:"",cui:"",wei:"",cun:"",zuo:"",zuan:"",da:"",dai:"",tai:"",ta:"",dan:"",lu:"",tan:"",ren:"",jie:"",yan:"",dang:"",tao:"",tiao:"",te:"",de:"",dei:"",di:"",ti:"",tui:"",you:"",dian:"",tian:"",zhu:"",nian:"",diao:"",yao:"",die:"",she:"",ye:"",xie:"",zhe:"",ding:"",diu:"",ting:"",dong:"",tong:"",zhong:"",dou:"",du:"",duan:"",dui:"",rui:"",yue:"",tun:"",hui:"",wu:"",ya:"",he:"",wo:"",en:"",n:"",er:"",fa:"",quan:"",fei:"",pei:"",ping:"",fo:"",hu:"",ga:"",ge:"",ha:"",xia:"",gai:"",hai:"",gan:"",gang:"",jiang:"",hang:"",gong:"",hong:"",guang:"",qiong:"",gao:"",hao:"",li:"",jia:"",luo:"",ke:"",qia:"",gei:"",gen:"",hen:"",gou:"",kou:"",gu:"",pai:"",gua:"",tou:"",guai:"",kuai:"",guan:"",wan:"",ne:"",gui:"",jun:"",jiong:"",jue:"",gun:"",hun:"",guo:"",hei:"",kan:"",heng:"",mo:"",peng:"",hou:"",hua:"",huai:"",huan:"",xun:"",huang:"",nai:"",luan:"",qie:"",jian:"",nan:"",qian:"",qiang:"",xiang:"",jiao:"",zhuo:"",qiao:"",xiao:"",si:"",kai:"",jin:"",qin:"",jing:"",ying:"",jiu:"",zui:"",juan:"",suan:"",yun:"",qun:"",ka:"",kang:"",keng:"",kao:"",ken:"",yin:"",kong:"",ku:"",kua:"",kui:"",kuan:"",kuang:"",que:"",kun:"",kuo:"",la:"",lai:"",lan:"",lin:"",lang:"",liang:"",lao:"",mu:"",le:"",lei:"",sui:"",lie:"",leng:"",ling:"",lia:"",liao:"",liu:"",lun:"",lv:"",lou:"",mao:"",long:"",nong:"",shuang:"",shu:"",shuai:"",lve:"",ma:"",me:"",mai:"",man:"",mi:"",men:"",mang:"",meng:"",miao:"",mou:"",miu:"",mei:"",wen:"",mie:"",ming:"",na:"",nei:"",nuo:"",ruo:"",nang:"",nao:"",ni:"",nen:"",neng:"",nin:"",niao:"",nie:"",niang:"",ning:"",nu:"",nv:"",ru:"",nuan:"",nve:"",re:"",ou:"",pao:"",pou:"",pen:"",pie:"",pin:"",se:"",qing:"",zan:"",shao:"",sao:"",sha:"",xuan:"",ran:"",rang:"",rao:"",reng:"",ri:"",rou:"",ruan:"",run:"",sa:"",suo:"",sai:"",shui:"",sang:"",sen:"",seng:"",shai:"",shang:"",xing:"",shou:"",shuo:"",su:"",shua:"",shuan:"",shun:"",song:"",sou:"",sun:"",teng:"",tie:"",tu:"",wai:"",wang:"",weng:"",zhua:"",yang:"",xiong:"",yo:"",yong:"",za:"",zai:"",zao:"",zei:"",zen:"",zeng:"",zhei:"",zou:"",zhuai:"",zun:"",dia:"",nou:""};String.prototype.GetCN=function(){return this.replace(/[^\u4e00-\u9fa5\uf900-\ufa2d]/g,"")};var n=function(e){var t="";for(var n in r)if(-1!=r[n].indexOf(e)){t=n;break}return t};t.default={get_acronym:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;for(var o in e=e.GetCN(),null!=t.retain&&1==t.retain&&(r=e),e)if("GetCN"!=o){var i=n(e[o]);r=r.replace(new RegExp(e[o],"g"),i)}return r},get_first:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;for(var o in e=e.GetCN(),null!=t.retain&&1==t.retain&&(r=e),e)if("GetCN"!=o){var i=n(e[o]);r=r.replace(new RegExp(e[o],"g"),i.slice(0,1))}return r}}},4570:(e,t,r)=>{"use strict";r.r(t),r.d(t,{bd09togcj02:()=>s,gcj02tobd09:()=>c,gcj02towgs84:()=>u,wgs84togcj02:()=>l});var n=52.35987755982988,o=3.141592653589793,i=6378245,a=.006693421622965943,s=function(e,t){var r=(e=+e)-.0065,o=(t=+t)-.006,i=Math.sqrt(r*r+o*o)-2e-5*Math.sin(o*n),a=Math.atan2(o,r)-3e-6*Math.cos(r*n);return[i*Math.cos(a),i*Math.sin(a)]},c=function(e,t){t=+t,e=+e;var r=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*n),o=Math.atan2(t,e)+3e-6*Math.cos(e*n);return[r*Math.cos(o)+.0065,r*Math.sin(o)+.006]},l=function(e,t){if(d(e=+e,t=+t))return[e,t];var r=f(e-105,t-35),n=p(e-105,t-35),s=t/180*o,c=Math.sin(s);c=1-a*c*c;var l=Math.sqrt(c);return r=180*r/(i*(1-a)/(c*l)*o),[e+(n=180*n/(i/l*Math.cos(s)*o)),t+r]},u=function(e,t){if(d(e=+e,t=+t))return[e,t];var r=f(e-105,t-35),n=p(e-105,t-35),s=t/180*o,c=Math.sin(s);c=1-a*c*c;var l=Math.sqrt(c);return r=180*r/(i*(1-a)/(c*l)*o),[2*e-(e+(n=180*n/(i/l*Math.cos(s)*o))),2*t-(t+r)]},f=function(e,t){var r=2*(e=+e)-100+3*(t=+t)+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(r+=2*(20*Math.sin(t*o)+40*Math.sin(t/3*o))/3)+2*(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))/3},p=function(e,t){var r=300+(e=+e)+2*(t=+t)+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(r+=2*(20*Math.sin(e*o)+40*Math.sin(e/3*o))/3)+2*(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))/3},d=function(e,t){return t=+t,!((e=+e)>73.66&&e<135.05&&t>3.86&&t<53.55)}},40701:()=>{!function(){"use strict";Recorder.prototype.enc_pcm={stable:!0,testmsg:"pcmpcm816"},Recorder.prototype.pcm=function(e,t,r){var n=this.set,o=e.length,i=8==n.bitRate?8:16,a=new ArrayBuffer(o*(i/8)),s=new DataView(a),c=0;if(8==i)for(var l=0;l<o;l++,c++){var u=128+(e[l]>>8);s.setInt8(c,u,!0)}else for(l=0;l<o;l++,c+=2)s.setInt16(c,e[l],!0);t(new Blob([s.buffer],{type:"audio/pcm"}))},Recorder.pcm2wav=function(e,t,r){e.slice&&null!=e.type&&(e={blob:e});var n=e.sampleRate||16e3,o=e.bitRate||16;if(e.sampleRate&&e.bitRate||console.warn("pcm2wavsampleRatebitRate"),Recorder.prototype.wav){var i=new FileReader;i.onloadend=function(){var e;if(8==o){var a=new Uint8Array(i.result);e=new Int16Array(a.length);for(var s=0;s<a.length;s++)e[s]=a[s]-128<<8}else e=new Int16Array(i.result);Recorder({type:"wav",sampleRate:n,bitRate:o}).mock(e,n).stop((function(e,r){t(e,r)}),r)},i.readAsArrayBuffer(e.blob)}else r("pcm2wavwavwav.js")}}()},71011:(e,t,r)=>{var n;!function(e){"use strict";var t=function(){},r=function(e){return new v(e)};r.LM="2023-02-01 18:05";var n="Recorder",o="getUserMedia",i="srcSampleRate",a="sampleRate",s="catch";r.IsOpen=function(){var e=r.Stream;if(e){var t=(e.getTracks&&e.getTracks()||e.audioTracks||[])[0];if(t){var n=t.readyState;return"live"==n||n==t.LIVE}}return!1},r.BufferSize=4096,r.Destroy=function(){for(var e in g(n+" Destroy"),h(),c)c[e]()};var c={};r.BindDestroy=function(e,t){c[e]=t},r.Support=function(){var e=navigator.mediaDevices||{};return e[o]||(e=navigator)[o]||(e[o]=e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia),!!e[o]&&(r.Scope=e,!!r.GetContext())},r.GetContext=function(){var t=e.AudioContext;return t||(t=e.webkitAudioContext),t?(r.Ctx&&"closed"!=r.Ctx.state||(r.Ctx=new t,r.BindDestroy("Ctx",(function(){var e=r.Ctx;e&&e.close&&(e.close(),r.Ctx=0)}))),r.Ctx):null};var l="ConnectEnableWebM";r[l]=!0;var u="ConnectEnableWorklet";r[u]=!1;var f=function(t,o){var i,c,f,h=t.BufferSize||r.BufferSize,y=r.Ctx,m=t.Stream,v=function(e){var t=m._m=y.createMediaStreamSource(m),r=y.destination,n="createMediaStreamDestination";y[n]&&(r=y[n]()),t.connect(e),e.connect(r)},w="",_=m._call,P=function(e){for(var t in _){for(var r=e.length,n=new Int16Array(r),o=0,i=0;i<r;i++){var a=Math.max(-1,Math.min(1,e[i]));a=a<0?32768*a:32767*a,n[i]=a,o+=Math.abs(a)}for(var s in _)_[s](n,o);return}},x="ScriptProcessor",O="audioWorklet",C=n+" "+O,S="RecProc",E="MediaRecorder",M=E+".WebM.PCM",j=y.createScriptProcessor||y.createJavaScriptNode,k=""+O+"1375PC"+O+"",T=function(){c=m.isWorklet=!1,p(m),g("Connect"+x+""+(r[u]?"":"")+""+n+"."+u+"=true"+O+w+k,3);var e=m._p=j.call(y,h,1,1);v(e);var t="_D220626",o=r[t];o&&g("Use "+n+"."+t,3),e.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);o?(t=new Float32Array(t),setTimeout((function(){P(t)}))):P(t)}},I=function(){i=m.isWebM=!1,d(m),c=m.isWorklet=!j||r[u];var t=e.AudioWorkletNode;if(c&&y[O]&&t){var o=function(){return c&&m._na},a=m._na=function(){""!==f&&(clearTimeout(f),f=setTimeout((function(){f=0,o()&&(g(O+""+x,3),j&&T())}),500))},l=function(){if(o()){var e=m._n=new t(y,S,{processorOptions:{bufferSize:h}});v(e),e.port.onmessage=function(e){f&&(clearTimeout(f),f=""),o()?P(e.data.val):c||g(O+"",3)},g("Connect"+O+""+n+"."+u+"=false"+x+w+k,3)}};y.resume()[_&&"finally"]((function(){if(o())if(y[S])l();else{var e=(r="class "+S+" extends AudioWorkletProcessor{",r+="constructor "+(t=function(e){return e.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,C)})((function(e){DEL_super(e);var t=this,r=e.processorOptions.bufferSize;t.bufferSize=r,t.buffer=new Float32Array(2*r),t.pos=0,t.port.onmessage=function(e){e.data.kill&&(t.kill=!0,console.log("$RA kill call"))},console.log("$RA .ctor call",e)})),r+="process "+t((function(e,t,r){var n=this,o=n.bufferSize,i=n.buffer,a=n.pos;if((e=(e[0]||[])[0]||[]).length){i.set(e,a);var s=~~((a+=e.length)/o)*o;if(s){this.port.postMessage({val:i.slice(0,s)});var c=i.subarray(s,a);(i=new Float32Array(2*o)).set(c),a=c.length,n.buffer=i}n.pos=a}return!n.kill})),r+='}try{registerProcessor("'+S+'", '+S+')}catch(e){console.error("'+C+'",e)}',"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(r))));y[O].addModule(e).then((function(e){o()&&(y[S]=1,l(),f&&a())}))[s]((function(e){g(O+".addModule",1,e),o()&&T()}))}var t,r}))}else T()};!function(){var t=e[E],s="ondataavailable",c="audio/webm; codecs=pcm";i=m.isWebM=r[l];var u=t&&s in t.prototype&&t.isTypeSupported(c);if(w=u?"":""+M+"",o&&i&&u){var p=function(){return i&&m._ra},d=(m._ra=function(){""!==f&&(clearTimeout(f),f=setTimeout((function(){p()&&(g(E+""+O,3),I())}),500))},Object.assign({mimeType:c},r.ConnectWebMOptions)),v=m._r=new t(m,d),_=m._rd={sampleRate:y[a]};v[s]=function(e){var t=new FileReader;t.onloadend=function(){if(p()){var e=b(new Uint8Array(t.result),_);if(!e)return;if(-1==e)return void I();f&&(clearTimeout(f),f=""),P(e)}else i||g(E+"",3)},t.readAsArrayBuffer(e.data)},v.start(~~(h/48)),g("Connect"+M+""+n+"."+l+"=false"+O+""+x)}else I()}()},p=function(e){e._na=null,e._n&&(e._n.port.postMessage({kill:!0}),e._n.disconnect(),e._n=null)},d=function(e){e._ra=null,e._r&&(e._r.stop(),e._r=null)},h=function(e){var t=(e=e||r)==r,n=e.Stream;if(n&&(n._m&&(n._m.disconnect(),n._m=null),n._p&&(n._p.disconnect(),n._p.onaudioprocess=n._p=null),p(n),d(n),t)){for(var o=n.getTracks&&n.getTracks()||n.audioTracks||[],i=0;i<o.length;i++){var a=o[i];a.stop&&a.stop()}n.stop&&n.stop()}e.Stream=0};r.SampleData=function(e,t,r,n,o){n||(n={});var i=n.index||0,a=n.offset||0,s=n.frameNext||[];o||(o={});var c=o.frameSize||1;o.frameType&&(c="mp3"==o.frameType?1152:1);var l=e.length;i>l+1&&g("SampleDatachunk "+i+">"+l,3);for(var u=0,f=i;f<l;f++)u+=e[f].length;u=Math.max(0,u-Math.floor(a));var p=t/r;p>1?u=Math.floor(u/p):(p=1,r=t),u+=s.length;var d=new Int16Array(u),h=0;for(f=0;f<s.length;f++)d[h]=s[f],h++;for(;i<l;i++){for(var y=e[i],m=(f=a,y.length);f<m;){var v=Math.floor(f),b=Math.ceil(f),w=f-v,_=y[v],P=b<m?y[b]:(e[i+1]||[_])[0]||0;d[h]=_+(P-_)*w,h++,f+=p}a=f-m}s=null;var x=d.length%c;if(x>0){var O=2*(d.length-x);s=new Int16Array(d.buffer.slice(O)),d=new Int16Array(d.buffer.slice(0,O))}return{index:i,offset:a,frameNext:s,sampleRate:r,data:d}},r.PowerLevel=function(e,t){var r=e/t||0;return r<1251?Math.round(r/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(r/1e4)/Math.log(10)))))},r.PowerDBFS=function(e){var t=Math.max(.1,e||0);return t=Math.min(t,32767),t=20*Math.log(t/32767)/Math.log(10),Math.max(-100,Math.round(t))},r.CLog=function(t,r){var o=new Date,i=("0"+o.getMinutes()).substr(-2)+":"+("0"+o.getSeconds()).substr(-2)+"."+("00"+o.getMilliseconds()).substr(-3),a=this&&this.envIn&&this.envCheck&&this.id,s=["["+i+" "+n+(a?":"+a:"")+"]"+t],c=arguments,l=e.console||{},u=2,f=l.log;for("number"==typeof r?f=1==r?l.error:3==r?l.warn:f:u=1;u<c.length;u++)s.push(c[u]);y?f&&f("[IsLoser]"+s[0],s.length>1?s:""):f.apply(l,s)};var g=function(){r.CLog.apply(this,arguments)},y=!0;try{y=!console.log.apply}catch(e){}var m=0;function v(e){this.id=++m;var r={type:"mp3",bitRate:16,sampleRate:16e3,onProcess:t};for(var n in e)r[n]=e[n];this.set=r,this._S=9,this.Sync={O:9,C:9}}r.Sync={O:9,C:9},r.prototype=v.prototype={CLog:g,_streamStore:function(){return this.set.sourceStream?this:r},open:function(n,i){var a=this,c=a._streamStore();n=n||t;var l=function(e,t){let r="open"+e+"isUserNotAllow"+(t=!!t)+"http://harryai.cc/post/realtime-funasr/#";a.CLog(r,1),alert(r),i&&i(e,t)},u=function(){a.CLog("open ok id:"+a.id),n(),a._SO=0},p=c.Sync,d=++p.O,g=p.C;a._O=a._O_=d,a._SO=a._S;var y=a.envCheck({envName:"H5",canProcess:!0});if(y)l(""+y);else if(a.set.sourceStream){if(!r.GetContext())return void l("");h(c),a.Stream=a.set.sourceStream,a.Stream._call={};try{f(c)}catch(e){return void l(""+e.message)}u()}else{var m=function(t,r){try{e.top.a}catch(e){return void l('(iframeallow="camera;microphone")')}/Permission|Allow/i.test(t)?l("",!0):!1===e.isSecureContext?l("https"):/Found/i.test(t)?l(r+""):l(r)};if(r.IsOpen())u();else if(r.Support()){var v=function(e){setTimeout((function(){e._call={};var t=r.Stream;t&&(h(),e._call=t._call),r.Stream=e,function(){if(g!=p.C||!a._O){var e="open";return d==p.O?a.close():e="open",l(e),!0}}()||(r.IsOpen()?(t&&a.CLog("open",1),f(c,1),u()):l(""))}),100)},b=function(e){var t=e.name||e.message||e.code+":"+e;a.CLog("",1,e),m(t,""+t)},w={noiseSuppression:!1,echoCancellation:!1},_=a.set.audioTrackSet;for(var P in _)w[P]=_[P];w.sampleRate=r.Ctx.sampleRate;try{var x=r.Scope[o]({audio:w},v,b)}catch(e){a.CLog(o,3,e),x=r.Scope[o]({audio:!0},v,b)}x&&x.then&&x.then(v)[s](b)}else m("","")}},close:function(e){e=e||t;var r=this,n=r._streamStore();r._stop();var o=n.Sync;if(r._O=0,r._O_!=o.O)return r.CLog("closeopenrecclose",3),void e();o.C++,h(n),r.CLog("close"),e()},mock:function(e,t){var r=this;return r._stop(),r.isMock=1,r.mockEnvInfo=null,r.buffers=[e],r.recSize=e.length,r[i]=t,r},envCheck:function(t){var n,o=this,i=o.set,a="CPU_BE";if(n||r[a]||!e.Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(n=""+a+""),!n){var s=i.type;o[s+"_envCheck"]?n=o[s+"_envCheck"](t,i):i.takeoffEncodeChunk&&(n=s+""+(o[s]?"":"()")+"takeoffEncodeChunk")}return n||""},envStart:function(e,t){var r=this,n=r.set;r.isMock=e?1:0,r.mockEnvInfo=e,r.buffers=[],r.recSize=0,r.envInLast=0,r.envInFirst=0,r.envInFix=0,r.envInFixTs=[];var o=n[a];if(o>t?n[a]=t:o=0,r[i]=t,r.CLog(i+": "+t+" set."+a+": "+n[a]+(o?" "+o:""),o?3:0),r.engineCtx=0,r[n.type+"_start"]){var s=r.engineCtx=r[n.type+"_start"](n);s&&(s.pcmDatas=[],s.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(e,t){var n=this,o=n.set,s=n.engineCtx,c=n[i],l=e.length,u=r.PowerLevel(t,l),f=n.buffers,p=f.length;f.push(e);var d=f,h=p,g=Date.now(),y=Math.round(l/c*1e3);n.envInLast=g,1==n.buffers.length&&(n.envInFirst=g-y);var m=n.envInFixTs;m.splice(0,0,{t:g,d:y});for(var v=g,b=0,w=0;w<m.length;w++){var _=m[w];if(g-_.t>3e3){m.length=w;break}v=_.t,b+=_.d}var P=m[1],x=g-v;if(x-b>x/3&&(P&&x>1e3||m.length>=6)){var O=g-P.t-y;if(O>y/5){var C=!o.disableEnvInFix;if(n.CLog("["+g+"]"+(C?"":"")+""+O+"ms",3),n.envInFix+=O,C){var S=new Int16Array(O*c/1e3);l+=S.length,f.push(S)}}}var E=n.recSize,M=l,j=E+M;if(n.recSize=j,s){var k=r.SampleData(f,c,o[a],s.chunkInfo);s.chunkInfo=k,j=(E=s.pcmSize)+(M=k.data.length),s.pcmSize=j,f=s.pcmDatas,p=f.length,f.push(k.data),c=k[a]}var T=Math.round(j/c*1e3),I=f.length,F=d.length,A=function(){for(var e=L?0:-M,t=null==f[0],r=p;r<I;r++){var i=f[r];null==i?t=1:(e+=i.length,s&&i.length&&n[o.type+"_encode"](s,i))}if(t&&s)for(r=h,d[0]&&(r=0);r<F;r++)d[r]=null;t&&(e=L?M:0,f[0]=null),s?s.pcmSize+=e:n.recSize+=e},L=0,R="rec.set.onProcess";try{L=o.onProcess(f,u,T,c,p,A)}catch(e){console.error(R+"",e)}var D=Date.now()-g;if(D>10&&n.envInFirst-g>1e3&&n.CLog(R+""+D+"ms",3),!0===L){var B=0;for(w=p;w<I;w++)null==f[w]?B=1:f[w]=new Int16Array(0);B?n.CLog("buffers",3):s?s.pcmSize-=M:n.recSize-=M}else A()},start:function(){var e=this,t=r.Ctx,n=1;if(e.set.sourceStream?e.Stream||(n=0):r.IsOpen()||(n=0),n)if(e.CLog(""),e._stop(),e.state=3,e.envStart(null,t[a]),e._SO&&e._SO+1!=e._S)e.CLog("start",3);else{e._SO=0;var o=function(){3==e.state&&(e.state=1,e.resume())};if("suspended"==t.state){var i="AudioContext resume: ";e.CLog(i+"wait..."),t.resume().then((function(){e.CLog(i+t.state),o()}))[s]((function(r){e.CLog(i+t.state+" "+r.message,1,r),o()}))}else o()}else e.CLog("open",1)},pause:function(){var e=this;e.state&&(e.state=2,e.CLog("pause"),delete e._streamStore().Stream._call[e.id])},resume:function(){var e=this;if(e.state){e.state=1,e.CLog("resume"),e.envResume();var t=e._streamStore().Stream;t._call[e.id]=function(t,r){1==e.state&&e.envIn(t,r)},function(e){e._na&&e._na(),e._ra&&e._ra()}(t)}},_stop:function(e){var t=this,r=t.set;t.isMock||t._S++,t.state&&(t.pause(),t.state=0),!e&&t[r.type+"_stop"]&&(t[r.type+"_stop"](t.engineCtx),t.engineCtx=0)},stop:function(e,t,n){var o,s=this,c=s.set,l=s.envInLast-s.envInFirst,u=l&&s.buffers.length;s.CLog("stop start"+(l?l+"ms "+s.envInFix+"ms envIn:"+u+" fps:"+(u/l*1e3).toFixed(1):"-"));var f=function(){s._stop(),n&&s.close()},p=function(e){s.CLog(""+e,1),t&&t(e),f()},d=function(t,r){if(s.CLog(" "+(Date.now()-o)+"ms "+r+"ms "+t.size+"b"),c.takeoffEncodeChunk)s.CLog("takeoffEncodeChunkstopblob0",3);else if(t.size<Math.max(100,r/2))return void p(""+c.type+"");e&&e(t,r),f()};if(!s.isMock){var h=3==s.state;if(!s.state||h)return void p(""+(h?"AudioContext":""));s._stop(!0)}var g=s.recSize;if(g)if(s.buffers[0])if(s[c.type]){if(s.isMock){var y=s.envCheck(s.mockEnvInfo||{envName:"mock",canProcess:!1});if(y)return void p(""+y)}var m=s.engineCtx;if(s[c.type+"_complete"]&&m){var v=Math.round(m.pcmSize/c[a]*1e3);return o=Date.now(),void s[c.type+"_complete"](m,(function(e){d(e,v)}),p)}o=Date.now();var b=r.SampleData(s.buffers,s[i],c[a]);c[a]=b[a];var w=b.data;v=Math.round(w.length/c[a]*1e3),s.CLog(""+g+"->"+w.length+" :"+(Date.now()-o)+"ms"),setTimeout((function(){o=Date.now(),s[c.type](w,(function(e){d(e,v)}),(function(e){p(e)}))}))}else p(""+c.type+"");else p("buffers");else p("")}},e[n]&&(g(""+n,3),e[n].Destroy()),e[n]=r;var b=function(e,t){t.pos||(t.pos=[0],t.tracks={},t.bytes=[]);var r=t.tracks,n=[t.pos[0]],o=function(){t.pos[0]=n[0]},i=t.bytes.length,s=new Uint8Array(i+e.length);if(s.set(t.bytes),s.set(e,i),t.bytes=s,!t._ht){if(P(s,n),x(s,n),!w(P(s,n),[24,83,128,103]))return;for(P(s,n);n[0]<s.length;){var c=P(s,n),l=x(s,n),u=[0],f=0;if(!l)return;if(w(c,[22,84,174,107])){for(;u[0]<l.length;){var p=P(l,u),d=x(l,u),h=[0],y={channels:0,sampleRate:0};if(w(p,[174]))for(;h[0]<d.length;){var m=P(d,h),v=x(d,h),b=[0];if(w(m,[215])){var O=_(v);y.number=O,r[O]=y}else if(w(m,[131]))1==(O=_(v))?y.type="video":2==O?(y.type="audio",f||(t.track0=y),y.idx=f++):y.type="Type-"+O;else if(w(m,[134])){for(var C="",S=0;S<v.length;S++)C+=String.fromCharCode(v[S]);y.codec=C}else if(w(m,[225]))for(;b[0]<v.length;){var E=P(v,b),M=x(v,b);if(w(E,[181])){O=0;var j=new Uint8Array(M.reverse()).buffer;4==M.length?O=new Float32Array(j)[0]:8==M.length?O=new Float64Array(j)[0]:g("WebM Track !Float",1,M),y[a]=Math.round(O)}else w(E,[98,100])?y.bitDepth=_(M):w(E,[159])&&(y.channels=_(M))}}}t._ht=1,g("WebM Tracks",r),o();break}}}var k=t.track0;if(k){if(16==k.bitDepth&&/FLOAT/i.test(k.codec)&&(k.bitDepth=32,g("WebM 1632",3)),k[a]!=t[a]||32!=k.bitDepth||k.channels<1||!/(\b|_)PCM\b/i.test(k.codec))return t.bytes=[],t.bad||g("WebM Track",3,t),t.bad=1,-1;for(var T=[],I=0;n[0]<s.length&&(p=P(s,n),d=x(s,n));){if(w(p,[163])){var F=15&d[0];if(y=r[F]){if(0===y.idx){var A=new Uint8Array(d.length-4);for(S=4;S<d.length;S++)A[S-4]=d[S];T.push(A),I+=A.length}}else g("WebM !Track"+F,1,r)}o()}if(I){var L=new Uint8Array(s.length-t.pos[0]);L.set(s.subarray(t.pos[0])),t.bytes=L,t.pos[0]=0,A=new Uint8Array(I),S=0;for(var R=0;S<T.length;S++)A.set(T[S],R),R+=T[S].length;if(j=new Float32Array(A.buffer),k.channels>1){var D=[];for(S=0;S<j.length;)D.push(j[S]),S+=k.channels;j=new Float32Array(D)}return j}}},w=function(e,t){if(!e||e.length!=t.length)return!1;if(1==e.length)return e[0]==t[0];for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0},_=function(e){for(var t="",r=0;r<e.length;r++){var n=e[r];t+=(n<16?"0":"")+n.toString(16)}return parseInt(t,16)||0},P=function(e,t,r){var n=t[0];if(!(n>=e.length)){var o=("0000000"+e[n].toString(2)).substr(-8),i=/^(0*1)(\d*)$/.exec(o);if(i){var a=i[1].length,s=[];if(!(n+a>e.length)){for(var c=0;c<a;c++)s[c]=e[n],n++;return r&&(s[0]=parseInt(i[2]||"0",2)),t[0]=n,s}}}},x=function(e,t){var r=P(e,t,1);if(r){var n=_(r),o=t[0],i=[];if(n<2147483647){if(o+n>e.length)return;for(var a=0;a<n;a++)i[a]=e[o],o++}return t[0]=o,i}};r.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1",r.Traffic=function(e){e=e?"/"+n+"/Report/"+e:"";var t=r.TrafficImgUrl;if(t){var o=r.Traffic,i=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],a=i[1]||"http://file/",s=(i[0]||a)+e;0==t.indexOf("//")&&(t=/^https:/i.test(s)?"https:"+t:"http:"+t),e&&(t=t+"&cu="+encodeURIComponent(a+e)),o[s]||(o[s]=1,(new Image).src=t,g("Traffic Analysis Image: "+(e||n+".TrafficImgUrl="+r.TrafficImgUrl)))}}}(window),void 0===(n=function(){return Recorder}.call(t,r,t,e))||(e.exports=n),e.exports&&(e.exports=Recorder)},37479:()=>{!function(){"use strict";Recorder.prototype.enc_wav={stable:!0,testmsg:"816"},Recorder.prototype.wav=function(e,t,r){var n=this.set,o=e.length,i=n.sampleRate,a=8==n.bitRate?8:16,s=o*(a/8),c=new ArrayBuffer(44+s),l=new DataView(c),u=0,f=function(e){for(var t=0;t<e.length;t++,u++)l.setUint8(u,e.charCodeAt(t))},p=function(e){l.setUint16(u,e,!0),u+=2},d=function(e){l.setUint32(u,e,!0),u+=4};if(f("RIFF"),d(36+s),f("WAVE"),f("fmt "),d(16),p(1),p(1),d(i),d(i*(a/8)),p(a/8),p(a),f("data"),d(s),8==a)for(var h=0;h<o;h++,u++){var g=128+(e[h]>>8);l.setInt8(u,g,!0)}else for(h=0;h<o;h++,u+=2)l.setInt16(u,e[h],!0);t(new Blob([l.buffer],{type:"audio/wav"}))}}()},58753:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(n="".concat("my3dtiles-lib","/").concat(r.j))&&void 0!==n?n:"-",i="my3dtiles-lib",a=((Date.now()-1731570488e3)/36e5).toFixed(1),s="%c ".concat(o,"%c ").concat("0.9.26",".").concat("4779fe67a7c632e56d97b32ede98d3cee87ee41f".slice(0,8),".").concat("2024-11-14T07:48:08.000Z"," (").concat(a,")\n%c").concat(i?i+"\n":"","").concat(o,"").concat("beijing jinfei technology co.,ltd","\n");t.copyright=Object.seal({get owner(){return"beijing jinfei technology co.,ltd"},get ownerlink(){},get gituri(){},get info(){return s},get date(){return"2024-11-14T07:48:08.000Z"},get author(){return"vtxf"},get version(){return"0.9.26"},get name(){return"my3dtiles-lib"},get commitId(){return"4779fe67a7c632e56d97b32ede98d3cee87ee41f"},print:function(e){void 0===e&&(e=!1),!e&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},61176:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AppEvent=void 0;var i=r(51355),a=function(e){function t(t){var r=e.call(this,t)||this;return r._event=r.disposeVar(new i.Event),r}return o(t,e),Object.defineProperty(t.prototype,"event",{get:function(){return this._event},enumerable:!1,configurable:!0}),t}(i.HasOwner);t.AppEvent=a},98101:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DomElementMoving=void 0;var i=r(51355),a=r(59645),s=function(e){function t(t){var r=e.call(this)||this;r._owner=t;var n=r.owner,o=n.element,i=n.runningReact,s=n.pointerMoveEvent;if(!i.value)throw new Error("runningReact is null");var c=i.value,l=c.pointerId,u=c.startScreenX,f=c.startScreenY;return o.setPointerCapture(l),r.dispose((function(){return o.releasePointerCapture(l)})),r.dispose(a.DomElementEvent.on(s,(function(e){var t=e.screenX,n=e.screenY,o=t-u,i=n-f;r.owner.deltaXY=[o,i]}))),r}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),t}(i.Destroyable),c=function(e){function t(t){var r=e.call(this)||this;return r._element=t,r._runningReact=r.disposeVar((0,i.reactPlainObjectWithUndefined)(void 0)),r._pointerDownEvent=r.disposeVar(a.DomElementEvent.create(r._element,"pointerdown",!0)),r._pointerDownEventInit=r.dispose(a.DomElementEvent.on(r._pointerDownEvent,(function(e){r._runningReact.value={pointerId:e.pointerId,startScreenX:e.screenX,startScreenY:e.screenY}}))),r._pointerUpEvent=r.disposeVar(a.DomElementEvent.create(r._element,"pointerup",!0)),r._pointerUpEventInit=r.dispose(a.DomElementEvent.on(r._pointerUpEvent,(function(e){r._runningReact.value=void 0}))),r._pointerMoveEvent=r.disposeVar(a.DomElementEvent.create(r.element,"pointermove",!0)),r._deltaXY=r.disposeVar((0,i.reactArray)([0,0])),r._runningResetting=r.disposeVar(new a.ObjResettingWithEvent(r._runningReact.changed,(function(){if(r._runningReact.value)return new s(r)}))),r}return o(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runningReact",{get:function(){return this._runningReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointerMoveEvent",{get:function(){return this._pointerMoveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deltaXY",{get:function(){return this._deltaXY.value},set:function(e){this._deltaXY.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deltaXYChanged",{get:function(){return this._deltaXY.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.DomElementMoving=c},7486:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DomElementSideMoving=void 0;var s=r(51355),c=r(98101),l=function(e){function t(t,r){var n=e.call(this)||this;n._element=t,n._sideType=r,n._div=document.createElement("div"),n._domElementMoving=n.disposeVar(new c.DomElementMoving(n._div)),n.hoverCssColor="yellow",n.baseCssTextOptions={sideZIndex:1e3,cornerZIndex:1001,sideWidth:6,cornerSize:12};var o=n._div;o.setAttribute("m3t-div","DomElementSideMoving"),o.onpointerenter=function(){o.style.background=n.hoverCssColor},o.onpointerleave=function(){o.style.background="transparent"},n._element.appendChild(o),n.dispose((function(){return n._element.removeChild(o)}));var s=n._sideType;return o.style.cssText=function(e,t){var r=!1;["leftBottom","rightBottom","leftTop","rightTop"].includes(e)&&(r=!0);var n="";switch(e){case"left":case"right":n="cursor: ew-resize;";break;case"top":case"bottom":n="cursor: ns-resize;";break;case"leftTop":case"rightTop":n="cursor: nwse-resize;";break;case"leftBottom":case"rightBottom":n="cursor: nesw-resize;"}var o=[];switch(e){case"left":o=["width: ".concat(t.sideWidth,"px;"),"height: 100%;","left: -".concat(t.sideWidth/2,"px;"),"top: 0px"];break;case"right":o=["width: ".concat(t.sideWidth,"px;"),"height: 100%;","right: -".concat(t.sideWidth/2,"px;"),"top: 0px;"];break;case"bottom":o=["width: 100%;","height: ".concat(t.sideWidth,"px;"),"left: 0px;","bottom: -".concat(t.sideWidth/2,"px;")];break;case"top":o=["width: 100%;","height: ".concat(t.sideWidth,"px;"),"left: 0px;","top: -".concat(t.sideWidth/2,"px;")];break;case"leftBottom":case"rightBottom":case"rightTop":case"leftTop":o=["width: ".concat(t.cornerSize,"px;"),"height: ".concat(t.cornerSize,"px;"),"right: -".concat(t.cornerSize/2,"px;"),"bottom: -".concat(t.cornerSize/2,"px;")]}var s="z-index: ".concat(r?t.cornerZIndex:t.sideZIndex,";");return a(a([n],i(o),!1),[s],!1).join("\n")}(s,n.baseCssTextOptions),o.style.position="absolute",o.style.background="transparent",o.style.transition="0.3s",n}return o(t,e),Object.defineProperty(t.prototype,"sideType",{get:function(){return this._sideType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._domElementMoving.runningReact.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runningChanged",{get:function(){return this._domElementMoving.runningReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deltaXY",{get:function(){return this._domElementMoving.deltaXY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deltaXYChanged",{get:function(){return this._domElementMoving.deltaXYChanged},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.DomElementSideMoving=l},98719:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AppLayout=t.AppLayoutResizing=t.AppLayoutResizingResetting=t.DomElementSideMovingWrapper=t.getSideFactor=void 0;var s=r(51355),c=r(59645),l=r(7486);function u(e){return[e.startsWith("right")?1:e.startsWith("left")?-1:0,e.endsWith("bottom")?1:e.endsWith("top")?-1:0]}t.getSideFactor=u;var f=function(e){function t(t,r,n){var o=e.call(this)||this;o._owner=t,o._element=r,o._sideType=n,o._desm=o.disposeVar(new l.DomElementSideMoving(o._element,o._sideType));var a=o.desm;a.hoverCssColor=o.owner.owner.owner.hoverCssColor,a.baseCssTextOptions=o.owner.owner.owner.baseCssTextOptions;var s=o.owner.owner.element;if(!s)throw new Error("element is null");var c=[0,0];return o.dispose(a.runningChanged.disposableOn((function(){var e;if(a.running){var t=null===(e=o.owner.owner.element)||void 0===e?void 0:e.getBoundingClientRect();t&&(c=t?[t.width,t.height]:[0,0])}}))),o.dispose(a.deltaXYChanged.disposableOn((function(){if(a.running){var e=i(u(o._sideType),2),t=e[0],r=e[1],n=c[0]+t*a.deltaXY[0];n=(n=n<o.owner.owner.minSize[0]?o.owner.owner.minSize[0]:n)>o.owner.owner.maxSize[0]?o.owner.owner.maxSize[0]:n;var l=c[1]+r*a.deltaXY[1];l=(l=l<o.owner.owner.minSize[1]?o.owner.owner.minSize[1]:l)>o.owner.owner.maxSize[1]?o.owner.owner.maxSize[1]:l,0!==t&&(s.style.width="".concat(n,"px")),0!==r&&(s.style.height="".concat(l,"px"))}}))),o}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desm",{get:function(){return this._desm},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.DomElementSideMovingWrapper=f;var p=function(e){function t(t){var r=e.call(this)||this;return r._owner=t,r._wrappers=a([],i(r.owner.sideTypes.values()),!1).map((function(e){return r.disposeVar(new f(r,r.element,e))})),r}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.owner.element},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.AppLayoutResizingResetting=p;var d=function(e){function t(t,r){var n,o=e.call(this)||this;return o._owner=t,o._element=o.disposeVar((0,s.react)(void 0)),o._sideTypes=o.disposeVar(new c.ObservableSet),o._minSize=o.disposeVar((0,s.react)([0,0])),o._maxSize=o.disposeVar((0,s.react)([Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER])),o._resizingEvent=o.disposeVar((0,s.createNextAnimateFrameEvent)(o.elementChanged,o.sideTypes.changed)),o._resizingResetting=o.disposeVar(new c.ObjResettingWithEvent(o._resizingEvent,(function(){if(o.element)return new p(o)}))),(n=o._sideTypes).add.apply(n,a([],i(r),!1)),o}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element.value},set:function(e){this._element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementChanged",{get:function(){return this._element.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sideTypes",{get:function(){return this._sideTypes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSize",{get:function(){return this._minSize.value},set:function(e){this._minSize.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSizeChanged",{get:function(){return this._minSize.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._maxSize.value},set:function(e){this._maxSize.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSizeChanged",{get:function(){return this._maxSize.changed},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.AppLayoutResizing=d;var h=function(e){function t(t){var r=e.call(this)||this;return r._owner=t,r._leftSideBarResizing=r.disposeVar(new d(r,["right"])),r._builtinSceneTreeContainerBottomResizing=r.disposeVar(new d(r,["bottom"])),r._sceneTreeContainerBottomResizing=r.disposeVar(new d(r,["bottom"])),r._bottomSideBarResizing=r.disposeVar(new d(r,["top"])),r.hoverCssColor="#FFF",r.baseCssTextOptions={sideZIndex:1e3,cornerZIndex:1001,sideWidth:6,cornerSize:12},r}return o(t,e),Object.defineProperty(t.prototype,"leftSideBarResizing",{get:function(){return this._leftSideBarResizing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinSceneTreeContainerBottomResizing",{get:function(){return this._builtinSceneTreeContainerBottomResizing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneTreeContainerBottomResizing",{get:function(){return this._sceneTreeContainerBottomResizing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomSideBarResizing",{get:function(){return this._bottomSideBarResizing},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.AppLayout=h},56945:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BuiltinCommandsInit=void 0;var i=r(51355),a=r(71401),s=r(52999),c=r(59130),l=r(27532),u=r(20325),f=r(28137),p=r(3790),d=r(86094),h=r(81622),g=r(45460),y=r(39840),m=r(41533),v=r(34160),b=r(33361),w=r(27160),_=r(27914),P=r(94997),x=function(e){function t(t){var r=e.call(this,t)||this;return(0,w.registerFileCommands)(r.owner),(0,s.registerBuiltinProps)(r.owner),(0,l.registerFileObjecs)(r.owner),(0,y.registerViews)(r.owner),(0,a.registerBasicGraphics)(r.owner),(0,c.registerPOI)(r.owner),(0,g.registerSpecialEffects1)(r.owner),(0,u.registerImageModels)(r.owner),(0,f.registerMeasurements)(r.owner),(0,h.registerScreenUis)(r.owner),(0,d.registerPaths)(r.owner),(0,m.registerWatchers)(r.owner),(0,b.registerSupergraph)(r.owner),(0,v.registerYLJ)(r.owner),(0,_.registerAdvanced)(r.owner),(0,p.registerMiscObjects)(r.owner),(0,P.registerTools)(r.owner),r}return o(t,e),t}(i.HasOwner);t.BuiltinCommandsInit=x},27914:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerAdvanced=void 0;var i=r(48269),a=r(12335);t.registerAdvanced=function(e){var t,r;e.commands.register({category:"",name:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var s=[{name:"",keywords:["CzmCustomPrimitive"],description:"",icon:'<svg t="1716190307850" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="198706" ><path d="M0 604.16v279.68l235.52 133.76 234.88-140.16V604.16L235.52 464.64z m744.32-464L512 0 273.28 140.16v279.68L512 559.36l235.52-139.52z m38.4 323.84L547.2 604.16v279.68L782.08 1024l235.52-140.16V604.16l-235.52-139.52z" fill="#ffffff" p-id="198707"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmCustomPrimitive",this.name)}},{name:"",keywords:["CzmCustomGroundRectangle"],description:"",icon:'<svg t="1716190275674" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="194035" ><path d="M898.8 199.6v624.8H125.2V199.6h773.6m59.5-59.5H65.7v743.8h892.5V140.1h0.1z" p-id="194036" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmCustomGroundRectangle",this.name)}},{name:"CzmTexture",keywords:["CzmTexture"],description:"CzmTexture",icon:a.svg.czmTexture,func:function(){e.createSceneObjectOnTree("CzmTexture",this.name)}},{name:"bunny",keywords:["CzmTexture"],description:"bunny",icon:a.svg.czmTexture,func:function(){var t=e.createSceneObjectClassOnTree(i.CzmTexture,"bunny");t&&(t.uri="${LP}https://cesium.com/public/SandcastleSampleData/big-buck-bunny_trailer.mp4",t.showPreview=!0)}},{name:"CustomDiv",keywords:["CustomDiv"],description:"CustomDiv",icon:'<svg t="1716190342351" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="200649" ><path d="M122.88 165.888h778.24c-9.216 0-16.384-7.168-16.384-16.384v713.728c0-9.216 7.168-16.384 16.384-16.384H122.88c9.216 0 16.384 7.168 16.384 16.384V150.016c0 8.192-6.656 15.872-16.384 15.872z m-32.768 684.544c0 26.112 20.992 47.104 47.104 47.104h750.08c26.112 0 47.104-20.992 47.104-47.104V162.304c0-26.112-20.992-47.104-47.104-47.104H137.216c-26.112 0-47.104 20.992-47.104 47.104v688.128z" p-id="200650" fill="#ffffff"></path><path d="M336.384 651.264H243.2V344.576h91.648c92.672 2.048 140.288 53.248 142.336 154.112 1.024 103.424-46.08 154.624-140.8 152.576z m1.536-257.536h-43.008v211.456h44.544c59.392 2.048 88.064-33.28 87.552-106.496 0-70.144-29.696-104.96-89.088-104.96zM517.12 344.576h51.712v59.392H517.12V344.576z m0 78.848h51.712v227.84H517.12V423.424zM748.032 423.424h53.248l-81.408 227.84h-43.008l-76.8-227.84h53.248l46.08 162.816 48.64-162.816z" p-id="200651" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CustomDiv",this.name)}},{name:"GeoCustomDivPoi",keywords:["GeoCustomDivPoi"],description:"GeoCustomDivPoi",icon:'<svg t="1716190342351" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="200649" ><path d="M122.88 165.888h778.24c-9.216 0-16.384-7.168-16.384-16.384v713.728c0-9.216 7.168-16.384 16.384-16.384H122.88c9.216 0 16.384 7.168 16.384 16.384V150.016c0 8.192-6.656 15.872-16.384 15.872z m-32.768 684.544c0 26.112 20.992 47.104 47.104 47.104h750.08c26.112 0 47.104-20.992 47.104-47.104V162.304c0-26.112-20.992-47.104-47.104-47.104H137.216c-26.112 0-47.104 20.992-47.104 47.104v688.128z" p-id="200650" fill="#ffffff"></path><path d="M336.384 651.264H243.2V344.576h91.648c92.672 2.048 140.288 53.248 142.336 154.112 1.024 103.424-46.08 154.624-140.8 152.576z m1.536-257.536h-43.008v211.456h44.544c59.392 2.048 88.064-33.28 87.552-106.496 0-70.144-29.696-104.96-89.088-104.96zM517.12 344.576h51.712v59.392H517.12V344.576z m0 78.848h51.712v227.84H517.12V423.424zM748.032 423.424h53.248l-81.408 227.84h-43.008l-76.8-227.84h53.248l46.08 162.816 48.64-162.816z" p-id="200651" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoCustomDivPoi",this.name)}},{name:"IFrameDiv",keywords:["IFrameDiv"],description:"IFrameDiv",icon:'<svg t="1716190342351" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="200649" ><path d="M122.88 165.888h778.24c-9.216 0-16.384-7.168-16.384-16.384v713.728c0-9.216 7.168-16.384 16.384-16.384H122.88c9.216 0 16.384 7.168 16.384 16.384V150.016c0 8.192-6.656 15.872-16.384 15.872z m-32.768 684.544c0 26.112 20.992 47.104 47.104 47.104h750.08c26.112 0 47.104-20.992 47.104-47.104V162.304c0-26.112-20.992-47.104-47.104-47.104H137.216c-26.112 0-47.104 20.992-47.104 47.104v688.128z" p-id="200650" fill="#ffffff"></path><path d="M336.384 651.264H243.2V344.576h91.648c92.672 2.048 140.288 53.248 142.336 154.112 1.024 103.424-46.08 154.624-140.8 152.576z m1.536-257.536h-43.008v211.456h44.544c59.392 2.048 88.064-33.28 87.552-106.496 0-70.144-29.696-104.96-89.088-104.96zM517.12 344.576h51.712v59.392H517.12V344.576z m0 78.848h51.712v227.84H517.12V423.424zM748.032 423.424h53.248l-81.408 227.84h-43.008l-76.8-227.84h53.248l46.08 162.816 48.64-162.816z" p-id="200651" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("IFrameDiv",this.name)}},{name:"",keywords:["CzmHeatMap"],description:"",icon:'<svg t="1716190394522" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="202491" ><path d="M781.981888 1014.033538C649.277769 945.497049 431.312619 990.61918 298.608501 972.93895 165.904382 955.25872 80.23377 832.725854 35.111639 706.301971-80.32183 383.00634 113.136746 295.287826 270.483965 302.387223 427.899447 309.691411 362.093496 148.180122 582.720919 27.558632 803.348343-93.062859 862.874059 217.126192 838.367485 287.574057 813.792648 358.021923 796.863316 425.32967 963.357836 601.858915 1129.852355 778.456422 914.686006 1082.706555 781.981888 1014.033538ZM891.408175 606.432565C745.66574 458.778754 743.413046 396.044657 768.397464 329.692597 789.900446 272.214785 777.886081 13.22331 589.478999 113.229243 401.071917 213.30344 457.730569 374.746465 324.207289 370.650659 190.615746 366.554852 7.601475 440.279363 102.28286 701.250477 139.281642 803.236049 225.976205 884.810855 338.474347 897.644381 450.972489 910.54617 634.259813 878.735409 746.211847 932.868314 858.163882 987.069481 1031.0069 747.874403 891.408175 606.432565ZM650.09693 792.51869C581.014333 766.646848 565.723324 679.337914 586.270618 607.388253 606.886175 535.302065 543.947288 435.773976 514.730537 379.866222 485.58205 323.753678 553.708959 197.671113 626.068201 178.352561 743.549573 146.95138 684.365175 331.7405 689.280142 455.092528 694.331636 578.444556 870.314773 658.79062 868.47166 734.28998 866.628548 809.789339 719.111263 818.458796 650.09693 792.51869ZM471.997627 693.058865C411.379696 748.01093 334.105487 776.886363 255.943853 750.604941 177.918747 724.255255 125.902009 596.124786 186.519939 541.991882 310.076758 431.541643 323.04681 547.179903 423.803641 498.098493 524.492209 449.085346 532.547294 638.106799 471.997627 693.058865Z" p-id="202492" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmHeatMap",this.name)}}];try{for(var c=o(s),l=c.next();!l.done;l=c.next()){var u=l.value;e.commands.register(n(n({},u),{category:""}))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}}},71401:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerBasicGraphics=void 0,t.registerBasicGraphics=function(e){var t,o;e.commands.register({category:"",name:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"",keywords:["CzmPoint"],description:"",icon:'<svg t="1715931130649" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="128966" ><path d="M511.089778 967.111111a455.111111 455.111111 0 1 1 0-910.222222 455.111111 455.111111 0 0 1 0 910.222222z m0-56.888889a398.222222 398.222222 0 1 0 0-796.444444 398.222222 398.222222 0 0 0 0 796.444444z m0-170.666666a227.555556 227.555556 0 1 1 0-455.111112 227.555556 227.555556 0 0 1 0 455.111112z" fill="#ffffff" p-id="128967"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmPoint",this.name)}},{name:"",keywords:["GeoPolyline"],description:"",icon:'<svg t="1715931578887" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143265" ><path d="M968.704 208.067048v158.573714h-67.388952l-216.746667 271.311238h30.037333v158.573714H551.984762v-158.573714h9.167238L348.501333 467.968l-153.258666 217.770667h5.558857v158.573714H38.278095v-158.573714H111.664762L293.546667 427.446857h-31.500191V268.921905h162.523429v158.622476l-17.408-0.048762 218.599619 174.713905 188.17219-235.52h-7.801904V208.067048h162.57219zM139.849143 746.691048h-40.618667v36.668952h40.618667v-36.668952z m513.755428-47.786667h-40.618666v36.668952h40.618666v-36.668952zM363.617524 329.825524h-40.618667v36.668952h40.618667v-36.668952z m544.085333-60.806095h-40.618667v36.668952h40.618667v-36.668952z" p-id="143266" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPolyline",this.name)}},{name:"",keywords:["GeoPolyline"],description:"",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><path fill="#ffffff" d="m1,24c-.552,0-1-.447-1-1s.448-1,1-1c5.075,0,9.377-4.346,10.006-10.108C11.746,5.112,16.902,0,23,0c.552,0,1,.447,1,1s-.448,1-1,1c-5.075,0-9.377,4.346-10.006,10.108-.74,6.779-5.896,11.892-11.994,11.892Z"/></svg>',func:function(){e.createSceneObjectOnTree("GeoBezierSpline",this.name)}},{name:"",keywords:["GeoPolylines"],description:"",icon:'<svg t="1715931578887" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143265" ><path d="M968.704 208.067048v158.573714h-67.388952l-216.746667 271.311238h30.037333v158.573714H551.984762v-158.573714h9.167238L348.501333 467.968l-153.258666 217.770667h5.558857v158.573714H38.278095v-158.573714H111.664762L293.546667 427.446857h-31.500191V268.921905h162.523429v158.622476l-17.408-0.048762 218.599619 174.713905 188.17219-235.52h-7.801904V208.067048h162.57219zM139.849143 746.691048h-40.618667v36.668952h40.618667v-36.668952z m513.755428-47.786667h-40.618666v36.668952h40.618666v-36.668952zM363.617524 329.825524h-40.618667v36.668952h40.618667v-36.668952z m544.085333-60.806095h-40.618667v36.668952h40.618667v-36.668952z" p-id="143266" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPolylines",this.name)}},{name:"",keywords:["GeoPolygon"],description:"",icon:'<svg t="1715932073160" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="145143" ><path d="M956.738805 387.876945c14.230669 0 25.907115-11.554816 25.907115-25.907115V224.16344c0-14.230669-11.554816-25.907115-25.907115-25.907115H818.810785c-14.230669 0-25.907115 11.554816-25.907115 25.907115v25.663855l-561.92897-111.534386V80.640456c0-14.230669-11.554816-25.907115-25.907115-25.907115H67.139565c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907115H134.157501L265.031001 779.646039H244.71885c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907114h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907114v-56.071268l384.471315-53.760304v27.123411c0 14.230669 11.554816 25.907115 25.907115 25.907115h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V722.844993c0-14.230669-11.554816-25.907115-25.907115-25.907114H913.80354V387.876945h42.935265z m-25.785485-137.92802v86.23542h-84.167716l-2.067704-2.067704v-84.167716h86.23542z m-666.530467 309.060934L565.942749 257.489963l101.317496 20.068892-378.997981 378.997981-23.839411-97.546977zM226.109514 402.594132l177.336026-177.336025 101.317496 20.068891L249.948925 500.262739 226.109514 402.594132zM93.04668 106.425941h86.23542v86.23542h-86.23542V106.425941z m112.020905 137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V190.958546l111.534387 22.136596L211.757216 343.847013l-24.32593-99.493052h17.636299zM302.249673 713.966029l0.851408 0.851408 425.095617-425.095617 64.706972 12.892742v43.908303L359.780496 779.646039h-41.475709l-16.055114-65.68001z m54.611712 203.60803H270.625965v-86.23542h86.23542v86.23542z m574.091935-82.70816h-86.23542v-86.23542h86.23542v86.23542zM818.810785 696.937879c-14.230669 0-25.907115 11.554816-25.907115 25.907114v58.62549l-180.255137 25.177337 249.219147-249.219147V696.937879h-43.056895z m43.178525-212.730253L527.751039 818.445896l-119.197054 16.663262v-29.677634c0-0.486519 0-0.973037-0.12163-1.337926l416.216653-416.216653h37.218672v96.330681z" p-id="145144" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPolygon",this.name)}},{name:"",keywords:["GeoCircle"],description:"",icon:'<svg t="1715932284051" class="icon" viewBox="0 0 1068 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="171878" ><path d="M351.714578 894.813252l8.951837 4.877208c52.476284 27.719825 111.064512 42.413185 171.813528 42.413185 62.60112 0 122.856242-15.619412 176.567263-44.944394l7.408417-4.198103a8.643153 8.643153 0 0 1 11.853466 2.963367l31.732718 52.105863a11.915203 11.915203 0 0 1-4.074629 16.668938 448.641362 448.641362 0 0 1-223.487235 59.267332 448.703099 448.703099 0 0 1-210.090347-51.858916l-12.100414-6.605838-1.111262-0.679105a12.347361 12.347361 0 0 1-4.321577-17.039358l29.695404-48.772076a12.779519 12.779519 0 0 1 17.162831-4.198103M163.849481 614.404684a163.849481 163.849481 0 1 1 0 327.698961 163.849481 163.849481 0 0 1 0-327.698961z m737.260925 0a163.849481 163.849481 0 1 1 0 327.698961 163.849481 163.849481 0 0 1 0-327.698961zM163.849481 696.329424a81.92474 81.92474 0 1 0 0 163.849481 81.92474 81.92474 0 0 0 0-163.849481z m737.260925 0a81.92474 81.92474 0 1 0 0 163.849481 81.92474 81.92474 0 0 0 0-163.849481zM305.041554 198.792512l29.75714 48.89555a12.841255 12.841255 0 0 1-4.198103 17.286305 368.260042 368.260042 0 0 0-166.5659 295.904507v0.432157a12.347361 12.347361 0 0 1-12.347361 12.100414h-57.415229c-6.791049 0-12.347361-5.432839-12.16215-12.223887a450.184782 450.184782 0 0 1 206.139192-366.407938 12.038677 12.038677 0 0 1 16.792411 4.012892m468.520613-6.050207a450.184782 450.184782 0 0 1 209.287769 366.96357v1.234736a12.347361 12.347361 0 0 1-12.347361 12.470834h-57.044808c-6.791049 0-12.347361-5.618049-12.532571-12.470834a368.321779 368.321779 0 0 0-169.220583-297.756611l-0.246947-0.123474a12.347361 12.347361 0 0 1-4.136366-16.854147l29.448456-49.327708a12.038677 12.038677 0 0 1 16.792411-4.136366M532.479943 0a163.849481 163.849481 0 1 1 0 327.698961 163.849481 163.849481 0 0 1 0-327.698961z m0 81.92474a81.92474 81.92474 0 1 0 0 163.849481 81.92474 81.92474 0 0 0 0-163.849481z" p-id="171879" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoCircle",this.name)}},{name:"",keywords:["GeoRectangle"],description:"",icon:'<svg t="1715932361006" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="174649" ><path d="M273.9 168.3H739v37.1H273.9zM273.9 819.6H739v37.1H273.9zM165.812 740.898v-465.1h37.1v465.1zM821.11 740.896v-465.1h37.1v465.1z" fill="#ffffff" p-id="174650"></path><path d="M184.7 66.2c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.5c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.7-37 82.7-82.7 82.7zM184.7 717.5c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.6c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.6-37 82.7-82.7 82.7zM840 717.5c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.6c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.6-37 82.7-82.7 82.7zM840 66.2c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.5c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.7-37 82.7-82.7 82.7z" fill="#ffffff" p-id="174651"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoRectangle",this.name)}},{name:"",keywords:["GeoDivTextPoi"],description:"",icon:'<svg t="1715932419847" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="177405" ><path d="M692.2597343921661 882.78857421875H331.711297750473v-30.689996480941772a563.3140236139297 563.3140236139297 0 0 1 48.088091611862176-14.83154296875c16.200274229049683-4.278552532196046 33.656305074691765-7.757592201232912 52.39561200141907-10.638445615768433v-630.340576171875h-136.73552870750427l-57.244107127189636 151.53810381889343H211.2339789867401c-2.1675199270248413-14.118209481239319-3.9642512798309326-30.233752727508545-5.419161915779114-48.23148250579833-1.4541864395141602-17.939794063568115-2.6809751987457275-36.30831241607666-3.7933409214019784-55.10410666465761-1.1123657226562498-18.59736442565918-1.9683659076690674-37.078857421875-2.6527315378189087-55.019375681877136C198.6264432668686 171.53063368797297 198.2563788890838 155.35860311985022 198.2563788890838 141.21142578125h627.4886906147003c0 14.147177338600159-0.3997564315795899 30.090361833572388-1.1123657226562498 47.689059376716614-0.7415771484374999 17.655909061431885-1.6547888517379765 35.852792859077454-2.766430377960205 54.56313192844391s-2.139276266098023 37.078857421875-3.251641988754273 55.10410666465761c-1.0841220617294314 17.998453974723816-2.7099430561065674 34.48406159877777-4.9064308404922485 49.28736090660096h-28.408053517341607l-56.75889551639557-151.53810381889343H592.8891206979752V826.6850764751434c18.71033906936645 3.5659432411193848 36.22285723686218 7.07395076751709 52.366644144058235 10.638445615768433 16.229242086410522 3.508731722831726 31.85957372188568 8.415162563323973 47.00469374656678 14.83154296875v30.633509159088135z" p-id="177406" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoDivTextPoi",this.name)}},{name:"",description:"",icon:'<svg t="1715932470620" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="178577" ><path d="M867.90864 574.538232V257.779543a50.844091 50.844091 0 0 0-50.844092-50.844091h-610.129096a50.844091 50.844091 0 0 0-50.844092 50.844091v499.797418l430.141013-257.779543a152.532274 152.532274 0 0 1 157.108243 0z m0 118.466733l-177.445879-106.264151a50.844091 50.844091 0 0 0-50.844092 0L254.220457 817.064548h562.844091a50.844091 50.844091 0 0 0 50.844092-50.844091z m-660.973188-587.757696h610.129096a152.532274 152.532274 0 0 1 152.532274 152.532274v508.440914a152.532274 152.532274 0 0 1-152.532274 152.532274h-610.129096a152.532274 152.532274 0 0 1-152.532274-152.532274v-508.440914a152.532274 152.532274 0 0 1 152.532274-152.532274z m127.110228 355.90864a76.266137 76.266137 0 1 1 76.266137-76.266137 76.266137 76.266137 0 0 1-76.266137 76.266137z" fill="#ffffff" p-id="178578"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmImageModel",this.name)}},{name:"canvas",description:"canvas",icon:'<svg t="1715932519428" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="179693" ><path d="M917.333333 682.666667H896V256a85.333333 85.333333 0 0 0-85.333333-85.333333h-256V106.666667a21.333333 21.333333 0 0 0-21.333334-21.333334h-42.666666a21.333333 21.333333 0 0 0-21.333334 21.333334V170.666667H213.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v426.666667h-21.333333a21.333333 21.333333 0 0 0-21.333334 21.333333v42.666667a21.333333 21.333333 0 0 0 21.333334 21.333333h205.226666l-92.586666 132.266667a32.426667 32.426667 0 0 0-5.973334 18.346666v9.386667a10.666667 10.666667 0 0 0 10.666667 10.666667h50.346667a42.666667 42.666667 0 0 0 34.986666-18.346667L416 768h192l106.666667 152.32a42.666667 42.666667 0 0 0 34.986666 18.346667h50.346667a10.666667 10.666667 0 0 0 10.666667-10.666667v-9.386667a32.426667 32.426667 0 0 0-5.973334-18.346666L712.106667 768h205.226666a21.333333 21.333333 0 0 0 21.333334-21.333333v-42.666667a21.333333 21.333333 0 0 0-21.333334-21.333333z m-106.666666-27.306667a27.306667 27.306667 0 0 1-27.306667 27.306667 28.586667 28.586667 0 0 1-21.333333-10.24l-156.586667-194.986667a21.333333 21.333333 0 0 0-33.28 0l-97.706667 122.88a21.333333 21.333333 0 0 1-33.706666 0l-42.666667-58.026667a21.76 21.76 0 0 0-34.56 0l-95.146667 128a32 32 0 0 1-25.6 12.8 27.306667 27.306667 0 0 1-29.44-27.733333V256h597.333334zM405.333333 469.333333A64 64 0 1 0 341.333333 405.333333 64 64 0 0 0 405.333333 469.333333z" p-id="179694" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoCanvasImagePoi",this.name)}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},52999:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerBuiltinProps=void 0,t.registerBuiltinProps=function(e){var t=this;e.commands.register({category:"",name:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}}),e.commands.register({category:"",name:"",icon:"${my3dtiles-assets-script-dir}/assets/images/my3dtiles.png",description:"",func:function(){e.viewProp(e.falseApp)}}),e.commands.register({category:"",name:"",icon:"${my3dtiles-assets-script-dir}/assets/images/my3dtiles.png",description:"",func:function(){e.viewProp(e.builtinObjects.initOptions)}}),e.commands.register({category:"",name:"",icon:'<svg t="1715849526709" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15023" ><path d="M499.72 872.52c-179.31 0-325.19-143.88-325.19-320.75 0-176.84 145.88-320.72 325.19-320.72 54.31 0 108.12 13.5 155.62 39.03 23.31 12.56 32.06 41.69 19.5 65.03-12.44 23.38-41.56 32.12-65 19.53-33.56-18.06-71.62-27.59-110.12-27.59-126.38 0-229.19 100.81-229.19 224.72 0 123.94 102.81 224.75 229.19 224.75 104.5 0 195.75-69.22 221.87-168.31 6.81-25.62 33.12-40.88 58.69-34.16 25.62 6.78 40.94 33.03 34.19 58.66-37.32 141.18-166.75 239.81-314.75 239.81z" fill="#ffffff" p-id="15024"></path><path d="M799.24 407.04l-89.26-228.19c-6.2-15.85-27.38-18.78-37.64-5.2l-154.62 204.6c-10.26 13.58-1.67 33.16 15.27 34.8l243.89 23.59c16.15 1.57 28.27-14.48 22.36-29.6z" fill="#ffffff" p-id="15025"></path></svg>',description:"",func:function(){e.reload()}}),e.commands.register({category:"",name:"",icon:'<svg t="1715849526709" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15023" ><path d="M499.72 872.52c-179.31 0-325.19-143.88-325.19-320.75 0-176.84 145.88-320.72 325.19-320.72 54.31 0 108.12 13.5 155.62 39.03 23.31 12.56 32.06 41.69 19.5 65.03-12.44 23.38-41.56 32.12-65 19.53-33.56-18.06-71.62-27.59-110.12-27.59-126.38 0-229.19 100.81-229.19 224.72 0 123.94 102.81 224.75 229.19 224.75 104.5 0 195.75-69.22 221.87-168.31 6.81-25.62 33.12-40.88 58.69-34.16 25.62 6.78 40.94 33.03 34.19 58.66-37.32 141.18-166.75 239.81-314.75 239.81z" fill="#ffffff" p-id="15024"></path><path d="M799.24 407.04l-89.26-228.19c-6.2-15.85-27.38-18.78-37.64-5.2l-154.62 204.6c-10.26 13.58-1.67 33.16 15.27 34.8l243.89 23.59c16.15 1.57 28.27-14.48 22.36-29.6z" fill="#ffffff" p-id="15025"></path></svg>',description:"",func:function(){e.flushView()}}),e.commands.register({category:"",name:"JS",icon:'<svg t="1715851078843" class="icon" viewBox="0 0 1155 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="46273" ><path d="M892.522903 906.310114V117.684111a39.844178 39.844178 0 0 0-41.461043-41.576534H124.627422a44.637029 44.637029 0 0 0-41.576534 41.576534v788.626003a39.901923 39.901923 0 0 0 41.576534 41.576534h726.434438c13.801099 6.929422 41.461043-20.730522 41.461043-41.576534z m69.294223 0a116.58753 116.58753 0 0 1-117.569198 117.569199H117.698A112.487622 112.487622 0 0 1 0.128801 906.310114V117.684111A116.529785 116.529785 0 0 1 117.698 0.114913h726.434438a112.545367 112.545367 0 0 1 117.569198 117.569198v788.626003z m0-428.93124V325.162564h-69.294223v152.21631z m0 69.294223h-69.294223v145.286887h69.294223V546.673097z" fill="#ffffff" p-id="46274"></path><path d="M224.642084 655.926988h393.764422c19.922089 1.039413 19.922089 73.913838 0 75.068742H224.642084a37.534371 37.534371 0 1 1 0-75.068742z m0-375.343707H430.907888a37.534371 37.534371 0 0 1 0 75.068741H224.642084a37.534371 37.534371 0 0 1 0-75.068741z m0 187.498618h299.87075a37.534371 37.534371 0 0 1 0 75.068741h-300.274966a37.534371 37.534371 0 0 1 0-75.068741z" fill="#ffffff" p-id="46275"></path><path d="M809.31209 366.739098a33.434463 33.434463 0 0 0 0-48.448211 41.923005 41.923005 0 0 0-55.377633 0l-152.21631 152.21631a42.558202 42.558202 0 0 0-6.929422 41.576534c0 6.929422 6.929422 6.929422 6.929422 13.801099l6.987168 6.929422 152.100819 152.21631a41.923005 41.923005 0 0 0 55.377634 0 33.434463 33.434463 0 0 0 0-48.448211l-89.909255-89.909254h394.341874a34.647112 34.647112 0 1 0 0-69.294223h-408.200718l96.954167-110.755267z" fill="#ffffff" p-id="46276"></path></svg>',description:"JS",func:function(){e.fileLoader.openLocalJs()}}),e.commands.register({category:"",name:"JS",icon:'<svg t="1715851078843" class="icon" viewBox="0 0 1155 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="46273" ><path d="M892.522903 906.310114V117.684111a39.844178 39.844178 0 0 0-41.461043-41.576534H124.627422a44.637029 44.637029 0 0 0-41.576534 41.576534v788.626003a39.901923 39.901923 0 0 0 41.576534 41.576534h726.434438c13.801099 6.929422 41.461043-20.730522 41.461043-41.576534z m69.294223 0a116.58753 116.58753 0 0 1-117.569198 117.569199H117.698A112.487622 112.487622 0 0 1 0.128801 906.310114V117.684111A116.529785 116.529785 0 0 1 117.698 0.114913h726.434438a112.545367 112.545367 0 0 1 117.569198 117.569198v788.626003z m0-428.93124V325.162564h-69.294223v152.21631z m0 69.294223h-69.294223v145.286887h69.294223V546.673097z" fill="#ffffff" p-id="46274"></path><path d="M224.642084 655.926988h393.764422c19.922089 1.039413 19.922089 73.913838 0 75.068742H224.642084a37.534371 37.534371 0 1 1 0-75.068742z m0-375.343707H430.907888a37.534371 37.534371 0 0 1 0 75.068741H224.642084a37.534371 37.534371 0 0 1 0-75.068741z m0 187.498618h299.87075a37.534371 37.534371 0 0 1 0 75.068741h-300.274966a37.534371 37.534371 0 0 1 0-75.068741z" fill="#ffffff" p-id="46275"></path><path d="M809.31209 366.739098a33.434463 33.434463 0 0 0 0-48.448211 41.923005 41.923005 0 0 0-55.377633 0l-152.21631 152.21631a42.558202 42.558202 0 0 0-6.929422 41.576534c0 6.929422 6.929422 6.929422 6.929422 13.801099l6.987168 6.929422 152.100819 152.21631a41.923005 41.923005 0 0 0 55.377634 0 33.434463 33.434463 0 0 0 0-48.448211l-89.909255-89.909254h394.341874a34.647112 34.647112 0 1 0 0-69.294223h-408.200718l96.954167-110.755267z" fill="#ffffff" p-id="46276"></path></svg>',description:"JS",func:function(){e.fileLoader.openWebJs()}}),e.commands.register({category:"",name:"",icon:'<svg t="1715850295907" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31729"><path d="M211.97837653 812.54591147h600.8242176V211.60700587H211.97837653v600.9389056z m81.9593216-518.9632h436.90666667v436.994048h-436.90666667v-436.994048z m-177.39175253 27.26843733c22.61538133 0 40.89992533-18.284544 40.89992533-40.90538667V157.0635776h122.8537856c22.62084267 0 40.90538667-18.284544 40.90538667-40.910848s-18.284544-40.910848-40.90538667-40.910848H116.5459456c-22.626304 0-40.90538667 18.284544-40.90538667 40.910848v163.94594987c-0.15291733 22.46792533 18.13162667 40.75246933 40.90538667 40.75246933z m163.7548032 546.24365227H157.4469632V744.21261653c0-22.63176533-18.284544-40.91630933-40.89992533-40.91630933-22.626304 0-40.90538667 18.284544-40.90538667 40.91630933v163.7875712c0 22.626304 18.27908267 40.910848 40.90538667 40.910848h163.91318186c22.626304 0 40.90538667-18.284544 40.90538667-40.910848-0.15947093-22.62084267-18.44401493-40.90538667-41.0648576-40.90538666zM908.38903467 75.087872H744.4758528c-22.61538133 0-40.89992533 18.284544-40.89992533 40.90538667 0 22.626304 18.284544 40.910848 40.89992533 40.910848h122.86470827v122.8865536c0 22.62084267 18.27908267 40.90538667 40.89992533 40.90538666 22.61538133 0 40.89992533-18.284544 40.89992533-40.90538666v-163.79630934c0.1540096-22.62084267-18.12507307-40.90647893-40.75137706-40.90647893z m0 628.2084352c-22.61538133 0-40.89992533 18.284544-40.89992534 40.91630933v122.88109227H744.63423147c-22.626304 0-40.89992533 18.284544-40.89992534 40.90538667 0 22.626304 18.27362133 40.910848 40.89992534 40.910848h163.9186432c22.61538133 0 40.89992533-18.284544 40.89992533-40.910848V744.21261653c-0.15837867-22.63176533-18.43746133-40.91630933-41.06376533-40.91630933z m0 0" fill="#ffffff" p-id="31730"></path></svg>',description:"F11",func:function(){e.fullScreen=!e.fullScreen}}),e.commands.register({category:"",name:"UI",icon:'<svg t="1716184158597" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7034" ><path d="M874.1 97.9H149.91a52.06 52.06 0 0 0-52 52v724.2a52.06 52.06 0 0 0 52 52H874.1a52.06 52.06 0 0 0 52-52V149.9a52.06 52.06 0 0 0-52-52z m-20 756.19H169.91V169.9H854.1z" p-id="7035" fill="#ffffff"></path><path d="M256.23 291.65h60v188a36 36 0 0 0 72 0v-188h60a36 36 0 0 0 0-72h-192a36 36 0 1 0 0 72zM576.23 291.65h192a36 36 0 0 0 0-72h-192a36 36 0 1 0 0 72zM576.23 419.65h192a36 36 0 0 0 0-72h-192a36 36 0 0 0 0 72zM576.23 547.65h192a36 36 0 0 0 0-72h-192a36 36 0 0 0 0 72zM256.23 676.13h512a36 36 0 0 0 0-72h-512a36 36 0 1 0 0 72zM256.23 804.13h512a36 36 0 0 0 0-72h-512a36 36 0 1 0 0 72z" p-id="7036" fill="#ffffff"></path></svg>',description:"UI",func:function(){e.showEditorUi=!e.showEditorUi}}),e.commands.register({category:"",name:"",icon:'<svg t="1716184236596" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1488" ><path d="M816.41472 853.92896V377.49248a76.288 76.288 0 0 0-22.35392-53.9648l-229.48864-203.88864a76.288 76.288 0 0 0-107.9296 0L227.1488 323.52768A76.31872 76.31872 0 0 0 204.8 377.49248v476.43648a76.288 76.288 0 0 0 76.31872 76.31872h458.97728a76.3136 76.3136 0 0 0 76.31872-76.31872z m-76.31872 25.44128H281.11872a25.44128 25.44128 0 0 1-25.44128-25.44128V377.49248a25.2928 25.2928 0 0 1 7.45472-17.99168l229.48864-203.88864a25.46688 25.46688 0 0 1 35.97312 0l229.49376 203.89376a25.27232 25.27232 0 0 1 7.4496 17.98656v476.43648a25.472 25.472 0 0 1-25.44128 25.44128z m-207.0016-486.78912a31.80032 31.80032 0 1 1-44.97408 0 31.8464 31.8464 0 0 1 44.97408 0m31.47776-31.47776a76.31872 76.31872 0 1 0 0 107.9296 76.288 76.288 0 0 0 0-107.9296z" p-id="1489" fill="#ffffff"></path></svg>',description:"",func:function(){e.setProjectNameOnUi()}}),e.commands.register({category:"",name:"",icon:'<svg t="1716184330129" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8069" ><path d="M28.444444 398.222222l409.6 204.8V1024L28.444444 819.2V398.222222z m967.111112 0v420.977778L585.955556 1024v-420.977778L995.555556 398.222222zM512 0L995.555556 244.622222 512 483.555556 28.444444 244.622222 512 0z" fill="#ffffff" p-id="8070"></path></svg>',description:"",func:function(){return r(t,void 0,void 0,(function(){var t;return n(this,(function(r){switch(r.label){case 0:return[4,e.getSceneObjectType()];case 1:return t=r.sent(),e.createSceneObjectOnTree(t,t),[2]}}))}))}}),e.commands.register({category:"",name:"",icon:'<svg t="1716184429913" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11631" ><path d="M501.746542 436.897884C501.79459 436.823176 501.864135 436.757331 501.91092 436.681356 501.72631 435.800052 501.57584 435.030176 501.508824 434.481893 501.592278 435.283424 501.678261 436.090022 501.746542 436.897884L501.746542 436.897884ZM673.119276 624.28533C673.125598 624.28533 673.125598 624.277733 673.125598 624.273934 673.102838 624.262538 673.024441 624.262538 673.008003 624.237213 673.033293 624.262538 673.093987 624.262538 673.119276 624.28533L673.119276 624.28533ZM677.508196 624.83488C676.447319 624.663937 674.063823 624.974166 673.12054 624.28533 672.538892 626.296124 673.416423 627.054603 677.508196 624.83488L677.508196 624.83488ZM510.581283 65.959706C264.148021 65.959706 64.383234 266.007046 64.383234 512.786337 64.383234 759.560562 264.148021 959.616766 510.581283 959.616766 757.005692 959.616766 956.778067 759.561828 956.778067 512.786337 956.778067 266.007046 757.005692 65.959706 510.581283 65.959706L510.581283 65.959706ZM795.585453 240.506186C780.210955 240.97343 769.508615 241.002553 757.157427 249.538294 752.180536 252.983741 748.801914 257.546013 742.485966 259.320019 736.822475 260.91675 730.710104 259.517552 725.092134 261.425781 704.819141 268.315407 708.030854 311.799444 681.317996 305.231444 668.770818 302.148143 659.927226 287.298916 653.611277 277.60203 648.048944 269.071353 637.918136 262.01585 644.760099 251.338892 641.639425 252.140423 638.311382 251.227462 635.237495 251.812466 639.517671 242.403017 653.869226 243.224809 656.256515 238.41562 662.203243 226.362256 639.884363 225.10361 633.564621 223.432171 641.182957 215.301627 645.038278 226.167254 652.557986 224.322339 659.783078 222.540736 648.744393 213.010994 644.411109 211.941018 642.854566 211.554815 617.411219 218.982594 632.138317 205.784547 613.957996 194.179434 595.786525 182.578119 577.60241 170.964141 574.542431 183.876017 601.799004 191.213893 610.702026 195.763502 609.319978 201.09565 601.037803 208.858984 594.696565 206.586079 588.723284 204.441063 591.148507 194.530182 582.129156 195.525449 575.689291 210.519028 595.744798 206.136562 597.608603 215.324419 599.725299 225.793713 590.026936 221.356798 586.296796 221.175726 585.407886 221.130141 578.455917 213.923954 578.080374 219.378928 577.630227 225.857025 589.168372 223.330871 589.98268 229.873546 576.542798 230.418031 569.679341 225.559458 558.738018 218.279829 545.968296 209.793472 539.415894 210.558282 523.770803 210.558282 528.449284 208.633593 534.895471 207.206538 538.896204 204.106776 541.081181 202.413809 549.657973 194.066738 550.223184 192.202829 552.647142 184.162189 550.091681 184.772517 542.408857 179.501149 535.579541 174.822383 527.297366 166.423396 519.021514 164.768416 489.040042 158.77529 509.774561 191.876138 487.015651 196.440943 487.405102 196.461202 487.826165 196.47893 488.161246 196.47893L486.857594 196.47893C486.915759 196.475131 486.962544 196.453605 487.015651 196.440943 481.750464 196.252272 471.882663 194.969568 468.490133 197.755302 466.095257 199.712914 465.894209 207.578813 463.217359 210.426593 458.452896 215.513089 451.350457 216.528616 445.665471 220.195654 440.117047 223.779121 427.882188 232.970777 424.62369 239.207021 412.61264 262.185526 451.685537 269.318271 466.499882 276.035687 473.192638 279.070871 492.752479 283.226679 496.395371 288.297981 501.281222 295.107834 492.18474 301.493495 502.386355 306.281159 505.644854 307.805715 512.364163 308.117211 515.171251 304.957936 519.732137 299.810659 513.317561 298.649514 512.225073 292.704505 510.109641 281.260205 513.595742 285.807282 519.343949 281.555239 531.057853 272.89414 528.420202 272.363584 524.205775 258.562805 522.2484 252.139157 514.865253 234.206629 521.35949 229.46455 529.827539 223.277689 547.889002 232.817561 554.381974 233.615294 561.938352 234.542183 566.22991 245.027938 570.348236 249.316703 573.08325 252.164481 577.975424 258.206992 582.753796 257.55361 590.339256 256.512759 587.165476 249.872582 591.564513 246.809542 603.366927 238.611887 606.476221 249.747225 611.179989 260.883828 615.604315 271.344259 619.792187 275.226559 627.667207 281.936378 631.325273 285.060199 647.354758 296.206933 645.842471 303.077565 644.816998 307.705682 626.506438 314.725731 621.609207 316.27941 603.710858 321.955976 570.134543 306.98519 566.528321 335.409804 573.472703 332.820338 593.226005 316.66055 599.149973 324.320052 601.850847 327.794621 597.006723 332.855793 598.147261 336.306304 601.527147 346.652772 609.495737 343.047779 617.85125 341.376339 617.282245 341.732154 616.698068 342.042383 616.081014 342.318423 627.49777 336.443058 626.311713 337.667515 631.550345 328.137773 633.261152 325.024082 635.805234 317.488673 638.215283 315.260085 646.513896 307.615779 647.792259 312.87955 652.93353 318.777707 654.280174 320.332653 666.990466 338.660249 662.466249 337.746022 647.680987 334.776683 633.48496 335.174283 621.223549 343.270638 614.159043 347.94434 607.476404 354.248962 599.038701 357.352523 597.016839 358.092008 582.040643 359.512732 583.81088 356.956189 586.395424 353.227104 595.289594 350.759197 598.799719 346.733812 589.072274 342.722356 580.959536 351.579723 573.31591 356.758655 565.204437 360.601701 563.319136 367.762303 556.412687 374.0416 553.398229 376.779217 547.696805 377.245194 544.736718 380.847654 541.865142 384.34375 541.508566 389.84051 538.787461 393.159332 536.879399 395.482887 531.985962 394.07989 529.993182 397.58105 527.397258 402.157251 532.369092 406.404229 531.279132 409.700259 529.282559 415.689586 517.90753 420.771018 513.532518 425.083841 514.116696 424.521629 514.697081 423.941689 515.268614 423.35542 510.884752 427.962009 505.337591 431.349209 501.91345 436.68009 503.485166 444.20537 508.440562 462.153093 507.058513 466.283576 502.498892 479.869094 493.642655 458.893784 490.05034 453.475532 477.709268 434.854168 453.043561 447.315262 436.193446 448.860078 414.644617 450.83415 393.537084 478.840905 406.830292 501.573759 413.210727 512.476107 423.944678 516.69776 436.256668 514.174139 447.215692 511.927824 450.505802 496.575899 460.823747 496.296059 479.786766 495.789562 461.242282 514.903495 459.601021 521.918478 458.083675 528.416835 461.965549 529.017034 468.644396 530.627695 473.577032 531.809099 480.561877 528.514336 484.838261 531.334258 487.531548 533.115862 487.40131 542.864664 491.107424 539.790227 483.814053 545.844133 485.517272 560.199526 492.995254 565.387321 501.28628 571.147459 511.047866 565.814045 519.728344 568.024905 536.116934 572.212369 528.293756 566.773857 542.685773 558.073504 552.39931 552.210801 553.992522 559.177668 560.630907 559.205525 565.148801 559.223252 568.019112 552.69957 575.574226 554.597668 581.732117 556.152614 584.164926 560.91242 591.517728 562.00772 594.532186 562.452171 597.644008 560.8719 600.519376 561.189728 614.117317 562.702887 624.528832 571.40324 635.245081 579.271672 644.076029 585.74597 649.925394 584.434143 660.24081 587.387021 667.776957 589.538367 681.682159 600.45971 680.970272 610.048965 680.842562 611.764724 674.254756 620.387836 673.129391 624.271402 675.057684 625.608554 688.469749 622.607559 692.394615 622.325187 691.104871 623.828217 681.971719 630.254399 681.971719 626.841875 681.971719 628.591821 688.434345 632.182886 690.008589 633.298445 694.771789 617.809766 702.596231 627.776362 712.013885 631.613076 720.020408 634.878716 729.875564 635.053458 738.415688 637.090843 745.664803 638.819264 761.651297 643.720889 767.022698 649.653236 773.489116 656.793578 769.019271 668.394893 764.234577 675.49978 757.975528 684.811728 748.538908 688.393928 744.634273 699.350725 741.549005 708.034617 743.865485 716.808413 742.102836 726.435655 739.71934 739.467824 737.80875 734.899221 729.427948 742.851224 722.376087 749.548382 729.310353 748.384705 719.709353 752.653209 710.065362 756.944505 701.573288 755.668133 694.896969 766.264051 695.163769 765.598007 695.381256 764.929431 695.56713 764.232997 692.749926 768.181142 691.341324 776.266101 690.006061 778.918879 686.640084 785.688212 681.997008 789.957983 676.672391 795.595295 674.632828 797.754238 655.87465 823.417177 654.791013 821.354468 653.397585 818.673833 638.607264 824.047766 637.902963 820.223714 638.490935 823.437438 637.762609 822.359865 641.435848 824.212378 638.034467 845.302915 629.126387 848.449528 608.444975 848.662257 610.224063 858.798529 600.950555 856.776339 596.641296 862.226248 594.121238 865.408316 592.918743 874.356853 591.172531 878.478472 590.081308 881.066672 582.007768 891.438465 582.007768 893.493577 581.998917 895.38661 584.723816 898.15968 587.27422 900.820057 572.693799 903.70709 557.827612 905.721682 542.728764 906.948671 545.554819 903.382932 546.235096 900.248981 537.232183 899.819725 539.640968 893.264387 545.298136 889.525172 547.69554 883.174966 548.832285 880.179035 547.891531 878.995098 548.85378 876.02576 552.147684 865.779325 550.71885 869.645163 548.861367 861.685562 544.51038 843.03001 550.409059 837.928318 555.487107 820.847972 560.700452 803.295316 560.214901 780.542202 563.555589 761.634668 565.13995 752.587364 567.735874 733.760869 564.597499 725.208666 561.062085 715.576359 545.510564 707.990299 538.387893 701.513468 528.303871 692.312949 522.943851 682.371678 515.455753 670.999553 511.654804 665.224221 507.322784 659.556519 504.35764 653.277222 498.015137 639.849985 504.361432 647.841242 505.428632 639.917096 506.451576 632.25886 504.518225 625.41482 507.554179 617.377977 510.912569 608.492752 519.295901 602.955474 522.049881 593.995541 524.528212 586.019478 522.64291 575.99337 514.460628 573.332994 509.901006 571.842626 504.869743 575.276676 500.287361 574.523262 493.899339 573.486209 486.666661 568.709942 481.653101 564.890954 474.654347 559.551209 472.030605 550.873648 464.577912 545.809945 458.337831 541.590823 453.899596 544.115712 447.224543 542.141639 440.263723 540.087794 435.965844 531.487474 430.350402 528.794176 421.92408 524.757395 417.176055 530.552987 408.28062 529.381712 400.715391 528.390244 389.177247 519.99379 382.108948 516.821851 367.735898 510.379209 358.983347 503.267991 353.235138 488.660616 348.313882 476.133677 341.138105 470.289968 332.689023 459.857395 324.127404 449.285536 321.446761 440.277486 308.250917 437.460096 306.701961 437.123275 311.480333 448.557446 311.97347 449.474205 316.68862 458.217611 323.769563 466.203803 329.464664 474.344477 337.844203 486.335795 334.27212 488.585908 325.748434 476.990924 316.000757 463.725766 304.690215 450.536583 296.23481 436.488888 293.038269 431.179532 293.65153 427.746749 288.380021 422.705837 283.285535 417.835867 276.619332 415.462928 271.489442 410.831014 253.032205 394.209046 249.676343 372.019411 251.78166 348.324213 252.464465 340.600133 255.251322 334.422135 254.022273 326.998154 253.008181 320.832819 249.37414 315.736193 244.833484 311.19418 243.37051 308.860495 239.697271 303.11302 239.484843 302.747076 235.294442 295.77641 232.034679 288.922239 225.378593 283.205154 221.559941 279.91039 211.678233 272.210369 202.374379 265.760128 244.174704 213.552946 298.871197 172.179734 361.617205 146.49147 362.115399 149.650746 363.470894 152.80369 365.501608 155.822412 370.66058 163.484446 375.576778 162.877916 385.64689 164.998873 384.568312 176.704019 370.905884 176.796454 361.657667 175.527679 350.618983 174.009454 339.004971 170.337352 329.441904 180.025374 334.724794 183.206175 349.220496 195.591294 347.294732 182.650294 357.869363 182.119739 368.09121 181.804444 378.436974 183.070687 382.581854 183.579716 396.470618 188.247087 400.234899 186.118533 401.814202 185.224566 403.49719 177.420712 405.170063 175.019917 402.220091 175.036377 399.058956 173.54601 396.121629 173.828382 402.972442 165.044457 409.797965 171.93535 418.516377 175.974664 408.917905 181.815841 414.610478 195.815419 423.995256 184.440761 431.703369 175.087027 422.10869 168.306298 412.320551 162.85639 422.19088 150.494063 428.276698 149.378503 437.564114 163.33123 439.094103 154.725846 446.029634 158.171292 453.27875 158.806946L453.27875 156.654333C450.087268 156.731574 446.680827 154.89299 443.522222 155.224746 450.906633 143.427163 446.194014 140.731333 456.75094 136.880689 465.157032 133.815115 489.139934 136.669226 492.094963 128.753943 475.310598 132.022116 455.032548 132.803388 439.889445 140.446428 433.361068 143.741191 425.583411 154.14464 419.06262 147.382905 412.378716 140.446428 423.842257 129.292097 429.70806 125.892235L428.304516 125.892235C454.860581 120.23593 482.364988 117.19948 510.582547 117.19948 528.815976 117.19948 546.734555 118.550561 564.323112 120.956421 558.237294 124.157483 562.737487 126.318959 558.304311 129.589664 549.83879 135.825909 534.810753 141.0289 524.735582 144.969446 537.541973 144.935257 568.542596 156.994952 574.508291 139.005444 570.373526 138.369789 566.25014 137.731603 562.119169 137.09595 569.836132 131.971465 578.444536 127.824521 587.48159 124.784273 669.035089 140.963055 741.574294 182.386916 796.756337 240.513783 796.358035 240.506186 795.966053 240.496056 795.585453 240.506186L795.585453 240.506186ZM867.799693 397.386049C868.534341 395.815908 870.250206 395.298015 870.9583 394.002649 872.449091 391.278961 872.11654 389.431513 873.951263 387.094029 875.916225 384.566609 878.567785 383.947416 880.760349 381.973344 881.645466 381.178143 882.137338 380.442456 882.543229 379.692841 889.124713 398.086281 894.370933 417.103979 898.185791 436.629441 898.070725 436.769993 898.006239 436.981455 897.862091 437.099216 896.90237 437.857696 890.649644 438.788384 889.366223 438.832702 884.836949 439.007445 881.4735 435.998852 878.221324 433.166267 874.913512 430.289364 871.018994 426.439987 868.668373 422.7147 866.158432 418.7349 867.707388 414.647469 867.888205 410.101658 868.03741 406.280138 866.179927 400.830229 867.799693 397.386049L867.799693 397.386049ZM872.905559 602.25904C865.241702 595.591007 856.199591 586.6526 850.749794 578.015559 844.929511 568.806176 848.516767 559.329616 848.942888 548.783082 849.295672 539.913052 844.96871 527.291146 848.73299 519.304953 850.461498 515.659441 854.421769 514.452712 856.052915 511.465646 859.518783 505.139497 858.749995 500.863396 863.002354 495.424884 867.564505 489.583707 873.699637 488.145256 878.781478 483.565255 884.106094 478.763664 883.958152 474.973799 887.329188 468.822393 889.794873 464.3209 895.591131 456.818413 901.078862 452.894327 904.056651 472.428652 905.608137 492.434019 905.608137 512.785071 905.608137 547.996746 900.929657 582.124516 892.264352 614.641627 884.877411 612.733399 878.801708 607.401251 872.905559 602.25904L872.905559 602.25904Z" fill="#ffffff" p-id="11632"></path></svg>',description:"",func:function(){return r(t,void 0,void 0,(function(){return n(this,(function(t){return e.czmViewer.sceneSkyAtmosphereShow=!1,e.czmViewer.resolutionScale=1.5,e.czmViewer.scenePpsBloomEnabled=!0,e.baseImagery.brightness=.3,[2]}))}))}}),e.commands.register({category:"",name:"",icon:'<svg t="1716184429913" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11631" ><path d="M501.746542 436.897884C501.79459 436.823176 501.864135 436.757331 501.91092 436.681356 501.72631 435.800052 501.57584 435.030176 501.508824 434.481893 501.592278 435.283424 501.678261 436.090022 501.746542 436.897884L501.746542 436.897884ZM673.119276 624.28533C673.125598 624.28533 673.125598 624.277733 673.125598 624.273934 673.102838 624.262538 673.024441 624.262538 673.008003 624.237213 673.033293 624.262538 673.093987 624.262538 673.119276 624.28533L673.119276 624.28533ZM677.508196 624.83488C676.447319 624.663937 674.063823 624.974166 673.12054 624.28533 672.538892 626.296124 673.416423 627.054603 677.508196 624.83488L677.508196 624.83488ZM510.581283 65.959706C264.148021 65.959706 64.383234 266.007046 64.383234 512.786337 64.383234 759.560562 264.148021 959.616766 510.581283 959.616766 757.005692 959.616766 956.778067 759.561828 956.778067 512.786337 956.778067 266.007046 757.005692 65.959706 510.581283 65.959706L510.581283 65.959706ZM795.585453 240.506186C780.210955 240.97343 769.508615 241.002553 757.157427 249.538294 752.180536 252.983741 748.801914 257.546013 742.485966 259.320019 736.822475 260.91675 730.710104 259.517552 725.092134 261.425781 704.819141 268.315407 708.030854 311.799444 681.317996 305.231444 668.770818 302.148143 659.927226 287.298916 653.611277 277.60203 648.048944 269.071353 637.918136 262.01585 644.760099 251.338892 641.639425 252.140423 638.311382 251.227462 635.237495 251.812466 639.517671 242.403017 653.869226 243.224809 656.256515 238.41562 662.203243 226.362256 639.884363 225.10361 633.564621 223.432171 641.182957 215.301627 645.038278 226.167254 652.557986 224.322339 659.783078 222.540736 648.744393 213.010994 644.411109 211.941018 642.854566 211.554815 617.411219 218.982594 632.138317 205.784547 613.957996 194.179434 595.786525 182.578119 577.60241 170.964141 574.542431 183.876017 601.799004 191.213893 610.702026 195.763502 609.319978 201.09565 601.037803 208.858984 594.696565 206.586079 588.723284 204.441063 591.148507 194.530182 582.129156 195.525449 575.689291 210.519028 595.744798 206.136562 597.608603 215.324419 599.725299 225.793713 590.026936 221.356798 586.296796 221.175726 585.407886 221.130141 578.455917 213.923954 578.080374 219.378928 577.630227 225.857025 589.168372 223.330871 589.98268 229.873546 576.542798 230.418031 569.679341 225.559458 558.738018 218.279829 545.968296 209.793472 539.415894 210.558282 523.770803 210.558282 528.449284 208.633593 534.895471 207.206538 538.896204 204.106776 541.081181 202.413809 549.657973 194.066738 550.223184 192.202829 552.647142 184.162189 550.091681 184.772517 542.408857 179.501149 535.579541 174.822383 527.297366 166.423396 519.021514 164.768416 489.040042 158.77529 509.774561 191.876138 487.015651 196.440943 487.405102 196.461202 487.826165 196.47893 488.161246 196.47893L486.857594 196.47893C486.915759 196.475131 486.962544 196.453605 487.015651 196.440943 481.750464 196.252272 471.882663 194.969568 468.490133 197.755302 466.095257 199.712914 465.894209 207.578813 463.217359 210.426593 458.452896 215.513089 451.350457 216.528616 445.665471 220.195654 440.117047 223.779121 427.882188 232.970777 424.62369 239.207021 412.61264 262.185526 451.685537 269.318271 466.499882 276.035687 473.192638 279.070871 492.752479 283.226679 496.395371 288.297981 501.281222 295.107834 492.18474 301.493495 502.386355 306.281159 505.644854 307.805715 512.364163 308.117211 515.171251 304.957936 519.732137 299.810659 513.317561 298.649514 512.225073 292.704505 510.109641 281.260205 513.595742 285.807282 519.343949 281.555239 531.057853 272.89414 528.420202 272.363584 524.205775 258.562805 522.2484 252.139157 514.865253 234.206629 521.35949 229.46455 529.827539 223.277689 547.889002 232.817561 554.381974 233.615294 561.938352 234.542183 566.22991 245.027938 570.348236 249.316703 573.08325 252.164481 577.975424 258.206992 582.753796 257.55361 590.339256 256.512759 587.165476 249.872582 591.564513 246.809542 603.366927 238.611887 606.476221 249.747225 611.179989 260.883828 615.604315 271.344259 619.792187 275.226559 627.667207 281.936378 631.325273 285.060199 647.354758 296.206933 645.842471 303.077565 644.816998 307.705682 626.506438 314.725731 621.609207 316.27941 603.710858 321.955976 570.134543 306.98519 566.528321 335.409804 573.472703 332.820338 593.226005 316.66055 599.149973 324.320052 601.850847 327.794621 597.006723 332.855793 598.147261 336.306304 601.527147 346.652772 609.495737 343.047779 617.85125 341.376339 617.282245 341.732154 616.698068 342.042383 616.081014 342.318423 627.49777 336.443058 626.311713 337.667515 631.550345 328.137773 633.261152 325.024082 635.805234 317.488673 638.215283 315.260085 646.513896 307.615779 647.792259 312.87955 652.93353 318.777707 654.280174 320.332653 666.990466 338.660249 662.466249 337.746022 647.680987 334.776683 633.48496 335.174283 621.223549 343.270638 614.159043 347.94434 607.476404 354.248962 599.038701 357.352523 597.016839 358.092008 582.040643 359.512732 583.81088 356.956189 586.395424 353.227104 595.289594 350.759197 598.799719 346.733812 589.072274 342.722356 580.959536 351.579723 573.31591 356.758655 565.204437 360.601701 563.319136 367.762303 556.412687 374.0416 553.398229 376.779217 547.696805 377.245194 544.736718 380.847654 541.865142 384.34375 541.508566 389.84051 538.787461 393.159332 536.879399 395.482887 531.985962 394.07989 529.993182 397.58105 527.397258 402.157251 532.369092 406.404229 531.279132 409.700259 529.282559 415.689586 517.90753 420.771018 513.532518 425.083841 514.116696 424.521629 514.697081 423.941689 515.268614 423.35542 510.884752 427.962009 505.337591 431.349209 501.91345 436.68009 503.485166 444.20537 508.440562 462.153093 507.058513 466.283576 502.498892 479.869094 493.642655 458.893784 490.05034 453.475532 477.709268 434.854168 453.043561 447.315262 436.193446 448.860078 414.644617 450.83415 393.537084 478.840905 406.830292 501.573759 413.210727 512.476107 423.944678 516.69776 436.256668 514.174139 447.215692 511.927824 450.505802 496.575899 460.823747 496.296059 479.786766 495.789562 461.242282 514.903495 459.601021 521.918478 458.083675 528.416835 461.965549 529.017034 468.644396 530.627695 473.577032 531.809099 480.561877 528.514336 484.838261 531.334258 487.531548 533.115862 487.40131 542.864664 491.107424 539.790227 483.814053 545.844133 485.517272 560.199526 492.995254 565.387321 501.28628 571.147459 511.047866 565.814045 519.728344 568.024905 536.116934 572.212369 528.293756 566.773857 542.685773 558.073504 552.39931 552.210801 553.992522 559.177668 560.630907 559.205525 565.148801 559.223252 568.019112 552.69957 575.574226 554.597668 581.732117 556.152614 584.164926 560.91242 591.517728 562.00772 594.532186 562.452171 597.644008 560.8719 600.519376 561.189728 614.117317 562.702887 624.528832 571.40324 635.245081 579.271672 644.076029 585.74597 649.925394 584.434143 660.24081 587.387021 667.776957 589.538367 681.682159 600.45971 680.970272 610.048965 680.842562 611.764724 674.254756 620.387836 673.129391 624.271402 675.057684 625.608554 688.469749 622.607559 692.394615 622.325187 691.104871 623.828217 681.971719 630.254399 681.971719 626.841875 681.971719 628.591821 688.434345 632.182886 690.008589 633.298445 694.771789 617.809766 702.596231 627.776362 712.013885 631.613076 720.020408 634.878716 729.875564 635.053458 738.415688 637.090843 745.664803 638.819264 761.651297 643.720889 767.022698 649.653236 773.489116 656.793578 769.019271 668.394893 764.234577 675.49978 757.975528 684.811728 748.538908 688.393928 744.634273 699.350725 741.549005 708.034617 743.865485 716.808413 742.102836 726.435655 739.71934 739.467824 737.80875 734.899221 729.427948 742.851224 722.376087 749.548382 729.310353 748.384705 719.709353 752.653209 710.065362 756.944505 701.573288 755.668133 694.896969 766.264051 695.163769 765.598007 695.381256 764.929431 695.56713 764.232997 692.749926 768.181142 691.341324 776.266101 690.006061 778.918879 686.640084 785.688212 681.997008 789.957983 676.672391 795.595295 674.632828 797.754238 655.87465 823.417177 654.791013 821.354468 653.397585 818.673833 638.607264 824.047766 637.902963 820.223714 638.490935 823.437438 637.762609 822.359865 641.435848 824.212378 638.034467 845.302915 629.126387 848.449528 608.444975 848.662257 610.224063 858.798529 600.950555 856.776339 596.641296 862.226248 594.121238 865.408316 592.918743 874.356853 591.172531 878.478472 590.081308 881.066672 582.007768 891.438465 582.007768 893.493577 581.998917 895.38661 584.723816 898.15968 587.27422 900.820057 572.693799 903.70709 557.827612 905.721682 542.728764 906.948671 545.554819 903.382932 546.235096 900.248981 537.232183 899.819725 539.640968 893.264387 545.298136 889.525172 547.69554 883.174966 548.832285 880.179035 547.891531 878.995098 548.85378 876.02576 552.147684 865.779325 550.71885 869.645163 548.861367 861.685562 544.51038 843.03001 550.409059 837.928318 555.487107 820.847972 560.700452 803.295316 560.214901 780.542202 563.555589 761.634668 565.13995 752.587364 567.735874 733.760869 564.597499 725.208666 561.062085 715.576359 545.510564 707.990299 538.387893 701.513468 528.303871 692.312949 522.943851 682.371678 515.455753 670.999553 511.654804 665.224221 507.322784 659.556519 504.35764 653.277222 498.015137 639.849985 504.361432 647.841242 505.428632 639.917096 506.451576 632.25886 504.518225 625.41482 507.554179 617.377977 510.912569 608.492752 519.295901 602.955474 522.049881 593.995541 524.528212 586.019478 522.64291 575.99337 514.460628 573.332994 509.901006 571.842626 504.869743 575.276676 500.287361 574.523262 493.899339 573.486209 486.666661 568.709942 481.653101 564.890954 474.654347 559.551209 472.030605 550.873648 464.577912 545.809945 458.337831 541.590823 453.899596 544.115712 447.224543 542.141639 440.263723 540.087794 435.965844 531.487474 430.350402 528.794176 421.92408 524.757395 417.176055 530.552987 408.28062 529.381712 400.715391 528.390244 389.177247 519.99379 382.108948 516.821851 367.735898 510.379209 358.983347 503.267991 353.235138 488.660616 348.313882 476.133677 341.138105 470.289968 332.689023 459.857395 324.127404 449.285536 321.446761 440.277486 308.250917 437.460096 306.701961 437.123275 311.480333 448.557446 311.97347 449.474205 316.68862 458.217611 323.769563 466.203803 329.464664 474.344477 337.844203 486.335795 334.27212 488.585908 325.748434 476.990924 316.000757 463.725766 304.690215 450.536583 296.23481 436.488888 293.038269 431.179532 293.65153 427.746749 288.380021 422.705837 283.285535 417.835867 276.619332 415.462928 271.489442 410.831014 253.032205 394.209046 249.676343 372.019411 251.78166 348.324213 252.464465 340.600133 255.251322 334.422135 254.022273 326.998154 253.008181 320.832819 249.37414 315.736193 244.833484 311.19418 243.37051 308.860495 239.697271 303.11302 239.484843 302.747076 235.294442 295.77641 232.034679 288.922239 225.378593 283.205154 221.559941 279.91039 211.678233 272.210369 202.374379 265.760128 244.174704 213.552946 298.871197 172.179734 361.617205 146.49147 362.115399 149.650746 363.470894 152.80369 365.501608 155.822412 370.66058 163.484446 375.576778 162.877916 385.64689 164.998873 384.568312 176.704019 370.905884 176.796454 361.657667 175.527679 350.618983 174.009454 339.004971 170.337352 329.441904 180.025374 334.724794 183.206175 349.220496 195.591294 347.294732 182.650294 357.869363 182.119739 368.09121 181.804444 378.436974 183.070687 382.581854 183.579716 396.470618 188.247087 400.234899 186.118533 401.814202 185.224566 403.49719 177.420712 405.170063 175.019917 402.220091 175.036377 399.058956 173.54601 396.121629 173.828382 402.972442 165.044457 409.797965 171.93535 418.516377 175.974664 408.917905 181.815841 414.610478 195.815419 423.995256 184.440761 431.703369 175.087027 422.10869 168.306298 412.320551 162.85639 422.19088 150.494063 428.276698 149.378503 437.564114 163.33123 439.094103 154.725846 446.029634 158.171292 453.27875 158.806946L453.27875 156.654333C450.087268 156.731574 446.680827 154.89299 443.522222 155.224746 450.906633 143.427163 446.194014 140.731333 456.75094 136.880689 465.157032 133.815115 489.139934 136.669226 492.094963 128.753943 475.310598 132.022116 455.032548 132.803388 439.889445 140.446428 433.361068 143.741191 425.583411 154.14464 419.06262 147.382905 412.378716 140.446428 423.842257 129.292097 429.70806 125.892235L428.304516 125.892235C454.860581 120.23593 482.364988 117.19948 510.582547 117.19948 528.815976 117.19948 546.734555 118.550561 564.323112 120.956421 558.237294 124.157483 562.737487 126.318959 558.304311 129.589664 549.83879 135.825909 534.810753 141.0289 524.735582 144.969446 537.541973 144.935257 568.542596 156.994952 574.508291 139.005444 570.373526 138.369789 566.25014 137.731603 562.119169 137.09595 569.836132 131.971465 578.444536 127.824521 587.48159 124.784273 669.035089 140.963055 741.574294 182.386916 796.756337 240.513783 796.358035 240.506186 795.966053 240.496056 795.585453 240.506186L795.585453 240.506186ZM867.799693 397.386049C868.534341 395.815908 870.250206 395.298015 870.9583 394.002649 872.449091 391.278961 872.11654 389.431513 873.951263 387.094029 875.916225 384.566609 878.567785 383.947416 880.760349 381.973344 881.645466 381.178143 882.137338 380.442456 882.543229 379.692841 889.124713 398.086281 894.370933 417.103979 898.185791 436.629441 898.070725 436.769993 898.006239 436.981455 897.862091 437.099216 896.90237 437.857696 890.649644 438.788384 889.366223 438.832702 884.836949 439.007445 881.4735 435.998852 878.221324 433.166267 874.913512 430.289364 871.018994 426.439987 868.668373 422.7147 866.158432 418.7349 867.707388 414.647469 867.888205 410.101658 868.03741 406.280138 866.179927 400.830229 867.799693 397.386049L867.799693 397.386049ZM872.905559 602.25904C865.241702 595.591007 856.199591 586.6526 850.749794 578.015559 844.929511 568.806176 848.516767 559.329616 848.942888 548.783082 849.295672 539.913052 844.96871 527.291146 848.73299 519.304953 850.461498 515.659441 854.421769 514.452712 856.052915 511.465646 859.518783 505.139497 858.749995 500.863396 863.002354 495.424884 867.564505 489.583707 873.699637 488.145256 878.781478 483.565255 884.106094 478.763664 883.958152 474.973799 887.329188 468.822393 889.794873 464.3209 895.591131 456.818413 901.078862 452.894327 904.056651 472.428652 905.608137 492.434019 905.608137 512.785071 905.608137 547.996746 900.929657 582.124516 892.264352 614.641627 884.877411 612.733399 878.801708 607.401251 872.905559 602.25904L872.905559 602.25904Z" fill="#ffffff" p-id="11632"></path></svg>',description:"",func:function(){return r(t,void 0,void 0,(function(){return n(this,(function(t){return e.czmViewer.sceneSkyAtmosphereShow=!0,e.czmViewer.resolutionScale=1,e.czmViewer.scenePpsBloomEnabled=!1,e.baseImagery.brightness=1,[2]}))}))}}),e.commands.register({category:"",name:"",icon:'<svg t="1716184481710" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14824" ><path d="M794.46030183 184.82590522c-32.17211931-32.17211931-76.34062211-51.80256501-124.87144618-51.802565h-123.78086585v-19.63044569c0-38.71560122-21.26631616-74.70475164-55.07430596-93.78990717l-32.17211931-17.99457521c-16.35870474-9.26993269-37.07973073-3.27174094-46.34966345 13.0869638s-3.27174094 37.07973073 13.08696379 46.34966343l32.17211934 17.9945752c12.54167363 7.08877205 20.17573584 20.17573584 20.17573584 34.35327995v19.63044569H354.41114435c-46.89495358 0-88.88229574 17.99457522-120.50912491 47.44024374-34.35327995 32.17211931-56.16488628 77.97649259-56.16488627 128.68847728v324.99293414c0 97.06164811 43.07792249 184.30807339 111.23919222 243.19941046 56.16488628 48.53082406 129.77905758 77.97649259 209.93671082 77.97649259h25.62863742c99.78809892 0 189.21568481-45.80437327 248.10702187-117.23738397 45.80437327-55.61959612 73.06888117-126.50731665 73.06888118-203.93851908V309.6973514c0.54529015-49.07611421-19.08515553-93.24461701-51.25727485-124.87144618z m-241.56353999 257.92224472c0 22.35689648-17.99457522 40.89676184-40.89676184 40.89676186s-40.89676184-17.99457522-40.89676184-40.89676186V315.15025297c0-22.35689648 17.99457522-40.89676184 40.89676184-40.89676184s40.89676184 17.99457522 40.89676184 40.89676184v127.59789697z" fill="#ffffff" p-id="14825"></path></svg>',description:"",func:function(){return r(t,void 0,void 0,(function(){return n(this,(function(t){return e.czmViewer.sceneSsccZoomFactor=2,[2]}))}))}})}},27160:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerFileCommands=void 0,t.registerFileCommands=function(e){e.commands.register({category:"",name:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}}),e.commands.register({category:"",name:"",description:"",icon:'<svg t="1716183780486" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33135" ><path d="M914.181742 251.621027L672.174208 10.295205A34.085568 34.085568 0 0 0 645.587465 0.069535H134.303944a34.085568 34.085568 0 0 0-34.085569 34.085568v954.395906a34.085568 34.085568 0 0 0 34.085569 34.085568h755.336188a34.085568 34.085568 0 0 0 34.085569-34.085568V272.754079a34.085568 34.085568 0 0 0-9.543959-21.133052z m-92.712746 3.408557H666.720517V100.962816zM168.389512 954.465441V68.240671h430.159869v220.874481a34.085568 34.085568 0 0 0 34.085568 34.085568h222.919615V954.465441z" fill="#ffffff" p-id="33136"></path><path d="M713.758601 545.438624H548.10274V379.782763a34.085568 34.085568 0 0 0-68.171136 0V545.438624H304.731784a34.085568 34.085568 0 0 0-34.085568 34.085568 33.403857 33.403857 0 0 0 4.771979 16.361073 34.085568 34.085568 0 0 0 31.358723 21.133052h170.427841v170.42784a34.085568 34.085568 0 1 0 68.171136 0V618.38174h170.42784a34.085568 34.085568 0 0 0 34.085568-34.085568 33.403857 33.403857 0 0 0-4.771979-16.361073A34.085568 34.085568 0 0 0 713.758601 545.438624z" fill="#ffffff" p-id="33137"></path></svg>',func:function(){e.setDefaultScene()}}),e.commands.register({category:"",name:"",description:"",icon:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574" ><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openLocalScene()}}),e.commands.register({category:"",name:"",description:"",icon:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574" ><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebScene()}}),e.commands.register({category:"",name:"",description:"",icon:'<svg t="1716183926664" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1883"><path d="M819.823 83.694H206.991c-67.703 0-122.588 54.885-122.588 122.588v612.833c0 67.703 54.885 122.588 122.588 122.588h612.833c67.703 0 122.588-54.885 122.588-122.588V206.282c-0.001-67.703-54.885-122.588-122.589-122.588z m-124.435 63.313v241.142H331.772V147.007h363.616z m185.787 672.274c0.027 33.765-27.323 61.158-61.088 61.185H207.133c-16.389 0-31.864-6.297-43.454-17.887s-18.039-26.91-18.039-43.298v-612.94c0.061-33.923 27.57-61.395 61.493-61.41h61.327v245.294c-0.05 33.771 27.286 61.187 61.057 61.237h367.888c33.853 0 61.299-27.387 61.299-61.237V144.931h61.206c33.872 0.036 61.301 27.524 61.265 61.396V819.281z" fill="#ffffff" p-id="1884"></path><path d="M574.817 329.936c17.483 0 31.656-14.173 31.656-31.656v-61.292c0-17.483-14.173-31.656-31.656-31.656s-31.656 14.173-31.656 31.656v61.292c0 17.483 14.173 31.656 31.656 31.656z" fill="#ffffff" p-id="1885"></path></svg>',func:function(){e.fileLoader.saveLocalScene()}}),e.commands.register({category:"",name:"",description:"..",icon:'<svg t="1716183976165" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2971" ><path d="M495.5 224.4v-40c0-19.9 16.1-36 36-36s36 16.1 36 36v40c0 19.9-16.1 36-36 36s-36-16.1-36-36z" fill="#ffffff" p-id="2972"></path><path d="M847.3 177.5v-1.2c0-61.7-50.1-111.8-111.9-111.8H175.9C114 64.5 64 114.5 64 176.4v559c0 61.7 50.1 111.8 111.9 111.8v1.1C175.8 910 226 960 287.8 960h559.6c61.8 0 111.9-50.1 111.9-111.8v-559c0-61.7-50.1-111.7-112-111.7z m-239.3-41v90.3c0 24.9-22.7 45.1-50.8 45.1H354c-28.1 0-50.8-20.2-50.8-45.1v-90.3H608zM188.5 775.9c-29.5 0-53.4-23.9-53.4-53.4V189c0-29.4 23.9-53.3 53.4-53.3v0.1h43.3v96.5c0 61.7 50.1 111.8 111.9 111.8h223.7c61.8 0 111.9-50.1 111.9-111.8v-96.5h43.3c29.5 0 53.4 23.8 53.4 53.3v533.4c0 29.5-23.9 53.4-53.4 53.4H188.5zM888 835.5c0 29.5-23.9 53.4-53.4 53.4H300.5c-25.5 0-46.8-17.9-52.1-41.8h487c61.8 0 111.9-50.1 111.9-111.8v-485C870.7 256 888 277 888 302v533.5z" fill="#ffffff" p-id="2973"></path></svg>',func:function(){e.fileLoader.saveLocalSceneAs()}}),e.commands.register({category:"",name:"Cesium",description:"Cesium",icon:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574" ><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',func:function(){e.cesiumCodeCreator.saveCzmHtmlCode()}}),e.commands.register({category:"",name:"WEB",description:"",icon:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574" ><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',func:function(){window.open(e.config.helps.uris.misc.WEB)}})}},27532:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerFileObjecs=void 0,t.registerFileObjecs=function(e){var t,o;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"M3t",description:"M3t",icon:"${my3dtiles-assets-script-dir}/assets/images/my3dtiles.png",func:function(){e.fileLoader.openLocalM3tObj()}},{name:"M3t",description:"M3t",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebM3tObj()}},{name:"JSON",description:"JSON",icon:'<svg t="1715851078843" class="icon" viewBox="0 0 1155 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="46273" ><path d="M892.522903 906.310114V117.684111a39.844178 39.844178 0 0 0-41.461043-41.576534H124.627422a44.637029 44.637029 0 0 0-41.576534 41.576534v788.626003a39.901923 39.901923 0 0 0 41.576534 41.576534h726.434438c13.801099 6.929422 41.461043-20.730522 41.461043-41.576534z m69.294223 0a116.58753 116.58753 0 0 1-117.569198 117.569199H117.698A112.487622 112.487622 0 0 1 0.128801 906.310114V117.684111A116.529785 116.529785 0 0 1 117.698 0.114913h726.434438a112.545367 112.545367 0 0 1 117.569198 117.569198v788.626003z m0-428.93124V325.162564h-69.294223v152.21631z m0 69.294223h-69.294223v145.286887h69.294223V546.673097z" fill="#ffffff" p-id="46274"></path><path d="M224.642084 655.926988h393.764422c19.922089 1.039413 19.922089 73.913838 0 75.068742H224.642084a37.534371 37.534371 0 1 1 0-75.068742z m0-375.343707H430.907888a37.534371 37.534371 0 0 1 0 75.068741H224.642084a37.534371 37.534371 0 0 1 0-75.068741z m0 187.498618h299.87075a37.534371 37.534371 0 0 1 0 75.068741h-300.274966a37.534371 37.534371 0 0 1 0-75.068741z" fill="#ffffff" p-id="46275"></path><path d="M809.31209 366.739098a33.434463 33.434463 0 0 0 0-48.448211 41.923005 41.923005 0 0 0-55.377633 0l-152.21631 152.21631a42.558202 42.558202 0 0 0-6.929422 41.576534c0 6.929422 6.929422 6.929422 6.929422 13.801099l6.987168 6.929422 152.100819 152.21631a41.923005 41.923005 0 0 0 55.377634 0 33.434463 33.434463 0 0 0 0-48.448211l-89.909255-89.909254h394.341874a34.647112 34.647112 0 1 0 0-69.294223h-408.200718l96.954167-110.755267z" fill="#ffffff" p-id="46276"></path></svg>',func:function(){e.importJsonStr="{}"}},{name:"3dtiles",description:"3dtiles",icon:'<svg t="1715851505356" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="75464"><path d="M5.688889 523.377778L113.777778 512c5.688889 28.444444 11.377778 51.2 28.444444 62.577778 17.066667 17.066667 34.133333 22.755556 56.888889 22.755555s39.822222-11.377778 56.888889-28.444444 22.755556-39.822222 22.755556-68.266667-5.688889-51.2-22.755556-68.266666-34.133333-22.755556-56.888889-22.755556c-17.066667 0-34.133333 0-51.2 5.688889l11.377778-91.022222c28.444444 0 51.2-5.688889 68.266667-17.066667 17.066667-11.377778 22.755556-34.133333 22.755555-56.888889 0-17.066667-5.688889-34.133333-17.066667-45.511111s-22.755556-17.066667-39.822222-17.066667c-22.755556 0-34.133333 5.688889-51.2 17.066667s-22.755556 34.133333-22.755555 56.888889L17.066667 244.622222c5.688889-34.133333 17.066667-62.577778 34.133333-85.333333 11.377778-17.066667 34.133333-34.133333 56.888889-45.511111s56.888889-17.066667 85.333333-17.066667c56.888889 0 96.711111 17.066667 130.844445 51.2 28.444444 28.444444 39.822222 62.577778 39.822222 96.711111 5.688889 51.2-22.755556 91.022222-79.644445 119.466667 34.133333 11.377778 56.888889 28.444444 79.644445 51.2s28.444444 56.888889 28.444444 91.022222c0 51.2-17.066667 96.711111-56.888889 130.844445s-85.333333 51.2-136.533333 51.2-96.711111-17.066667-130.844444-45.511112-56.888889-68.266667-62.577778-119.466666zM694.044444 597.333333l79.644445-34.133333 79.644444 34.133333-73.955555-39.822222-85.333334 39.822222z" p-id="75465" fill="#ffffff"></path><path d="M494.933333 631.466667l79.644445-39.822223h-39.822222V204.8h51.2c45.511111 0 79.644444 0 96.711111 5.688889 22.755556 5.688889 39.822222 11.377778 56.888889 28.444444s22.755556 34.133333 34.133333 56.888889c5.688889 22.755556 11.377778 56.888889 11.377778 102.4 0 39.822222-5.688889 73.955556-11.377778 96.711111l102.4 51.2c0-5.688889 5.688889-11.377778 11.377778-17.066666 11.377778-34.133333 22.755556-79.644444 22.755555-125.155556 0-56.888889-5.688889-102.4-17.066666-136.533333-11.377778-39.822222-28.444444-68.266667-56.888889-96.711111s-51.2-45.511111-85.333334-51.2c-22.755556-5.688889-62.577778-11.377778-108.088889-11.377778H420.977778v580.266667h73.955555v-56.888889z" p-id="75466" fill="#ffffff"></path><path d="M551.822222 665.6v22.755556h5.688889v-17.066667l34.133333 17.066667h28.444445l-62.577778-28.444445z" p-id="75467" fill="#ffffff"></path><path d="M1018.311111 893.155556l-250.311111 125.155555-250.311111-125.155555v-250.311112l256-119.466666 244.622222 119.466666v250.311112z m-221.866667 39.822222l170.666667-73.955556v-159.288889l-170.666667 79.644445v153.6z m-221.866666-85.333334l164.977778 85.333334v-153.6l-159.288889-68.266667-5.688889 136.533333z m193.422222-256l-147.911111 62.577778 147.911111 62.577778 147.911111-62.577778-147.911111-62.577778z" p-id="75468" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openLocal3dtiles()}},{name:"3dtiles",description:"3dtiles",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWeb3dtiles()}},{name:"geojson",description:"geojson",icon:'<svg t="1715908111212" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="76542"><path d="M0.064 24.128v303.616c0 13.376 10.816 24.192 24.128 24.256h15.68c13.44 0 24.256-10.88 24.256-24.256V216.128A24.128 24.128 0 0 1 88.256 192H935.68c13.44 0 24.256 10.88 24.256 24.192v111.616c0 13.376 10.752 24.192 24.128 24.256h15.68c13.312-0.064 24.128-10.88 24.128-24.256V24.128A24.128 24.128 0 0 0 999.808 0H24.064a24.128 24.128 0 0 0-24 24.128z m64.128 79.68v-15.616A24.064 24.064 0 0 1 88.32 64h847.488a24.128 24.128 0 0 1 24.256 24.192v15.616c0 13.376-10.88 24.192-24.256 24.192H88.32a24.128 24.128 0 0 1-24.192-24.192z m-24.32 696.064c13.312 0 24.128 10.816 24.128 24.128v111.616a24.128 24.128 0 0 0 24.192 24.192H935.68a24.192 24.192 0 0 0 24.32-24.192v-111.616a24.128 24.128 0 0 1 24.192-24.128h15.68c13.312 0 24.128 10.816 24.128 24.128v175.616a24.128 24.128 0 0 1-24.128 24.192H24.128A24.128 24.128 0 0 1 0 999.616v-175.616c0-13.312 10.816-24.128 24.128-24.128zM244.48 600.704v154.816c0 45.952-24.192 83.648-76.736 83.648-36.48 0-60.416-14.08-77.44-43.072l38.4-28.608c8.192 16 20.16 23.232 31.488 23.232 18.24 0 27.968-9.088 27.968-39.616v-150.4h56.32z m121.024-4.352c27.072 0 55.68 10.368 76.16 30.784l-28.032 35.2c-15.36-11.584-29.888-17.92-48.128-17.92-17.28 0-27.968 6.976-27.968 19.52 0 12.928 14.72 17.92 35.52 26.112l29.248 11.648c28.992 11.648 46.272 31.168 46.272 64.192 0 39.04-32.704 73.28-89.344 73.28-30.528 0-63.232-11.328-87.488-33.664l31.808-38.656c16.64 14.144 38.4 23.872 56.96 23.872 20.736 0 30.464-7.808 30.464-20.48 0-13.44-12.864-17.92-33.024-26.368l-29.888-12.608c-24.512-9.728-47.488-30.144-47.488-64.128 0-39.36 35.2-70.784 84.928-70.784z m208.192 0c63.808 0 107.264 43.712 107.264 120.128 0 76.8-43.456 122.688-107.264 122.688-63.872 0-107.328-45.888-107.328-122.688 0-76.736 43.456-120.128 107.328-120.128z m197.44 4.352l58.24 112 22.912 51.904h1.6c-3.2-24.832-7.552-58.496-7.552-86.464v-77.44h53.44v234.112h-57.216l-57.92-112.96-22.976-51.264h-1.536c2.56 26.112 7.232 58.24 7.232 86.464v77.76h-53.504V600.704h57.28z m-197.44 43.776c-30.848 0-49.728 26.752-49.728 72 0 45.632 18.88 74.24 49.728 74.24 30.784 0 49.984-28.608 49.984-74.24 0-45.248-19.2-72-49.984-72zM320.832 301.184c32.768 0 56.192 13.824 71.488 29.12l-28.544 34.304c-10.816-9.92-22.528-17.472-41.152-17.472-33.088 0-56.832 25.856-56.832 69.44 0 44.48 19.84 70.336 61.312 70.336a38.08 38.08 0 0 0 21.376-5.76v-36.032H312.96V401.28h83.2v104.576c-15.616 14.976-43.264 27.328-74.496 27.328-62.208 0-110.912-39.04-110.912-114.816 0-74.496 50.176-117.184 110.016-117.184z m382.08 0c60.992 0 102.4 41.792 102.4 114.816 0 73.28-41.408 117.12-102.4 117.12-61.056 0-102.528-43.84-102.528-117.12 0-73.344 41.472-114.816 102.464-114.816z m-129.792 4.224v44.48H485.12v41.472h74.816v45.056h-74.88v47.488h91.392v45.056H431.36V305.408h141.824z m129.728 41.728c-29.44 0-47.488 25.6-47.488 68.864 0 43.52 18.048 70.912 47.488 70.912s47.808-27.392 47.808-70.912c0-43.328-18.304-68.864-47.808-68.864z" p-id="76543" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openLocalGeoJson()}},{name:"geojson",description:"geojson",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebGeoJson()}},{name:"kml",description:"kml",icon:'<svg t="1715908373521" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77666" ><path d="M28.501333 51.2v286.776889c0 12.629333 10.24 22.869333 22.812445 22.869333h14.791111c12.629333 0 22.869333-10.24 22.869333-22.869333V232.561778a22.755556 22.755556 0 0 1 22.755556-22.869334h800.483555c12.629333 0 22.869333 10.24 22.869334 22.869334v105.415111c0 12.629333 10.24 22.869333 22.755555 22.869333h14.848c12.629333 0 22.755556-10.24 22.755556-22.869333V51.256889a22.755556 22.755556 0 0 0-22.755556-22.812445H51.2A22.755556 22.755556 0 0 0 28.444444 51.2z m60.529778 75.320889v-14.791111a22.755556 22.755556 0 0 1 22.812445-22.812445h800.426666a22.755556 22.755556 0 0 1 22.869334 22.755556v14.791111c0 12.629333-10.24 22.869333-22.869334 22.869333H111.843556a22.755556 22.755556 0 0 1-22.869334-22.812444h0.056889z m-22.983111 657.351111c12.572444 0 22.812444 10.24 22.869333 22.755556v105.472a22.755556 22.755556 0 0 0 22.755556 22.869333h800.426667a22.869333 22.869333 0 0 0 23.04-22.869333V806.684444a22.755556 22.755556 0 0 1 22.812444-22.755555h14.791111a22.755556 22.755556 0 0 1 22.812445 22.755555v165.888a22.755556 22.755556 0 0 1-22.755556 22.755556H51.2a22.755556 22.755556 0 0 1-22.755556-22.755556V806.684444a22.755556 22.755556 0 0 1 22.755556-22.755555zM261.12 457.159111V557.511111h1.024l72.021333-100.352H401.066667L324.266667 558.876444 415.402667 711.111111H348.501333l-59.733333-104.106667-27.648 37.546667v66.56H200.021333V457.159111H261.12z m235.064889 0l40.277333 109.568c5.12 14.677333 9.216 30.72 13.994667 46.421333h1.706667c5.12-15.701333 9.216-31.744 13.994666-46.421333l38.912-109.568H671.288889V711.111111h-55.637333v-87.04c0-25.258667 4.778667-63.146667 7.850666-88.064h-1.365333l-21.162667 60.757333-34.133333 92.842667h-33.450667L498.915556 596.764444l-20.48-60.757333h-1.365334c3.072 24.917333 7.850667 62.805333 7.850667 88.064v87.04h-54.613333V457.159111h65.877333z m283.192889 0V659.911111h98.645333v51.2h-159.744V457.159111H779.377778z" p-id="77667" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openLocalKml()}},{name:"kml",description:"kml",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebKml()}},{name:"czml",description:"czml",icon:'<svg t="1715908513949" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="78796" ><path d="M0.064 24.128v303.616c0 13.376 10.816 24.192 24.128 24.256h15.68c13.44 0 24.256-10.88 24.256-24.256V216.128A24.128 24.128 0 0 1 88.256 192H935.68c13.44 0 24.256 10.88 24.256 24.192v111.616c0 13.376 10.752 24.192 24.128 24.256h15.68c13.312-0.064 24.128-10.88 24.128-24.256V24.128A24.128 24.128 0 0 0 999.808 0H24.064a24.128 24.128 0 0 0-24 24.128z m64.128 79.68v-15.616A24.064 24.064 0 0 1 88.32 64h847.488a24.128 24.128 0 0 1 24.256 24.192v15.616c0 13.376-10.88 24.192-24.256 24.192H88.32a24.128 24.128 0 0 1-24.192-24.192z m-24.32 696.064c13.312 0 24.128 10.816 24.128 24.128v111.616a24.128 24.128 0 0 0 24.192 24.192H935.68a24.192 24.192 0 0 0 24.32-24.192v-111.616a24.128 24.128 0 0 1 24.192-24.128h15.68c13.312 0 24.128 10.816 24.128 24.128v175.616a24.128 24.128 0 0 1-24.128 24.192H24.128A24.128 24.128 0 0 1 0 999.616v-175.616c0-13.312 10.816-24.128 24.128-24.128z m178.752-350.976c35.072 0 63.296 16.256 81.728 35.008l-33.984 41.216c-13.44-12.288-27.52-20.928-46.656-20.928-34.688 0-63.232 31.04-63.232 83.456 0 53.504 24.576 84.608 62.528 84.608 21.312 0 38.656-10.88 51.328-24.576l33.92 40.448a111.872 111.872 0 0 1-87.744 39.744c-68.352 0-126.144-46.976-126.144-138.048 0-89.6 59.968-140.928 128.256-140.928z m696.128-14.848v224.448c0 13.376 6.464 17.344 11.52 17.344 2.176 0 3.648 0 7.232-0.704l7.616 47.36a84.096 84.096 0 0 1-31.808 5.376c-44.096 0-58.56-28.928-58.56-71.936V434.048h64z m-434.56 83.136v34.304L396.8 672.64h86.016v50.24H316.48v-34.304l83.456-121.088H325.888V517.12h154.304zM748.224 512c44.8 0 64.32 32.192 64.32 83.52v127.232h-64.32V603.584c0-28.16-7.232-36.48-23.488-36.48-9.408 0-20.608 5.76-32.896 18.368v137.344H627.2V603.584c0-28.16-7.232-36.48-23.552-36.48-9.344 0-20.544 5.76-32.832 18.368v137.344h-64V517.184h52.416l4.352 26.048h1.408c17.024-17.024 34.688-31.104 62.528-31.104 28.544 0 45.888 11.904 56.384 33.92 17.728-18.048 36.864-33.92 64.32-33.92z" p-id="78797" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openLocalCzml()}},{name:"czml",description:"czml",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebCzml()}},{name:"glb/gltf",description:"glb/gltf",icon:'<svg t="1715908720944" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="95351" ><path d="M772.608 382.976V300.544L559.104 41.984H91.136v932.864h681.472v-161.28h179.2V382.976h-179.2zM180.736 131.584h337.408L683.008 332.8v50.176H180.736V131.584z m359.424 526.848v43.008H406.016V488.96h51.2v169.984h82.944z m-242.688 3.072c7.68 0 15.872-2.048 20.48-5.632v-34.304h-33.792v-41.984H363.52v99.328c-14.848 14.336-40.96 26.112-71.168 26.112-59.392 0-105.472-37.376-105.472-109.056 0-71.168 47.616-111.616 104.448-111.616 31.232 0 53.248 13.312 68.096 27.648l-27.136 32.768c-10.24-9.216-21.504-16.384-39.424-16.384-31.232 0-54.272 24.576-54.272 66.048 0.512 42.496 19.456 67.072 58.88 67.072z m385.536 223.744H180.736v-71.68h502.272v71.68z m4.608-354.304H629.76V701.44h-51.2v-170.496h-57.344v-42.496h166.4v42.496z m168.96 0h-84.48v46.592H844.8v42.496h-72.704V701.44h-51.2V488.96h135.68v41.984z" p-id="95352" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openLocalGltf()}},{name:"glb/gltf",description:"glb/gltf",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebGltf()}},{name:"JS",description:"JS",icon:'<svg t="1715851078843" class="icon" viewBox="0 0 1155 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="46273" ><path d="M892.522903 906.310114V117.684111a39.844178 39.844178 0 0 0-41.461043-41.576534H124.627422a44.637029 44.637029 0 0 0-41.576534 41.576534v788.626003a39.901923 39.901923 0 0 0 41.576534 41.576534h726.434438c13.801099 6.929422 41.461043-20.730522 41.461043-41.576534z m69.294223 0a116.58753 116.58753 0 0 1-117.569198 117.569199H117.698A112.487622 112.487622 0 0 1 0.128801 906.310114V117.684111A116.529785 116.529785 0 0 1 117.698 0.114913h726.434438a112.545367 112.545367 0 0 1 117.569198 117.569198v788.626003z m0-428.93124V325.162564h-69.294223v152.21631z m0 69.294223h-69.294223v145.286887h69.294223V546.673097z" fill="#ffffff" p-id="46274"></path><path d="M224.642084 655.926988h393.764422c19.922089 1.039413 19.922089 73.913838 0 75.068742H224.642084a37.534371 37.534371 0 1 1 0-75.068742z m0-375.343707H430.907888a37.534371 37.534371 0 0 1 0 75.068741H224.642084a37.534371 37.534371 0 0 1 0-75.068741z m0 187.498618h299.87075a37.534371 37.534371 0 0 1 0 75.068741h-300.274966a37.534371 37.534371 0 0 1 0-75.068741z" fill="#ffffff" p-id="46275"></path><path d="M809.31209 366.739098a33.434463 33.434463 0 0 0 0-48.448211 41.923005 41.923005 0 0 0-55.377633 0l-152.21631 152.21631a42.558202 42.558202 0 0 0-6.929422 41.576534c0 6.929422 6.929422 6.929422 6.929422 13.801099l6.987168 6.929422 152.100819 152.21631a41.923005 41.923005 0 0 0 55.377634 0 33.434463 33.434463 0 0 0 0-48.448211l-89.909255-89.909254h394.341874a34.647112 34.647112 0 1 0 0-69.294223h-408.200718l96.954167-110.755267z" fill="#ffffff" p-id="46276"></path></svg>',func:function(){e.fileLoader.openLocalJs()}},{name:"JS",description:"JS",icon:'<svg t="1715850875098" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33110" ><path d="M755.851 316.833h178.396c23.895 53.16 38.215 111.397 40.613 172.866H770.17c-0.866-64.983-6.239-122.225-14.319-172.866zM677.89 72.239c102.327 39.774 186.317 115.03 238.967 210.026H750.013c-18.933-96.76-47.673-165.527-72.123-210.026zM528.467 282.262V40.965c36.799 1.614 72.486 7.432 106.641 17.002 25.928 43.56 59.33 116.32 80.43 224.297H528.467v-0.002zM301.474 697.133c-8.08-50.677-13.682-107.591-14.516-172.865h206.929v172.865H301.474z m-0.338-380.3h192.751v172.866H286.762c0.872-65.035 6.289-122.205 14.374-172.866z m86.56-259.626c34.08-9.15 69.504-15.008 106.191-16.185v241.24H306.836c21.222-108.583 54.876-181.59 80.86-225.055zM100.413 282.262c53.51-96.551 140.132-172.222 244.799-211.446-24.613 44.472-53.77 113.647-72.9 211.446H100.415zM252.18 489.699H43.133C45.44 428.27 59.253 369.89 83.1 316.833h183.412c-8.084 50.653-13.463 107.888-14.332 172.866z m14.732 207.434H84.414C60.471 643.904 45.143 585.944 42.88 524.268h209.466c0.833 65.277 6.478 122.145 14.567 172.865z m5.672 34.57c19.269 98.776 48.836 167.876 73.604 211.833-105.044-39.093-191.706-115.03-245.281-211.833h171.677z m221.304 0v241.243c-36.276-1.164-71.323-6.899-105.052-15.861-26.03-42.662-59.878-116.005-81.302-225.382h186.354z m220.951 0c-21.294 108.72-54.868 181.816-80.84 224.582-33.764 9.37-69.196 14.422-105.532 16.034V731.703h186.372zM528.467 524.268h206.928c-0.833 65.282-6.44 122.183-14.52 172.865H528.468V524.268zM735.59 489.7H528.467V316.833h192.75c8.087 50.657 13.499 107.828 14.374 172.866z m34.42 34.57h204.477c-2.285 61.626-17.5 119.61-41.323 172.864h-177.72c8.085-50.717 13.733-107.579 14.567-172.865z m146.596 207.434C864.095 827.09 779.71 902.39 676.938 942.076c24.616-44.013 53.802-112.617 72.872-210.373h166.797z" p-id="33111" fill="#ffffff"></path></svg>',func:function(){e.fileLoader.openWebJs()}},{name:"",description:"",icon:'<svg t="1715908808925" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="107121" ><path d="M1023.99936 512.00032a511.29568 511.29568 0 0 0-511.99968-511.99968 511.74368 511.74368 0 0 0-511.99968 511.99968c0 259.007838 192.76788 475.839703 445.759721 505.983684 12.031992 0 30.079981 6.015996 54.207967 6.015996h18.111988C795.135503 1017.984004 1023.99936 789.056147 1023.99936 512.00032z m-72.255955 6.015996c0-24.127985-6.015996-48.19197-12.031992-72.319955v-24.063985c6.015996 30.079981 12.031992 60.223962 12.031992 90.367944v6.015996zM72.255955 512.00032c0-30.143981 6.015996-60.287962 12.031992-90.367944 18.111989 18.047989 66.303959 18.047989 72.319955-12.095992 18.111989 12.095992 48.19197 12.095992 48.19197 36.159977 0 78.335951 0 156.607902 72.255955 162.623899 0 0 36.223977 12.095992 54.271966 60.287962 6.015996 18.047989 30.079981 0 54.207966 0 12.031992 0 0 24.063985 0 72.255955s102.335936 120.511925 102.335936 120.511925c0 30.079981 0 54.207966 6.079996 78.271951-24.127985 0-42.175974 0-60.223962 6.015996C228.863857 903.552075 72.255955 722.816188 72.255955 512.00032z m548.159657 421.631736c0-12.031992-12.031992-18.047989-30.079981-12.031992 12.031992-60.223962 24.063985-96.38394 54.207966-120.511925 42.111974-36.095977 6.015996-78.271951-30.143981-72.255955-24.063985 6.015996-12.031992-30.143981-30.079981-36.159977-24.127985 0-54.207966-48.19197-90.367944-66.239959-18.111989-6.015996-36.159977-30.143981-60.223962-30.143981-24.127985 0-60.287962 18.111989-60.287962 6.015997 0-54.207966-6.015996-90.303944-6.015997-108.415933 0-12.031992-6.015996-6.015996 24.127985-6.015996 18.047989 0 12.031992-36.159977 24.063985-36.159977 18.111989 0 60.223962 18.111989 72.255955 12.031992 12.095992-6.015996 72.319955 162.687898 72.319955 30.143981 0-18.047989-6.015996-42.175974 0-60.223962 30.143981-60.159962 66.239959-108.351932 60.223962-114.367929 0-6.079996-36.095977-6.079996-60.223962 0-6.015996 0 0 18.047989-12.031993 18.047989-48.19197 11.967993-90.367944-12.031992-72.319954-36.159977 12.031992-24.063985 66.303959-12.031992 72.319954-54.207966 0-24.063985 6.015996-54.207966 6.015997-78.335951 60.223962 12.095992 54.207966-84.287947-36.095978-90.303944 186.687883 0 349.311782 126.463921 409.599744 295.167816 0 0-6.015996-6.015996-12.095992-6.015997-30.143981-78.335951-96.38394-24.127985-72.255955 36.031978-126.463921 96.38394-90.367944 162.687898-54.207966 198.783876 24.063985 18.111989 42.111974 48.19197 54.207966 72.319954-12.095992 42.175974 54.143966 24.063985 90.367943-48.19197-42.239974 150.591906-162.623898 271.039831-313.279804 307.199808z" fill="#ffffff" p-id="107122"></path></svg>',func:function(){e.creatorUi.show=!0}},{name:"",description:"",icon:'<svg t="1715848955357" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8833" ><path d="M640 85.333333a42.666667 42.666667 0 0 1 40.490667 29.184l256 768A42.666667 42.666667 0 0 1 896 938.666667H128a42.666667 42.666667 0 0 1-39.68-58.282667l234.666667-597.333333a42.666667 42.666667 0 0 1 78.421333-2.261334l82.858667 179.498667 115.242666-345.770667A42.666667 42.666667 0 0 1 640 85.333333z m0 177.578667l-108.842667 326.570667a42.666667 42.666667 0 0 1-79.232 4.394666L365.824 407.338667 190.592 853.333333h646.229333L640 262.912z" fill="#ffffff" p-id="8834"></path><path d="M635.434667 107.178667a21.333333 21.333333 0 0 1 24.789333 14.08l256 768A21.333333 21.333333 0 0 1 896 917.333333h-170.666667a21.333333 21.333333 0 0 1-21.205333-18.986666l-85.333333-768a21.333333 21.333333 0 0 1 16.64-23.168zM355.029333 300.074667a21.333333 21.333333 0 0 1 26.581334 10.112l298.666666 576a21.333333 21.333333 0 0 1-18.944 31.146666H512a21.333333 21.333333 0 0 1-20.650667-16l-149.333333-576a21.333333 21.333333 0 0 1 13.013333-25.258666z" fill="#ffffff" p-id="8835"></path></svg>',func:function(){e.creatorUi.show=!0}},{name:"(giiiis.com)",description:"giiiis.com",keywords:["CzmGeHistoryImagery"],icon:'<svg t="1715908808925" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="107121" ><path d="M1023.99936 512.00032a511.29568 511.29568 0 0 0-511.99968-511.99968 511.74368 511.74368 0 0 0-511.99968 511.99968c0 259.007838 192.76788 475.839703 445.759721 505.983684 12.031992 0 30.079981 6.015996 54.207967 6.015996h18.111988C795.135503 1017.984004 1023.99936 789.056147 1023.99936 512.00032z m-72.255955 6.015996c0-24.127985-6.015996-48.19197-12.031992-72.319955v-24.063985c6.015996 30.079981 12.031992 60.223962 12.031992 90.367944v6.015996zM72.255955 512.00032c0-30.143981 6.015996-60.287962 12.031992-90.367944 18.111989 18.047989 66.303959 18.047989 72.319955-12.095992 18.111989 12.095992 48.19197 12.095992 48.19197 36.159977 0 78.335951 0 156.607902 72.255955 162.623899 0 0 36.223977 12.095992 54.271966 60.287962 6.015996 18.047989 30.079981 0 54.207966 0 12.031992 0 0 24.063985 0 72.255955s102.335936 120.511925 102.335936 120.511925c0 30.079981 0 54.207966 6.079996 78.271951-24.127985 0-42.175974 0-60.223962 6.015996C228.863857 903.552075 72.255955 722.816188 72.255955 512.00032z m548.159657 421.631736c0-12.031992-12.031992-18.047989-30.079981-12.031992 12.031992-60.223962 24.063985-96.38394 54.207966-120.511925 42.111974-36.095977 6.015996-78.271951-30.143981-72.255955-24.063985 6.015996-12.031992-30.143981-30.079981-36.159977-24.127985 0-54.207966-48.19197-90.367944-66.239959-18.111989-6.015996-36.159977-30.143981-60.223962-30.143981-24.127985 0-60.287962 18.111989-60.287962 6.015997 0-54.207966-6.015996-90.303944-6.015997-108.415933 0-12.031992-6.015996-6.015996 24.127985-6.015996 18.047989 0 12.031992-36.159977 24.063985-36.159977 18.111989 0 60.223962 18.111989 72.255955 12.031992 12.095992-6.015996 72.319955 162.687898 72.319955 30.143981 0-18.047989-6.015996-42.175974 0-60.223962 30.143981-60.159962 66.239959-108.351932 60.223962-114.367929 0-6.079996-36.095977-6.079996-60.223962 0-6.015996 0 0 18.047989-12.031993 18.047989-48.19197 11.967993-90.367944-12.031992-72.319954-36.159977 12.031992-24.063985 66.303959-12.031992 72.319954-54.207966 0-24.063985 6.015996-54.207966 6.015997-78.335951 60.223962 12.095992 54.207966-84.287947-36.095978-90.303944 186.687883 0 349.311782 126.463921 409.599744 295.167816 0 0-6.015996-6.015996-12.095992-6.015997-30.143981-78.335951-96.38394-24.127985-72.255955 36.031978-126.463921 96.38394-90.367944 162.687898-54.207966 198.783876 24.063985 18.111989 42.111974 48.19197 54.207966 72.319954-12.095992 42.175974 54.143966 24.063985 90.367943-48.19197-42.239974 150.591906-162.623898 271.039831-313.279804 307.199808z" fill="#ffffff" p-id="107122"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmGeHistoryImagery","(giiiis.com)")}},{name:"arcgis(giiiis.com)",description:"arcgisgiiiis.com",keywords:["CzmArcgisHistoryImagery"],icon:'<svg t="1715908808925" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="107121" ><path d="M1023.99936 512.00032a511.29568 511.29568 0 0 0-511.99968-511.99968 511.74368 511.74368 0 0 0-511.99968 511.99968c0 259.007838 192.76788 475.839703 445.759721 505.983684 12.031992 0 30.079981 6.015996 54.207967 6.015996h18.111988C795.135503 1017.984004 1023.99936 789.056147 1023.99936 512.00032z m-72.255955 6.015996c0-24.127985-6.015996-48.19197-12.031992-72.319955v-24.063985c6.015996 30.079981 12.031992 60.223962 12.031992 90.367944v6.015996zM72.255955 512.00032c0-30.143981 6.015996-60.287962 12.031992-90.367944 18.111989 18.047989 66.303959 18.047989 72.319955-12.095992 18.111989 12.095992 48.19197 12.095992 48.19197 36.159977 0 78.335951 0 156.607902 72.255955 162.623899 0 0 36.223977 12.095992 54.271966 60.287962 6.015996 18.047989 30.079981 0 54.207966 0 12.031992 0 0 24.063985 0 72.255955s102.335936 120.511925 102.335936 120.511925c0 30.079981 0 54.207966 6.079996 78.271951-24.127985 0-42.175974 0-60.223962 6.015996C228.863857 903.552075 72.255955 722.816188 72.255955 512.00032z m548.159657 421.631736c0-12.031992-12.031992-18.047989-30.079981-12.031992 12.031992-60.223962 24.063985-96.38394 54.207966-120.511925 42.111974-36.095977 6.015996-78.271951-30.143981-72.255955-24.063985 6.015996-12.031992-30.143981-30.079981-36.159977-24.127985 0-54.207966-48.19197-90.367944-66.239959-18.111989-6.015996-36.159977-30.143981-60.223962-30.143981-24.127985 0-60.287962 18.111989-60.287962 6.015997 0-54.207966-6.015996-90.303944-6.015997-108.415933 0-12.031992-6.015996-6.015996 24.127985-6.015996 18.047989 0 12.031992-36.159977 24.063985-36.159977 18.111989 0 60.223962 18.111989 72.255955 12.031992 12.095992-6.015996 72.319955 162.687898 72.319955 30.143981 0-18.047989-6.015996-42.175974 0-60.223962 30.143981-60.159962 66.239959-108.351932 60.223962-114.367929 0-6.079996-36.095977-6.079996-60.223962 0-6.015996 0 0 18.047989-12.031993 18.047989-48.19197 11.967993-90.367944-12.031992-72.319954-36.159977 12.031992-24.063985 66.303959-12.031992 72.319954-54.207966 0-24.063985 6.015996-54.207966 6.015997-78.335951 60.223962 12.095992 54.207966-84.287947-36.095978-90.303944 186.687883 0 349.311782 126.463921 409.599744 295.167816 0 0-6.015996-6.015996-12.095992-6.015997-30.143981-78.335951-96.38394-24.127985-72.255955 36.031978-126.463921 96.38394-90.367944 162.687898-54.207966 198.783876 24.063985 18.111989 42.111974 48.19197 54.207966 72.319954-12.095992 42.175974 54.143966 24.063985 90.367943-48.19197-42.239974 150.591906-162.623898 271.039831-313.279804 307.199808z" fill="#ffffff" p-id="107122"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmArcgisHistoryImagery","arcgis(giiiis.com)")}},{name:"",description:"",keywords:["MyPanorama"],icon:'<svg t="1715582921131" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9229" ><path d="M599.552 61.696a119.296 119.296 0 0 1 36.096 87.552 119.808 119.808 0 0 1-36.096 87.552 124.416 124.416 0 0 1-175.36 0 119.296 119.296 0 0 1-36.096-87.552 119.808 119.808 0 0 1 36.096-87.552 124.416 124.416 0 0 1 175.36 0z m89.088 299.776v212.224a34.56 34.56 0 0 1-10.496 25.6 34.304 34.304 0 0 1-25.6 10.496h-34.56v212.224a34.56 34.56 0 0 1-10.496 25.6 33.792 33.792 0 0 1-25.6 10.496h-140.544a34.56 34.56 0 0 1-25.6-10.496 34.048 34.048 0 0 1-10.496-25.6V609.28h-34.816a34.56 34.56 0 0 1-25.6-10.496 34.304 34.304 0 0 1-10.496-25.6v-211.712a70.656 70.656 0 0 1 70.656-70.656h212.224a70.656 70.656 0 0 1 70.656 70.656z m212.48 495.36a80.64 80.64 0 0 1-34.048 62.72 258.048 258.048 0 0 1-90.624 44.8 761.856 761.856 0 0 1-124.416 25.6A1113.6 1113.6 0 0 1 512 998.4a1113.6 1113.6 0 0 1-140.032-8.704 787.712 787.712 0 0 1-124.416-25.6 256 256 0 0 1-90.624-44.8 80.64 80.64 0 0 1-34.048-62.464 74.24 74.24 0 0 1 18.176-48.896 140.6 140.6 0 0 1 51.2-36.608 476.16 476.16 0 0 1 65.28-25.6 628.48 628.48 0 0 1 72.448-16.384 35.328 35.328 0 1 1 12.288 69.632 598.528 598.528 0 0 0-58.624 13.056 370.944 370.944 0 0 0-42.24 14.08 242.944 242.944 0 0 0-25.6 13.056 66.048 66.048 0 0 0-15.104 10.752 17.664 17.664 0 0 0-4.608 6.656c0 4.096 6.144 8.96 14.848 14.592a207.616 207.616 0 0 0 40.448 18.176 580.352 580.352 0 0 0 62.976 17.92 753.664 753.664 0 0 0 88.576 13.824 1049.6 1049.6 0 0 0 111.36 5.632 1049.6 1049.6 0 0 0 109.056-5.12 745.216 745.216 0 0 0 88.576-13.824 558.848 558.848 0 0 0 62.976-18.176 213.248 213.248 0 0 0 40.448-19.2c8.96-5.632 13.824-10.752 14.848-15.104a15.872 15.872 0 0 0-4.608-6.144 97.792 97.792 0 0 0-15.104-10.496 192.512 192.512 0 0 0-25.6-13.056c-10.496-4.096-25.6-8.96-42.24-13.824a598.528 598.528 0 0 0-58.624-13.056 35.328 35.328 0 1 1 12.288-69.632 634.624 634.624 0 0 1 72.448 16.384 441.856 441.856 0 0 1 65.28 25.6 143.616 143.616 0 0 1 51.2 36.608 74.24 74.24 0 0 1 15.872 49.152z" p-id="9230" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("MyPanorama","")}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},20325:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerImageModels=void 0;var o=[{name:"CameraBlue",icon:"CameraBlue"},{name:"CameraGreen",icon:"CameraGreen"},{name:"CarBlue",icon:"CarBlue"},{name:"CarRed",icon:"CarRed"},{name:"Dukou",icon:"Dukou"},{name:"Jiexian",icon:"Jiexian"},{name:"Jingshi",icon:"Jingshi"},{name:"LiaodouBlue",icon:"LiaodouBlue"},{name:"LiaodouRed",icon:"LiaodouRed"},{name:"LongmendiaoBlue",icon:"LongmendiaoBlue"},{name:"LongmendiaoRed",icon:"LongmendiaoRed"},{name:"Mao",icon:"Mao"},{name:"MenjiBlue",icon:"MenjiBlue"},{name:"MenjiRed",icon:"MenjiRed"},{name:"Mingdi",icon:"Mingdi"},{name:"Qixiang",icon:"Qixiang"},{name:"RenyuanBlue",icon:"RenyuanBlue"},{name:"RenyuanCircleBlue",icon:"RenyuanCircleBlue"},{name:"RenyuanCircleRed",icon:"RenyuanCircleRed"},{name:"RenyuanRed",icon:"RenyuanRed"},{name:"text_box_b",icon:"text_box_b"},{name:"text_box_g",icon:"text_box_g"}].map((function(e){return{name:e.name,path:"${my3dtiles-assets-script-dir}/assets/images/canvasImagePoi/"+e.icon+".png"}}));t.registerImageModels=function(e){var t,i;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var a=o.map((function(t){return{name:t.name,keywords:["CzmImageModel"],description:t.name,icon:t.path,func:function(){e.createSceneObjectOnTree("CzmImageModel",t.name).uri=t.path}}}));try{for(var s=n(a),c=s.next();!c.done;c=s.next()){var l=c.value;e.commands.register(r(r({},l),{category:""}))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}},28137:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerMeasurements=void 0,t.registerMeasurements=function(e){var t,o;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"",keywords:["GeoDistanceMeasurement"],description:"",icon:'<svg t="1716185776786" class="icon" viewBox="0 0 1040 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="67180" ><path d="M0.845206 778.890159a23.015619 23.015619 0 0 0 27.696762 27.761778l192.121905-53.117969-166.635683-166.310603-53.313015 191.666794z m709.453207-764.456635a57.344 57.344 0 0 0-78.539175 2.340571l-80.944762 80.81473 161.824508 161.694477 80.879746-80.749715a55.198476 55.198476 0 0 0 2.275556-78.60419l-85.495873-85.430857z m-600.876699 514.99073l157.208381 166.375619 399.782603-390.095238-161.759492-161.95454-395.296508 385.674159z" fill="#ffffff" p-id="67181"></path><path d="M0 926.47619m48.761905 0l942.730158 0q48.761905 0 48.761905 48.761905l0 0q0 48.761905-48.761905 48.761905l-942.730158 0q-48.761905 0-48.761905-48.761905l0 0q0-48.761905 48.761905-48.761905Z" fill="#ffffff" p-id="67182"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoDistanceMeasurement",this.name)}},{name:"",keywords:["GeoAreaMeasurement"],description:"",icon:'<svg t="1716185807135" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="68254" ><path d="M948.48 441.93l-80.13-80.12a20.6 20.6 0 0 0-8.73-5.2h-0.08c-0.61-0.17-1.22-0.32-1.84-0.44-0.2 0-0.41-0.06-0.61-0.09-0.45-0.07-0.89-0.15-1.34-0.19a18.43 18.43 0 0 0-2-0.1 20.53 20.53 0 0 0-14.57 6l-15.82 15.84-26.56 26.59 67.2 67.16 40 40 2.06 2 2.08-2.07 40-40 0.32-0.31a20.62 20.62 0 0 0 0.02-29.07zM807.39 471.38l-38.83-38.83-4.33 4.34L423.92 777.6a41.1 41.1 0 0 0-10.48 17.85l-25.1 106.63a17.13 17.13 0 0 0 16.72 20.16 16.93 16.93 0 0 0 3.14-0.3l106.63-25.09a41.16 41.16 0 0 0 17.85-10.49l340.71-340.31 4.34-4.33-30.34-30.34zM304.2 478h99.56V296.16q1-72.83 58.17-73.88 55-2.09 53.44 70.74V478h99V275.73q-0.52-130-106.9-130.48-74.94 0.52-111.08 60.26-26.22-60.25-95.37-60.26-72.31 0.52-107.42 58.69v-50.31h-99V478h99V297.21q2.09-71.79 56.07-74.93 56.05-1.58 54.49 68.12zM755.92 233.14H681q16-18.14 40.68-34.6 38.27-22.89 34.79-52.36-3.48-43.21-53.1-45-54.55 0-63.52 47.6l32.22 6.77q4.75-27.47 26.36-26.91 21.42 0.38 22 20.69 2.93 13.92-34.78 41.56a199.9 199.9 0 0 0-46 49.24v22.16h116.27z" fill="#ffffff" p-id="68255"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoAreaMeasurement",this.name)}},{name:"",keywords:["GeoDirectionMeasurement"],description:"",icon:'<svg t="1716185856287" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="70470" ><path d="M94.794979 227.722176H18.958996v75.835983h75.835983z m0-113.753975H18.958996v75.835983h75.835983z m0-113.968201H18.958996v76.050209h75.835983z m0 341.476151H18.958996v75.835983h75.835983z m0 113.753975H18.958996v75.835983h75.835983z m0 227.507949H18.958996v75.621758h75.835983z m0-113.753975H18.958996v75.835984h75.835983z m835.481172 303.343933a74.550628 74.550628 0 0 0-64.267783 37.917992H395.996653a339.333891 339.333891 0 0 0-105.399163-210.369874l326.480334-435.521339a29.991632 29.991632 0 0 0 8.783264 1.285355 75.835983 75.835983 0 1 0-75.835983-75.835983 77.764017 77.764017 0 0 0 5.998326 29.777406L94.794979 834.410042v-37.917992H18.958996v75.835983h46.701255L38.025105 910.246025H18.958996v75.835983h845.121339a74.979079 74.979079 0 0 0 64.267782 37.917992 75.835983 75.835983 0 0 0 0-151.671967zM132.927197 910.246025l112.040167-149.958159a260.284519 260.284519 0 0 1 74.336402 149.958159z m0 0" p-id="70471" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoDirectionMeasurement",this.name)}},{name:"",keywords:["GeoVolumeMeasurement"],description:"",icon:'<svg t="1716185880166" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="71609" ><path d="M453.213091 908.008727l329.588364-190.277818V332.8l-329.541819 181.899636v393.309091z m-52.363636 0v-393.309091L71.307636 332.8v384.884364l329.541819 190.277818zM101.282909 289.605818l325.771636 179.712 325.771637-179.712-325.818182-188.090182-325.725091 188.043637z m338.850909-241.012363l381.952 220.532363c8.098909 4.654545 13.079273 13.312 13.079273 22.667637v441.018181a26.158545 26.158545 0 0 1-13.079273 22.714182l-381.952 220.485818c-8.098909 4.654545-18.059636 4.654545-26.158545 0L31.976727 755.525818a26.158545 26.158545 0 0 1-13.032727-22.714182V291.84c0-9.355636 4.933818-18.013091 13.032727-22.667636l381.998546-220.532364c8.098909-4.654545 18.059636-4.654545 26.158545 0z m530.059637 22.667636v890.181818h39.237818v52.363636h-135.261091v-52.363636h43.659636V71.261091h-43.659636V18.897455h135.307636v52.363636h-39.284363z" fill="#ffffff" p-id="71610"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoVolumeMeasurement",this.name)}},{name:"",keywords:["GeoLocationMeasurement"],description:"",icon:'<svg t="1716185899708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="72737" ><path d="M41.344 928.426667c-9.386667 0-18.389333-4.266667-24.533333-12.8a32.981333 32.981333 0 0 1 6.144-44.8l299.818666-235.093334c19.2-14.933333 46.165333-14.08 64.128 2.56l236.544 216.32 337.792-289.706666a30.08 30.08 0 0 1 43.306667 4.266666c10.624 13.653333 8.96 33.706667-4.096 45.226667l-344.32 295.253333c-19.2 16.64-46.976 16.213333-66.176-1.28l-236.928-216.32L59.733333 922.026667a29.312 29.312 0 0 1-18.389333 6.4z" p-id="72738" fill="#ffffff"></path><path d="M608 699.733333c-13.226667 0-26.026667-4.693333-36.266667-14.506666-66.133333-62.293333-219.733333-219.306667-219.733333-333.653334 0-141.226667 114.773333-256 256-256s256 114.773333 256 256c0 114.346667-153.6 271.36-219.733333 333.653334-10.24 9.386667-23.04 14.506667-36.266667 14.506666z m0-540.16c-105.813333 0-192 86.186667-192 192 0 70.826667 101.546667 193.28 192 279.893334 90.453333-86.613333 192-209.066667 192-279.893334 0-105.813333-86.186667-192-192-192z" p-id="72739" fill="#ffffff"></path><path d="M608 479.573333c-70.4 0-128-57.6-128-128s57.6-128 128-128 128 57.6 128 128-57.6 128-128 128z m0-192c-35.413333 0-64 28.586667-64 64s28.586667 64 64 64 64-28.586667 64-64-28.586667-64-64-64z" p-id="72740" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoLocationMeasurement",this.name)}},{name:"",keywords:["GeoHeightMeasurement"],description:"",icon:'<svg t="1716185930299" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="74632" ><path d="M819.198 910.218H204.799c-50.267 0-91.022-40.75-91.022-91.02V204.822c0-50.29 40.755-91.045 91.022-91.045h614.398c50.27 0 91.02 40.755 91.02 91.045v614.376c0.001 50.27-40.749 91.02-91.019 91.02z m22.755-682.664c0-25.122-20.385-45.51-45.51-45.51H227.554c-25.122 0-45.51 20.387-45.51 45.51v568.889c0 25.125 20.387 45.535 45.51 45.535h568.889c25.125 0 45.51-20.39 45.51-45.535V227.554zM603.268 400.952l-57.14-57.115v335.802l55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5V343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265-13.315 13.334-34.93 13.334-48.245 0z" fill="#ffffff" p-id="74633"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoHeightMeasurement",this.name)}},{name:"",keywords:["CzmSlope"],description:"",icon:'<svg t="1716185930299" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="74632" ><path d="M819.198 910.218H204.799c-50.267 0-91.022-40.75-91.022-91.02V204.822c0-50.29 40.755-91.045 91.022-91.045h614.398c50.27 0 91.02 40.755 91.02 91.045v614.376c0.001 50.27-40.749 91.02-91.019 91.02z m22.755-682.664c0-25.122-20.385-45.51-45.51-45.51H227.554c-25.122 0-45.51 20.387-45.51 45.51v568.889c0 25.125 20.387 45.535 45.51 45.535h568.889c25.125 0 45.51-20.39 45.51-45.535V227.554zM603.268 400.952l-57.14-57.115v335.802l55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5V343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265-13.315 13.334-34.93 13.334-48.245 0z" fill="#ffffff" p-id="74633"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmSlope",this.name)}},{name:"",keywords:["XbsjVisibilityAnalysis"],description:"",icon:'<svg t="1716185930299" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="74632" ><path d="M819.198 910.218H204.799c-50.267 0-91.022-40.75-91.022-91.02V204.822c0-50.29 40.755-91.045 91.022-91.045h614.398c50.27 0 91.02 40.755 91.02 91.045v614.376c0.001 50.27-40.749 91.02-91.019 91.02z m22.755-682.664c0-25.122-20.385-45.51-45.51-45.51H227.554c-25.122 0-45.51 20.387-45.51 45.51v568.889c0 25.125 20.387 45.535 45.51 45.535h568.889c25.125 0 45.51-20.39 45.51-45.535V227.554zM603.268 400.952l-57.14-57.115v335.802l55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5V343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265-13.315 13.334-34.93 13.334-48.245 0z" fill="#ffffff" p-id="74633"></path></svg>',func:function(){e.createSceneObjectOnTree("XbsjVisibilityAnalysis",this.name)}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},3790:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerMiscObjects=void 0,t.registerMiscObjects=function(e){var t,o;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"",keywords:["Player"],description:"",icon:'<svg t="1716443985654" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2463" ><path d="M473.6 576c4.608 2.56 9.728 4.096 15.36 4.096s10.24-1.536 15.36-4.096l78.336-45.568c9.216-5.632 15.36-15.36 15.36-26.112 0-10.752-5.632-20.992-15.36-26.112l-78.336-45.568c-9.216-5.632-20.992-5.632-30.208 0-9.216 5.632-15.36 15.36-15.36 26.112v90.624c0 10.752 5.632 20.992 14.848 26.624z m26.112-98.816l46.592 26.624-46.592 26.624v-53.248z" fill="#ffffff" p-id="2464"></path><path d="M819.712 112.128h-615.936c-44.544 0-80.384 36.352-80.384 80.384V808.96c0 44.544 36.352 80.384 80.384 80.384H819.712c44.544 0 80.384-36.352 80.384-80.384V193.024c0-44.544-36.352-80.896-80.384-80.896zM174.08 193.024c0-16.384 13.312-29.184 29.184-29.184H819.712c1.024 0 2.56 0 3.584 0.512H793.088l-79.36 79.36H655.36L735.232 163.84h-49.664l-79.36 79.36h-64.512l79.36-79.36h-49.664L491.52 243.2h-56.832l79.36-79.36h-49.664l-79.36 79.36h-55.808l79.36-79.36h-49.664l-79.36 79.36h-55.808l79.36-79.36h-49.664l-79.36 79.36v-50.176zM848.896 808.96c0 16.384-13.312 29.184-29.184 29.184h-615.936c-16.384 0-29.184-13.312-29.184-29.184V284.16H848.896V808.96z m0-565.76H763.392l73.728-73.728c7.168 5.12 11.776 13.824 11.776 23.552v50.176z" fill="#ffffff" p-id="2465"></path></svg>',func:function(){e.createSceneObjectOnTree("Player",this.name)}},{name:"",keywords:["MyPlayerUI"],description:"MyPlayerUI",icon:'<svg t="1716443985654" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2463" ><path d="M473.6 576c4.608 2.56 9.728 4.096 15.36 4.096s10.24-1.536 15.36-4.096l78.336-45.568c9.216-5.632 15.36-15.36 15.36-26.112 0-10.752-5.632-20.992-15.36-26.112l-78.336-45.568c-9.216-5.632-20.992-5.632-30.208 0-9.216 5.632-15.36 15.36-15.36 26.112v90.624c0 10.752 5.632 20.992 14.848 26.624z m26.112-98.816l46.592 26.624-46.592 26.624v-53.248z" fill="#ffffff" p-id="2464"></path><path d="M819.712 112.128h-615.936c-44.544 0-80.384 36.352-80.384 80.384V808.96c0 44.544 36.352 80.384 80.384 80.384H819.712c44.544 0 80.384-36.352 80.384-80.384V193.024c0-44.544-36.352-80.896-80.384-80.896zM174.08 193.024c0-16.384 13.312-29.184 29.184-29.184H819.712c1.024 0 2.56 0 3.584 0.512H793.088l-79.36 79.36H655.36L735.232 163.84h-49.664l-79.36 79.36h-64.512l79.36-79.36h-49.664L491.52 243.2h-56.832l79.36-79.36h-49.664l-79.36 79.36h-55.808l79.36-79.36h-49.664l-79.36 79.36h-55.808l79.36-79.36h-49.664l-79.36 79.36v-50.176zM848.896 808.96c0 16.384-13.312 29.184-29.184 29.184h-615.936c-16.384 0-29.184-13.312-29.184-29.184V284.16H848.896V808.96z m0-565.76H763.392l73.728-73.728c7.168 5.12 11.776 13.824 11.776 23.552v50.176z" fill="#ffffff" p-id="2465"></path></svg>',func:function(){e.createSceneObjectOnTree("MyPlayerUI",this.name)}},{name:"CzmClippingPlanes",keywords:["CzmClippingPlanes"],description:"3dtiles",icon:'<svg t="1716444094648" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3454" ><path d="M929.61792 846.08h-83.52256v83.51744c0 15.3856-12.45184 27.84256-27.84256 27.84256s-27.84256-12.46208-27.84256-27.84256V846.08H177.90976V233.6H94.3872a27.8528 27.8528 0 0 1 0-55.68512h83.52256V94.40256A27.83232 27.83232 0 0 1 205.75232 66.56a27.83744 27.83744 0 0 1 27.84256 27.84256V177.92h441.6l-51.2512 55.68h-390.3488v516.20864L840.4992 116.31104l39.36768 39.36256-608.0768 634.7264h518.62528V372.80256l55.68-55.68v473.28256h83.52256a27.84256 27.84256 0 1 1 0 55.67488z" fill="#ffffff" p-id="3455"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmClippingPlanes",this.name)}},{name:"CzmPlane",keywords:["CzmPlane"],description:"CzmClippingPlanes",icon:'<svg t="1716444165889" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6357" ><path d="M898.327273 93.090909H125.672727C81.454545 93.090909 46.545455 125.672727 46.545455 165.236364v693.527272C46.545455 898.327273 81.454545 930.909091 125.672727 930.909091h772.654546c44.218182 0 79.127273-32.581818 79.127272-72.145455V162.909091c0-37.236364-34.909091-69.818182-79.127272-69.818182zM128 148.945455h772.654545c13.963636 0 23.272727 9.309091 23.272728 16.290909v144.290909H104.727273V162.909091c-2.327273-6.981818 9.309091-13.963636 23.272727-13.963636zM102.4 858.763636V363.054545h188.509091v512H125.672727c-11.636364 0-23.272727-9.309091-23.272727-16.290909z m795.927273 16.290909H349.090909v-512h574.836364v495.709091c-2.327273 6.981818-11.636364 16.290909-25.6 16.290909z" p-id="6358" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmPlane",this.name)}},{name:"CzmFlattenedPlane",keywords:["CzmFlattenedPlane"],description:"3dtiles",icon:'<svg t="1716444203581" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8294" ><path d="M98.4 819.7h829.7v119.7H98.4z" fill="#ffffff" p-id="8295"></path><path d="M928 959.6H98.4c-11.1 0-20.1-9-20.1-20.1V819.7c0-11.1 9-20.1 20.1-20.1H928c11.1 0 20.1 9 20.1 20.1v119.7c0.1 11.1-8.9 20.2-20.1 20.2z m-809.5-40.3h789.4v-79.4H118.5v79.4zM512.1 752.1c-5.6 0-10.9-2.3-14.7-6.4L199.9 427.9c-5.5-5.9-7-14.4-3.8-21.8s10.4-12.1 18.5-12.1h174.6V84.4c0-11.1 9-20.1 20.1-20.1h207.5c11.1 0 20.1 9 20.1 20.1V394h172.4c8 0 15.3 4.8 18.5 12.1 3.2 7.4 1.7 15.9-3.8 21.8L526.8 745.7c-3.8 4.1-9.2 6.4-14.7 6.4z m-251-317.8l251 268.1 251-268.1H616.9c-11.1 0-20.1-9-20.1-20.1V104.5H429.6v309.6c0 11.1-9 20.1-20.1 20.1H261.1z" fill="#ffffff" p-id="8296"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmFlattenedPlane",this.name)}},{name:"CzmPolygonFlattenedPlane",keywords:["CzmPolygonFlattenedPlane"],description:"3dtiles",icon:'<svg t="1716444203581" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8294" ><path d="M98.4 819.7h829.7v119.7H98.4z" fill="#ffffff" p-id="8295"></path><path d="M928 959.6H98.4c-11.1 0-20.1-9-20.1-20.1V819.7c0-11.1 9-20.1 20.1-20.1H928c11.1 0 20.1 9 20.1 20.1v119.7c0.1 11.1-8.9 20.2-20.1 20.2z m-809.5-40.3h789.4v-79.4H118.5v79.4zM512.1 752.1c-5.6 0-10.9-2.3-14.7-6.4L199.9 427.9c-5.5-5.9-7-14.4-3.8-21.8s10.4-12.1 18.5-12.1h174.6V84.4c0-11.1 9-20.1 20.1-20.1h207.5c11.1 0 20.1 9 20.1 20.1V394h172.4c8 0 15.3 4.8 18.5 12.1 3.2 7.4 1.7 15.9-3.8 21.8L526.8 745.7c-3.8 4.1-9.2 6.4-14.7 6.4z m-251-317.8l251 268.1 251-268.1H616.9c-11.1 0-20.1-9-20.1-20.1V104.5H429.6v309.6c0 11.1-9 20.1-20.1 20.1H261.1z" fill="#ffffff" p-id="8296"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmPolygonFlattenedPlane",this.name)}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},59130:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerPOI=void 0;var o=[{name:"",icon:"dingwei"},{name:"",icon:"ren"},{name:"",icon:"car"},{name:"",icon:"lou"},{name:"",icon:"fly"},{name:"",icon:"shu"},{name:"",icon:"jinggao"},{name:"",icon:"shexiangtou"},{name:"",icon:"xinhao"},{name:"",icon:"laji"},{name:"CameraBlue",icon:"CameraBlue"},{name:"CameraGreen",icon:"CameraGreen"},{name:"CarBlue",icon:"CarBlue"},{name:"CarRed",icon:"CarRed"},{name:"Dukou",icon:"Dukou"},{name:"Jiexian",icon:"Jiexian"},{name:"Jingshi",icon:"Jingshi"},{name:"LiaodouBlue",icon:"LiaodouBlue"},{name:"LiaodouRed",icon:"LiaodouRed"},{name:"LongmendiaoBlue",icon:"LongmendiaoBlue"},{name:"LongmendiaoRed",icon:"LongmendiaoRed"},{name:"Mao",icon:"Mao"},{name:"MenjiBlue",icon:"MenjiBlue"},{name:"MenjiRed",icon:"MenjiRed"},{name:"Mingdi",icon:"Mingdi"},{name:"Qixiang",icon:"Qixiang"},{name:"RenyuanBlue",icon:"RenyuanBlue"},{name:"RenyuanCircleBlue",icon:"RenyuanCircleBlue"},{name:"RenyuanCircleRed",icon:"RenyuanCircleRed"},{name:"RenyuanRed",icon:"RenyuanRed"},{name:"text_box_b",icon:"text_box_b"},{name:"text_box_g",icon:"text_box_g"}].map((function(e){return{name:e.name,iconPath:"${my3dtiles-assets-script-dir}/assets/images/canvasImagePoi/"+e.icon+".png"}}));t.registerPOI=function(e){var t,i;e.commands.register({category:"POI",name:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.CanvasPoi)}});var a=o.map((function(t){return{name:t.name,keywords:["GeoCanvasImagePoi"],description:t.name,icon:t.iconPath,func:function(){var r=e.createSceneObjectOnTree("GeoCanvasImagePoi",t.name);r.imageUri=t.iconPath,r.size=[45,45]}}}));try{for(var s=n(a),c=s.next();!c.done;c=s.next()){var l=c.value;e.commands.register(r(r({},l),{category:"POI"}))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}},86094:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerPaths=void 0,t.registerPaths=function(e){var t,o;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"",keywords:["GeoPolylinePath"],description:"",icon:'<svg t="1716188115702" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="108441" ><path d="M913.76 137.216L534.784 512l378.976 374.784L839.68 960 386.656 512 839.712 64l74.048 73.216z m-304.96 0L225.536 512 604.48 886.784 530.432 960 81.76 512 534.784 64l74.048 73.216z" fill="#ffffff" p-id="108442"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPolylinePath",this.name)}},{name:"",keywords:["GeoBezierPath"],description:"",icon:'<svg t="1716188234549" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="127830" ><path d="M729.6 454.4C796.8 176 403.2 57.6 403.2 57.6H316.8s288 99.2 192 348.8C409.6 656 0 966.4 0 966.4h358.4s304-230.4 371.2-512zM534.4 57.6H448s387.2 118.4 323.2 419.2c-60.8 281.6-310.4 489.6-310.4 489.6H832s192-163.2 192-467.2C1024 198.4 534.4 57.6 534.4 57.6z" fill="#ffffff" p-id="127831"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoBezierPath",this.name)}},{name:"",keywords:["GeoPath"],description:"",icon:'<svg t="1716188310058" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="133308" ><path d="M480 128h64v128h-64zM480 320h64v128h-64zM480 576h64v128h-64zM480 768h64v128h-64zM832 544l64 416h64l-64-416zM889.6 480l-64-416h-64l64 416z" fill="#ffffff" p-id="133309"></path><path d="M198.4 480l64-416h-64l-64 416zM128 544L64 960h64l64-416z" fill="#ffffff" p-id="133310"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPath",this.name)}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},59453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0,t["createCommand_"]=function(e){return{name:"",keywords:["MyLabel"],description:"",icon:'<svg t="1716187873881" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="106280" ><path d="M1020.928353 527.024211a39.408053 39.408053 0 0 0 3.056594-15.047455c0-5.247922-1.095664-10.342246-3.056594-15.124255a38.445507 38.445507 0 0 0-8.463234-12.620612l-162.542218-162.547338c-15.277852-15.282972-40.042923-15.282972-55.407814 0-15.277852 15.359771-15.277852 40.129962 0 55.412934l95.691374 95.691374h-339.031109V133.665592l95.691374 95.691375a39.044538 39.044538 0 0 0 27.668068 11.443029c10.029931 0 20.059861-3.839943 27.739747-11.443029 15.282972-15.359771 15.282972-40.124842 0-55.407815L539.655524 11.396694c-1.802213-1.879012-4.075459-2.739159-6.189988-4.147138-2.114528-1.413099-3.99354-3.215312-6.425504-4.234177a39.459252 39.459252 0 0 0-30.171711 0c-2.431964 1.018865-4.234177 2.815958-6.425504 4.229057-2.03773 1.413099-4.310976 2.273246-6.195107 4.152258L321.710611 173.949152c-15.282972 15.282972-15.282972 40.048043 0 55.407815a39.208376 39.208376 0 0 0 55.407815 0l95.691374-95.691375V472.788859H133.778692l95.609455-95.691374c15.359771-15.282972 15.359771-40.053163 0-55.412934-15.282972-15.282972-40.048043-15.282972-55.407815 0L11.525153 484.231889A37.273045 37.273045 0 0 0 3.051679 496.852501 38.368708 38.368708 0 0 0 0.000205 511.976756a37.989834 37.989834 0 0 0 3.056594 15.052575 37.58536 37.58536 0 0 0 8.463234 12.697411l162.460299 162.465419a39.029178 39.029178 0 0 0 27.744867 11.44303c10.03505 0 20.064981-3.763144 27.662948-11.44303 15.359771-15.282972 15.359771-40.124842 0-55.407814L133.783811 551.164652h339.031109v339.051588l-95.691374-95.619695a39.065018 39.065018 0 0 0-55.407815 0c-15.282972 15.282972-15.282972 40.048043 0 55.412934l162.4603 162.470539a39.438772 39.438772 0 0 0 12.851008 8.463234A37.887435 37.887435 0 0 0 511.992576 1023.999846c5.094324 0 10.188648-1.018865 14.888738-3.056594a38.629824 38.629824 0 0 0 12.851009-8.463234l162.542218-162.470539c15.282972-15.359771 15.282972-40.129962 0-55.412934-15.359771-15.359771-40.124842-15.359771-55.407815 0l-95.691374 95.619695v-339.051588h339.031109l-95.691374 95.619695c-15.277852 15.282972-15.277852 40.124842 0 55.407814a39.029178 39.029178 0 0 0 27.744866 11.44303c10.03505 0 20.064981-3.763144 27.662948-11.44303l162.542218-162.470539a38.773182 38.773182 0 0 0 8.463234-12.697411" fill="#ffffff" p-id="106281"></path></svg>',func:function(){e.createSceneObjectFromJsonOnTree({type:"MyLabel",name:"",text:"",width:140,height:36,borderRadius:11,backgroundColor:[0,0,0,1],borderWidth:0,layoutCssText:"\n    position: absolute;\n    left: calc(50% - 55px);\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: unset;\n    height: unset;\n    transform: translateX(-50%); \n    zIndex: 100;\n    pointerEvents: all;\n        \n    ",tauriDragRegion:!0},"")}}}},57971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0;var n=r(34026);t["createCommand_"]=function(e){return{name:"",keywords:["TempObjsCreatorTool"],description:"",icon:'<svg t="1716187517210" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="90132" ><path d="M800 960h-576a128 128 0 0 1-128-128V192a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128z m64-768a64 64 0 0 0-64-64h-576a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V192z m-576 512h448v64h-448v-64z m0-128h448v64h-448V576z m0-320h256v256h-256V256z m64 192h128V320h-128v128z" p-id="90133" fill="#ffffff"></path></svg>',func:function(){(0,n.funcTool)(e,this.name,[{text:"",title:"",normalImageUri:'<svg t="1715931130649" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="128966" ><path d="M511.089778 967.111111a455.111111 455.111111 0 1 1 0-910.222222 455.111111 455.111111 0 0 1 0 910.222222z m0-56.888889a398.222222 398.222222 0 1 0 0-796.444444 398.222222 398.222222 0 0 0 0 796.444444z m0-170.666666a227.555556 227.555556 0 1 1 0-455.111112 227.555556 227.555556 0 0 1 0 455.111112z" fill="#ffffff" p-id="128967"></path></svg>',sceneObjectType:"CzmPoint"},{text:"",title:"",normalImageUri:'<svg t="1715931578887" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143265" ><path d="M968.704 208.067048v158.573714h-67.388952l-216.746667 271.311238h30.037333v158.573714H551.984762v-158.573714h9.167238L348.501333 467.968l-153.258666 217.770667h5.558857v158.573714H38.278095v-158.573714H111.664762L293.546667 427.446857h-31.500191V268.921905h162.523429v158.622476l-17.408-0.048762 218.599619 174.713905 188.17219-235.52h-7.801904V208.067048h162.57219zM139.849143 746.691048h-40.618667v36.668952h40.618667v-36.668952z m513.755428-47.786667h-40.618666v36.668952h40.618666v-36.668952zM363.617524 329.825524h-40.618667v36.668952h40.618667v-36.668952z m544.085333-60.806095h-40.618667v36.668952h40.618667v-36.668952z" p-id="143266" fill="#ffffff"></path></svg>',sceneObjectType:"GeoPolyline"},{text:"",title:"",normalImageUri:'<svg t="1715932073160" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="145143" ><path d="M956.738805 387.876945c14.230669 0 25.907115-11.554816 25.907115-25.907115V224.16344c0-14.230669-11.554816-25.907115-25.907115-25.907115H818.810785c-14.230669 0-25.907115 11.554816-25.907115 25.907115v25.663855l-561.92897-111.534386V80.640456c0-14.230669-11.554816-25.907115-25.907115-25.907115H67.139565c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907115H134.157501L265.031001 779.646039H244.71885c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907114h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907114v-56.071268l384.471315-53.760304v27.123411c0 14.230669 11.554816 25.907115 25.907115 25.907115h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V722.844993c0-14.230669-11.554816-25.907115-25.907115-25.907114H913.80354V387.876945h42.935265z m-25.785485-137.92802v86.23542h-84.167716l-2.067704-2.067704v-84.167716h86.23542z m-666.530467 309.060934L565.942749 257.489963l101.317496 20.068892-378.997981 378.997981-23.839411-97.546977zM226.109514 402.594132l177.336026-177.336025 101.317496 20.068891L249.948925 500.262739 226.109514 402.594132zM93.04668 106.425941h86.23542v86.23542h-86.23542V106.425941z m112.020905 137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V190.958546l111.534387 22.136596L211.757216 343.847013l-24.32593-99.493052h17.636299zM302.249673 713.966029l0.851408 0.851408 425.095617-425.095617 64.706972 12.892742v43.908303L359.780496 779.646039h-41.475709l-16.055114-65.68001z m54.611712 203.60803H270.625965v-86.23542h86.23542v86.23542z m574.091935-82.70816h-86.23542v-86.23542h86.23542v86.23542zM818.810785 696.937879c-14.230669 0-25.907115 11.554816-25.907115 25.907114v58.62549l-180.255137 25.177337 249.219147-249.219147V696.937879h-43.056895z m43.178525-212.730253L527.751039 818.445896l-119.197054 16.663262v-29.677634c0-0.486519 0-0.973037-0.12163-1.337926l416.216653-416.216653h37.218672v96.330681z" p-id="145144" fill="#ffffff"></path></svg>',sceneObjectType:"GeoPolygon"},{text:"",title:"",normalImageUri:'<svg t="1715932284051" class="icon" viewBox="0 0 1068 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="171878" ><path d="M351.714578 894.813252l8.951837 4.877208c52.476284 27.719825 111.064512 42.413185 171.813528 42.413185 62.60112 0 122.856242-15.619412 176.567263-44.944394l7.408417-4.198103a8.643153 8.643153 0 0 1 11.853466 2.963367l31.732718 52.105863a11.915203 11.915203 0 0 1-4.074629 16.668938 448.641362 448.641362 0 0 1-223.487235 59.267332 448.703099 448.703099 0 0 1-210.090347-51.858916l-12.100414-6.605838-1.111262-0.679105a12.347361 12.347361 0 0 1-4.321577-17.039358l29.695404-48.772076a12.779519 12.779519 0 0 1 17.162831-4.198103M163.849481 614.404684a163.849481 163.849481 0 1 1 0 327.698961 163.849481 163.849481 0 0 1 0-327.698961z m737.260925 0a163.849481 163.849481 0 1 1 0 327.698961 163.849481 163.849481 0 0 1 0-327.698961zM163.849481 696.329424a81.92474 81.92474 0 1 0 0 163.849481 81.92474 81.92474 0 0 0 0-163.849481z m737.260925 0a81.92474 81.92474 0 1 0 0 163.849481 81.92474 81.92474 0 0 0 0-163.849481zM305.041554 198.792512l29.75714 48.89555a12.841255 12.841255 0 0 1-4.198103 17.286305 368.260042 368.260042 0 0 0-166.5659 295.904507v0.432157a12.347361 12.347361 0 0 1-12.347361 12.100414h-57.415229c-6.791049 0-12.347361-5.432839-12.16215-12.223887a450.184782 450.184782 0 0 1 206.139192-366.407938 12.038677 12.038677 0 0 1 16.792411 4.012892m468.520613-6.050207a450.184782 450.184782 0 0 1 209.287769 366.96357v1.234736a12.347361 12.347361 0 0 1-12.347361 12.470834h-57.044808c-6.791049 0-12.347361-5.618049-12.532571-12.470834a368.321779 368.321779 0 0 0-169.220583-297.756611l-0.246947-0.123474a12.347361 12.347361 0 0 1-4.136366-16.854147l29.448456-49.327708a12.038677 12.038677 0 0 1 16.792411-4.136366M532.479943 0a163.849481 163.849481 0 1 1 0 327.698961 163.849481 163.849481 0 0 1 0-327.698961z m0 81.92474a81.92474 81.92474 0 1 0 0 163.849481 81.92474 81.92474 0 0 0 0-163.849481z" p-id="171879" fill="#ffffff"></path></svg>',sceneObjectType:"GeoCircle"},{text:"",title:"",normalImageUri:'<svg t="1715932361006" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="174649" ><path d="M273.9 168.3H739v37.1H273.9zM273.9 819.6H739v37.1H273.9zM165.812 740.898v-465.1h37.1v465.1zM821.11 740.896v-465.1h37.1v465.1z" fill="#ffffff" p-id="174650"></path><path d="M184.7 66.2c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.5c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.7-37 82.7-82.7 82.7zM184.7 717.5c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.6c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.6-37 82.7-82.7 82.7zM840 717.5c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.6c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.6-37 82.7-82.7 82.7zM840 66.2c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.1-121-121-121z m-0.1 203.5c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7c0.1 45.7-37 82.7-82.7 82.7z" fill="#ffffff" p-id="174651"></path></svg>',sceneObjectType:"GeoRectangle"},{text:"",title:"",normalImageUri:'<svg t="1715932419847" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="177405" ><path d="M692.2597343921661 882.78857421875H331.711297750473v-30.689996480941772a563.3140236139297 563.3140236139297 0 0 1 48.088091611862176-14.83154296875c16.200274229049683-4.278552532196046 33.656305074691765-7.757592201232912 52.39561200141907-10.638445615768433v-630.340576171875h-136.73552870750427l-57.244107127189636 151.53810381889343H211.2339789867401c-2.1675199270248413-14.118209481239319-3.9642512798309326-30.233752727508545-5.419161915779114-48.23148250579833-1.4541864395141602-17.939794063568115-2.6809751987457275-36.30831241607666-3.7933409214019784-55.10410666465761-1.1123657226562498-18.59736442565918-1.9683659076690674-37.078857421875-2.6527315378189087-55.019375681877136C198.6264432668686 171.53063368797297 198.2563788890838 155.35860311985022 198.2563788890838 141.21142578125h627.4886906147003c0 14.147177338600159-0.3997564315795899 30.090361833572388-1.1123657226562498 47.689059376716614-0.7415771484374999 17.655909061431885-1.6547888517379765 35.852792859077454-2.766430377960205 54.56313192844391s-2.139276266098023 37.078857421875-3.251641988754273 55.10410666465761c-1.0841220617294314 17.998453974723816-2.7099430561065674 34.48406159877777-4.9064308404922485 49.28736090660096h-28.408053517341607l-56.75889551639557-151.53810381889343H592.8891206979752V826.6850764751434c18.71033906936645 3.5659432411193848 36.22285723686218 7.07395076751709 52.366644144058235 10.638445615768433 16.229242086410522 3.508731722831726 31.85957372188568 8.415162563323973 47.00469374656678 14.83154296875v30.633509159088135z" p-id="177406" fill="#ffffff"></path></svg>',sceneObjectType:"GeoDivTextPoi"},{text:"",title:"",normalImageUri:'<svg t="1715932470620" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="178577" ><path d="M867.90864 574.538232V257.779543a50.844091 50.844091 0 0 0-50.844092-50.844091h-610.129096a50.844091 50.844091 0 0 0-50.844092 50.844091v499.797418l430.141013-257.779543a152.532274 152.532274 0 0 1 157.108243 0z m0 118.466733l-177.445879-106.264151a50.844091 50.844091 0 0 0-50.844092 0L254.220457 817.064548h562.844091a50.844091 50.844091 0 0 0 50.844092-50.844091z m-660.973188-587.757696h610.129096a152.532274 152.532274 0 0 1 152.532274 152.532274v508.440914a152.532274 152.532274 0 0 1-152.532274 152.532274h-610.129096a152.532274 152.532274 0 0 1-152.532274-152.532274v-508.440914a152.532274 152.532274 0 0 1 152.532274-152.532274z m127.110228 355.90864a76.266137 76.266137 0 1 1 76.266137-76.266137 76.266137 76.266137 0 0 1-76.266137 76.266137z" fill="#ffffff" p-id="178578"></path></svg>',sceneObjectType:"MyImageModel"},{text:"",title:"canvas",normalImageUri:'<svg t="1715932519428" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="179693" ><path d="M917.333333 682.666667H896V256a85.333333 85.333333 0 0 0-85.333333-85.333333h-256V106.666667a21.333333 21.333333 0 0 0-21.333334-21.333334h-42.666666a21.333333 21.333333 0 0 0-21.333334 21.333334V170.666667H213.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v426.666667h-21.333333a21.333333 21.333333 0 0 0-21.333334 21.333333v42.666667a21.333333 21.333333 0 0 0 21.333334 21.333333h205.226666l-92.586666 132.266667a32.426667 32.426667 0 0 0-5.973334 18.346666v9.386667a10.666667 10.666667 0 0 0 10.666667 10.666667h50.346667a42.666667 42.666667 0 0 0 34.986666-18.346667L416 768h192l106.666667 152.32a42.666667 42.666667 0 0 0 34.986666 18.346667h50.346667a10.666667 10.666667 0 0 0 10.666667-10.666667v-9.386667a32.426667 32.426667 0 0 0-5.973334-18.346666L712.106667 768h205.226666a21.333333 21.333333 0 0 0 21.333334-21.333333v-42.666667a21.333333 21.333333 0 0 0-21.333334-21.333333z m-106.666666-27.306667a27.306667 27.306667 0 0 1-27.306667 27.306667 28.586667 28.586667 0 0 1-21.333333-10.24l-156.586667-194.986667a21.333333 21.333333 0 0 0-33.28 0l-97.706667 122.88a21.333333 21.333333 0 0 1-33.706666 0l-42.666667-58.026667a21.76 21.76 0 0 0-34.56 0l-95.146667 128a32 32 0 0 1-25.6 12.8 27.306667 27.306667 0 0 1-29.44-27.733333V256h597.333334zM405.333333 469.333333A64 64 0 1 0 341.333333 405.333333 64 64 0 0 0 405.333333 469.333333z" p-id="179694" fill="#ffffff"></path></svg>',sceneObjectType:"GeoCanvasImagePoi"}])}}}},71036:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0;var o=r(32192);t["createCommand_"]=function(e){return{name:"",description:"",icon:'<svg t="1716187837764" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="104265" ><path d="M610.912 543.968c-18.304 0-35.168 9.984-43.904 26.048l-103.36 190.048a49.92 49.92 0 0 0 0 47.712l103.36 190.048c8.736 16.064 25.6 26.08 43.904 26.08h201.6c18.304 0 35.168-10.048 43.904-26.08l103.392-190.016a50.016 50.016 0 0 0 0-47.776l-103.392-190.048a49.952 49.952 0 0 0-43.904-26.048h-201.6z m192.032 363.776a40.32 40.32 0 0 1-34.944 20.224h-112.544c-14.4 0-27.744-7.712-34.944-20.192l-59.776-103.648a40.224 40.224 0 0 1 0-40.352l59.776-103.648c7.2-12.48 20.544-20.16 34.944-20.16H768c14.4 0 27.744 7.68 34.944 20.192l59.776 103.648c7.2 12.48 7.2 27.808 0 40.288l-59.776 103.648zM425.28 282.048a49.984 49.984 0 0 0-43.904-26.08H179.712a49.92 49.92 0 0 0-43.904 26.08l-103.36 190.048a49.92 49.92 0 0 0 0 47.712l103.36 190.048c8.736 16.064 25.6 26.08 43.904 26.08h201.664c18.304 0 35.168-10.048 43.904-26.08l103.36-190.048a49.92 49.92 0 0 0 0-47.712l-103.36-190.048zM812.512 479.968c18.304 0 35.168-10.016 43.904-26.08l103.392-190.048a50.016 50.016 0 0 0 0-47.776L856.416 26.048A49.952 49.952 0 0 0 812.512 0h-201.6c-18.304 0-35.168 9.984-43.904 26.048l-103.36 190.048a49.92 49.92 0 0 0 0 47.712l103.36 190.08c8.736 16.064 25.6 26.08 43.904 26.08h201.6z" fill="#ffffff" p-id="104266"></path></svg>',func:function(){var t=e.xe2ProjectManager.createSceneObjectTreeItem("CircleButtonsTool",void 0,void 0,void 0);if(t){var r=t.sceneObject;if(r){r.name="",r.buttons=[{text:"",title:"",normalImageUri:'<svg t="1715582921131" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9229" ><path d="M599.552 61.696a119.296 119.296 0 0 1 36.096 87.552 119.808 119.808 0 0 1-36.096 87.552 124.416 124.416 0 0 1-175.36 0 119.296 119.296 0 0 1-36.096-87.552 119.808 119.808 0 0 1 36.096-87.552 124.416 124.416 0 0 1 175.36 0z m89.088 299.776v212.224a34.56 34.56 0 0 1-10.496 25.6 34.304 34.304 0 0 1-25.6 10.496h-34.56v212.224a34.56 34.56 0 0 1-10.496 25.6 33.792 33.792 0 0 1-25.6 10.496h-140.544a34.56 34.56 0 0 1-25.6-10.496 34.048 34.048 0 0 1-10.496-25.6V609.28h-34.816a34.56 34.56 0 0 1-25.6-10.496 34.304 34.304 0 0 1-10.496-25.6v-211.712a70.656 70.656 0 0 1 70.656-70.656h212.224a70.656 70.656 0 0 1 70.656 70.656z m212.48 495.36a80.64 80.64 0 0 1-34.048 62.72 258.048 258.048 0 0 1-90.624 44.8 761.856 761.856 0 0 1-124.416 25.6A1113.6 1113.6 0 0 1 512 998.4a1113.6 1113.6 0 0 1-140.032-8.704 787.712 787.712 0 0 1-124.416-25.6 256 256 0 0 1-90.624-44.8 80.64 80.64 0 0 1-34.048-62.464 74.24 74.24 0 0 1 18.176-48.896 140.6 140.6 0 0 1 51.2-36.608 476.16 476.16 0 0 1 65.28-25.6 628.48 628.48 0 0 1 72.448-16.384 35.328 35.328 0 1 1 12.288 69.632 598.528 598.528 0 0 0-58.624 13.056 370.944 370.944 0 0 0-42.24 14.08 242.944 242.944 0 0 0-25.6 13.056 66.048 66.048 0 0 0-15.104 10.752 17.664 17.664 0 0 0-4.608 6.656c0 4.096 6.144 8.96 14.848 14.592a207.616 207.616 0 0 0 40.448 18.176 580.352 580.352 0 0 0 62.976 17.92 753.664 753.664 0 0 0 88.576 13.824 1049.6 1049.6 0 0 0 111.36 5.632 1049.6 1049.6 0 0 0 109.056-5.12 745.216 745.216 0 0 0 88.576-13.824 558.848 558.848 0 0 0 62.976-18.176 213.248 213.248 0 0 0 40.448-19.2c8.96-5.632 13.824-10.752 14.848-15.104a15.872 15.872 0 0 0-4.608-6.144 97.792 97.792 0 0 0-15.104-10.496 192.512 192.512 0 0 0-25.6-13.056c-10.496-4.096-25.6-8.96-42.24-13.824a598.528 598.528 0 0 0-58.624-13.056 35.328 35.328 0 1 1 12.288-69.632 634.624 634.624 0 0 1 72.448 16.384 441.856 441.856 0 0 1 65.28 25.6 143.616 143.616 0 0 1 51.2 36.608 74.24 74.24 0 0 1 15.872 49.152z" p-id="9230" fill="#ffffff"></path></svg>',normalImageSize:.6,hoveredImageUri:"",hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6},{text:"",title:"",normalImageUri:'<svg t="1715582991245" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11729" ><path d="M512 47.104C253.952 47.104 47.104 253.952 47.104 512S256 978.944 512 978.944c258.048 0 466.944-208.896 466.944-466.944C978.944 253.952 770.048 47.104 512 47.104zM512 901.12C296.96 901.12 122.88 727.04 122.88 512S296.96 122.88 512 122.88s389.12 174.08 389.12 389.12-174.08 389.12-389.12 389.12z" p-id="11730" fill="#ffffff"></path><path d="M548.864 532.48V303.104c0-20.48-16.384-36.864-36.864-36.864s-36.864 16.384-36.864 36.864v243.712c0 10.24 4.096 18.432 10.24 26.624l172.032 172.032c8.192 8.192 16.384 10.24 26.624 10.24s18.432-4.096 26.624-10.24c14.336-14.336 14.336-36.864 0-53.248L548.864 532.48z" p-id="11731" fill="#ffffff"></path></svg>',normalImageSize:.6,hoveredImageUri:"",hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6},{text:"",title:"Arcgis",normalImageUri:'<svg t="1715583140862" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16534" ><path d="M923.4 339.2c-22.6-53.3-54.8-101.2-96-142.3-41.1-41.1-89-73.4-142.3-96-55.2-23.4-113.8-35.2-174.3-35.2s-119.1 11.8-174.3 35.2c-53.3 22.6-101.2 54.8-142.3 96-41.1 41.1-73.4 89-96 142.3C74.8 394.4 63 453.1 63 513.5s11.8 119.1 35.2 174.3c22.6 53.3 54.8 101.2 96 142.3 41.1 41.1 89 73.4 142.3 96 55.2 23.4 113.9 35.2 174.3 35.2 60.4 0 119.1-11.8 174.3-35.2 53.3-22.6 101.2-54.8 142.3-96 41.1-41.1 73.4-89 96-142.3 23.4-55.2 35.2-113.9 35.2-174.3 0-60.4-11.8-119.1-35.2-174.3zM510.6 880.4c-202.3 0-366.9-164.6-366.9-366.9s164.6-366.9 366.9-366.9 366.9 164.6 366.9 366.9-164.5 366.9-366.9 366.9z" p-id="16535" fill="#ffffff"></path><path d="M697.5 470.3H554.4V263.2c0-23.6-19.3-42.9-42.9-42.9-23.6 0-42.9 19.3-42.9 42.9v250c0 23.6 19.3 42.9 42.9 42.9h186c23.6 0 42.9-19.3 42.9-42.9-0.1-23.6-19.4-42.9-42.9-42.9z" p-id="16536" fill="#ffffff"></path></svg>',normalImageSize:.6,hoveredImageUri:"",hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6},{text:"",title:"",normalImageUri:'<svg t="1715584386410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="53253" ><path d="M683.22 186.94l82.05 84.26 26.52 120.61 33.82 124.34 26.72 77.83 63.85 148.72 59.26 155.75-181.02-0.01-202.51-616.27 91.31-95.23z m-329.38 16.13l57.34-75.08 69.81 36.54 84.89 120.39 156.04 474.81-93.78-87.69-58.24-58.98-56.3-188.32-202.34-75.9 42.58-145.77zM206.6 463.55l75.97-96.82 210.62 79 54.43 182.09 63.33 64.12 128.02 119.74 28.54 86.77-718.95-0.01L206.6 463.55z" p-id="53254" fill="#ffffff"></path></svg>',normalImageSize:.6,hoveredImageUri:"",hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6},{text:"",title:"3D",normalImageUri:'<svg t="1715584163223" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="39165" ><path d="M307.2 1024H102.4a51.2 51.2 0 0 1-51.2-51.2V358.4a51.2 51.2 0 0 1 51.2-51.2h204.8a51.2 51.2 0 0 1 51.2 51.2v614.4a51.2 51.2 0 0 1-51.2 51.2z m-153.6-102.4H256v-512H153.6v512z m563.2 102.4H307.2a51.2 51.2 0 0 1-51.2-51.2V51.2a51.2 51.2 0 0 1 51.2-51.2h409.6a51.2 51.2 0 0 1 51.2 51.2v921.6a51.2 51.2 0 0 1-51.2 51.2z m-358.4-102.4h307.2V102.4H358.4v819.2z m563.2 102.4h-204.8a51.2 51.2 0 0 1-51.2-51.2V563.2a51.2 51.2 0 0 1 51.2-51.2h204.8a51.2 51.2 0 0 1 51.2 51.2v409.6a51.2 51.2 0 0 1-51.2 51.2zM768 921.6h102.4V614.4H768v307.2z m204.8 102.4H51.2a51.2 51.2 0 0 1 0-102.4h921.6a51.2 51.2 0 0 1 0 102.4z m-435.2-153.6h-51.2a25.6 25.6 0 1 1 0-51.2h51.2a25.6 25.6 0 1 1 0 51.2z m0-460.8h-51.2a25.6 25.6 0 1 1 0-51.2h51.2a25.6 25.6 0 1 1 0 51.2z m0-153.6h-51.2a25.6 25.6 0 1 1 0-51.2h51.2a25.6 25.6 0 1 1 0 51.2z m0 307.2h-51.2a25.6 25.6 0 1 1 0-51.2h51.2a25.6 25.6 0 1 1 0 51.2z m0 153.6h-51.2a25.6 25.6 0 1 1 0-51.2h51.2a25.6 25.6 0 1 1 0 51.2z" fill="#ffffff" p-id="39166"></path></svg>',normalImageSize:.5,hoveredImageUri:"",hoveredImageSize:.5,pressedImageUri:"",pressedImageSize:.5}],r.buttonRadius=40,r.buttonBorderWidth=0,r.backgroundColor=[0,0,0,0],r.buttonBackgroundColor=[.15,.17,.17,1],r.padding=0,r.layoutType="RightBottom",r.cssText='right: 105px; bottom" 10px;',r.execOnceFuncStr='sceneObject => {\n                sceneObject.czm3DTiles = sceneObject.disposeVar(XE2[\'xe2-base-objects\'].SceneObject.createFromJson({\n                    "id": "aa0a86fb-4479-47cc-ac1d-4575f1537168",\n                    "type": "Czm3DTiles",\n                    "name": "Czm3DTiles",\n                    "show": false,\n                    "allowPicking": true,\n                    "url": "https://tiles.giiiis.com/v1/3dtiles/root.json"\n                }))\n                sceneObject.dispose(sceneObject.components.disposableAdd(sceneObject.czm3DTiles))\n\n                sceneObject.vistaWindow = sceneObject.disposeVar(XE2[\'xe2-base-objects\'].SceneObject.createFromJson({\n                    "id": "4a189d13-6138-4fc6-a18c-5043f559f522",\n                    "type": "VistaWindow",\n                    "show": false,\n                    "name": "VistaWindow",\n                    "layoutCssText": "    position: absolute;    left: 0;    right: unset;    top: 0;    bottom: unset;    width: unset;    height: unset;    width: 100%; height: 100%    "\n                }))\n                sceneObject.dispose(sceneObject.components.disposableAdd(sceneObject.vistaWindow))\n            \n                sceneObject.czmGeHistoryImagery = sceneObject.disposeVar(XE2[\'xe2-base-objects\'].SceneObject.createFromJson({\n                    "id": "fa817d95-132f-4172-aecb-d54969b89ed5",\n                    "type": "CzmGeHistoryImagery",\n                    "name": "CzmGeHistoryImagery"\n                }))\n                sceneObject.dispose(sceneObject.components.disposableAdd(sceneObject.czmGeHistoryImagery))\n\n                sceneObject.czmArcgisHistoryImagery = sceneObject.disposeVar(XE2[\'xe2-base-objects\'].SceneObject.createFromJson({\n                    "id": "8ef4f67a-8630-490a-ba0e-998b6e5da6d7",\n                    "type": "CzmArcgisHistoryImagery",\n                    "currentDate": "2020-05-20",\n                    "cssText": "position: absolute;left:130px;top:10px;color:white;font-size:16px;width:105px;height:21px;zIndex:100;pointer-events:all;background-color:#165acb;overflow:hidden;",\n                    "name": "CzmArcgisHistoryImagery"\n                }))\n                sceneObject.dispose(sceneObject.components.disposableAdd(sceneObject.czmArcgisHistoryImagery))\n              \n            }';var i=e.xe2ProjectManager.createSceneObjectTreeItem("MyLocation",void 0,t,"Inner");if(i){var a=i.sceneObject;if(a){a.name="",a.layoutType="RightBottom",a.cssText="right: 60px; bottom: 10px;";var s=e.xe2ProjectManager.createSceneObjectTreeItem("MyCompass",void 0,t,"Inner");if(s){var c=s.sceneObject;c?(c.name="",c.setLayoutStyle(n({type:"RightBottom",right:"15px",bottom:"10px"},o.MyLocation.defaultSize)),r.dispose(r.clickEvent.disposableOn((function(t,n){var o=r.buttons[t];null!==o&&(""===o.title&&(e.czmTerrain.show=!e.czmTerrain.show),""===o.title&&(r.vistaWindow.show=!r.vistaWindow.show),"3D"===o.title&&(r.czm3DTiles.show=!r.czm3DTiles.show),""===o.title&&(r.czmGeHistoryImagery.show=!r.czmGeHistoryImagery.show,r.czmGeHistoryImagery.showUI=!r.czmGeHistoryImagery.showUI),"Arcgis"===o.title&&(r.czmArcgisHistoryImagery.show=!r.czmArcgisHistoryImagery.show,r.czmArcgisHistoryImagery.showUI=!r.czmArcgisHistoryImagery.showUI))})))):console.error("!myCompass")}else console.error("!myCompassTreeItem")}else console.error("!myLocation")}else console.error("!myLocationTreeItem")}else console.error("!circleButtonsTool")}else console.error("!circleButtonsToolTreeItem")}}}},63245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0;var n=r(34026);t["createCommand_"]=function(e){return{name:"",keywords:["TempObjsCreatorTool"],description:"",icon:'<svg t="1716187570498" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="92953" ><path d="M513.536 916.48c-16.384 0-31.744-6.656-43.52-17.92L124.416 552.96C74.752 502.784 47.104 436.736 47.104 366.08S74.752 229.376 124.416 179.2C174.08 129.536 240.64 101.888 311.296 101.888S448 129.536 498.176 179.2l15.872 15.36 15.36-15.36c49.664-49.664 116.224-77.312 186.88-77.312s136.704 27.648 186.88 77.312c102.912 102.912 102.912 270.336 0 373.248l-345.6 345.6c-12.288 11.776-27.648 18.432-44.032 18.432zM311.296 163.328c-54.272 0-104.96 20.992-143.36 59.392s-59.392 89.088-59.392 143.36 20.992 104.96 59.392 143.36l345.6 345.6 345.6-345.6c78.848-78.848 78.848-207.36 0-286.72-38.4-38.4-89.088-59.392-143.36-59.392s-104.96 20.992-143.36 59.392l-15.872 15.36c-11.264 11.776-27.136 17.92-43.52 17.92s-31.744-6.656-43.52-17.92l-15.872-15.36c-37.376-37.888-88.064-59.392-142.336-59.392z" fill="#ffffff" p-id="92954"></path><path d="M701.952 571.392l-41.984-44.544 97.28-91.648 16.896-16.896c14.336-14.336 22.528-33.792 22.528-54.272s-8.192-39.936-22.528-54.272l43.52-43.52c26.112 26.112 40.448 60.928 40.448 97.792 0 36.864-14.336 71.68-40.448 97.792l-17.92 17.92-97.792 91.648z" fill="#ffffff" p-id="92955"></path></svg>',func:function(){var t=(0,n.funcTool)(e,this.name,[{text:"",title:"",normalImageUri:'<svg t="1715392005176" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23788" ><path d="M512 427.023m-90 0a90 90 0 1 0 180 0 90 90 0 1 0-180 0Z" fill="#8a8a8a" p-id="23789"></path><path d="M512 910.402c-19.14 0-37.482-5.854-53.042-16.929-14.063-10.01-24.926-23.596-31.589-39.46L255.043 585.177l-0.154-0.25C225.522 537.209 210 482.605 210 427.021c0-80.667 31.414-156.506 88.454-213.546S431.333 125.021 512 125.021s156.506 31.414 213.546 88.454C782.587 270.515 814 346.354 814 427.021c0 55.849-15.655 110.671-45.274 158.539l-0.264 0.419-172.081 268.716c-6.755 15.726-17.66 29.176-31.704 39.055-15.485 10.895-33.7 16.652-52.677 16.652zM309.246 551.141l175.494 273.78 1.194 3.197c4.149 11.107 14.381 18.284 26.066 18.284 11.584 0 21.791-7.071 26.004-18.015l1.165-3.028L714.43 551.678C737.701 513.983 750 470.884 750 427.021c0-63.572-24.756-123.339-69.709-168.292-44.952-44.951-104.719-69.708-168.291-69.708s-123.339 24.756-168.292 69.708S274 363.449 274 427.021c0 43.64 12.186 86.552 35.246 124.12z" fill="#8a8a8a" p-id="23790"></path></svg>',normalImageSize:1,hoveredImageUri:'<svg t="1715392005176" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23788" ><path d="M512 427.023m-90 0a90 90 0 1 0 180 0 90 90 0 1 0-180 0Z" fill="#ffffff" p-id="23789"></path><path d="M512 910.402c-19.14 0-37.482-5.854-53.042-16.929-14.063-10.01-24.926-23.596-31.589-39.46L255.043 585.177l-0.154-0.25C225.522 537.209 210 482.605 210 427.021c0-80.667 31.414-156.506 88.454-213.546S431.333 125.021 512 125.021s156.506 31.414 213.546 88.454C782.587 270.515 814 346.354 814 427.021c0 55.849-15.655 110.671-45.274 158.539l-0.264 0.419-172.081 268.716c-6.755 15.726-17.66 29.176-31.704 39.055-15.485 10.895-33.7 16.652-52.677 16.652zM309.246 551.141l175.494 273.78 1.194 3.197c4.149 11.107 14.381 18.284 26.066 18.284 11.584 0 21.791-7.071 26.004-18.015l1.165-3.028L714.43 551.678C737.701 513.983 750 470.884 750 427.021c0-63.572-24.756-123.339-69.709-168.292-44.952-44.951-104.719-69.708-168.291-69.708s-123.339 24.756-168.292 69.708S274 363.449 274 427.021c0 43.64 12.186 86.552 35.246 124.12z" fill="#ffffff" p-id="23790"></path></svg>',hoveredImageSize:1,pressedImageUri:"",pressedImageSize:1,sceneObjectType:"GeoCanvasImagePoi"},{text:"",title:"",normalImageUri:'<svg t="1715392222372" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25642" ><path d="M127.744 99.136l-25.856 206.976h25.856c0-72.448 56.896-129.344 129.344-129.344h181.12v659.648c0 36.224-28.48 64.704-64.704 64.704h-64.64v25.92h413.824v-25.92h-64.64a64 64 0 0 1-64.704-64.704V176.704h181.12c72.384 0 129.344 56.96 129.344 129.344h25.792l-25.792-206.976H127.744v0.064z" fill="#8a8a8a" p-id="25643"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715392274799" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25900" ><path d="M127.744 99.136l-25.856 206.976h25.856c0-72.448 56.896-129.344 129.344-129.344h181.12v659.648c0 36.224-28.48 64.704-64.704 64.704h-64.64v25.92h413.824v-25.92h-64.64a64 64 0 0 1-64.704-64.704V176.704h181.12c72.384 0 129.344 56.96 129.344 129.344h25.792l-25.792-206.976H127.744v0.064z" fill="#ffffff" p-id="25901"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoDivTextPoi"},{text:"",title:"",normalImageUri:'<svg t="1715392323008" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31793" ><path d="M134.144 673.792c-53.248 0-96.768 43.52-96.768 96.768 0 53.248 43.52 96.768 96.768 96.768s96.768-43.52 96.768-96.768c0-53.248-43.008-96.768-96.768-96.768z m0 137.216c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-17.92 40.448-40.448 40.448zM388.096 406.016c-53.248 0-96.768 43.52-96.768 96.768s43.52 96.768 96.768 96.768 96.768-43.52 96.768-96.768-43.52-96.768-96.768-96.768z m0 137.216c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-18.432 40.448-40.448 40.448zM642.048 490.496c-53.248 0-96.768 43.52-96.768 96.768s43.52 96.768 96.768 96.768c53.248 0 96.768-43.52 96.768-96.768 0-52.736-43.008-96.768-96.768-96.768z m0 137.216c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-17.92 40.448-40.448 40.448zM896 152.576c-53.248 0-96.768 43.52-96.768 96.768s43.52 96.768 96.768 96.768c53.248 0 96.768-43.52 96.768-96.768s-43.52-96.768-96.768-96.768z m0 136.192c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-18.432 40.448-40.448 40.448z" fill="#707070" p-id="31794"></path><path d="M181.248 749.568c-6.656 0-12.8-2.048-17.92-6.656-11.776-10.24-12.8-28.16-3.072-39.936l137.728-161.792c10.24-11.776 28.16-12.8 39.936-3.072 11.776 10.24 12.8 28.16 3.072 39.936l-137.728 161.792c-6.144 6.144-13.824 9.728-22.016 9.728zM573.44 615.424c-3.584 0-6.656-0.512-10.24-2.048l-126.976-48.64c-14.336-5.632-21.504-21.504-15.872-36.352 5.632-14.336 21.504-21.504 36.352-15.872l126.976 48.64c14.336 5.632 21.504 21.504 15.872 36.352-4.096 11.264-14.336 17.92-26.112 17.92zM694.272 571.392c-5.632 0-11.776-1.536-15.872-5.12-12.8-8.704-15.872-26.624-7.168-38.912l165.376-235.52c8.704-12.8 26.624-15.872 38.912-7.168 12.8 8.704 15.872 26.624 7.168 38.912l-165.376 235.52c-5.632 7.68-14.336 12.288-23.04 12.288z" fill="#707070" p-id="31795"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715392323008" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31793" ><path d="M134.144 673.792c-53.248 0-96.768 43.52-96.768 96.768 0 53.248 43.52 96.768 96.768 96.768s96.768-43.52 96.768-96.768c0-53.248-43.008-96.768-96.768-96.768z m0 137.216c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-17.92 40.448-40.448 40.448zM388.096 406.016c-53.248 0-96.768 43.52-96.768 96.768s43.52 96.768 96.768 96.768 96.768-43.52 96.768-96.768-43.52-96.768-96.768-96.768z m0 137.216c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-18.432 40.448-40.448 40.448zM642.048 490.496c-53.248 0-96.768 43.52-96.768 96.768s43.52 96.768 96.768 96.768c53.248 0 96.768-43.52 96.768-96.768 0-52.736-43.008-96.768-96.768-96.768z m0 137.216c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-17.92 40.448-40.448 40.448zM896 152.576c-53.248 0-96.768 43.52-96.768 96.768s43.52 96.768 96.768 96.768c53.248 0 96.768-43.52 96.768-96.768s-43.52-96.768-96.768-96.768z m0 136.192c-22.528 0-40.448-17.92-40.448-40.448s17.92-40.448 40.448-40.448 40.448 17.92 40.448 40.448-18.432 40.448-40.448 40.448z" fill="#ffffff" p-id="31794"></path><path d="M181.248 749.568c-6.656 0-12.8-2.048-17.92-6.656-11.776-10.24-12.8-28.16-3.072-39.936l137.728-161.792c10.24-11.776 28.16-12.8 39.936-3.072 11.776 10.24 12.8 28.16 3.072 39.936l-137.728 161.792c-6.144 6.144-13.824 9.728-22.016 9.728zM573.44 615.424c-3.584 0-6.656-0.512-10.24-2.048l-126.976-48.64c-14.336-5.632-21.504-21.504-15.872-36.352 5.632-14.336 21.504-21.504 36.352-15.872l126.976 48.64c14.336 5.632 21.504 21.504 15.872 36.352-4.096 11.264-14.336 17.92-26.112 17.92zM694.272 571.392c-5.632 0-11.776-1.536-15.872-5.12-12.8-8.704-15.872-26.624-7.168-38.912l165.376-235.52c8.704-12.8 26.624-15.872 38.912-7.168 12.8 8.704 15.872 26.624 7.168 38.912l-165.376 235.52c-5.632 7.68-14.336 12.288-23.04 12.288z" fill="#ffffff" p-id="31795"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoPolyline"},{text:"",title:"",normalImageUri:'<svg t="1715392386757" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="34669" ><path d="M956.738805 387.876945c14.230669 0 25.907115-11.554816 25.907115-25.907115V224.16344c0-14.230669-11.554816-25.907115-25.907115-25.907115H818.810785c-14.230669 0-25.907115 11.554816-25.907115 25.907115v25.663855l-561.92897-111.534386V80.640456c0-14.230669-11.554816-25.907115-25.907115-25.907115H67.139565c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907115H134.157501L265.031001 779.646039H244.71885c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907114h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907114v-56.071268l384.471315-53.760304v27.123411c0 14.230669 11.554816 25.907115 25.907115 25.907115h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V722.844993c0-14.230669-11.554816-25.907115-25.907115-25.907114H913.80354V387.876945h42.935265z m-25.785485-137.92802v86.23542h-84.167716l-2.067704-2.067704v-84.167716h86.23542z m-666.530467 309.060934L565.942749 257.489963l101.317496 20.068892-378.997981 378.997981-23.839411-97.546977zM226.109514 402.594132l177.336026-177.336025 101.317496 20.068891L249.948925 500.262739 226.109514 402.594132zM93.04668 106.425941h86.23542v86.23542h-86.23542V106.425941z m112.020905 137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V190.958546l111.534387 22.136596L211.757216 343.847013l-24.32593-99.493052h17.636299zM302.249673 713.966029l0.851408 0.851408 425.095617-425.095617 64.706972 12.892742v43.908303L359.780496 779.646039h-41.475709l-16.055114-65.68001z m54.611712 203.60803H270.625965v-86.23542h86.23542v86.23542z m574.091935-82.70816h-86.23542v-86.23542h86.23542v86.23542zM818.810785 696.937879c-14.230669 0-25.907115 11.554816-25.907115 25.907114v58.62549l-180.255137 25.177337 249.219147-249.219147V696.937879h-43.056895z m43.178525-212.730253L527.751039 818.445896l-119.197054 16.663262v-29.677634c0-0.486519 0-0.973037-0.12163-1.337926l416.216653-416.216653h37.218672v96.330681z" p-id="34670" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715392386757" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="34669" ><path d="M956.738805 387.876945c14.230669 0 25.907115-11.554816 25.907115-25.907115V224.16344c0-14.230669-11.554816-25.907115-25.907115-25.907115H818.810785c-14.230669 0-25.907115 11.554816-25.907115 25.907115v25.663855l-561.92897-111.534386V80.640456c0-14.230669-11.554816-25.907115-25.907115-25.907115H67.139565c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907115H134.157501L265.031001 779.646039H244.71885c-14.230669 0-25.907115 11.554816-25.907115 25.907115v137.92802c0 14.230669 11.554816 25.907115 25.907115 25.907114h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907114v-56.071268l384.471315-53.760304v27.123411c0 14.230669 11.554816 25.907115 25.907115 25.907115h137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V722.844993c0-14.230669-11.554816-25.907115-25.907115-25.907114H913.80354V387.876945h42.935265z m-25.785485-137.92802v86.23542h-84.167716l-2.067704-2.067704v-84.167716h86.23542z m-666.530467 309.060934L565.942749 257.489963l101.317496 20.068892-378.997981 378.997981-23.839411-97.546977zM226.109514 402.594132l177.336026-177.336025 101.317496 20.068891L249.948925 500.262739 226.109514 402.594132zM93.04668 106.425941h86.23542v86.23542h-86.23542V106.425941z m112.020905 137.92802c14.230669 0 25.907115-11.554816 25.907115-25.907115V190.958546l111.534387 22.136596L211.757216 343.847013l-24.32593-99.493052h17.636299zM302.249673 713.966029l0.851408 0.851408 425.095617-425.095617 64.706972 12.892742v43.908303L359.780496 779.646039h-41.475709l-16.055114-65.68001z m54.611712 203.60803H270.625965v-86.23542h86.23542v86.23542z m574.091935-82.70816h-86.23542v-86.23542h86.23542v86.23542zM818.810785 696.937879c-14.230669 0-25.907115 11.554816-25.907115 25.907114v58.62549l-180.255137 25.177337 249.219147-249.219147V696.937879h-43.056895z m43.178525-212.730253L527.751039 818.445896l-119.197054 16.663262v-29.677634c0-0.486519 0-0.973037-0.12163-1.337926l416.216653-416.216653h37.218672v96.330681z" p-id="34670" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoPolygon"},{text:"",title:"",normalImageUri:'<svg t="1715392441649" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41650" ><path d="M896 640c70.7 0 128-57.3 128-128s-57.3-128-128-128h-2c-1.7 0-3.2-1.1-3.8-2.7-5.3-15.2-11.4-30-18.4-44.3-0.8-1.5-0.4-3.4 0.8-4.6 0.5-0.5 1-1 1.5-1.4 50-50 50-131 0-181-25-25-57.8-37.5-90.5-37.5-32.8 0-65.5 12.5-90.5 37.5-0.5 0.5-1 1-1.4 1.5-1.2 1.2-3.1 1.5-4.6 0.8-14.3-7-29.1-13.1-44.3-18.4-1.6-0.6-2.7-2.1-2.7-3.8v-2C640 57.3 582.7 0 512 0S384 57.3 384 128v2c0 1.7-1.1 3.2-2.7 3.8-15.2 5.3-30 11.4-44.3 18.4-1.5 0.8-3.4 0.4-4.6-0.8-0.5-0.5-1-1-1.4-1.5-25-25-57.8-37.5-90.5-37.5-32.8 0-65.5 12.5-90.5 37.5-50 50-50 131 0 181 0.5 0.5 1 1 1.5 1.4 1.2 1.2 1.5 3.1 0.8 4.6-7 14.3-13.1 29.1-18.4 44.3-0.6 1.6-2.1 2.7-3.8 2.7h-2C57.3 384 0 441.3 0 512s57.3 128 128 128h2c1.7 0 3.2 1.1 3.8 2.7 5.3 15.2 11.4 30 18.4 44.3 0.8 1.5 0.4 3.4-0.8 4.6-0.5 0.5-1 1-1.5 1.4-50 50-50 131 0 181 25 25 57.8 37.5 90.5 37.5 32.8 0 65.5-12.5 90.5-37.5 0.5-0.5 1-1 1.4-1.5 1.2-1.2 3.1-1.5 4.6-0.8 14.3 7 29.1 13.1 44.3 18.4 1.6 0.6 2.7 2.1 2.7 3.8v2c0 70.7 57.3 128 128 128s128-57.3 128-128v-2c0-1.7 1.1-3.2 2.7-3.8 15.2-5.3 30-11.4 44.3-18.4 1.5-0.8 3.4-0.4 4.6 0.8 0.5 0.5 1 1 1.4 1.5 25 25 57.8 37.5 90.5 37.5 32.8 0 65.5-12.5 90.5-37.5 50-50 50-131 0-181-0.5-0.5-1-1-1.5-1.4-1.2-1.2-1.5-3.1-0.8-4.6 7-14.3 13.1-29.1 18.4-44.3 0.6-1.6 2.1-2.7 3.8-2.7h2.2zM783.5 176.5c17.1 0 33.2 6.7 45.3 18.8 22.3 22.3 24.7 57.1 7.1 82-2.1 3-4.5 5.8-7.1 8.5-12.1 12.1-28.2 18.7-45.3 18.7-2.6 0-5.1-0.1-7.6-0.4-14.2-1.7-27.4-8-37.7-18.3-10.2-10.4-16.6-23.5-18.2-37.8-0.3-2.5-0.4-5-0.4-7.6 0-17.1 6.7-33.2 18.7-45.3 2.6-2.6 5.5-5 8.5-7.1 10.6-7.5 23.4-11.5 36.7-11.5zM512 64c31.5 0 57.8 22.9 63 53 0.6 3.6 1 7.3 1 11 0 20.4-9.6 38.6-24.5 50.3-10.9 8.6-24.6 13.7-39.5 13.7s-28.6-5.1-39.5-13.7C457.6 166.6 448 148.4 448 128c0-3.8 0.3-7.5 1-11 5.2-30.1 31.5-53 63-53zM176.5 240.5c0-17.1 6.7-33.2 18.8-45.3 12.1-12.1 28.2-18.8 45.3-18.8 13.4 0 26.1 4.1 36.8 11.6 3 2.1 5.8 4.5 8.5 7.1 12.1 12.1 18.7 28.2 18.7 45.3 0 2.5-0.1 5.1-0.4 7.6-1.7 14.2-8 27.4-18.3 37.7-10.5 10.3-23.6 16.7-37.9 18.3-2.5 0.3-5 0.4-7.6 0.4-17.1 0-33.2-6.7-45.3-18.7-2.6-2.6-5-5.5-7.1-8.5-7.5-10.6-11.5-23.4-11.5-36.7zM128 576c-3.8 0-7.5-0.3-11-1-30-5.3-53-31.5-53-63s22.9-57.8 53-63c3.6-0.6 7.3-1 11-1 20.4 0 38.6 9.6 50.3 24.5 8.6 10.9 13.7 24.6 13.7 39.5 0 14.9-5.1 28.6-13.7 39.5-11.7 14.9-29.9 24.5-50.3 24.5z m112.5 271.5c-17.1 0-33.2-6.7-45.3-18.8-12.1-12.1-18.8-28.2-18.8-45.3 0-13.4 4.1-26.1 11.6-36.8 2.1-3 4.5-5.8 7.1-8.5 12.1-12.1 28.2-18.7 45.3-18.7 2.6 0 5.1 0.2 7.6 0.4 14.2 1.7 27.4 8 37.7 18.3 10.3 10.3 16.6 23.5 18.3 37.7 0.3 2.5 0.4 5 0.4 7.6 0 17.1-6.7 33.2-18.7 45.3-2.6 2.6-5.5 5-8.5 7.1-10.6 7.7-23.4 11.7-36.7 11.7zM512 960c-31.5 0-57.8-22.9-63-53-0.6-3.6-1-7.3-1-11 0-20.4 9.6-38.6 24.5-50.3 10.9-8.6 24.6-13.7 39.5-13.7s28.6 5.1 39.5 13.7c14.9 11.7 24.5 29.9 24.5 50.3 0 3.8-0.3 7.5-1 11-5.2 30.1-31.5 53-63 53z m316.8-131.2c-12.1 12.1-28.2 18.8-45.3 18.8-13.4 0-26.1-4.1-36.8-11.6-3-2.1-5.8-4.5-8.5-7.1-12.1-12.1-18.7-28.2-18.7-45.3 0-2.5 0.1-5.1 0.4-7.6 1.7-14.2 8-27.4 18.3-37.7 10.3-10.3 23.4-16.6 37.7-18.3 2.5-0.3 5-0.4 7.6-0.4 17.1 0 33.2 6.7 45.3 18.7 2.7 2.7 5 5.5 7.1 8.5 17.6 24.9 15.2 59.7-7.1 82z m-7.2-186c-1.9 4.6-4 9.1-6.1 13.6-0.8 1.7-2.6 2.6-4.4 2.2-9.1-2-18.3-3-27.6-3-32.8 0-65.5 12.5-90.5 37.5-32 32-43.6 76.9-34.5 118.1 0.4 1.8-0.5 3.6-2.2 4.4-4.5 2.1-9 4.2-13.6 6.1-6 2.5-12.1 4.9-18.2 7.1-1.7 0.6-3.7 0-4.7-1.6C597.1 791.6 557.3 768 512 768s-85.1 23.6-107.9 59.1c-1 1.6-2.9 2.2-4.7 1.6-6.1-2.2-12.2-4.5-18.2-7.1-4.6-1.9-9.1-4-13.6-6.1-1.7-0.8-2.6-2.6-2.2-4.4 9-41.2-2.5-86-34.5-118.1-25-25-57.8-37.5-90.5-37.5-9.2 0-18.5 1-27.6 3-1.8 0.4-3.6-0.5-4.4-2.2-2.1-4.5-4.2-9-6.1-13.6-2.5-6-4.9-12.1-7.1-18.2-0.6-1.7 0-3.7 1.6-4.7C232.4 597.1 256 557.3 256 512s-23.6-85.1-59.1-107.9c-1.6-1-2.2-2.9-1.6-4.7 2.2-6.1 4.5-12.2 7.1-18.2 1.9-4.6 4-9.1 6.1-13.6 0.8-1.7 2.6-2.6 4.4-2.2 9.1 2 18.3 3 27.6 3 32.8 0 65.5-12.5 90.5-37.5 32-32 43.6-76.9 34.5-118.1-0.4-1.8 0.5-3.6 2.2-4.4 4.5-2.1 9-4.2 13.6-6.1 6-2.5 12.1-4.9 18.2-7.1 1.7-0.6 3.7 0 4.7 1.6C426.9 232.4 466.7 256 512 256s85.1-23.6 107.9-59.1c1-1.6 2.9-2.2 4.7-1.6 6.1 2.2 12.2 4.5 18.2 7.1 4.6 1.9 9.1 4 13.6 6.1 1.7 0.8 2.6 2.6 2.2 4.4-9 41.2 2.5 86 34.5 118.1 25 25 57.8 37.5 90.5 37.5 9.2 0 18.5-1 27.6-3 1.8-0.4 3.6 0.5 4.4 2.2 2.1 4.5 4.2 9 6.1 13.6 2.5 6 4.9 12.1 7.1 18.2 0.6 1.7 0 3.7-1.6 4.7C791.6 426.9 768 466.7 768 512s23.6 85.1 59.1 107.9c1.6 1 2.2 2.9 1.6 4.7-2.2 6.1-4.5 12.2-7.1 18.2z m24.1-91.3c-8.6-10.9-13.7-24.6-13.7-39.5 0-14.9 5.1-28.6 13.7-39.5 11.7-14.9 29.9-24.5 50.3-24.5 3.8 0 7.5 0.3 11 1 30 5.3 53 31.5 53 63s-22.9 57.8-53 63c-3.6 0.6-7.3 1-11 1-20.4 0-38.6-9.6-50.3-24.5z" p-id="41651" fill="#707070"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715392441649" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41650" ><path d="M896 640c70.7 0 128-57.3 128-128s-57.3-128-128-128h-2c-1.7 0-3.2-1.1-3.8-2.7-5.3-15.2-11.4-30-18.4-44.3-0.8-1.5-0.4-3.4 0.8-4.6 0.5-0.5 1-1 1.5-1.4 50-50 50-131 0-181-25-25-57.8-37.5-90.5-37.5-32.8 0-65.5 12.5-90.5 37.5-0.5 0.5-1 1-1.4 1.5-1.2 1.2-3.1 1.5-4.6 0.8-14.3-7-29.1-13.1-44.3-18.4-1.6-0.6-2.7-2.1-2.7-3.8v-2C640 57.3 582.7 0 512 0S384 57.3 384 128v2c0 1.7-1.1 3.2-2.7 3.8-15.2 5.3-30 11.4-44.3 18.4-1.5 0.8-3.4 0.4-4.6-0.8-0.5-0.5-1-1-1.4-1.5-25-25-57.8-37.5-90.5-37.5-32.8 0-65.5 12.5-90.5 37.5-50 50-50 131 0 181 0.5 0.5 1 1 1.5 1.4 1.2 1.2 1.5 3.1 0.8 4.6-7 14.3-13.1 29.1-18.4 44.3-0.6 1.6-2.1 2.7-3.8 2.7h-2C57.3 384 0 441.3 0 512s57.3 128 128 128h2c1.7 0 3.2 1.1 3.8 2.7 5.3 15.2 11.4 30 18.4 44.3 0.8 1.5 0.4 3.4-0.8 4.6-0.5 0.5-1 1-1.5 1.4-50 50-50 131 0 181 25 25 57.8 37.5 90.5 37.5 32.8 0 65.5-12.5 90.5-37.5 0.5-0.5 1-1 1.4-1.5 1.2-1.2 3.1-1.5 4.6-0.8 14.3 7 29.1 13.1 44.3 18.4 1.6 0.6 2.7 2.1 2.7 3.8v2c0 70.7 57.3 128 128 128s128-57.3 128-128v-2c0-1.7 1.1-3.2 2.7-3.8 15.2-5.3 30-11.4 44.3-18.4 1.5-0.8 3.4-0.4 4.6 0.8 0.5 0.5 1 1 1.4 1.5 25 25 57.8 37.5 90.5 37.5 32.8 0 65.5-12.5 90.5-37.5 50-50 50-131 0-181-0.5-0.5-1-1-1.5-1.4-1.2-1.2-1.5-3.1-0.8-4.6 7-14.3 13.1-29.1 18.4-44.3 0.6-1.6 2.1-2.7 3.8-2.7h2.2zM783.5 176.5c17.1 0 33.2 6.7 45.3 18.8 22.3 22.3 24.7 57.1 7.1 82-2.1 3-4.5 5.8-7.1 8.5-12.1 12.1-28.2 18.7-45.3 18.7-2.6 0-5.1-0.1-7.6-0.4-14.2-1.7-27.4-8-37.7-18.3-10.2-10.4-16.6-23.5-18.2-37.8-0.3-2.5-0.4-5-0.4-7.6 0-17.1 6.7-33.2 18.7-45.3 2.6-2.6 5.5-5 8.5-7.1 10.6-7.5 23.4-11.5 36.7-11.5zM512 64c31.5 0 57.8 22.9 63 53 0.6 3.6 1 7.3 1 11 0 20.4-9.6 38.6-24.5 50.3-10.9 8.6-24.6 13.7-39.5 13.7s-28.6-5.1-39.5-13.7C457.6 166.6 448 148.4 448 128c0-3.8 0.3-7.5 1-11 5.2-30.1 31.5-53 63-53zM176.5 240.5c0-17.1 6.7-33.2 18.8-45.3 12.1-12.1 28.2-18.8 45.3-18.8 13.4 0 26.1 4.1 36.8 11.6 3 2.1 5.8 4.5 8.5 7.1 12.1 12.1 18.7 28.2 18.7 45.3 0 2.5-0.1 5.1-0.4 7.6-1.7 14.2-8 27.4-18.3 37.7-10.5 10.3-23.6 16.7-37.9 18.3-2.5 0.3-5 0.4-7.6 0.4-17.1 0-33.2-6.7-45.3-18.7-2.6-2.6-5-5.5-7.1-8.5-7.5-10.6-11.5-23.4-11.5-36.7zM128 576c-3.8 0-7.5-0.3-11-1-30-5.3-53-31.5-53-63s22.9-57.8 53-63c3.6-0.6 7.3-1 11-1 20.4 0 38.6 9.6 50.3 24.5 8.6 10.9 13.7 24.6 13.7 39.5 0 14.9-5.1 28.6-13.7 39.5-11.7 14.9-29.9 24.5-50.3 24.5z m112.5 271.5c-17.1 0-33.2-6.7-45.3-18.8-12.1-12.1-18.8-28.2-18.8-45.3 0-13.4 4.1-26.1 11.6-36.8 2.1-3 4.5-5.8 7.1-8.5 12.1-12.1 28.2-18.7 45.3-18.7 2.6 0 5.1 0.2 7.6 0.4 14.2 1.7 27.4 8 37.7 18.3 10.3 10.3 16.6 23.5 18.3 37.7 0.3 2.5 0.4 5 0.4 7.6 0 17.1-6.7 33.2-18.7 45.3-2.6 2.6-5.5 5-8.5 7.1-10.6 7.7-23.4 11.7-36.7 11.7zM512 960c-31.5 0-57.8-22.9-63-53-0.6-3.6-1-7.3-1-11 0-20.4 9.6-38.6 24.5-50.3 10.9-8.6 24.6-13.7 39.5-13.7s28.6 5.1 39.5 13.7c14.9 11.7 24.5 29.9 24.5 50.3 0 3.8-0.3 7.5-1 11-5.2 30.1-31.5 53-63 53z m316.8-131.2c-12.1 12.1-28.2 18.8-45.3 18.8-13.4 0-26.1-4.1-36.8-11.6-3-2.1-5.8-4.5-8.5-7.1-12.1-12.1-18.7-28.2-18.7-45.3 0-2.5 0.1-5.1 0.4-7.6 1.7-14.2 8-27.4 18.3-37.7 10.3-10.3 23.4-16.6 37.7-18.3 2.5-0.3 5-0.4 7.6-0.4 17.1 0 33.2 6.7 45.3 18.7 2.7 2.7 5 5.5 7.1 8.5 17.6 24.9 15.2 59.7-7.1 82z m-7.2-186c-1.9 4.6-4 9.1-6.1 13.6-0.8 1.7-2.6 2.6-4.4 2.2-9.1-2-18.3-3-27.6-3-32.8 0-65.5 12.5-90.5 37.5-32 32-43.6 76.9-34.5 118.1 0.4 1.8-0.5 3.6-2.2 4.4-4.5 2.1-9 4.2-13.6 6.1-6 2.5-12.1 4.9-18.2 7.1-1.7 0.6-3.7 0-4.7-1.6C597.1 791.6 557.3 768 512 768s-85.1 23.6-107.9 59.1c-1 1.6-2.9 2.2-4.7 1.6-6.1-2.2-12.2-4.5-18.2-7.1-4.6-1.9-9.1-4-13.6-6.1-1.7-0.8-2.6-2.6-2.2-4.4 9-41.2-2.5-86-34.5-118.1-25-25-57.8-37.5-90.5-37.5-9.2 0-18.5 1-27.6 3-1.8 0.4-3.6-0.5-4.4-2.2-2.1-4.5-4.2-9-6.1-13.6-2.5-6-4.9-12.1-7.1-18.2-0.6-1.7 0-3.7 1.6-4.7C232.4 597.1 256 557.3 256 512s-23.6-85.1-59.1-107.9c-1.6-1-2.2-2.9-1.6-4.7 2.2-6.1 4.5-12.2 7.1-18.2 1.9-4.6 4-9.1 6.1-13.6 0.8-1.7 2.6-2.6 4.4-2.2 9.1 2 18.3 3 27.6 3 32.8 0 65.5-12.5 90.5-37.5 32-32 43.6-76.9 34.5-118.1-0.4-1.8 0.5-3.6 2.2-4.4 4.5-2.1 9-4.2 13.6-6.1 6-2.5 12.1-4.9 18.2-7.1 1.7-0.6 3.7 0 4.7 1.6C426.9 232.4 466.7 256 512 256s85.1-23.6 107.9-59.1c1-1.6 2.9-2.2 4.7-1.6 6.1 2.2 12.2 4.5 18.2 7.1 4.6 1.9 9.1 4 13.6 6.1 1.7 0.8 2.6 2.6 2.2 4.4-9 41.2 2.5 86 34.5 118.1 25 25 57.8 37.5 90.5 37.5 9.2 0 18.5-1 27.6-3 1.8-0.4 3.6 0.5 4.4 2.2 2.1 4.5 4.2 9 6.1 13.6 2.5 6 4.9 12.1 7.1 18.2 0.6 1.7 0 3.7-1.6 4.7C791.6 426.9 768 466.7 768 512s23.6 85.1 59.1 107.9c1.6 1 2.2 2.9 1.6 4.7-2.2 6.1-4.5 12.2-7.1 18.2z m24.1-91.3c-8.6-10.9-13.7-24.6-13.7-39.5 0-14.9 5.1-28.6 13.7-39.5 11.7-14.9 29.9-24.5 50.3-24.5 3.8 0 7.5 0.3 11 1 30 5.3 53 31.5 53 63s-22.9 57.8-53 63c-3.6 0.6-7.3 1-11 1-20.4 0-38.6-9.6-50.3-24.5z" p-id="41651" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoCircle"},{text:"",title:"",normalImageUri:'<svg t="1715392544702" class="icon" viewBox="0 0 1152 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="52218" ><path d="M1105.024 440.832c23.68 0 43.712 17.6 46.72 41.088l0.256 5.76v434.304c0 23.68-17.6 43.712-41.152 46.72l-5.76 0.32H47.168a47.04 47.04 0 0 1-46.72-41.152l-0.32-5.76V487.744c0-23.68 17.6-43.712 41.088-46.72l5.76-0.32 1058.048 0.128z m-920.064 94.08H94.08V875.2h963.84V534.592h-85.376v237.312a29.376 29.376 0 1 1-58.752 0V534.592h-65.408v115.776a29.376 29.376 0 0 1-58.752 0v-115.84H677.824v115.84a29.44 29.44 0 0 1-58.816 0v-115.84h-80.64v237.376a29.44 29.44 0 0 1-58.816 0V534.592h-65.28v115.776a29.376 29.376 0 0 1-58.752 0v-115.84H243.648v115.84a29.44 29.44 0 0 1-58.816 0l0.128-115.52zM94.08 0v117.504h963.84V0H1152v329.152h-94.08V211.584H94.08v117.568H0V0h94.08z" p-id="52219" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715392544702" class="icon" viewBox="0 0 1152 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="52218" ><path d="M1105.024 440.832c23.68 0 43.712 17.6 46.72 41.088l0.256 5.76v434.304c0 23.68-17.6 43.712-41.152 46.72l-5.76 0.32H47.168a47.04 47.04 0 0 1-46.72-41.152l-0.32-5.76V487.744c0-23.68 17.6-43.712 41.088-46.72l5.76-0.32 1058.048 0.128z m-920.064 94.08H94.08V875.2h963.84V534.592h-85.376v237.312a29.376 29.376 0 1 1-58.752 0V534.592h-65.408v115.776a29.376 29.376 0 0 1-58.752 0v-115.84H677.824v115.84a29.44 29.44 0 0 1-58.816 0v-115.84h-80.64v237.376a29.44 29.44 0 0 1-58.816 0V534.592h-65.28v115.776a29.376 29.376 0 0 1-58.752 0v-115.84H243.648v115.84a29.44 29.44 0 0 1-58.816 0l0.128-115.52zM94.08 0v117.504h963.84V0H1152v329.152h-94.08V211.584H94.08v117.568H0V0h94.08z" p-id="52219" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoDistanceMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1715392624879" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="58235" ><path d="M305.222589 369.323416l56.875454-56.875453 361.982812 361.984234-56.875454 56.875454z" p-id="58236" fill="#8a8a8a"></path><path d="M1024.270294 292.685236V0H731.058696v103.422848H292.685236V0H0v292.685236h103.465526v438.629528H0v292.685236h292.685236v-103.422848h438.615302v103.422848H1023.985774V731.314764h-106.125783V292.685236zM825.988636 98.628694h99.752546v98.657145h-99.752546z m-728.469568-1.010045h97.547519v97.632876H97.519068z m97.547519 831.977772H97.519068V828.947639h97.547519z m731.314764-3.044359h-94.517387V828.947639h94.517387z m-88.95503-195.237298h-106.125783v103.422847H292.685236v-103.422847H189.205485V292.685236h103.451299V189.205485h438.401912v103.422847h106.367625z" p-id="58237" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715392624879" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="58235" ><path d="M305.222589 369.323416l56.875454-56.875453 361.982812 361.984234-56.875454 56.875454z" p-id="58236" fill="#ffffff"></path><path d="M1024.270294 292.685236V0H731.058696v103.422848H292.685236V0H0v292.685236h103.465526v438.629528H0v292.685236h292.685236v-103.422848h438.615302v103.422848H1023.985774V731.314764h-106.125783V292.685236zM825.988636 98.628694h99.752546v98.657145h-99.752546z m-728.469568-1.010045h97.547519v97.632876H97.519068z m97.547519 831.977772H97.519068V828.947639h97.547519z m731.314764-3.044359h-94.517387V828.947639h94.517387z m-88.95503-195.237298h-106.125783v103.422847H292.685236v-103.422847H189.205485V292.685236h103.451299V189.205485h438.401912v103.422847h106.367625z" p-id="58237" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoAreaMeasurement"}]);t.backgroundColor=[0,0,0,0],t.buttonBorderWidth=0,t.buttonBackgroundColor=[0,0,0,0]}}}},88280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0,t["createCommand_"]=function(e){return{name:"",keywords:["DialogWindow"],description:"",icon:'<svg t="1716187730862" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="101740" ><path d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0zM537.6 729.6c-12.8 6.4-19.2 12.8-32 12.8-12.8 0-25.6-6.4-32-12.8-6.4-6.4-12.8-19.2-12.8-32 0-12.8 6.4-25.6 12.8-32 6.4-6.4 19.2-12.8 32-12.8 12.8 0 25.6 6.4 32 12.8 6.4 6.4 12.8 19.2 12.8 32C550.4 710.4 550.4 723.2 537.6 729.6zM633.6 480C627.2 492.8 608 505.6 576 531.2 563.2 544 556.8 556.8 550.4 563.2c0 6.4-6.4 12.8-6.4 25.6 0 19.2-19.2 32-32 32-19.2 0-38.4-19.2-32-38.4 0-12.8 6.4-25.6 6.4-32 6.4-19.2 32-44.8 70.4-76.8l12.8-12.8c12.8-12.8 19.2-32 19.2-44.8 0-19.2-6.4-38.4-19.2-51.2C556.8 345.6 537.6 339.2 512 339.2c-32 0-51.2 6.4-64 25.6C441.6 371.2 435.2 384 435.2 403.2c0 19.2-19.2 32-32 32-19.2 0-38.4-19.2-32-44.8C377.6 358.4 390.4 339.2 403.2 320c25.6-25.6 64-38.4 108.8-38.4 44.8 0 76.8 12.8 102.4 32 25.6 25.6 38.4 51.2 38.4 89.6C652.8 435.2 646.4 460.8 633.6 480z" fill="#ffffff" p-id="101741"></path></svg>',func:function(){var t=e.createSceneObjectOnTree("DialogWindow","");t.title="",t.text="prompt",t.container=document.body,t.show=!0,t.showInput=!0,t.defaultInput="",t.buttons=[{text:"",result:"ok"},{text:"",result:"cancel"}];var r=t.resultEvent.disposableOnce((function(e){r(),t.show=!1}))}}}},59801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0,t["createCommand_"]=function(e){return{name:"",keywords:["CircleButtonsTool"],description:"",icon:'<svg t="1716186478306" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="81689" ><path d="M512.14 563.29c-18.94 0.61-36.71-9.14-46.35-25.45a51.937 51.937 0 0 1 0.02-52.88 51.878 51.878 0 0 1 46.38-25.4c27.98 0.94 50.17 23.9 50.16 51.89-0.01 28-22.23 50.94-50.21 51.84m108.31-51.84c-0.09-59.81-48.56-108.27-108.36-108.36-59.79 0.12-108.21 48.58-108.3 108.36 0.09 59.81 48.55 108.27 108.36 108.36 59.78-0.11 108.21-48.57 108.3-108.36" fill="#ffffff" p-id="81690"></path><path d="M980.52 481.32h-96.13C870.5 297.51 723.73 151.79 539.82 139.23V43.21c0-15.21-12.33-27.54-27.54-27.54-15.21 0-27.54 12.33-27.54 27.54v96.24c-181.78 15.05-325.66 159.98-339.4 341.87H41.45c-15.21 0-27.54 12.34-27.54 27.55s12.33 27.54 27.54 27.54h103.84c12.63 182.38 157.17 327.86 339.45 341.7V979.7c0 15.21 12.33 27.54 27.54 27.54 15.21 0 27.54-12.33 27.54-27.54V729.98c0-15.21-12.33-27.54-27.54-27.54-15.21 0-27.54 12.33-27.54 27.54v92.94c-151.82-13.66-271.82-134.54-284.36-286.46h90.78c15.21 0 27.54-12.33 27.54-27.54 0-15.21-12.33-27.54-27.54-27.54h-90.73c13.41-151.54 132.84-272.06 284.25-286.84v98.38c0 15.21 12.33 27.54 27.54 27.54 15.21 0 27.54-12.33 27.54-27.54v-98.61c153.56 12.31 275.88 133.55 289.54 287h-98.5c-15.21 0-27.54 12.34-27.54 27.55s12.33 27.54 27.54 27.54h249.71c15.21 0 27.54-12.34 27.54-27.54 0.01-15.2-12.32-27.54-27.53-27.54" fill="#ffffff" p-id="81691"></path><path d="M884.72 687.99l-16.03 16.03-37.89-37.89 16.03-16.08c10.64-10.04 27.25-10.04 37.89 0a26.673 26.673 0 0 1 7.93 18.97c0.01 7.12-2.85 13.96-7.93 18.97zM704.01 868.7l-37.9-37.85L795.83 701.1l37.89 37.89L704.01 868.7z m107.85-253.63l-33.49 33.54h-0.04L613.68 813.35a24.288 24.288 0 0 0-7.17 17.96l-10.14 76.43c-0.87 6.49 0.88 13.05 4.85 18.25a24.737 24.737 0 0 0 25.13 13.16l77.27-10.19c1.09-0.15 1.98-0.74 3.07-1.04a24.28 24.28 0 0 0 14.79-6.73L919.7 722.96c14.35-14.4 22.36-33.64 22.36-53.92 0-20.39-7.97-39.58-22.36-53.98-28.79-28.78-79.05-28.78-107.84 0.01z m0 0" fill="#ffffff" p-id="81692"></path></svg>',func:function(){var t=e.createSceneObjectOnTree("CircleButtonsTool","");t.buttons=[{text:"",title:"",normalImageUri:'<svg t="1715225970369" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18560" ><path d="M512.00512 224.18432c-158.96576 0-287.81056 128.86016-287.81056 287.81568 0 158.9504 128.8448 287.80032 287.81056 287.80032 158.9504 0 287.81056-128.84992 287.81056-287.80032 0.00512-158.95552-128.85504-287.81568-287.81056-287.81568z m0 511.65696c-123.62752 0-223.85152-100.21888-223.85152-223.84128 0-123.63776 100.224-223.85664 223.85152-223.85664 123.63264 0 223.83104 100.21888 223.83104 223.85664 0.00512 123.6224-100.1984 223.84128-223.83104 223.84128z" p-id="18561" fill="#bfbfbf"></path><path d="M512.00512 384.08704c70.64064 0 127.91296 57.27232 127.91296 127.91296s-57.27232 127.90784-127.91296 127.90784S384.09728 582.63552 384.09728 512s57.27232-127.91296 127.90784-127.91296z" p-id="18562" fill="#bfbfbf"></path></svg>',normalImageSize:.8,hoveredImageUri:'<svg t="1715225970369" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18560" ><path d="M512.00512 224.18432c-158.96576 0-287.81056 128.86016-287.81056 287.81568 0 158.9504 128.8448 287.80032 287.81056 287.80032 158.9504 0 287.81056-128.84992 287.81056-287.80032 0.00512-158.95552-128.85504-287.81568-287.81056-287.81568z m0 511.65696c-123.62752 0-223.85152-100.21888-223.85152-223.84128 0-123.63776 100.224-223.85664 223.85152-223.85664 123.63264 0 223.83104 100.21888 223.83104 223.85664 0.00512 123.6224-100.1984 223.84128-223.83104 223.84128z" p-id="18561" fill="#ffffff"></path><path d="M512.00512 384.08704c70.64064 0 127.91296 57.27232 127.91296 127.91296s-57.27232 127.90784-127.91296 127.90784S384.09728 582.63552 384.09728 512s57.27232-127.91296 127.90784-127.91296z" p-id="18562" fill="#ffffff"></path></svg>',hoveredImageSize:.8,pressedImageUri:"",pressedImageSize:.8},{text:"",title:"",normalImageUri:'<svg t="1715226263420" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18843" ><path d="M900.93056 300.29824c-41.06752 0-74.4704 33.42848-74.4704 74.49088 0 9.99936 1.99168 19.5328 5.5808 28.25728l-220.2624 205.17888a73.98912 73.98912 0 0 0-41.23136-12.50304c-7.74144 0-15.27296 1.1776-22.4512 3.45088L477.98272 459.53536a74.1376 74.1376 0 0 0 8.14592-33.92c0-41.0624-33.3824-74.49088-74.4448-74.49088s-74.4448 33.42848-74.4448 74.49088c0 3.82464 0.29184 7.6032 0.85504 11.3152l-177.23392 190.28992a73.88672 73.88672 0 0 0-39.79776-11.5968c-41.0624 0-74.4704 33.42336-74.4704 74.49088 0 41.08288 33.408 74.51648 74.4704 74.51648 41.04192 0 74.4192-33.42848 74.4192-74.51648 0-7.61344-1.15712-14.976-3.29216-21.89824L363.6224 482.50368a74.45504 74.45504 0 0 0 76.33408 12.07808l67.38944 136.192a74.16832 74.16832 0 0 0-11.2384 39.4496c0 41.08288 33.3824 74.51648 74.4448 74.51648 41.06752 0 74.4448-33.42848 74.4448-74.51648a74.3424 74.3424 0 0 0-2.72384-19.9168l224.67072-209.26464a73.96352 73.96352 0 0 0 33.99168 8.24832c41.04192 0 74.4192-33.42848 74.4192-74.49088-0.01024-41.06752-33.38752-74.50112-74.42432-74.50112zM121.06752 713.04192a22.91712 22.91712 0 0 1 0-45.82912 22.93248 22.93248 0 0 1 22.87616 22.90176c-0.00512 12.6464-10.28608 22.92736-22.87616 22.92736z m276.31104-269.53728a22.8608 22.8608 0 0 1-8.59136-17.88928 22.9376 22.9376 0 0 1 22.90176-22.90176 22.912 22.912 0 0 1 22.87616 22.90176c0 6.04672-2.31936 11.7248-6.50752 16.01024l-0.19968 0.18432c-9.06752 9.05216-25.04192 6.07744-30.47936 1.69472z m173.17376 249.63584a22.92224 22.92224 0 0 1-22.87616-22.92736 22.7328 22.7328 0 0 1 8.27904-17.62304c0.33792-0.24064 0.68608-0.48128 1.01376-0.7424 0.19968-0.15872 0.38912-0.32256 0.58368-0.49152a22.64064 22.64064 0 0 1 12.99456-4.0448 22.92736 22.92736 0 0 1 22.88128 22.90176 22.9376 22.9376 0 0 1-22.87616 22.92736z m330.37824-295.4496c-12.65152 0-22.90176-10.28096-22.90176-22.90176s10.25024-22.90176 22.90176-22.90176a22.92736 22.92736 0 0 1 22.87104 22.90176 22.92736 22.92736 0 0 1-22.87104 22.90176z" p-id="18844" fill="#8a8a8a"></path></svg>',normalImageSize:.8,hoveredImageUri:'<svg t="1715226263420" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18843" ><path d="M900.93056 300.29824c-41.06752 0-74.4704 33.42848-74.4704 74.49088 0 9.99936 1.99168 19.5328 5.5808 28.25728l-220.2624 205.17888a73.98912 73.98912 0 0 0-41.23136-12.50304c-7.74144 0-15.27296 1.1776-22.4512 3.45088L477.98272 459.53536a74.1376 74.1376 0 0 0 8.14592-33.92c0-41.0624-33.3824-74.49088-74.4448-74.49088s-74.4448 33.42848-74.4448 74.49088c0 3.82464 0.29184 7.6032 0.85504 11.3152l-177.23392 190.28992a73.88672 73.88672 0 0 0-39.79776-11.5968c-41.0624 0-74.4704 33.42336-74.4704 74.49088 0 41.08288 33.408 74.51648 74.4704 74.51648 41.04192 0 74.4192-33.42848 74.4192-74.51648 0-7.61344-1.15712-14.976-3.29216-21.89824L363.6224 482.50368a74.45504 74.45504 0 0 0 76.33408 12.07808l67.38944 136.192a74.16832 74.16832 0 0 0-11.2384 39.4496c0 41.08288 33.3824 74.51648 74.4448 74.51648 41.06752 0 74.4448-33.42848 74.4448-74.51648a74.3424 74.3424 0 0 0-2.72384-19.9168l224.67072-209.26464a73.96352 73.96352 0 0 0 33.99168 8.24832c41.04192 0 74.4192-33.42848 74.4192-74.49088-0.01024-41.06752-33.38752-74.50112-74.42432-74.50112zM121.06752 713.04192a22.91712 22.91712 0 0 1 0-45.82912 22.93248 22.93248 0 0 1 22.87616 22.90176c-0.00512 12.6464-10.28608 22.92736-22.87616 22.92736z m276.31104-269.53728a22.8608 22.8608 0 0 1-8.59136-17.88928 22.9376 22.9376 0 0 1 22.90176-22.90176 22.912 22.912 0 0 1 22.87616 22.90176c0 6.04672-2.31936 11.7248-6.50752 16.01024l-0.19968 0.18432c-9.06752 9.05216-25.04192 6.07744-30.47936 1.69472z m173.17376 249.63584a22.92224 22.92224 0 0 1-22.87616-22.92736 22.7328 22.7328 0 0 1 8.27904-17.62304c0.33792-0.24064 0.68608-0.48128 1.01376-0.7424 0.19968-0.15872 0.38912-0.32256 0.58368-0.49152a22.64064 22.64064 0 0 1 12.99456-4.0448 22.92736 22.92736 0 0 1 22.88128 22.90176 22.9376 22.9376 0 0 1-22.87616 22.92736z m330.37824-295.4496c-12.65152 0-22.90176-10.28096-22.90176-22.90176s10.25024-22.90176 22.90176-22.90176a22.92736 22.92736 0 0 1 22.87104 22.90176 22.92736 22.92736 0 0 1-22.87104 22.90176z" p-id="18844" fill="#ffffff"></path></svg>',hoveredImageSize:.8,pressedImageUri:"",pressedImageSize:.8},{text:"",title:"",normalImageUri:'<svg t="1715226334174" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22630" ><path d="M759.466667 349.866667h29.866666c12.8 0 21.333333-8.533333 21.333334-21.333334V230.4c0-8.533333-8.533333-17.066667-17.066667-17.066667h-98.133333c-8.533333 0-17.066667 8.533333-17.066667 17.066667v29.866667h-59.733333-268.8v-29.866667c0-8.533333-8.533333-17.066667-21.333334-17.066667H230.4c-8.533333 0-17.066667 8.533333-17.066667 17.066667v98.133333c0 12.8 8.533333 21.333333 17.066667 21.333334h29.866667v324.266666h-29.866667c-8.533333 0-17.066667 8.533333-17.066667 21.333334v98.133333c0 8.533333 8.533333 17.066667 17.066667 17.066667h98.133333c8.533333 0 17.066667-8.533333 17.066667-17.066667v-29.866667h324.266667v29.866667c0 8.533333 8.533333 17.066667 21.333333 17.066667h98.133333c8.533333 0 17.066667-8.533333 17.066667-17.066667v-98.133333c0-8.533333-8.533333-21.333333-17.066667-21.333334h-29.866666V349.866667zM298.666667 349.866667h29.866666c12.8 0 21.333333-8.533333 21.333334-21.333334V298.666667H426.666667l-128 128V349.866667z m0 132.266666c4.266667-4.266667 4.266667-4.266667 0 0L482.133333 298.666667h85.333334L298.666667 567.466667v-85.333334z m25.6 192H298.666667v-55.466666L618.666667 298.666667h55.466666v21.333333l-349.866666 354.133333z m401.066666 0h-29.866666c-8.533333 0-21.333333 8.533333-21.333334 21.333334v29.866666h-81.066666l132.266666-132.266666v81.066666z m0-132.266666L541.866667 725.333333h-85.333334l268.8-268.8v85.333334z m0-136.533334L405.333333 725.333333H349.866667v-21.333333l349.866666-349.866667h25.6v51.2z" fill="#8a8a8a" p-id="22631"></path></svg>',normalImageSize:.8,hoveredImageUri:'<svg t="1715226334174" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22630" ><path d="M759.466667 349.866667h29.866666c12.8 0 21.333333-8.533333 21.333334-21.333334V230.4c0-8.533333-8.533333-17.066667-17.066667-17.066667h-98.133333c-8.533333 0-17.066667 8.533333-17.066667 17.066667v29.866667h-59.733333-268.8v-29.866667c0-8.533333-8.533333-17.066667-21.333334-17.066667H230.4c-8.533333 0-17.066667 8.533333-17.066667 17.066667v98.133333c0 12.8 8.533333 21.333333 17.066667 21.333334h29.866667v324.266666h-29.866667c-8.533333 0-17.066667 8.533333-17.066667 21.333334v98.133333c0 8.533333 8.533333 17.066667 17.066667 17.066667h98.133333c8.533333 0 17.066667-8.533333 17.066667-17.066667v-29.866667h324.266667v29.866667c0 8.533333 8.533333 17.066667 21.333333 17.066667h98.133333c8.533333 0 17.066667-8.533333 17.066667-17.066667v-98.133333c0-8.533333-8.533333-21.333333-17.066667-21.333334h-29.866666V349.866667zM298.666667 349.866667h29.866666c12.8 0 21.333333-8.533333 21.333334-21.333334V298.666667H426.666667l-128 128V349.866667z m0 132.266666c4.266667-4.266667 4.266667-4.266667 0 0L482.133333 298.666667h85.333334L298.666667 567.466667v-85.333334z m25.6 192H298.666667v-55.466666L618.666667 298.666667h55.466666v21.333333l-349.866666 354.133333z m401.066666 0h-29.866666c-8.533333 0-21.333333 8.533333-21.333334 21.333334v29.866666h-81.066666l132.266666-132.266666v81.066666z m0-132.266666L541.866667 725.333333h-85.333334l268.8-268.8v85.333334z m0-136.533334L405.333333 725.333333H349.866667v-21.333333l349.866666-349.866667h25.6v51.2z" fill="#ffffff" p-id="22631"></path></svg>',hoveredImageSize:.8,pressedImageUri:"",pressedImageSize:.8}],t.buttonBorderWidth=0,t.buttonBackgroundColor=[0,0,0,0],t.clickFuncStr="function(index, mouseEvent){\n                alert(index);\n            }"}}}},8976:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0,t["createCommand_"]=function(e){return{name:"",keywords:["MyLabel"],description:"",icon:'<svg t="1716187903162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="107406" ><path d="M256 213.333333h104.874667v267.093334h324.48V213.333333h104.874666v640h-104.874666v-283.264H360.874667V853.333333H256z" p-id="107407" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectFromJsonOnTree({id:"ced3bfdd-d3d4-4cc9-84c9-3b8ace9ea16d",type:"CircleButtonsTool",name:"",clickFuncStr:"if (index === 0) {\n    g_app.appEvent.event.emit({func: 'minimize'});\n} else if (index === 1) {\n    g_app.appEvent.event.emit({func: 'toggleMaximize'});\n} else if (index === 2) {\n    g_app.appEvent.event.emit({func: 'close'});\n}",buttons:[{text:"",title:"",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="512" height="512"><rect x="6" y="11" width="12" height="2" rx="1" fill="rgba(255, 255, 255, 0.8)" /></svg>',normalImageSize:.8,hoveredImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="512" height="512"><rect x="6" y="11" width="12" height="2" rx="1" fill="white" /></svg>',hoveredImageSize:.8,pressedImageSize:.8},{text:"",title:"",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="512" height="512"><path d="M19,0H5A5,5,0,0,0,0,5V19a5,5,0,0,0,5,5H19a5,5,0,0,0,5-5V5A5,5,0,0,0,19,0Zm3,19a3,3,0,0,1-3,3H5a3,3,0,0,1-3-3V5A3,3,0,0,1,5,2H19a3,3,0,0,1,3,3Z" fill="rgba(255, 255, 255, 0.8)" /></svg>',normalImageSize:.5,hoveredImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="512" height="512"><path d="M19,0H5A5,5,0,0,0,0,5V19a5,5,0,0,0,5,5H19a5,5,0,0,0,5-5V5A5,5,0,0,0,19,0Zm3,19a3,3,0,0,1-3,3H5a3,3,0,0,1-3-3V5A3,3,0,0,1,5,2H19a3,3,0,0,1,3,3Z" fill="white"/></svg>',hoveredImageSize:.5,pressedImageSize:.5},{text:"",title:"",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="512" height="512"><path d="M18,6h0a1,1,0,0,0-1.414,0L12,10.586,7.414,6A1,1,0,0,0,6,6H6A1,1,0,0,0,6,7.414L10.586,12,6,16.586A1,1,0,0,0,6,18H6a1,1,0,0,0,1.414,0L12,13.414,16.586,18A1,1,0,0,0,18,18h0a1,1,0,0,0,0-1.414L13.414,12,18,7.414A1,1,0,0,0,18,6Z" fill="rgba(255, 255, 255, 0.8)" /></svg>',normalImageSize:.8,hoveredImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="512" height="512"><path d="M18,6h0a1,1,0,0,0-1.414,0L12,10.586,7.414,6A1,1,0,0,0,6,6H6A1,1,0,0,0,6,7.414L10.586,12,6,16.586A1,1,0,0,0,6,18H6a1,1,0,0,0,1.414,0L12,13.414,16.586,18A1,1,0,0,0,18,18h0a1,1,0,0,0,0-1.414L13.414,12,18,7.414A1,1,0,0,0,18,6Z" fill="white" /></svg>',hoveredImageSize:.8,pressedImageSize:.8}],backgroundColor:[0,0,0,1],backgroundRadius:11,padding:5,buttonRadius:26,buttonBackgroundColor:[0,0,0,0],buttonBorderWidth:0,layoutCssText:"\n    position: absolute;\n    left: calc(50% + 65px);\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: unset;\n    height: unset;\n    transform: translateX(-50%);\n    zIndex: 100;\n    pointerEvents: all;\n        \n    "},"")}}}},29551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0;var n=r(34026);t["createCommand_"]=function(e){return{name:"",keywords:["TempObjsCreatorTool"],description:"",icon:'<svg t="1716187482534" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="89062" ><path d="M416 824.6L225.1 668.7 716 96.1 906.9 252z" fill="#ffffff" p-id="89063"></path><path d="M786 927.3c-4.5 0-8.8-1.6-12.2-4.4L524.5 713.8c-8.1-6.8-9.1-18.8-2.4-26.8 6.8-8 18.8-9.1 26.8-2.4l234.7 196.8L915 724.8 674.6 523.2c-8.1-6.8-9.1-18.8-2.4-26.8 6.8-8 18.8-9.1 26.8-2.4l255 213.9c8.1 6.8 9.1 18.8 2.4 26.8L800.6 920.5c-3.3 3.9-7.9 6.3-12.9 6.7-0.6 0.1-1.2 0.1-1.7 0.1zM340.2 553.5c-4.3 0-8.6-1.5-12.2-4.4L71 333.6c-8.1-6.8-9.1-18.8-2.4-26.8L224.4 121c6.8-8 18.8-9.1 26.8-2.4l253.5 212.6c8.1 6.8 9.1 18.8 2.4 26.8-6.8 8.1-18.7 9.1-26.8 2.4L241.4 160 110.1 316.6l242.3 203.2c8.1 6.8 9.1 18.8 2.4 26.8-3.8 4.6-9.2 6.9-14.6 6.9z" fill="#ffffff" p-id="89064"></path><path d="M238.8 318.2c-4.3 0-8.6-1.5-12.2-4.4-8.1-6.8-9.1-18.8-2.4-26.8l77.9-92.9c6.8-8 18.8-9.1 26.8-2.4 8.1 6.8 9.1 18.8 2.4 26.8l-77.9 92.9c-3.7 4.5-9.1 6.8-14.6 6.8zM379.3 364.8c-4.3 0-8.6-1.5-12.2-4.4-8.1-6.8-9.1-18.8-2.4-26.8l42.9-51.1c6.8-8.1 18.8-9.1 26.8-2.4 8.1 6.8 9.1 18.8 2.4 26.8L393.9 358c-3.8 4.5-9.2 6.8-14.6 6.8zM800.9 718.3c-4.3 0-8.6-1.5-12.2-4.4-8.1-6.8-9.1-18.8-2.4-26.8l42.9-51.1c6.8-8.1 18.8-9.1 26.8-2.4 8.1 6.8 9.1 18.8 2.4 26.8l-42.9 51.1c-3.7 4.5-9.1 6.8-14.6 6.8zM660.5 671.7c-4.3 0-8.6-1.5-12.2-4.4-8.1-6.8-9.1-18.8-2.4-26.8l77.9-92.9c6.8-8.1 18.8-9.1 26.8-2.4 8.1 6.8 9.1 18.8 2.4 26.8l-77.9 92.9c-3.8 4.5-9.2 6.8-14.6 6.8zM416 843.6c-4.2 0-8.5-1.4-12-4.3L213 683.5c-4-3.2-6.5-8-6.9-13.1-0.4-5.1 1.2-10.2 4.5-14.1L701.5 83.7c6.7-7.8 18.5-8.9 26.5-2.4l190.9 155.9c4 3.2 6.5 8 6.9 13.1 0.4 5.1-1.2 10.2-4.5 14.1L430.4 837c-3.7 4.4-9.1 6.6-14.4 6.6zM252.2 666.3l161.4 131.8 466.1-543.7-161.4-131.8-466.1 543.7z" fill="#ffffff" p-id="89065"></path><path d="M168.1 952.4c-4.3 0-8.6-1.5-12.1-4.3-5.3-4.3-7.8-11.1-6.8-17.8l40.9-251.4c1.7-10.4 11.6-17.4 21.9-15.8 10.4 1.7 17.4 11.5 15.8 21.9l-35.6 218.9 207.3-78.6c9.8-3.8 20.8 1.2 24.6 11 3.7 9.8-1.2 20.8-11 24.6L175 951.2c-2.4 0.8-4.7 1.2-6.9 1.2z" fill="#ffffff" p-id="89066"></path></svg>',func:function(){(0,n.funcTool)(e,this.name,[{text:"",title:"",normalImageUri:'<svg t="1716539539820" class="icon" viewBox="0 0 1040 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4539" ><path d="M0.845206 778.890159a23.015619 23.015619 0 0 0 27.696762 27.761778l192.121905-53.117969-166.635683-166.310603-53.313015 191.666794z m709.453207-764.456635a57.344 57.344 0 0 0-78.539175 2.340571l-80.944762 80.81473 161.824508 161.694477 80.879746-80.749715a55.198476 55.198476 0 0 0 2.275556-78.60419l-85.495873-85.430857z m-600.876699 514.99073l157.208381 166.375619 399.782603-390.095238-161.759492-161.95454-395.296508 385.674159z" fill="#707070" p-id="4540"></path><path d="M0 926.47619m48.761905 0l942.730158 0q48.761905 0 48.761905 48.761905l0 0q0 48.761905-48.761905 48.761905l-942.730158 0q-48.761905 0-48.761905-48.761905l0 0q0-48.761905 48.761905-48.761905Z" fill="#707070" p-id="4541"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539539820" class="icon" viewBox="0 0 1040 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4539" ><path d="M0.845206 778.890159a23.015619 23.015619 0 0 0 27.696762 27.761778l192.121905-53.117969-166.635683-166.310603-53.313015 191.666794z m709.453207-764.456635a57.344 57.344 0 0 0-78.539175 2.340571l-80.944762 80.81473 161.824508 161.694477 80.879746-80.749715a55.198476 55.198476 0 0 0 2.275556-78.60419l-85.495873-85.430857z m-600.876699 514.99073l157.208381 166.375619 399.782603-390.095238-161.759492-161.95454-395.296508 385.674159z" fill="#ffffff" p-id="4540"></path><path d="M0 926.47619m48.761905 0l942.730158 0q48.761905 0 48.761905 48.761905l0 0q0 48.761905-48.761905 48.761905l-942.730158 0q-48.761905 0-48.761905-48.761905l0 0q0-48.761905 48.761905-48.761905Z" fill="#ffffff" p-id="4541"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoDistanceMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539656134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5865" ><path d="M948.48 441.93l-80.13-80.12a20.6 20.6 0 0 0-8.73-5.2h-0.08c-0.61-0.17-1.22-0.32-1.84-0.44-0.2 0-0.41-0.06-0.61-0.09-0.45-0.07-0.89-0.15-1.34-0.19a18.43 18.43 0 0 0-2-0.1 20.53 20.53 0 0 0-14.57 6l-15.82 15.84-26.56 26.59 67.2 67.16 40 40 2.06 2 2.08-2.07 40-40 0.32-0.31a20.62 20.62 0 0 0 0.02-29.07zM807.39 471.38l-38.83-38.83-4.33 4.34L423.92 777.6a41.1 41.1 0 0 0-10.48 17.85l-25.1 106.63a17.13 17.13 0 0 0 16.72 20.16 16.93 16.93 0 0 0 3.14-0.3l106.63-25.09a41.16 41.16 0 0 0 17.85-10.49l340.71-340.31 4.34-4.33-30.34-30.34zM304.2 478h99.56V296.16q1-72.83 58.17-73.88 55-2.09 53.44 70.74V478h99V275.73q-0.52-130-106.9-130.48-74.94 0.52-111.08 60.26-26.22-60.25-95.37-60.26-72.31 0.52-107.42 58.69v-50.31h-99V478h99V297.21q2.09-71.79 56.07-74.93 56.05-1.58 54.49 68.12zM755.92 233.14H681q16-18.14 40.68-34.6 38.27-22.89 34.79-52.36-3.48-43.21-53.1-45-54.55 0-63.52 47.6l32.22 6.77q4.75-27.47 26.36-26.91 21.42 0.38 22 20.69 2.93 13.92-34.78 41.56a199.9 199.9 0 0 0-46 49.24v22.16h116.27z" fill="#8a8a8a" p-id="5866"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539656134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5865" ><path d="M948.48 441.93l-80.13-80.12a20.6 20.6 0 0 0-8.73-5.2h-0.08c-0.61-0.17-1.22-0.32-1.84-0.44-0.2 0-0.41-0.06-0.61-0.09-0.45-0.07-0.89-0.15-1.34-0.19a18.43 18.43 0 0 0-2-0.1 20.53 20.53 0 0 0-14.57 6l-15.82 15.84-26.56 26.59 67.2 67.16 40 40 2.06 2 2.08-2.07 40-40 0.32-0.31a20.62 20.62 0 0 0 0.02-29.07zM807.39 471.38l-38.83-38.83-4.33 4.34L423.92 777.6a41.1 41.1 0 0 0-10.48 17.85l-25.1 106.63a17.13 17.13 0 0 0 16.72 20.16 16.93 16.93 0 0 0 3.14-0.3l106.63-25.09a41.16 41.16 0 0 0 17.85-10.49l340.71-340.31 4.34-4.33-30.34-30.34zM304.2 478h99.56V296.16q1-72.83 58.17-73.88 55-2.09 53.44 70.74V478h99V275.73q-0.52-130-106.9-130.48-74.94 0.52-111.08 60.26-26.22-60.25-95.37-60.26-72.31 0.52-107.42 58.69v-50.31h-99V478h99V297.21q2.09-71.79 56.07-74.93 56.05-1.58 54.49 68.12zM755.92 233.14H681q16-18.14 40.68-34.6 38.27-22.89 34.79-52.36-3.48-43.21-53.1-45-54.55 0-63.52 47.6l32.22 6.77q4.75-27.47 26.36-26.91 21.42 0.38 22 20.69 2.93 13.92-34.78 41.56a199.9 199.9 0 0 0-46 49.24v22.16h116.27z" fill="#ffffff" p-id="5866"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoAreaMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539713633" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8224" ><path d="M94.794979 227.722176H18.958996v75.835983h75.835983z m0-113.753975H18.958996v75.835983h75.835983z m0-113.968201H18.958996v76.050209h75.835983z m0 341.476151H18.958996v75.835983h75.835983z m0 113.753975H18.958996v75.835983h75.835983z m0 227.507949H18.958996v75.621758h75.835983z m0-113.753975H18.958996v75.835984h75.835983z m835.481172 303.343933a74.550628 74.550628 0 0 0-64.267783 37.917992H395.996653a339.333891 339.333891 0 0 0-105.399163-210.369874l326.480334-435.521339a29.991632 29.991632 0 0 0 8.783264 1.285355 75.835983 75.835983 0 1 0-75.835983-75.835983 77.764017 77.764017 0 0 0 5.998326 29.777406L94.794979 834.410042v-37.917992H18.958996v75.835983h46.701255L38.025105 910.246025H18.958996v75.835983h845.121339a74.979079 74.979079 0 0 0 64.267782 37.917992 75.835983 75.835983 0 0 0 0-151.671967zM132.927197 910.246025l112.040167-149.958159a260.284519 260.284519 0 0 1 74.336402 149.958159z m0 0" p-id="8225" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539713633" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8224" ><path d="M94.794979 227.722176H18.958996v75.835983h75.835983z m0-113.753975H18.958996v75.835983h75.835983z m0-113.968201H18.958996v76.050209h75.835983z m0 341.476151H18.958996v75.835983h75.835983z m0 113.753975H18.958996v75.835983h75.835983z m0 227.507949H18.958996v75.621758h75.835983z m0-113.753975H18.958996v75.835984h75.835983z m835.481172 303.343933a74.550628 74.550628 0 0 0-64.267783 37.917992H395.996653a339.333891 339.333891 0 0 0-105.399163-210.369874l326.480334-435.521339a29.991632 29.991632 0 0 0 8.783264 1.285355 75.835983 75.835983 0 1 0-75.835983-75.835983 77.764017 77.764017 0 0 0 5.998326 29.777406L94.794979 834.410042v-37.917992H18.958996v75.835983h46.701255L38.025105 910.246025H18.958996v75.835983h845.121339a74.979079 74.979079 0 0 0 64.267782 37.917992 75.835983 75.835983 0 0 0 0-151.671967zM132.927197 910.246025l112.040167-149.958159a260.284519 260.284519 0 0 1 74.336402 149.958159z m0 0" p-id="8225" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoDirectionMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539744426" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9418" ><path d="M41.344 928.426667c-9.386667 0-18.389333-4.266667-24.533333-12.8a32.981333 32.981333 0 0 1 6.144-44.8l299.818666-235.093334c19.2-14.933333 46.165333-14.08 64.128 2.56l236.544 216.32 337.792-289.706666a30.08 30.08 0 0 1 43.306667 4.266666c10.624 13.653333 8.96 33.706667-4.096 45.226667l-344.32 295.253333c-19.2 16.64-46.976 16.213333-66.176-1.28l-236.928-216.32L59.733333 922.026667a29.312 29.312 0 0 1-18.389333 6.4z" p-id="9419" fill="#8a8a8a"></path><path d="M608 699.733333c-13.226667 0-26.026667-4.693333-36.266667-14.506666-66.133333-62.293333-219.733333-219.306667-219.733333-333.653334 0-141.226667 114.773333-256 256-256s256 114.773333 256 256c0 114.346667-153.6 271.36-219.733333 333.653334-10.24 9.386667-23.04 14.506667-36.266667 14.506666z m0-540.16c-105.813333 0-192 86.186667-192 192 0 70.826667 101.546667 193.28 192 279.893334 90.453333-86.613333 192-209.066667 192-279.893334 0-105.813333-86.186667-192-192-192z" p-id="9420" fill="#8a8a8a"></path><path d="M608 479.573333c-70.4 0-128-57.6-128-128s57.6-128 128-128 128 57.6 128 128-57.6 128-128 128z m0-192c-35.413333 0-64 28.586667-64 64s28.586667 64 64 64 64-28.586667 64-64-28.586667-64-64-64z" p-id="9421" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539744426" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9418" ><path d="M41.344 928.426667c-9.386667 0-18.389333-4.266667-24.533333-12.8a32.981333 32.981333 0 0 1 6.144-44.8l299.818666-235.093334c19.2-14.933333 46.165333-14.08 64.128 2.56l236.544 216.32 337.792-289.706666a30.08 30.08 0 0 1 43.306667 4.266666c10.624 13.653333 8.96 33.706667-4.096 45.226667l-344.32 295.253333c-19.2 16.64-46.976 16.213333-66.176-1.28l-236.928-216.32L59.733333 922.026667a29.312 29.312 0 0 1-18.389333 6.4z" p-id="9419" fill="#ffffff"></path><path d="M608 699.733333c-13.226667 0-26.026667-4.693333-36.266667-14.506666-66.133333-62.293333-219.733333-219.306667-219.733333-333.653334 0-141.226667 114.773333-256 256-256s256 114.773333 256 256c0 114.346667-153.6 271.36-219.733333 333.653334-10.24 9.386667-23.04 14.506667-36.266667 14.506666z m0-540.16c-105.813333 0-192 86.186667-192 192 0 70.826667 101.546667 193.28 192 279.893334 90.453333-86.613333 192-209.066667 192-279.893334 0-105.813333-86.186667-192-192-192z" p-id="9420" fill="#ffffff"></path><path d="M608 479.573333c-70.4 0-128-57.6-128-128s57.6-128 128-128 128 57.6 128 128-57.6 128-128 128z m0-192c-35.413333 0-64 28.586667-64 64s28.586667 64 64 64 64-28.586667 64-64-28.586667-64-64-64z" p-id="9421" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoLocationMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539785836" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11413" ><path d="M819.198 910.218 204.799 910.218c-50.267 0-91.022-40.75-91.022-91.02L113.777 204.822c0-50.29 40.755-91.045 91.022-91.045l614.398 0c50.27 0 91.02 40.755 91.02 91.045l0 614.376C910.218 869.468 869.468 910.218 819.198 910.218zM841.953 227.554c0-25.122-20.385-45.51-45.51-45.51L227.554 182.044c-25.122 0-45.51 20.387-45.51 45.51l0 568.889c0 25.125 20.387 45.535 45.51 45.535l568.889 0c25.125 0 45.51-20.39 45.51-45.535L841.953 227.554zM603.268 400.952l-57.14-57.115 0 335.802 55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5L477.865 343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265C638.198 414.286 616.583 414.286 603.268 400.952z" fill="#8a8a8a" p-id="11414"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539785836" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11413" ><path d="M819.198 910.218 204.799 910.218c-50.267 0-91.022-40.75-91.022-91.02L113.777 204.822c0-50.29 40.755-91.045 91.022-91.045l614.398 0c50.27 0 91.02 40.755 91.02 91.045l0 614.376C910.218 869.468 869.468 910.218 819.198 910.218zM841.953 227.554c0-25.122-20.385-45.51-45.51-45.51L227.554 182.044c-25.122 0-45.51 20.387-45.51 45.51l0 568.889c0 25.125 20.387 45.535 45.51 45.535l568.889 0c25.125 0 45.51-20.39 45.51-45.535L841.953 227.554zM603.268 400.952l-57.14-57.115 0 335.802 55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5L477.865 343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265C638.198 414.286 616.583 414.286 603.268 400.952z" fill="#ffffff" p-id="11414"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoHeightMeasurement"}])}}}},21272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0,t["createCommand_"]=function(e){return{name:"",keywords:["DialogWindow"],description:"",icon:'<svg t="1716187635045" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="96042" ><path d="M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m232.777143 382.72l-310.857143 310.857143a18.285714 18.285714 0 0 1-25.965714 0l-129.28-129.28a18.285714 18.285714 0 0 1 0-25.965714L305.188571 512a18.285714 18.285714 0 0 1 25.782858 0l85.394285 85.394286a7.314286 7.314286 0 0 0 10.24 0L693.028571 330.971429a18.285714 18.285714 0 0 1 25.782858 0l25.965714 25.782857a18.285714 18.285714 0 0 1 0 25.965714z" fill="#ffffff" p-id="96043"></path></svg>',func:function(){var t=e.createSceneObjectOnTree("DialogWindow","");t.title="",t.text="confirm",t.container=document.body,t.show=!0,t.buttons=[{text:"",result:"ok"},{text:"",result:"cancel"}];var r=t.resultEvent.disposableOnce((function(e){r(),t.show=!1}))}}}},73358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["createCommand_"]=void 0,t["createCommand_"]=function(e){return{name:"",keywords:["DialogWindow"],description:"",icon:'<svg t="1716187656743" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="97092" ><path d="M512 992C246.912 992 32 777.088 32 512 32 246.912 246.912 32 512 32c265.088 0 480 214.912 480 480 0 265.088-214.912 480-480 480zM480 256v352a32 32 0 0 0 64 0V256a32 32 0 0 0-64 0z m-16 528a48 48 0 1 0 96 0 48 48 0 0 0-96 0z" p-id="97093" fill="#ffffff"></path></svg>',func:function(){var t=e.createSceneObjectOnTree("DialogWindow","");t.title="",t.text="alert",t.container=document.body,t.show=!0,t.buttons=[{text:"",result:"ok"}];var r=t.resultEvent.disposableOnce((function(e){r(),t.show=!1}))}}}},34026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.funcTool=void 0,t.funcTool=function(e,t,r){var n=e.createSceneObjectOnTree("TempObjsCreatorTool",t);return n.buttons=r,n}},81622:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerScreenUis=t.echartsPreLoaderJson=void 0;var s=r(82649),c=r(59453),l=r(57971),u=r(71036),f=r(63245),p=r(88280),d=r(59801),h=r(8976),g=r(29551),y=r(21272),m=r(73358);t.echartsPreLoaderJson={id:"79278e61-3f3f-4f6c-beed-49c4a6673afe",type:"ScriptsLoader",enabled:!0,uris:["${my3dtiles-assets-script-dir}/js/jquery/3.7.1/jquery.min.js","${my3dtiles-assets-script-dir}/js/echarts/5.5.0/dist/echarts.min.js","${my3dtiles-assets-script-dir}/js/echarts-gl/2.0.9/dist/echarts-gl.js"],name:"EChartsDiv"},t.registerScreenUis=function(e){var r,v,b=this;e.commands.register({name:"",category:"UI",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.UI)}});var w=[{name:"2",keywords:["MyCompass"],description:"2",icon:"${my3dtiles-assets-script-dir}/assets/images/myCompass/zhinanzhen.png",func:function(){e.createSceneObjectOnTree("MyCompass",this.name)}},{name:"",keywords:["MyLocation"],description:"",icon:"${my3dtiles-assets-script-dir}/assets/images/myLocation/dingwei.png",func:function(){e.createSceneObjectOnTree("MyLocation",this.name)}},{name:"EChartsDiv",keywords:["ScriptsLoader"],description:"EChartsDivEChartsDivECharts",icon:'<svg t="1716186397065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77768" ><path d="M568.2 124.6c5.5 0 10 4.5 10 10v250c0 5.5-4.5 10-10 10h-400c-5.5 0-10-4.5-10-10v-250c0-5.5 4.5-10 10-10h400m0-60h-400c-38.7 0-70 31.3-70 70v250c0 38.7 31.3 70 70 70h400c38.7 0 70-31.3 70-70v-250c0-38.7-31.4-70-70-70zM857.7 599.8c5.5 0 10 4.5 10 10v280c0 5.5-4.5 10-10 10H262c-5.5 0-10-4.5-10-10v-280c0-5.5 4.5-10 10-10h595.7m0-60H262c-38.7 0-70 31.3-70 70v280c0 38.7 31.3 70 70 70h595.7c38.7 0 70-31.3 70-70v-280c0-38.7-31.4-70-70-70z" p-id="77769" fill="#ffffff"></path><path d="M802.2 255.6h60V551h-60zM757.6 838.7H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30s-13.5 30-30 30zM757.6 721H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30 0 16.5-13.5 30-30 30z" p-id="77770" fill="#ffffff"></path><path d="M847.9 226.4l-104.5 0.2c-0.1 0-0.1-0.1-0.1-0.1l21.6-21.6c11.5-11.5 11.5-30.7 0-42.2-6.4-6.4-12.8-9-20.5-9-7.7 0-15.4 2.6-20.5 9l-74.2 74.2c-5.1 5.1-7.7 12.8-7.7 20.5 0 7.7 2.6 14.1 7.7 20.5l73.7 73.7c10.2 10.2 26.4 12.2 38.4 4.1 15.7-10.7 17.2-33 4.4-45.8l-21.6-21.6v-0.1h117.5s0.1 0 0.1-0.1v-47.3c0-8-6.4-14.4-14.3-14.4z" p-id="77771" fill="#ffffff"></path></svg>',func:function(){var r=e.createSceneObjectOnTree("ScriptsLoader","EChartsDiv");r.json=t.echartsPreLoaderJson,r.reload()}},{name:"EChartsDiv",keywords:["EChartsDiv"],description:"EChartsDiv",icon:'<svg t="1716186433241" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="79679" ><path d="M960 960H64V64h896v896zM70.96 513.29c0.01 245.56 196.83 443.05 441.66 443.15 246.94 0.1 443.98-197.14 443.82-444.26-0.16-243.52-197.53-441.53-440.16-441.59-247.72-0.07-445.33 196.38-445.32 442.7z" fill="#ffffff" p-id="79680"></path><path d="M70.96 513.29c-0.01-246.32 197.6-442.77 445.32-442.7 242.63 0.06 439.99 198.07 440.16 441.59 0.16 247.13-196.88 444.36-443.82 444.26-244.82-0.1-441.65-197.59-441.66-443.15z m633.14 68.2c7.49 3.2 12.17 4.8 16.48 7.09 25.57 13.6 35.14 39.43 23.56 63.15-10.8 22.14-39.86 31.29-62.35 19.64-23.19-12.02-30.28-38.79-17.1-65.3 3.14-6.31 7.14-12.18 10.37-18.45 45.74-88.63 28.75-194.17-42.56-264.81-71.13-70.47-178.18-84.95-267.93-36.25-84.39 45.79-130.62 145.98-111.52 241.69 45.72 229.16 306.97 318.08 483.42 164.53 38.91-33.86 68.75-26.03 86.76 22.63 1.18 3.2 3.91 5.82 6.16 9.07 30.27-32.97 24.52-71.61-10.28-92.19-10.22-6.05-19.78-17.49-24.03-28.61-15.32-40.11-56.17-52.1-90.98-22.19z" p-id="79681" fill="#ffffff"></path></svg>',func:function(){return o(b,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,(0,s.setEchartsBeforeScript)(e)];case 1:return t.sent(),e.createSceneObjectOnTree("EChartsDiv","EChartsDiv"),[2]}}))}))}},{name:"CircleButton",keywords:["CircleButton"],description:"",icon:'<svg t="1715931130649" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="128966" ><path d="M511.089778 967.111111a455.111111 455.111111 0 1 1 0-910.222222 455.111111 455.111111 0 0 1 0 910.222222z m0-56.888889a398.222222 398.222222 0 1 0 0-796.444444 398.222222 398.222222 0 0 0 0 796.444444z m0-170.666666a227.555556 227.555556 0 1 1 0-455.111112 227.555556 227.555556 0 0 1 0 455.111112z" fill="#ffffff" p-id="128967"></path></svg>',func:function(){e.createSceneObjectOnTree("CircleButton","")}},{name:"CircleButtonsTool",keywords:["CircleButtonsTool"],description:"",icon:'<svg t="1715931130649" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="128966" ><path d="M511.089778 967.111111a455.111111 455.111111 0 1 1 0-910.222222 455.111111 455.111111 0 0 1 0 910.222222z m0-56.888889a398.222222 398.222222 0 1 0 0-796.444444 398.222222 398.222222 0 0 0 0 796.444444z m0-170.666666a227.555556 227.555556 0 1 1 0-455.111112 227.555556 227.555556 0 0 1 0 455.111112z" fill="#ffffff" p-id="128967"></path></svg>',func:function(){e.createSceneObjectOnTree("CircleButtonsTool","")}},(0,d.createCommand_)(e),{name:"RectangleButton",keywords:["RectangleButton"],description:"",icon:'<svg t="1716186973203" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="82730" ><path d="M103 131c-46.2 10.2-80.4 40.6-96.4 86l-5.6 16v560l5.6 16c7.4 21 17 36.2 31.6 50.8 14.6 14.6 29.8 24.2 50.8 31.6l16 5.6h816l16-5.6c21-7.4 36.2-17 50.8-31.6 14.8-14.6 24.4-30.2 31-50.2l5.2-15.4V231.8l-5.2-15.4c-6.6-20-16.2-35.6-31-50.2-14.6-14.6-29.8-24.2-50.8-31.6l-16-5.6-403-0.4c-328.6-0.2-405.2 0.2-415 2.4z m819.2 68.2c13.4 6.2 24.8 17.4 31.2 30.4l5.6 11.4v544l-5.6 11.4c-6.4 13-17.8 24.2-31.2 30.4l-9.2 4.2h-800l-9.2-4.2c-13.4-6.2-24.8-17.4-31.2-30.4l-5.6-11.4-0.6-267.8c-0.6-294-1-279.4 11.4-296.6 7.8-10.8 18.2-18.6 30.8-23 9.8-3.4 30.4-3.4 407.4-3l397 0.4 9.2 4.2z" p-id="82731" fill="#ffffff"></path><path d="M117 226.8c-7.4 3.4-16 12.4-18.8 19.8-1.6 4-2.2 87-2.2 266.6 0 217.2 0.4 262 2.8 267.4 3.2 7.8 12.2 16.4 19.8 19.2 8 3 780.8 3 788.8 0 7.6-2.8 16.6-11.4 19.8-19.2 4.2-9.6 4.2-525.6 0-535.2-3.2-7.8-12.2-16.4-19.8-19.2-4-1.6-124.6-2.2-395-2.2-320.8 0.2-390.4 0.6-395.4 2.8z" p-id="82732" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("RectangleButton","")}},{name:"RectangleButtonsTool",keywords:["RectangleButtonsTool"],description:"",icon:'<svg t="1716186973203" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="82730" ><path d="M103 131c-46.2 10.2-80.4 40.6-96.4 86l-5.6 16v560l5.6 16c7.4 21 17 36.2 31.6 50.8 14.6 14.6 29.8 24.2 50.8 31.6l16 5.6h816l16-5.6c21-7.4 36.2-17 50.8-31.6 14.8-14.6 24.4-30.2 31-50.2l5.2-15.4V231.8l-5.2-15.4c-6.6-20-16.2-35.6-31-50.2-14.6-14.6-29.8-24.2-50.8-31.6l-16-5.6-403-0.4c-328.6-0.2-405.2 0.2-415 2.4z m819.2 68.2c13.4 6.2 24.8 17.4 31.2 30.4l5.6 11.4v544l-5.6 11.4c-6.4 13-17.8 24.2-31.2 30.4l-9.2 4.2h-800l-9.2-4.2c-13.4-6.2-24.8-17.4-31.2-30.4l-5.6-11.4-0.6-267.8c-0.6-294-1-279.4 11.4-296.6 7.8-10.8 18.2-18.6 30.8-23 9.8-3.4 30.4-3.4 407.4-3l397 0.4 9.2 4.2z" p-id="82731" fill="#ffffff"></path><path d="M117 226.8c-7.4 3.4-16 12.4-18.8 19.8-1.6 4-2.2 87-2.2 266.6 0 217.2 0.4 262 2.8 267.4 3.2 7.8 12.2 16.4 19.8 19.2 8 3 780.8 3 788.8 0 7.6-2.8 16.6-11.4 19.8-19.2 4.2-9.6 4.2-525.6 0-535.2-3.2-7.8-12.2-16.4-19.8-19.2-4-1.6-124.6-2.2-395-2.2-320.8 0.2-390.4 0.6-395.4 2.8z" p-id="82732" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("RectangleButtonsTool","")}},{name:"MyLabel",keywords:["MyLabel"],description:"",icon:'<svg t="1716187032708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="84708" ><path d="M222.592 765.44V589.44l268.8-268.8 176.064 176.064-268.8 268.8H222.72z m422.4-598.464l176.064 176.064-99.264 99.328-176.128-176.064 99.328-99.328z m257.536 203.264a38.4 38.4 0 0 0 0-54.336l-230.4-230.4a38.4 38.4 0 0 0-54.272 0L145.728 557.568v284.672h284.672l472.064-472z" fill="#ffffff" p-id="84709"></path></svg>',func:function(){e.createSceneObjectOnTree("MyLabel","")}},{name:"TempObjsCreatorTool",keywords:["TempObjsCreatorTool"],description:"",icon:'<svg t="1716187079153" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="87883" ><path d="M841.955556 487.537778a22.755556 22.755556 0 0 0 22.755555-22.755556V102.4a22.755556 22.755556 0 0 0-22.755555-22.755556H147.342222a22.755556 22.755556 0 0 0-22.755555 22.755556v819.2a22.755556 22.755556 0 0 0 22.755555 22.755556h414.151111a22.755556 22.755556 0 1 0 0-45.511112H170.666667V125.155556h648.533333v341.333333a22.755556 22.755556 0 0 0 22.755556 21.048889z" fill="#ffffff" p-id="87884"></path><path d="M771.982222 525.653333a199.68 199.68 0 1 0 199.111111 199.68 199.68 199.68 0 0 0-199.111111-199.68z m0 353.28a154.168889 154.168889 0 1 1 153.6-153.6 153.6 153.6 0 0 1-153.6 153.6z" fill="#ffffff" p-id="87885"></path><path d="M791.893333 715.093333V608.711111a19.911111 19.911111 0 0 0-39.822222 0v126.293333a19.911111 19.911111 0 0 0 19.911111 19.911112h108.088889a19.911111 19.911111 0 0 0 0-39.822223zM398.222222 186.595556a19.911111 19.911111 0 0 0-27.875555 0L288.995556 269.084444l-31.857778-31.857777a20.48 20.48 0 0 0-27.875556 0 19.911111 19.911111 0 0 0 0 28.444444l45.511111 45.511111a17.635556 17.635556 0 0 0 13.653334 5.688889 17.635556 17.635556 0 0 0 13.653333-5.688889L398.222222 215.04a19.911111 19.911111 0 0 0 0-28.444444zM728.177778 261.688889a22.755556 22.755556 0 0 0-22.755556-22.755556H465.351111a22.755556 22.755556 0 0 0 0 45.511111h240.071111a22.755556 22.755556 0 0 0 22.755556-22.755555zM398.222222 380.586667a19.342222 19.342222 0 0 0-27.875555 0L288.995556 462.506667l-31.857778-31.288889a19.342222 19.342222 0 0 0-27.875556 0 19.911111 19.911111 0 0 0 0 28.444444l45.511111 45.511111a19.911111 19.911111 0 0 0 14.222223 5.688889 18.773333 18.773333 0 0 0 13.653333-5.688889L398.222222 408.462222a19.342222 19.342222 0 0 0 0-27.875555zM658.204444 455.111111a22.755556 22.755556 0 0 0-22.755555-22.755555h-170.666667a22.755556 22.755556 0 1 0 0 45.511111h170.666667a22.755556 22.755556 0 0 0 22.755555-22.755556zM465.351111 640.568889a23.324444 23.324444 0 0 0 0 46.08H512a23.324444 23.324444 0 0 0 0-46.08zM233.244444 663.893333a74.524444 74.524444 0 1 0 74.524445-74.524444 74.524444 74.524444 0 0 0-74.524445 74.524444z m109.226667 0a34.702222 34.702222 0 0 1-34.702222 34.702223 35.271111 35.271111 0 1 1 33.564444-34.702223z" fill="#ffffff" p-id="87886"></path></svg>',func:function(){e.createSceneObjectOnTree("TempObjsCreatorTool","")}},(0,g.createCommand_)(e),(0,l.createCommand_)(e),(0,f.createCommand_)(e),(0,m.createCommand_)(e),(0,y.createCommand_)(e),(0,p.createCommand_)(e),{name:"",keywords:["LocationSearch"],description:"",icon:'<svg t="1716187810449" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="103137" ><path d="M483.584 179.968a304.64 304.64 0 1 1-215.296 89.344 302.592 302.592 0 0 1 215.296-89.344z m0-102.4a407.04 407.04 0 1 0 0 814.08 407.04 407.04 0 0 0 0-814.08z" fill="#ffffff" p-id="103138"></path><path d="M737.792 681.728a50.944 50.944 0 0 0-36.096 87.04l161.28 161.28a50.944 50.944 0 0 0 72.192 0 50.944 50.944 0 0 0 0-72.192l-161.28-161.28a50.944 50.944 0 0 0-36.096-14.848z" fill="#ffffff" p-id="103139"></path><path d="M659.968 477.44a51.456 51.456 0 0 1-72.448 0l-108.8-108.544a51.456 51.456 0 0 1 0-72.448 51.456 51.456 0 0 1 72.448 0l108.544 108.544c19.968 19.968 20.053333 52.309333 0.256 72.448z" fill="#ffffff" p-id="103140"></path></svg>',func:function(){e.createSceneObjectOnTree("LocationSearch","")}},(0,u.createCommand_)(e),(0,c.createCommand_)(e),(0,h.createCommand_)(e)];try{for(var _=a(w),P=_.next();!P.done;P=_.next()){var x=P.value;e.commands.register(n(n({},x),{category:"UI"}))}}catch(e){r={error:e}}finally{try{P&&!P.done&&(v=_.return)&&v.call(_)}finally{if(r)throw r.error}}}},45460:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSpecialEffects1=void 0;var i=r(12335);t.registerSpecialEffects1=function(e){var t,r;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var a=[{name:"",keywords:["CzmViewShed"],description:"CzmViewShed",icon:'<svg t="1716167041365" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2849" ><path d="M902 332l-11.4-11.7a624.3 624.3 0 0 0-323.7-180C450.5 118.1 314.3 135.2 162.5 191l-10.5 2.1v597.3A60 60 0 0 0 122 842a60 60 0 0 0 120 12.3l660-203.7V332z m-30 23.1V452c-18.6-19.2-37.8-37.2-57-53.4z m-81.3 24.6A540 540 0 0 0 572 276.2v-105A593.4 593.4 0 0 1 856.7 329z m-248.7 0a660 660 0 0 0-180-4.8V302a603.9 603.9 0 0 1 180 0z m-210 0A660 660 0 0 0 182 422v-73.5a983.1 983.1 0 0 1 150-41.4z m-48.3 429l426-330A505.8 505.8 0 0 1 842 635z m-51 1.5A60 60 0 0 0 182 782V453.5a631.8 631.8 0 0 1 357.6-42.9 357.6 357.6 0 0 1 143.4 52.2zM572 386.6v-79.5a505.8 505.8 0 0 1 194.1 91.5l-58.2 45A387.9 387.9 0 0 0 572 386.6zM542 165.5V272a635.4 635.4 0 0 0-180 0V167.6a606 606 0 0 1 180-2.1z m-210 6.9v104.4A990 990 0 0 0 182 317V214.1a1031.7 1031.7 0 0 1 150-41.7z m540 454.8a551.1 551.1 0 0 0-138-165.6l56.4-43.8A753.3 753.3 0 0 1 872 495.2v132z" fill="#ffffff" p-id="2850"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmViewShed",this.name)}},{name:"",keywords:["CzmCameraVideo"],description:"",icon:'<svg t="1716167114515" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3909" ><path d="M126.691207 593.276074V217.128834a92.662577 92.662577 0 0 1 92.400818-92.400818h481.112474a91.615542 91.615542 0 0 1 68.842536 31.018405 28.00818 28.00818 0 0 0 39.263803 1.96319 27.615542 27.615542 0 0 0 2.617587-39.263803 147.893661 147.893661 0 0 0-110.593047-49.603272H219.092025A148.548057 148.548057 0 0 0 71.067485 217.128834v376.01636a147.762781 147.762781 0 0 0 43.451942 104.703477 27.877301 27.877301 0 0 0 19.631902 8.114519 27.746421 27.746421 0 0 0 19.631902-47.378323 91.615542 91.615542 0 0 1-27.092024-65.308793z" fill="#ffffff" p-id="3910"></path><path d="M805.693252 192.261759H324.973415A148.155419 148.155419 0 0 0 177.472393 340.286299v466.584867A148.155419 148.155419 0 0 0 324.842536 955.419223H805.693252a148.417178 148.417178 0 0 0 147.370143-148.548057V340.286299A148.155419 148.155419 0 0 0 805.693252 192.261759zM325.104294 248.670757H805.693252a92.531697 92.531697 0 0 1 91.615541 91.615542v466.584867a92.662577 92.662577 0 0 1-91.615541 92.269938H324.842536a92.269939 92.269939 0 0 1-91.615542-92.269938V340.286299a92.662577 92.662577 0 0 1 91.8773-91.615542z" fill="#ffffff" p-id="3911"></path><path d="M375.100204 727.034765h219.353784a60.335378 60.335378 0 0 0 59.680981-62.298569V482.290389a60.597137 60.597137 0 0 0-62.298568-62.429448H375.100204a60.597137 60.597137 0 0 0-62.298568 62.429448v182.314928a60.597137 60.597137 0 0 0 62.298568 62.429448z m214.903886-52.351738H375.100204c-9.292434 0-10.470348-5.627812-10.470347-10.601227V482.290389c0-7.460123 2.879346-10.339468 10.470347-10.601227h216.736197c9.292434 0 10.470348 5.627812 10.470347 10.601227v182.184049c0 7.460123-3.010225 10.339468-10.732106 10.601227zM685.415133 651.124744l89.91411 70.805726a26.175869 26.175869 0 0 0 41.881391-20.417178V445.644172a26.175869 26.175869 0 0 0-42.01227-20.286299L685.284254 497.341513a26.175869 26.175869 0 0 0-9.815951 20.286299v113.210634a26.175869 26.175869 0 0 0 9.94683 20.286298zM727.165644 618.274029v-88.605317l38.08589-30.233129v148.809816z" fill="#ffffff" p-id="3912"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmCameraVideo",this.name)}},{name:"",keywords:["CzmDetectives"],description:"",icon:'<svg t="1716167210882" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6212" ><path d="M549.6832 512.8192a37.6832 37.6832 0 0 1-37.6832 37.6832v75.434667c62.395733 0 113.0496-50.653867 113.0496-113.117867H549.6832z m-37.6832 37.6832a37.6832 37.6832 0 0 1-37.6832-37.6832H398.9504c0 62.464 50.5856 113.117867 113.0496 113.117867V550.5024z m-37.6832-37.6832c0-20.821333 16.861867-37.6832 37.6832-37.6832V399.633067c-62.464 0-113.0496 50.653867-113.0496 113.117866h75.3664z m37.6832-37.6832c20.821333 0 37.6832 16.861867 37.6832 37.6832H625.0496c0-62.464-50.653867-113.117867-113.0496-113.117867v75.434667zM698.368 326.2464a37.6832 37.6832 0 1 0-53.248 53.384533l53.248-53.384533z m39.662933 186.7776h-37.614933 37.614933z m-92.842666 133.393067a37.751467 37.751467 0 0 0 53.248 53.316266l-53.248-53.316266z m-319.624534 52.974933a37.6832 37.6832 0 1 0 53.248-53.384533l-53.248 53.384533z m-39.662933-186.7776h0z m92.910933-133.393067a37.751467 37.751467 0 0 0-53.248-53.316266l53.248 53.316266z m426.257067-159.675733a37.6832 37.6832 0 1 0-53.316267 53.316267l53.248-53.248z m-53.316267 533.162667a37.751467 37.751467 0 0 0 53.248 53.316266l-53.248-53.248z m-532.821333 53.316266a37.6832 37.6832 0 1 0 53.248-53.248l-53.248 53.248zM135.236267 512.8192h0z m137.0112-239.957333a37.751467 37.751467 0 0 0-53.316267-53.248l53.248 53.248z m372.872533 106.769066c17.544533 17.476267 31.402667 38.229333 40.96 61.166934l69.563733-28.8768a263.9872 263.9872 0 0 0-57.275733-85.674667l-53.248 53.384533z m40.96 61.166934c9.4208 22.869333 14.336 47.445333 14.336 72.226133h75.298133c0-34.679467-6.826667-69.085867-20.0704-101.034667l-69.632 28.808534z m14.336 72.226133c0 24.7808-4.9152 49.288533-14.336 72.157867l69.563733 28.8768c13.243733-32.085333 20.0704-66.3552 20.0704-101.034667H700.416z m-14.336 72.157867c-9.557333 22.869333-23.415467 43.690667-40.96 61.2352l53.248 53.316266c24.576-24.507733 43.963733-53.589333 57.275733-85.674666l-69.632-28.8768z m-307.2 60.8256a188.552533 188.552533 0 0 1-40.96-61.166934l-69.632 28.8768c13.312 32.085333 32.768 61.098667 57.344 85.674667l53.248-53.384533z m-40.96-61.166934a188.6208 188.6208 0 0 1-14.336-72.226133H248.2176c0 34.679467 6.826667 69.0176 20.138667 101.034667l69.632-28.808534z m-14.336-72.226133c0-24.7808 4.9152-49.288533 14.336-72.157867l-69.632-28.8768c-13.243733 32.017067-20.0704 66.3552-20.0704 101.034667h75.3664z m14.336-72.157867c9.557333-22.9376 23.415467-43.690667 40.96-61.2352l-53.248-53.316266c-24.576 24.507733-44.032 53.589333-57.344 85.674666l69.632 28.8768z m413.832533-167.594666a339.421867 339.421867 0 0 1 99.259734 239.957333h75.3664c0-109.9776-43.690667-215.4496-121.309867-293.2736l-53.316267 53.316267z m99.259734 239.957333a339.421867 339.421867 0 0 1-99.259734 239.889067l53.248 53.316266a414.856533 414.856533 0 0 0 121.378134-293.205333H851.012267z m-578.7648 239.889067a339.490133 339.490133 0 0 1-99.328-239.889067H97.553067c0 109.909333 43.690667 215.4496 121.378133 293.205333l53.248-53.248zM172.919467 512.8192c0-89.975467 35.703467-176.264533 99.328-239.957333l-53.316267-53.248A414.9248 414.9248 0 0 0 97.553067 512.750933h75.3664z" fill="#ffffff" p-id="6213"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmDetectives",this.name)}},{name:"",keywords:["CzmRoad"],description:"CzmRoad",icon:'<svg t="1716167423947" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7486"><path d="M729.6 454.4C796.8 176 403.2 57.6 403.2 57.6H316.8s288 99.2 192 348.8C409.6 656 0 966.4 0 966.4h358.4s304-230.4 371.2-512zM534.4 57.6H448s387.2 118.4 323.2 419.2c-60.8 281.6-310.4 489.6-310.4 489.6H832s192-163.2 192-467.2C1024 198.4 534.4 57.6 534.4 57.6z" fill="#ffffff" p-id="7487"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmRoad",this.name)}},{name:"",keywords:["CzmSignalTransmission"],description:"",icon:'<svg t="1716167471831" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8580" ><path d="M170.666667 631.466667v324.266666H68.266667V631.466667h102.4m18.090666-68.266667H50.176A50.176 50.176 0 0 0 0 613.376v360.448A50.176 50.176 0 0 0 50.176 1024h138.581333A50.176 50.176 0 0 0 238.933333 973.824V613.376A50.176 50.176 0 0 0 188.757333 563.2zM563.2 392.533333v563.2h-102.4V392.533333h102.4m18.090667-68.266666h-138.581334A50.176 50.176 0 0 0 392.533333 374.442667v599.381333A50.176 50.176 0 0 0 442.709333 1024h138.581334A50.176 50.176 0 0 0 631.466667 973.824V374.442667A50.176 50.176 0 0 0 581.290667 324.266667zM955.733333 68.266667v887.466666h-102.4V68.266667h102.4m18.090667-68.266667h-138.581333A50.176 50.176 0 0 0 785.066667 50.176v923.648A50.176 50.176 0 0 0 835.242667 1024h138.581333A50.176 50.176 0 0 0 1024 973.824V50.176A50.176 50.176 0 0 0 973.824 0z" p-id="8581" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmSignalTransmission",this.name)}},{name:"",keywords:["CzmSignalTransmissionCollection"],description:"",icon:'<svg t="1716167471831" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8580" ><path d="M170.666667 631.466667v324.266666H68.266667V631.466667h102.4m18.090666-68.266667H50.176A50.176 50.176 0 0 0 0 613.376v360.448A50.176 50.176 0 0 0 50.176 1024h138.581333A50.176 50.176 0 0 0 238.933333 973.824V613.376A50.176 50.176 0 0 0 188.757333 563.2zM563.2 392.533333v563.2h-102.4V392.533333h102.4m18.090667-68.266666h-138.581334A50.176 50.176 0 0 0 392.533333 374.442667v599.381333A50.176 50.176 0 0 0 442.709333 1024h138.581334A50.176 50.176 0 0 0 631.466667 973.824V374.442667A50.176 50.176 0 0 0 581.290667 324.266667zM955.733333 68.266667v887.466666h-102.4V68.266667h102.4m18.090667-68.266667h-138.581333A50.176 50.176 0 0 0 785.066667 50.176v923.648A50.176 50.176 0 0 0 835.242667 1024h138.581333A50.176 50.176 0 0 0 1024 973.824V50.176A50.176 50.176 0 0 0 973.824 0z" p-id="8581" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmSignalTransmissionCollection",this.name)}},{name:"",keywords:["CzmCityBasePoint"],description:"",icon:'<svg t="1716167528903" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9726" ><path d="M883.864 974.56l-49.4-98.864a101.84 101.84 0 0 0-91.592-56.656h-16.248L584.104 242.704A102.2 102.2 0 0 0 614.4 170c0-56.504-45.936-102.48-102.4-102.48-56.464 0-102.4 45.976-102.4 102.48 0 28.392 11.6 54.12 30.296 72.696L297.376 819.04h-15.2a101.952 101.952 0 0 0-91.2 55.88l-50.704 99.384c-11.6 22.72 4.96 49.696 30.4 49.696h682.656c25.312 0 41.88-26.72 30.536-49.44zM640.384 754.704l-77.008-68.504 49.24-43.8 27.768 112.304z m-30.424 64.336h-195.92L512 731.904l97.96 87.136zM512 135.848a34.184 34.184 0 0 1 34.136 34.16A34.184 34.184 0 0 1 512 204.168a34.184 34.184 0 0 1-34.136-34.16A34.184 34.184 0 0 1 512 135.848z m-9.04 136.216c2.984 0.264 6 0.424 9.04 0.424 3.04 0 6.056-0.16 9.04-0.424l33.888 137.064H469.072l33.888-137.064z m-50.784 205.384h119.648l22.264 90.024L512 640.496l-82.08-73.024 22.256-90.024zM411.392 642.4l49.232 43.8-77.008 68.504L411.392 642.4z m-184.968 313.28l25.36-49.688a33.984 33.984 0 0 1 30.4-18.632h460.688c13.016 0 24.712 7.24 30.528 18.88l24.704 49.44h-571.68z m777.52-927.856a514.024 514.024 0 0 1 0 284.368 34.128 34.128 0 1 1-65.576-18.976 445.624 445.624 0 0 0 0-246.416 34.128 34.128 0 1 1 65.576-18.976zM86.488 43.888a445.52 445.52 0 0 0 0 252.248 34.16 34.16 0 0 1-23.008 42.464 34.128 34.128 0 0 1-42.432-23.032 513.88 513.88 0 0 1 0-291.12 34.128 34.128 0 1 1 65.44 19.44z m784.616 16.288a376.672 376.672 0 0 1 0 219.664 34.128 34.128 0 1 1-65.28-20 308.264 308.264 0 0 0 0-179.656 34.128 34.128 0 1 1 65.28-20zM219.056 77.36a308.2 308.2 0 0 0 0 185.304 34.128 34.128 0 1 1-65.08 20.632 376.528 376.528 0 0 1 0-226.56 34.12 34.12 0 0 1 42.848-22.256 34.16 34.16 0 0 1 22.232 42.88z m518.792 14.544a239.488 239.488 0 0 1 0 156.208 34.128 34.128 0 1 1-64.504-22.36 171.12 171.12 0 0 0 0-111.48 34.136 34.136 0 1 1 64.504-22.36z m-386.264 19.784a171.016 171.016 0 0 0 0 116.64 34.16 34.16 0 0 1-20.376 43.792 34.12 34.12 0 0 1-43.76-20.384 239.36 239.36 0 0 1 0-163.456 34.12 34.12 0 0 1 43.76-20.384 34.16 34.16 0 0 1 20.376 43.792z" fill="#ffffff" p-id="9727"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmCityBasePoint",this.name)}},{name:"",keywords:["CzmCityCylinderBillboard"],description:"",icon:'<svg t="1716168201591" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="29964" ><path d="M722.307409 392.935576a15.641525 15.641525 0 0 1-13.650785-7.394175 235.191653 235.191653 0 0 0-154.708899-104.65602 15.641525 15.641525 0 0 1-13.366394-16.210307V16.401418a13.650785 13.650785 0 0 1 5.687828-11.944437 13.935177 13.935177 0 0 1 12.513219-4.26587A509.629314 509.629314 0 0 1 967.168369 276.050728a15.641525 15.641525 0 0 1 0 12.797611 20.760569 20.760569 0 0 1-8.816133 9.669307l-230.641391 93.564756a16.494699 16.494699 0 0 1-6.541001 0z m-149.021071-142.195679a266.759094 266.759094 0 0 1 155.562073 104.65602l201.633472-81.335928A479.199438 479.199438 0 0 0 573.286338 34.318074zM113.994294 823.219701h-1.706348a15.357133 15.357133 0 0 1-11.375654-6.25661A513.895184 513.895184 0 0 1 134.754864 164.853707 504.510269 504.510269 0 0 1 465.217622 0.191111a13.935177 13.935177 0 0 1 12.228828 3.981479 17.063481 17.063481 0 0 1 5.687827 11.944437V264.675074a16.494699 16.494699 0 0 1-13.082002 16.210307A233.485305 233.485305 0 0 0 278.372499 512.095555 228.935043 228.935043 0 0 0 313.068245 632.961883a16.210307 16.210307 0 0 1-3.412696 20.191786L124.232383 819.238222a13.935177 13.935177 0 0 1-10.238089 3.981479zM450.713662 34.318074A478.061873 478.061873 0 0 0 32.373975 512.095555a473.22722 473.22722 0 0 0 85.317407 271.593747l162.103074-145.323984a266.759094 266.759094 0 0 1 172.341163-386.772246V34.318074z" fill="#ffffff" p-id="29965"></path><path d="M80.720506 519.489731a7.394175 7.394175 0 0 1-7.962959-7.394176A443.366127 443.366127 0 0 1 400.945175 85.508518a8.247349 8.247349 0 0 1 9.669306 5.687828 8.531741 8.531741 0 0 1-5.687827 9.669306A426.587037 426.587037 0 0 0 88.967855 512.095555a8.247349 8.247349 0 0 1-8.247349 7.962959zM512.142196 1024a511.904445 511.904445 0 0 1-349.232588-137.929809 16.210307 16.210307 0 0 1-4.834653-11.944437 15.072742 15.072742 0 0 1 5.687827-12.228828l184.569991-165.800162a17.063481 17.063481 0 0 1 21.044961 0 231.210174 231.210174 0 0 0 142.195679 49.199705 234.62287 234.62287 0 0 0 228.935043-282.116227 16.77909 16.77909 0 0 1 9.669306-18.76983l229.503826-93.280365a16.210307 16.210307 0 0 1 21.898135 9.669306A516.170315 516.170315 0 0 1 512.142196 1024zM199.311702 874.978928A479.48383 479.48383 0 0 0 991.626025 512.095555a483.465309 483.465309 0 0 0-16.210307-122.572675l-199.073951 81.335929a249.411221 249.411221 0 0 1 1.706348 41.236746 265.621528 265.621528 0 0 1-418.339687 218.412563z" fill="#ffffff" p-id="29966"></path><path d="M512.142196 951.480204a7.678567 7.678567 0 0 1-8.24735-7.962958 7.962958 7.962958 0 0 1 8.24735-8.24735A424.311906 424.311906 0 0 0 935.316536 512.095555a7.962958 7.962958 0 1 1 15.925917 0A439.66904 439.66904 0 0 1 512.142196 951.480204z" fill="#ffffff" p-id="29967"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmCityCylinderBillboard",this.name)}},{name:"GifPoi",keywords:["GeoGifPoi"],description:"GeoGifPoi()",icon:'<svg t="1716168264196" class="icon" viewBox="0 0 1027 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31665" ><path d="M1004.8 544l-208 19.2v-217.6c0-22.4-19.2-35.2-35.2-22.4l-128 102.4-60.8-384c-3.2-25.6-32-28.8-41.6-6.4l-128 345.6-198.4-169.6c-19.2-12.8-38.4 6.4-35.2 28.8l60.8 332.8L64 617.6c-19.2 3.2-22.4 32-9.6 44.8l118.4 124.8L64 889.6h201.6l57.6-54.4-80-86.4 112-28.8-38.4-214.4 131.2 112 83.2-227.2 38.4 249.6 86.4-70.4v140.8L800 704l-118.4 140.8 60.8 44.8h214.4l-115.2-86.4 182.4-214.4c9.6-16 0-48-19.2-44.8z m0 0" fill="#ffffff" p-id="31666"></path><path d="M32 1020.8h960c16 0 28.8-16 28.8-32v-12.8c0-19.2-12.8-32-28.8-32H32c-16 0-28.8 16-28.8 32v12.8c0 16 12.8 32 28.8 32z m0 0" fill="#ffffff" p-id="31667"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoGifPoi",this.name)}},{name:"",keywords:["XbsjRadarDetectionVolume"],description:"",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><path fill="#ffffff" d="m20.5,20.48c-2.339,2.34-5.413,3.509-8.485,3.509s-6.146-1.169-8.485-3.509C-1.149,15.802-1.149,8.188,3.529,3.51,8.209-1.171,15.822-1.169,20.5,3.51l.707.707-7.071,7.071-.707-.707c-.752-.752-2.097-.717-2.855.029-.367.381-.566.881-.559,1.41.007.534.221,1.033.604,1.406.765.746,2.082.729,2.828-.036l1.432,1.396c-.746.765-1.745,1.194-2.813,1.208-1.068.014-2.078-.39-2.843-1.136-.765-.745-1.194-1.745-1.208-2.813-.014-1.068.39-2.078,1.136-2.843,1.27-1.27,3.393-1.545,4.897-.656l1.44-1.44c-1.008-.719-2.209-1.113-3.473-1.113-1.514,0-2.938.563-4.046,1.579.029.136.046.276.046.421,0,.976-.7,1.786-1.624,1.962-.764,2.121-.315,4.584,1.381,6.281.75.75,1.667,1.271,2.664,1.542.366-.474.933-.785,1.579-.785s1.213.311,1.579.785c.997-.27,1.914-.792,2.664-1.542,1.563-1.564,2.057-3.776,1.531-5.775l1.588-1.588c1.229,2.912.664,6.408-1.705,8.776-1.088,1.088-2.415,1.787-3.812,2.117-.303.72-1.014,1.226-1.844,1.226s-1.542-.506-1.844-1.226c-1.398-.329-2.725-1.029-3.812-2.117-2.259-2.259-2.873-5.542-1.86-8.367-.297-.349-.483-.796-.483-1.29,0-1.105.895-2,2-2,.213,0,.415.042.607.104,2.887-2.642,7.25-2.784,10.293-.419l1.428-1.428c-3.925-3.211-9.74-2.987-13.4.672-3.898,3.899-3.898,10.243,0,14.143,3.899,3.899,10.244,3.897,14.143,0,3.16-3.16,3.757-7.926,1.795-11.695l1.461-1.461c2.708,4.599,2.103,10.625-1.842,14.57Z"/></svg>\n            ',func:function(){e.createSceneObjectOnTree("XbsjRadarDetectionVolume",this.name)}},{name:"",keywords:["GeoClassificationPolygon"],description:"",icon:'<svg t="1716189070778" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="162701" ><path d="M518.4 70.83l407.26 295.89c5.61 4.07 7.95 11.3 5.81 17.89L775.92 863.38a16.01 16.01 0 0 1-15.22 11.06H257.3c-6.93 0-13.07-4.46-15.22-11.06L86.52 384.62c-2.14-6.59 0.2-13.81 5.81-17.89L499.6 70.83a16 16 0 0 1 18.8 0z m-9.4 87.11L172.27 402.59l128.62 395.85h416.22l128.62-395.85L509 157.94z" p-id="162702" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoClassificationPolygon",this.name)}},{name:"",keywords:["CzmRainPostProcess"],description:"",icon:i.svg.customization,func:function(){e.createSceneObjectOnTree("CzmRainPostProcess",this.name)}},{name:"",keywords:["CzmSnowPostProcess"],description:"",icon:i.svg.customization,func:function(){e.createSceneObjectOnTree("CzmSnowPostProcess",this.name)}},{name:"",keywords:["CzmParticleSystemPrimitive"],description:"",icon:i.svg.customization,func:function(){e.createSceneObjectOnTree("CzmParticleSystemPrimitive",this.name)}}];try{for(var s=o(a),c=s.next();!c.done;c=s.next()){var l=c.value;e.commands.register(n(n({},l),{category:""}))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}},33361:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSupergraph=void 0,t.registerSupergraph=function(e){var t,o;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"",keywords:["SMCzmGeoCurveFlag"],description:"",icon:'<svg t="1716188511200" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="139678" ><path d="M199.120932 952.891121h69.686702V113.806348H199.120932z" fill="#ffffff" p-id="139679"></path><path d="M824.879068 79.105215v351.590741s-90.279833 29.524407-161.786922 23.665035c-77.451791-6.371356-211.079597-42.722215-288.702049-45.509682C293.098427 405.921623 199.120932 430.667513 199.120932 430.667513V79.133658S287.466603 53.733567 378.571299 57.20368c74.493662 2.986573 201.664781 42.181787 276.101556 45.538126C737.386703 106.524799 824.879068 79.133658 824.879068 79.133658" fill="#ffffff" p-id="139680"></path></svg>',func:function(){e.createSceneObjectOnTree("SMCzmGeoCurveFlag",this.name)}},{name:"",keywords:["SMGeoArc"],description:"",icon:'<svg t="1716188583107" class="icon" viewBox="0 0 1900 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="142421" ><path d="M1873.585 944.29a919.824 919.824 0 0 0-1839.254 0v2.762h1839.254v-2.762z" p-id="142422" fill="#ffffff"></path><path d="M79.316 947.052a868.131 868.131 0 0 1 1736.262 0h78.92a947.052 947.052 0 0 0-1894.103 0h78.92z" p-id="142423" fill="#ffffff"></path><path d="M0 945.474h1894.104V1024H0z" p-id="142424" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoArc",this.name)}},{name:"2",keywords:["SMGeoBezierCurve2"],description:"2",icon:'<svg t="1716188617879" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143522" ><path d="M798.72 172.544c-250.0608-20.48-510.7712 69.7344-532.48 187.6992-9.4208 51.2 18.2272 121.6512 203.4688 171.4176 208.4864 55.9104 217.9072 112.128 215.7568 128.1024C675.84 728.4736 464.6912 815.3088 235.52 819.2v-51.2H81.92v153.6h153.6v-51.2c227.2256-3.6864 485.4784-89.6 500.5312-203.776 10.24-74.5472-75.3664-136.4992-253.2352-184.32-111.7184-30.0032-174.08-71.68-166.4-112.64 6.9632-37.7856 67.7888-81.1008 155.0336-110.2848a830.7712 830.7712 0 0 1 327.68-35.2256V276.48H952.32V122.88H798.72zM184.32 870.4h-51.2v-51.2h51.2z m665.6-696.32h51.2v51.2h-51.2z" fill="#ffffff" p-id="143523"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoBezierCurve2",this.name)}},{name:"3",keywords:["SMGeoBezierCurve3"],description:"3",icon:'<svg t="1716188617879" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143522" ><path d="M798.72 172.544c-250.0608-20.48-510.7712 69.7344-532.48 187.6992-9.4208 51.2 18.2272 121.6512 203.4688 171.4176 208.4864 55.9104 217.9072 112.128 215.7568 128.1024C675.84 728.4736 464.6912 815.3088 235.52 819.2v-51.2H81.92v153.6h153.6v-51.2c227.2256-3.6864 485.4784-89.6 500.5312-203.776 10.24-74.5472-75.3664-136.4992-253.2352-184.32-111.7184-30.0032-174.08-71.68-166.4-112.64 6.9632-37.7856 67.7888-81.1008 155.0336-110.2848a830.7712 830.7712 0 0 1 327.68-35.2256V276.48H952.32V122.88H798.72zM184.32 870.4h-51.2v-51.2h51.2z m665.6-696.32h51.2v51.2h-51.2z" fill="#ffffff" p-id="143523"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoBezierCurve3",this.name)}},{name:"",keywords:["SMGeoBezierCurveArrow"],description:"",icon:'<svg t="1716188617879" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143522" ><path d="M798.72 172.544c-250.0608-20.48-510.7712 69.7344-532.48 187.6992-9.4208 51.2 18.2272 121.6512 203.4688 171.4176 208.4864 55.9104 217.9072 112.128 215.7568 128.1024C675.84 728.4736 464.6912 815.3088 235.52 819.2v-51.2H81.92v153.6h153.6v-51.2c227.2256-3.6864 485.4784-89.6 500.5312-203.776 10.24-74.5472-75.3664-136.4992-253.2352-184.32-111.7184-30.0032-174.08-71.68-166.4-112.64 6.9632-37.7856 67.7888-81.1008 155.0336-110.2848a830.7712 830.7712 0 0 1 327.68-35.2256V276.48H952.32V122.88H798.72zM184.32 870.4h-51.2v-51.2h51.2z m665.6-696.32h51.2v51.2h-51.2z" fill="#ffffff" p-id="143523"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoBezierCurveArrow",this.name)}},{name:"N",keywords:["SMGeoBezierCurveN"],description:"N",icon:'<svg t="1716188617879" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="143522" ><path d="M798.72 172.544c-250.0608-20.48-510.7712 69.7344-532.48 187.6992-9.4208 51.2 18.2272 121.6512 203.4688 171.4176 208.4864 55.9104 217.9072 112.128 215.7568 128.1024C675.84 728.4736 464.6912 815.3088 235.52 819.2v-51.2H81.92v153.6h153.6v-51.2c227.2256-3.6864 485.4784-89.6 500.5312-203.776 10.24-74.5472-75.3664-136.4992-253.2352-184.32-111.7184-30.0032-174.08-71.68-166.4-112.64 6.9632-37.7856 67.7888-81.1008 155.0336-110.2848a830.7712 830.7712 0 0 1 327.68-35.2256V276.48H952.32V122.88H798.72zM184.32 870.4h-51.2v-51.2h51.2z m665.6-696.32h51.2v51.2h-51.2z" fill="#ffffff" p-id="143523"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoBezierCurveN",this.name)}},{name:"Cardinal",keywords:["SMGeoCardinalCurve"],description:"Cardinal",icon:'<svg t="1716188702954" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="144628" ><path d="M953.6 806.4c-12.8 0-25.6 6.4-38.4 19.2-121.6-51.2-102.4-134.4-76.8-256 6.4-25.6 12.8-57.6 19.2-89.6 19.2-6.4 25.6-25.6 25.6-44.8 0-19.2-6.4-32-19.2-38.4-6.4-83.2-51.2-160-134.4-204.8-44.8-12.8-89.6-32-140.8-38.4 0-12.8-19.2-32-38.4-32s-38.4 12.8-44.8 32c-76.8 0-153.6 25.6-211.2 70.4-51.2 44.8-83.2 108.8-89.6 179.2-12.8 6.4-19.2 19.2-19.2 38.4s12.8 32 25.6 38.4c6.4 19.2 6.4 44.8 12.8 70.4 51.2 160-38.4 236.8-89.6 268.8-6.4-6.4-19.2-12.8-32-12.8-25.6 0-44.8 19.2-44.8 44.8 0 25.6 19.2 44.8 44.8 44.8 25.6 0 44.8-19.2 44.8-44.8 64-38.4 166.4-128 108.8-313.6 0-19.2-6.4-38.4-6.4-57.6 19.2-6.4 25.6-25.6 25.6-44.8 0-19.2-12.8-38.4-32-44.8 6.4-51.2 32-96 76.8-134.4 51.2-38.4 115.2-64 185.6-64 6.4 12.8 25.6 25.6 44.8 25.6 12.8 0 25.6-12.8 38.4-25.6 44.8 6.4 83.2 19.2 121.6 38.4 44.8 25.6 108.8 76.8 115.2 166.4-19.2 6.4-32 25.6-32 44.8 0 19.2 12.8 32 25.6 38.4-6.4 25.6-12.8 57.6-19.2 83.2-25.6 121.6-51.2 236.8 102.4 300.8 6.4 19.2 19.2 38.4 44.8 38.4 25.6 0 44.8-19.2 44.8-44.8s-19.2-51.2-38.4-51.2z" fill="#ffffff" p-id="144629"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoCardinalCurve",this.name)}},{name:"Cardinal",keywords:["SMGeoCardinalCurveArrow"],description:"Cardinal",icon:'<svg t="1716188702954" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="144628" ><path d="M953.6 806.4c-12.8 0-25.6 6.4-38.4 19.2-121.6-51.2-102.4-134.4-76.8-256 6.4-25.6 12.8-57.6 19.2-89.6 19.2-6.4 25.6-25.6 25.6-44.8 0-19.2-6.4-32-19.2-38.4-6.4-83.2-51.2-160-134.4-204.8-44.8-12.8-89.6-32-140.8-38.4 0-12.8-19.2-32-38.4-32s-38.4 12.8-44.8 32c-76.8 0-153.6 25.6-211.2 70.4-51.2 44.8-83.2 108.8-89.6 179.2-12.8 6.4-19.2 19.2-19.2 38.4s12.8 32 25.6 38.4c6.4 19.2 6.4 44.8 12.8 70.4 51.2 160-38.4 236.8-89.6 268.8-6.4-6.4-19.2-12.8-32-12.8-25.6 0-44.8 19.2-44.8 44.8 0 25.6 19.2 44.8 44.8 44.8 25.6 0 44.8-19.2 44.8-44.8 64-38.4 166.4-128 108.8-313.6 0-19.2-6.4-38.4-6.4-57.6 19.2-6.4 25.6-25.6 25.6-44.8 0-19.2-12.8-38.4-32-44.8 6.4-51.2 32-96 76.8-134.4 51.2-38.4 115.2-64 185.6-64 6.4 12.8 25.6 25.6 44.8 25.6 12.8 0 25.6-12.8 38.4-25.6 44.8 6.4 83.2 19.2 121.6 38.4 44.8 25.6 108.8 76.8 115.2 166.4-19.2 6.4-32 25.6-32 44.8 0 19.2 12.8 32 25.6 38.4-6.4 25.6-12.8 57.6-19.2 83.2-25.6 121.6-51.2 236.8 102.4 300.8 6.4 19.2 19.2 38.4 44.8 38.4 25.6 0 44.8-19.2 44.8-44.8s-19.2-51.2-38.4-51.2z" fill="#ffffff" p-id="144629"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoCardinalCurveArrow",this.name)}},{name:"SM",keywords:["SMGeoCircle"],description:"SM",icon:'<svg t="1716188734013" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="145859" ><path d="M511.99 960.22C264.84 960.22 63.77 759.15 63.77 512S264.84 63.78 511.99 63.78 960.23 264.85 960.23 512 759.14 960.22 511.99 960.22z m0-823.81C304.88 136.41 136.4 304.89 136.4 512s168.48 375.59 375.59 375.59c207.13 0 375.61-168.48 375.61-375.59S719.12 136.41 511.99 136.41z" fill="#ffffff" p-id="145860"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoCircle",this.name)}},{name:"",keywords:["SMGeoCloseCurve"],description:"",icon:'<svg t="1716188757792" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="146923" ><path d="M322.816 138.666667c-32.853333 0-61.610667 14.08-87.296 43.264-28.373333 32.298667-51.626667 81.92-67.370667 145.792-19.029333 77.397333-29.482667 173.994667-29.482666 255.402666 0 87.168 23.04 161.962667 66.858666 214.144C253.269333 854.101333 326.144 885.333333 426.666667 885.333333c114.346667 0 233.685333-33.066667 327.253333-87.168 42.666667-24.746667 77.44-52.48 100.736-80.042666 20.778667-24.576 30.677333-46.762667 30.677333-63.914667 0-32.213333-13.952-60.458667-39.466666-81.834667-26.069333-21.845333-62.250667-34.56-100.096-34.56-120.789333 0-202.965333-50.773333-256-156.885333a342.485333 342.485333 0 0 1-23.424-62.976c-3.626667-13.226667-4.906667-18.346667-12.117334-49.536-13.909333-60.458667-26.026667-90.709333-41.728-106.709333a62.506667 62.506667 0 0 0-27.946666-16.042667c-14.933333-4.608-35.072-6.997333-61.738667-6.997333z m0-53.333334c124.885333 0 154.837333 47.189333 183.381333 171.093334 6.826667 29.610667 8.106667 34.730667 11.52 47.317333 5.76 20.693333 11.946667 37.802667 19.712 53.333333 43.562667 87.04 106.666667 127.402667 208.341334 127.402667 101.034667 0 192.896 68.693333 192.896 169.728C938.666667 781.909333 687.872 938.666667 426.666667 938.666667c-243.498667 0-341.333333-167.082667-341.333334-355.541334 0-76.373333 9.173333-179.2 31.061334-268.16C151.381333 172.544 223.36 85.333333 322.816 85.333333z" p-id="146924" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoCloseCurve",this.name)}},{name:"",keywords:["SMGeoDiagonalArrow"],description:"",icon:'<svg t="1716188809765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="149131" ><path d="M769.906931 208.491475 811.109332 249.731738 208.499661 857.969593 167.29726 816.72933Z" fill="#ffffff" p-id="149132"></path><path d="M856.70274 420.186921 602.546226 166.030407 856.70274 166.030407Z" fill="#ffffff" p-id="149133"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoDiagonalArrow",this.name)}},{name:"",keywords:["SMGeoDoubleArrow"],description:"",icon:'<svg t="1716188854474" class="icon" viewBox="0 0 1815 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="153489" ><path d="M1300.759273 90.507636L1391.685818 0H1149.672727v240.942545l104.727273-104.331636c26.344727 23.831273 216.971636 208.826182 31.325091 420.561455-121.018182 138.030545-378.158545 120.459636-378.158546 120.459636s-257.163636 17.570909-378.181818-120.459636c-185.623273-211.781818 4.957091-396.706909 31.325091-420.561455l104.727273 104.331636V0H423.563636l90.926546 90.507636C476.532364 133.096727 0.023273 672.186182 0.023273 903.517091c0 60.253091 0 120.482909 121.018182 120.482909h1573.236363c121.018182 0 121.018182-60.229818 121.018182-120.482909C1815.272727 672.186182 1338.763636 133.12 1300.759273 90.507636z" p-id="153490" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoDoubleArrow",this.name)}},{name:"",keywords:["SMGeoDoveTailDiagonalArrow"],description:"",icon:'<svg t="1716188882626" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="154510" ><path d="M953.6 6.4l-448 153.6c-19.2 6.4-32 19.2-38.4 38.4-6.4 19.2 0 38.4 12.8 51.2l76.8 76.8C441.6 409.6 268.8 473.6 51.2 518.4c-19.2 0-38.4 19.2-38.4 44.8-6.4 25.6 6.4 44.8 25.6 51.2l224 115.2 6.4 236.8c0 25.6 12.8 44.8 38.4 51.2 25.6 6.4 44.8 0 57.6-19.2l358.4-499.2 51.2 51.2c12.8 12.8 32 19.2 51.2 12.8 19.2-6.4 32-19.2 38.4-38.4l153.6-454.4c6.4-19.2 0-38.4-12.8-57.6-12.8-12.8-32-12.8-51.2-6.4z m-153.6 428.8l-32-38.4c-12.8-12.8-32-19.2-44.8-12.8-19.2 0-32 6.4-38.4 19.2l-320 435.2-6.4-134.4c0-19.2-12.8-38.4-32-44.8L185.6 582.4c198.4-51.2 358.4-115.2 473.6-204.8 12.8-12.8 19.2-25.6 19.2-38.4 0-19.2-6.4-32-12.8-38.4l-64-64L902.4 128l-102.4 307.2z" p-id="154511" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoDoveTailDiagonalArrow",this.name)}},{name:"",keywords:["SMGeoDoveTailStraightArrow"],description:"",icon:'<svg t="1716188911275" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="155529" ><path d="M987.78624 501.38624L512 25.6 36.21376 501.38624l393.44128-149.39648L460.39552 998.4h103.20896l30.74048-646.41024z" fill="#ffffff" p-id="155530"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoDoveTailStraightArrow",this.name)}},{name:"SM",keywords:["SMGeoEllipse"],description:"SM",icon:'<svg t="1716188949028" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="156743" ><path d="M512 199.6c53.5 0 105.3 8.7 153.9 25.8 46.4 16.4 88 39.7 123.5 69.3 70.5 58.7 109.3 135.9 109.3 217.3s-38.8 158.5-109.3 217.3c-35.5 29.6-77.1 52.9-123.5 69.3-48.6 17.1-100.4 25.8-153.9 25.8s-105.3-8.7-153.9-25.8c-46.4-16.4-88-39.7-123.5-69.3-70.5-58.8-109.4-135.9-109.4-217.3S164 353.5 234.5 294.7c35.5-29.6 77.1-52.9 123.5-69.3 48.7-17.1 100.5-25.8 154-25.8m0-59.5C265.5 140.1 65.7 306.6 65.7 512c0 205.4 199.8 371.9 446.3 371.9S958.3 717.4 958.3 512c0-205.4-199.8-371.9-446.3-371.9z" p-id="156744" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoEllipse",this.name)}},{name:"",keywords:["SMGeoFreeline"],description:"",icon:'<svg t="1716188972132" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="157938" ><path d="M742.414275 1001.847467c-6.433526 0-13.132088-1.563612-19.154245-4.812609-12.591783-6.742565-20.980847-19.553335-20.980847-34.261314a37.996382 37.996382 0 0 1 5.018293-18.884093c73.141834-130.655735 251.235998-499.813446 195.928345-635.487476-8.16496-20.029172-21.019733-32.253588-40.431851-38.494732-62.667272-20.035312-153.856134 85.193311-234.333027 178.202635-83.295078 96.124268-162.034397 186.915064-245.7214 193.419197-32.401967 2.477424-62.262042-7.540743-88.647993-29.783327-82.747609-69.597101-27.447119-202.529693 21.289885-319.732021 25.581632-61.393255 60.524468-145.549957 47.939849-171.305551-0.534166-1.170662-1.608637-3.255137-7.900947-5.076622-49.41341-14.95869-172.60515 132.025942-252.271584 273.16238-10.719132 18.85851-35.091216 25.877367-54.502311 15.473413-19.418258-10.403954-26.649963-34.07405-15.936971-52.9387 46.865377-83.113953 210.495108-350.942861 346.548784-310.10578 26.109658 7.939833 45.661969 23.806195 56.645115 46.183855 27.582195 56.586786-6.562463 138.78795-46.067199 234.005568-36.693714 88.326675-82.483596 198.366883-43.1211 231.534284 12.854772 10.803044 22.63451 11.580756 29.731138 10.930957 50.217728-3.90596 124.800377-89.883123 190.543708-165.849282 101.637842-117.331265 206.756971-238.560304 320.974315-202.00883 42.046628 13.402241 73.110111 42.406832 89.986477 83.899852 79.009472 193.947224-171.401742 650.253784-200.188368 701.636035-7.231705 12.874215-21.025872 20.286022-35.348066 20.286022v0.006139z" fill="#ffffff" p-id="157939"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoFreeline",this.name)}},{name:"",keywords:["SMGeoGatheringPlace"],description:"",icon:'<svg t="1716188993301" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="159196" ><path d="M622.592 880.64c-119.808 0-238.592-26.624-326.656-72.704-76.288-39.936-125.44-120.32-154.112-180.736-34.816-74.24-57.344-162.816-62.464-242.688-6.656-99.328 14.336-171.008 58.368-201.728 33.28-23.04 64-34.304 93.696-34.304 69.632 0 115.712 60.416 165.376 124.416 45.568 59.392 97.792 126.464 173.568 152.576 43.52 14.848 89.6 23.04 133.632 30.72 67.072 11.776 130.56 22.528 177.664 57.344 26.624 19.456 45.056 44.544 56.832 76.8 12.288 33.28 16.896 73.728 13.312 122.88-2.56 37.888-23.552 91.648-110.08 129.024-57.344 24.576-135.168 38.4-219.136 38.4zM230.912 199.68c-18.944 0-39.936 8.192-64.512 25.088-27.648 19.456-41.472 79.36-36.352 156.16 4.608 73.728 26.112 155.648 57.856 224.768 35.84 76.288 80.896 130.56 131.072 157.184 80.896 42.496 191.488 66.56 303.104 66.56 159.232 0 273.408-49.152 278.016-119.296 10.752-165.888-75.264-180.736-205.824-203.264-46.08-8.192-94.208-16.384-141.824-32.768C462.848 442.368 406.016 368.64 355.84 303.616 312.832 247.808 275.456 199.68 230.912 199.68z" fill="#ffffff" p-id="159197"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoGatheringPlace",this.name)}},{name:"",keywords:["SMGeoLune"],description:"",icon:'<svg t="1716189016231" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="160489" ><path d="M67.1744 192.7168C279.7568-2.816 610.6112 3.6864 815.4624 208.5376c204.8512 204.8512 211.3536 535.7056 15.872 748.288l-36.7616 39.936-38.4-38.4L65.5872 267.8784l-38.4-38.4 39.936-36.7104zM741.888 282.112c-151.552-151.552-388.864-168.6016-559.4624-48.8448l-2.4576 1.7408 608.9728 608.9728 1.792-2.4064c117.0432-166.7072 103.424-397.1072-38.7072-548.9664l-10.1376-10.496z" p-id="160490" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoLune",this.name)}},{name:"",keywords:["SMGeoParallelSearch"],description:"",icon:'<svg t="1716189047901" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="161652" ><path d="M486.4 876.8h-448c-12.8 0-19.2-6.4-19.2-19.2s6.4-19.2 19.2-19.2h428.8v-384c0-12.8 6.4-19.2 19.2-19.2h480c12.8 0 19.2 6.4 19.2 19.2s-6.4 19.2-19.2 19.2H505.6v390.4c0 6.4-12.8 12.8-19.2 12.8z" fill="#ffffff" p-id="161653"></path><path d="M992 473.6c-6.4 0-6.4 0-12.8-6.4l-134.4-89.6c-6.4-6.4-12.8-19.2-6.4-25.6 6.4-6.4 19.2-12.8 25.6-6.4l134.4 89.6c6.4 6.4 12.8 19.2 6.4 25.6 0 6.4-6.4 12.8-12.8 12.8z" fill="#ffffff" p-id="161654"></path><path d="M857.6 563.2c-6.4 0-12.8 0-12.8-6.4-6.4-6.4-6.4-19.2 6.4-25.6l134.4-89.6c6.4-6.4 19.2-6.4 25.6 6.4 6.4 6.4 6.4 19.2-6.4 25.6l-134.4 89.6c-6.4-6.4-12.8 0-12.8 0zM396.8 601.6H384c-12.8-6.4-12.8-19.2-6.4-25.6l89.6-134.4c6.4-6.4 19.2-12.8 25.6-6.4s12.8 19.2 6.4 25.6L409.6 595.2c-6.4 6.4-6.4 6.4-12.8 6.4z" fill="#ffffff" p-id="161655"></path><path d="M576 601.6c-6.4 0-12.8 0-12.8-6.4L467.2 460.8c-6.4-6.4 0-19.2 6.4-25.6 6.4-6.4 19.2-6.4 25.6 6.4L588.8 576c6.4 6.4 6.4 19.2-6.4 25.6H576zM486.4 876.8c-6.4 0-6.4 0-12.8-6.4l-134.4-89.6c-6.4-6.4-12.8-19.2-6.4-25.6 6.4-6.4 19.2-12.8 25.6-6.4l134.4 89.6c6.4 6.4 12.8 19.2 6.4 25.6-6.4 12.8-6.4 12.8-12.8 12.8z" fill="#ffffff" p-id="161656"></path><path d="M352 966.4c-6.4 0-12.8 0-12.8-6.4-6.4-6.4-6.4-19.2 6.4-25.6l134.4-89.6c6.4-6.4 19.2-6.4 25.6 6.4 6.4 6.4 6.4 19.2-6.4 25.6l-134.4 89.6h-12.8z" fill="#ffffff" p-id="161657"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoParallelSearch",this.name)}},{name:"SM",keywords:["SMGeoPolygonEx"],description:"SM",icon:'<svg t="1716189070778" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="162701" ><path d="M518.4 70.83l407.26 295.89c5.61 4.07 7.95 11.3 5.81 17.89L775.92 863.38a16.01 16.01 0 0 1-15.22 11.06H257.3c-6.93 0-13.07-4.46-15.22-11.06L86.52 384.62c-2.14-6.59 0.2-13.81 5.81-17.89L499.6 70.83a16 16 0 0 1 18.8 0z m-9.4 87.11L172.27 402.59l128.62 395.85h416.22l128.62-395.85L509 157.94z" p-id="162702" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoPolygonEx",this.name)}},{name:"",keywords:["SMGeoPolyline"],description:"",icon:'<svg t="1716189091108" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="163822" ><path d="M0 0h1024v1024H0z" fill="#ffffff" opacity=".01" p-id="163823"></path><path d="M335.644444 804.977778c-14.222222 0-25.6-8.533333-31.288888-19.911111L164.977778 489.244444c-8.533333-17.066667 0-36.977778 17.066666-45.511111 17.066667-8.533333 36.977778 0 45.511112 17.066667l128 270.222222 210.488888-51.2-139.377777-275.911111c-5.688889-14.222222-2.844444-28.444444 5.688889-39.822222L625.777778 173.511111c5.688889-5.688889 17.066667-11.377778 25.6-8.533333 8.533333 0 17.066667 5.688889 25.6 11.377778l176.355555 207.644444c11.377778 14.222222 11.377778 36.977778-2.844444 48.355556-14.222222 11.377778-36.977778 11.377778-48.355556-2.844445l-150.755555-179.2-147.911111 147.911111 145.066666 290.133334c5.688889 8.533333 5.688889 19.911111 0 28.444444-5.688889 8.533333-11.377778 17.066667-22.755555 19.911111l-278.755556 71.111111c-5.688889-2.844444-8.533333-2.844444-11.377778-2.844444z" fill="#ffffff" p-id="163824"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoPolyline",this.name)}},{name:"",keywords:["SMGeoPolylineArrow"],description:"",icon:'<svg t="1716189113758" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="164887" ><path d="M955.733333 234.666667l-300.8 68.266666 113.493334 47.786667-189.44 186.453333L486.4 445.866667l-69.12-68.266667-69.546667 68.266667-279.466666 275.2 69.546666 68.266666L417.28 514.133333l161.706667 159.146667 258.986666-254.293333 48.213334 111.36z" fill="#ffffff" p-id="164888"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoPolylineArrow",this.name)}},{name:"",keywords:["SMGeoRectFlag"],description:"",icon:'<svg t="1716189145294" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="166297" ><path d="M894.1 65H166.9v-0.4l-70 0.2 2.8 895.4 70-0.2-1.4-447h725.8z" fill="#ffffff" p-id="166298"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoRectFlag",this.name)}},{name:"SM",keywords:["SMGeoRectangle"],description:"SM",icon:'<svg t="1716189162695" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="167325" ><path d="M896 896H128c-46.933333 0-85.333333-38.4-85.333333-85.333333V213.333333c0-46.933333 38.4-85.333333 85.333333-85.333333h768c46.933333 0 85.333333 38.4 85.333333 85.333333v597.333334c0 46.933333-38.4 85.333333-85.333333 85.333333zM128 213.333333v597.333334h768V213.333333H128z" p-id="167326" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoRectangle",this.name)}},{name:"SM",keywords:["SMGeoRoundedRect"],description:"SM",icon:'<svg t="1716189204344" class="icon" viewBox="0 0 1934 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="168545" ><path d="M1792.019189 1024H142.228619A142.38213 142.38213 0 0 1 0 881.771381V142.228619A142.38213 142.38213 0 0 1 142.228619 0h1649.79057A142.38213 142.38213 0 0 1 1934.247808 142.228619v739.542762a142.38213 142.38213 0 0 1-142.228619 142.228619z m-1649.79057-967.123904a85.429278 85.429278 0 0 0-85.352523 85.352523v739.542762A85.429278 85.429278 0 0 0 142.228619 967.123904h1649.79057a85.429278 85.429278 0 0 0 85.352522-85.352523V142.228619a85.429278 85.429278 0 0 0-85.352522-85.352523z" fill="#ffffff" p-id="168546"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoRoundedRect",this.name)}},{name:"SM",keywords:["SMGeoSector"],description:"SM",icon:'<svg t="1716189229986" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="169795" ><path d="M777.502 819.949l-20.265-7.546c-80.242-29.875-168.23-45.019-261.519-45.019-80.448 0-156.974 11.251-227.457 33.446l-19.546 6.154L34.688 293.926l22.238-7.953C211.04 230.85 354.57 204.05 495.718 204.05c155.132 0 309.893 30.768 473.136 94.066l21.394 8.294L777.502 819.95z m-281.784-97.421c90.84 0 177.11 13.651 256.776 40.598L931.19 331.794c-150.087-55.748-292.771-82.882-435.47-82.882-129.116 0-260.645 23.41-401.381 71.5l180.11 431.751c69.312-19.675 143.64-29.635 221.27-29.635z" p-id="169796" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoSector",this.name)}},{name:"",keywords:["SMGeoSectorSearch"],description:"",icon:'<svg t="1716189229986" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="169795" ><path d="M777.502 819.949l-20.265-7.546c-80.242-29.875-168.23-45.019-261.519-45.019-80.448 0-156.974 11.251-227.457 33.446l-19.546 6.154L34.688 293.926l22.238-7.953C211.04 230.85 354.57 204.05 495.718 204.05c155.132 0 309.893 30.768 473.136 94.066l21.394 8.294L777.502 819.95z m-281.784-97.421c90.84 0 177.11 13.651 256.776 40.598L931.19 331.794c-150.087-55.748-292.771-82.882-435.47-82.882-129.116 0-260.645 23.41-401.381 71.5l180.11 431.751c69.312-19.675 143.64-29.635 221.27-29.635z" p-id="169796" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoSectorSearch",this.name)}},{name:"",keywords:["SMGeoStraightArrow"],description:"",icon:'<svg t="1716189248419" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="170819" ><path d="M680.672 964.16H343.36a69.792 69.792 0 0 1-69.792-69.792v-2.928l57.648-353.536H241.44a69.792 69.792 0 0 1-54.528-113.36l270.56-338.352a69.792 69.792 0 0 1 109.008-0.048l270.592 338.4a69.808 69.808 0 0 1 8.384 73.84l-1.6 3.088a69.792 69.792 0 0 1-61.28 36.448h-89.84L750.4 891.44v2.928c0 38.512-31.2 69.76-69.728 69.792z m-334.272-72h331.152l-69.504-426.24h169.904L511.984 133.344 246.032 465.92l169.888-0.016L346.4 892.16z" p-id="170820" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoStraightArrow",this.name)}},{name:"",keywords:["SMGeoTriangleFlag"],description:"",icon:'<svg t="1716189272358" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="171860" ><path d="M882 364.7L179 66v-0.2h-0.3l-0.4-0.2v0.2L109 66l2.8 895.4 70-0.3-1-298.4z" fill="#ffffff" p-id="171861"></path></svg>',func:function(){e.createSceneObjectOnTree("SMGeoTriangleFlag",this.name)}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},94997:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerTools=t.turfLoaderJson=t.proj4jsLoaderJson=t.echartsPreLoaderJson=void 0;var s=r(63735),c=r(74587);t.echartsPreLoaderJson={type:"ScriptsLoader",enabled:!0,uris:["${my3dtiles-assets-script-dir}/js/jquery/3.7.1/jquery.min.js","${my3dtiles-assets-script-dir}/js/echarts/5.5.0/dist/echarts.min.js","${my3dtiles-assets-script-dir}/js/echarts-gl/2.0.9/dist/echarts-gl.js"],name:"ECharts"},t.proj4jsLoaderJson={type:"ScriptsLoader",enabled:!0,uris:["${my3dtiles-assets-script-dir}/js/proj4js/2.11.0/proj4.min.js","${my3dtiles-assets-script-dir}/js/proj-epsg-list/20240705/list_web.js"],name:"Proj4js"},t.turfLoaderJson={type:"ScriptsLoader",enabled:!0,uris:["${my3dtiles-assets-script-dir}/js/turf/6.5.0/turf.min.js"],name:"turf"},t.registerTools=function(e){var r,l,u=this;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var f=[{name:"",icon:'<svg t="1716444618407" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9351" ><path d="M512 64c247.424 0 448 200.576 448 448s-200.576 448-448 448S64 759.424 64 512 264.576 64 512 64z m0 85.333333C311.701333 149.333333 149.333333 311.701333 149.333333 512s162.368 362.666667 362.666667 362.666667 362.666667-162.368 362.666667-362.666667S712.298667 149.333333 512 149.333333z m21.333333 277.333334a21.333333 21.333333 0 0 1 21.333334 21.333333v298.666667a21.333333 21.333333 0 0 1-21.333334 21.333333h-42.666666a21.333333 21.333333 0 0 1-21.333334-21.333333V448a21.333333 21.333333 0 0 1 21.333334-21.333333h42.666666z m0-170.666667a21.333333 21.333333 0 0 1 21.333334 21.333333v42.666667a21.333333 21.333333 0 0 1-21.333334 21.333333h-42.666666a21.333333 21.333333 0 0 1-21.333334-21.333333v-42.666667a21.333333 21.333333 0 0 1 21.333334-21.333333h42.666666z" fill="#ffffff" p-id="9352"></path></svg>',func:function(){e.about()}},{name:"",description:"",icon:'<svg t="1716444664293" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10424" ><path d="M655.60381 780.190476h69.583238l0.341333 208.164572-69.924571 0.487619V780.190476z m146.285714 97.767619L871.472762 877.714286v138.971428H801.889524v-138.727619zM899.413333 731.428571h69.583238v277.942858H899.413333V731.428571z m-390.095238 146.285715h69.583238v139.166476L509.318095 1016.685714V877.714286z m0.585143-95.378286L460.55619 733.232762l196.656762-196.705524 147.651048 147.651048L952.661333 536.380952l49.249524 49.249524-196.998095 196.900572-147.602286-147.651048-147.407238 147.456z" p-id="10425" fill="#ffffff"></path><path d="M926.427429 0L21.699048 0.097524v904.240762h417.596952V834.80381l-348.013714 0.048761V69.729524h765.561904v348.16h69.583239V0z" p-id="10426" fill="#ffffff"></path><path d="M167.984762 309.150476h392.874667V243.809524H167.984762v65.340952z m0 97.52381h327.387428V341.333333H167.984762v65.340953z m0 146.285714h196.412952V487.619048H167.984762v65.340952z" p-id="10427" fill="#ffffff"></path></svg>',func:function(){window.open(e.config.helps.uris.misc.)}},{name:"",description:"",icon:'<svg t="1716444691764" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12519" ><path d="M453.344 846.256c-0.16 0-0.28 0.088-0.432 0.088-125.264-19.192-234.808-95.264-294.4-210.36-4.992-12.656-17.2-21.744-31.56-21.744h-3.504c-15.2 0-27.68 10.272-32.04 24.08-0.912 2.432-1.16 4.96-1.536 7.536-0.064 0.856-0.504 1.6-0.504 2.48v1.76c-0.04 1.712-0.2 3.32 0 5.048v164.184a34.192 34.192 0 0 0 34.08 34.104h3.504a34.192 34.192 0 0 0 34.08-34.104v-52.92c71.728 80.936 169.368 133.144 276.936 150.6 4.72 2.168 10.768 2.152 16.288 2.152 0.144 0 0.264-0.08 0.408-0.08 0.08 0 0.136 0.032 0.208 0.04v-0.088c20.208-0.352 35.592-15.328 35.592-35.624a37.136 37.136 0 0 0-37.12-37.152zM908.528 191.12h-3.504a34.192 34.192 0 0 0-34.08 34.104v53.352c-69.12-79.888-163.096-132.6-267.296-152.536a36.32 36.32 0 0 0-13.12-3.232c-0.984-0.16-1.896-0.56-2.88-0.72v0.296a36.88 36.88 0 0 0-36.504 36.848 36.872 36.872 0 0 0 36.504 36.848v0.336C709.8 218.856 815.4 295.552 872.512 409.752c3.144 6.28 8.128 10.656 13.68 14.08 5.472 3.76 11.728 6.48 18.832 6.48h3.504a34.184 34.184 0 0 0 34.08-34.096V225.224a34.192 34.192 0 0 0-34.08-34.104zM172 172v216a16 16 0 0 0 16 16h216a16 16 0 0 0 16-16V172a16 16 0 0 0-16-16H188a16 16 0 0 0-16 16z m-4-88h256a68 68 0 0 1 68 68v256a68 68 0 0 1-68 68H168a68 68 0 0 1-68-68V152a68 68 0 0 1 68-68z m452 552v216a16 16 0 0 0 16 16h216a16 16 0 0 0 16-16V636a16 16 0 0 0-16-16H636a16 16 0 0 0-16 16z m-4-88h256a68 68 0 0 1 68 68v256a68 68 0 0 1-68 68H616a68 68 0 0 1-68-68V616a68 68 0 0 1 68-68z" fill="#ffffff" p-id="12520"></path></svg>',func:function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,(0,s.getEscapeStr)(e)];case 1:return[2,t.sent()]}}))}))}},{name:"URL",description:"url",icon:'<svg t="1716444717854" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13636" ><path d="M578.133 675.627c-3.306-3.307-8.746-3.307-12.053 0L442.133 799.573c-57.386 57.387-154.24 63.467-217.6 0-63.466-63.466-57.386-160.213 0-217.6L348.48 458.027c3.307-3.307 3.307-8.747 0-12.054l-42.453-42.453c-3.307-3.307-8.747-3.307-12.054 0L170.027 527.467c-90.24 90.24-90.24 236.266 0 326.4s236.266 90.24 326.4 0L620.373 729.92c3.307-3.307 3.307-8.747 0-12.053l-42.24-42.24z m275.84-505.6c-90.24-90.24-236.266-90.24-326.4 0L403.52 293.973c-3.307 3.307-3.307 8.747 0 12.054l42.347 42.346c3.306 3.307 8.746 3.307 12.053 0l123.947-123.946c57.386-57.387 154.24-63.467 217.6 0 63.466 63.466 57.386 160.213 0 217.6L675.52 565.973c-3.307 3.307-3.307 8.747 0 12.054l42.453 42.453c3.307 3.307 8.747 3.307 12.054 0l123.946-123.947c90.134-90.24 90.134-236.266 0-326.506z" p-id="13637" fill="#ffffff"></path><path d="M616.64 362.987c-3.307-3.307-8.747-3.307-12.053 0l-241.6 241.493c-3.307 3.307-3.307 8.747 0 12.053l42.24 42.24c3.306 3.307 8.746 3.307 12.053 0L658.773 417.28c3.307-3.307 3.307-8.747 0-12.053l-42.133-42.24z" p-id="13638" fill="#ffffff"></path></svg>',func:function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,(0,c.getLocalFileUrl)(e)];case 1:return[2,t.sent()]}}))}))}},{name:"",description:"",icon:'<svg t="1716184025306" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4082" ><path d="M832 0H192C83.2 0 0 83.2 0 192v640c0 108.8 83.2 192 192 192h640c108.8 0 192-83.2 192-192V192c0-108.8-83.2-192-192-192z m128 832c0 70.4-57.6 128-128 128H192c-70.4 0-128-57.6-128-128V192c0-70.4 57.6-128 128-128h640c70.4 0 128 57.6 128 128v640z" fill="#ffffff" p-id="4083"></path><path d="M723.2 230.4c-12.8 6.4-19.2 6.4-32 12.8C640 211.2 576 192 512 192 332.8 192 192 332.8 192 512c0 32 6.4 57.6 12.8 83.2-6.4 12.8-19.2 19.2-25.6 32-70.4 83.2-89.6 147.2-57.6 192 19.2 19.2 44.8 32 76.8 32 51.2 0 115.2-25.6 172.8-51.2 38.4 19.2 89.6 32 140.8 32 128 0 236.8-76.8 288-185.6h-70.4c-44.8 70.4-128 121.6-217.6 121.6-102.4 0-198.4-64-236.8-153.6 32-38.4 76.8-70.4 115.2-108.8v32H832V512c0-19.2 0-32-6.4-44.8 57.6-64 134.4-172.8 96-230.4-32-44.8-96-44.8-198.4-6.4z m-416 524.8c-89.6 38.4-128 32-134.4 25.6 0-6.4 0-38.4 57.6-108.8v-6.4c19.2 32 44.8 64 76.8 89.6zM256 512c0-140.8 115.2-256 256-256 38.4 0 76.8 6.4 108.8 25.6-64 32-128 70.4-192 121.6C364.8 448 307.2 492.8 256 544V512z m211.2-64c70.4-51.2 147.2-96 211.2-128 44.8 38.4 76.8 96 83.2 153.6H435.2c12.8-6.4 19.2-12.8 32-25.6z m339.2-57.6c-12.8-38.4-38.4-70.4-64-96 89.6-38.4 121.6-25.6 128-25.6 0 12.8-6.4 51.2-64 121.6z" fill="#ffffff" p-id="4084"></path></svg>',func:function(){return o(u,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,e.prompt("","https://www.czmtoy.com","")];case 1:return(t=r.sent())?(t.startsWith("https://")||t.startsWith("http://")||(t="https://"+t),window.open(t),[2]):[2]}}))}))}},{name:"EChartsjs",keywords:["ScriptsLoader"],description:"EChartsDivEChartsDivECharts",icon:'<svg t="1716186397065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77768" ><path d="M568.2 124.6c5.5 0 10 4.5 10 10v250c0 5.5-4.5 10-10 10h-400c-5.5 0-10-4.5-10-10v-250c0-5.5 4.5-10 10-10h400m0-60h-400c-38.7 0-70 31.3-70 70v250c0 38.7 31.3 70 70 70h400c38.7 0 70-31.3 70-70v-250c0-38.7-31.4-70-70-70zM857.7 599.8c5.5 0 10 4.5 10 10v280c0 5.5-4.5 10-10 10H262c-5.5 0-10-4.5-10-10v-280c0-5.5 4.5-10 10-10h595.7m0-60H262c-38.7 0-70 31.3-70 70v280c0 38.7 31.3 70 70 70h595.7c38.7 0 70-31.3 70-70v-280c0-38.7-31.4-70-70-70z" p-id="77769" fill="#ffffff"></path><path d="M802.2 255.6h60V551h-60zM757.6 838.7H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30s-13.5 30-30 30zM757.6 721H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30 0 16.5-13.5 30-30 30z" p-id="77770" fill="#ffffff"></path><path d="M847.9 226.4l-104.5 0.2c-0.1 0-0.1-0.1-0.1-0.1l21.6-21.6c11.5-11.5 11.5-30.7 0-42.2-6.4-6.4-12.8-9-20.5-9-7.7 0-15.4 2.6-20.5 9l-74.2 74.2c-5.1 5.1-7.7 12.8-7.7 20.5 0 7.7 2.6 14.1 7.7 20.5l73.7 73.7c10.2 10.2 26.4 12.2 38.4 4.1 15.7-10.7 17.2-33 4.4-45.8l-21.6-21.6v-0.1h117.5s0.1 0 0.1-0.1v-47.3c0-8-6.4-14.4-14.3-14.4z" p-id="77771" fill="#ffffff"></path></svg>',func:function(){var r=e.createSceneObjectOnTree("ScriptsLoader","ECharts");r.json=t.echartsPreLoaderJson,r.reload()}},{name:"Proj4jsjs",keywords:["ScriptsLoader"],description:"Proj4jsjs",icon:'<svg t="1716186397065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77768" ><path d="M568.2 124.6c5.5 0 10 4.5 10 10v250c0 5.5-4.5 10-10 10h-400c-5.5 0-10-4.5-10-10v-250c0-5.5 4.5-10 10-10h400m0-60h-400c-38.7 0-70 31.3-70 70v250c0 38.7 31.3 70 70 70h400c38.7 0 70-31.3 70-70v-250c0-38.7-31.4-70-70-70zM857.7 599.8c5.5 0 10 4.5 10 10v280c0 5.5-4.5 10-10 10H262c-5.5 0-10-4.5-10-10v-280c0-5.5 4.5-10 10-10h595.7m0-60H262c-38.7 0-70 31.3-70 70v280c0 38.7 31.3 70 70 70h595.7c38.7 0 70-31.3 70-70v-280c0-38.7-31.4-70-70-70z" p-id="77769" fill="#ffffff"></path><path d="M802.2 255.6h60V551h-60zM757.6 838.7H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30s-13.5 30-30 30zM757.6 721H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30 0 16.5-13.5 30-30 30z" p-id="77770" fill="#ffffff"></path><path d="M847.9 226.4l-104.5 0.2c-0.1 0-0.1-0.1-0.1-0.1l21.6-21.6c11.5-11.5 11.5-30.7 0-42.2-6.4-6.4-12.8-9-20.5-9-7.7 0-15.4 2.6-20.5 9l-74.2 74.2c-5.1 5.1-7.7 12.8-7.7 20.5 0 7.7 2.6 14.1 7.7 20.5l73.7 73.7c10.2 10.2 26.4 12.2 38.4 4.1 15.7-10.7 17.2-33 4.4-45.8l-21.6-21.6v-0.1h117.5s0.1 0 0.1-0.1v-47.3c0-8-6.4-14.4-14.3-14.4z" p-id="77771" fill="#ffffff"></path></svg>',func:function(){var r=e.createSceneObjectOnTree("ScriptsLoader","Proj4jsjs");r.json=t.proj4jsLoaderJson,r.reload()}},{name:"turfjs",keywords:["ScriptsLoader"],description:"turfjs",icon:'<svg t="1716186397065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77768" ><path d="M568.2 124.6c5.5 0 10 4.5 10 10v250c0 5.5-4.5 10-10 10h-400c-5.5 0-10-4.5-10-10v-250c0-5.5 4.5-10 10-10h400m0-60h-400c-38.7 0-70 31.3-70 70v250c0 38.7 31.3 70 70 70h400c38.7 0 70-31.3 70-70v-250c0-38.7-31.4-70-70-70zM857.7 599.8c5.5 0 10 4.5 10 10v280c0 5.5-4.5 10-10 10H262c-5.5 0-10-4.5-10-10v-280c0-5.5 4.5-10 10-10h595.7m0-60H262c-38.7 0-70 31.3-70 70v280c0 38.7 31.3 70 70 70h595.7c38.7 0 70-31.3 70-70v-280c0-38.7-31.4-70-70-70z" p-id="77769" fill="#ffffff"></path><path d="M802.2 255.6h60V551h-60zM757.6 838.7H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30s-13.5 30-30 30zM757.6 721H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30 0 16.5-13.5 30-30 30z" p-id="77770" fill="#ffffff"></path><path d="M847.9 226.4l-104.5 0.2c-0.1 0-0.1-0.1-0.1-0.1l21.6-21.6c11.5-11.5 11.5-30.7 0-42.2-6.4-6.4-12.8-9-20.5-9-7.7 0-15.4 2.6-20.5 9l-74.2 74.2c-5.1 5.1-7.7 12.8-7.7 20.5 0 7.7 2.6 14.1 7.7 20.5l73.7 73.7c10.2 10.2 26.4 12.2 38.4 4.1 15.7-10.7 17.2-33 4.4-45.8l-21.6-21.6v-0.1h117.5s0.1 0 0.1-0.1v-47.3c0-8-6.4-14.4-14.3-14.4z" p-id="77771" fill="#ffffff"></path></svg>',func:function(){var r=e.createSceneObjectOnTree("ScriptsLoader","turfjs");r.json=t.turfLoaderJson,r.reload()}},{name:"js",keywords:["ScriptsLoader"],description:"js",icon:'<svg t="1716186397065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77768" ><path d="M568.2 124.6c5.5 0 10 4.5 10 10v250c0 5.5-4.5 10-10 10h-400c-5.5 0-10-4.5-10-10v-250c0-5.5 4.5-10 10-10h400m0-60h-400c-38.7 0-70 31.3-70 70v250c0 38.7 31.3 70 70 70h400c38.7 0 70-31.3 70-70v-250c0-38.7-31.4-70-70-70zM857.7 599.8c5.5 0 10 4.5 10 10v280c0 5.5-4.5 10-10 10H262c-5.5 0-10-4.5-10-10v-280c0-5.5 4.5-10 10-10h595.7m0-60H262c-38.7 0-70 31.3-70 70v280c0 38.7 31.3 70 70 70h595.7c38.7 0 70-31.3 70-70v-280c0-38.7-31.4-70-70-70z" p-id="77769" fill="#ffffff"></path><path d="M802.2 255.6h60V551h-60zM757.6 838.7H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30s-13.5 30-30 30zM757.6 721H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30 0 16.5-13.5 30-30 30z" p-id="77770" fill="#ffffff"></path><path d="M847.9 226.4l-104.5 0.2c-0.1 0-0.1-0.1-0.1-0.1l21.6-21.6c11.5-11.5 11.5-30.7 0-42.2-6.4-6.4-12.8-9-20.5-9-7.7 0-15.4 2.6-20.5 9l-74.2 74.2c-5.1 5.1-7.7 12.8-7.7 20.5 0 7.7 2.6 14.1 7.7 20.5l73.7 73.7c10.2 10.2 26.4 12.2 38.4 4.1 15.7-10.7 17.2-33 4.4-45.8l-21.6-21.6v-0.1h117.5s0.1 0 0.1-0.1v-47.3c0-8-6.4-14.4-14.3-14.4z" p-id="77771" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("ScriptsLoader","js")}},{name:"js",keywords:["ScriptsLoader"],description:"js",icon:'<svg t="1716186397065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77768" ><path d="M568.2 124.6c5.5 0 10 4.5 10 10v250c0 5.5-4.5 10-10 10h-400c-5.5 0-10-4.5-10-10v-250c0-5.5 4.5-10 10-10h400m0-60h-400c-38.7 0-70 31.3-70 70v250c0 38.7 31.3 70 70 70h400c38.7 0 70-31.3 70-70v-250c0-38.7-31.4-70-70-70zM857.7 599.8c5.5 0 10 4.5 10 10v280c0 5.5-4.5 10-10 10H262c-5.5 0-10-4.5-10-10v-280c0-5.5 4.5-10 10-10h595.7m0-60H262c-38.7 0-70 31.3-70 70v280c0 38.7 31.3 70 70 70h595.7c38.7 0 70-31.3 70-70v-280c0-38.7-31.4-70-70-70z" p-id="77769" fill="#ffffff"></path><path d="M802.2 255.6h60V551h-60zM757.6 838.7H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30s-13.5 30-30 30zM757.6 721H370.1c-16.6 0-30-13.4-30-30s13.4-30 30-30h387.5c16.6 0 30 13.4 30 30 0 16.5-13.5 30-30 30z" p-id="77770" fill="#ffffff"></path><path d="M847.9 226.4l-104.5 0.2c-0.1 0-0.1-0.1-0.1-0.1l21.6-21.6c11.5-11.5 11.5-30.7 0-42.2-6.4-6.4-12.8-9-20.5-9-7.7 0-15.4 2.6-20.5 9l-74.2 74.2c-5.1 5.1-7.7 12.8-7.7 20.5 0 7.7 2.6 14.1 7.7 20.5l73.7 73.7c10.2 10.2 26.4 12.2 38.4 4.1 15.7-10.7 17.2-33 4.4-45.8l-21.6-21.6v-0.1h117.5s0.1 0 0.1-0.1v-47.3c0-8-6.4-14.4-14.3-14.4z" p-id="77771" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("SceneScript","js")}}];try{for(var p=a(f),d=p.next();!d.done;d=p.next()){var h=d.value;e.commands.register(n(n({},h),{category:""}))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(l=p.return)&&l.call(p)}finally{if(r)throw r.error}}}},39840:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerViews=void 0;var i=r(61358);t.registerViews=function(e){var t,r;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var a=[{name:"",keywords:["View"],description:"",icon:'<svg t="1715930685071" class="icon" viewBox="0 0 1279 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="109473" ><path d="M1258.541767 439.197166A1033.962123 1033.962123 0 0 0 1023.724874 151.274545 654.544091 654.544091 0 0 0 680.777041 0.275126a612.31544 612.31544 0 0 0-326.952131 83.177646A885.522016 885.522016 0 0 0 17.275357 448.154758a117.088532 117.088532 0 0 0 0 120.927501 1060.834901 1060.834901 0 0 0 230.977925 295.600557 699.332055 699.332055 0 0 0 337.18938 152.918904 493.947252 493.947252 0 0 0 271.92692-46.06762c191.948414-76.139537 310.95643-228.418612 408.210293-403.731497a127.965609 127.965609 0 0 0-7.038108-128.605437zM639.828046 768.068782a255.931218 255.931218 0 1 1 255.931219-255.931219 255.931218 255.931218 0 0 1-255.931219 255.931219z" p-id="109474" fill="#ffffff"></path><path d="M639.828046 512.137563m-127.965609 0a127.965609 127.965609 0 1 0 255.931218 0 127.965609 127.965609 0 1 0-255.931218 0Z" p-id="109475" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("View",this.name)}},{name:"",keywords:["CzmFlyAround"],description:"",icon:'<svg t="1715930895831" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="110710" ><path d="M418.55964387555554 674.5413040355554c-6.864101831111111-6.862718293333333-18.156656639999998-6.862718293333333-25.020759608888888 0-6.864101831111111 6.865485368888889-6.864101831111111 18.158041315555558 0 25.020759608888888l75.28369948444445 75.28369948444445c-111.81843569777777-4.205646506666667-215.22281130666667-24.35649080888889-293.38500551111105-57.34708224C96.60973283555552 684.5067070577776 51.66232007111114 641.1092525511109 51.66232007111114 598.5947204266665c0-20.593690168888887 10.18544128-41.18461212444444 30.113479111111108-61.112649955555554 6.864101831111111-6.865485368888889 6.864101831111111-18.15527310222222 0-25.02075847111111s-18.156656639999998-6.865485368888889-25.02075847111111 0c-26.79213966222222 26.790756124444442-40.52034446222222 55.79850638222222-40.52034446222222 86.13340842666666 0 58.45557816888889 51.59147633777778 112.25989688888887 145.0318336 151.67451249777778 82.81206897777778 34.983394417777774 191.75201109333332 56.01992931555555 308.8845903644444 60.226959359999995l-76.83365774222223 76.83504241777777c-6.864101831111111 6.862718293333333-6.864101831111111 18.15527310222222 0 25.02075847111111 3.542762382222222 3.5413788444444445 7.9712153599999995 5.09272064 12.621090133333333 5.09272064 4.649875911111111 0 9.078328888888889-1.7727647288888888 12.62109127111111-5.09272064l106.2828691911111-106.28425386666666c6.865485368888889-6.865485368888889 6.865485368888889-18.158041315555558 0-25.02075847111111l-106.2828691911111-106.50567679999999zM967.0221528177779 512.4613119999998c-6.419872426666665-7.084141226666666-17.49100544-6.865485368888889-24.577913742222222 0-6.862718293333333 6.865485368888889-6.862718293333333 18.15527310222222 0 25.02075847111111 20.150844302222218 19.92803783111111 30.11348024888889 40.51895978666666 30.11348024888889 61.112649955555554 0 77.49792540444444-142.3733771377778 149.23886364444442-338.5538412088889 170.71547619555554-9.74398008888889 1.1084970666666667-16.828121315555556 9.68170496-15.722392462222222 19.422917973333334 0.8870741333333333 9.079712426666667 8.636866559999998 15.658732657777778 17.49377365333333 15.658732657777778h1.9914194488888888c221.42264547555553-23.526156515555552 369.99862499555553-106.88347932444444 369.99862499555553-205.85940195555554 0.0013835377777777777-30.334902044444444-13.726820124444444-59.28037831111111-40.74315093333333-86.07113329777778zM741.99031808 177.4156356266667L400.40298609777784 522.1015005866666v111.6316103111111l76.08497265777777-82.2543610311111 180.02906680888887 82.2543610311111L818.1472529066667 106.91051292444439 205.96345855999994 421.9714116266667l127.42596380444444 64.87821880888889z" p-id="110711" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("CzmFlyAround",this.name)}},{name:"",description:"",icon:'<svg t="1716184578943" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23563" ><path d="M512 0a512 512 0 1 0 512 512A512.555767 512.555767 0 0 0 512 0z m0 81.697693a430.024423 430.024423 0 0 1 354.648575 673.867029 92.813026 92.813026 0 0 0-64.052103-24.870556 95.66133 95.66133 0 0 0-82.809226 47.379104 72.110719 72.110719 0 0 1-125.04749 0 96.217096 96.217096 0 0 0-33.137585-33.901764 94.966621 94.966621 0 0 0-49.602171-13.894165A95.66133 95.66133 0 0 0 429.190773 778.07327a72.18019 72.18019 0 0 1-125.047489 0 96.217096 96.217096 0 0 0-33.207056-33.762822 95.175034 95.175034 0 0 0-49.602171-13.894166 92.813026 92.813026 0 0 0-63.982632 24.870557 430.024423 430.024423 0 0 1 354.648575-673.867029z m0 860.604614A429.260244 429.260244 0 0 1 198.06133 805.861601a70.443419 70.443419 0 0 1 23.342198-4.098779 72.527544 72.527544 0 0 1 62.10692 35.569064 95.66133 95.66133 0 0 0 166.313161 0 72.110719 72.110719 0 0 1 124.352782 0 96.286567 96.286567 0 0 0 33.55441 34.735414 95.66133 95.66133 0 0 0 132.758751-34.735414 72.805427 72.805427 0 0 1 62.523745-35.569064 70.443419 70.443419 0 0 1 23.342198 4.098779 429.260244 429.260244 0 0 1-314.355495 136.440706z" fill="#ffffff" p-id="23564"></path><path d="M264.822795 708.602442H305.671642V523.671099h135.745997V348.32673H305.671642V277.883311h-40.848847v70.443419H132.341927v175.344369h132.480868zM305.671642 387.78616h94.549796V484.211669H305.671642zM172.704478 484.211669V387.78616h92.118317V484.211669zM598.769064 673.867028h229.670556v33.484939h40.29308V313.591316H558.823338v393.969064h39.945726z m0-321.024694h229.670556v281.773677H598.769064z" fill="#ffffff" p-id="23565"></path><path d="M761.886567 503.246676h39.042605v60.856445h-39.042605z" fill="#ffffff" p-id="23566"></path><path d="M735.070828 496.646947h60.648032v-39.45943h-60.648032v-40.223609h71.554952v-39.528901H622.667028v39.528901h71.624424v40.223609h-59.814383v39.45943h59.814383v72.388603H607.591859v39.45943h213.136499v-39.45943h-85.65753V496.646947z" fill="#ffffff" p-id="23567"></path></svg>',func:function(){var t=i.views.china,r=t.position,n=t.rotation;e.czmViewer.flyTo(r,0,n)}},{name:"",description:"",icon:'<svg t="1716184886102" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="61250" ><path d="M1000.962572 358.400333q-7.679996-24.063988-17.407992-47.103977a511.999744 511.999744 0 0 0-47.103976-87.039956Q921.602611 204.80041 907.266618 186.368419A511.999744 511.999744 0 0 0 512.002816 0.000512a511.999744 511.999744 0 0 0-102.399949 10.239995 508.415746 508.415746 0 0 0-140.799929 51.199974A511.999744 511.999744 0 0 0 40.451052 312.832356Q30.723057 335.872344 23.04306 358.400333A511.999744 511.999744 0 0 0 0.003072 512.000256a511.999744 511.999744 0 0 0 23.039988 153.599923q7.679996 24.063988 17.407992 47.103977a511.999744 511.999744 0 0 0 76.799961 126.463936q15.871992 18.943991 33.279984 36.351982a511.999744 511.999744 0 0 0 117.759941 88.063956A508.415746 508.415746 0 0 0 409.602867 1013.760005a511.999744 511.999744 0 0 0 102.399949 10.239995 511.999744 511.999744 0 0 0 471.551764-312.831844q9.727995-23.039988 17.407992-47.103976A511.999744 511.999744 0 0 0 1024.00256 512.000256a511.999744 511.999744 0 0 0-23.039988-153.599923zM512.002816 921.600051h-12.287994a419.83979 419.83979 0 0 1 0-68.607965 335.359832 335.359832 0 0 1 82.943959-143.359929 160.76792 160.76792 0 0 1 57.343971-12.799993 137.215931 137.215931 0 0 0 76.799962-24.063988 48.127976 48.127976 0 0 0 13.311993-45.055978 171.519914 171.519914 0 0 0-79.87196-105.471947 236.031882 236.031882 0 0 0-71.679964-11.263994 307.199846 307.199846 0 0 1-104.447948-19.455991 150.527925 150.527925 0 0 1-26.623987-24.063988 160.76792 160.76792 0 0 0-63.487968-46.079977 73.727963 73.727963 0 0 0-58.879971 15.359993A188.415906 188.415906 0 0 1 204.80297 467.968278a726.527637 726.527637 0 0 1-98.303951-19.96799A409.599795 409.599795 0 0 1 512.002816 102.400461h34.303983a293.887853 293.887853 0 0 0 7.167996 108.031946A102.399949 102.399949 0 0 0 614.402765 256.000384l15.359992 7.167996a121.855939 121.855939 0 0 1 0 63.487969 66.047967 66.047967 0 0 0 0 41.983979 250.879875 250.879875 0 0 0 122.879939 68.607965h11.775994a33.791983 33.791983 0 0 0 24.575988-9.215995 110.591945 110.591945 0 0 0 22.527988-51.199974A65.535967 65.535967 0 0 0 870.402637 368.640328a55.807972 55.807972 0 0 0 12.799993-33.791983A409.599795 409.599795 0 0 1 512.002816 921.600051z" fill="#ffffff" p-id="61251"></path></svg>',func:function(){var t=i.views.globe,r=t.position,n=t.rotation;e.czmViewer.flyTo(r,0,n)}},{name:"",description:"",icon:'<svg t="1716184855587" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="59965" ><path d="M54.16434 882.3l17.3-16.2h277.4l-4.7 16.2zM357.76434 835.5H159.16434l21.5-16.2h181.7zM343.66434 390.6c0-4.9 6.1-11.4 17.9-17.7 0.1 0 0.1 0 0.2-0.1 2.5-1.2 4.9-2.4 7.3-3.8 27.2-12.5 75.8-24 143.3-24 59.1 0 103.5 8.8 131.9 19.3 6.4 3.1 12.8 6.1 19.8 8.8 11.4 6.4 17.2 12.6 17.2 17.4 0 3.1-4.1 8.8-14 15.1-33.1-8.4-69.2-13.8-107.6-16.1v-5.5c0-5.6-4.6-10.2-10.2-10.2h-74c-5.6 0-10.2 4.6-10.2 10.2v6.7c-0.2 0-0.6-0.1-0.7-0.1-36.8 3.1-71.2 9.6-100.7 18.6-14.6-7.5-20.2-14.6-20.2-18.6zM255.86434 550.4c0-30 80.1-66.3 209.5-73.2v2.3c0 5.6 4.6 10.2 10.2 10.2h74c5.6 0 10.2-4.6 10.2-10.2v-1.9c129.4 6.6 209.5 42.7 209.5 72.8 0 14.4-2.2 18.7-19.8 19.4-98.6-57.2-362.1-63.8-464.3 2.9-29-4-29.3-17.7-29.3-22.3z" fill="#ffffff" p-id="59966"></path><path d="M1019.86434 868.4l-50-46.8c-2.9-2.8-6.5-4.1-10.4-4.1h-43.2l-57.8-43.7c-2.8-2-5.9-3.1-9.2-3.1h-59.4v-47c35.1-14.9 53-32.9 53-53.7 0-27.8-32.4-49.3-81.8-64.4v-24.3c19.3-3.1 38.4-13.9 38.4-48.8 0-40.1-48.3-68.5-113.9-85.4 0-0.1 0.1-0.2 0.1-0.4v-34.3c21.2-14.2 26-29 26-39.6 0-18.2-13.5-33.2-35.3-45.1-0.4-0.2-0.7-0.6-1.2-0.8l-0.8-0.4c-4.7-2.4-10-4.7-15.5-6.8-89.8-44-122.7-136.4-123.1-137.3-1.9-5.5-6.8-9.3-12.7-10V157.9c0-8.4-6.8-15.2-15.2-15.2-8.4 0-15.2 6.8-15.2 15.2V172.1c-7.2 0.6-13 6-14 13.1-0.6 3.5-13 86.6-130 142-0.6 0.2-0.8 0.7-1.3 1-21.1 11.6-34.2 26.5-34.2 44.4 0 11.5 5.5 27.7 30.7 42.7v30.5c-68 16.9-118.6 45.7-118.6 86.6 0 10 3.5 41 45.4 50.7v20.4c-53.5 15.2-88.9 37.2-88.9 66.4 0 20.9 18 39 53 53.7v47h-59.4c-3.4 0-6.5 1.1-9.2 3.1l-57.8 43.7h-43.1c-4 0-7.6 1.4-10.4 4.1l-50 46.7c-4.6 4.3-6.1 10.9-3.8 16.8s8 9.6 14.2 9.6h340.2c6.7 0 12.7-4.4 14.6-10.9l27.1-93.4c1.3-4.6 0.4-9.6-2.4-13.4-2.9-3.8-7.4-6.1-12.1-6.1H265.36434v-49.9c31.4-8 126.8-29.4 241.5-29.5 123.6 0.2 221.1 22.7 252.6 31.1v48.4H642.16434c-4.9 0-9.4 2.3-12.1 6.1-2.9 3.8-3.8 8.8-2.4 13.4l27.2 93.4c1.9 6.5 7.8 10.9 14.6 10.9h340.1c6.2 0 11.9-3.8 14.2-9.6 2.2-5.7 0.8-12.4-3.9-16.7zM559.66434 429v-26.7c33.7 2 66.3 6.8 95.6 13.9v24.1c-30.3-5.9-63-9.6-95.6-11.3z m-53.5-226.6h5c8.1 19.1 28.9 60.7 68.2 98.2-21.6-2.8-44.2-4.2-66.9-4.2-23.6 0-47.4 1.4-69.8 4.4 42.1-38.7 57.7-78.2 63.5-98.4z m33.1 173.9v75h-53.7v-75h53.7zM374.36434 420.1c26.5-7.8 57.6-13.7 90.9-16.7v25.3c-30.9 1.7-62 5.2-90.9 10.6V420.1z m-73.1 160.1c91-60.4 336.9-54.7 429.5-4v21.2c-61.8-14.4-141.4-21.2-218.1-21.2-74 0-150.4 6.4-211.1 19.7v-15.7h-0.3z" fill="#ffffff" p-id="59967"></path><path d="M508.86434 678.8h-1.9c-144.6 0.2-256.3 32.4-261.1 33.7-0.4 0.1-0.6 0.2-1 0.4-25.3-10.9-32.6-20.7-32.6-25.1 0-21.5 105.9-63.2 299.9-63.2 194.1 0 300.2 41.7 300.2 63.2 0 4.2-7.3 14.4-34.8 25.8-13.6-4-121.2-34.8-268.7-34.8zM844.16434 819.4l21.6 16.2H667.16434l-4.8-16.2zM680.86434 882.3l-4.8-16.2h277.4l17.4 16.2zM600.36434 799.8c-1.9-6.5-7.8-10.9-14.6-10.9H437.56434c-6.8 0-13 4.7-14.7 11.4l-24.6 93.4c-1.2 4.6-0.2 9.5 2.7 13.3s7.3 6 12 6h200c4.9 0 9.3-2.3 12.1-6.1 2.9-3.8 3.8-8.8 2.4-13.4l-27.1-93.7z" fill="#ffffff" p-id="59968"></path><path d="M432.66434 882.3l16.5-63h125.1l18.2 63z" fill="#ffffff" p-id="59969"></path></svg>',func:function(){var t=i.views.beijing,r=t.position,n=t.rotation;e.czmViewer.flyTo(r,0,n)}},{name:"",keywords:["ViewCollection"],description:"",icon:'<svg t="1716184928572" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="62727" ><path d="M950.857143 476.891429H629.76a68.754286 68.754286 0 0 1-69.485714-69.485715V87.771429a68.754286 68.754286 0 0 1 69.485714-69.485715H950.857143a68.754286 68.754286 0 0 1 69.485714 73.142857v315.977143a68.754286 68.754286 0 0 1-69.485714 69.485715zM629.76 76.8a10.971429 10.971429 0 0 0-10.971429 10.971429v319.634285a10.24 10.24 0 0 0 10.971429 10.971429H950.857143a10.24 10.24 0 0 0 10.971428-10.971429V87.771429a10.971429 10.971429 0 0 0-10.971428-10.971429zM950.857143 1005.714286H629.76a68.754286 68.754286 0 0 1-69.485714-69.485715V616.594286a68.754286 68.754286 0 0 1 69.485714-69.485715H950.857143a68.754286 68.754286 0 0 1 69.485714 69.485715v319.634285a68.754286 68.754286 0 0 1-69.485714 69.485715zM629.76 605.622857a10.24 10.24 0 0 0-10.971429 10.971429v319.634285a10.971429 10.971429 0 0 0 10.971429 10.971429H950.857143a10.971429 10.971429 0 0 0 10.971428-10.971429V616.594286a10.24 10.24 0 0 0-10.971428-10.971429zM416.182857 1005.714286H95.817143a73.142857 73.142857 0 0 1-69.485714-69.485715V616.594286a73.142857 73.142857 0 0 1 73.142857-69.485715h316.708571a68.754286 68.754286 0 0 1 68.754286 69.485715v319.634285a68.754286 68.754286 0 0 1-68.754286 69.485715zM95.817143 605.622857a10.971429 10.971429 0 0 0-10.971429 10.971429v319.634285a10.971429 10.971429 0 0 0 10.971429 10.971429h320.365714a10.971429 10.971429 0 0 0 10.24-10.971429V616.594286a10.24 10.24 0 0 0-10.24-10.971429zM219.428571 432.274286L14.628571 247.954286a29.257143 29.257143 0 0 1 0-40.96 29.257143 29.257143 0 0 1 41.691429 0l160.914286 146.285714L468.114286 65.828571a29.257143 29.257143 0 0 1 43.885714 38.765715z" fill="#ffffff" p-id="62728"></path></svg>',func:function(){e.createSceneObjectOnTree("ViewCollection",this.name)}},{name:"ui",keywords:["ViewCollectionUI"],description:"ui",icon:'<svg t="1716184928572" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="62727" ><path d="M950.857143 476.891429H629.76a68.754286 68.754286 0 0 1-69.485714-69.485715V87.771429a68.754286 68.754286 0 0 1 69.485714-69.485715H950.857143a68.754286 68.754286 0 0 1 69.485714 73.142857v315.977143a68.754286 68.754286 0 0 1-69.485714 69.485715zM629.76 76.8a10.971429 10.971429 0 0 0-10.971429 10.971429v319.634285a10.24 10.24 0 0 0 10.971429 10.971429H950.857143a10.24 10.24 0 0 0 10.971428-10.971429V87.771429a10.971429 10.971429 0 0 0-10.971428-10.971429zM950.857143 1005.714286H629.76a68.754286 68.754286 0 0 1-69.485714-69.485715V616.594286a68.754286 68.754286 0 0 1 69.485714-69.485715H950.857143a68.754286 68.754286 0 0 1 69.485714 69.485715v319.634285a68.754286 68.754286 0 0 1-69.485714 69.485715zM629.76 605.622857a10.24 10.24 0 0 0-10.971429 10.971429v319.634285a10.971429 10.971429 0 0 0 10.971429 10.971429H950.857143a10.971429 10.971429 0 0 0 10.971428-10.971429V616.594286a10.24 10.24 0 0 0-10.971428-10.971429zM416.182857 1005.714286H95.817143a73.142857 73.142857 0 0 1-69.485714-69.485715V616.594286a73.142857 73.142857 0 0 1 73.142857-69.485715h316.708571a68.754286 68.754286 0 0 1 68.754286 69.485715v319.634285a68.754286 68.754286 0 0 1-68.754286 69.485715zM95.817143 605.622857a10.971429 10.971429 0 0 0-10.971429 10.971429v319.634285a10.971429 10.971429 0 0 0 10.971429 10.971429h320.365714a10.971429 10.971429 0 0 0 10.24-10.971429V616.594286a10.24 10.24 0 0 0-10.24-10.971429zM219.428571 432.274286L14.628571 247.954286a29.257143 29.257143 0 0 1 0-40.96 29.257143 29.257143 0 0 1 41.691429 0l160.914286 146.285714L468.114286 65.828571a29.257143 29.257143 0 0 1 43.885714 38.765715z" fill="#ffffff" p-id="62728"></path></svg>',func:function(){e.createSceneObjectOnTree("ViewCollectionUI",this.name)}}];try{for(var s=o(a),c=s.next();!c.done;c=s.next()){var l=c.value;e.commands.register(n(n({},l),{category:""}))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}},41533:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerWatchers=void 0,t.registerWatchers=function(e){var t,o;e.commands.register({name:"",category:"",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands.)}});var i=[{name:"",keywords:["Watcher"],description:"()",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("Watcher",this.name)}},{name:"",keywords:["PropertyTracker"],description:"",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("PropertyTracker",this.name)}},{name:"",keywords:["PlayerTracker"],description:"",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("PlayerTracker",this.name)}},{name:"",keywords:["GeoPathTracker"],description:"",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPathTracker",this.name)}},{name:"",keywords:["GeoSceneObjectPathPlayerTracker"],description:"",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoSceneObjectPathPlayerTracker",this.name)}},{name:"",keywords:["GeoCameraController"],description:"",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoCameraController",this.name)}},{name:"",keywords:["GeoPathCameraController"],description:"",icon:'<svg t="1716188391774" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="138584" ><path d="M554.666667 768v85.333333h200.533333a12.8 12.8 0 0 1 12.8 12.8v59.733334a12.8 12.8 0 0 1-12.8 12.8H268.8a12.8 12.8 0 0 1-12.8-12.8v-59.733334a12.8 12.8 0 0 1 12.8-12.8H469.333333v-85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666667V128a42.666667 42.666667 0 0 1 42.666666-42.666667h853.333334a42.666667 42.666667 0 0 1 42.666666 42.666667v597.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H554.666667zM128 170.666667v512h768V170.666667H128z" fill="#ffffff" p-id="138585"></path><path d="M704 476.8a19.2 19.2 0 0 1-19.2 19.2H339.2a19.2 19.2 0 0 1-19.2-19.2v-57.6a19.2 19.2 0 0 1 19.2-19.2h345.6a19.2 19.2 0 0 1 19.2 19.2v57.6z" fill="#ffffff" p-id="138586"></path></svg>',func:function(){e.createSceneObjectOnTree("GeoPathCameraController",this.name)}}];try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var c=s.value;e.commands.register(r(r({},c),{category:""}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}},4582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFuncStr=void 0,t.updateFuncStr='\n(sceneObject, timeStamp) => {\n    if (!sceneObject.timeStamp) {\n        sceneObject.timeStamp = 0\n    }\n \n\n    if (timeStamp > sceneObject.timeStamp + 3000) {\n        sceneObject.timeStamp = timeStamp\n        const random = (min, max) => {\n          return Math.floor(Math.random() * (max - min + 1) + min);\n      }\n      const lineMyChartFuncStr = `\n    let xLabel = ["3.26", "3.27", "3.28", "3.29", "3.30", "3.31"];\n    let goToSchool = [${random(1, 100)}, ${random(1, 100)}, ${random(1, 100)}, ${random(1, 100)}, ${random(1, 100)}, ${random(1, 100)}];\n    \n    option = {\n      tooltip: {\n        trigger: "axis",\n        backgroundColor: "transparent",\n        axisPointer: {\n          lineStyle: {\n            color: {\n              type: "linear",\n              x: 0,\n              y: 0,\n              x2: 0,\n              y2: 1,\n              colorStops: [\n                {\n                  offset: 0,\n                  color: "rgba(126,199,255,0)", // 0% \n                },\n                {\n                  offset: 0.5,\n                  color: "rgba(126,199,255,1)", // 100% \n                },\n                {\n                  offset: 1,\n                  color: "rgba(126,199,255,0)", // 100% \n                },\n              ],\n              global: false, //  false\n            },\n          },\n        },\n        formatter: (p) => {\n          let dom = \\`<div style="width: 79px;\n        height: 50px;;color:#fff;position: relative;">\n            <svg style="position: absolute;top: 50%;\n        left: 50%;\n        transform: translateX(-50%) translateY(-50%);" class="svg" xmlns="http://www.w3.org/2000/svg" width="100" height="71" viewBox="0 0 84 55">\n          <defs>\n            <style>\n              .cls-1 {\n                fill: #07172c;\n                fill-opacity: 0.8;\n                stroke: #a7d8ff;\n                stroke-linejoin: round;\n                stroke-opacity: 0.2;\n                fill-rule: evenodd;\n              }\n    \n            </style>\n          </defs>\n          <path id="_419" data-name=" 419" class="cls-1" d="M266,595h74v50H266V624.046L261,620l5-3.984V595Z"\n            transform="translate(-258.5 -592.5)" />\n        </svg>\n            <div style="padding: 4px 8px 4px 14px;display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;position: relative;z-index: 1;">\n                <div style="margin-bottom: 4px;width:100%;display:\\${\n                  p[0] ? "flex" : "none"\n                };justify-content:space-between;align-items:center;">\n                    <span style="font-size:14px;color:#7ec7ff;">\\${\n                      p[0] ? p[0].seriesName : ""\n                    }</span>\n                    <span style="font-size:14px;color:#fff;">\\${\n                      p[0] ? p[0].data : ""\n                    }</span>\n                </div>\n            </div>\n        </div>\\`;\n          return dom;\n        },\n      },\n      legend: {\n        align: "left",\n        right: "5%",\n        top: "14%",\n        type: "plain",\n        textStyle: {\n          color: "#7ec7ff",\n          fontSize: 16,\n        },\n        // icon:\'rect\',\n        itemGap: 25,\n        itemWidth: 18,\n        icon: "path://M0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",\n    \n        data: [\n          {\n            name: "",\n          },\n        ],\n      },\n      grid: {\n        top: "8%",\n        left: "15%",\n        right: "5%",\n        bottom: "20%",\n        // containLabel: true\n      },\n      xAxis: [\n        {\n          type: "category",\n          boundaryGap: false,\n          axisLine: {\n            //x\n            show: false,\n            lineStyle: {\n              color: "#233653",\n            },\n          },\n          axisLabel: {\n            //\n            textStyle: {\n              color: "#fff",\n              padding: 16,\n              fontSize: 14,\n            },\n            formatter: function (data) {\n              return data;\n            },\n          },\n          splitLine: {\n            show: false,\n            lineStyle: {\n              color: "#192a44",\n            },\n          },\n          axisTick: {\n            show: false,\n          },\n          data: xLabel,\n        },\n      ],\n      yAxis: [\n        {\n          nameTextStyle: {\n            color: "#fff",\n            fontSize: 16,\n            padding: 10,\n          },\n          min: 0,\n          splitLine: {\n            show: false,\n            lineStyle: {\n              color: "#192a44",\n            },\n          },\n          axisLine: {\n            show: false,\n            lineStyle: {\n              color: "#233653",\n            },\n          },\n          axisLabel: {\n            show: true,\n            textStyle: {\n              color: "#fff",\n              padding: 16,\n            },\n            formatter: function (value) {\n              if (value === 0) {\n                return value;\n              }\n              return value;\n            },\n          },\n          axisTick: {\n            show: false,\n          },\n        },\n      ],\n      series: [\n        {\n          name: "",\n          type: "line",\n          symbol: "circle", // \n          showAllSymbol: true,\n          symbolSize: 0,\n          smooth: true,\n          lineStyle: {\n            normal: {\n              width: 2,\n              color: "rgba(25,163,223,1)", // \n            },\n            borderColor: "rgba(0,0,0,.4)",\n          },\n          itemStyle: {\n            color: "rgba(25,163,223,1)",\n            borderColor: "#646ace",\n            borderWidth: 2,\n          },\n    \n          areaStyle: {\n            //\n            normal: {\n              //4x0,y0,x2,y2(0~1);true\n              color: new echarts.graphic.LinearGradient(\n                0,\n                0,\n                0,\n                1,\n                [\n                  {\n                    offset: 0,\n                    color: "rgba(25,163,223,.3)",\n                  },\n                  {\n                    offset: 1,\n                    color: "rgba(25,163,223, 0)",\n                  },\n                ],\n                false\n              ),\n              shadowColor: "rgba(25,163,223, 0.5)", //\n              shadowBlur: 20, //shadowBlurshadowColor,shadowOffsetX/Y, \n            },\n          },\n          data: goToSchool,\n        },\n      ],\n    };\n  `\n        sceneObject.updateMyChartFuncStr = lineMyChartFuncStr\n    }\n   \n}\n'},19882:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.barMyChartFuncStr=void 0,t.barMyChartFuncStr='\nvar option = {\n  tooltip: {\n    trigger: "axis",\n    axisPointer: {\n      // \n      type: "shadow", // \'line\' | \'shadow\'\n    },\n  },\n  grid: {\n    left: "2%",\n    right: "4%",\n    bottom: "18%",\n    top: "10%",\n    containLabel: true,\n  },\n  legend: {\n    data: ["1", "2", "3"],\n    right: 10,\n    top: 12,\n    textStyle: {\n      color: "#fff",\n    },\n    itemWidth: 12,\n    itemHeight: 10,\n    // itemGap: 35\n  },\n  xAxis: {\n    type: "category",\n    data: ["2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019"],\n    axisLine: {\n      lineStyle: {\n        color: "white",\n      },\n    },\n    axisLabel: {\n      // interval: 0,\n      // rotate: 40,\n      textStyle: {\n        fontFamily: "Microsoft YaHei",\n      },\n    },\n  },\n\n  yAxis: {\n    type: "value",\n    max: "1200",\n    axisLine: {\n      show: false,\n      lineStyle: {\n        color: "white",\n      },\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: "rgba(255,255,255,0.3)",\n      },\n    },\n    axisLabel: {},\n  },\n  dataZoom: [\n    {\n      show: true,\n      height: 12,\n      xAxisIndex: [0],\n      bottom: "8%",\n      start: 10,\n      end: 90,\n      handleIcon:\n        "path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",\n      handleSize: "110%",\n      handleStyle: {\n        color: "#d3dee5",\n      },\n      textStyle: {\n        color: "#fff",\n      },\n      borderColor: "#90979c",\n    },\n    {\n      type: "inside",\n      show: true,\n      height: 15,\n      start: 1,\n      end: 35,\n    },\n  ],\n  series: [\n    {\n      name: "1",\n      type: "bar",\n      barWidth: "15%",\n      itemStyle: {\n        normal: {\n          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n            {\n              offset: 0,\n              color: "#fccb05",\n            },\n            {\n              offset: 1,\n              color: "#f5804d",\n            },\n          ]),\n          barBorderRadius: 12,\n        },\n      },\n      data: [400, 400, 300, 300, 300, 400, 400, 400, 300],\n    },\n    {\n      name: "2",\n      type: "bar",\n      barWidth: "15%",\n      itemStyle: {\n        normal: {\n          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n            {\n              offset: 0,\n              color: "#8bd46e",\n            },\n            {\n              offset: 1,\n              color: "#09bcb7",\n            },\n          ]),\n          barBorderRadius: 11,\n        },\n      },\n      data: [400, 500, 500, 500, 500, 400, 400, 500, 500],\n    },\n    {\n      name: "3",\n      type: "bar",\n      barWidth: "15%",\n      itemStyle: {\n        normal: {\n          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n            {\n              offset: 0,\n              color: "#248ff7",\n            },\n            {\n              offset: 1,\n              color: "#6851f1",\n            },\n          ]),\n          barBorderRadius: 11,\n        },\n      },\n      data: [400, 600, 700, 700, 1000, 400, 400, 600, 700],\n    },\n  ],\n};\n'},60929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circleMyChartFuncStr=void 0,t.circleMyChartFuncStr='\n\nvar color = ["#0CD2E6", "#3751E6", "#FFC722", "#886EFF"];\n\nvar legend = ["", "", "", ""];\n\nvar seriesData = [\n  { name: "", value: 50 },\n  { name: "", value: 30 },\n  { name: "", value: 18 },\n  { name: "", value: 2 },\n];\n\nvar option = {\n  color: color,\n  grid: {\n    top: "15%",\n    left: 0,\n    right: "1%",\n    bottom: 5,\n    containLabel: true,\n  },\n  legend: {\n    orient: "vertical",\n    top: 80,\n    right: 20,\n    textStyle: {\n      align: "left",\n      verticalAlign: "middle",\n      rich: {\n        name: {\n          color: "rgba(255,255,255,0.5)",\n          fontSize: 14,\n        },\n        rate: {\n          color: "rgba(255,255,255,0.9)",\n          fontSize: 14,\n        },\n      },\n    },\n    data: legend,\n    formatter: (name) => {\n      if (seriesData.length) {\n        const item = seriesData.filter((item) => item.name === name)[0];\n        return `{name|${name}} {rate| ${item.value}%}`;\n      }\n    },\n  },\n  series: [\n    {\n      name: "",\n      type: "pie",\n      center: ["30%", "45%"],\n      radius: ["40%", "60%"],\n      label: {\n        show: false,\n      },\n      data: seriesData,\n    },\n  ],\n};\n\nmyChart.setOption(option);\n\ngetDefaultSelected(myChart);\n\nfunction getDefaultSelected(myChart) {\n  let index = 0;\n  myChart.dispatchAction({\n    type: "highlight",\n    seriesIndex: 0,\n    dataIndex: 0,\n  });\n  myChart.on("mouseover", (e) => {\n    if (e.dataIndex !== index) {\n      myChart.dispatchAction({\n        type: "downplay",\n        seriesIndex: 0,\n        dataIndex: index,\n      });\n    }\n  });\n  myChart.on("mouseout", (e) => {\n    index = e.dataIndex;\n    myChart.dispatchAction({\n      type: "highlight",\n      seriesIndex: 0,\n      dataIndex: e.dataIndex,\n    });\n  });\n}\n'},82649:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.setEchartsBeforeScript=t.setActivityEChartsDiv=t.setEChartsDiv=t.setOtherLayoutStyle=t.setLayoutStyle=t.creatOtherYLJ=t.creatYLJ=t.creatTable=t.creatFooter=t.creatSidebar=t.creatAnalyse=t.creatColumn=t.creatRadar=t.creatActivityLines=t.creatLines=t.creatCircle=t.creatBanner=void 0;var c=r(81622),l=r(4582),u=r(19882),f=r(60929),p=r(19379),d=r(191),h=r(77682);t.creatBanner=function(e,t){var r=e.sceneTree.createItemWithSceneObject({type:"MyHeader"},t);if(r){var n=r.sceneObj;if(n)return n.name="Header",n.fontSize=30,n.fontWeight=700,n.letterSpacing=10,n.layoutType="Center",n}else console.error("!bannerItem")},t.creatCircle=function(e,r){return n(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,(0,t.setEChartsDiv)(e,"","",f.circleMyChartFuncStr,r)];case 1:return[2,n.sent()]}}))}))},t.creatLines=function(e,r){return n(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,(0,t.setEChartsDiv)(e,"","",p.lineMyChartFuncStr,r)];case 1:return[2,n.sent()]}}))}))},t.creatActivityLines=function(e,r){return n(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,(0,t.setActivityEChartsDiv)(e,"","",p.lineMyChartFuncStr,r)];case 1:return[2,n.sent()]}}))}))},t.creatRadar=function(e,r){return n(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,(0,t.setEChartsDiv)(e,"","",d.radarMyChartFuncStr,r)];case 1:return[2,n.sent()]}}))}))},t.creatColumn=function(e,r){return n(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,(0,t.setEChartsDiv)(e,"","",u.barMyChartFuncStr,r)];case 1:return[2,n.sent()]}}))}))},t.creatAnalyse=function(e,t){var r,n,o=e.sceneTree.createItemWithSceneObject({type:"MyPanel",name:"MyPanel",layoutCssText:"\n    position: absolute;\n    left: 0;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 400px;\n    height: 300px;\n    \n    ",titleLayoutCssText:"\n    position: absolute;\n    left: 50%;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 100%;\n    height: 45px;\n    transform: translateX(-50%);\n\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    ",text:"",textLayoutCssText:"\n    box-sizing: border-box;\n    position: absolute;\n    left: 20px;\n    right: unset;\n    top: 50%;\n    bottom: unset;\n    width: unset;\n    height: unset;\n    transform: translateY(-50%);\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    "},t);if(o){o.collapsed=!0;var c=o.sceneObj;c.name="",c.text="",c.wrap="wrap";try{for(var l=i(h.resourceInfo),u=l.next();!u.done;u=l.next()){var f=u.value,p=e.sceneTree.createItemWithSceneObject({type:"MyResourceInfo"},o,"Inner");if(!p)return void console.error("!infoItem");var d=p.sceneObj;if(!d)return void console.error("info");d.layoutDiv.setLayoutStyle({type:"FullScreen",width:"50%",height:"50%"}),d.name=f.title+"-info",d.title=f.title,d.unit=f.unit,d.num=f.num,d.imageUri=f.imageUri;var g=s([],a(c.sceneObjectIds),!1);c.sceneObjectIds=s(s([],a(g),!1),[d.id],!1)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return c}console.error("!panelItem")},t.creatSidebar=function(e,t){var r=e.sceneTree.createItemWithSceneObject({type:"MySidebar"},t,"Inner");if(r){r.collapsed=!0;var n=r.sceneObj;if(n)return n.direction="column",r}else console.error("!sidebarItem")},t.creatFooter=function(e,t){var r=e.sceneTree.createItemWithSceneObject({type:"MyFooter"},t,"Inner");if(r){var n=r.sceneObj;if(n&&(n.name="Footer",n))return n}else console.error("!footerItem")},t.creatTable=function(e,t){var r=e.sceneTree.createItemWithSceneObject({type:"MyPanel",name:"MyPanel",layoutCssText:"\n    position: absolute;\n    left: 0;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 400px;\n    height: 300px;\n    \n    ",titleLayoutCssText:"\n    position: absolute;\n    left: 50%;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 100%;\n    height: 45px;\n    transform: translateX(-50%);\n\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    ",text:"",textLayoutCssText:"\n    box-sizing: border-box;\n    position: absolute;\n    left: 20px;\n    right: unset;\n    top: 50%;\n    bottom: unset;\n    width: unset;\n    height: unset;\n    transform: translateY(-50%);\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    "},t);if(r){r.collapsed=!0;var n=r.sceneObj;if(n){n.name="",n.text="";var o=e.sceneTree.createItemWithSceneObject({type:"MyTable"},r,"Inner");if(o){var i=o.sceneObj;if(i)return i.layoutDiv.setLayoutStyle({type:"FullScreen",height:"90%",extraCss:"margin-top:3%;"}),i.name="-table",n.sceneObjectIds=[i.id],n;console.error("table")}else console.error("!tableItem")}}else console.error("!panelItem")},t.creatYLJ=function(e){return n(void 0,void 0,void 0,(function(){var r,n,i,a,s,c,l,u,f,p,d;return o(this,(function(o){switch(o.label){case 0:return(r=e.sceneTree.createSceneTreeItem())?(r.name="YLJ UI",(0,t.creatBanner)(e,r),(n=(0,t.creatSidebar)(e,r))&&(i=n.sceneObj)?(i.name="",i.extraCss="\n        height: 92%;\n    ",[4,(0,t.creatCircle)(e,n)]):[2]):[2];case 1:return a=o.sent(),(0,t.setLayoutStyle)(a),[4,(0,t.creatLines)(e,n)];case 2:return s=o.sent(),(0,t.setLayoutStyle)(s),[4,(0,t.creatRadar)(e,n)];case 3:return c=o.sent(),(0,t.setLayoutStyle)(c),i.sceneObjectIds=[a.id,s.id,c.id],(l=(0,t.creatSidebar)(e,r))&&(u=l.sceneObj)?(u.name="",u.layoutMode="RightBottom",u.imageUri="${my3dtiles-assets-script-dir}/assets/images/YLJ/sidebar/rightMark.png",u.extraCss="\n        height: 92%;\n    ",[4,(0,t.creatColumn)(e,l)]):[2];case 4:return f=o.sent(),(0,t.setLayoutStyle)(f),p=(0,t.creatAnalyse)(e,l),(0,t.setLayoutStyle)(p),d=(0,t.creatTable)(e,l),(0,t.setLayoutStyle)(d),u.sceneObjectIds=[f.id,p.id,d.id],(0,t.creatFooter)(e,r),[2]}}))}))},t.creatOtherYLJ=function(e){return n(void 0,void 0,void 0,(function(){var r,n,i,a,s,c,l,u,f,p,d;return o(this,(function(o){switch(o.label){case 0:return(r=e.sceneTree.createSceneTreeItem())?(r.name="YLJ UI",(0,t.creatBanner)(e,r).backgroundColorHueRotate=146,(n=(0,t.creatSidebar)(e,r))&&(i=n.sceneObj)?(i.name="",i.extraCss="\n        height: 92%;\n    ",i.slideColor=[.48,.25,.18,1],[4,(0,t.creatCircle)(e,n)]):[2]):[2];case 1:return a=o.sent(),(0,t.setOtherLayoutStyle)(a),[4,(0,t.creatLines)(e,n)];case 2:return s=o.sent(),(0,t.setOtherLayoutStyle)(s),[4,(0,t.creatRadar)(e,n)];case 3:return c=o.sent(),(0,t.setOtherLayoutStyle)(c),i.sceneObjectIds=[a.id,s.id,c.id],(l=(0,t.creatSidebar)(e,r))&&(u=l.sceneObj)?(u.name="",u.layoutMode="RightBottom",u.imageUri="${my3dtiles-assets-script-dir}/assets/images/YLJ/sidebar/rightMark.png",u.extraCss="\n        height: 92%;\n    ",u.slideColor=[.48,.25,.18,1],[4,(0,t.creatColumn)(e,l)]):[2];case 4:return f=o.sent(),(0,t.setOtherLayoutStyle)(f),p=(0,t.creatAnalyse)(e,l),(0,t.setOtherLayoutStyle)(p),[4,(0,t.creatLines)(e,l)];case 5:return d=o.sent(),(0,t.setOtherLayoutStyle)(d),u.sceneObjectIds=[f.id,p.id,d.id],(0,t.creatFooter)(e,r).backgroundColor=146,[2]}}))}))},t.setLayoutStyle=function(e){e.layoutDiv.setLayoutStyle({type:"FullScreen",width:"400px",height:"300px"})},t.setOtherLayoutStyle=function(e){e.layoutDiv.setLayoutStyle({type:"FullScreen",width:"400px",height:"300px"}),e.backgroundColorHueRotate=146,e.contentColor=[.48,.25,.18,.5]},t.setEChartsDiv=function(e,r,i,a,s){return n(void 0,void 0,void 0,(function(){var n,c,l,u;return o(this,(function(o){switch(o.label){case 0:return[4,(0,t.setEchartsBeforeScript)(e)];case 1:return o.sent(),(n=e.sceneTree.createItemWithSceneObject({type:"MyPanel",name:"MyPanel"},s))?(n.collapsed=!0,(c=n.sceneObj)?(c.name=r,c.text=i,(l=e.sceneTree.createItemWithSceneObject({type:"EChartsDiv"},n,"Inner"))?(u=l.sceneObj)?(u.layoutDiv.setLayoutStyle({type:"FullScreen"}),u.name=r+"-ECharts",u.updateMyChartFuncStr=a,c.sceneObjectIds=[u.id],[2,c]):(console.error("eChartsDiv"),[2]):(console.error("!eChartsDivItem"),[2])):[2,void 0]):(console.error("!panelItem"),[2])}}))}))},t.setActivityEChartsDiv=function(e,r,i,a,s){return n(void 0,void 0,void 0,(function(){var n,c,u,f;return o(this,(function(o){switch(o.label){case 0:return[4,(0,t.setEchartsBeforeScript)(e)];case 1:return o.sent(),(n=e.sceneTree.createItemWithSceneObject({type:"MyPanel",name:"MyPanel",layoutCssText:"\n    position: absolute;\n    left: 0;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 400px;\n    height: 300px;\n    \n    ",titleLayoutCssText:"\n    position: absolute;\n    left: 50%;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 100%;\n    height: 45px;\n    transform: translateX(-50%);\n\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    ",text:"",textLayoutCssText:"\n    box-sizing: border-box;\n    position: absolute;\n    left: 20px;\n    right: unset;\n    top: 50%;\n    bottom: unset;\n    width: unset;\n    height: unset;\n    transform: translateY(-50%);\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    "},s))?(n.collapsed=!0,(c=n.sceneObj)?(c.name=r,c.text=i,(u=e.sceneTree.createItemWithSceneObject({type:"EChartsDiv"},n,"Inner"))?(f=u.sceneObj)?(f.layoutDiv.setLayoutStyle({type:"FullScreen"}),f.name=r+"-ECharts",f.backgroundColor=[0,0,0,0],f.updateMyChartFuncStr=a,f.updateFuncStr=l.updateFuncStr,c.sceneObjectIds=[f.id],[2,c]):(console.error("eChartsDiv"),[2]):(console.error("!eChartsDivItem"),[2])):[2,void 0]):(console.error("!panelItem"),[2])}}))}))},t.setEchartsBeforeScript=function(e){return n(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return window.echarts?[3,2]:(t=e.sceneTree.createItemWithSceneObject({type:"ScriptsLoader"}))?(r=t.sceneObj)?(r.name="EChartsDiv",r.json=c.echartsPreLoaderJson,[4,r.reload()]):[2,void 0]:(console.error("!scriptsLoaderItem"),[2]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}},34160:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.registerYLJ=void 0;var s=r(82649);t.registerYLJ=function(e){var t,r;e.commands.register({name:"",category:"YLJ(UI)",description:"",icon:'<svg t="1715845715453" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4257"><path d="M509.44 954.88c-250.88 0-455.68-204.8-455.68-455.68s204.8-455.68 455.68-455.68 455.68 204.8 455.68 455.68-204.8 455.68-455.68 455.68z m-51.2-153.6h99.84v-99.84h-99.84v99.84z m74.24-604.16c-115.2 0-225.28 56.32-225.28 202.24h99.84c0-48.64 30.72-102.4 99.84-102.4 40.96 0 99.84 15.36 99.84 76.8 0 56.32-17.92 66.56-71.68 107.52-53.76 35.84-79.36 81.92-76.8 140.8v30.72h102.4c0-92.16 64-102.4 115.2-176.64 25.6-38.4 35.84-74.24 35.84-120.32 0-79.36-71.68-158.72-179.2-158.72z" fill="#ffffff" p-id="4258"></path></svg>',func:function(){window.open(e.config.helps.uris.commands["YLJ(UI)"])}});var c=[{name:"Header",keywords:["MyHeader"],description:"Header",icon:'<svg t="1716187903162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="107406" ><path d="M256 213.333333h104.874667v267.093334h324.48V213.333333h104.874666v640h-104.874666v-283.264H360.874667V853.333333H256z" p-id="107407" fill="#ffffff"></path></svg>',func:function(){(0,s.creatBanner)(e)}},{name:"MyPanel",keywords:["MyPanel"],description:"MyPanel",icon:'<svg t="1716189530756" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="173964" ><path d="M922.88 928H227.2A94.72 94.72 0 0 1 132.48 832V542.72A30.72 30.72 0 0 1 163.2 512a31.36 31.36 0 0 1 28.8 30.72V832a32.64 32.64 0 0 0 32.64 32h698.24a32 32 0 0 0 32-32V481.92l-192-192H430.72a31.36 31.36 0 1 1 0-64h347.52a32.64 32.64 0 0 1 22.4 9.6L1008.64 448a30.72 30.72 0 0 1 8.96 21.76V832a94.72 94.72 0 0 1-94.72 96z" fill="#ffffff" p-id="173965"></path><path d="M965.76 536.32h-221.44a31.36 31.36 0 0 1-31.36-31.36v-236.8a31.36 31.36 0 1 1 64 0V473.6h192a31.36 31.36 0 1 1 0 64zM288.64 291.2H38.4a31.36 31.36 0 0 1 0-64h250.24a31.36 31.36 0 0 1 0 64z" fill="#ffffff" p-id="173966"></path><path d="M163.2 416.64A30.72 30.72 0 0 1 132.48 384V135.04a30.72 30.72 0 0 1 30.72-31.36 31.36 31.36 0 0 1 28.8 31.36V384a31.36 31.36 0 0 1-28.8 32.64z" fill="#ffffff" p-id="173967"></path></svg>',func:function(){e.createSceneObjectFromJsonOnTree({type:"MyPanel",name:"MyPanel",layoutCssText:"\n    position: absolute;\n    left: 0;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 400px;\n    height: 300px;\n    \n    ",titleLayoutCssText:"\n    position: absolute;\n    left: 50%;\n    right: unset;\n    top: 0;\n    bottom: unset;\n    width: 100%;\n    height: 45px;\n    transform: translateX(-50%);\n\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    ",textLayoutCssText:"\n    box-sizing: border-box;\n    position: absolute;\n    left: 20px;\n    right: unset;\n    top: 50%;\n    bottom: unset;\n    width: unset;\n    height: unset;\n    transform: translateY(-50%);\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    "})}},{name:"MyResourceInfo",keywords:["MyResourceInfo"],description:"MyResourceInfo",icon:'<svg t="1716189966558" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="191200" ><path d="M941.880195 305.601561L498.213463 561.651512V31.96878C223.681561 31.96878 2.197854 254.251707 2.197854 527.98439S224.48078 1024 498.213463 1024s496.01561-222.282927 496.01561-496.01561c0.199805-77.224585-17.782634-153.350244-52.348878-222.382829z" p-id="191201" fill="#ffffff"></path><path d="M560.35278 2.697366v446.563902l373.735025-215.389658C848.571317 111.690927 714.702049 25.175415 560.35278 2.697366z" p-id="191202" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("MyResourceInfo",this.name)}},{name:"",description:"",icon:'<svg t="1716189598765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="176121" ><path d="M552.0003125 233.9196875C711.9996875 253.4796875 793.9596875 370.3596875 793.9596875 512c0 36.8803125-5.799375 72.0403125-18.6 104.3203125l139.4803125 80.799375C940.6803125 640.76 953 578.1996875 953 512c-0.0403125-230.559375-160.9996875-419.6803125-400.9996875-439.9996875V233.91875zM471.9996875 790.0803125c-120-19.520625-239.079375-136.400625-239.079375-278.0803125 0-141.6796875 119.079375-258.5596875 239.079375-278.0803125V72.0003125C272 92.31875 73.5603125 281.4396875 73.5603125 512S272 931.6803125 471.9996875 951.9996875V790.08125zM734 685.88c-43.2796875 55.359375-102 93.72-181.9996875 104.2003125v161.919375c120-11.9596875 247.239375-82.359375 319.3996875-185.2396875L734 685.88z" p-id="176122" fill="#ffffff"></path></svg>',func:function(){(0,s.creatCircle)(e)}},{name:"",description:"",icon:'<svg t="1716189617802" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="177371" ><path d="M896 896H96a32 32 0 0 1-32-32V224a32 32 0 0 1 64 0v608h768a32 32 0 1 1 0 64z" p-id="177372" fill="#ffffff"></path><path d="M247.008 640a32 32 0 0 1-20.992-56.192l200.992-174.24a32 32 0 0 1 42.272 0.288l172.128 153.44 229.088-246.304a32 32 0 0 1 46.88 43.616l-250.432 269.216a31.936 31.936 0 0 1-44.704 2.08l-174.56-155.52-179.744 155.84a31.872 31.872 0 0 1-20.928 7.776z" p-id="177373" fill="#ffffff"></path></svg>',func:function(){(0,s.creatLines)(e)}},{name:"",description:"",icon:'<svg t="1716189639332" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="178487" ><path d="M683.52 798.515H340.992L234.496 465.101l278.016-206.08L790.528 465.1 683.52 798.515z m-324.096-26.112h305.664l94.72-297.37L512 291.38 264.192 475.034l95.232 297.37z" p-id="178488" fill="#ffffff"></path><path d="M827.904 1023.898H196.608L0 409.293 512 29.49l512 379.802-196.096 614.605z m-609.792-30.772H806.4l182.784-572.364L512 67.072 34.816 420.762l183.296 572.364z" p-id="178489" fill="#ffffff"></path><path d="M499.2 39.424h25.6v487.27h-25.6z" p-id="178490" fill="#ffffff"></path><path d="M1011.251 398.694l5.632 25.447-502.016 115.097-5.632-25.446z" p-id="178491" fill="#ffffff"></path><path d="M522.65 519.475l305.766 481.28-21.504 14.234-305.715-481.331z" p-id="178492" fill="#ffffff"></path><path d="M500.94 519.475l21.505 14.183-308.839 486.144-21.504-14.132z" p-id="178493" fill="#ffffff"></path><path d="M19.2 400.18l495.514 113.612-5.632 25.446L13.568 425.626z" p-id="178494" fill="#ffffff"></path></svg>',func:function(){(0,s.creatRadar)(e)}},{name:"",description:"",icon:'<svg t="1716189663896" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="179584" ><path d="M907.1 920.6H119.3c-13.1 0-23.7-10.6-23.7-23.7s10.6-23.7 23.7-23.7h787.8c13.1 0 23.7 10.6 23.7 23.7s-10.6 23.7-23.7 23.7z" p-id="179585" fill="#ffffff"></path><path d="M328.3 920.6h-63.6c-28.8 0-52.2-23.4-52.2-52.2V500.7c0-28.8 23.4-52.2 52.2-52.2h63.6c28.8 0 52.2 23.4 52.2 52.2v367.7c0 28.8-23.4 52.2-52.2 52.2zM264.7 496c-2.6 0-4.7 2.2-4.7 4.7v367.7c0 2.6 2.2 4.7 4.7 4.7h63.6c2.6 0 4.7-2.2 4.7-4.7V500.7c0-2.6-2.2-4.7-4.7-4.7h-63.6z m307.9 424.6H509c-28.8 0-52.2-23.4-52.2-52.2V196.8c0-28.8 23.4-52.2 52.2-52.2h63.6c28.8 0 52.2 23.4 52.2 52.2v671.7c0 28.7-23.5 52.1-52.2 52.1zM509 192c-2.6 0-4.7 2.2-4.7 4.7v671.7c0 2.6 2.2 4.7 4.7 4.7h63.6c2.6 0 4.7-2.2 4.7-4.7V196.8c0-2.6-2.2-4.7-4.7-4.7H509z m305.9 728.6h-63.6c-28.8 0-52.2-23.4-52.2-52.2V318.2c0-28.8 23.4-52.2 52.2-52.2h63.6c28.8 0 52.2 23.4 52.2 52.2v550.2c0 28.8-23.4 52.2-52.2 52.2z m-63.6-607.1c-2.6 0-4.7 2.2-4.7 4.7v550.2c0 2.6 2.2 4.7 4.7 4.7h63.6c2.6 0 4.7-2.2 4.7-4.7V318.2c0-2.6-2.2-4.7-4.7-4.7h-63.6zM118.7 917.6c-13.8 0-25-11.2-25-25V149.5c0-13.8 11.2-25 25-25s25 11.2 25 25v743.1c0 13.8-11.2 25-25 25z" p-id="179586" fill="#ffffff"></path></svg>',func:function(){(0,s.creatColumn)(e)}},{name:"",description:"",icon:'<svg t="1716189680790" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="180668" ><path d="M829.568 94.048H202.272c-64.224 0-104.544 40.288-104.544 104.544v470.4c0 64.192 40.288 104.64 104.544 104.64h627.296c64.256 0 104.448-40.448 104.448-104.64v-470.4c0-64.256-40.192-104.544-104.448-104.544z m52.192 564c0 43.616-20.736 63.2-65.376 63.2H215.328c-44.672 0-65.344-19.552-65.344-63.2V209.472c0-43.552 20.672-63.2 65.344-63.2h601.024c44.64 0 65.376 19.616 65.376 63.2v448.576zM254.528 891.232c0-7.648 5.504-13.152 13.088-13.152H764.16c7.552 0 13.12 5.504 13.12 13.152v26.08a12.64 12.64 0 0 1-13.12 13.024H267.584a12.608 12.608 0 0 1-13.088-13.024v-26.08z" fill="#ffffff" p-id="180669"></path><path d="M253.568 456c-5.44-4.352-4.352-14.176 2.176-20.704l124.16-124.064c6.528-6.56 16.32-7.68 20.672-2.176l18.496 18.496c5.472 4.352 4.352 14.144-2.144 20.672l-124.16 124.16c-6.496 6.496-16.32 7.584-20.672 2.176l-18.528-18.56zM598.688 535.296c-5.44-6.528-2.176-15.232 4.384-21.824l134.016-112.096c7.488-5.472 17.44-6.528 21.696-1.12l16.32 19.584c5.504 6.592 2.176 15.232-4.32 21.792L636.8 553.824c-7.616 5.376-17.44 6.528-21.824 0.992l-16.288-19.52z" fill="#ffffff" p-id="180670"></path><path d="M385.952 313.408c4.384-6.528 13.088-6.528 18.528-2.144l240.672 201.44c5.376 4.384 5.376 13.056 1.12 18.496l-16.448 19.584c-4.32 6.496-12.992 6.496-18.432 2.144l-240.672-201.376c-5.408-4.352-5.408-13.088-1.056-18.56l16.288-19.584z" fill="#ffffff" p-id="180671"></path></svg>',func:function(){(0,s.creatAnalyse)(e)}},{name:"",description:"",icon:'<svg t="1716189729860" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="181725" ><path d="M127.6 259h768.9c35.4 0 64.1-28.7 64.1-64.1s-28.7-64.1-64.1-64.1H127.6c-35.4 0-64.1 28.7-64.1 64.1S92.2 259 127.6 259zM896.4 765H127.6c-35.4 0-64.1 28.7-64.1 64.1s28.7 64.1 64.1 64.1h768.9c35.4 0 64.1-28.7 64.1-64.1S931.8 765 896.4 765zM127.6 576.1H512c35.4 0 64.1-28.7 64.1-64.1s-28.7-64-64.1-64H127.6c-35.4 0-64.1 28.7-64.1 64.1s28.7 64 64.1 64zM938.8 477l-159.1-88.4c-28.2-15.6-62.8 4.7-62.7 36.9v176.7c0 32.2 34.6 52.6 62.8 36.9l159.1-88.4c28.8-15.9 28.8-57.6-0.1-73.7z" p-id="181726" fill="#ffffff"></path></svg>',func:function(){(0,s.creatSidebar)(e)}},{name:"Footer",keywords:["MyFooter"],description:"Footer",icon:'<svg t="1716189798438" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="186499" ><path d="M896 932.571429h-768A18.285714 18.285714 0 0 1 109.714286 914.285714V109.714286a18.285714 18.285714 0 0 1 18.285714-18.285715h768a18.285714 18.285714 0 0 1 18.285714 18.285715v804.571428a18.285714 18.285714 0 0 1-18.285714 18.285715zM146.285714 896h731.428572v-768H146.285714z" p-id="186500" fill="#ffffff"></path><path d="M877.714286 676.571429H146.285714a18.285714 18.285714 0 0 1 0-36.571429h731.428572a18.285714 18.285714 0 0 1 0 36.571429zM329.142857 841.142857H256a18.285714 18.285714 0 0 1-18.285714-18.285714v-73.142857A18.285714 18.285714 0 0 1 256 731.428571h73.142857a18.285714 18.285714 0 0 1 18.285714 18.285715v73.142857a18.285714 18.285714 0 0 1-18.285714 18.285714z m-54.857143-36.571428h36.571429v-36.571429h-36.571429zM548.571429 841.142857h-73.142858a18.285714 18.285714 0 0 1-18.285714-18.285714v-73.142857a18.285714 18.285714 0 0 1 18.285714-18.285715h73.142858a18.285714 18.285714 0 0 1 18.285714 18.285715v73.142857a18.285714 18.285714 0 0 1-18.285714 18.285714z m-54.857143-36.571428h36.571428v-36.571429h-36.571428zM768 841.142857h-73.142857a18.285714 18.285714 0 0 1-18.285714-18.285714v-73.142857a18.285714 18.285714 0 0 1 18.285714-18.285715h73.142857a18.285714 18.285714 0 0 1 18.285714 18.285715v73.142857a18.285714 18.285714 0 0 1-18.285714 18.285714z m-54.857143-36.571428h36.571429v-36.571429h-36.571429z" p-id="186501" fill="#ffffff"></path></svg>',func:function(){(0,s.creatFooter)(e)}},{name:"",description:"",icon:'<svg t="1716189818957" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="187676" ><path d="M100.736 100.736h754.176v205.632h68.544V32.064H32.256v68.672H32.192v822.208H375.04v-68.48H100.736z" p-id="187677" fill="#ffffff"></path><path d="M168.96 374.72h342.848v68.992H168.96zM169.28 237.824h411.392v68.48H169.28zM169.664 512.064H375.04v68.48H169.664zM644.736 542.912c62.592-23.168 130.112-12.096 177.92 20.992l-40.64 62.464 182.4-0.64-65.216-179.328-33.408 51.264c-70.4-43.264-166.4-57.408-250.432-26.304-116.48 43.072-183.488 154.368-170.24 266.944h81.664c-13.824-81.664 33.536-164.16 117.952-195.392zM990.528 693.632h-81.664c13.76 81.664-33.536 164.16-118.016 195.392-57.6 21.312-121.024 13.248-169.856-15.424l36.736-56.448-196.16-10.88 83.008 184.64 34.816-53.44a273.28 273.28 0 0 0 240.832 23.168c116.48-43.136 183.552-154.432 170.304-267.008zM908.864 693.632v-0.064z" p-id="187678" fill="#ffffff"></path></svg>',func:function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,(0,s.setEchartsBeforeScript)(e)];case 1:return t.sent(),(0,s.creatYLJ)(e),[2]}}))}))}},{name:"",description:"",icon:'<svg t="1716189818957" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="187676" ><path d="M100.736 100.736h754.176v205.632h68.544V32.064H32.256v68.672H32.192v822.208H375.04v-68.48H100.736z" p-id="187677" fill="#ffffff"></path><path d="M168.96 374.72h342.848v68.992H168.96zM169.28 237.824h411.392v68.48H169.28zM169.664 512.064H375.04v68.48H169.664zM644.736 542.912c62.592-23.168 130.112-12.096 177.92 20.992l-40.64 62.464 182.4-0.64-65.216-179.328-33.408 51.264c-70.4-43.264-166.4-57.408-250.432-26.304-116.48 43.072-183.488 154.368-170.24 266.944h81.664c-13.824-81.664 33.536-164.16 117.952-195.392zM990.528 693.632h-81.664c13.76 81.664-33.536 164.16-118.016 195.392-57.6 21.312-121.024 13.248-169.856-15.424l36.736-56.448-196.16-10.88 83.008 184.64 34.816-53.44a273.28 273.28 0 0 0 240.832 23.168c116.48-43.136 183.552-154.432 170.304-267.008zM908.864 693.632v-0.064z" p-id="187678" fill="#ffffff"></path></svg>',func:function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,(0,s.setEchartsBeforeScript)(e)];case 1:return t.sent(),(0,s.creatOtherYLJ)(e),[2]}}))}))}},{name:"",description:"",icon:'<svg t="1716189860225" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="189045" ><path d="M843.093333 768a25.173333 25.173333 0 0 1-23.466666-15.786667l-122.88-294.826666-116.906667 71.68a25.6 25.6 0 0 1-20.053333 2.986666 26.026667 26.026667 0 0 1-15.786667-12.8l-102.4-192.426666-118.613333 288.426666A25.6 25.6 0 1 1 275.626667 597.333333l139.52-341.333333a26.026667 26.026667 0 0 1 22.186666-15.786667 28.16 28.16 0 0 1 23.893334 13.653334l115.2 216.746666 119.04-72.533333a25.6 25.6 0 0 1 37.12 11.946667l133.973333 322.56A24.746667 24.746667 0 0 1 853.333333 768a20.48 20.48 0 0 1-10.24 0z" fill="#ffffff" p-id="189046"></path><path d="M917.76 908.373333H246.613333a85.333333 85.333333 0 0 1-85.333333-85.333333V161.706667a25.6 25.6 0 0 1 51.2 0v660.053333a35.413333 35.413333 0 0 0 34.986667 35.413333h670.293333a25.6 25.6 0 1 1 0 51.2z" fill="#ffffff" p-id="189047"></path></svg>',func:function(){(0,s.creatActivityLines)(e)}},{name:"",keywords:["MyTable"],description:"",icon:'<svg t="1716189879410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="190151" ><path d="M96 160v704h832V160H96z m309.344 400.192v-160h192v160h-192z m192 64V800h-192v-175.808h192zM160 400.192h181.344v160H160v-160z m501.344 0H864v160h-202.656v-160zM864 224v112.192H160V224h704zM160 624.192h181.344V800H160v-175.808zM661.344 800v-175.808H864V800h-202.656z" p-id="190152" fill="#ffffff"></path></svg>',func:function(){e.createSceneObjectOnTree("MyTable",this.name)}}];try{for(var l=a(c),u=l.next();!u.done;u=l.next()){var f=u.value;e.commands.register(n(n({},f),{category:"YLJ(UI)"}))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}}},19379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineMyChartFuncStr=void 0,t.lineMyChartFuncStr='\nlet xLabel = ["3.26", "3.27", "3.28", "3.29", "3.30", "3.31"];\nlet goToSchool = ["40", "60", "22", "85", "50", "40"];\n\noption = {\n  tooltip: {\n    trigger: "axis",\n    backgroundColor: "transparent",\n    axisPointer: {\n      lineStyle: {\n        color: {\n          type: "linear",\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: "rgba(126,199,255,0)", // 0% \n            },\n            {\n              offset: 0.5,\n              color: "rgba(126,199,255,1)", // 100% \n            },\n            {\n              offset: 1,\n              color: "rgba(126,199,255,0)", // 100% \n            },\n          ],\n          global: false, //  false\n        },\n      },\n    },\n    formatter: (p) => {\n      let dom = `<div style="width: 79px;\n\theight: 50px;;color:#fff;position: relative;">\n        <svg style="position: absolute;top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);" class="svg" xmlns="http://www.w3.org/2000/svg" width="100" height="71" viewBox="0 0 84 55">\n      <defs>\n        <style>\n          .cls-1 {\n            fill: #07172c;\n            fill-opacity: 0.8;\n            stroke: #a7d8ff;\n            stroke-linejoin: round;\n            stroke-opacity: 0.2;\n            fill-rule: evenodd;\n          }\n\n        </style>\n      </defs>\n      <path id="_419" data-name=" 419" class="cls-1" d="M266,595h74v50H266V624.046L261,620l5-3.984V595Z"\n        transform="translate(-258.5 -592.5)" />\n    </svg>\n        <div style="padding: 4px 8px 4px 14px;display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;position: relative;z-index: 1;">\n            <div style="margin-bottom: 4px;width:100%;display:${\n              p[0] ? "flex" : "none"\n            };justify-content:space-between;align-items:center;">\n                <span style="font-size:14px;color:#7ec7ff;">${\n                  p[0] ? p[0].seriesName : ""\n                }</span>\n                <span style="font-size:14px;color:#fff;">${\n                  p[0] ? p[0].data : ""\n                }</span>\n            </div>\n        </div>\n    </div>`;\n      return dom;\n    },\n  },\n  legend: {\n    align: "left",\n    right: "5%",\n    top: "14%",\n    type: "plain",\n    textStyle: {\n      color: "#7ec7ff",\n      fontSize: 16,\n    },\n    // icon:\'rect\',\n    itemGap: 25,\n    itemWidth: 18,\n    icon: "path://M0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",\n\n    data: [\n      {\n        name: "",\n      },\n    ],\n  },\n  grid: {\n    top: "8%",\n    left: "15%",\n    right: "5%",\n    bottom: "20%",\n    // containLabel: true\n  },\n  xAxis: [\n    {\n      type: "category",\n      boundaryGap: false,\n      axisLine: {\n        //x\n        show: false,\n        lineStyle: {\n          color: "#233653",\n        },\n      },\n      axisLabel: {\n        //\n        textStyle: {\n          color: "#fff",\n          padding: 16,\n          fontSize: 14,\n        },\n        formatter: function (data) {\n          return data;\n        },\n      },\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: "#192a44",\n        },\n      },\n      axisTick: {\n        show: false,\n      },\n      data: xLabel,\n    },\n  ],\n  yAxis: [\n    {\n      nameTextStyle: {\n        color: "#fff",\n        fontSize: 16,\n        padding: 10,\n      },\n      min: 0,\n      splitLine: {\n        show: false,\n        lineStyle: {\n          color: "#192a44",\n        },\n      },\n      axisLine: {\n        show: false,\n        lineStyle: {\n          color: "#233653",\n        },\n      },\n      axisLabel: {\n        show: true,\n        textStyle: {\n          color: "#fff",\n          padding: 16,\n        },\n        formatter: function (value) {\n          if (value === 0) {\n            return value;\n          }\n          return value;\n        },\n      },\n      axisTick: {\n        show: false,\n      },\n    },\n  ],\n  series: [\n    {\n      name: "",\n      type: "line",\n      symbol: "circle", // \n      showAllSymbol: true,\n      symbolSize: 0,\n      smooth: true,\n      lineStyle: {\n        normal: {\n          width: 2,\n          color: "rgba(25,163,223,1)", // \n        },\n        borderColor: "rgba(0,0,0,.4)",\n      },\n      itemStyle: {\n        color: "rgba(25,163,223,1)",\n        borderColor: "#646ace",\n        borderWidth: 2,\n      },\n\n      areaStyle: {\n        //\n        normal: {\n          //4x0,y0,x2,y2(0~1);true\n          color: new echarts.graphic.LinearGradient(\n            0,\n            0,\n            0,\n            1,\n            [\n              {\n                offset: 0,\n                color: "rgba(25,163,223,.3)",\n              },\n              {\n                offset: 1,\n                color: "rgba(25,163,223, 0)",\n              },\n            ],\n            false\n          ),\n          shadowColor: "rgba(25,163,223, 0.5)", //\n          shadowBlur: 20, //shadowBlurshadowColor,shadowOffsetX/Y, \n        },\n      },\n      data: goToSchool,\n    },\n  ],\n};\n'},191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.radarMyChartFuncStr=void 0,t.radarMyChartFuncStr="\nlet   everyDepartment = {\n  stages: [\n    { name: 'A', max: 100, num: 1 },\n    { name: 'B', max: 100, num: 2 },\n    { name: 'C', max: 100, num: 3 },\n    { name: 'D', max: 100, num: 4 },\n    { name: 'E', max: 100, num: 5 },\n  { name: 'F', max: 100, num: 4 },\n    { name: 'G', max: 100, num: 5 },\n  ],\n  scores: [43, 90, 80, 53, 78, 89, 77],\n};\n\n\nfunction contains(arr, obj) {\n    var i = arr.length;\n    while (i--) {\n      if (arr[i].name === obj) {\n        return i;\n      }\n    }\n    return false;\n  }\n  // \n  function formatNumber(n) {\n    var b = parseInt(n).toString();\n    var len = b.length;\n    if (len <= 3) { return b; }\n    var r = len % 3;\n    return r > 0 ? b.slice(0, r) + \",\" + b.slice(r, len).match(/d{3}/g).join(\",\") : b.slice(r, len).match(/d{3}/g).join(\",\");\n  }\noption = {\n    color: ['#35F3FF'],\n    radar: {\n      center: ['50%', '50%'],\n      radius: '53%',\n      triggerEvent: true,\n      splitNumber: 4,\n      name: {\n        rich: {\n          num: {\n            fontSize: 18,\n            color: '#0079FE',\n            fontWeight: 700,\n            padding: [0, 0, 0, 15],\n          },\n          a: {\n            fontSize: 16,\n            color: '#ccc',\n            lineHeight: '40',\n          },\n          b: {\n            color: '#00E4FF',\n            fontSize: 18,\n            fontWeight: 700,\n            padding: [0, 0, 0, 10],\n            align: 'right'\n          },\n          c: {\n            color: '#fff',\n            fontSize: 16,\n          },\n          d: {\n            color: '#00E4FF',\n            fontSize: 12,\n            padding: [0, 15, 0, 0],\n            align: 'right'\n          },\n          triggerEvent: true,\n        },\n        formatter: (a, index) => {\n\n          let values = a.length > 6 ? a.slice(0, 6) + '...' : a;\n          let i = contains(everyDepartment.stages, a); // \n          return `{a| ${values}}\n{b| ${formatNumber(everyDepartment.scores[i])}}`;\n        },\n      },\n      nameGap: '2',\n      indicator: everyDepartment.stages,\n      splitArea: {\n        show: false,\n      },\n      // axisLabel:{//\n      //     show: true\n      // },\n      axisLine: {\n        //\n        lineStyle: {\n          color: '#0A5BDE',\n          width: 2,\n        },\n      },\n      splitLine: {\n        lineStyle: {\n          width: 2,\n          color: '#0A5BDE',\n        },\n      },\n    },\n\n    series: [\n      {\n        type: 'radar',\n        symbolSize: 10,\n        data: [\n          {\n            value: everyDepartment.scores,\n            name: '',\n            itemStyle: {\n              normal: {\n                lineStyle: {\n                  color: '#35F3FF',\n                },\n                shadowColor: '#35F3FF',\n                shadowBlur: 20,\n              },\n            },\n            areaStyle: {\n              normal: {\n                color: 'rgba(53, 243, 255, 0.38)',\n              },\n            },\n          },\n        ],\n      },\n    ],\n  };\n  "},77682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resourceInfo=void 0,t.resourceInfo=[{title:"",unit:"",num:506,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/info/ylj_car.png",layoutStyle:{type:"LeftTop"}},{title:"",unit:"%",num:67.49,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/info/shouyi.png",layoutStyle:{type:"RightTop"}},{title:"",unit:"",num:37,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/info/baoan.png",layoutStyle:{type:"LeftBottom"}},{title:"",unit:"%",num:65,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/info/dingshiqi.png",layoutStyle:{type:"RightBottom"}}]},89914:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MyMessageBoxWrapper=void 0;var s=r(51355),c=r(22894),l=r(59645),u=function(e){function t(t){var r=e.call(this,t)||this;return r._myMessageBox=function(){var e=r.owner.xe2ProjectManager.createSceneObjectFromClass(c.MyMessageBox);if(!e)throw new Error("MyMessageBox error!");return e.show=!1,r.dispose((function(){return r.owner.xe2ProjectManager.destroySceneObject(e)})),e}(),r._myMessageBoxProcessing=r.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e,t,n,o){return i(r,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return this.myMessageBox.title=null!=n?n:"",this.myMessageBox.content=null!=t?t:"",this.myMessageBox.show=!0,[4,e.promise((0,l.sleep)(o))];case 1:return r.sent(),this.myMessageBox.show=!1,[2]}}))}))}))),r}return o(t,e),Object.defineProperty(t.prototype,"myMessageBox",{get:function(){return this._myMessageBox},enumerable:!1,configurable:!0}),t.prototype.messageBox=function(e,t,r){void 0===t&&(t="Message"),void 0===r&&(r=2e5),this._myMessageBoxProcessing.restart(void 0,e,t,r)},t}(s.HasOwner);t.MyMessageBoxWrapper=u},31587:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SampleDocument=void 0;var i=r(59645),a=r(32192),s=r(51355),c=function(e){function t(t){var r=e.call(this,t)||this;return r._sampleDocumentEvent=r.disposeVar(new s.Event),r._sampleDocument=r.disposeVar(i.SceneObject.createFromClass(a.MyMarkdownWindow)),r._sampleDocumentInit=(r._sampleDocument.show=!1,r._sampleDocument.container=document.body,void r.dispose(r._sampleDocumentEvent.disposableOn((function(e){console.log(e),r._sampleDocument.content=e,r._sampleDocument.show=!0})))),r}return o(t,e),Object.defineProperty(t.prototype,"sampleDocumentEvent",{get:function(){return this._sampleDocumentEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sampleDocument",{get:function(){return this._sampleDocument},enumerable:!1,configurable:!0}),t}(s.HasOwner);t.SampleDocument=c},49243:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BuiltinObjects=void 0;var i=r(51355),a=r(59645),s=r(32192),c=r(99439),l=r(89914),u=r(31587),f=function(e){function t(t,r,n){var o=e.call(this)||this;t.enabled=!1,t.enabled=!0;var i=[];return o.dispose(t.createdEvent.disposableOn((function(e){i.push(e),i.length===r&&(t.enabled=!1)}))),o.dispose(t.enabledChanged.disposableOn((function(){t.enabled||n(i)}))),o}return o(t,e),t}(i.Destroyable),p=function(e){function t(t){var r,n=e.call(this,t)||this;return n._myMessageBoxWrapper=n.disposeVar(new l.MyMessageBoxWrapper(n.owner)),n._baseScene=c.baseScene,n._czmViewer=function(){var e=n.owner.builtinSceneTree.createItemWithSceneObject(n.baseScene.builtin.czmViewer);if(void 0===e||void 0===e.sceneObj)throw new Error("_czmViewer error! undefined === item");return e.itemLocked=!0,n.dispose((function(){return n.owner.builtinSceneTree.destroySceneTreeItem(e)})),e.sceneObj}(),n._baseImagery=function(){var e=n.owner.builtinSceneTree.createItemWithSceneObject(n.baseScene.builtin.baseImagery);if(void 0===e||void 0===e.sceneObj)throw new Error("_czmViewer error! undefined === item");return e.itemLocked=!0,n.dispose((function(){return n.owner.builtinSceneTree.destroySceneTreeItem(e)})),e.sceneObj}(),n._offlineImagery=function(){var e=n.owner.builtinSceneTree.createItemWithSceneObject(n.baseScene.builtin.offlineImagery);if(void 0===e||void 0===e.sceneObj)throw new Error("_czmViewer error! undefined === item");return e.itemLocked=!0,n.dispose((function(){return n.owner.builtinSceneTree.destroySceneTreeItem(e)})),e.sceneObj}(),n._czmTerrain=function(){var e=n.owner.builtinSceneTree.createItemWithSceneObject(n.baseScene.builtin.czmTerrain);if(void 0===e||void 0===e.sceneObj)throw new Error("_czmViewer error! undefined === item");return e.itemLocked=!0,n.dispose((function(){return n.owner.builtinSceneTree.destroySceneTreeItem(e)})),e.sceneObj}(),n._czmClassicNavigator=function(){var e=n.owner.builtinSceneTree.createItemWithSceneObject(n.baseScene.builtin.czmClassicNavigator);if(void 0===e||void 0===e.sceneObj)throw new Error("_czmViewer error! undefined === item");return e.itemLocked=!0,n.dispose((function(){return n.owner.builtinSceneTree.destroySceneTreeItem(e)})),e.sceneObj}(),n._lastView=function(){var e=n.owner.builtinSceneTree.createItemWithSceneObject({type:"View",name:""});if(void 0===e||void 0===e.sceneObj)throw new Error("_czmViewer error! undefined === item");return e.itemLocked=!0,n.dispose((function(){return n.owner.builtinSceneTree.destroySceneTreeItem(e)})),e.sceneObj}(),n._geoPointerCreator=function(){var e=n.owner.xe2ProjectManager.createSceneObjectFromClass(s.GeoPointerCreator);if(!e)throw new Error("GeoPointerCreator error!");return n.dispose((function(){return n.owner.xe2ProjectManager.destroySceneObject(e)})),e}(),n._getPointsRunning=n.disposeVar(new a.ObjResetting((function(e){var t=e.num,r=e.resolve;return new f(n.geoPointerCreator,t,r)}),!1)),n._initOptions=(r=n.createSceneObjectFromJson(n.baseScene.builtin.initOptions),n.dispose((function(){return n.destroySceneObject(r)})),r),n._sampleDocument=n.disposeVar(new u.SampleDocument(n.owner)),n._czmTilesetLoading=function(){var e=n.owner.xe2ProjectManager.createSceneObjectFromClass(s.CzmTilesetLoading);return n.dispose((function(){return n.owner.xe2ProjectManager.destroySceneObject(e)})),e}(),n}return o(t,e),t.prototype.createSceneObjectFromJson=function(e){return this.owner.xe2ProjectManager.createSceneObjectFromJson(e)},t.prototype.destroySceneObject=function(e){return this.owner.xe2ProjectManager.destroySceneObject(e)},t.prototype.messageBox=function(e,t,r){void 0===t&&(t="Message"),void 0===r&&(r=2e3),this._myMessageBoxWrapper.messageBox(e,t,r)},Object.defineProperty(t.prototype,"baseScene",{get:function(){return this._baseScene},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseImagery",{get:function(){return this._baseImagery},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offlineImagery",{get:function(){return this._offlineImagery},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTerrain",{get:function(){return this._czmTerrain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmClassicNavigator",{get:function(){return this._czmClassicNavigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastView",{get:function(){return this._lastView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoPointerCreator",{get:function(){return this._geoPointerCreator},enumerable:!1,configurable:!0}),t.prototype.getPoints=function(e){var t=this;return void 0===e&&(e=1),new Promise((function(e,r){t._getPointsRunning.reset({num:1,resolve:e})}))},Object.defineProperty(t.prototype,"initOptions",{get:function(){return this._initOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sampleDocument",{get:function(){return this._sampleDocument},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTilesetLoading",{get:function(){return this._czmTilesetLoading},enumerable:!1,configurable:!0}),t}(i.HasOwner);t.BuiltinObjects=p},12179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCzmCodeForCzml=void 0;var n=r(59645);t.createCzmCodeForCzml=function(e,t){if(t.uri){var r=n.SceneObject.context.getStrFromEnv(t.uri),o=JSON.stringify(r),i=t.loadFuncStr?"const loadFunc = ".concat(t.loadFuncStr.trim(),"\nloadFunc(czmlDataSource);\n"):"";return"try {\n    const url = ".concat(o,";\n    const czmlDataSource = await Cesium.CzmlDataSource.load(url);\n").concat(i.replaceAll(/^([^$])/gm,"    $1"),"    viewer.dataSources.add(czmlDataSource);\n} catch (error) {\n    console.log(`Error loading czml: ${error}`);\n}\n")}console.warn("!sceneObject.uri")}},71080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCzmCodeForGeoJson=void 0;var n=r(59645);t.createCzmCodeForGeoJson=function(e,t){if(t.uri){var r=n.SceneObject.context.getStrFromEnv(t.uri),o=JSON.stringify(r),i=t.loadFuncStr?"const loadFunc = ".concat(t.loadFuncStr.trim(),"\nloadFunc(geoJsonDataSource);\n"):"";return"try {\n    const url = ".concat(o,";\n    const geoJsonDataSource = await Cesium.GeoJsonDataSource.load(url);\n").concat(i.replaceAll(/^([^$])/gm,"    $1"),"    viewer.dataSources.add(geoJsonDataSource);\n} catch (error) {\n    console.log(`Error loading geojson: ${error}`);\n}\n")}console.warn("!sceneObject.uri")}},29139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCzmCodeForKml=void 0;var n=r(59645);t.createCzmCodeForKml=function(e,t){if(t.uri){var r=n.SceneObject.context.getStrFromEnv(t.uri),o=JSON.stringify(r),i=t.loadFuncStr?"const loadFunc = ".concat(t.loadFuncStr.trim(),"\nloadFunc(kmlDataSource);\n"):"";return"try {\n    const url = ".concat(o,";\n    const kmlDataSource = await Cesium.KmlDataSource.load(url);\n").concat(i.replaceAll(/^([^$])/gm,"    $1"),"    viewer.dataSources.add(kmlDataSource);\n} catch (error) {\n    console.log(`Error loading kml: ${error}`);\n}\n")}console.warn("!sceneObject.uri")}},18054:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createCzmCodeForModel=void 0;var a=i(r(81557)),s=r(59645);t.createCzmCodeForModel=function(e,t){if(t.url){var r=s.SceneObject.context.getStrFromEnv(t.url),n=JSON.stringify(r),o=e.czmViewer.getCzmObject(t).primitive;if(o){var i=o.modelMatrix;if(i){var c=a.Matrix4.toArray(i);return"try {\n    // url\n    const url = ".concat(n,";\n    const modelMatrix = Cesium.Matrix4.fromArray([").concat(c.toString(),"]);\n    const model = await Cesium.Model.fromGltfAsync({\n        url,\n        modelMatrix \n    });\n    viewer.scene.primitives.add(model);\n    // viewer.zoomTo(model);\n} catch (error) {\n    console.log(`Error loading model: ${error}`);\n}\n")}console.warn("modelMatrix")}else console.warn("Model".concat(t.name,": ").concat(t.id))}else console.warn("!sceneObject.url")}},97223:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createCzmCodeForTileset=void 0;var a=i(r(81557)),s=r(59645);t.createCzmCodeForTileset=function(e,t){if(t.url){var r=s.SceneObject.context.getStrFromEnv(t.url),n=JSON.stringify(r),o=e.czmViewer.getCzmObject(t).tileset;if(o){var i=o.modelMatrix;if(i){var c=a.Matrix4.toArray(i);return"try {\n    const url = ".concat(n,";\n    const modelMatrix = Cesium.Matrix4.fromArray([").concat(c.toString(),"]);\n    const tileset = await Cesium.Cesium3DTileset.fromUrl(url, { modelMatrix });\n    viewer.scene.primitives.add(tileset);\n    // viewer.zoomTo(tileset);\n} catch (error) {\n    console.log(`Error loading tileset: ${error}`);\n}\n")}console.warn("modelMatrix")}else console.warn("3dtiles".concat(t.name,": ").concat(t.id))}else console.warn("!sceneObject.url")}},13550:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCzmHtml=void 0;var a=i(r(81557));t.getCzmHtml=function(e,t){var r=a.Ion.defaultAccessToken;return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>My3dtiles Cesium Viewer</title>\n    <script src="https://cesium.com/downloads/cesiumjs/releases/1.116/Build/Cesium/Cesium.js"><\/script>\n    <link href="https://cesium.com/downloads/cesiumjs/releases/1.116/Build/Cesium/Widgets/widgets.css" rel="stylesheet">\n    <style>\n        * {\n            padding: 0;\n            margin: 0;\n        }\n        html, body {\n            height: 100%;\n        }\n        #cesiumContainer {\n            height: 100%;\n        }\n    </style>\n</head>\n<body>\n    <div id="cesiumContainer"></div>\n    <script>\n        Cesium.Ion.defaultAccessToken = "'.concat(r,"\";\n        async function initCzmViewer() {\n            var viewer = new Cesium.Viewer('cesiumContainer');\n            // ").concat(t,"Cesium60\n            viewer.camera.frustum.fov = ").concat(t," * Math.PI / 180;\n").concat(e.replaceAll(/^([^$])/gm,"            $1"),"        }\n        initCzmViewer();\n    <\/script>\n</body>\n</html>\n")}},6987:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumCodeCreator=void 0;var l=r(51355),u=r(48269),f=r(40520),p=r(97223),d=r(12179),h=r(13550),g=r(71080),y=r(29139),m=r(18054),v=function(e){function t(t){return e.call(this,t)||this}return o(t,e),Object.defineProperty(t.prototype,"m3tApp",{get:function(){return this.owner},enumerable:!1,configurable:!0}),t.prototype.createCodeForTerrain=function(){var e=c([],s(this.m3tApp.sceneTree.root.getDescendants()),!1),t=c([this.m3tApp.czmTerrain],s(e.map((function(e){if(e.sceneObj)return e.sceneObj instanceof u.CzmTerrain?e.sceneObj:void 0}))),!1).filter((function(e){return!!e})).map((function(e){return e})).map((function(e){var t,r;if(null!==(t=e.show)&&void 0!==t&&!t)return"";var n=(null!==(r=e.getCzmCode())&&void 0!==r?r:"").trim();return"{\n".concat(n.replaceAll(/^([^$])/gm,"    $1"),"\n}")})).filter((function(e){return!!e})).join("\n\n");return t?"// ()\n"+t:""},t.prototype.createCodeForImagery=function(){var e,t=null===(e=this.m3tApp.czmViewer.extensions)||void 0===e?void 0:e.imageriesManager.czmCzmImageryWrappers;if(!t)return"";var r=c([],s(t),!1).map((function(e){return e.imagery.sceneObject})).filter((function(e){var t;return null===(t=e.show)||void 0===t||t})).sort((function(e,t){var r,n;return(null!==(r=e.zIndex)&&void 0!==r?r:0)-(null!==(n=t.zIndex)&&void 0!==n?n:0)})),n=r.filter((function(e){return!!e})).map((function(e){return e})).map((function(e){var t=e.getCzmCode();if(!t)return"";var r=t.trim();return"{\n".concat(r.replaceAll(/^([^$])/gm,"    $1"),"\n}")})).filter((function(e){return!!e})).join("\n\n");return n?"// \n"+n:""},t.prototype.createCodeForTileset=function(){var e=this,t=c([],s(this.m3tApp.sceneTree.root.getDescendants()),!1).map((function(e){if(e.sceneObj)return e.sceneObj instanceof u.Czm3DTiles?e.sceneObj:void 0})).filter((function(e){return!!e})).map((function(e){return e})).map((function(t){return(0,p.createCzmCodeForTileset)(e.m3tApp,t)})).join("\n\n");return t?"// 3dtiles\n"+t:""},t.prototype.createCodeForModel=function(){var e=this,t=c([],s(this.m3tApp.sceneTree.root.getDescendants()),!1).map((function(e){if(e.sceneObj)return e.sceneObj instanceof u.CzmModelPrimitive?e.sceneObj:void 0})).filter((function(e){return!!e})).map((function(e){return e})).map((function(t){return(0,m.createCzmCodeForModel)(e.m3tApp,t)})).join("\n\n");return t?"// gltf\n"+t:""},t.prototype.createCodeForCzml=function(){var e=this,t=c([],s(this.m3tApp.sceneTree.root.getDescendants()),!1).map((function(e){if(e.sceneObj)return e.sceneObj instanceof u.CzmCzml?e.sceneObj:void 0})).filter((function(e){return!!e})).map((function(e){return e})).map((function(t){return(0,d.createCzmCodeForCzml)(e.m3tApp,t)})).join("\n\n");return t?"// czml\n"+t:""},t.prototype.createCodeForGeoJson=function(){var e=this,t=c([],s(this.m3tApp.sceneTree.root.getDescendants()),!1).map((function(e){if(e.sceneObj)return e.sceneObj instanceof u.CzmGeoJson?e.sceneObj:void 0})).filter((function(e){return!!e})).map((function(e){return e})).map((function(t){return(0,g.createCzmCodeForGeoJson)(e.m3tApp,t)})).join("\n\n");return t?"// geojson\n"+t:""},t.prototype.createCodeForKml=function(){var e=this,t=c([],s(this.m3tApp.sceneTree.root.getDescendants()),!1).map((function(e){if(e.sceneObj)return e.sceneObj instanceof u.CzmKml?e.sceneObj:void 0})).filter((function(e){return!!e})).map((function(e){return e})).map((function(t){return(0,y.createCzmCodeForKml)(e.m3tApp,t)})).join("\n\n");return t?"// kml"+t:""},t.prototype.getLastViewCode=function(){var e,t=this.m3tApp.lastView;if(!t)return"";t.resetWithCurrentCamera();var r=t.position;if(!r)return"";var n=null!==(e=t.rotation)&&void 0!==e?e:[0,0,0];return"// \nviewer.camera.flyTo({\n    destination: Cesium.Cartesian3.fromDegrees(".concat(r[0],", ").concat(r[1],", ").concat(r[2],"),\n    orientation : {\n        heading : Cesium.Math.toRadians(").concat(n[0],"),\n        pitch : Cesium.Math.toRadians(").concat(n[1],"),\n        roll : Cesium.Math.toRadians(").concat(n[2],"),\n    },\n    duration: 1,\n});\n")},t.prototype.getCzmHtmlCode=function(){var e=[this.createCodeForTerrain(),this.createCodeForImagery(),this.createCodeForTileset(),this.createCodeForModel(),this.createCodeForCzml(),this.createCodeForKml(),this.createCodeForGeoJson(),this.getLastViewCode()].filter((function(e){return!!e})).join("\n\n");return(0,h.getCzmHtml)(e,this.owner.czmViewer.sceneCameraFrustumFov)},t.prototype.saveCzmHtmlCode=function(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(r){switch(r.label){case 0:return e=this.getCzmHtmlCode(),[4,(0,f.getSaveHtmlFileHandle)("czm.html")];case 1:return(t=r.sent())?[4,(0,f.saveFile)(t,e)]:(console.warn(""),[2]);case 2:return r.sent(),[2]}}))}))},t}(l.HasOwner);t.CesiumCodeCreator=v},65089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7768:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0;var l=r(51355),u=c(r(82711)),f=function(e){function t(t){var r,n=e.call(this,t)||this;return n._lastCommands=n.disposeVar((0,l.reactArray)([])),n._catogriesMap=new Map,n._catogriesMapChanged=n.disposeVar(new l.Event),n._catogriesPriorityMap=n.disposeVar((0,l.reactJson)({})),n._catogryNames=n.disposeVar((0,l.reactArray)([])),n._catogryNamesInit=function(){var e=function(){var e=s([],a(n._catogriesMap.entries()),!1).filter((function(e){var t=a(e,2);return t[0],0!==t[1].length})).map((function(e){var t=a(e,2),r=t[0];return t[1],r}));e.sort((function(e,t){var r,o;return(null!==(r=n.catogriesPriorityMap[e])&&void 0!==r?r:0)-(null!==(o=n.catogriesPriorityMap[t])&&void 0!==o?o:0)})),n.catogryNames=e};e();var t=n.disposeVar((0,l.createNextAnimateFrameEvent)(n.catogriesPriorityMapChanged,n.catogriesMapChanged));n.dispose(t.disposableOn(e))}(),n._allCommands=n.disposeVar((0,l.reactArray)([])),n._allCommandsInit=((r=function(){n.catogryNames.length&&n.catogryNames.forEach((function(e){n._allCommands.value=s(s([],a(n._allCommands.value),!1),a(n.getCommandsByCatogory(e)),!1)}))})(),void n.dispose(n.catogryNamesChanged.disposableOn(r))),n._searchCommands=n.disposeVar((0,l.reactArray)([])),n._searchKey=n.disposeVar((0,l.react)("")),n._searchKeyInit=void n.dispose(n.searchKeyChanged.disposableOn((function(){n.searchKey?n._searchCommands.value=n.searchForKey(n._searchKey.value):n._searchCommands.value=[]}))),n}return o(t,e),Object.defineProperty(t.prototype,"lastCommands",{get:function(){return this._lastCommands.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCommandsChanged",{get:function(){return this._lastCommands.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"catogriesMap",{get:function(){return this._catogriesMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"catogriesMapChanged",{get:function(){return this._catogriesMapChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"catogriesPriorityMap",{get:function(){return this._catogriesPriorityMap.value},set:function(e){this._catogriesPriorityMap.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"catogriesPriorityMapChanged",{get:function(){return this._catogriesPriorityMap.changed},enumerable:!1,configurable:!0}),t.prototype.register=function(e){var t,r=this,n=null!==(t=e.category)&&void 0!==t?t:"";this._catogriesMap.has(n)||this._catogriesMap.set(n,[]);var o=i(i({},e),{func:function(){if(0===r.lastCommands.length||r.lastCommands[0]!==e){var t=s([e],a(r.lastCommands),!1);t.length>=20&&t.pop(),r._lastCommands.value=t}return e.func()}});this._catogriesMap.get(n).push(o),this._catogriesMapChanged.emit()},Object.defineProperty(t.prototype,"catogryNames",{get:function(){return this._catogryNames.value},set:function(e){this._catogryNames.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"catogryNamesChanged",{get:function(){return this._catogryNames.changed},enumerable:!1,configurable:!0}),t.prototype.getCommandsByCatogory=function(e){var t=this._catogriesMap.get(e);return t?(t.sort((function(e,t){var r,n;return(null!==(r=e.priority)&&void 0!==r?r:0)-(null!==(n=t.priority)&&void 0!==n?n:0)})),t):[]},Object.defineProperty(t.prototype,"allCommands",{get:function(){return this._allCommands.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allCommandsChanged",{get:function(){return this._allCommands.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchCommands",{get:function(){return this._searchCommands.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchCommandsChanged",{get:function(){return this._searchCommands.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchKey",{get:function(){return this._searchKey.value},set:function(e){this._searchKey.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchKeyChanged",{get:function(){return this._searchKey.changed},enumerable:!1,configurable:!0}),t.prototype.searchForKey=function(e){if(""===e.trim())return[];var t=new RegExp(e.trim().replace(/([,.+?:()*\[\]^$|{}\\-])/g,"\\$1"),"i"),r=this.allCommands.filter((function(e){return e.category&&-1!==e.category.search(t)})),n=this.allCommands.filter((function(e){return e.description&&-1!==e.description.search(t)})),o=this.allCommands.filter((function(e){return e.name&&-1!==e.name.search(t)})),i=this.allCommands.filter((function(e){return e.keywords&&e.keywords.length&&e.keywords.find((function(e){return-1!==e.search(t)}))})),a=new u.default(this.allCommands,["name"]).query(e),s=[];return r.forEach((function(e){return!s.includes(e)&&s.push(e)})),n.forEach((function(e){return!s.includes(e)&&s.push(e)})),o.forEach((function(e){return!s.includes(e)&&s.push(e)})),a.forEach((function(e){return!s.includes(e)&&s.push(e)})),i.forEach((function(e){return!s.includes(e)&&s.push(e)})),s},t}(l.HasOwner);t.Commands=f},15768:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(65089),t),o(r(46525),t),o(r(7768),t)},72316:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CreatorUi=void 0;var i=r(9675),a=r(32192),s=r(32343),c=r(90586),l=function(e){function t(t){var r=e.call(this)||this;return r._app=t,r._myTreeContentUi=function(){var e=r.app.xe2ProjectManager.createSceneObjectFromClass(a.MyTreeContentUi);if(!e)throw new Error("!treeContentUi");e.layoutType="Center",e.width=800,e.height=600,e.items=s.items,e.title="";var t=function(){e.container=e.show?document.body:void 0};return t(),r.dispose(e.showChanged.disposableOn(t)),r.dispose((function(){return r.app.xe2ProjectManager.destroySceneObject(e)})),r.dispose(e.resultEvent.disposableOn((function(e){if("ok"===e.type){var t=e.content,n=e.editorJsonContent;if(t&&"object"==typeof t){var o=t.type;if("m3tJson"===o||"m3toJson"===o||"sceneObjJson"===o||"m3toJsonUri"===o||"sceneObjJsonUri"===o){var i=JSON.stringify(n);(0,c.paste)(r.app,i)}else"m3tJsonUri"===o&&r.app.loadDataFromUrlOrFilePath(t.m3tJsonUri)}}}))),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myTreeContentUi",{get:function(){return this._myTreeContentUi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.myTreeContentUi.items},set:function(e){this.myTreeContentUi.items=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsChanged",{get:function(){return this.myTreeContentUi.itemsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.myTreeContentUi.show},set:function(e){this.myTreeContentUi.show=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this.myTreeContentUi.showChanged},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.CreatorUi=l},18505:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.gltfs=void 0;var o=["build_worker/worker.glb","plotting/denggan.glb","plotting/fenxianxiang.glb","plotting/jiankongqi.glb","plotting/xiangan.glb","plotting/xiaohuoshuan.glb","warning/warning_a.glb","warning/warning_b.glb","misc/Cesium_Air.glb","misc/visible.glb"].map((function(e){return"${my3dtiles-assets-script-dir}/assets/gltfs/"+e})).map((function(e){return{name:/\/([^\/]+)\.glb$/.exec(e)[1],uri:e}}));o.push({name:"",uri:"${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/DaoDan.glb"}),o.push({name:"",uri:"${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/WeiXing.glb"}),o.push.apply(o,n([],r([{name:"glb",uri:"${LP}https://sandcastle.cesium.com/SampleData/models/CesiumMilkTruck/CesiumMilkTruck.glb"},{name:"glb",uri:"${LP}https://sandcastle.cesium.com/SampleData/models/CesiumBalloon/CesiumBalloon.glb"},{name:"glb",uri:"${LP}https://sandcastle.cesium.com/SampleData/models/GroundVehicle/GroundVehicle.glb"},{name:"glb",uri:"${LP}https://sandcastle.cesium.com/SampleData/models/CesiumDrone/CesiumDrone.glb"}]),!1)),t.gltfs={name:"(GlTF)",collapsed:!0,children:o.map((function(e,t){var r={type:"CzmModelPrimitive",name:e.name,url:e.uri,show:!0,editing:!0};return{name:e.name,content:{type:"sceneObjJson",sceneObjJson:r}}}))}},5411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageries=void 0,t.imageries={name:"(WMTS/WMS/XYZ/)",collapsed:!0,children:[{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"TileMapServiceImageryProvider",url:"${czm-path}/Assets/Textures/NaturalEarthII"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://{s}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}}}},{name:"()",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"()",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://{s}.tianditu.gov.cn/img_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={zz}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"],tilingScheme:{type:"GeographicTilingScheme"},customTags:{zz:"(imageryProvider, x, y, level) => level + 1"}}}}},{name:"()",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"()",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://{s}.tianditu.gov.cn/cia_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={zz}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"],tilingScheme:{type:"GeographicTilingScheme"},customTags:{zz:"(imageryProvider, x, y, level) => level + 1"}}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"}}}},{name:"(wgs84)",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"(wgs84)",imageryProvider:{type:"UrlTemplateImageryProvider",tilingScheme:{type:"ToWGS84WebMercatorTilingScheme"},url:"//webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"}}}},{name:"gaode_map",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"gaode_map",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}"}}}},{name:"gaode_image",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"gaode_image",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"}}}},{name:"gaode_image_label",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"gaode_image_label",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//webst02.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"BDImageryProvider",wgs84:!1,url:"//online1.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1"}}}},{name:"(wgs84)",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"(wgs84)",imageryProvider:{type:"BDImageryProvider",wgs84:!0,url:"//online1.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"BDImageryProvider",wgs84:!1,url:"//shangetu1.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46"}}}},{name:"(wgs84)",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"(wgs84)",imageryProvider:{type:"BDImageryProvider",wgs84:!0,url:"//shangetu1.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"BDImageryProvider",wgs84:!1,url:"//online6.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020"}}}},{name:"(wgs84)",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"(wgs84)",imageryProvider:{type:"BDImageryProvider",wgs84:!0,url:"//online6.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",imageryProvider:{type:"BDImageryProvider",url:"https://mapsv0.bdimg.com/tile/?udt=20200825&qt=tile&styles=pl&x={x}&y={y}&z={z}"},zIndex:8,show:!1,name:""}}},{name:"arcgis",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"arcgis",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}}}},{name:"google_image",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"google_image",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//mt1.google.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}"}}}},{name:"google_image_label",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"google_image_label",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//mt1.google.cn/maps/vt?lyrs=h&gl=CN&x={x}&y={y}&z={z}"}}}},{name:"google_imagewithlabel",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"google_imagewithlabel",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//mt1.google.cn/maps/vt?lyrs=s,h&gl=CN&x={x}&y={y}&z={z}"}}}},{name:"google_map",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"google_map",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//mt1.google.cn/maps/vt?lyrs=m&gl=CN&x={x}&y={y}&z={z}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://gac-geo.googlecnapps.cn/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m8!1e2!2ssvv!4m2!1scb_client!2sapiv3!4m2!1scc!2s*211m3*211e3*212b1*213e2*211m3*211e2*212b1*213e2!3m3!3sUS!12m1!1e68!4e0"},zIndex:8,name:""}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}"}}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//thematic.geoq.cn/arcgis/rest/services/ThematicMaps/administrative_division_boundaryandlabel/MapServer/tile/{z}/{y}/{x}"}}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}"}}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}"}}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//map.geoq.cn/arcgis/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}"}}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//map.geoq.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"}}}},{name:"GeoQ",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"GeoQ",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//map.geoq.cn/arcgis/rest/services/ChinaOnlineCommunityENG/MapServer/tile/{z}/{y}/{x}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//tiles1.geovisearth.com/base/v1/img/{z}/{x}/{y}?format=webp&tmsIds=w&token={token}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//tiles1.geovisearth.com/base/v1/cia/{z}/{x}/{y}?format=png&tmsIds=w&token={token}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//tiles1.geovisearth.com/base/v1/ter/{z}/{x}/{y}?format=png&tmsIds=w&token={token}"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"//tiles1.geovisearth.com/base/v1/cat/{z}/{x}/{y}?format=png&tmsIds=w&token={token}"}}}},{name:"GeoServerWMS",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",imageryProvider:{type:"WebMapServiceImageryProvider",url:"http://[ip]:[port]/wms",layers:"[layerName]",parameters:{service:"WMS",format:"image/png",transparent:!0}},name:"GeoServerWMS"}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",imageryProvider:{type:"GridImageryProvider",tilingScheme:{type:"WebMercatorTilingScheme"},backgroundColor:[0,0,0,0],glowColor:[1,1,1,.05],glowWidth:2,canvasSize:512,cells:4},name:""}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",imageryProvider:{type:"GridImageryProvider",tilingScheme:{type:"GeographicTilingScheme"},backgroundColor:[0,0,0,0],glowColor:[1,1,1,.05],glowWidth:2,canvasSize:512,cells:4},name:""}}},{name:"()",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",show:!0,imageryProvider:{type:"TileCoordinatesImageryProvider",tilingScheme:{type:"WebMercatorTilingScheme"}},name:"()"}}},{name:"()",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",show:!0,imageryProvider:{type:"TileCoordinatesImageryProvider",tilingScheme:{type:"GeographicTilingScheme"}},name:"()"}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",imageryProvider:{type:"SingleTileImageryProvider",url:"${czm-path}/Assets/Images/cesium_credit.png",rectangle:[116.39,39.9,120.39,40.9]},name:""}}}]}},32343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.items=void 0;var n=r(18505),o=r(5411),i=r(24756),a=r(56889),s=r(46774),c=r(37288);t.items=[o.imageries,a.terrains,s.tilesets,n.gltfs,c.vectors,i.m3tjsons]},24756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.m3tjsons=void 0,t.m3tjsons={name:"(m3tjson)",collapsed:!0,children:[{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene/_20241016.m3tjson"}},{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene/.m3tjson"}},{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene/.m3tjson"}},{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene/.m3tjson"}},{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene//2.m3tjson"}},{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene//.m3tjson"}},{name:"",content:{type:"m3tJsonUri",m3tJsonUri:"http://114.242.26.126:7000/data/my3dtiles-scene/.m3tjson"}}]}},56889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terrains=void 0,t.terrains={name:"(STK)",collapsed:!0,children:[{name:"Cesium",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmTerrain",name:"Cesium",provider:{type:"CesiumTerrainProvider",url:"ion://1",requestVertexNormals:!0}}}},{name:"Terrain-3D",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmTerrain",name:"Terrain-3D",provider:{type:"CesiumTerrainProvider",url:"//tiles1.geovisearth.com/base/v1/terrain?token={token}"}}}},{name:"mars3d",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmTerrain",provider:{type:"CesiumTerrainProvider",url:"http://data.mars3d.cn/terrain",requestWaterMask:!0},name:"mars3d"}}},{name:"giiiis",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmTerrain",provider:{type:"CesiumTerrainProvider",url:"https://terrain.giiiis.com/terrain",requestWaterMask:!0},name:"giiiis"}}}]}},46774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tilesets=void 0,t.tilesets={name:"(3dtiles)",collapsed:!0,children:[{name:"3dtiles(giiiis.com)",description:"3dtiles3dtileshttps://web.giiiis.com/ ",url:"https://tiles.giiiis.com/v1/3dtiles/root.json"},{name:"3dtiles",description:"3dtiles",url:"http://114.242.26.126:7000/data/3dtiles/tw-3dtiles-121.217432_24.954151/3143415260736271/tileset.json"},{name:"3dtiles",description:"3dtiles",uri:"http://114.242.26.126:7000/data/3dtiles/dayanta-3dtiles-202211/tileset.json"},{name:"3dtiles",description:"shp",uri:"http://114.242.26.126:7000/data/3dtiles/shanghai2-3dtiles-20230907/tileset.json"},{name:"Revit_School_3dtiles_1.0",description:"BIMrevit3dtiles1.0.b3dm",uri:"http://114.242.26.126:7000/data/3dtiles/revit_school_3dtiles1.0(b3dm)/tileset.json"},{name:"Revit_School_3dtiles_1.1",description:"BIMrevit3dtiles1.1.glb",uri:"http://114.242.26.126:7000/data/3dtiles/revit_school_3dtiles1.1/tileset.json"},{name:"ktx2_3dtiles",description:"ktx23dtilesktx2",uri:"http://114.242.26.126:7000/data/3dtiles/ktx2-3dtiles-202403/tileset.json"}].map((function(e,t){var r={type:"Czm3DTiles",name:e.name,description:e.description,url:e.uri,show:!0};return{name:e.name,content:{type:"sceneObjJson",sceneObjJson:r}}}))}},94605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.czmls=void 0,t.czmls={name:"Czml",collapsed:!1,children:[{name:"Vehicle.czml",uri:"${LP}https://sandcastle.cesium.com/SampleData/Vehicle.czml"}].map((function(e,t){var r={type:"CzmCzml",name:e.name,uri:e.uri,show:!0};return{name:e.name,content:{type:"sceneObjJson",sceneObjJson:r}}}))}},84374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geojsons=void 0,t.geojsons={name:"GeoJson/TopoJson",collapsed:!1,children:[{name:"geojson",uri:"http://114.242.26.126:7000/data/geojson/beijing.geojson"},{name:"topojson",uri:"${LP}https://sandcastle.cesium.com/SampleData/ne_10m_us_states.topojson"},{name:"simplestyles",uri:"${LP}https://sandcastle.cesium.com/SampleData/simplestyles.geojson"}].map((function(e,t){var r={type:"CzmGeoJson",name:e.name,uri:e.uri,show:!0};return{name:e.name,content:{type:"sceneObjJson",sceneObjJson:r}}}))}},37288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vectors=void 0;var n=r(94605),o=r(84374),i=r(53135);t.vectors={name:"(geojson/kml/czml)",collapsed:!0,children:[o.geojsons,i.kmls,n.czmls]}},53135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kmls=void 0,t.kmls={name:"Kml/Kmz",collapsed:!1,children:[{name:"bikeRide.kml",uri:"${LP}https://sandcastle.cesium.com/SampleData/kml/bikeRide.kml"},{name:".kml",uri:"${LP}http://114.242.26.126:7000/data/misc/.kml"},{name:"gdpPerCapita2008.kmz",uri:"${LP}https://sandcastle.cesium.com/SampleData/kml/gdpPerCapita2008.kmz"},{name:"facilities.kmz",uri:"${LP}https://sandcastle.cesium.com/SampleData/kml/facilities/facilities.kml"}].map((function(e,t){var r={type:"CzmKml",name:e.name,uri:e.uri,show:!0};return{name:e.name,content:{type:"sceneObjJson",sceneObjJson:r}}}))}},43455:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.UiFSceneTreeContextMenu=void 0;var f=r(37029),p=function(e){function t(){var t=e.call(this)||this;return t._groupPriority=new Map,t._registeredMenuInfos=new Set,t}return o(t,e),Object.defineProperty(t.prototype,"groupPriority",{get:function(){return this._groupPriority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"registeredMenuInfos",{get:function(){return this._registeredMenuInfos},enumerable:!1,configurable:!0}),t.prototype.registerMenu=function(e){var t=i({},e);return this.registeredMenuInfos.add(t),t},t.prototype.unregisterMenu=function(e){this.registeredMenuInfos.has(e)?this.registeredMenuInfos.delete(e):console.warn("!this.registeredMenuInfos.has(menuInfo)")},t.prototype.onContextMenu=function(e,t,r){return a(this,void 0,void 0,(function(){var n,o,i,a,p,d,h,g,y,m,v,b,w,_,P,x,O;return s(this,(function(C){switch(C.label){case 0:n=new Map,o=function(o){var i,a,c,l,u,f;return s(this,(function(s){switch(s.label){case 0:return i=o.groupName,a=void 0===i?"default":i,n.has(a)||n.set(a,[]),c=n.get(a),(l=o.filterFunc)?(u=l({uiFSceneTreeItem:t,uiFSceneTree:e,event:r}))instanceof Promise?[4,u]:[3,2]:[3,4];case 1:return f=s.sent(),[3,3];case 2:f=u,s.label=3;case 3:if(!f)return[2,"continue"];s.label=4;case 4:return c.push({title:o.title,clickFunc:function(r){o.clickFunc&&o.clickFunc({uiFSceneTreeItem:t,uiFSceneTree:e,event:r})}}),[2]}}))},C.label=1;case 1:C.trys.push([1,6,7,8]),i=c(this._registeredMenuInfos),a=i.next(),C.label=2;case 2:return a.done?[3,5]:(p=a.value,[5,o(p)]);case 3:C.sent(),C.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return d=C.sent(),_={error:d},[3,8];case 7:try{a&&!a.done&&(P=i.return)&&P.call(i)}finally{if(_)throw _.error}return[7];case 8:h=this._groupPriority,(g=u([],l(n.keys()),!1)).sort((function(e,t){var r,n;return(null!==(r=h.get(e))&&void 0!==r?r:0)-(null!==(n=h.get(t))&&void 0!==n?n:0)})),y=[];try{for(m=c(g),v=m.next();!v.done;v=m.next())b=v.value,0!==(w=n.get(b)).length&&y.push.apply(y,u([],l(w),!1))}catch(e){x={error:e}}finally{try{v&&!v.done&&(O=m.return)&&O.call(m)}finally{if(x)throw x.error}}return f.FContextMenu.instance.showMenu([r.clientX,r.clientY],y),[2]}}))}))},t}(r(51355).Destroyable);t.UiFSceneTreeContextMenu=p},14911:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMenuInit=void 0;var c=r(78764),l=r(69658),u=r(51355),f=r(48269),p=r(94539),d=r(28799),h=r(8296),g=r(66478),y=r(32192);t.defaultMenuInit=function(e){var t=this,r=e.app,m=e.uiFSceneTreeContextMenu,v=function(t){return t===e.builtinUiSceneTree};m.registerMenu({title:"(JSON)",filterFunc:function(e){return!!e.uiFSceneTreeItem},clickFunc:function(e){var t=e.uiFSceneTreeItem;if(t){var n=t.sceneTreeItem,o=n.sceneObj;r.infoDlg({title:"".concat(n.name),content:o?o.json:n.json,contentType:"json",width:800,height:600})}}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTreeItem;if(!t)return!1;var r=t.sceneTreeItem.sceneObj;return!!r&&"editing"in r},clickFunc:function(e){var t=e.uiFSceneTreeItem;if(t){var r=t.sceneTreeItem.sceneObj;r&&"editing"in r&&(r.editing=!0)}}}),m.registerMenu({title:"(JSON)",filterFunc:function(e){return!e.uiFSceneTreeItem},clickFunc:function(e){var t=e.uiFSceneTree;if(t){var n=t.sceneTree;r.infoDlg({title:"(JSON)",content:n.json,contentType:"json",width:800,height:600})}}}),m.registerMenu({title:"()",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)},clickFunc:function(e){r.showCommandsPanel=!0}}),m.registerMenu({title:"",filterFunc:function(t){return t.uiFSceneTree!==e.builtinUiSceneTree},clickFunc:function(e){var t=e.uiFSceneTreeItem,r=e.uiFSceneTree,n=null==t?void 0:t.sceneTreeItem,o=r.sceneTree.createSceneTreeItem(n);o?(o.name="",setTimeout((function(){r.commandEvent.emit({type:"renameItem",item:o})}),100)):console.warn("")}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTreeItem,r=e.uiFSceneTree;return!v(r)&&!!t},clickFunc:function(e){var t=e.uiFSceneTreeItem;t&&t.sceneTree.commandEvent.emit({type:"delete"})}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTreeItem,r=e.uiFSceneTree;return!v(r)&&!!t},clickFunc:function(e){var t=e.uiFSceneTreeItem;t&&(t.nameEditing=!0)}}),m.registerMenu({title:"",filterFunc:function(e){return!!e.uiFSceneTreeItem},clickFunc:function(e){var r=e.uiFSceneTreeItem;if(e.event,r){var s=r.sceneTreeItem;n(t,void 0,void 0,(function(){var e,t,n,u;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,(0,c.getSaveM3tObjFileHandle)(s.name)];case 1:return(e=o.sent())?(t=s.selected?a([],i(r.sceneTree.selectedItems),!1):[s],n=(0,l.getM3tOJsonFromSceneTreeItems)(t),u=JSON.stringify(n,void 0,"    "),[4,(0,c.saveFile)(e,u)]):[2];case 2:case 3:return o.sent(),[3,4];case 4:return[2]}}))}))}}}),m.registerMenu({title:"",filterFunc:function(e){return!!e.uiFSceneTreeItem},clickFunc:function(e){var t=e.uiFSceneTreeItem;t&&t.sceneTree.commandEvent.emit({type:"copy"})}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTreeItem,r=e.uiFSceneTree;return!v(r)&&!!t},clickFunc:function(e){var t=e.uiFSceneTreeItem;t&&t.sceneTree.commandEvent.emit({type:"cut"})}}),m.registerMenu({title:"",filterFunc:function(e){return n(t,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return t=e.uiFSceneTree,(r=!v(t))?[4,t.sceneTree.canPaste()]:[3,2];case 1:r=n.sent(),n.label=2;case 2:return[2,r]}}))}))},clickFunc:function(e){e.uiFSceneTree.sceneTree.commandEvent.emit({type:"paste"})}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTreeItem;if(!t)return!1;var r=t.sceneTreeItem;return!!r.sceneObj&&r.sceneObj instanceof f.Czm3DTiles},clickFunc:function(e){var t=e.uiFSceneTreeItem;if(t){var n=t.sceneTreeItem;n.sceneObj&&n.sceneObj instanceof f.Czm3DTiles&&(0,g.saveCzm3dtilesJsonFile)(r,n.sceneObj)}}}),m.registerMenu({title:"gltf3dtiles",filterFunc:function(e){var t=e.uiFSceneTreeItem;if(!t)return!1;var r=t.sceneTreeItem;return!!r.sceneObj&&r.sceneObj instanceof f.CzmModelPrimitive},clickFunc:function(e){var t=e.uiFSceneTreeItem;t&&t.sceneTree.commandEvent.emit({type:"paste"})}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)&&(0,p.canMergePolylines)(r)},clickFunc:function(e){return n(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.ui.confirm("")];case 1:return e.sent()?[2,(0,p.mergePolylines)(r)]:[2]}}))}))}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)&&(0,p.canSplitPolylineSets)(r)},clickFunc:function(e){return n(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.ui.confirm("")];case 1:return e.sent()?[2,(0,p.splitPolylineSets)(r)]:[2]}}))}))}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)&&(0,d.canMergeSignalTransmissions)(r)},clickFunc:function(e){return n(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.ui.confirm("")];case 1:return e.sent()?[2,(0,d.mergeSignalTransmissions)(r)]:[2]}}))}))}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)&&(0,d.canSplitSignalTransmissionCollections)(r)},clickFunc:function(e){return n(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.ui.confirm("")];case 1:return e.sent()?[2,(0,d.splitSignalTransmissionCollections)(r)]:[2]}}))}))}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)&&(0,h.canMergeViews)(r)},clickFunc:function(e){return n(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.ui.confirm("")];case 1:return e.sent()?[2,(0,h.mergeViews)(r)]:[2]}}))}))}}),m.registerMenu({title:"",filterFunc:function(e){var t=e.uiFSceneTree;return!v(t)&&(0,h.canSplitViewCollections)(r)},clickFunc:function(e){return n(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.ui.confirm("")];case 1:return e.sent()?[2,(0,h.splitViewCollections)(r)]:[2]}}))}))}}),m.registerMenu({title:"3dtiles",filterFunc:function(e){var t=e.uiFSceneTreeItem;if(!t)return!1;var r=t.sceneTreeItem;if(!r.sceneObj)return!1;var n=r.sceneObj;return!!n&&n instanceof f.Czm3DTiles},clickFunc:function(e){return n(t,void 0,void 0,(function(){var t,n,i,a,s;return o(this,(function(o){switch(o.label){case 0:return(t=e.uiFSceneTreeItem)&&(n=t.sceneTreeItem).sceneObj&&(i=n.sceneObj)&&i instanceof f.Czm3DTiles?i.url?(a=r.builtinObjects.czmTilesetLoading).enabled?(s=!u.ui.confirm)?[3,2]:[4,u.ui.confirm("3DTiles")]:[3,3]:(console.warn("!sceneObj.url"),[2]):[2];case 1:s=!o.sent(),o.label=2;case 2:if(s)return[2];a.enabled=!1,o.label=3;case 3:return[4,a.getLocalDir()];case 4:return o.sent()?(a.url=i.url,a.enabled=!0,[2]):[2]}}))}))}}),m.registerMenu({title:"3dtiles",filterFunc:function(e){var t=e.uiFSceneTreeItem;if(!t)return!1;var r=t.sceneTreeItem;if(!r.sceneObj)return!1;var n=r.sceneObj;return!!n&&n instanceof f.Czm3DTiles},clickFunc:function(e){return n(t,void 0,void 0,(function(){var t,n,i,a;return o(this,(function(o){switch(o.label){case 0:return(t=e.uiFSceneTreeItem)&&(n=t.sceneTreeItem).sceneObj&&(i=n.sceneObj)&&i instanceof f.Czm3DTiles?i.url?(a=r.createSceneObjectClassOnTree(y.CzmTilesetLoading,"-".concat(i.name)))?[4,a.getLocalDir()]:(console.warn(""),[2]):(console.warn("!sceneObj.url"),[2]):[2];case 1:return o.sent()?(a.url=i.url,[2]):[2]}}))}))}}),m.registerMenu({title:"UI",filterFunc:function(e){var t=e.uiFSceneTreeItem;if(!t)return!1;var r=t.sceneTreeItem;if(0===r.children.length)return!1;if(!r.sceneObj)return!1;var n=r.sceneObj;return!!n&&n instanceof y.MyContainer},clickFunc:function(e){return n(t,void 0,void 0,(function(){var t,r,n,i,a,c,l,u,f,p;return o(this,(function(o){if(!(t=e.uiFSceneTreeItem))return[2];if(!(r=t.sceneTreeItem).sceneObj)return[2];if(!(n=r.sceneObj))return[2];if(!(n instanceof y.MyContainer))return[2];n.subIds=[],i=[];try{for(a=s(r.children),c=a.next();!c.done;c=a.next())l=c.value,(u=l.sceneObj)&&"container"in u&&i.push(u.id)}catch(e){f={error:e}}finally{try{c&&!c.done&&(p=a.return)&&p.call(a)}finally{if(f)throw f.error}}return n.subIds=i,[2]}))}))}})}},91355:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FSceneTreeAndUi=void 0;var s=r(80468),c=r(51355),l=r(16936),u=r(90586),f=r(14911),p=r(43455),d=function(e){function t(t){var r,n,o=e.call(this)||this;return o._app=t,o._createSceneObjectFunc=function(e){return o.app.xe2ProjectManager.createSceneObjectFromJson(e)},o._destroySceneObjectFunc=function(e){return o.app.xe2ProjectManager.destroySceneObject(e),!0},o._sceneTree=function(){var e=o.disposeVar(new l.FSceneTree(o._createSceneObjectFunc,o._destroySceneObjectFunc));return o.dispose(e.lastSelectedItemChanged.disposableOn((function(){var t;o.app.xe2ProjectManager.propUiTreeManager.sceneObject=null===(t=e.lastSelectedItem)||void 0===t?void 0:t.sceneObj}))),e.deleteConfirmFunc=function(e){return i(o,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,c.ui.confirm("".concat(e.length,"(").concat(e[0].name,")"))];case 1:return[2,t.sent()]}}))}))},o.dispose(e.commandEvent.disposableOn((function(t){var r=t.type;"copy"===r?e.copy():"cut"===r?e.cut():"paste"===r?i(o,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,navigator.clipboard.readText()];case 1:return(e=t.sent())?((0,u.paste)(this.app,e),[2]):[2,!1]}}))})):"delete"===r&&e.delete()}))),e}(),o._builtinSceneTree=(r=o.disposeVar(new l.FSceneTree(o._createSceneObjectFunc,o._destroySceneObjectFunc)),o.dispose(r.lastSelectedItemChanged.disposableOn((function(){var e;o.app.xe2ProjectManager.propUiTreeManager.sceneObject=null===(e=r.lastSelectedItem)||void 0===e?void 0:e.sceneObj}))),r.deleteConfirmFunc=function(e){return i(o,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,c.ui.alert("")];case 1:return e.sent(),[2,!1]}}))}))},o.dispose(r.commandEvent.disposableOn((function(e){"copy"===e.type&&r.copy()}))),r),o._uiSceneTree=(n=o.disposeVar(new l.UiFSceneTree(o.sceneTree)),o.dispose(n.dbClickEvent.disposableOn((function(e,t){if(e){var r=e.sceneTreeItem.sceneObj;r&&"flyTo"in r&&r.flyTo()}}))),n),o._builtinUiSceneTree=function(){var e=o.disposeVar(new l.UiFSceneTree(o.builtinSceneTree));return o.dispose(e.dbClickEvent.disposableOn((function(e,t){if(e){var r=e.sceneTreeItem.sceneObj;r&&"flyTo"in r&&r.flyTo()}}))),e}(),o._uiFSceneTreeContextMenu=o.disposeVar(new p.UiFSceneTreeContextMenu),o._contextMenuInit=(o.dispose(o.uiSceneTree.contextMenuEvent.disposableOn((function(e,t){t.preventDefault(),t.stopPropagation(),o.uiFSceneTreeContextMenu.onContextMenu(o.uiSceneTree,e,t)}))),void o.dispose(o.builtinUiSceneTree.contextMenuEvent.disposableOn((function(e,t){t.preventDefault(),t.stopPropagation(),o.uiFSceneTreeContextMenu.onContextMenu(o.builtinUiSceneTree,e,t)})))),o.dispose(o._app.xe2ProjectManager.sceneObjectSelectedFromViewersEvent.disposableOn((function(e,t){e instanceof s.ESSceneObject&&o.sceneTree.selectSingleTreeItemWithSceneObject(e)}))),o.dispose(o._app.xe2ProjectManager.sceneObjectSelectedFromViewersEvent.disposableOn((function(e,t){e instanceof s.ESSceneObject&&o.builtinSceneTree.selectSingleTreeItemWithSceneObject(e)}))),(0,f.defaultMenuInit)(o),o}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneTree",{get:function(){return this._sceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinSceneTree",{get:function(){return this._builtinSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiSceneTree",{get:function(){return this._uiSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinUiSceneTree",{get:function(){return this._builtinUiSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiFSceneTreeContextMenu",{get:function(){return this._uiFSceneTreeContextMenu},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.FSceneTreeAndUi=d},94539:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.splitPolylineSets=t.canSplitPolylineSets=t.getCurrentPolylineSetItems=t.mergePolylines=t.canMergePolylines=t.getCurrentPolylineItems=void 0;var o=r(80468);function i(e){return e.sceneTree.getFlatCurrentItemsWithFilters((function(e){return!!e.sceneObj&&e.sceneObj instanceof o.GeoPolyline}))}function a(e){return e.sceneTree.getFlatCurrentItemsWithFilters((function(e){return!!e.sceneObj&&e.sceneObj instanceof o.GeoPolylines}))}t.getCurrentPolylineItems=i,t.canMergePolylines=function(e){return i(e).length>1},t.mergePolylines=function(e,t){void 0===t&&(t=!0);var r=i(e);r.length<=1&&console.warn("polylines.length <= 1");var n=r.map((function(e){var t=e.sceneObj;if(!(t&&t instanceof o.GeoPolyline))throw new Error("!e.sceneObj || e.sceneObj instanceof GeoPolylines");return t.positions})).filter((function(e){return!!e&&e.length>0})),a=e.createSceneObjectClassOnTree(o.GeoPolylines,"",!1);a&&(a.positions=n,t&&e.sceneTree.destroySceneTreeItems(r))},t.getCurrentPolylineSetItems=a,t.canSplitPolylineSets=function(e){return 0!==a(e).length},t.splitPolylineSets=function(e,t){var r,i,s,c;void 0===t&&(t=!0);var l=a(e);try{for(var u=n(l),f=u.next();!f.done;f=u.next()){var p=f.value,d=p.sceneObj;if(!(d&&d instanceof o.GeoPolylines))throw new Error("!e.sceneObj || e.sceneObj instanceof GeoPolylines");var h=d.positions;if(!h)return void console.warn("positions");var g=e.sceneTree.createSceneTreeItem();if(!g)throw new Error("!groupItem");g.name=p.name;var y=0;try{for(var m=(s=void 0,n(h)),v=m.next();!v.done;v=m.next()){var b=v.value,w=e.sceneTree.createItemWithSceneObject({type:"GeoPolyline",name:"".concat(p.name,"_").concat(y)},g);if(w){var _=w.sceneObj;_&&_ instanceof o.GeoPolyline&&(_.positions=b,++y)}}}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}t&&e.sceneTree.destroySceneTreeItems(l)}},28799:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.splitSignalTransmissionCollections=t.canSplitSignalTransmissionCollections=t.getCurrentSignalTransmissionCollectionItems=t.mergeSignalTransmissions=t.canMergeSignalTransmissions=t.getCurrentSignalTransmissionItems=void 0;var o=r(48269);function i(e){return e.sceneTree.getFlatCurrentItemsWithFilters((function(e){return!!e.sceneObj&&e.sceneObj instanceof o.CzmSignalTransmission}))}function a(e){return e.sceneTree.getFlatCurrentItemsWithFilters((function(e){return!!e.sceneObj&&e.sceneObj instanceof o.CzmSignalTransmissionCollection}))}t.getCurrentSignalTransmissionItems=i,t.canMergeSignalTransmissions=function(e){return i(e).length>1},t.mergeSignalTransmissions=function(e,t){void 0===t&&(t=!0);var r=i(e);r.length<=1&&console.warn("polylines.length <= 1");var n=r.map((function(e){var t=e.sceneObj;if(!(t&&t instanceof o.CzmSignalTransmission))throw new Error("!e.sceneObj || e.sceneObj instanceof GeoPolylines");return t.positions})).filter((function(e){return!!e&&e.length>0})),a=e.createSceneObjectClassOnTree(o.CzmSignalTransmissionCollection,"",!1);a&&(a.positionsSet=n,t&&e.sceneTree.destroySceneTreeItems(r))},t.getCurrentSignalTransmissionCollectionItems=a,t.canSplitSignalTransmissionCollections=function(e){return 0!==a(e).length},t.splitSignalTransmissionCollections=function(e,t){var r,i,s,c;void 0===t&&(t=!0);var l=a(e);try{for(var u=n(l),f=u.next();!f.done;f=u.next()){var p=f.value,d=p.sceneObj;if(!(d&&d instanceof o.CzmSignalTransmissionCollection))throw new Error("!e.sceneObj || e.sceneObj instanceof GeoPolylines");var h=d.positionsSet;if(!h)return void console.warn("positionsSet");var g=e.sceneTree.createSceneTreeItem();if(!g)throw new Error("!groupItem");g.name=p.name;var y=0;try{for(var m=(s=void 0,n(h)),v=m.next();!v.done;v=m.next()){var b=v.value,w=e.sceneTree.createItemWithSceneObject({type:"CzmSignalTransmission",name:"".concat(p.name,"_").concat(y)},g);if(w){var _=w.sceneObj;_&&_ instanceof o.CzmSignalTransmission&&(_.positions=b,++y)}}}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}t&&e.sceneTree.destroySceneTreeItems(l)}},8296:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.splitViewCollections=t.canSplitViewCollections=t.getCurrentViewCollectionItems=t.mergeViews=t.canMergeViews=t.getCurrentViews=void 0;var o=r(80468);function i(e){return e.sceneTree.getFlatCurrentItemsWithFilters((function(e){return!!e.sceneObj&&e.sceneObj instanceof o.View}))}function a(e){return e.sceneTree.getFlatCurrentItemsWithFilters((function(e){return!!e.sceneObj&&e.sceneObj instanceof o.ViewCollection}))}t.getCurrentViews=i,t.canMergeViews=function(e){return i(e).length>1},t.mergeViews=function(e,t){void 0===t&&(t=!0);var r=i(e);r.length<=1&&console.warn("polylines.length <= 1");var n=r.map((function(e){var t,r=e.sceneObj;if(!(r&&r instanceof o.View))throw new Error("!e.sceneObj || e.sceneObj instanceof View");return{viewDistance:r.viewDistance,duration:r.duration?r.duration:1e3,position:null!==(t=r.position)&&void 0!==t?t:[0,0,0],rotation:r.rotation,thumbnail:r.thumbnail}})),a=e.createSceneObjectClassOnTree(o.ViewCollection,"",!1);a&&(a.views=n,t&&e.sceneTree.destroySceneTreeItems(r))},t.getCurrentViewCollectionItems=a,t.canSplitViewCollections=function(e){return 0!==a(e).length},t.splitViewCollections=function(e,t){var r,i,s,c,l,u,f;void 0===t&&(t=!0);var p=a(e);try{for(var d=n(p),h=d.next();!h.done;h=d.next()){var g=h.value,y=g.sceneObj;if(!(y&&y instanceof o.ViewCollection))throw new Error("!e.sceneObj || e.sceneObj instanceof GeoPolylines");var m=y.views;if(!m)return void console.warn("positionsSet");var v=e.sceneTree.createSceneTreeItem();if(!v)throw new Error("!groupItem");v.name=g.name;var b=0;try{for(var w=(s=void 0,n(m)),_=w.next();!_.done;_=w.next()){var P=_.value,x=e.sceneTree.createItemWithSceneObject({type:"View",name:"".concat(g.name,"_").concat(b)},v);if(x){var O=x.sceneObj;O&&O instanceof o.View&&(O.position=P.position,O.rotation=null!==(l=P.rotation)&&void 0!==l?l:[0,0,0],O.viewDistance=null!==(u=P.viewDistance)&&void 0!==u?u:0,O.duration=P.duration,O.thumbnail=null!==(f=P.thumbnail)&&void 0!==f?f:"",++b)}}}catch(e){s={error:e}}finally{try{_&&!_.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}t&&e.sceneTree.destroySceneTreeItems(p)}},66478:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveCzm3dtilesJsonFile=void 0;var c=i(r(81557)),l=r(51355),u=r(59645);t.saveCzm3dtilesJsonFile=function(e,t){var r,n;return a(this,void 0,void 0,(function(){var o,i,a,f,p,d,h,g,y;return s(this,(function(s){switch(s.label){case 0:if(!t.url)return console.error("saveCzm3dtilesJsonFile error: !czm3dtiles.url"),alert("url"),[2];if(!t.url.startsWith("${LF}"))return console.error("saveCzm3dtilesJsonFile error: !czm3dtiles.url.startsWith(${LF})"),alert("(${LF})"),[2];if(!l.os.wrap)return alert(""),[2];if(!(o=e.czmViewer.getCzmObject(t)).tileset)return alert("tileset"),[2];i=null!==(r=o.tileset.root.transform)&&void 0!==r?r:c.Matrix4.IDENTITY,a=null!==(n=o.tileset.modelMatrix)&&void 0!==n?n:c.Matrix4.IDENTITY,f=c.Matrix4.multiply(a,i,new c.Matrix4),p=c.Matrix4.toArray(f),s.label=1;case 1:return s.trys.push([1,6,,7]),d=u.SceneObject.context.getStrFromEnv(t.url),[4,fetch(d)];case 2:return[4,s.sent().json()];case 3:return(h=s.sent()).root?(h.root.transform=p,g=t.url.slice(5).replace(".json","_m3t_".concat(Date.now(),".json")),[4,l.ui.confirm(" ".concat(g," "),"")]):(console.error("saveCzm3dtilesJsonFile error: !json.root"),alert("saveCzm3dtilesJsonFile error: !json.root"),[2]);case 4:return s.sent()?[4,l.os.wrap.fs.writeTextFile(g,JSON.stringify(h,void 0,4))]:[2];case 5:return s.sent(),console.info("!"),alert(""),[3,7];case 6:return y=s.sent(),console.error("saveCzm3dtilesJsonFile error: ".concat(y)),[3,7];case 7:return[2]}}))}))}},90192:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.My3dtilesAppProps=t.AppResetting=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(88086),p=function(e){function t(t,r){var n=e.call(this)||this;return n._appProps=t,n._app=r,n.dispose((0,l.bind)([n.appProps,"pickingType"],[n.app.picking,"type"])),n.dispose((0,l.bind)([n.appProps,"useLastView"],[n.app,"useLastView"])),n.dispose((0,l.bind)([n.appProps,"fullScreen"],[n.app,"fullScreen"])),n.dispose((0,l.bind)([n.appProps,"showEditorUi"],[n.app,"showEditorUi"])),n.dispose((0,l.bind)([n.appProps,"showCommandsPanel"],[n.app,"showCommandsPanel"])),n.dispose((0,l.bind)([n.appProps,"showDefaultImageriesSelection"],[n.app,"showDefaultImageriesSelection"])),n.dispose((0,l.bind)([n.appProps,"showDefaultTerrainsSelection"],[n.app,"showDefaultTerrainsSelection"])),n.dispose((0,l.bind)([n.appProps,"showHeaderView"],[n.app,"showHeaderView"])),n.dispose((0,l.bind)([n.appProps,"showLeftView"],[n.app,"showLeftView"])),n.dispose((0,l.bind)([n.appProps,"showFooterView"],[n.app,"showFooterView"])),n.dispose((0,l.bind)([n.appProps,"autoUseSceneDir"],[n.app,"autoUseSceneDir"])),n.dispose((0,l.bind)([n.appProps,"projectName"],[n.app,"projectName"])),n.dispose((0,l.bind)([n.appProps,"title"],[n.app,"title"])),n.dispose((0,l.bind)([n.appProps,"decorations"],[n.app,"decorations"])),n.dispose((0,l.bind)([n.appProps,"alwaysOnTop"],[n.app,"alwaysOnTop"])),n.dispose((0,l.bind)([n.appProps,"transparentBackground"],[n.app,"transparentBackground"])),n}return o(t,e),Object.defineProperty(t.prototype,"appProps",{get:function(){return this._appProps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.AppResetting=p;var d=function(e){function t(t){var r=e.call(this,t)||this;return r._app=r.disposeVar((0,l.react)(void 0)),r._appResetting=r.disposeVar(new u.ObjResettingWithEvent(r.appChanged,(function(){if(r.app)return new p(r,r.app)}))),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"My3dtilesAppProps"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this._app.value},set:function(e){this._app.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appChanged",{get:function(){return this._app.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.StringProperty("","",!1,!1,[this,"projectName"]),new c.EnumProperty("","",!1,!1,[this,"pickingType"],f.pickingTypes),new c.BooleanProperty("","",!1,!1,[this,"useLastView"]),new c.BooleanProperty("","",!1,!1,[this,"autoUseSceneDir"])]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"fullScreen"]),new c.BooleanProperty("UI","UI",!1,!1,[this,"showEditorUi"]),new c.BooleanProperty("","",!1,!1,[this,"showHeaderView"]),new c.BooleanProperty("","",!1,!1,[this,"showLeftView"]),new c.BooleanProperty("","",!1,!1,[this,"showFooterView"])]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"showCommandsPanel"]),new c.BooleanProperty("","",!1,!1,[this,"showDefaultImageriesSelection"]),new c.BooleanProperty("","",!1,!1,[this,"showDefaultTerrainsSelection"])]),new c.GroupProperty("","",[new c.StringProperty("","",!1,!1,[this,"title"]),new c.BooleanProperty("","",!1,!1,[this,"decorations"]),new c.BooleanProperty("","",!1,!1,[this,"alwaysOnTop"]),new c.BooleanProperty("","",!1,!1,[this,"transparentBackground"])])],!1)},r=t,t.type=r.register("My3dtilesAppProps",r,{chsName:"My3dtilesAppProps",tags:["ESObjects"],description:"My3dtilesAppProps"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.My3dtilesAppProps=d,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{pickingType:"None",useLastView:!0,fullScreen:!1,showEditorUi:!0,showCommandsPanel:!1,showDefaultImageriesSelection:!1,showDefaultTerrainsSelection:!1,showHeaderView:!0,showLeftView:!0,showFooterView:!0,autoUseSceneDir:!0,projectName:"",title:"",decorations:!0,alwaysOnTop:!1,consoleEnabled:!0,transparentBackground:!1})}}(d=t.My3dtilesAppProps||(t.My3dtilesAppProps={})),t.My3dtilesAppProps=d,(0,l.extendClassProps)(d.prototype,d.createDefaultProps)},648:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppSceneOpenning=void 0;var s=r(51355),c=r(59645),l=r(48438),u=function(e){function t(t){var r,n=e.call(this,t)||this;return n._sceneFilePath=n.disposeVar((0,s.react)("")),n._sceneFilePathInit=((r=function(){var e;n._sceneFilePath.value=null!==(e=c.SceneObject.context.getEnv("SFP"))&&void 0!==e?e:""})(),void n.dispose(c.SceneObject.context.environmentVariablesChanged.disposableOn(r))),n._sceneFileName=n.disposeVar((0,s.react)("")),n._sceneFileNameInit=function(){var e=function(){var e,t=null!==(e=n.sceneFilePath.split(/[\/\\]/).pop())&&void 0!==e?e:"";console.log("sfn"),console.log(t),n._sceneFileName.value=t};e(),n.dispose(n.sceneFilePathChanged.disposableOn(e))}(),n}return o(t,e),Object.defineProperty(t.prototype,"fileLoader",{get:function(){return this.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.fileLoader.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xe2ProjectManager",{get:function(){return this.app.xe2ProjectManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneFilePath",{get:function(){return this._sceneFilePath.value},set:function(e){this._sceneFilePath.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneFilePathChanged",{get:function(){return this._sceneFilePath.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneFileName",{get:function(){return this._sceneFileName.value},set:function(e){this._sceneFileName.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneFileNameChanged",{get:function(){return this._sceneFileName.changed},enumerable:!1,configurable:!0}),t.prototype.setJson=function(e,t){return void 0===t&&(t=!1),i(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return t?[3,2]:this.app.isSceneChanged()?[4,this.app.confirm("..")]:[3,2];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return(0,l.setSD)(""),this.app.json=e,[2,!0]}}))}))},t.prototype.setDefaultScene=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.setJson(this.app.config.scenes.baseScene)];case 1:return e.sent()&&(0,l.setSD)(""),[2]}}))}))},t.prototype.load=function(e,t){return void 0===t&&(t=!1),i(this,void 0,void 0,(function(){var r,n,o,i;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),e=decodeURI(e),r=c.SceneObject.context.getStrFromEnv(e),[4,fetch(r)];case 1:return(n=a.sent()).ok?[4,n.json()]:(console.warn("(".concat(r,")")),[2]);case 2:return o=a.sent(),[4,this.setJson(o,t)];case 3:return a.sent()&&(0,l.setSD)(e),[3,5];case 4:return i=a.sent(),console.error(i),[3,5];case 5:return[2]}}))}))},t.prototype.openLocal=function(e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return s.os.wrap?[4,s.os.wrap.dialog.open({filters:[{name:"m3t",extensions:["m3tjson"]}]})]:(alert(""),[2]);case 1:return(t=r.sent())?(t&&(t="${LF}"+t),this.load(t,e),[2]):(console.warn(""),[2])}}))}))},t.prototype.openWeb=function(e){var t;return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return(r="")?[3,2]:[4,s.ui.prompt("(: https://xxx.com/path/xxx.m3tjson)")];case 1:if(!(r=null!==(t=n.sent())&&void 0!==t?t:""))return[2];n.label=2;case 2:return(r=r.trim()).startsWith("${LP}")||(r="${LP}"+r),[2,this.load(r,e)]}}))}))},t.prototype.saveLocalAs=function(e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var t,r,n,o,i,c;return a(this,(function(a){switch(a.label){case 0:if(!s.os.wrap)return alert(""),[2];a.label=1;case 1:return a.trys.push([1,6,,7]),t=s.os.wrap.dialog.save,open?[4,t({title:"",defaultPath:this.sceneFileName,filters:[{name:"My3dtiles",extensions:["m3tjson","m3t.json"]},{name:"All Files",extensions:["*"]}]})]:(console.warn("!os.dialog.open"),[2]);case 2:return"string"!=typeof(r=a.sent())?[2]:r?(r.endsWith(".m3tjson")||r.endsWith(".m3t.json")||(r+=".m3tjson"),e?[3,5]:[4,s.os.wrap.fs.exists(r)]):(console.warn(""),[2]);case 3:return a.sent()?(n=s.ui.confirm)?[4,n("")]:[2]:[3,5];case 4:if(!a.sent())return[2];a.label=5;case 5:return(0,s.os.wrap.fs.writeTextFile)(r,this.app.jsonStr),(0,l.setSD)("${LF}"+r),(o=s.ui.alert)?(o(""),[3,7]):[2];case 6:return i=a.sent(),console.error("saveLocal error: ".concat(i)),console.error(i),(c=s.ui.alert)?(c(""),[3,7]):[2];case 7:return[2]}}))}))},t.prototype.saveLocal=function(e){var t;return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var r,n,o,i;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),r=c.SceneObject.context.getEnv("SFP"),(n=c.SceneObject.context.getEnv("LF"))&&r&&r.startsWith(n)?(o=r.slice(n.length),[4,null===(t=s.os.wrap)||void 0===t?void 0:t.fs.writeTextFile(o,this.app.jsonStr)]):[3,2];case 1:return a.sent(),(0,l.setSD)(r),alert(""),[3,3];case 2:this.saveLocalAs(e),a.label=3;case 3:return[3,5];case 4:return i=a.sent(),console.error("saveLocal error: ".concat(i)),console.error(i),alert(""),[3,5];case 5:return[2]}}))}))},t}(s.HasOwner);t.AppSceneOpenning=u},15839:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.FileLoader=void 0;var c=r(11007),l=r(51355),u=r(39240),f=r(45759),p=r(648),d=r(70986),h=[{name:"m3t",extensions:["m3tjson"]},{name:"m3t",extensions:["m3tojson"]},{name:"3dtiles",extensions:["json"]},{name:"CZML",extensions:["czml"]},{name:"GeoJson",extensions:["geojson","topojson"]},{name:"KML",extensions:["kml","kmz"]},{name:"GLTF",extensions:["gltf","glb"]},{name:"OBJ",extensions:["obj"]},{name:"",extensions:["jpg","png","svg","webp","gif","mp4","mov","webm","flv","m3u8"]},{name:"JS",extensions:["js"]},{name:"HTML",extensions:["html","htm"]},{name:"",extensions:["*"]}],g=h.map((function(e){return e.extensions})).flat().filter((function(e){return"*"!==e}));h.unshift({name:"",extensions:g});var y=function(e){function t(t){var r=e.call(this,t)||this;return r._appSceneOpenning=r.disposeVar(new p.AppSceneOpenning(r)),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xe2ProjectManager",{get:function(){return this.owner.xe2ProjectManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appSceneOpenning",{get:function(){return this._appSceneOpenning},enumerable:!1,configurable:!0}),t.prototype.openSceneFromUrl=function(e,t){return this._appSceneOpenning.load(e,t)},t.prototype.openLocalScene=function(e){return this._appSceneOpenning.openLocal(e)},t.prototype.openWebScene=function(e){return this._appSceneOpenning.openWeb(e)},t.prototype.saveLocalSceneAs=function(e){return this._appSceneOpenning.saveLocalAs(e)},t.prototype.saveLocalScene=function(e){return this._appSceneOpenning.saveLocal(e)},t.prototype.loadDataFromUrlOrFilePath=function(e,t){return i(this,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return t=t||{},"m3t"!==(0,u.getTypeFromFilePath)(e)?[3,2]:(r=(0,c.getUrlFromUrlOrFilePath)(e),[4,this.appSceneOpenning.load(r)]);case 1:return n.sent(),[3,4];case 2:return[4,(0,f.loadDataFromUrlOrFilePath)(this.app,e,t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},t.prototype.openFile=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,i,c,u,f,p,d,g,y;return a(this,(function(a){switch(a.label){case 0:return l.os.wrap?(r=(t=e||{}).mode,n=t.filterNames,o=t.webTip,void 0!==r?[3,2]:[4,l.ui.select(["",""],"")]):[2];case 1:if(void 0===(i=a.sent()))return[2];r=0===i?"local":"web",a.label=2;case 2:return"local"!==r?[3,4]:[4,l.os.wrap.dialog.open({filters:n?h.filter((function(e){return null==n?void 0:n.includes(e.name)})):h,multiple:!0})];case 3:if(null===(c=a.sent()))return[2];if(Array.isArray(c))try{for(u=s(c),f=u.next();!f.done;f=u.next())p=f.value,this.loadDataFromUrlOrFilePath(p,{batch:c.length>1})}catch(e){g={error:e}}finally{try{f&&!f.done&&(y=u.return)&&y.call(u)}finally{if(g)throw g.error}}else this.loadDataFromUrlOrFilePath(c,{batch:!1});return[3,6];case 4:return"web"!==r?[3,6]:[4,l.ui.prompt(null!=o?o:": https://xxx.com/path/xxx.m3tjson")];case 5:if(void 0===(d=a.sent()))return[2];this.loadDataFromUrlOrFilePath(d,{batch:!1}),a.label=6;case 6:return[2]}}))}))},t.prototype.openLocal3dtiles=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["3dtiles"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWeb3dtiles=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"3dtiles: https://xxx.com/path/xxx.json"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalGeoJson=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["GeoJson"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebGeoJson=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"GeoJson: https://xxx.com/path/xxx.geojson"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalKml=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["KML"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebKml=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"KML: https://xxx.com/path/xxx.kml"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalCzml=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["CZML"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebCzml=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"CZML: https://xxx.com/path/xxx.czml"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalGltf=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["GLTF"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebGltf=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"GLTF: https://xxx.com/path/xxx.gltf"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalImage=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:[""]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebImage=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:": https://xxx.com/path/xxx.png"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalM3tObj=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["m3t"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebM3tObj=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"m3t: https://xxx.com/path/xxx.m3tojson"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalJs=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["JS"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebJs=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"JS: https://xxx.com/path/xxx.js"})];case 1:return[2,e.sent()]}}))}))},t.prototype.openLocalHtml=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"local",filterNames:["HTML"]})];case 1:return[2,e.sent()]}}))}))},t.prototype.openWebHtml=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.openFile({mode:"web",webTip:"HTML: https://xxx.com/path/xxx.html"})];case 1:return[2,e.sent()]}}))}))},t.prototype.loadDataFromCesiumLab=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,(0,d.getM3toJsonFromCesiumLab)()];case 1:return(e=t.sent())?(this.app.createSceneObjectFromJsonOnTree(e),[2]):[2]}}))}))},t}(l.HasOwner);t.FileLoader=y},63283:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenProcessing=void 0;var i=function(e){function t(t){var r=e.call(this,t)||this,n=r.owner,o=function(e){"Escape"===e.key&&(n.fullScreen=!1,n.showCommandsPanel=!1),"F11"===e.key&&(n.fullScreen=!n.fullScreen),"F10"===e.key&&(n.showEditorUi=!n.showEditorUi)};document.body.addEventListener("keyup",o),r.dispose((function(){return document.body.removeEventListener("keyup",o)}));var i=function(){if(document.fullscreenEnabled)try{n.fullScreen&&null===document.fullscreenElement?document.body.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()}catch(e){console.warn("fullScreen error: ".concat(e)),console.warn(e)}else console.warn("FullScreen is not supported")};return i(),r.dispose(n.fullScreenChanged.disposableOn(i)),r}return o(t,e),t}(r(51355).HasOwner);t.FullScreenProcessing=i},29325:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.M3tInitOptions=void 0;var c=r(80468),l=r(51355),u=function(e){function t(t){return e.call(this,t)||this}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"M3tInitOptions"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.EnumProperty("","",!1,!1,[this,"fullScreen"],t.initFullScreenTypes.map((function(e){return[e,e]}))),new c.EnumProperty("UI","UI",!1,!1,[this,"showEditorUi"],t.initShowEditorUiType.map((function(e){return[e,e]}))),new c.EnumProperty("","",!1,!1,[this,"myConsoleEnabled"],t.initMyConsoleEnabledType.map((function(e){return[e,e]}))),new c.EnumProperty("UI","UI",!1,!1,[this,"decorations"],t.initAppWindowDecorationsType.map((function(e){return[e,e]}))),new c.EnumProperty("","",!1,!1,[this,"alwaysOnTop"],t.initAppWindowAlwaysOnTopType.map((function(e){return[e,e]}))),new c.EnumProperty("","",!1,!1,[this,"transparentBackground"],t.initAppWindowTransparentBackgroundType.map((function(e){return[e,e]}))),new c.StringProperty("","",!1,!1,[this,"title"])])],!1)},r=t,t.type=r.register("M3tInitOptions",r,{chsName:"M3tInitOptions",tags:["ESObjects"],description:"M3tInitOptions"}),t.defaults=i({},c.ESSceneObject.defaults),t.initFullScreenTypes=["","",""],t.initShowEditorUiType=["","",""],t.initMyConsoleEnabledType=["","",""],t.initAppWindowDecorationsType=["","",""],t.initAppWindowAlwaysOnTopType=["","",""],t.initAppWindowTransparentBackgroundType=["","",""],t}(c.ESSceneObject);t.M3tInitOptions=u,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{fullScreen:"",showEditorUi:"",myConsoleEnabled:"",decorations:"",alwaysOnTop:"",transparentBackground:"",title:""})}}(u=t.M3tInitOptions||(t.M3tInitOptions={})),t.M3tInitOptions=u,(0,l.extendClassProps)(u.prototype,u.createDefaultProps)},49169:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTool=void 0;var i=r(32192),a=r(9675),s=[{type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.showCommandsPanel = true;\r\n}",normalImageUri:"${my3dtiles-assets-script-dir}/assets/images/my3dtiles.png",hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:""},{type:"CircleButton",name:"(/)",clickFuncStr:"function () {\r\n    g_app.creatorUi.show = true;\r\n}    \r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" fill="white"><path d="M.485,8.088l9.862,5.917c.51,.306,1.081,.459,1.653,.459,.571,0,1.143-.153,1.653-.459l9.861-5.917c.301-.181,.485-.506,.485-.857s-.184-.677-.485-.857L13.654,.456c-1.021-.613-2.287-.613-3.307,0L.485,6.373c-.301,.181-.485,.506-.485,.857s.184,.677,.485,.857ZM11.376,2.171h0c.384-.23,.863-.23,1.248,0l8.432,5.06-8.432,5.06c-.385,.23-.864,.23-1.249,0L2.944,7.23,11.376,2.171Zm12.624,17.829c0,.553-.448,1-1,1h-2v2c0,.553-.448,1-1,1s-1-.447-1-1v-2h-2c-.552,0-1-.447-1-1s.448-1,1-1h2v-2c0-.553,.448-1,1-1s1,.447,1,1v2h2c.552,0,1,.447,1,1Zm-11.143,3.286c-.188,.312-.519,.485-.858,.485-.175,0-.353-.046-.514-.143L.485,17.029c-.474-.284-.627-.898-.343-1.372,.283-.474,.897-.628,1.372-.343l11,6.6c.474,.284,.627,.898,.343,1.372Zm11-12.196c.284,.474,.131,1.088-.343,1.372l-11,6.6c-.159,.095-.336,.143-.515,.143s-.356-.048-.515-.143L.485,12.462c-.474-.284-.627-.898-.343-1.372,.283-.475,.897-.628,1.372-.343l10.485,6.291,10.485-6.291c.474-.284,1.088-.131,1.372,.343Z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"(/)",tooltipMenuStrings:["(/)","CesiumLab"],tooltipClickFuncStr:"function (index, text, mouseEvent) { \r\n    if (index === 0) {\r\n        g_app.creatorUi.show = true;\r\n    } else if (index === 1) {\r\n        g_app.fileLoader.loadDataFromCesiumLab();\r\n    }\r\n} "},{type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.createSceneObjectOnTree('GeoDivTextPoi', '');\r\n}    \r\n",normalImageUri:'<svg id="Layer_1" fill="#ffffff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m19 0h-14a5.006 5.006 0 0 0 -5 5v14a5.006 5.006 0 0 0 5 5h14a5.006 5.006 0 0 0 5-5v-14a5.006 5.006 0 0 0 -5-5zm3 19a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3-3v-14a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3zm-4-10a1 1 0 0 1 -2 0 1 1 0 0 0 -1-1h-2v8h1a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2h1v-8h-2a1 1 0 0 0 -1 1 1 1 0 0 1 -2 0 3 3 0 0 1 3-3h6a3 3 0 0 1 3 3z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["",""],tooltipClickFuncStr:"function (index, text, mouseEvent) {\r\n    const types = [\r\n        ['GeoDivTextPoi', ''],\r\n        ['CzmImageModel', ''],\r\n    ];\r\n    const t = types[index];\r\n    g_app.createSceneObjectOnTree(t[0], t[1]);\r\n}"},{type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.createSceneObjectOnTree('GeoPolyline', '');\r\n}    \r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><polygon points="16.652 23.04 7.256 5.093 1.71 14.615 -.018 13.608 7.35 .959 16.747 18.908 22.29 9.405 24.018 10.413 16.652 23.04"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["",""],tooltipClickFuncStr:"function (index, text, mouseEvent) {\r\n    const types = [\r\n        ['GeoPolyline', ''], \r\n        ['GeoBezierSpline', ''],\r\n    ];\r\n    const t = types[index];\r\n    g_app.createSceneObjectOnTree(t[0], t[1]);\r\n} "},{type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.createSceneObjectOnTree('GeoPolygon', '');\r\n}    \r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><path d="M12,24c-.5,0-1-.12-1.46-.37l-7.97-4.27c-.98-.52-1.58-1.54-1.58-2.64V7.26c0-1.11,.61-2.12,1.59-2.65L10.55,.36c.91-.49,1.99-.49,2.9,0l7.96,4.25c.98,.52,1.59,1.54,1.59,2.65v9.46c0,1.11-.61,2.12-1.58,2.64l-7.96,4.27c-.46,.24-.96,.37-1.46,.37Zm0-22c-.17,0-.35,.04-.51,.13L3.53,6.38c-.33,.17-.53,.51-.53,.88v9.46c0,.37,.2,.71,.53,.88l7.97,4.27c.32,.17,.7,.17,1.02,0l7.96-4.27c.33-.17,.53-.51,.53-.88V7.26c0-.37-.2-.71-.53-.88h0L12.51,2.13c-.16-.08-.33-.13-.51-.13Z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["","","","","","",""],tooltipClickFuncStr:"function (index, text, mouseEvent) { \r\n    const types = [\r\n        ['GeoPolygon', ''],\r\n        ['GeoCircle', ''],\r\n        ['GeoRectangle', ''],\r\n        ['SMGeoDoveTailDiagonalArrow', ''],\r\n        ['SMGeoTriangleFlag', ''],\r\n        ['SMGeoRectFlag', ''],\r\n        ['SMGeoGatheringPlace', ''],\r\n    ];\r\n    const t = types[index];\r\n    g_app.createSceneObjectOnTree(t[0], t[1]);\r\n} "},{type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.createSceneObjectOnTree('GeoDistanceMeasurement', '');\r\n}    \r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><path d="M20,6.96H4C1.794,6.96,0,8.754,0,10.96v2.04c0,2.206,1.794,4,4,4H20c2.206,0,4-1.794,4-4v-2.04c0-2.206-1.794-4-4-4Zm2,6.04c0,1.103-.897,2-2,2h-1v-2.015c0-.553-.447-1-1-1s-1,.447-1,1v2.015h-2v-2.015c0-.553-.447-1-1-1s-1,.447-1,1v2.015h-2v-2.015c0-.553-.447-1-1-1s-1,.447-1,1v2.015h-1.976v-2.015c0-.553-.447-1-1-1s-1,.447-1,1v2.015h-1.024c-1.103,0-2-.897-2-2v-2.04c0-1.103,.897-2,2-2H20c1.103,0,2,.897,2,2v2.04Z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["","","",""],tooltipClickFuncStr:'function (index, text, mouseEvent) { \r\n    const objNames = [\r\n        ["", "GeoAreaMeasurement"],\r\n        ["", "GeoDirectionMeasurement"],\r\n        ["", "GeoLocationMeasurement"],\r\n        ["", "GeoHeightMeasuremen]"],\r\n    ];\r\n    g_app.createSceneObjectOnTree(objNames[index][1], objNames[index][0]);\r\n} '},{type:"CircleButton",name:"",updateFuncStr:"function (sceneObject) {\r\n    sceneObject.highlighted = g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}",createAppendedObjFuncStr:"function (sceneObject) {\r\n    class AppendedObj extends XE2['xe2-base-utils'].Destroyable {\r\n        constructor() {\r\n            super();\r\n\r\n            {\r\n                const update = () => {\r\n                    sceneObject.tooltipMenuStrings = [\r\n                        'Cesium' + (g_app.czmViewer.showCesiumInspector ? ' ' : ''),\r\n                        '3dtiles' + (g_app.czmViewer.showCesium3DTilesInspector ? ' ' : ''),\r\n                    ]\r\n                };\r\n                update();\r\n                this.dispose(sceneObject.statusChanged.disposableOn(update));\r\n            }\r\n        }\r\n    }\r\n    return new AppendedObj();\r\n}\r\n",clickFuncStr:"function () {\r\n    g_app.czmViewer.sceneDebugShowFramesPerSecond = !g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}    \r\n",normalImageUri:'<svg id="Layer_1" viewBox="0 0 24 24" fill="#ffffff"xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m12 1a11.995 11.995 0 0 0 -6.888 21.818l.259.182h13.258l.259-.182a11.995 11.995 0 0 0 -6.888-21.818zm5.988 20h-11.976a10 10 0 1 1 11.976 0zm2.012-8a7.939 7.939 0 0 1 -2.406 5.715l-1.4-1.43a5.945 5.945 0 0 0 1.595-5.833l1.575-1.575a7.968 7.968 0 0 1 .636 3.123zm-14 0a5.951 5.951 0 0 0 1.8 4.285l-1.4 1.43a8 8 0 0 1 8.717-13.08l-1.569 1.575a5.977 5.977 0 0 0 -7.548 5.79zm7.926-.512a2.033 2.033 0 1 1 -1.414-1.414l4.281-4.281 1.414 1.414z"/></svg>',hoveredImageSize:.65,highlightedImageUri:'<svg id="Layer_1" viewBox="0 0 24 24" fill="#a5d63f"xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m12 1a11.995 11.995 0 0 0 -6.888 21.818l.259.182h13.258l.259-.182a11.995 11.995 0 0 0 -6.888-21.818zm5.988 20h-11.976a10 10 0 1 1 11.976 0zm2.012-8a7.939 7.939 0 0 1 -2.406 5.715l-1.4-1.43a5.945 5.945 0 0 0 1.595-5.833l1.575-1.575a7.968 7.968 0 0 1 .636 3.123zm-14 0a5.951 5.951 0 0 0 1.8 4.285l-1.4 1.43a8 8 0 0 1 8.717-13.08l-1.569 1.575a5.977 5.977 0 0 0 -7.548 5.79zm7.926-.512a2.033 2.033 0 1 1 -1.414-1.414l4.281-4.281 1.414 1.414z"/></svg>',backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["Cesium","3dtiles"],tooltipClickFuncStr:"function (index, text, mouseEvent) { \r\n    if (index === 0) {\r\n        g_app.czmViewer.showCesiumInspector = !g_app.czmViewer.showCesiumInspector;\r\n    } else if (index === 1) {\r\n        g_app.czmViewer.showCesium3DTilesInspector = !g_app.czmViewer.showCesium3DTilesInspector;\r\n    }\r\n} "}],c=function(e){function t(t){var r,n,o=e.call(this)||this;return o._mainToolBar=t,o._myContainer=((r=o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromClass(i.MyContainer))).cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",r.container=o.mainToolBar.container,r),o._circleButtons=(n=s.map((function(e){return o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromJson(e))})),o.myContainer.subIds=n.map((function(e){return e.id})),n),o}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleButtons",{get:function(){return this._circleButtons},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.BasicTool=c},82845:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(49169),t)},51948:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FavsTool=void 0;var i=r(9675),a=r(80468),s=function(e){function t(t,r){var n=e.call(this)||this;n._myContainer=t,n._app=r;var o=n.disposeVar(new i.Event);return n.disposeVar(new a.ObjResettingWithEvent(o,(function(){var e=new i.Destroyable,t=localStorage.getItem("m3tFavs")||"[]",r=void 0;try{r=JSON.parse(t)||[]}catch(e){console.error("parse error")}if(!r)return e;var a=r.map((function(t,r){var i=n.app.xe2ProjectManager.createSceneObjectFromJson({type:"CircleButton",name:"".concat(r),highlighted:!0,normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Filled" fill="#ffffff" viewBox="0 0 24 24"><path d="M1.327,12.4,4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6a3.227,3.227,0,0,0-1.9-5.832H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832Z"/></svg>',backgroundColor:[0,0,0,0],hoveredImageSize:.65,borderWidth:0});return i.clickFunc=function(){n.app.json=t,o.emit()},i.tooltip="".concat(r),i.tooltipMenuStrings=["",""],i.tooltipClickFunc=function(e){if(0===e){var t=localStorage.getItem("m3tFavs")||"[]",n=JSON.parse(t)||[];n.splice(r,1),localStorage.setItem("m3tFavs",JSON.stringify(n))}else 1===e&&localStorage.setItem("m3tFavs",JSON.stringify([]));o.emit()},e.dispose((function(){return n.app.xe2ProjectManager.destroySceneObject(i)})),i})).map((function(e){return e.id})),s=n.app.xe2ProjectManager.createSceneObjectFromJson({type:"CircleButton",name:"",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" fill="#ffffff" viewBox="0 0 24 24"><path d="M23.836,8.794a3.179,3.179,0,0,0-3.067-2.226H16.4L15.073,2.432a3.227,3.227,0,0,0-6.146,0L7.6,6.568H3.231a3.227,3.227,0,0,0-1.9,5.832L4.887,15,3.535,19.187A3.178,3.178,0,0,0,4.719,22.8a3.177,3.177,0,0,0,3.8-.019L12,20.219l3.482,2.559a3.227,3.227,0,0,0,4.983-3.591L19.113,15l3.56-2.6A3.177,3.177,0,0,0,23.836,8.794Zm-2.343,1.991-4.144,3.029a1,1,0,0,0-.362,1.116L18.562,19.8a1.227,1.227,0,0,1-1.895,1.365l-4.075-3a1,1,0,0,0-1.184,0l-4.075,3a1.227,1.227,0,0,1-1.9-1.365L7.013,14.93a1,1,0,0,0-.362-1.116L2.507,10.785a1.227,1.227,0,0,1,.724-2.217h5.1a1,1,0,0,0,.952-.694l1.55-4.831a1.227,1.227,0,0,1,2.336,0l1.55,4.831a1,1,0,0,0,.952.694h5.1a1.227,1.227,0,0,1,.724,2.217Z"/></svg>',backgroundColor:[0,0,0,0],hoveredImageSize:.65,borderWidth:0,tooltip:""});return s.clickFunc=function(){var e=localStorage.getItem("m3tFavs")||"[]",t=JSON.parse(e)||[];t.push(n.app.json),localStorage.setItem("m3tFavs",JSON.stringify(t)),o.emit()},e.dispose((function(){return n.app.xe2ProjectManager.destroySceneObject(s)})),a.push(s.id),setTimeout((function(){return n.myContainer.subIds=a}),0),e}))),n}return o(t,e),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),t}(i.Destroyable),c=function(e){function t(t){var r,n=e.call(this)||this;return n._mainToolBar=t,n._myContainer=((r=n.app.xe2ProjectManager.createSceneObjectFromJson({type:"MyContainer",name:"",cssText:"display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n"})).createAppendedObjFunc=function(e){return new s(r,n.app)},r.container=n.mainToolBar.container,r),n}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FavsTool=c},72420:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FileTool=void 0;var i=r(32192),a=r(9675),s=[{type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.setDefaultScene();\r\n}",normalImageUri:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574"><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:""},{type:"CircleButton",name:"",updateFuncStr:"function (sceneObject) {\r\n    sceneObject.highlighted = g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}",clickFuncStr:"function () {\r\n    g_app.fileLoader.openFile();\r\n} \r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" fill="white"><path d="m23.493,11.017c-.487-.654-1.234-1.03-2.05-1.03h-.443v-1.987c0-2.757-2.243-5-5-5h-5.056c-.154,0-.31-.037-.447-.105l-3.155-1.578c-.414-.207-.878-.316-1.342-.316h-2C1.794,1,0,2.794,0,5v13c0,2.757,2.243,5,5,5h12.558c2.226,0,4.15-1.432,4.802-3.607l1.532-6.116c.234-.782.089-1.605-.398-2.26ZM2,18V5c0-1.103.897-2,2-2h2c.154,0,.31.037.447.105l3.155,1.578c.414.207.878.316,1.342.316h5.056c1.654,0,3,1.346,3,3v1.987h-10.385c-1.7,0-3.218,1.079-3.789,2.72l-2.19,7.138c-.398-.509-.636-1.15-.636-1.845Zm19.964-5.253l-1.532,6.115c-.384,1.279-1.539,2.138-2.874,2.138H5c-.208,0-.411-.021-.607-.062l2.334-7.609c.279-.803,1.039-1.342,1.889-1.342h12.828c.242,0,.383.14.445.224.062.084.156.259.075.536Z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["3dtiles","3dtiles","",""],tooltipClickFuncStr:"function (index, text, mouseEvent) { \r\n    if (index === 0) {\r\n        g_app.fileLoader.openLocal3dtiles();\r\n    } else if (index === 1) {\r\n        g_app.fileLoader.openWeb3dtiles();\r\n    } else if (index === 2) {\r\n        g_app.fileLoader.openLocalScene();\r\n    } else if (index === 3) {\r\n        // \r\n        m3tApp.fileLoader.openWebScene();\r\n    }\r\n} "},{type:"CircleButton",name:"",updateFuncStr:"function (sceneObject) {\r\n    sceneObject.highlighted = g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}",clickFuncStr:"function () {\r\n    g_app.fileLoader.saveLocalScene();\r\n}\r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" fill="white"><path d="M12,10a4,4,0,1,0,4,4A4,4,0,0,0,12,10Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,16Z"/><path d="M22.536,4.122,19.878,1.464A4.966,4.966,0,0,0,16.343,0H5A5.006,5.006,0,0,0,0,5V19a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V7.657A4.966,4.966,0,0,0,22.536,4.122ZM17,2.08V3a3,3,0,0,1-3,3H10A3,3,0,0,1,7,3V2h9.343A2.953,2.953,0,0,1,17,2.08ZM22,19a3,3,0,0,1-3,3H5a3,3,0,0,1-3-3V5A3,3,0,0,1,5,2V3a5.006,5.006,0,0,0,5,5h4a4.991,4.991,0,0,0,4.962-4.624l2.16,2.16A3.02,3.02,0,0,1,22,7.657Z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["",".."],tooltipClickFuncStr:"function (index) {\r\n    if (index === 0) {\r\n        g_app.fileLoader.saveLocalScene();\r\n    } else if (index === 1) {\r\n        g_app.fileLoader.saveLocalSceneAs();\r\n    }\r\n}"}],c=function(e){function t(t){var r,n,o=e.call(this)||this;return o._mainToolBar=t,o._myContainer=((r=o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromClass(i.MyContainer))).cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",r.container=o.mainToolBar.container,r),o._circleButtons=(n=s.map((function(e){return o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromJson(e))})),o.myContainer.subIds=n.map((function(e){return e.id})),n),o}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleButtons",{get:function(){return this._circleButtons},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.FileTool=c},20005:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.HelpTool=void 0;var i=r(32192),a=r(9675),s=[{id:"0afbcd87-a038-4c9f-8d3f-5446e59dc804",type:"CircleButton",name:"",updateFuncStr:"function (sceneObject) {\r\n    sceneObject.highlighted = g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}",createAppendedObjFuncStr:'function (sceneObject) {\r\n    const { getStrFromEnv} = XE2[\'xe2-base-objects\'].SceneObject.context;\r\n\r\n    const qqUrl = "${my3dtiles-lib-script-dir}/xe2-assets/images/qq.jpg";\r\n    const final_qqUrl = getStrFromEnv(qqUrl);\r\n\r\n    const vtxfWxUrl = "${my3dtiles-lib-script-dir}/xe2-assets/images/vtxf_wx.jpg";\r\n    const final_vtxf_wxUrl = getStrFromEnv(vtxfWxUrl);\r\n\r\n    const qqwinJson = {\r\n        "type": "MyMarkdownWindow",\r\n        "name": "MyMarkdownWindow",\r\n        "width": 400,\r\n        "height": 550,\r\n        // "content": `![qq](${final_qqUrl})`,\r\n        // "title": "QQ"\r\n    };\r\n\r\n    class AppendedObj extends XE2[\'xe2-base-utils\'].Destroyable {\r\n        constructor() {\r\n            super();\r\n            const qqqr = this.disposeVar(g_app.xe2ProjectManager.createSceneObjectFromJson(qqwinJson));\r\n            qqqr.show = false;\r\n\r\n            sceneObject._qqqr = qqqr;\r\n\r\n            sceneObject._showQq = () => {\r\n                qqqr.content = `![QQ](${final_qqUrl})`;\r\n                qqqr.title = `QQ`;\r\n                qqqr.show = true;\r\n            }\r\n\r\n            sceneObject._showVtxfWx = () => {\r\n                qqqr.content = `![vtxf](${final_vtxf_wxUrl})`;\r\n                qqqr.title = `vtxf`;\r\n                qqqr.show = true;\r\n            }\r\n        }\r\n    }\r\n    return new AppendedObj();\r\n}',clickFuncStr:"function () {\r\n    window.open('https://www.wolai.com/vtxf/8EMB7QXDBWxhTTNubw7xyP');\r\n} \r\n",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" focusable="false" viewBox="0 0 12 12">   <path fill="white" d="M5.01.5c2.763 0 5.01 1.86 5.01 4.147 0 .223-.028.442-.07.66C11.16 5.827 12 6.873 12 8.09c0 .594-.209 1.144-.55 1.617l.22 1.792-1.41-.765a4.247 4.247 0 01-1.998.495c-1.785 0-3.279-1.06-3.646-2.47a5.708 5.708 0 01-2.16-.565l-1.997.828.305-2.2C.287 6.187 0 5.446 0 4.646 0 2.361 2.248.5 5.01.5zm3.252 5.453c-1.509 0-2.737.96-2.737 2.138 0 1.18 1.228 2.138 2.737 2.138 1.51 0 2.739-.959 2.739-2.138 0-.88-.686-1.636-1.66-1.963l-.034-.011a3.398 3.398 0 00-1.045-.164zm-1.264 1.08a.519.519 0 110 1.037.519.519 0 010-1.037zm2.522 0a.52.52 0 110 1.038.52.52 0 010-1.038zM5.01 1.5C2.8 1.5 1 2.913 1 4.647c0 1.6 1.53 2.925 3.504 3.12.062-.65.39-1.677 1.72-2.416.982-.544 2.122-.458 2.77-.341.018-.12.027-.242.027-.363 0-1.734-1.8-3.146-4.01-3.146zM3.288 2.99a.703.703 0 11-.002 1.407.703.703 0 01.002-1.407zm3.833 0a.703.703 0 11-.001 1.407.703.703 0 01.001-1.406z"/> </svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["","QQ","()QQ",""],tooltipClickFuncStr:"function (index, text, mouseEvent, context) { \r\n    if (index === 0) {\r\n        window.open('https://www.wolai.com/vtxf/8EMB7QXDBWxhTTNubw7xyP');\r\n    } else if (index === 1) {\r\n        const { circleButton } = context;\r\n        if (circleButton && circleButton._showQq) {\r\n            circleButton._showQq();\r\n        }\r\n    } else if (index === 2) {\r\n        window.open('https://qm.qq.com/q/otpKXnYGBO');\r\n    } else if (index === 3) {\r\n        // window.open('https://www.wolai.com/vtxf/ijUBwzkCH6ynKWB7JWHrge');\r\n        const { circleButton } = context;\r\n        if (circleButton && circleButton._showVtxfWx) {\r\n            circleButton._showVtxfWx();\r\n        }\r\n    }\r\n} "},{type:"CircleButton",name:"bilibili",updateFuncStr:"function (sceneObject) {\r\n    sceneObject.highlighted = g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}",clickFuncStr:"function () {\r\n    window.open('https://space.bilibili.com/540048347');\r\n} \r\n",normalImageUri:'<svg fill="white" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">     <g>         <path fill="none" d="M0 0h24v24H0z"/>         <path d="M18.223 3.086a1.25 1.25 0 0 1 0 1.768L17.08 5.996h1.17A3.75 3.75 0 0 1 22 9.747v7.5a3.75 3.75 0 0 1-3.75 3.75H5.75A3.75 3.75 0 0 1 2 17.247v-7.5a3.75 3.75 0 0 1 3.75-3.75h1.166L5.775 4.855a1.25 1.25 0 1 1 1.767-1.768l2.652 2.652c.079.079.145.165.198.257h3.213c.053-.092.12-.18.199-.258l2.651-2.652a1.25 1.25 0 0 1 1.768 0zm.027 5.42H5.75a1.25 1.25 0 0 0-1.247 1.157l-.003.094v7.5c0 .659.51 1.199 1.157 1.246l.093.004h12.5a1.25 1.25 0 0 0 1.247-1.157l.003-.093v-7.5c0-.69-.56-1.25-1.25-1.25zm-10 2.5c.69 0 1.25.56 1.25 1.25v1.25a1.25 1.25 0 1 1-2.5 0v-1.25c0-.69.56-1.25 1.25-1.25zm7.5 0c.69 0 1.25.56 1.25 1.25v1.25a1.25 1.25 0 1 1-2.5 0v-1.25c0-.69.56-1.25 1.25-1.25z"/>     </g> </svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"bilibili",tooltipClickFuncStr:""},{id:"038a825b-00f8-4bd7-9ed1-d76663c132c3",type:"CircleButton",name:"",updateFuncStr:"function (sceneObject) {\r\n    sceneObject.highlighted = g_app.czmViewer.sceneDebugShowFramesPerSecond;\r\n}",createAppendedObjFuncStr:'function (sceneObject) {\r\n    const { getStrFromEnv} = XE2[\'xe2-base-objects\'].SceneObject.context;\r\n\r\n    const websiteUrl = "${my3dtiles-lib-script-dir}/xe2-assets/images/websit_qr.jpg";\r\n    const final_websiteUrl = getStrFromEnv(websiteUrl);\r\n\r\n    const qqwinJson = {\r\n        "type": "MyMarkdownWindow",\r\n        "name": "MyMarkdownWindow",\r\n        "width": 400,\r\n        "height": 600,\r\n        // "content": `![qq](${final_qqUrl})`,\r\n        // "title": "QQ"\r\n    };\r\n\r\n    class AppendedObj extends XE2[\'xe2-base-utils\'].Destroyable {\r\n        constructor() {\r\n            super();\r\n            const qqqr = this.disposeVar(g_app.xe2ProjectManager.createSceneObjectFromJson(qqwinJson));\r\n            qqqr.show = false;\r\n\r\n            sceneObject._qqqr = qqqr;\r\n\r\n            const webContent = `\\\r\nhttps://czmtoy.com/p/my3dtiles/  \r\n![](${final_websiteUrl})\r\n`;\r\n\r\n            sceneObject._showWeb = () => {\r\n                qqqr.content = webContent;\r\n                qqqr.title = ``;\r\n                qqqr.show = true;\r\n            }\r\n\r\n        }\r\n    }\r\n    return new AppendedObj();\r\n}',clickFuncStr:"function (mouseEvent, context) {\r\n    // window.open('https://www.wolai.com/vtxf/ughysuhCcGdVZLSd5VSXNf');\r\n    const { circleButton } = context;\r\n    if (circleButton && circleButton._showWeb) {\r\n        circleButton._showWeb();\r\n    }\r\n} \r\n",normalImageUri:'<svg fill="white" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"> <title>share</title> <path d="M0 25.472q0 2.368 1.664 4.032t4.032 1.664h18.944q2.336 0 4-1.664t1.664-4.032v-8.192l-3.776 3.168v5.024q0 0.8-0.544 1.344t-1.344 0.576h-18.944q-0.8 0-1.344-0.576t-0.544-1.344v-18.944q0-0.768 0.544-1.344t1.344-0.544h9.472v-3.776h-9.472q-2.368 0-4.032 1.664t-1.664 4v18.944zM5.696 19.808q0 2.752 1.088 5.28 0.512-2.944 2.24-5.344t4.288-3.872 5.632-1.664v5.6l11.36-9.472-11.36-9.472v5.664q-2.688 0-5.152 1.056t-4.224 2.848-2.848 4.224-1.024 5.152zM32 22.080v0 0 0z"></path> </svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipClickFuncStr:""}],c=function(e){function t(t){var r,n,o=e.call(this)||this;return o._mainToolBar=t,o._myContainer=((r=o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromClass(i.MyContainer))).cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",r.container=o.mainToolBar.container,r),o._circleButtons=(n=s.map((function(e){return o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromJson(e))})),o.myContainer.subIds=n.map((function(e){return e.id})),n),o}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleButtons",{get:function(){return this._circleButtons},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.HelpTool=c},53274:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MainToolBar=void 0;var i=r(9675),a=r(81901),s=r(51948),c=r(82845),l=r(47795),u=r(7210),f=r(72420),p=r(50907),d=r(20005),h=function(e){function t(t){var r=e.call(this)||this;return r._app=t,r._container=r.disposeVar((0,i.react)(void 0)),r._favsToolResetting=r.disposeVar(new a.ObjResettingWithEvent(r.containerChanged,(function(){if(r.container){var e=new i.Destroyable;return e.disposeVar(new s.FavsTool(r)),e.disposeVar(new u.Separator(r)),e.disposeVar(new f.FileTool(r)),e.disposeVar(new u.Separator(r)),e.disposeVar(new p.ViewTool(r)),e.disposeVar(new u.Separator(r)),e.disposeVar(new c.BasicTool(r)),e.disposeVar(new u.Separator(r)),e.disposeVar(new l.PickingTool(r)),e.disposeVar(new u.Separator(r)),e.disposeVar(new d.HelpTool(r)),e}}))),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container.value},set:function(e){this._container.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.MainToolBar=h},47795:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PickingTool=void 0;var i=r(9675),a=r(32192),s=r(80468),c={asset:{__m3t_type__:"m3tojson",__m3t_createdTimeStamp__:1729734054074},sceneTreeItems:[{name:"",collapsed:!0,sceneObj:{id:"01604dca-cc0c-4ade-8f8d-0423274a4d53",type:"MyContainer",name:"",createAppendedObjFuncStr:"function (sceneObject) {\r\n    class AppendedObj extends XE2['xe2-base-utils'].Destroyable {\r\n        constructor() {\r\n            super();\r\n\r\n            {\r\n                const update = () => {\r\n                    const { pickingType } = g_app.falseApp;\r\n                    let index = 0;\r\n                    if (pickingType === 'EditingOnPicking') {\r\n                        index = 0;\r\n                    } else if (pickingType ==='PropOnPicking') {\r\n                        index = 1;\r\n                    } else {\r\n                        index = 2;\r\n                    }\r\n                    const { subIds } = sceneObject;\r\n                    if (!subIds) return;\r\n                    const l = subIds.length;\r\n                    for (let i=0; i<l; ++i) {\r\n                        const id = subIds[i];\r\n                        const obj = XE2['xe2-base-objects'].SceneObject.getSceneObjById(id);\r\n                        obj.highlighted = (i === index);\r\n                    }\r\n                };\r\n                update();\r\n                this.dispose(g_app.falseApp.pickingTypeChanged.disposableOn(update));\r\n            }\r\n        }\r\n    }\r\n    return new AppendedObj();\r\n}",cssText:"display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",subIds:["ed03ebb1-1165-4bba-ada4-2cd4bdbf30b0","bd9ef281-a7a0-43a4-a5ee-1ef63dc8246c","b5bee3f3-ab8b-4ac2-9368-65550c744abd"]},children:[{name:"",sceneObj:{id:"ed03ebb1-1165-4bba-ada4-2cd4bdbf30b0",type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.falseApp.pickingType = 'EditingOnPicking';\r\n}",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" id="Outline" viewBox="0 0 24 24"><path d="M22.853,1.148a3.626,3.626,0,0,0-5.124,0L1.465,17.412A4.968,4.968,0,0,0,0,20.947V23a1,1,0,0,0,1,1H3.053a4.966,4.966,0,0,0,3.535-1.464L22.853,6.271A3.626,3.626,0,0,0,22.853,1.148ZM5.174,21.122A3.022,3.022,0,0,1,3.053,22H2V20.947a2.98,2.98,0,0,1,.879-2.121L15.222,6.483l2.3,2.3ZM21.438,4.857,18.932,7.364l-2.3-2.295,2.507-2.507a1.623,1.623,0,1,1,2.295,2.3Z"/></svg>',hoveredImageSize:.65,highlightedImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#a5d63f" id="Outline" viewBox="0 0 24 24"><path d="M22.853,1.148a3.626,3.626,0,0,0-5.124,0L1.465,17.412A4.968,4.968,0,0,0,0,20.947V23a1,1,0,0,0,1,1H3.053a4.966,4.966,0,0,0,3.535-1.464L22.853,6.271A3.626,3.626,0,0,0,22.853,1.148ZM5.174,21.122A3.022,3.022,0,0,1,3.053,22H2V20.947a2.98,2.98,0,0,1,.879-2.121L15.222,6.483l2.3,2.3ZM21.438,4.857,18.932,7.364l-2.3-2.295,2.507-2.507a1.623,1.623,0,1,1,2.295,2.3Z"/></svg>',backgroundColor:[0,0,0,0],borderWidth:0,tooltip:""}},{name:"",sceneObj:{id:"bd9ef281-a7a0-43a4-a5ee-1ef63dc8246c",type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.falseApp.pickingType = 'PropOnPicking';\r\n}",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">   <path d="m19,1H5C2.243,1,0,3.243,0,6v12c0,2.757,2.243,5,5,5h14c2.757,0,5-2.243,5-5V6c0-2.757-2.243-5-5-5Zm3,17c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V6c0-1.654,1.346-3,3-3h14c1.654,0,3,1.346,3,3v12Zm-3-11c0,.552-.448,1-1,1h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c.552,0,1,.448,1,1Zm-11,0c0,.828-.672,1.5-1.5,1.5s-1.5-.672-1.5-1.5.672-1.5,1.5-1.5,1.5.672,1.5,1.5Zm11,5c0,.552-.448,1-1,1h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c.552,0,1,.448,1,1Zm-11,0c0,.828-.672,1.5-1.5,1.5s-1.5-.672-1.5-1.5.672-1.5,1.5-1.5,1.5.672,1.5,1.5Zm11,5c0,.552-.448,1-1,1h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c.552,0,1,.448,1,1Zm-11,0c0,.828-.672,1.5-1.5,1.5s-1.5-.672-1.5-1.5.672-1.5,1.5-1.5,1.5.672,1.5,1.5Z"/> </svg>',hoveredImageSize:.65,highlightedImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#a5d63f" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">   <path d="m19,1H5C2.243,1,0,3.243,0,6v12c0,2.757,2.243,5,5,5h14c2.757,0,5-2.243,5-5V6c0-2.757-2.243-5-5-5Zm3,17c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V6c0-1.654,1.346-3,3-3h14c1.654,0,3,1.346,3,3v12Zm-3-11c0,.552-.448,1-1,1h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c.552,0,1,.448,1,1Zm-11,0c0,.828-.672,1.5-1.5,1.5s-1.5-.672-1.5-1.5.672-1.5,1.5-1.5,1.5.672,1.5,1.5Zm11,5c0,.552-.448,1-1,1h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c.552,0,1,.448,1,1Zm-11,0c0,.828-.672,1.5-1.5,1.5s-1.5-.672-1.5-1.5.672-1.5,1.5-1.5,1.5.672,1.5,1.5Zm11,5c0,.552-.448,1-1,1h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c.552,0,1,.448,1,1Zm-11,0c0,.828-.672,1.5-1.5,1.5s-1.5-.672-1.5-1.5.672-1.5,1.5-1.5,1.5.672,1.5,1.5Z"/> </svg>',backgroundColor:[0,0,0,0],borderWidth:0,tooltip:""}},{name:"",sceneObj:{id:"b5bee3f3-ab8b-4ac2-9368-65550c744abd",type:"CircleButton",name:"",highlighted:!0,clickFuncStr:"function () {\r\n    g_app.falseApp.pickingType = 'None';\r\n}",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 24 24"><g id="_01_align_center" data-name="01 align center"><path d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,2a9.949,9.949,0,0,1,6.324,2.262L4.262,18.324A9.992,9.992,0,0,1,12,2Zm0,20a9.949,9.949,0,0,1-6.324-2.262L19.738,5.676A9.992,9.992,0,0,1,12,22Z"/></g></svg>',hoveredImageSize:.65,highlightedImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#a5d63f" viewBox="0 0 24 24"><g id="_01_align_center" data-name="01 align center"><path d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,2a9.949,9.949,0,0,1,6.324,2.262L4.262,18.324A9.992,9.992,0,0,1,12,2Zm0,20a9.949,9.949,0,0,1-6.324-2.262L19.738,5.676A9.992,9.992,0,0,1,12,22Z"/></g></svg>',backgroundColor:[0,0,0,0],borderWidth:0,tooltip:""}}]}]},l=function(e){function t(t){var r=e.call(this)||this;r._pickingTool=t;var n=function(){var e,t=r.app.falseApp.pickingType;e="EditingOnPicking"===t?0:"PropOnPicking"===t?1:2;var n=r.pickingTool.myContainer.subIds;if(n)for(var o=n.length,i=0;i<o;++i){var c=n[i],l=s.SceneObject.getSceneObjById(c);l&&l instanceof a.CircleButton&&(l.highlighted=i===e)}};return n(),r.dispose(r.app.falseApp.pickingTypeChanged.disposableOn(n)),r}return o(t,e),Object.defineProperty(t.prototype,"pickingTool",{get:function(){return this._pickingTool},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this.pickingTool.mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.pickingTool.app},enumerable:!1,configurable:!0}),t}(i.Destroyable),u=function(e){function t(t){var r,n,o=e.call(this)||this;return o._mainToolBar=t,o._myContainer=((r=o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromClass(a.MyContainer))).cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",r.container=o.mainToolBar.container,r),o._buttons=(n=c.sceneTreeItems[0].children.map((function(e){return o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromJson(e.sceneObj))})),o.myContainer.subIds=n.map((function(e){return e.id})),n),o.myContainer.createAppendedObjFunc=function(){return new l(o)},o}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttons",{get:function(){return this._buttons},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.PickingTool=u},7210:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;var i=r(32192),a=r(9675),s=function(e){function t(t){var r,n=e.call(this)||this;return n._mainToolBar=t,n._layoutDiv=((r=n.disposeVar(n.app.xe2ProjectManager.createSceneObjectFromClass(i.LayoutDiv))).backgroundColor=[1,1,1,.4],r.cssText="margin: 0 8px; width: 2px; height: 22px;",r.createAttachedObjFunc=function(){return new a.Destroyable},r.container=n.mainToolBar.container,r),n}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.Separator=s},50907:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ViewTool=void 0;var i=r(32192),a=r(9675),s=[{id:"af4f779a-c0ba-47aa-abf0-b5847258f125",type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    g_app.createSceneObjectOnTree('View', '');\r\n}",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 24 24"><g id="_01_align_center" data-name="01 align center"><path d="M23.821,11.181v0C22.943,9.261,19.5,3,12,3S1.057,9.261.179,11.181a1.969,1.969,0,0,0,0,1.64C1.057,14.739,4.5,21,12,21s10.943-6.261,11.821-8.181A1.968,1.968,0,0,0,23.821,11.181ZM12,19c-6.307,0-9.25-5.366-10-6.989C2.75,10.366,5.693,5,12,5c6.292,0,9.236,5.343,10,7C21.236,13.657,18.292,19,12,19Z"/><path d="M12,7a5,5,0,1,0,5,5A5.006,5.006,0,0,0,12,7Zm0,8a3,3,0,1,1,3-3A3,3,0,0,1,12,15Z"/></g></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:""},{id:"3868ca14-abc6-4e7c-9ce3-39413e5f087a",type:"CircleButton",name:"",clickFuncStr:"function () {\r\n    const position = [109.9112820829201, 28.462368481086383, 2643748.53092144];\r\n    const rotation = [352.89184039616697, -89.6025527075859, 0];\r\n    g_app.czmViewer.flyTo(position, 0, rotation);\r\n}",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><path d="M22,5.724V2c0-.552-.447-1-1-1s-1,.448-1,1v2.366L14.797,.855c-1.699-1.146-3.895-1.146-5.594,0L2.203,5.579c-1.379,.931-2.203,2.48-2.203,4.145v9.276c0,2.757,2.243,5,5,5h3c.553,0,1-.448,1-1V15c0-.551,.448-1,1-1h4c.552,0,1,.449,1,1v8c0,.552,.447,1,1,1h3c2.757,0,5-2.243,5-5V9.724c0-1.581-.744-3.058-2-4Zm0,13.276c0,1.654-1.346,3-3,3h-2v-7c0-1.654-1.346-3-3-3h-4c-1.654,0-3,1.346-3,3v7h-2c-1.654,0-3-1.346-3-3V9.724c0-.999,.494-1.929,1.322-2.487L10.322,2.513c1.02-.688,2.336-.688,3.355,0l7,4.724c.828,.558,1.322,1.488,1.322,2.487v9.276Z"/></svg>',hoveredImageSize:.65,backgroundColor:[0,0,0,0],borderWidth:0,tooltip:"",tooltipMenuStrings:["","",""],tooltipClickFuncStr:'function (index, text, mouseEvent) {\r\n    const  = {\r\n        "position": [\r\n            116.39510490885112,\r\n            39.90405407647041,\r\n            11573.14757982702\r\n        ],\r\n        "rotation": [\r\n            358.76142979719464,\r\n            -82.33136188246179,\r\n            0.019115855030535922\r\n        ],\r\n    };\r\n\r\n    const  = {\r\n        "position": [\r\n            121.47429122242828,\r\n            31.223002345003035,\r\n            10529.404397856637\r\n        ],\r\n        "rotation": [\r\n            358.7577922301561,\r\n            -82.35394895472199,\r\n            0.022786151213159276\r\n        ],\r\n    };\r\n\r\n    const  = {\r\n        "position": [\r\n            120.70833981009432,\r\n            23.17632779580042,\r\n            286596.9692761522\r\n        ],\r\n        "rotation": [\r\n            1.3091686043179465,\r\n            -82.94501480447649,\r\n            0.005866183163960074\r\n        ],\r\n    }\r\n\r\n    const views = [, , ];\r\n\r\n    const v = views[index];\r\n    g_app.czmViewer.flyTo(v.position, 0, v.rotation);\r\n\r\n}'}],c=function(e){function t(t){var r,n,o=e.call(this)||this;return o._mainToolBar=t,o._myContainer=((r=o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromClass(i.MyContainer))).cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",r.container=o.mainToolBar.container,r),o._circleButtons=(n=s.map((function(e){return o.disposeVar(o.app.xe2ProjectManager.createSceneObjectFromJson(e))})),o.myContainer.subIds=n.map((function(e){return e.id})),n),o}return o(t,e),Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.mainToolBar.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myContainer",{get:function(){return this._myContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleButtons",{get:function(){return this._circleButtons},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.ViewTool=c},99826:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(53274),t)},88086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickingTypes=void 0,t.pickingTypes=[["","EditingOnPicking"],["","PropOnPicking"],["","None"]]},61817:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.PropOnPicking=t.PropOnPickingRunning=void 0;var l=r(32192),u=s(r(81557)),f=r(80468),p=r(51355),d=r(32292),h=function(e){function t(t){var r,n=e.call(this)||this;return n._propOnPicking=t,n._sceneObjectPicking=(r=n.app.xe2ProjectManager.createSceneObjectFromClass(l.MySceneObjectPicking),n.dispose((function(){n.app.xe2ProjectManager.destroySceneObject(r)})),r.enableClick=!0,r.enableHover=!0,r.enabled=!0,r.showHoveredProps=!0,r.enableFeatureColor=!1,r.onPickedResultFunc=function(e){do{if(!e)break;var t=e.czmPickedResult,r=e.clickedProps;if(!t)break;if(!(t instanceof u.Cesium3DTileFeature))break;var o=t,i=o.getProperty("id");if(n.app.czm3dtilesStyleListening.style.color={evaluateColor:function(e,t){do{if(e.tileset!==o.tileset)break;if(e.getProperty("id")!==i)break;return new u.Color(1,0,0,1)}while(0);return t}},n.app.czm3dtilesStyleListening.makeStyleDirty(),r){var a=e.sceneObjectPickedInfo;if(!a)return;var s=c((0,d.parseCzmPickResult)(a),1)[0];n.propOnPicking.owner.pickedInfoEvent.emit(s,a);var l=a.sceneObject;if(!(l instanceof f.ESSceneObject))return;var p=n.app.sceneTree.sceneObjectItems.get(l);if(!p)return;n.app.sceneTree.clearAllSelectedItems(),p.selected=!0}return}while(0);var h=n.app.czm3dtilesStyleListening,g=h.style;g&&(g.color=void 0,h.makeStyleDirty())},r),n}return o(t,e),Object.defineProperty(t.prototype,"propOnPicking",{get:function(){return this._propOnPicking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this._propOnPicking.app},enumerable:!1,configurable:!0}),t}(p.Destroyable);t.PropOnPickingRunning=h;var g=function(e){function t(t){var r=e.call(this,t)||this;return r._enabled=r.disposeVar((0,p.react)(!1)),r._objResetting=r.disposeVar(new f.ObjResettingWithEvent(r.enabledChanged,(function(){if(r.enabled)return new h(r)}))),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this.owner.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),t}(p.HasOwner);t.PropOnPicking=g},32292:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCzmPickResult=void 0;var n=r(80468),o=r(60278);t.parseCzmPickResult=function(e){var t={type:"unknow",json:{},funcs:{}},r=e.sceneObject;t.json.={:r.typeName,ID:r.id,:r.name};for(var i=e,a=void 0;i;){if(i instanceof n.CzmPickedInfo){a=i.czmPickResult;break}i=i.childPickedInfo}if(a)do{if(!(0,o.parseCzmPickResultForCesium3DTileset)(a,t))break}while(0);return[t,a]}},60278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCzmPickResultForCesium3DTileset=void 0,t.parseCzmPickResultForCesium3DTileset=function(e,t){if(!(e.primitive&&e.primitive instanceof Cesium.Cesium3DTileset))return!1;t.type="Cesium3DTileset";var r,n=t.json,o=t.funcs;try{n.asset=e.primitive.asset}catch(e){console.warn("parseCzmPickResult asset warn ".concat(e),e)}try{r=r||e.content._model}catch(e){console.warn("czmPickResult.content._model error")}try{r=r||e.detail.model}catch(e){console.warn("czmPickResult.detail.model error")}try{var i=decodeURIComponent(r.content.url);n.=i}catch(e){console.warn("parseCzmPickResult  warn ".concat(e),e)}try{var a=Object.keys(r.statistics).filter((function(e){return!e.startsWith("_")})).map((function(e){return[e,r.statistics[e]]}));n.=Object.fromEntries(a)}catch(e){console.warn("parseCzmPickResult  warn ".concat(e),e)}try{"getPropertyIds"in e&&(a=e.getPropertyIds().map((function(t){return[t,e.getProperty(t)]})),n.=Object.fromEntries(a))}catch(e){console.warn("parseCzmPickResult  warn ".concat(e),e)}try{o.=function(){try{r.color=new Cesium.Color(1,0,0,1)}catch(e){console.error("  ".concat(e)),console.error(e)}},o.=function(){try{r.color=new Cesium.Color(1,1,1,1)}catch(e){console.error("  ".concat(e)),console.error(e)}}}catch(e){console.warn("parseCzmPickResult funcs warn ".concat(e),e)}var s=void 0;try{0!==(c=e.content._model.sceneGraph._runtimeNodes[0].runtimePrimitives.map((function(e){var t,r,n,o;return null===(o=null===(n=null===(r=null===(t=e.primitive)||void 0===t?void 0:t.material)||void 0===r?void 0:r.metallicRoughness)||void 0===n?void 0:n.baseColorTexture)||void 0===o?void 0:o.texture})).filter((function(e){return void 0!==e}))).length&&(s=c)}catch(e){console.warn("textures warn")}if(!s)try{var c;0!==(c=e.detail.node.runtimePrimitives.map((function(e){var t,r,n,o;return null===(o=null===(n=null===(r=null===(t=e.primitive)||void 0===t?void 0:t.material)||void 0===r?void 0:r.metallicRoughness)||void 0===n?void 0:n.baseColorTexture)||void 0===o?void 0:o.texture})).filter((function(e){return void 0!==e}))).length&&(s=c)}catch(e){console.warn("textures warn")}try{s&&(n.s=s.map((function(e){var t;t=e._internalFormat===WebGL2RenderingContext.RGBA?"(".concat(e._internalFormat,")"):[33776,33777,33778,33779].some((function(t){return t===e._internalFormat}))?"(".concat(e._internalFormat,")"):"(".concat(e._internalFormat,")");var r=e._dimensions,n=r.x,o=r.y;return{:"",:t,:"".concat(n," x ").concat(o)}})))}catch(e){console.warn("parseCzmPickResult  warn ".concat(e),e),n.={:""}}return!0}},38461:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Picking=void 0;var i=r(51355),a=r(61817),s=function(e){function t(t){var r,n=e.call(this,t)||this;return n._pickedInfoEvent=n.disposeVar(new i.Event),n._propOnPicking=n.disposeVar(new a.PropOnPicking(n)),n._type=n.disposeVar((0,i.react)("None")),n._typeInit=((r=function(){n.propOnPicking.enabled="PropOnPicking"===n.type,n.appProjectManager.xe2ProjectManager.editingOnPicking="EditingOnPicking"===n.type})(),void n.dispose(n.typeChanged.disposableOn(r))),n}return o(t,e),Object.defineProperty(t.prototype,"appProjectManager",{get:function(){return this.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedInfoEvent",{get:function(){return this._pickedInfoEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propOnPicking",{get:function(){return this._propOnPicking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type.value},set:function(e){this._type.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"typeChanged",{get:function(){return this._type.changed},enumerable:!1,configurable:!0}),t}(i.HasOwner);t.Picking=s},40499:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectFileManager=void 0;var s=r(51355),c=r(40520),l=r(48438);function u(e){return new Promise((function(t){var r=document.createElement("script");r.src=e,document.body.appendChild(r),r.onload=function(){URL.revokeObjectURL(e),t()}}))}var f=function(){return i(void 0,void 0,void 0,(function(){var e,t,r;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,(0,c.getOpenFileHandle)("js")];case 1:return(e=n.sent())?[4,(0,c.getTextFromFile)(e)]:[2];case 2:return(t=n.sent())?[4,u(URL.createObjectURL(new Blob([t],{type:"text/javascript"})))]:[2];case 3:return n.sent(),[3,5];case 4:return r=n.sent(),console.error("! error: ".concat(r),r),[3,5];case 5:return[2]}}))}))},p=function(){return i(void 0,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),(e=window.prompt("JS","http://www.czmtoy.com/xxx.js"))?[4,u(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},d=function(e){function t(t){var r=e.call(this,t)||this;return r._fileName=r.disposeVar((0,s.react)("")),r._jsonFileHandle=void 0,r}return o(t,e),Object.defineProperty(t.prototype,"appProjectManager",{get:function(){return this.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileName",{get:function(){return this._fileName.value},set:function(e){this._fileName.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileNameChanged",{get:function(){return this._fileName.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonFileHandle",{get:function(){return this._jsonFileHandle},enumerable:!1,configurable:!0}),t.prototype._setJsonFileHandle=function(e){this._jsonFileHandle=e,this.fileName=e?e.name:""},t.prototype.openJsFile=function(){return t.openJsFile()},t.prototype.loadJsPath=function(){return t.loadJsPath()},t.prototype.open=function(){return i(this,void 0,void 0,(function(){var e,t,r;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,(0,c.getOpenM3tFileHandle)()];case 1:return(e=n.sent())?[4,(0,c.getTextFromFile)(e)]:[2];case 2:return(t=n.sent())?(this._setJsonFileHandle(e),r=JSON.parse(t),this.appProjectManager.json=r,(0,l.setSD)(""),[3,4]):[2];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.saveAs=function(){return i(this,void 0,void 0,(function(){var e,t,r,n,o,i;return a(this,(function(a){switch(a.label){case 0:e=this.appProjectManager.json,t=this.appProjectManager.asset.name,a.label=1;case 1:if(a.trys.push([1,4,,5]),""===t){if(!(r=prompt("","")))return[2];this.appProjectManager.asset.name=r,t=r}return n=(0,c.compactFormatDate)(new Date),[4,(0,c.getSaveM3tFileHandle)(t+"_".concat(n))];case 2:return(o=a.sent())?(i=JSON.stringify(e,void 0,"    "),[4,(0,c.saveFile)(o,i)]):[2];case 3:return a.sent(),this._setJsonFileHandle(o),[3,5];case 4:return a.sent(),[3,5];case 5:return[2]}}))}))},t.prototype.save=function(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(r){switch(r.label){case 0:return e=this.appProjectManager.json,this.jsonFileHandle?[3,1]:(this.saveAs(),[3,5]);case 1:return r.trys.push([1,4,,5]),t=JSON.stringify(e,void 0,"    "),[4,(0,c.requestWriteAccess)(this.jsonFileHandle)];case 2:return r.sent(),[4,(0,c.saveFile)(this.jsonFileHandle,t)];case 3:case 4:return r.sent(),[3,5];case 5:return[2]}}))}))},t.openJsFile=f,t.loadJsPath=p,t}(s.HasOwner);t.ProjectFileManager=d},22263:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Title=void 0;var i=r(51355),a=function(e){function t(t){var r=e.call(this,t)||this;r._text=r.disposeVar((0,i.react)("My3dtiles"));var n=function(){document.title=r.text};return n(),r.dispose(r.textChanged.disposableOn(n)),r}return o(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._text.value},set:function(e){this._text.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textChanged",{get:function(){return this._text.changed},enumerable:!1,configurable:!0}),t}(i.HasOwner);t.Title=a},99439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseScene=void 0,t.baseScene={asset:{type:"My3dtiles",version:"0.1.0",createdTime:"2024-03-18T07:55:59.569Z",modifiedTime:"2024-03-18T07:56:51.825Z",name:""},sceneTree:{root:{name:"root"}},builtin:{czmViewer:{type:"CzmViewer",show:!0,actived:!0,name:"",ref:"v",sceneSsccZoomFactor:2},offlineImagery:{type:"CzmImagery",imageryProvider:{type:"TileMapServiceImageryProvider",url:"${czm-path}/Assets/Textures/NaturalEarthII"},zIndex:-2,name:""},baseImagery:{type:"CzmImagery",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"],minimumLevel:0,maximumLevel:18},zIndex:-1,name:""},czmTerrain:{type:"CzmTerrain",show:!1,provider:{type:"CesiumTerrainProvider",url:"ion://1",requestVertexNormals:!0},name:"Cesium"},czmClassicNavigator:{type:"CzmClassicNavigator",name:""},lastView:{type:"View",name:""},initOptions:{type:"M3tInitOptions",name:""}}}},6792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.helps=void 0,t.helps={uris:{EChartsDiv:"https://www.wolai.com/vtxf/rZgLxXbarsKpiwWztSnFrf?theme=dark",EChartsDivVideo:"https://www.bilibili.com/video/BV19z421Z7LH?p=13&vd_source=c888fb940b2e8bdeccb96ccc826cf6c2",commands:{:"https://www.wolai.com/vtxf/eMoGVG8knTw3H1bL7oAXhv?theme=dark",web:"https://www.wolai.com/vtxf/48UMs5UddUDYqPTvh2wvcj?theme=dark",:"https://www.wolai.com/vtxf/rv4wt46sFQqV2nRXKcLLMR?theme=dark",:"https://www.wolai.com/vtxf/vQMYj3hGFeQ8RjTsde5hLm?theme=dark",CanvasPoi:"https://www.wolai.com/vtxf/bo9Ho2TvAvAdvaF1zjxoGS?theme=dark",:"https://www.wolai.com/vtxf/g5iskahcGrsPQeAKrK8ASD?theme=dark",:"https://www.wolai.com/vtxf/9z1T9CtkhMmWKKkU73iFCo?theme=dark",CanvasPoi2:"https://www.wolai.com/vtxf/bo9Ho2TvAvAdvaF1zjxoGS?theme=dark",:"https://www.wolai.com/vtxf/9aQ3CDkPGHpWMwkspmyMyf?theme=dark",:"https://www.wolai.com/vtxf/o9o71n9NZm4WgcTd4V2Ftt?theme=dark",:"https://www.wolai.com/vtxf/oAXBwG4bTkh42A7nPL9tmc?theme=dark",GLTF:"https://www.wolai.com/vtxf/mxtpPA5FH4bpuM5vZaPn72?theme=dark",:"https://www.wolai.com/vtxf/sKtqfKKsJDLQy13NsZKhdf?theme=dark",UI:"https://www.wolai.com/vtxf/te7Capwy1YAYx36S3oSrSS?theme=dark",:"https://www.wolai.com/vtxf/d2yDRVWAJFp8qutzfV4E5i?theme=dark",:"https://www.wolai.com/vtxf/qXGdtBWW3XALMeu7pZXev9?theme=dark",:"https://www.wolai.com/vtxf/aydsMu4cRnRjV4xfNZDgh3?theme=dark",:"https://www.wolai.com/vtxf/itFWmcrCqhyDcmMBmuSzL8?theme=dark","YLJ(UI)":"https://www.wolai.com/vtxf/sGthxbw26BiENZYmKby3rh?theme=dark",:"https://www.wolai.com/vtxf/7MY8erxQYjuu9Akabxmens?theme=dark",:"https://www.wolai.com/vtxf/3Y2EekaKSe31LmMmGsZpP8?theme=dark"},misc:{:"https://www.wolai.com/vtxf/6A5ZfNZjrfKhibD7wKNqyA?theme=dark",:"https://www.wolai.com/vtxf/8EMB7QXDBWxhTTNubw7xyP?theme=dark",:"https://www.wolai.com/vtxf/k38tLCVdDY2nd6CmsCuDkZ?theme=dark",:"https://www.wolai.com/vtxf/ughysuhCcGdVZLSd5VSXNf?theme=dark",:"https://www.wolai.com/vtxf/cGmi9m3gCbwcWWYSoua8Gh?theme=dark",:"https://czmtoy.com/p/my3dtiles/download.html?theme=dark",:"https://www.wolai.com/vtxf/q6TufB28R1ERR1Cea4NEUn?theme=dark",:"https://czmtoy.com/p/my3dtiles/manual.html?theme=dark",:"https://czmtoy.com/p/my3dtiles/quickstart.html?theme=dark",WEB:"https://www.wolai.com/vtxf/48UMs5UddUDYqPTvh2wvcj?theme=dark"}}}},97288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.views=void 0;var n=r(99439),o=r(61358);Object.defineProperty(t,"views",{enumerable:!0,get:function(){return o.views}});var i=r(6792);t.config={uris:{helper:"https://czmtoy.com/p/my3dtiles/manual.html",update:"https://czmtoy.com/p/my3dtiles/download.html"},scenes:{baseScene:n.baseScene},views:o.views,helps:i.helps}},61358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.views=void 0,t.views={globe:{position:[110.34196201821597,39.023353003313744,6708605.428319561],rotation:[353.3139474311778,-89.58075642376554,0]},china:{position:[109.9112820829201,28.462368481086383,2643748.53092144],rotation:[352.89184039616697,-89.6025527075859,0]},beijing:{position:[116.37399916831409,39.93292141462169,48315.17320042409],rotation:[359.8583800783074,-89.81031650776073,0]}}},1067:(e,t)=>{"use strict";function r(e,t,r,n,o){var i,a;void 0===n&&(n=!0);var s=null!==(i=null==o?void 0:o.currentTreeItem)&&void 0!==i?i:e.sceneTree.getCurrentItem(),c=null==o?void 0:o.flag,l=e.sceneTree.createItemWithSceneObject(t,s,c);if(l){l.name=null!==(a=null!=r?r:t.name)&&void 0!==a?a:"",e.sceneTree.clearAllSelectedItems(),l.selected=!0;var u=l.sceneObj;if(u)return n&&e.initSceneObjectOnCreatingFunc(u),u;console.warn("item.sceneObj is undefined!")}else console.warn("app.sceneTree.createItemWithSceneObject error!")}Object.defineProperty(t,"__esModule",{value:!0}),t.createSceneObjectFromJsonOnTree=t.createSceneObjectClassOnTree=t.createSceneObjectOnTree=void 0,t.createSceneObjectOnTree=function(e,t,n,o,i){return void 0===o&&(o=!0),r(e,{type:t},n,o,i)},t.createSceneObjectClassOnTree=function(e,t,n,o,i){return void 0===o&&(o=!0),r(e,{type:t.type},n,o,i)},t.createSceneObjectFromJsonOnTree=r},32759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultInitSceneObjectOnCreatingFunc=void 0,t.defaultInitSceneObjectOnCreatingFunc=function(e){["Czm3DTiles","View","ESCameraView","OlView","GeoCameraController"].includes(e.typeName)||(Reflect.has(e,"editing")?e.editing=!0:Reflect.has(e,"positionEditing")&&(e.positionEditing=!0)),"function"==typeof e.execOnCreating&&e.execOnCreating()}},74587:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalFileUrl=void 0;var i=r(59645);t.getLocalFileUrl=function(e){return n(this,void 0,void 0,(function(){var t,r,n,a;return o(this,(function(o){switch(o.label){case 0:return[4,e.prompt("","")];case 1:return(t=o.sent())?(r="${LF}".concat(t),n=i.SceneObject.context.getStrFromEnv(r),[4,e.dialog({title:"URL",text:"1(): ".concat(r,"\n2(): ").concat(n),buttons:[{result:"copy1",text:"1"},{result:"copy2",text:"2"},{result:"cancel",text:""}]})]):[2];case 2:return(a=o.sent()).result&&["copy1","copy2"].includes(a.result)?"copy1"!==a.result?[3,4]:[4,navigator.clipboard.writeText(r)]:[2];case 3:return o.sent(),[3,6];case 4:return"copy2"!==a.result?[3,6]:[4,navigator.clipboard.writeText(n)];case 5:o.sent(),o.label=6;case 6:return alert("URL"),[2]}}))}))}},70986:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getM3toJsonFromCesiumLab=void 0;var i=r(9675);t.getM3toJsonFromCesiumLab=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,a,s,c,l,u,f,p,d,h,g,y,m,v;return o(this,(function(o){switch(o.label){case 0:return[4,i.ui.prompt("CesiumLabiplocalhost:9003","http://localhost:9003")];case 1:return(e=o.sent())?(t=["","","(3dtiles)"],[4,i.ui.select(t,"")]):(console.warn("server"),[2]);case 2:return void 0===(r=o.sent())?(console.warn(""),[2]):0!==r?[3,11]:[4,(0,i.fetchJson)("".concat(e,"/terrain?key=&start=&end=&page=1&pagecap=50&type=&sortfield=&sort="))];case 3:return(g=o.sent())?[3,5]:(console.warn("CesiumLab"),[4,i.ui.alert("CesiumLab")]);case 4:case 6:case 9:case 13:case 15:case 18:case 22:case 24:case 27:return o.sent(),[2];case 5:return"ok"!==g.status?(console.warn("result.status !== 'ok'"),[2]):0!==g.terrains.rows.length?[3,7]:(console.warn("CesiumLab"),[4,i.ui.alert("CesiumLab")]);case 7:return n=g.terrains.rows.map((function(e){return"".concat(e.name,"(").concat(e._id,")-").concat(e.date)})),[4,i.ui.select(n,"")];case 8:return void 0!==(a=o.sent())?[3,10]:(console.warn(""),[4,i.ui.alert("")]);case 10:return s=g.terrains.rows[a],f=s.west,p=s.south,d=s.east,h=s.north,[2,{type:"CzmTerrain",provider:{type:"CesiumTerrainProvider",url:"".concat(e,"/terrain/").concat(s._id)},name:"".concat(s.name,"(").concat(s._id,")"),rectangle:[f,p,d,h]}];case 11:return 1!==r?[3,20]:[4,(0,i.fetchJson)("".concat(e,"/image?key=&start=&end=&page=1&pagecap=50&type=sanlieandjincou&sortfield=&sort="))];case 12:return(g=o.sent())?[3,14]:(console.warn("CesiumLab"),[4,i.ui.alert("CesiumLab")]);case 14:return"ok"!==g.status?(console.warn("result.status !== 'ok'"),[2]):0!==g.images.rows.length?[3,16]:(console.warn("CesiumLab"),[4,i.ui.alert("CesiumLab")]);case 16:return c=g.images.rows.map((function(e){return"".concat(e.name,"(").concat(e._id,")-").concat(e.date)})),[4,i.ui.select(c,"")];case 17:return void 0!==(l=o.sent())?[3,19]:(console.warn(""),[4,i.ui.alert("")]);case 19:return u=g.images.rows[l],f=u.west,p=u.south,d=u.east,h=u.north,[2,{type:"CzmImagery",name:"".concat(u.name,"(").concat(u._id,")"),imageryProvider:{type:"UrlTemplateImageryProvider",url:"".concat(e,"/image/wmts/").concat(u._id,"/{z}/{x}/{y}"),maximumLevel:u.maxzoom,minimumLevel:u.minzoom},rectangle:[f,p,d,h]}];case 20:return 2!==r?[3,29]:[4,(0,i.fetchJson)("".concat(e,"/model/?key=&start=&end=&page=1&pagecap=50&type="))];case 21:return(g=o.sent())?[3,23]:(console.warn("CesiumLab"),[4,i.ui.alert("CesiumLab")]);case 23:return"ok"!==g.status?(console.warn("result.status !== 'ok'"),[2]):0!==g.models.rows.length?[3,25]:(console.warn("CesiumLab(3dtiles)"),[4,i.ui.alert("CesiumLab(3dtiles)")]);case 25:return y=g.models.rows.map((function(e){return"".concat(e.name,"(").concat(e._id,")-").concat(e.version,"-").concat(e.date)})),[4,i.ui.select(y,"(3dtiles)")];case 26:return void 0!==(m=o.sent())?[3,28]:(console.warn(""),[4,i.ui.alert("")]);case 28:return v=g.models.rows[m],[2,{type:"Czm3DTiles",name:"".concat(v.name,"(").concat(v._id,")"),url:"".concat(e,"/model/").concat(v._id,"/tileset.json")}];case 29:return[2,void 0]}}))}))}},39240:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeFromFilePath=void 0,t.getTypeFromFilePath=function(e){var t=void 0;return e.endsWith(".m3t.json")||e.endsWith(".m3tjson")?t="m3t":e.endsWith(".m3tojson")?t="m3tobj":e.endsWith("tileset.json")?t="3dtiles":e.endsWith(".czml")?t="czml":e.endsWith(".geojson")||e.endsWith(".topojson")?t="geojson":e.endsWith(".kml")||e.endsWith(".kmz")?t="kml":e.endsWith(".glb")||e.endsWith(".gltf")?t="gltf":e.endsWith(".json")?t="3dtiles":[".jpg",".png",".svg",".webp","gif","mp4","mov","webm","flv","m3u8"].some((function(t){return e.endsWith(t)}))?t="image":e.endsWith(".js")?t="js":e.endsWith(".html")?t="html":e.endsWith(".obj")?t="obj":(console.error("filepath: ".concat(e)),console.error("".concat(e))),t}},22878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNameFromPath=void 0,t.getNameFromPath=function(e){var t;return null!==(t=e.split(/[\/\\]+/).pop())&&void 0!==t?t:e}},16390:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataFromDir=void 0;var i=r(51355),a=r(78224),s=r(66271);t.loadDataFromDir=function(e,t,r){return n(this,void 0,void 0,(function(){var n,c,l;return o(this,(function(o){switch(o.label){case 0:return n=e.sceneTree.getCurrentItem(),i.os.wrap?[4,i.os.wrap.fs.isDir(t)]:[2,!1];case 1:return o.sent()?[4,(0,s.recursiveReadDir)(t)]:[2,!1];case 2:return 0===(c=o.sent()).children.length?[2,!1]:(l=n.sceneObj?"After":"Inner",(r=r||{}).batch=!0,(0,a.recursiveCreateSceneTree)(e,c,n,l,r),[2,!0])}}))}))}},78224:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.recursiveCreateSceneTree=void 0;var c=r(22878),l=r(42024);t.recursiveCreateSceneTree=function(e,t,r,u,f){return void 0===u&&(u="Inner"),o(this,void 0,void 0,(function(){var o,p;return i(this,(function(d){switch(d.label){case 0:o="children"in t?t.children.map((function(e){return[e,r,u]})):[[t,r,u]],p=function(){var t,r,u,p,d,h,g;return i(this,(function(i){switch(i.label){case 0:return(t=o.pop())?(r=a(t,3),u=r[0],p=r[1],d=r[2],"children"in u?(h=p.tree.createSceneTreeItem(p,d))?(h.name=(0,c.getNameFromPath)(u.dir),o.push.apply(o,s([],a(u.children.map((function(e){return[e,h,"Inner"]}))),!1)),[2,"continue"]):(console.error(""),[2,"continue"]):u.type?(g="${LF}"+u.path,[4,(0,l.loadDataFromUrl)(e,g,n(n({},f),{suggestType:u.type,insertTreeItem:p,insertFlag:"Inner"}))]):[3,2]):[2,"break"];case 1:i.sent(),i.label=2;case 2:return[2]}}))},d.label=1;case 1:return[5,p()];case 2:if("break"===d.sent())return[3,4];d.label=3;case 3:return[3,1];case 4:return[2]}}))}))}},66271:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.recursiveReadDir=void 0;var s=r(51355),c=r(39240),l=r(22878),u=r(49119);t.recursiveReadDir=function(e){var t;return n(this,void 0,void 0,(function(){var r,n,f,p,d,h,g,y,m,v,b,w,_,P,x,O,C,S,E,M,j;return o(this,(function(o){switch(o.label){case 0:n=[[e,!0,r={type:"group",dir:"",children:[]}]],o.label=1;case 1:if(!(f=n.pop()))return[3,16];p=i(f,3),d=p[0],h=p[1],g=p[2],o.label=2;case 2:return h?s.os.wrap?[4,s.os.wrap.fs.readDir(d)]:[3,15]:void 0===(y=(0,c.getTypeFromFilePath)(d))?[3,15]:"m3t"===y?(console.warn("m3tjson!(".concat(d,")")),[3,15]):(g.children.push({type:y,path:d}),[3,15]);case 3:return m=o.sent(),v={type:"group",dir:d,children:[]},g.children.push(v),b=!1,w=null===(t=m.find((function(e){return"tileset.json"===e.name})))||void 0===t?void 0:t.path,(_=w)?[4,(0,u.maybe3DTilesLocalFilePath)(w)]:[3,5];case 4:_=o.sent(),o.label=5;case 5:_&&(v.children.push({type:"3dtiles",path:w}),b=!0),o.label=6;case 6:o.trys.push([6,11,12,13]),M=void 0,P=a(m),x=P.next(),o.label=7;case 7:return x.done?[3,10]:"tileset.json"===(E=x.value).name?[3,9]:E.path.endsWith(".json")?[4,(0,u.maybe3DTilesLocalFilePath)(E.path)]:[3,9];case 8:o.sent()&&(v.children.push({type:"3dtiles",path:E.path}),b=!0),o.label=9;case 9:return x=P.next(),[3,7];case 10:return[3,13];case 11:return O=o.sent(),M={error:O},[3,13];case 12:try{x&&!x.done&&(j=P.return)&&j.call(P)}finally{if(M)throw M.error}return[7];case 13:if(b)return[3,15];for(C=m.length,S=C-1;S>=0;--S)E=m[S],(0,l.getNameFromPath)(E.path).startsWith(".")||n.push([E.path,!!E.children,v]);o.label=14;case 14:o.label=15;case 15:return[3,1];case 16:return[2,r]}}))}))}},79764:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataFromLocalFilePath=void 0;var i=r(51355),a=r(16390),s=r(42024);t.loadDataFromLocalFilePath=function(e,t,r){var c;return n(this,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:return i.os.wrap?[4,i.os.wrap.fs.exists(t)]:(console.warn(""),[2]);case 1:return o.sent()?(r=r||{},[4,i.os.wrap.fs.isDir(t)]):(console.warn(""),[2]);case 2:return o.sent()?(r.batch=!0,[4,(0,a.loadDataFromDir)(e,t)]):[3,4];case 3:return o.sent(),[3,6];case 4:return n="${LF}"+t,r.batch=null!==(c=r.batch)&&void 0!==c&&c,[4,(0,s.loadDataFromUrl)(e,n,r)];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))}},45759:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataFromUrlOrFilePath=void 0;var i=r(59645),a=r(79764),s=r(42024);t.loadDataFromUrlOrFilePath=function(e,t,r){return n(this,void 0,void 0,(function(){var n,c,l,u;return o(this,(function(o){switch(o.label){case 0:return(n=i.SceneObject.context.getStrFromEnv(t)).startsWith("http://")||n.startsWith("https://")?(c=t,r=r||{},[4,(0,s.loadDataFromUrl)(e,c,r)]):[3,2];case 1:return o.sent(),[3,4];case 2:return l=t.startsWith("file:///"),u=l?t.slice(8):t,[4,(0,a.loadDataFromLocalFilePath)(e,u,r)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}},88156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilePathFromUrl=void 0;var n=r(59645);t.getFilePathFromUrl=function(e){var t=n.SceneObject.context.getStrFromEnv(e);return new URL(t).pathname}},59010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNameFromUrl=void 0;var n=r(59645);t.getNameFromUrl=function(e){var t=n.SceneObject.context.getStrFromEnv(e),r=new URL(t).pathname;return decodeURI(r).split("/").pop()}},40891:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParamsForSceneTreeItemCreating=void 0,t.getParamsForSceneTreeItemCreating=function(e,t){var r=t&&t.sceneTree||e.sceneTree,n=t&&t.insertTreeItem||r.getCurrentItem(),o=t&&t.insertFlag;n===r.root&&(o="Inner");var i=t&&t.flyTo||!1,a=t&&t.editing||!1,s=t&&t.batch||!1;return{sceneTree:r,insertItem:n,insertFlag:o,flyTo:i,editing:a,position:t&&t.position,batch:s}}},42024:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataFromUrl=void 0;var a=r(51355),s=r(39240),c=r(88156),l=r(27530),u=r(55902),f=r(58559),p=r(39039),d=r(49215),h=r(60113),g=r(26337),y=r(24904),m=r(58771),v=r(11361);t.loadDataFromUrl=function(e,t,r){return o(this,void 0,void 0,(function(){var o,b,w,_;return i(this,(function(i){switch(i.label){case 0:return void 0===(o=r&&r.suggestType||(0,s.getTypeFromFilePath)((0,c.getFilePathFromUrl)(t)))?(console.warn(""),[2,void 0]):"m3t"!==o?[3,1]:(a.ui.alert(""),[2,void 0]);case 1:return"3dtiles"!==o?[3,3]:((b=(r||{}).name)||(w=function(e){var t;return null===(t=/.*[\\\/]([^\\\/]*)[\\\/]([^\\\/]*)/.exec(e))||void 0===t?void 0:t[1]}(t),_=function(e){var t;return null===(t=/.*[\\\/]([^\\\/]*)[\\\/]([^\\\/]*)/.exec(e))||void 0===t?void 0:t[2]}(t),b=w+"_"+_,r=n(n({},r),{name:b})),[4,(0,l.loadCzm3DTiles)(e,t,r)]);case 2:return[2,i.sent()];case 3:return"m3tobj"!==o?[3,5]:[4,(0,m.loadM3tObject)(e,t,r)];case 4:return[2,i.sent()];case 5:return"czml"!==o?[3,7]:[4,(0,u.loadCzml)(e,t,r)];case 6:return[2,i.sent()];case 7:return"geojson"!==o?[3,9]:[4,(0,f.loadGeoJson)(e,t,r)];case 8:return[2,i.sent()];case 9:return"kml"!==o?[3,11]:[4,(0,y.loadKml)(e,t,r)];case 10:return[2,i.sent()];case 11:return"gltf"!==o?[3,13]:[4,(0,p.loadGltf)(e,t,r)];case 12:return[2,i.sent()];case 13:return"image"!==o?[3,15]:[4,(0,h.loadImage)(e,t,r)];case 14:return[2,i.sent()];case 15:return"js"!==o?[3,17]:[4,(0,g.loadJs)(e,t,r)];case 16:return[2,i.sent()];case 17:return"html"!==o?[3,19]:[4,(0,d.loadHtml)(e,t,r)];case 18:return[2,i.sent()];case 19:return"obj"!==o?[3,21]:[4,(0,v.loadObj)(e,t,r)];case 20:return[2,i.sent()];case 21:console.warn("My3dtiles"),i.label=22;case 22:return[2,void 0]}}))}))}},16347:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.isSceneObjectType=void 0;var o=r(59645);t.isSceneObjectType=function(e){var t,r;try{for(var i=n(o.SceneObject.context.typeNames),a=i.next();!a.done;a=i.next())if(a.value===e)return!0}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1}},27530:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.loadCzm3DTiles=void 0;var a=r(59645),s=r(40891),c=r(59010);t.loadCzm3DTiles=function(e,t,r){return n(this,void 0,void 0,(function(){var n,l,u,f,p,d,h,g,y,m,v,b,w;return o(this,(function(o){switch(o.label){case 0:return n=(0,s.getParamsForSceneTreeItemCreating)(e,r),l=n.sceneTree,u=n.insertItem,f=n.insertFlag,p=n.flyTo,d=n.batch,h=r&&r.name||(0,c.getNameFromUrl)(t)||"",g=e.tryUseSceneDir(t),(y=l.createItemWithSceneObject({type:"Czm3DTiles",url:g,name:h},u,f))?(m=null==y?void 0:y.sceneObj,v=i((0,a.getPromiseFromEvent)(m.czmTilesetReadyEvent),2),b=v[0],w=v[1],(0,a.setPromiseCancel)(w,b),[4,w]):(console.warn("Czm3DTiles".concat(g)),[2]);case 1:return o.sent(),d&&!p||m.flyTo(),[2,y]}}))}))}},55902:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadCzml=void 0;var i=r(59645),a=r(59010),s=r(40891);t.loadCzml=function(e,t,r){return n(this,void 0,void 0,(function(){var n,c,l,u,f,p,d,h,g;return o(this,(function(o){switch(o.label){case 0:return n=(0,s.getParamsForSceneTreeItemCreating)(e,r),c=n.sceneTree,l=n.insertItem,u=n.insertFlag,n.position,f=n.flyTo,n.editing,p=r&&r.name||(0,a.getNameFromUrl)(t)||"Czml",d=e.tryUseSceneDir(t),(h=c.createItemWithSceneObject({type:"CzmCzml",uri:d,name:p},l,u))?(g=null==h?void 0:h.sceneObj,f?[4,(0,i.sleep)(200)]:[3,2]):(console.warn("CzmModelPrimitive".concat(d)),[2]);case 1:o.sent(),g.flyTo(),o.label=2;case 2:return[2,h]}}))}))}},58559:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadGeoJson=void 0;var i=r(51355),a=r(59645),s=r(59010),c=r(40891);t.loadGeoJson=function(e,t,r){return n(this,void 0,void 0,(function(){var n,l,u,f,p,d,h,g,y,m,v,b,w,_,P,x,O,C,S;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,r),l=n.sceneTree,u=n.insertItem,f=n.insertFlag,n.position,p=n.flyTo,n.editing,d=n.batch,h=r&&r.name||(0,s.getNameFromUrl)(t)||"Czml",g=e.tryUseSceneDir(t),y=(r=r||{}).loadGeoJson,v=(m=void 0===y?{}:y).select,b=m.CzmSignalTransmissionCollection,_=(w=void 0===b?{}:b).darkEarth,void 0!==v?[3,10]:d&&i.ui.select?[4,i.ui.select(["(CzmGeoJson)","(LineString)"],"","")]:[3,2];case 1:return P=o.sent(),[3,3];case 2:P=0,o.label=3;case 3:return v=0===P?"CzmGeoJson":"CzmSignalTransmissionCollection",void 0!==_||"CzmSignalTransmissionCollection"!==v?[3,7]:i.ui.confirm?[4,i.ui.confirm("")]:[3,5];case 4:return x=o.sent(),[3,6];case 5:x=!0,o.label=6;case 6:_=x,o.label=7;case 7:return(O=d)?[4,i.ui.confirm("")]:[3,9];case 8:O=o.sent(),o.label=9;case 9:O&&(w.darkEarth=_,m.CzmSignalTransmissionCollection=w,m.select=v,r.loadGeoJson=m),o.label=10;case 10:return"CzmGeoJson"!==v?[3,13]:(C=l.createItemWithSceneObject({type:"CzmGeoJson",uri:g,name:h},u,f))?(S=null==C?void 0:C.sceneObj,p?[4,(0,a.sleep)(200)]:[3,12]):(console.warn("CzmModelPrimitive".concat(g)),[2]);case 11:o.sent(),S.flyTo(),o.label=12;case 12:return[2,C];case 13:return"CzmSignalTransmissionCollection"!==v?[3,16]:(C=l.createItemWithSceneObject({type:"CzmSignalTransmissionCollection",geoJsonUrl:g,width:1,name:h},u,f))?(_&&(e.czmViewer.sceneSkyAtmosphereShow=!1,e.czmViewer.resolutionScale=1.5,e.czmViewer.scenePpsBloomEnabled=!0,e.baseImagery.brightness=.3),S=null==C?void 0:C.sceneObj,p?[4,(0,a.sleep)(200)]:[3,15]):(console.warn("CzmModelPrimitive".concat(g)),[2]);case 14:o.sent(),S.flyTo(),o.label=15;case 15:return[2,C];case 16:return[2]}}))}))}},39039:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadGltf=void 0;var i=r(9675),a=r(59645),s=r(59010),c=r(40891);t.loadGltf=function(e,t,r){return n(this,void 0,void 0,(function(){var n,l,u,f,p,d,h,g,y,m,v;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,r),l=n.sceneTree,u=n.insertItem,f=n.insertFlag,p=n.position,d=n.editing,h=n.flyTo,g=r&&r.name||(0,s.getNameFromUrl)(t)||"Gltf",y=e.tryUseSceneDir(t),r&&r.batch?[3,2]:[4,i.ui.confirm("","")];case 1:o.sent(),d=!0,o.label=2;case 2:return(m=l.createItemWithSceneObject({type:"CzmModelPrimitive",url:y,name:g},u,f))?(v=null==m?void 0:m.sceneObj,p&&(v.position=p),d&&(v.editing=!0),h?[4,(0,a.sleep)(2e3)]:[3,4]):(console.warn("CzmModelPrimitive".concat(y)),[2]);case 3:o.sent(),v.flyTo(),o.label=4;case 4:return[2,m]}}))}))}},49215:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadHtml=t.loadHtmlAsSceneObject=void 0;var i=r(51355),a=r(59645),s=r(59010),c=r(40891);function l(e,t,r){return n(this,void 0,void 0,(function(){var n,i,a,l,u,f,p;return o(this,(function(o){return n=(0,c.getParamsForSceneTreeItemCreating)(e,r),i=n.sceneTree,a=n.insertItem,l=n.insertFlag,u=r&&r.name||(0,s.getNameFromUrl)(t)||"Js",f=e.tryUseSceneDir(t),(p=i.createItemWithSceneObject({type:"IFrameDiv",iframeSrc:f,name:u},a,l))?[2,p]:(console.warn("IFrameDiv".concat(f)),[2])}))}))}t.loadHtmlAsSceneObject=l,t.loadHtml=function(e,t,r){return n(this,void 0,void 0,(function(){var n,s;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,r).batch,(s=!n)?[4,i.ui.select(["","IFrameDiv"],"")]:[3,2];case 1:s=o.sent(),o.label=2;case 2:return 0!==(s||0)?[3,3]:(function(e){var t=a.SceneObject.context.getStrFromEnv(e);window.open(t)}(t),[2,void 0]);case 3:return[4,l(e,t,r)];case 4:return[2,o.sent()]}}))}))}},60113:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=void 0;var i=r(51355),a=r(59645),s=r(59010),c=r(40891);function l(e,t,r,a){return n(this,void 0,void 0,(function(){var n,l,u,f,p,d,h,g,y,m,v,b,w,_,P,x,O;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,a),l=n.sceneTree,u=n.insertItem,f=n.insertFlag,n.flyTo,n.editing,p=a&&a.name||(0,s.getNameFromUrl)(t)||"Image",d=e.tryUseSceneDir(t),(h=l.createItemWithSceneObject({type:"CzmTexture",uri:d,uriType:r,name:p,showPreview:!1},u,f))?(g=h.sceneObj,y=(a=a||{}).batch,m=void 0!==y&&y,v=a.loadImage,w=(b=void 0===v?{}:v).CzmTexture,void 0!==(P=(_=void 0===w?{}:w).showPreview)?[3,4]:[4,i.ui.confirm("","")]):(console.warn("CzmModelPrimitive".concat(d)),[2]);case 1:return x=o.sent(),P=x,(O=m)?[4,i.ui.confirm("")]:[3,3];case 2:O=o.sent(),o.label=3;case 3:O&&(_.showPreview=P,b.CzmTexture=_,a.loadImage=b),o.label=4;case 4:return P&&(g.showPreview=!0),[2,h]}}))}))}function u(e,t,r,l){var u,f;return n(this,void 0,void 0,(function(){var n,p,d,h,g,y,m,v,b,w,_,P,x,O,C,S,E,M,j,k,T,I,F,A,L,R,D;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,l),p=n.sceneTree,d=n.insertItem,h=n.insertFlag,g=n.flyTo,y=n.editing,m=l&&l.name||(0,s.getNameFromUrl)(t)||"Image",v=e.tryUseSceneDir(t),(b=p.createItemWithSceneObject({type:"CzmImageModel",uri:v,name:m},d,h))?((w=null==b?void 0:b.sceneObj).pixelSize=0,w.size=[100,100],r&&(w.rotation=[0,90,0]),g?[4,(0,a.sleep)(200)]:[3,2]):(console.warn("CzmModelPrimitive".concat(v)),[2]);case 1:o.sent(),w.flyTo(),o.label=2;case 2:return y&&(w.editing=!0),_=(l=l||{}).batch,P=void 0!==_&&_,x=l.loadImage,C=(O=void 0===x?{}:x).CzmImageModel,E=(S=void 0===C?{}:C).mode,M=S.physicalSize,j=void 0===M?100:M,k=S.screenSize,T=void 0===k?100:k,I=S.position,void 0!==E?[3,17]:[4,i.ui.select(["()","()"],"")];case 3:return 0!==(F=o.sent())?[3,7]:(E="physical",[4,i.ui.prompt("(:)","100")]);case 4:return A=null!==(u=o.sent())&&void 0!==u?u:"100",L=+A,Number.isFinite(L)&&L<0?[4,i.ui.alert("100")]:[3,6];case 5:o.sent(),L=100,o.label=6;case 6:return j=L,[3,11];case 7:return 1!==F?[3,11]:(E="screen",[4,i.ui.prompt("(:)","100")]);case 8:return A=null!==(f=o.sent())&&void 0!==f?f:"100",L=+A,Number.isFinite(L)&&L<0?[4,i.ui.alert("100")]:[3,10];case 9:o.sent(),L=100,o.label=10;case 10:T=L,o.label=11;case 11:return[4,i.ui.confirm("")];case 12:return o.sent()?[4,e.builtinObjects.getPoints()]:[3,14];case 13:(R=o.sent())&&R.length>0&&(I=R[0]),o.label=14;case 14:return(D=P)?[4,i.ui.confirm("")]:[3,16];case 15:D=o.sent(),o.label=16;case 16:D&&(S.position=I,S.mode=E,S.physicalSize=j,S.screenSize=T,O.CzmImageModel=S,l.loadImage=O),o.label=17;case 17:return"physical"===E?(w.position=I,w.pixelSize=0,w.size=[j,j]):"screen"===E&&(w.position=I,w.pixelSize=1,w.size=[T,T]),[2,b]}}))}))}t.loadImage=function(e,t,r){return n(this,void 0,void 0,(function(){var n,a,s,c,f,p,d,h,g,y;return o(this,(function(o){switch(o.label){case 0:return n=(r=r||{}).batch,a=void 0!==n&&n,s=r.loadImage,f=(c=void 0===s?{}:s).select,p=c.CzmImageModel,h=(d=void 0===p?{}:p).standing,void 0!==f?[3,4]:[4,i.ui.select(["","()","()"],"","")];case 1:return void 0===(g=o.sent())?[2]:(f=0===g?"CzmTexture":"CzmImageModel",h=2===g,(y=a)?[4,i.ui.confirm("")]:[3,3]);case 2:y=o.sent(),o.label=3;case 3:y&&(c.select=f,d.standing=h,c.CzmImageModel=d,r.loadImage=c),o.label=4;case 4:return"CzmTexture"!==f?[3,6]:[4,l(e,t,void 0,r)];case 5:return[2,o.sent()];case 6:return"CzmImageModel"!==f?[3,10]:null!=h&&h?[3,8]:[4,u(e,t,!1,r)];case 7:return[2,o.sent()];case 8:return[4,u(e,t,!0,r)];case 9:return[2,o.sent()];case 10:return[2]}}))}))}},26337:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadJs=t.loadJsAsSceneObject=t.loadJsTemporarily=void 0;var i=r(51355),a=r(59645),s=r(59010),c=r(40891);function l(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=a.SceneObject.context.getStrFromEnv(e),console.log("js".concat(t)),[4,(0,i.loadJs)(t)];case 1:return n.sent(),console.log("js! ".concat(t)),[3,3];case 2:return r=n.sent(),console.error("js: ".concat(r)),console.error(r),[3,3];case 3:return[2]}}))}))}function u(e,t,r){return n(this,void 0,void 0,(function(){var n,a,l,u,f,p,d,h,g;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,r),a=n.sceneTree,l=n.insertItem,u=n.insertFlag,f=n.batch,p=r&&r.name||(0,s.getNameFromUrl)(t)||"Js",d=e.tryUseSceneDir(t),(h=a.createItemWithSceneObject({type:"ScriptsLoader",uris:[d],eanbled:!0,name:p},l,u))?(g=null==h?void 0:h.sceneObj,!f&&i.ui.confirm("js(".concat(t,")"))?[4,g.reload()]:[3,2]):(console.warn("CzmModelPrimitive".concat(d)),[2]);case 1:o.sent(),o.label=2;case 2:return[2,h]}}))}))}t.loadJsTemporarily=l,t.loadJsAsSceneObject=u,t.loadJs=function(e,t,r){return n(this,void 0,void 0,(function(){var n,a;return o(this,(function(o){switch(o.label){case 0:return n=(0,c.getParamsForSceneTreeItemCreating)(e,r).batch,(a=!n)?[4,i.ui.select(["",""],"")]:[3,2];case 1:a=o.sent(),o.label=2;case 2:return 0!==a?[3,4]:[4,l(t)];case 3:return o.sent(),[2,void 0];case 4:return[4,u(e,t,r)];case 5:return[2,o.sent()]}}))}))}},24904:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadKml=void 0;var i=r(59645),a=r(59010),s=r(40891);t.loadKml=function(e,t,r){return n(this,void 0,void 0,(function(){var n,c,l,u,f,p,d,h,g;return o(this,(function(o){switch(o.label){case 0:return n=(0,s.getParamsForSceneTreeItemCreating)(e,r),c=n.sceneTree,l=n.insertItem,u=n.insertFlag,n.position,f=n.flyTo,n.editing,p=r&&r.name||(0,a.getNameFromUrl)(t)||"Czml",d=e.tryUseSceneDir(t),(h=c.createItemWithSceneObject({type:"CzmKml",uri:d,name:p},l,u))?(g=null==h?void 0:h.sceneObj,f?[4,(0,i.sleep)(200)]:[3,2]):(console.warn("CzmModelPrimitive".concat(d)),[2]);case 1:o.sent(),g.flyTo(),o.label=2;case 2:return[2,h]}}))}))}},58771:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.loadM3tObject=t.addM3tOJsonToSceneTree=t.addSceneTreeItemJsonsToSceneTree=t.updateM3tojson=t.isOldM3tojson=t.isM3tojson=t.getM3tojsonFromSceneTreeItems=void 0;var c=r(40891),l=r(16347),u=r(59645);function f(e){if(p(e))return!0;var t=e.asset;if(!t)return!1;var r=t.__m3t_type__;return t.__m3t_createdTimeStamp__,!!r&&"m3tojson"===r}function p(e){var t=e.type;return"string"==typeof e.name&&"string"==typeof t&&(0,l.isSceneObjectType)(t)}function d(e,t){return p(e)?{asset:{__m3t_type__:"m3tojson",__m3t_createdTimeStamp__:Date.now()},sceneTreeItems:[{name:e.name,sceneObj:e}]}:e}function h(e,t,r){var n,o,l=(0,c.getParamsForSceneTreeItemCreating)(e,r),u=l.sceneTree,f=l.insertItem,p=l.insertFlag,d="Inner"!==p?a([],i(t),!1).reverse():t,h=void 0;try{for(var g=s(d),y=g.next();!y.done;y=g.next()){var m=y.value,v=u.createSceneTreeItem(f,p);v?(v.json=m,h=v):(console.warn("createSceneTreeItem error currentItem: ".concat(m.name)),console.warn(m))}}catch(e){n={error:e}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}return h}function g(e,t,r){return!!f(t)&&("sceneTreeItems"in(t=d(t))?h(e,t.sceneTreeItems,r):void 0)}t.getM3tojsonFromSceneTreeItems=function(e){if(0!==e.length){e[0].tree;var t=e.map((function(e){return e.json}));return{asset:{__m3t_type__:"m3tojson",__m3t_createdTimeStamp__:Date.now()},sceneTreeItems:t}}},t.isM3tojson=f,t.isOldM3tojson=p,t.updateM3tojson=d,t.addSceneTreeItemJsonsToSceneTree=h,t.addM3tOJsonToSceneTree=g,t.loadM3tObject=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){switch(o.label){case 0:return n=u.SceneObject.context.getStrFromEnv(t),[4,fetch(n)];case 1:return(i=o.sent()).ok?[4,i.json()]:(console.warn("loadM3tObject error: ".concat(t," ").concat(n)),[2,void 0]);case 2:return a=o.sent(),[2,g(e,a,r)]}}))}))}},11361:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadObj=t.urlExists=t.readUtf8TextFile=t.readGb2312TextFile=void 0;var i=r(67904),a=r(78110),s=r(40891),c=r(59010),l=r(59645);function u(e){return n(this,void 0,void 0,(function(){var t,r,n;return o(this,(function(o){switch(o.label){case 0:return t=l.SceneObject.context.getStrFromEnv(e),[4,fetch(t)];case 1:return(r=o.sent()).ok?[4,r.arrayBuffer()]:[2,""];case 2:return n=o.sent(),[2,(0,a.gb2312BinToUtf8Str)(new Uint8Array(n))]}}))}))}function f(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return t=l.SceneObject.context.getStrFromEnv(e),[4,fetch(t)];case 1:return(r=n.sent()).ok?[4,r.text()]:[2,""];case 2:return[2,n.sent()]}}))}))}function p(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=l.SceneObject.context.getStrFromEnv(e),[4,fetch(t)];case 1:return[2,r.sent().ok]}}))}))}t.readGb2312TextFile=u,t.readUtf8TextFile=f,t.urlExists=p,t.loadObj=function(e,t,r){return n(this,void 0,void 0,(function(){var n,a,l,d,h,g,y,m,v,b,w,_,P,x,O,C,S,E,M,j,k,T,I,F,A;return o(this,(function(o){switch(o.label){case 0:return n=(0,s.getParamsForSceneTreeItemCreating)(e,r),a=n.sceneTree,l=n.insertItem,d=n.insertFlag,n.position,h=r&&r.name||(0,c.getNameFromUrl)(t)||"Obj",g=e.tryUseSceneDir(t),m=y=g,v=y.replace(/[\/\\][^\/\\]*$/,""),b=m.replace(".obj",".mtl"),[4,p(m)];case 1:if(!o.sent())return[2,!1];w="",o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u(b)];case 3:return _=o.sent(),P=_.split(/\r\n|\n/).map((function(e){return e.trim()})),x=P.find((function(e){return e.trim().startsWith("map_Kd")})),O=null==x?void 0:x.slice(6).trim(),w=v+"\\"+O,[3,5];case 4:return C=o.sent(),console.error("loadObj error: ".concat(C)),console.error(C),w="",[3,5];case 5:return p(w=w||m.replace(".obj","_result.jpg"))||(w=""),[4,p(S=m.replace(".obj","_result_clip.jpg"))];case 6:o.sent()||(S=""),E=null!=h?h:"",M=void 0,j=void 0,o.label=7;case 7:return o.trys.push([7,9,,10]),[4,f(m.replace(".obj",".xml"))];case 8:return k=o.sent(),(T=(0,i.xmlStr2JsonObj)(k)).msxroot.Crs.startsWith("ENU:")?((M=T.msxroot.Crs.slice(4).split(",").map((function(e){return+e})))&&2!==M.length&&(M=void 0),(j=T.msxroot.ModelPoint.Position.split(",").map((function(e){return+e})))&&3!==j.length&&(j=void 0),[3,10]):[2,!1];case 9:return I=o.sent(),console.error("loadObj error: ".concat(I)),console.error(I),[3,10];case 10:return F=a.createItemWithSceneObject({type:"ObjModel",name:E},l,d),(A=F.sceneObj).objUrl=g,A.imageUrl=w,A.maskUrl=S,j&&(A.offset=j),M&&(A.position=[M[1],M[0],0]),[2,!0]}}))}))}},90586:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.paste=t.handleTextAnalysisResults=t.handleTextAnalysisResult=void 0;var a=r(69658),s=r(51355),c=r(18057),l=r(45759);function u(e,t){return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return"m3to_url"!==t.type?[3,2]:[4,(0,l.loadDataFromUrlOrFilePath)(e,t.url)];case 1:return r.sent(),[3,5];case 2:return"3dtiles_json"!==t.type?[3,4]:[4,s.ui.alert("3dtielsjson3dtilesurl")];case 3:return r.sent(),[3,5];case 4:"m3to_json"===t.type&&(0,a.addM3tOJsonToSceneTree)(t.json,e.sceneTree),r.label=5;case 5:return[2]}}))}))}function f(e,t){var r;return n(this,void 0,void 0,(function(){var n,a,c,l,f,p,d,h,g,y,m;return o(this,(function(o){switch(o.label){case 0:n=t.filter((function(e){return"m3t_url"===e.type||"m3t_json"===e.type})),a=t.filter((function(e){return"m3t_url"!==e.type&&"m3t_json"!==e.type})),o.label=1;case 1:return n.length>0?((c=n.map((function(e,t){return"m3t_url"===e.type?e.url:"m3t json (".concat(t,")")}))).unshift(""),[4,s.ui.select(c,"")]):[3,7];case 2:return 0===(l=null!==(r=o.sent())&&void 0!==r?r:0)?[3,7]:"m3t_url"!==(f=n[l-1]).type?[3,4]:[4,e.fileLoader.openSceneFromUrl(f.url)];case 3:return o.sent(),[3,6];case 4:return"m3t_json"!==f.type?[3,6]:[4,e.fileLoader.appSceneOpenning.setJson(f.json)];case 5:o.sent(),o.label=6;case 6:return[3,15];case 7:o.trys.push([7,12,13,14]),y=void 0,p=i(a),d=p.next(),o.label=8;case 8:return d.done?[3,11]:(h=d.value,[4,u(e,h)]);case 9:o.sent(),o.label=10;case 10:return d=p.next(),[3,8];case 11:return[3,14];case 12:return g=o.sent(),y={error:g},[3,14];case 13:try{d&&!d.done&&(m=p.return)&&m.call(p)}finally{if(y)throw y.error}return[7];case 14:o.label=15;case 15:return[2]}}))}))}t.handleTextAnalysisResult=u,t.handleTextAnalysisResults=f,t.paste=function(e,t){return n(this,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:return[4,(0,c.analyzeText)(t)];case 1:return 0===(r=n.sent()).length?[2]:[4,s.ui.confirm("".concat(r.length,"JSON"))];case 2:return n.sent()?[4,f(e,r)]:[2];case 3:return n.sent(),[2]}}))}))}},48438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSD=void 0;var n=r(59645);t.setSD=function(e){var t,r,o;if(e){e=decodeURIComponent(e);var i=null!==(t=n.SceneObject.context.getStrFromEnv(e))&&void 0!==t?t:"",a=null!==(o=null===(r=/(.*[\\\/])([^\\\/]*)\.m3t\.?json.*/.exec(i))||void 0===r?void 0:r[1])&&void 0!==o?o:"";n.SceneObject.context.setEnv("scene-file-path",i),n.SceneObject.context.setEnv("scene-dir",a),n.SceneObject.context.setEnv("SFP",i),n.SceneObject.context.setEnv("SD",a),console.log("SFP / scene-file-path: ".concat(i)),console.log("SD / scene-dir: ".concat(a))}else n.SceneObject.context.setEnv("scene-file-path",""),n.SceneObject.context.setEnv("scene-dir",""),n.SceneObject.context.setEnv("SD",""),n.SceneObject.context.setEnv("SFP","")}},22718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryUseSceneDir=void 0;var n=r(59645);t.tryUseSceneDir=function(e){do{var t=n.SceneObject.context.getEnv("SD");if(!t)break;var r=n.SceneObject.context.getStrFromEnv(e);if(!r.startsWith(t))break;e="${SD}"+r.slice(t.length)}while(0);return e}},39658:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.alert=void 0;var a=r(50322);t.alert=function(e,t,r,s){return void 0===e&&(e="alert"),void 0===t&&(t=""),o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return o=n({title:t,text:e,buttons:[{text:"",result:"ok"}]},s||{}),[4,(0,a.dialog)(r,o)];case 1:return i.sent(),[2]}}))}))}},47152:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.confirm=void 0;var a=r(50322);t.confirm=function(e,t,r,s){return void 0===e&&(e="confirm"),void 0===t&&(t=""),o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return o=n({title:t,text:e,buttons:[{text:"",result:"ok"},{text:"",result:"cancel"}]},s||{}),[4,(0,a.dialog)(r,o)];case 1:return"ok"===i.sent().result?[2,!0]:[2,!1]}}))}))}},50322:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.dialog=void 0;var i=r(32192);t.dialog=function(e,t){return new Promise((function(r){var a,s,c,l,u,f,p=e.xe2ProjectManager.createSceneObjectFromClass(i.DialogWindow),d=t.title,h=void 0===d?"":d,g=t.text,y=void 0===g?"":g,m=t.buttons,v=void 0===m?[]:m,b=(t.input,t.delay);p.title=h,p.text=y,p.container=document.body,p.show=!0,t.input&&(p.showInput=null!==(a=t.input.show)&&void 0!==a&&a,p.defaultInput=null!==(s=t.input.default)&&void 0!==s?s:""),t.select&&(p.showSelect=null!==(c=t.select.show)&&void 0!==c&&c,p.defaultSelect=null!==(l=t.select.default)&&void 0!==l?l:0,p.selectOptions=null!==(u=t.select.options)&&void 0!==u?u:[]),p.buttons=o([],n(v),!1),t.dialogCreatedFunc&&t.dialogCreatedFunc(p);var w=p.resultEvent.disposableOnce((function(t){w(),f&&clearTimeout(f),p.show=!1,e.xe2ProjectManager.destroySceneObject(p),r(t)}));b&&(f=setTimeout((function(){p.resultEvent.emit({result:"timeout"})}),b))}))}},23068:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.prompt=void 0;var a=r(50322);t.prompt=function(e,t,r,s,c){return void 0===e&&(e="prompt"),void 0===t&&(t=""),void 0===r&&(r=""),o(void 0,void 0,void 0,(function(){var o,l,u;return i(this,(function(i){switch(i.label){case 0:return o=n({title:r,text:e,buttons:[{text:"",result:"ok"},{text:"",result:"cancel"}],input:{show:!0,default:t}},c||{}),[4,(0,a.dialog)(s,o)];case 1:return"ok"===(l=i.sent()).result?[2,null!==(u=l.input)&&void 0!==u?u:""]:[2,void 0]}}))}))}},64166:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.select=void 0;var a=r(50322);t.select=function(e,t,r,s,c){var l;return void 0===t&&(t=["1","2","3"]),void 0===r&&(r=""),void 0===s&&(s=""),o(this,void 0,void 0,(function(){var o,u;return i(this,(function(i){switch(i.label){case 0:return o=n({title:s,text:r,buttons:[{text:"",result:"ok"},{text:"",result:"cancel"}],select:{show:!0,options:t}},c||{}),[4,(0,a.dialog)(e,o)];case 1:return"ok"===(u=i.sent()).result?[2,null!==(l=u.select)&&void 0!==l?l:0]:[2,void 0]}}))}))}},16549:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},d=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.My3dtilesApp=void 0;var h=r(85505),g=r(51355),y=r(48269),m=r(59645),v=r(58753);r(32192);var b=r(45727),w=r(98719),_=r(56945),P=r(49243),x=r(6987),O=r(7768),C=r(90192),S=r(15839),E=r(63283);r(29325);var M=r(38461),j=r(40499),k=r(22263),T=r(97288),I=r(39658),F=r(47152),A=r(23068);r(78764);var L=r(61176),R=r(91355),D=r(1067),B=r(32759),N=r(22718),z=r(50322),G=r(40463),V=r(5553);r(6722);var q=r(6722),U=r(96361),H=r(50910),W=r(64166),J=r(72062),Y=r(22588),X=s(r(81557)),Z=r(6997),$=r(99826),K=r(72316);function Q(e,t){if(!["modifiedTime","lastView","createdTime","id","clockCurrentTime","asset"].includes(e))return t}c(r(98719),t),c(r(15768),t),c(r(97288),t),window.__m3tRegisterCreatedFunc=function(e){ee._apps.forEach((function(t){return e(t)})),ee._registerCreatedFuncs.push(e)};var ee=function(e){function t(r){var n,o,i,a,s,c=e.call(this)||this;c._version="unknown",c._asset=c.disposeVar((0,g.createProps)({type:"My3dtiles",name:"",createdTime:(new Date).toISOString(),modifiedTime:(new Date).toISOString(),version:c.libVersion})),c._sendProductUsageInfo=(i=c,setTimeout((function(){return(0,q.sendProductUsageInfo)(i)}),6e4),void setInterval(q.sendProductUsageInfo,864e5)),c._title=c.disposeVar(new k.Title(c)),c._fullScreenProcessing=c.disposeVar(new E.FullScreenProcessing(c)),c._updateInfo=c.disposeVar((0,g.reactJson)(void 0)),c._xe2ProjectManager=c.disposeVar(new h.ProjectManager),c._appLayout=c.disposeVar(new w.AppLayout(c)),c._fSceneTreeAndUi=c.disposeVar(new R.FSceneTreeAndUi(c)),c._builtinObjects=c.disposeVar(new P.BuiltinObjects(c)),c._flyToOnLoaded=c.disposeVar((0,g.react)(!0)),c._fileLoader=c.disposeVar(new S.FileLoader(c)),c.initSceneObjectOnCreatingFunc=B.defaultInitSceneObjectOnCreatingFunc,c._jsonWrappper=c.disposeVar(new V.JsonWrappper(c)),c._projectFileManager=c.disposeVar(new j.ProjectFileManager(c)),c._commands=c.disposeVar(new O.Commands(c)),c._builtinCommandsInit=c.disposeVar(new _.BuiltinCommandsInit(c)),c._uiInit=void(g.ui?(g.ui.alert=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.alert.apply(c,p([],f(e),!1))},g.ui.confirm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.confirm.apply(c,p([],f(e),!1))},g.ui.prompt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.prompt.apply(c,p([],f(e),!1))},g.ui.select=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.select.apply(c,p([],f(e),!1))}):console.warn("uiInit failed!")),c._parseSearchInit=void(0,H.parseSearch)(c),c._cesiumCodeCreator=c.disposeVar(new x.CesiumCodeCreator(c)),c._hasGotDataFromUrl=!1,c._appEvent=c.disposeVar(new L.AppEvent(c)),c._statusBar=c.disposeVar(new U.StatusBar(c)),c._czm3dtilesInspector=c.disposeVar(new G.Czm3dtilesInspector(c)),c.enabledShowCommandsShortCutKey=!0,c.enabledShowCommandsShortCutKeyReadMe="Ctrl + ~",c._showCommandsPanelInit=(a=function(e){c.enabledShowCommandsShortCutKey&&(e.ctrlKey&&"Backquote"===e.code?(e.stopPropagation(),c.showCommandsPanel=!c.showCommandsPanel):"Escape"===e.code&&(c.showCommandsPanel=!1))},document.addEventListener("keydown",a,!0),void c.dispose((function(){return document.removeEventListener("keydown",a,!0)}))),c._czm3dtilesStyleListening=c.disposeVar(new J.Czm3dtilesStyleListening(c.xe2ProjectManager.sceneObjectsManager,100)),c._infoDlgManager=c.disposeVar(new Y.InfoDlgManager(c)),c._mainToolBar=c.disposeVar(new $.MainToolBar(c)),c._creatorUi=c.disposeVar(new K.CreatorUi(c)),c._picking=(s=c.disposeVar(new M.Picking(c)),c.dispose(s.pickedInfoEvent.disposableOn((function(e){c.infoDlg({title:"",contentType:"json",content:e.json})}))),s),c._falseApp=c.disposeVar(m.SceneObject.createFromClass(C.My3dtilesAppProps)),c._falseAppInit=void(c.falseApp.app=c),c._xe2ProjectManager.sceneTree.debug=!1,r&&(c.container=r),t._apps.push(c),c.dispose((function(){var e=t._apps.indexOf(c);-1!==e?t._apps.splice(e,1):console.warn("My3dtilesApp._apps.indexOf(this) === -1")}));try{for(var l=d(t._registerCreatedFuncs),u=l.next();!u.done;u=l.next())(0,u.value)(c)}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return c}return o(t,e),Object.defineProperty(t,"fileServerPort",{get:function(){return b.UrlWithFileOrProxy.fileServerPort},set:function(e){b.UrlWithFileOrProxy.fileServerPort=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return T.config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},set:function(e){this._version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"libVersion",{get:function(){return v.copyright.version},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asset",{get:function(){return this._asset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectName",{get:function(){return this._asset.name},set:function(e){this._asset.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectNameChanged",{get:function(){return this._asset.nameChanged},enumerable:!1,configurable:!0}),t.prototype.setProjectNameOnUi=function(){return l(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,g.ui.prompt("",this.asset.name)];case 1:return(e=t.sent())&&(this.projectName=e),[2]}}))}))},Object.defineProperty(t.prototype,"title",{get:function(){return this._title.text},set:function(e){this._title.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleChanged",{get:function(){return this._title.textChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullScreenProcessing",{get:function(){return this._fullScreenProcessing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInfo",{get:function(){return this._updateInfo.value},set:function(e){this._updateInfo.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInfoChanged",{get:function(){return this._updateInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xe2ProjectManager",{get:function(){return this._xe2ProjectManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectCreatorUI",{get:function(){return this._sceneObjectCreatorUI},set:function(e){this._sceneObjectCreatorUI=e},enumerable:!1,configurable:!0}),t.prototype.getSceneObjectType=function(){return this._sceneObjectCreatorUI&&this._sceneObjectCreatorUI.getTypeName()},t.prototype.createSceneObjectOnTree=function(e,t,r,n){return void 0===r&&(r=!0),(0,D.createSceneObjectOnTree)(this,e,t,r,n)},t.prototype.createSceneObjectClassOnTree=function(e,t,r,n){return void 0===r&&(r=!0),(0,D.createSceneObjectClassOnTree)(this,e,t,r,n)},t.prototype.createSceneObjectFromJsonOnTree=function(e,t,r,n){return void 0===r&&(r=!0),(0,D.createSceneObjectFromJsonOnTree)(this,e,t,r,n)},Object.defineProperty(t.prototype,"appLayout",{get:function(){return this._appLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneTree",{get:function(){return this._fSceneTreeAndUi.sceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiSceneTree",{get:function(){return this._fSceneTreeAndUi.uiSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinSceneTree",{get:function(){return this._fSceneTreeAndUi.builtinSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinUiSceneTree",{get:function(){return this._fSceneTreeAndUi.builtinUiSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinObjects",{get:function(){return this._builtinObjects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.builtinObjects.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseImagery",{get:function(){return this.builtinObjects.baseImagery},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offlineImagery",{get:function(){return this.builtinObjects.offlineImagery},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTerrain",{get:function(){return this.builtinObjects.czmTerrain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmClassicNavigator",{get:function(){return this.builtinObjects.czmClassicNavigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastView",{get:function(){return this.builtinObjects.lastView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useLastView",{get:function(){var e;return null!==(e=this.lastView.default)&&void 0!==e&&e},set:function(e){this.lastView.default=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useLastViewChanged",{get:function(){return this.lastView.defaultChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToOnLoaded",{get:function(){return this._flyToOnLoaded.value},set:function(e){this._flyToOnLoaded.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToOnLoadedChanged",{get:function(){return this._flyToOnLoaded.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileLoader",{get:function(){return this._fileLoader},enumerable:!1,configurable:!0}),t.prototype.setDefaultScene=function(){this.decorations=!0,this.showEditorUi=!0,this.transparentBackground=!1,this.fileLoader.appSceneOpenning.setDefaultScene()},Object.defineProperty(t.prototype,"fileserverPort",{get:function(){return b.UrlWithFileOrProxy.fileServerPort},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cesiumVersion",{get:function(){return X.VERSION},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cesiumLastToken",{get:function(){return y.CzmViewer.latestDefaultAccessToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._jsonWrappper.json},set:function(e){this._jsonWrappper.json=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonStr",{get:function(){return this._jsonWrappper.jsonStr},set:function(e){this._jsonWrappper.jsonStr=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectFileManager",{get:function(){return this._projectFileManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commands",{get:function(){return this._commands},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"builtinCommandsInit",{get:function(){return this._builtinCommandsInit},enumerable:!1,configurable:!0}),t.prototype.viewProp=function(e){this.xe2ProjectManager.propUiTreeManager.sceneObject=e},t.prototype.alert=function(e,t,r){return void 0===e&&(e="alert"),void 0===t&&(t=""),l(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,(0,I.alert)(e,t,this,r)];case 1:return[2,n.sent()]}}))}))},t.prototype.confirm=function(e,t,r){return void 0===e&&(e="confirm"),void 0===t&&(t=""),l(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,(0,F.confirm)(e,t,this,r)];case 1:return[2,n.sent()]}}))}))},t.prototype.prompt=function(e,t,r,n){return void 0===e&&(e="prompt"),void 0===t&&(t=""),void 0===r&&(r=""),l(this,void 0,void 0,(function(){return u(this,(function(o){switch(o.label){case 0:return[4,(0,A.prompt)(e,t,r,this,n)];case 1:return[2,o.sent()]}}))}))},t.prototype.select=function(e,t,r,n){return void 0===e&&(e=["1","2","3"]),void 0===t&&(t=""),void 0===r&&(r=""),l(this,void 0,void 0,(function(){return u(this,(function(o){switch(o.label){case 0:return[4,(0,W.select)(this,e,t,r,n)];case 1:return[2,o.sent()]}}))}))},t.prototype.dialog=function(e){return l(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,(0,z.dialog)(this,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.reload=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.confirm("")];case 1:return e.sent()?(window.location.reload(),[2]):[2]}}))}))},t.prototype.flushView=function(){var e;return l(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.confirm("")];case 1:return t.sent()?(null===(e=this.czmViewer)||void 0===e||e.forceRecreate(),[2]):[2]}}))}))},t.prototype.loadDataFromUrlOrFilePath=function(e,t){return l(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,this.fileLoader.loadDataFromUrlOrFilePath(e,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.tryUseSceneDir=function(e){return this.autoUseSceneDir?(0,N.tryUseSceneDir)(e):e},Object.defineProperty(t.prototype,"cesiumCodeCreator",{get:function(){return this._cesiumCodeCreator},enumerable:!1,configurable:!0}),t.prototype.setHasGotDataFromUrl=function(){this._hasGotDataFromUrl=!0},Object.defineProperty(t.prototype,"hasGotDataFromUrl",{get:function(){return this._hasGotDataFromUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneFilePath",{get:function(){return m.SceneObject.context.getEnv("scene-file-path")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneDir",{get:function(){return m.SceneObject.context.getEnv("scene-dir")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appEvent",{get:function(){return this._appEvent},enumerable:!1,configurable:!0}),t.prototype.isSceneChanged=function(){return JSON.stringify(this.json,Q,"    ")!==JSON.stringify(this.config.scenes.baseScene,Q,"    ")},Object.defineProperty(t.prototype,"container",{get:function(){return this.xe2ProjectManager.defaultContainerOrId},set:function(e){this.xe2ProjectManager.defaultContainerOrId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusBar",{get:function(){return this._statusBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czm3dtilesStyleListening",{get:function(){return this._czm3dtilesStyleListening},enumerable:!1,configurable:!0}),t.prototype.infoDlg=function(e){return this._infoDlgManager.createDlg(e)},t.prototype.about=function(){return this._infoDlgManager.about()},t.prototype.showAllSceneObjectsList=function(){return this._infoDlgManager.showAllSceneObjectsList()},t.prototype.showAllSimpleSceneObjectsList=function(){return this._infoDlgManager.showAllSimpleSceneObjectsList()},t.prototype.getStrFromEnv=function(){return l(this,void 0,void 0,(function(){var e,t;return u(this,(function(r){switch(r.label){case 0:return[4,g.ui.prompt("","${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png","")];case 1:return void 0===(e=r.sent())?[2]:(t=m.SceneObject.context.getStrFromEnv(e),[4,g.ui.alert("\n".concat(t))]);case 2:return r.sent(),[2]}}))}))},t.prototype.getEscapeStr=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,(0,Z.getEscapeStr)(this)];case 1:return e.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"mainToolBar",{get:function(){return this._mainToolBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creatorUi",{get:function(){return this._creatorUi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"picking",{get:function(){return this._picking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"falseApp",{get:function(){return this._falseApp},enumerable:!1,configurable:!0}),t._apps=[],t._registerCreatedFuncs=[],t}(g.Destroyable);t.My3dtilesApp=ee,window.My3dtilesApp=ee,function(e){e.createDefaultProps=function(){return{fullScreen:!1,showEditorUi:!1,transparentBackground:!1,showSceneTreeView:!0,showSceneTree2View:!1,showHeaderView:!0,showOutputView:!1,showMainToolBar:!0,showFavoritesToolbar:!0,showFileloadToolBar:!0,showInnerObjectsToolBar:!1,showBaseGraphToolBar:!1,showViewerToolBar:!0,showPathToolBar:!1,showMeasurementToolBar:!1,showCityToolBar:!1,showDebugToolbar:!0,showUIToolbar:!1,showPickTypeToolBar:!0,showCommandsPanel:!1,showDefaultImageriesSelection:!1,showDefaultTerrainsSelection:!1,importJsonStr:"",showLeftView:!0,showFooterView:!0,isMinToolView:!0,showSceneCreatingToolbar:!0,showModelCreatingToolbar:!0,leftSideBarWidth:400,leftSideBarElement:void 0,autoUseSceneDir:!1,decorations:!0,alwaysOnTop:!1}}}(ee=t.My3dtilesApp||(t.My3dtilesApp={})),t.My3dtilesApp=ee,(0,g.extendClassProps)(ee.prototype,ee.createDefaultProps)},40463:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Czm3dtilesInspector=void 0;var i=function(e){function t(t){var r=e.call(this)||this;return r._app=t,r.dispose(r._app.sceneTree.lastSelectedItemChanged.disposableOn((function(){var e=r.app.sceneTree.lastSelectedItem;if(e){var t=e.sceneObj;if(t&&"Czm3DTiles"===t.typeName){var n=r.app.czmViewer.getCzmObject(t);if(n){var o=n.tileset;if(o){var i=r.app.czmViewer.viewer.cesium3DTilesInspector;if(i){var a=i.viewModel;a.tileset=o,a.loggingVisible=!0,a.showStatistics=!0}}}}}}))),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),t}(r(51355).Destroyable);t.Czm3dtilesInspector=i},72062:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Czm3dtilesStyleListening=void 0;var c=r(51355),l=r(80468),u=r(48269),f=s(r(81557)),p=function(e){function t(t,r){var n=e.call(this)||this;n._sceneObject=t,n._styleListening=r;var o=n._sceneObject,i=n._styleListening,a=i.style,s=i.priority;o.styles.enqueue(a,s),n.dispose((function(){o.styles.dequeue(a)}));var c=function(){o.makeStyleDirty()};return c(),n.dispose(i.styleDirtyEvent.disposableOn(c)),n}return o(t,e),t}(c.Destroyable),d=function(e){function t(t,r){void 0===r&&(r=-100);var n=e.call(this)||this;return n._sceneObjectsManager=t,n._priority=r,n._style=new f.Cesium3DTileStyle,n._styleDirtyEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sol=n.disposeVar(new l.SceneObjectsListening(n._sceneObjectsManager,(function(e){if(e instanceof u.Czm3DTiles)return new p(e,n)}))),n}return o(t,e),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleDirtyEvent",{get:function(){return this._styleDirtyEvent},enumerable:!1,configurable:!0}),t.prototype.makeStyleDirty=function(){this.styleDirtyEvent.emit()},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.Czm3dtilesStyleListening=d},22588:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.InfoDlgManager=t.JsonInfoDialog=t.MarkdownInfoDialog=t.InfoDialog=void 0;var f=r(9675),p=r(32192),d=s(r(81557)),h=r(81901),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(f.Destroyable);t.InfoDialog=g;var y=function(e){function t(t,r){var n=e.call(this)||this;return n._dlgManager=t,n._options=r,n._markdownWindow=function(){var e=n.app.xe2ProjectManager.createSceneObjectFromClass(p.MyMarkdownWindow);if(n.dispose((function(){return n.app.xe2ProjectManager.destroySceneObject(e)})),"markdown"!==n._options.contentType)throw new Error("contentType must be markdown");var t=n._options,r=t.width,o=void 0===r?800:r,i=t.height,a=void 0===i?600:i,s=t.title,c=void 0===s?"":s,l=t.content;return e.layoutType="Center",e.width=o,e.height=a,e.title=c,e.content=l,e.flushCss(),e.container=document.body,e.show=!0,n.dispose(e.showChanged.disposableOn((function(){e.show||n.dlgManager.destroyDlg(n)}))),e}(),n}return o(t,e),Object.defineProperty(t.prototype,"dlgManager",{get:function(){return this._dlgManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.dlgManager.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markdownWindow",{get:function(){return this._markdownWindow},enumerable:!1,configurable:!0}),t}(g);t.MarkdownInfoDialog=y;var m=function(e){function t(t,r){var n=e.call(this)||this;return n._dlgManager=t,n._options=r,n._myWindow=function(){var e=n.app.xe2ProjectManager.createSceneObjectFromClass(p.MyWindow);n.dispose((function(){return n.app.xe2ProjectManager.destroySceneObject(e)}));var t=n._options,r=t.width,o=void 0===r?800:r,i=t.height,a=void 0===i?600:i,s=t.title,c=void 0===s?"":s;return t.content,e.layoutType="Center",e.width=o,e.height=a,e.title=c,e.flushCss(),e.container=document.body,e.show=!0,n.dispose(e.closeEvent.disposableOn((function(){n.dlgManager.destroyDlg(n)}))),e}(),n._jsonEditor=function(){var e=n.app.xe2ProjectManager.createSceneObjectFromClass(p.JsonEditor);if(n.dispose((function(){return n.app.xe2ProjectManager.destroySceneObject(e)})),n.myWindow.subDivId=e.id,"json"!==n._options.contentType)throw new Error("contentType must be json");return e.layoutType="FullScreen",e.content=n._options.content,e.width=0,e.height=0,e.show=!0,e}(),n}return o(t,e),Object.defineProperty(t.prototype,"dlgManager",{get:function(){return this._dlgManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.dlgManager.app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myWindow",{get:function(){return this._myWindow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonEditor",{get:function(){return this._jsonEditor},enumerable:!1,configurable:!0}),t}(g);t.JsonInfoDialog=m;var v=function(e){function t(t){var r,n=e.call(this)||this;return n._app=t,n._infoDlgs=(r=new Set,n.dispose((function(){var e,t;try{for(var n=c(r),o=n.next();!o.done;o=n.next())o.value.destroy()}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}r.clear()})),r),n}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoDlgs",{get:function(){return this._infoDlgs},enumerable:!1,configurable:!0}),t.prototype.createDlg=function(e){var t=e.contentType,r=void 0===t?"markdown":t;if("markdown"===r){var n=new y(this,e);return this.infoDlgs.add(n),n}if("json"===r)return n=new m(this,e),this.infoDlgs.add(n),n},t.prototype.destroyDlg=function(e){this.infoDlgs.delete(e),e.destroy()},t.prototype.about=function(){var e=window.g_xe2CopyRightsMd&&window.g_xe2CopyRightsMd()||"<center></center>",t='<span style="font-size: 12px; color: white"> Cesium'.concat(this.app.cesiumVersion,'</span><br/><span style="font-size: 12px; color: white; word-break:break-all;">Cesium Ion token').concat(d.Ion.defaultAccessToken,'</span><br/><span style="font-size: 12px; color: white">').concat(this.app.fileserverPort,"</span><br/> ")+e,r="\n".concat(t,"\n\nMy3dtileshttps://czmtoy.com/p/my3dtiles/  \n 2024 @ \n");return this.createDlg({title:"",contentType:"markdown",content:r,width:600,height:400})},t.prototype.showAllSceneObjectsList=function(){var e=h.SceneObject.context,t=u([],l(e._sceneObjConstructorsMap.keys()),!1);t.sort();var r=t.map((function(t){return{type:t,info:e.getProps(t)}}));return this.createDlg({title:"",contentType:"json",content:r,width:600,height:400})},t.prototype.showAllSimpleSceneObjectsList=function(){var e=h.SceneObject.context,t=u([],l(e._sceneObjConstructorsMap.keys()),!1);t.sort();var r=t.map((function(t){var r,n,o,i,a=null!==(r=e.getProps(t))&&void 0!==r?r:{},s=null!==(n=a.chsName)&&void 0!==n?n:"",c=(null!==(o=a.tags)&&void 0!==o?o:[]).join(","),l=null!==(i=a.description)&&void 0!==i?i:"";return"".concat(t," | ").concat(s," | ").concat(c," | ").concat(l)})).join("\n");return this.createDlg({title:"",contentType:"markdown",content:r,width:600,height:400})},t}(f.Destroyable);t.InfoDlgManager=v},5553:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonWrappper=t.getMajorMinorPatchVersion=void 0;var a=r(51355),s=r(99439),c=r(49119),l=r(47152);function u(e){var t=e.split(".").map((function(e){return+e}));return 3!==t.length?void console.error("".concat(e)):[t[0],t[1],t[2]]}t.getMajorMinorPatchVersion=u;var f=function(e){function t(t){return e.call(this,t)||this}return o(t,e),Object.defineProperty(t.prototype,"json",{get:function(){var e=this.owner;return e.asset.modifiedTime=(new Date).toISOString(),e.lastView.resetWithCurrentCamera(),{asset:{type:"My3dtiles",version:e.version,createdTime:e.asset.createdTime,modifiedTime:(new Date).toISOString(),name:e.asset.name},sceneTree:e.sceneTree.getJson(),builtin:{czmViewer:e.czmViewer.json,offlineImagery:e.offlineImagery.json,baseImagery:e.baseImagery.json,czmTerrain:e.czmTerrain.json,czmClassicNavigator:e.czmClassicNavigator.json,lastView:e.lastView.json,initOptions:e.builtinObjects.initOptions.json}}},set:function(e){var t,r,n,o,a,f,p,d,h,g,y=this.owner;try{if(e.asset=e.asset||y.asset,"My3dtiles"!==e.asset.type)if(console.warn("value.asset.type !== 'My3dtiles'"),(0,c.maybe3DTilesJson)(e)){if(!(0,l.confirm)("3dtiles3dtiles","",this.owner))return}else if(!(0,l.confirm)("My3dtiles","",this.owner))return;if(!e.asset||!e.asset.version)return void console.error("set json error! version");var m=u(e.asset.version);if(!m)return void console.error("set json error! version");var v=i(m,3),b=v[0];v[1],v[2],y.asset.createdTime=e.asset&&e.asset.createdTime||(new Date).toISOString(),y.asset.modifiedTime=e.asset&&e.asset.createdTime||(new Date).toISOString(),y.asset.name=e.asset&&e.asset.name||"";do{if(!e.builtin)break;y.czmViewer.json=null!==(t=e.builtin.czmViewer)&&void 0!==t?t:s.baseScene.builtin.czmViewer,y.offlineImagery.json=null!==(r=e.builtin.offlineImagery)&&void 0!==r?r:s.baseScene.builtin.offlineImagery,y.baseImagery.json=b<=7?null!==(o=null!==(n=e.builtin.tdtImagery)&&void 0!==n?n:e.builtin.baseImagery)&&void 0!==o?o:s.baseScene.builtin.baseImagery:null!==(a=e.builtin.baseImagery)&&void 0!==a?a:s.baseScene.builtin.baseImagery,y.czmTerrain.json=null!==(f=e.builtin.czmTerrain)&&void 0!==f?f:s.baseScene.builtin.czmTerrain,y.czmClassicNavigator.json=null!==(p=e.builtin.czmClassicNavigator)&&void 0!==p?p:s.baseScene.builtin.czmClassicNavigator,y.lastView.json=null!==(d=e.builtin.lastView)&&void 0!==d?d:s.baseScene.builtin.lastView,y.flyToOnLoaded&&setTimeout((function(){y.lastView.flyTo()}),100),y.builtinObjects.initOptions.json=null!==(h=e.builtin.initOptions)&&void 0!==h?h:{};var w=y.builtinObjects.initOptions,_=w.fullScreen,P=w.showEditorUi,x=(w.myConsoleEnabled,w.decorations),O=w.alwaysOnTop,C=w.transparentBackground,S=w.title;(""===_||""===_)&&(y.fullScreen=!0),""===P?y.showEditorUi=!0:""===P&&(y.showEditorUi=!1),""===x?y.decorations=!0:""===x&&(y.decorations=!1),""===O?y.alwaysOnTop=!0:""===O&&(y.alwaysOnTop=!1),""===C?y.transparentBackground=!0:""===C&&(y.transparentBackground=!1),""!==S&&(y.title=S)}while(0);y.sceneTree.setJson(null!==(g=e.sceneTree)&&void 0!==g?g:{root:{}})}catch(e){console.error("jsonerror: ".concat(e))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonStr",{get:function(){return JSON.stringify(this.json,void 0,"    ")},set:function(e){try{this.json=JSON.parse(e)}catch(e){console.error("jsonerror: ".concat(e))}},enumerable:!1,configurable:!0}),t}(a.HasOwner);t.JsonWrappper=f},6722:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendProductUsageInfo=void 0,window.g_xe2SendProductUsageInfo=!1,window.g_my3dtilesSendProductUsageInfo=!0;var r=Date.now();t.sendProductUsageInfo=function(e){if(window.g_my3dtilesSendProductUsageInfo){var t={version:e.version,libVersion:e.libVersion,runningTime:(Date.now()-r)/1e3/60|0,href:window.location.href},n={method:"GET",headers:new Headers,redirect:"follow"},o=window.encodeURIComponent(JSON.stringify(t));console.log("ProductUsage"),console.log(t),fetch("https://account.bjxbsj.cn/api/product/record?product=My3dtiles&content=".concat(o),n).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}}},96361:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBar=void 0;var i=r(51355),a=r(59645),s=r(32192),c=function(e){function t(t){var r=e.call(this)||this;return r._app=t,r._myStatusBars=function(){var e=r.app.xe2ProjectManager.createSceneObjectFromClass(s.MyStatusBar);r.dispose((function(){return r.app.xe2ProjectManager.destroySceneObject(e)}));var t=r.app.czmViewer;return r.disposeVar((0,a.createAnimateFrameWithStartValues)((function(){var r,n;null===(r=null==t?void 0:t.extensions)||void 0===r||(r.cursorPositionInfo.enabled=!0);var o="",i=t.getCameraInfo();if(i){var a=function(e,t){return i.position[e].toFixed(t)},s=function(e,t){return i.rotation[e].toFixed(t)};o+=":".concat(t.fps,"FPS : ").concat(a(0,5)," : ").concat(a(1,5)," : ").concat(a(2,2)," : ").concat(s(0,2)," : ").concat(s(1,2)," :").concat(s(2,2)," ")}var c=null===(n=t.extensions)||void 0===n?void 0:n.cursorPositionInfo.cursorPosition;o+=c?":".concat((a=function(e,t){return c[e].toFixed(t)})(0,5)," ").concat(a(1,5)," ").concat(a(2,2),"m"):"...",e.text=o}))).start(),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myStatusBar",{get:function(){return this._myStatusBars},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.StatusBar=c},50910:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSearch=void 0,t.parseSearch=function(e){var t,i,a,s,c,l=window.location.search.substring(1),u=new URLSearchParams(l),f=null!==(a=u.get("type"))&&void 0!==a?a:u.get("t"),p=n(n([],r(u.getAll("source")),!1),r(u.getAll("s")),!1),d={suggestType:f,batch:p.length>1};try{for(var h=o(p),g=h.next();!g.done;g=h.next()){var y=g.value;e.loadDataFromUrlOrFilePath(y,d),e.setHasGotDataFromUrl()}}catch(e){t={error:e}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}var m=u.has("fullScreen")||u.has("f");e.fullScreen=m,(u.has("showEditorUi")||u.has("e"))&&(e.showEditorUi=!0);var v=null!==(s=u.get("title"))&&void 0!==s?s:u.get("i");v&&(e.title=v),null!==(c=u.get("debugger"))&&void 0!==c||u.get("d")}},92382:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmContour=void 0;var c=r(80468),l=r(51355),u=r(48269),f=r(59645),p=r(11586),d=r(6997),h=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._pickedEvent=o.disposeVar(new l.Event),o._flyToEvent=o.disposeVar(new l.Event),o._positionsEditing=o.disposeVar(new c.PositionsEditing([o,"positions"],!0,[o,"editing"],o.components)),o._cellWidthComputeFunc=o.disposeVar((0,l.react)(void 0)),o._cellWidthComputeFuncInit=((r=function(){if(o.cellWidthComputeFuncStr){var e=(0,d.getFuncFromStr)(o.cellWidthComputeFuncStr);e&&(o.cellWidthComputeFunc=e)}else o.cellWidthComputeFunc=void 0})(),void o.dispose(o.cellWidthComputeFuncStrChanged.disposableOn(r))),o._breaksComputeFunc=o.disposeVar((0,l.react)(void 0)),o._breaksComputeFuncInit=function(){var e=function(){if(o.breaksComputeFuncStr){var e=(0,d.getFuncFromStr)(o.breaksComputeFuncStr);e&&(o.breaksComputeFunc=e)}else o.breaksComputeFunc=void 0};e(),o.dispose(o.breaksComputeFuncStrChanged.disposableOn(e))}(),o._geoPolygon=function(){var e=f.SceneObject.createFromClass(c.GeoPolygon);o.dispose(o.components.disposableAdd(e)),o.dispose((0,l.track)([e,"positions"],[o,"positions"])),e.fill=!1;var t=function(){return e.show=o.show&&o.showBoundaries};return t(),o.dispose(o.showChanged.disposableOn(t)),o.dispose(o.showBoundariesChanged.disposableOn(t)),o.dispose((0,l.track)([e,"allowPicking"],[o,"allowPicking"])),o.dispose((0,l.track)([e,"ground"],[o,"groundBoundaries"])),e}(),o._bandsGeoJson=function(){var e=f.SceneObject.createFromClass(u.CzmGeoJson);e.clampToGround=!0,o.dispose(o.components.disposableAdd(e)),o.dispose((0,l.track)([e,"show"],[o,"show"]));var t=function(){return e.show=o.show&&o.showBands};return t(),o.dispose(o.showChanged.disposableOn(t)),o.dispose(o.showBandsChanged.disposableOn(t)),e}(),o._linesGeoJson=function(){var e=f.SceneObject.createFromClass(u.CzmGeoJson);e.clampToGround=!0,o.dispose(o.components.disposableAdd(e));var t=function(){return e.show=o.show&&o.showLines};return t(),o.dispose(o.showChanged.disposableOn(t)),o.dispose(o.showLinesChanged.disposableOn(t)),e.loadFuncStr='dataSource => {\n    if (!dataSource) return;\n\n    console.log(`CzmContour linesGeoJson`);\n    console.log(dataSource);\n    var gs = [];\n    const entities = dataSource.entities.values;\n    for (let i = 0; i < entities.length; i++) {\n        const e = entities[i];\n\n        {\n            const cssFillColor = e.properties.fill.getValue();\n            e.polyline.material = Cesium.Color.fromCssColorString(cssFillColor);\n        }\n\n        try {\n            // \n            var h = e.properties.value.getValue()\n            var ps = e.polyline.positions.getValue();\n            var n = ps.length / 2 | 0;\n            var c = Cesium.Cartesian3.clone(ps[n]);\n            gs.push({\n                position: c,\n                label: {\n                    text: `${h.toFixed(2)}`,\n                    font: "16px Helvetica",\n                    fillColor: Cesium.Color.WHITE,\n                    // outlineColor: Cesium.Color.BLACK,\n                    // outlineWidth: 1,\n                    // style: Cesium.LabelStyle.FILL,\n                    heightReference: Cesium.HeightReference.CLAMP_TO_TERRAIN,\n                    showBackground: true,\n                    translucencyByDistance: new Cesium.NearFarScalar(20000, 1.0, 200000, 0.0),\n                },\n            });\n        } catch (error) {\n            console.error(error);\n            continue;   \n        }\n    }\n    for (const g of gs) {\n        dataSource.entities.add(g);\n    }\n}\n',e}(),o._maxHeightPoi=(n=f.SceneObject.createFromClass(c.GeoCustomDivPoi),o.dispose(o.components.disposableAdd(n)),o.dispose((0,l.track)([n,"show"],[o,"showExtremums"])),n),o._minHeightPoi=function(){var e=f.SceneObject.createFromClass(c.GeoCustomDivPoi);return o.dispose(o.components.disposableAdd(e)),o.dispose((0,l.track)([e,"show"],[o,"showExtremums"])),e}(),o._attachedObject=o.dispose(o.createAttachedObject((function(e){if(e instanceof u.CzmViewer)return new p.CzmContourComputing(o,e)}))),o._computing=o.disposeVar((0,l.react)(!1)),o._computeProgress=o.disposeVar((0,l.react)(0)),o._positionsComputingResult=(0,l.react)(void 0),o._pointGridsComputingResult=(0,l.react)(void 0),o.geoPolygon.pickedEvent.disposableOn((function(e){o._pickedEvent.emit(new c.SceneObjectPickedInfo(o,e))})),o.dispose(o._flyToEvent.disposableOn((function(e){o.geoPolygon.flyTo(e)}))),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmContour"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"positionsEditing",{get:function(){return this._positionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellWidthComputeFunc",{get:function(){return this._cellWidthComputeFunc.value},set:function(e){this._cellWidthComputeFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellWidthComputeFuncChanged",{get:function(){return this._cellWidthComputeFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breaksComputeFunc",{get:function(){return this._breaksComputeFunc.value},set:function(e){this._breaksComputeFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breaksComputeFuncChanged",{get:function(){return this._breaksComputeFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoPolygon",{get:function(){return this._geoPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bandsGeoJson",{get:function(){return this._bandsGeoJson},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesGeoJson",{get:function(){return this._linesGeoJson},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeightPoi",{get:function(){return this._maxHeightPoi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeightPoi",{get:function(){return this._minHeightPoi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computing",{get:function(){return this._computing.value},set:function(e){this._computing.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computingChanged",{get:function(){return this._computing.changed},enumerable:!1,configurable:!0}),t.prototype.clearResults=function(){this.pointGridsComputingResult=void 0,this.positionsComputingResult=void 0,this._bandsGeoJson.data=void 0,this._linesGeoJson.data=void 0,this.minHeightPoi.position=void 0,this.maxHeightPoi.position=void 0,this.computeProgress=0},Object.defineProperty(t.prototype,"computeProgress",{get:function(){return this._computeProgress.value},set:function(e){this._computeProgress.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computeProgressChanged",{get:function(){return this._computeProgress.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionsComputingResult",{get:function(){return this._positionsComputingResult.value},set:function(e){this._positionsComputingResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionsComputingResultChanged",{get:function(){return this._positionsComputingResult.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointGridsComputingResult",{get:function(){return this._pointGridsComputingResult.value},set:function(e){this._pointGridsComputingResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointGridsComputingResultChanged",{get:function(){return this._pointGridsComputingResult.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){var n=this;return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("","(showBands)",!1,!1,[this,"showBands"]),new c.BooleanProperty("","(showLines)",!1,!1,[this,"showLines"]),new c.BooleanProperty("","(showBoundaries)",!1,!1,[this,"showBoundaries"]),new c.BooleanProperty("","(groundBoundaries)",!1,!1,[this,"groundBoundaries"]),new c.BooleanProperty("","(showExtremums)",!1,!1,[this,"showExtremums"]),new c.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("","",!1,!1,[this,"editing"]),new c.PositionsProperty("","",!0,!1,[this,"positions"]),new c.BooleanProperty("","(computing)",!1,!1,[this,"computing"]),new c.NumberProperty("","",!1,!0,[this,"computeProgress"]),new c.FunctionProperty("","(clearResults)",[],(function(){return n.clearResults()}),[]),new c.NumberProperty("","",!1,!1,[this,"isolinesFillOpacity"]),new c.NumberProperty("","",!1,!1,[this,"isobandsFillOpacity"]),new c.EvalStringProperty("","",!1,!1,[this,"cellWidthComputeFuncStr"],t.defaultCellWidthComputeFuncStr),new c.EvalStringProperty("","",!1,!1,[this,"breaksComputeFuncStr"],t.defaultBreaksComputeFuncStr)]),new c.GroupProperty("","",[new c.JsonProperty("positionsComputingResult","positionsComputingResult",!0,!1,[this,"positionsComputingResult"]),new c.JsonProperty("pointGridsComputingResult","pointGridsComputingResult",!0,!1,[this,"pointGridsComputingResult"])])],!1)},r=t,t.type=r.register("CzmContour",r,{chsName:"CzmContour",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmContour"}),t.defaults=i({},c.ESSceneObject.defaults),t.defaultCellWidthComputeFunc=function(e,t){return Math.sqrt(e*t/5e3)},t.defaultCellWidthComputeFuncStr="function (width, height) {\n    const cellWidth = Math.sqrt((width * height) / 5000); // 50005000\n    return cellWidth;\n}",t.breakColors=["#e3e3ff","#c6c6ff","#a9aaff","#8e8eff","#7171ff","#5554ff","#3939ff","#1b1cff","#1500ff"],t.defaultBreaksComputeFunc=function(e,r){var n=(r-e)/9,o=s([],a(new Array(9).keys()),!1).map((function(t){return e+t*n})).map((function(e,r){return[e,t.breakColors[r]]}));return{lines:o.map((function(e){return[e[0],"#FFFF00FF"]})),bands:o}},t.defaultBreaksComputeFuncStr="function (minHeight, maxHeight) {\n    const interval = (maxHeight - minHeight) / 9;\n    const { CzmContour } = XE2['my3dtiles-lib-main'];\n    const bandsBreaks = [...new Array(9).keys()].map(i => minHeight + i * interval).map((e, i) => [e, CzmContour.breakColors[i]]);\n    const lineBreaks = bandsBreaks.map(e => [e[0], '#FFFF00FF']);\n    // const breaks = [[2600, '#FF0000FF'], [3000, '#FFFF00FF']]; // \n    return {\n        lines: lineBreaks,\n        bands: bandsBreaks,\n    };\n}",t}(c.ESSceneObject);t.CzmContour=h,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,showBands:!0,showLines:!0,showBoundaries:!0,groundBoundaries:!0,showExtremums:!1,allowPicking:!1,editing:!1,positions:(0,l.reactPositions)([]),isobandsFillOpacity:.8,isolinesFillOpacity:1,cellWidthComputeFuncStr:void 0,breaksComputeFuncStr:void 0})}}(h=t.CzmContour||(t.CzmContour={})),t.CzmContour=h,(0,l.extendClassProps)(h.prototype,h.createDefaultProps)},11586:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmContourComputing=void 0;var p=s(r(39752)),d=s(r(81557)),h=r(51355),g=r(59645),y=r(11942),m=r(92382),v=r(92161),b=function(e){function t(t,r){var n=e.call(this)||this;n._sceneObject=t,n._czmViewer=r,n._positionsDirty=!0,n._cellWidthComputeFuncDirty=!0,n._breaksComputeFuncDirty=!0,n._dirtyInit=(n.dispose(n.sceneObject.positionsChanged.disposableOn((function(){n._positionsDirty=!0}))),n.dispose(n.sceneObject.cellWidthComputeFuncChanged.disposableOn((function(){n._cellWidthComputeFuncDirty=!0}))),void n.dispose(n.sceneObject.breaksComputeFuncChanged.disposableOn((function(){n._breaksComputeFuncDirty=!0})))),n._computing=n.disposeVar((0,g.createProcessingFromAsyncFunc)((function(e){return c(n,void 0,void 0,(function(){var t,r,n,o,i,a,s,c,h,b,w,_,P,x,O,C,S,E,M,j,k,T,I,F,A,L,R,D,B,N,z,G,V,q,U,H,W,J,Y,X,Z,$=this;return l(this,(function(l){switch(l.label){case 0:return[4,e.promise((0,g.sleep)(1e3))];case 1:if(l.sent(),!this.sceneObject.positions||this.sceneObject.positions.length<3)return console.warn("!sceneObject.positions || sceneObject.positions.length < 3"),[2];if((K=$.sceneObject.positions.map((function(e){return[e[0],e[1]]}))).push(K[0]),t=p.polygon([K]),(!this.sceneObject.positionsComputingResult||this._positionsDirty||this._cellWidthComputeFuncDirty)&&(this._positionsDirty=!1,this._cellWidthComputeFuncDirty=!1,i=p.bbox(t),r=p.distance(p.point([i[0],i[1]]),p.point([i[2],i[1]]),{units:"meters"}),P=p.distance(p.point([i[0],i[1]]),p.point([i[0],i[3]]),{units:"meters"}),n=null!==(X=this.sceneObject.cellWidthComputeFunc)&&void 0!==X?X:m.CzmContour.defaultCellWidthComputeFunc,a=n(r,P),this.sceneObject.positionsComputingResult={bbox:i,width:r,height:P,cellWidth:a}),this.sceneObject.pointGridsComputingResult)return[3,6];if(o=this.sceneObject.positionsComputingResult,i=o.bbox,a=o.cellWidth,z=p.pointGrid(i,a,{units:"meters"}),this.czmViewer.sceneGlobeDepthTestAgainstTerrain||(console.warn(""),this.czmViewer.sceneGlobeDepthTestAgainstTerrain=!0),!(s=this.czmViewer.viewer))return[2];c=z.features.length,h=void 0,b=void 0,w=0,l.label=2;case 2:return w<c?(console.log("".concat(w,"/").concat(c," = ").concat((w/c*100).toFixed(2),"%")),_=z.features[w].geometry.coordinates,P=s.scene.sampleHeight(d.Cartographic.fromDegrees(_[0],_[1])),z.features[w].properties.value=P,x=[_[0],_[1],P],z.features[w].properties.position=x,(O=p.booleanPointInPolygon(z.features[w],t))&&((!h||P>h[2])&&(h=x),(!b||P<b[2])&&(b=x)),z.features[w].properties.isInPolygon=O,this.sceneObject.computeProgress=w/c*.98,w%10!=0?[3,4]:[4,(0,g.sleep)(10)]):[3,5];case 3:l.sent(),e.check(),l.label=4;case 4:return w++,[3,2];case 5:if(!b||!h)return console.warn(""),[2];C=this.sceneObject,S=C.minHeightPoi,E=C.maxHeightPoi,M=b,S.position=M,S.innerHTML=(0,y.createInnerHtmlWithWhiteTextBlackBackground)("(".concat(M[0].toFixed(6),", ").concat(M[1].toFixed(6),", ").concat(M[2].toFixed(2),")")),M=h,E.position=h,E.innerHTML=(0,y.createInnerHtmlWithWhiteTextBlackBackground)("(".concat(M[0].toFixed(6),", ").concat(M[1].toFixed(6),", ").concat(M[2].toFixed(2),")")),j=b[2],k=h[2],this.sceneObject.pointGridsComputingResult={minHeight:j,maxHeight:k,pointGrid:z},l.label=6;case 6:return T=void 0,I=this.sceneObject.pointGridsComputingResult,F=I.minHeight,A=I.maxHeight,L=null!==(Z=this.sceneObject.breaksComputeFunc)&&void 0!==Z?Z:m.CzmContour.defaultBreaksComputeFunc,(T=L(F,A))?(z=this.sceneObject.pointGridsComputingResult.pointGrid,R={zProperty:"value",commonProperties:{"fill-opacity":this.sceneObject.isobandsFillOpacity},breaksProperties:T.bands.map((function(e){return{fill:e[1]}}))},V=T.bands.map((function(e){return e[0]})),D=p.isobands(z,V,R),e.check(),B=p.flatten(t),W=p.flatten(D),N=[],W.features.forEach((function(e){B.features.forEach((function(t){var r=null;try{r=p.intersect(p.featureCollection([e,t]))}catch(o){var n=p.buffer(e,0);try{r=p.intersect(p.featureCollection([n,t]))}catch(e){console.warn("turf.intersect error")}}r&&(r.properties=e.properties,N.push(r))}))})),Y=p.featureCollection(N),this.sceneObject.bandsGeoJson.data=Y,this.sceneObject.computeProgress=.99,z=this.sceneObject.pointGridsComputingResult.pointGrid,G={zProperty:"value",commonProperties:{"fill-opacity":this.sceneObject.isolinesFillOpacity},breaksProperties:T.lines.map((function(e){return{fill:e[1]}}))},V=T.lines.map((function(e){return e[0]})),q=this.sceneObject.positionsComputingResult.cellWidth,U=p.isolines(z,V,G),e.check(),H=p.flatten(t),W=p.flatten(U),J=[],W.features.forEach((function(e){H.features.forEach((function(t){var r=null;try{r=(0,v.lineIntersect)(e,t,.2*q)}catch(n){e=p.buffer(e,0);try{r=(0,v.lineIntersect)(e,t,.2*q)}catch(e){console.warn("turf.intersect error")}}r&&J.push.apply(J,f([],u(r),!1))}))})),Y=p.featureCollection(J),this.sceneObject.linesGeoJson.data=Y,this.sceneObject.computeProgress=1,[2]):[2]}var K}))}))}))),n._computingInit=(n._computing.completeFunc=function(){return n.sceneObject.computing=!1},void(n._computing.errorFunc=function(){return n.sceneObject.computing=!1}));var o=function(){if(n._computing.cancel(),n.sceneObject.computing){var e=n.sceneObject.positions;!e||e.length<3||n._computing.restart()}};return o(),n.dispose(n.sceneObject.computingChanged.disposableOn(o)),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(h.Destroyable);t.CzmContourComputing=b},11942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInnerHtmlWithWhiteTextBlackBackground=void 0,t.createInnerHtmlWithWhiteTextBlackBackground=function(e,t){void 0===t&&(t=48);var r=e.split("\n").map((function(e){return'\n        <div style="height: 24px; line-height: 24px">\n            '.concat(e,"\n        </div>\n        ")}));return'\n        <div style="\n            background: rgba(0, 0, 0, 0.6);\n            color: white;\n            border-radius: 5px;\n            padding: 0 10px 0 10px;\n            font-size: 14px;\n            white-space: nowrap;\n        ">\n            '.concat(r.join(" "),'\n        </div>\n        <div style="\n            height: ').concat(t,'px;\n            width: 2px;\n            background: rgba(0, 0, 0, 0.6);\n            margin: auto;\n        ">\n        </div>\n    ')}},98494:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(92382),t)},92161:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.lineIntersect=void 0;var a=i(r(39752));t.lineIntersect=function(e,t,r){var n=a.lineIntersect(e,t),o=a.buffer(t,r,{units:"meters"});if(o){if(0===n.features.length)return e.geometry.coordinates.every((function(e){return a.booleanPointInPolygon(e,o,{ignoreBoundary:!0})}))?[e]:void 0;var i=a.multiPoint(n.features.filter((function(e){return"Point"===e.geometry.type})).map((function(e){return e.geometry.coordinates}))),s=a.lineSplit(e,i).features.filter((function(e){return e.geometry.coordinates.every((function(e){return a.booleanPointInPolygon(e,o,{ignoreBoundary:!0})}))}));return s.forEach((function(t){return t.properties=e.properties})),s}}},46505:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return s(t,e),t},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSectioningLine2=void 0;var d=r(80468),h=r(51355),g=r(59645),y=r(48269),m=c(r(81557)),v=r(48269),b=function(e){function t(t,r){var n=e.call(this)||this;n._czmViewer=t,n._sceneObject=r;var o=n.disposeVar((0,g.createProcessingFromAsyncFunc)((function(e){return l(n,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,e.promise((0,g.sleep)(1e3))];case 1:return t.sent(),function(){var e,t;if(n.czmViewer.actived){var r=n.czmViewer.viewer;if(r){var o=r.scene,i=n.sceneObject.positions;if(i){for(var a=i.length,s=[],c=0;c<a-1;++c){var l=i[c],u=i[c+1],p=f(l,3),d=p[0],h=p[1],g=p[2],y=f(u,3),v=y[0],b=y[1],w=y[2],_=m.Cartographic.fromDegrees(d,h,g),P=m.Cartographic.fromDegrees(v,b,w),x=new m.EllipsoidGeodesic(_,P),O=0;c>0&&(O=s[c-1].accumDistance);var C=null!==(e=n.sceneObject.segmentsNumArray[c])&&void 0!==e?e:n.sceneObject.defaultSegmentsNum;C<1&&(C=1);for(var S=x.surfaceDistance/C,E=m.Math.toDegrees,M=[],j=0;j<=C;++j){var k=S*j,T=x.interpolateUsingSurfaceDistance(k),I=[E(T.longitude),E(T.latitude),T.height],F=null!==(t=o.sampleHeight(T))&&void 0!==t?t:0;M.push({p:I,c:T,distance:k,accumDistance:O+k,height:F})}s.push({p0:l,p1:u,c0:_,c1:P,ellipsoidGeodesic:x,distance:x.surfaceDistance,accumDistance:O+x.surfaceDistance,segments:M})}n.sceneObject.analysisResult=s;var A=s.map((function(e){return e.segments.map((function(e){return[e.accumDistance,e.height]}))})).flat(1);if(A.length>0){var L=A[0][1];A=A.map((function(e){return[e[0],e[1]-L]}))}var R={xAxis:{type:"value"},yAxis:{type:"value"},series:[{data:A,type:"line"}]};n.sceneObject.echartsOptionsStr="option = "+JSON.stringify(R,void 0,"    ")}}}}(),[2]}}))}))}))),i=n.disposeVar((0,h.createNextAnimateFrameEvent)(n.sceneObject.positionsChanged,n.sceneObject.segmentsNumArrayChanged,n.sceneObject.defaultSegmentsNumChanged,n.sceneObject.forceUpdateEvent));return n.dispose(i.disposableOn((function(){o.restart()}))),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(h.Destroyable),w=function(e){function t(t){var r,n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new h.Event),n._flyToEvent=n.disposeVar(new h.Event),n._sPositionsEditing=n.disposeVar(new d.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n._forceUpdateEvent=n.disposeVar(new h.Event),n._analysisResult=n.disposeVar((0,h.react)(void 0)),n._echartsOptionsStr=n.disposeVar((0,h.react)("")),n._line=((r=n.disposeVar(g.SceneObject.createFromClass(y.CzmPolylineGroundPrimitive))).width=2,n.dispose(n.components.disposableAdd(r)),n.dispose((0,h.track)([r,"show"],[n,"show"])),n.dispose((0,h.bind)([r,"positions"],[n,"positions"])),n.dispose((0,h.bind)([r,"editing"],[n,"editing"])),r),n._sectioningChartPerView=void n.dispose(n.createAttachedObject((function(e){if(e instanceof v.CzmViewer)return new b(e,n)}))),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSectioningLine2"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceUpdateEvent",{get:function(){return this._forceUpdateEvent},enumerable:!1,configurable:!0}),t.prototype.forceUpdate=function(){this._forceUpdateEvent.emit()},Object.defineProperty(t.prototype,"analysisResult",{get:function(){return this._analysisResult.value},set:function(e){this._analysisResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"analysisResultChanged",{get:function(){return this._analysisResult.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"echartsOptionsStr",{get:function(){return this._echartsOptionsStr.value},set:function(e){this._echartsOptionsStr.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"echartsOptionsStrChanged",{get:function(){return this._echartsOptionsStr.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._line},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var r=this;return p(p([],f(e.prototype.getProperties.call(this,t)),!1),[new d.GroupProperty("","",[new d.BooleanProperty("","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new d.PositionsProperty("","",!0,!1,[this,"positions"]),new d.BooleanProperty("",".",!1,!1,[this,"editing"]),new d.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new d.FunctionProperty("","",[],(function(){return r.forceUpdate()}),[]),new d.FunctionProperty("","",["number"],(function(e){return r.flyTo(e)}),[1e3])])],!1)},r=t,t.type=r.register("CzmSectioningLine2",r,{chsName:"",tags:["CzmObjects","_ES_Impl_Cesium"],description:"2"}),t}(d.ESSceneObject);t.CzmSectioningLine2=w,function(e){e.createDefaultProps=function(){return i({show:!0,positions:(0,h.reactPositions)(void 0),editing:!1,allowPicking:!1,defaultSegmentsNum:20,segmentsNumArray:(0,h.reactArray)([])},d.ESSceneObject.createDefaultProps())}}(w=t.CzmSectioningLine2||(t.CzmSectioningLine2={})),t.CzmSectioningLine2=w,(0,h.extendClassProps)(w.prototype,w.createDefaultProps)},60130:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return s(t,e),t},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSectioningLine3=void 0;var d=r(80468),h=r(51355),g=r(59645),y=r(48269),m=c(r(81557)),v=r(48269),b=function(e){function t(t,r){var n=e.call(this)||this;n._czmViewer=t,n._sceneObject=r;var o=n.disposeVar((0,g.createProcessingFromAsyncFunc)((function(e){return l(n,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,e.promise((0,g.sleep)(1e3))];case 1:return t.sent(),function(){var e,t;if(n.czmViewer.actived){var r=n.czmViewer.viewer;if(r){var o=r.scene,i=n._sceneObject.rayEditing.destination;if(i){var a=n.sceneObject.position;if(a){for(var s=[a,i],c=s.length,l=[],u=0;u<c-1;++u){var p=s[u],d=s[u+1],h=f(p,3),g=h[0],y=h[1],v=h[2],b=f(d,3),w=b[0],_=b[1],P=b[2],x=m.Cartographic.fromDegrees(g,y,v),O=m.Cartographic.fromDegrees(w,_,P),C=new m.EllipsoidGeodesic(x,O),S=0;u>0&&(S=l[u-1].accumDistance);var E=null!==(e=n.sceneObject.segmentsNumArray[u])&&void 0!==e?e:n.sceneObject.defaultSegmentsNum;E<1&&(E=1);for(var M=C.surfaceDistance/E,j=m.Math.toDegrees,k=[],T=0;T<=E;++T){var I=M*T,F=C.interpolateUsingSurfaceDistance(I),A=[j(F.longitude),j(F.latitude),F.height],L=null!==(t=o.sampleHeight(F))&&void 0!==t?t:0;k.push({p:A,c:F,distance:I,accumDistance:S+I,height:L})}l.push({p0:p,p1:d,c0:x,c1:O,ellipsoidGeodesic:C,distance:C.surfaceDistance,accumDistance:S+C.surfaceDistance,segments:k})}n.sceneObject.analysisResult=l;var R=l.map((function(e){return e.segments.map((function(e){return[e.accumDistance,e.height]}))})).flat(1);if(R.length>0){var D=R[0][1];R=R.map((function(e){return[e[0],e[1]-D]}))}var B={xAxis:{type:"value"},yAxis:{type:"value"},series:[{data:R,type:"line"}]};n.sceneObject.echartsOptionsStr="option = "+JSON.stringify(B,void 0,"    ")}}}}}(),[2]}}))}))}))),i=n.disposeVar((0,h.createNextAnimateFrameEvent)(n.sceneObject.positionChanged,n.sceneObject.rotationChanged,n.sceneObject.distanceChanged,n.sceneObject.segmentsNumArrayChanged,n.sceneObject.defaultSegmentsNumChanged,n.sceneObject.forceUpdateEvent));return n.dispose(i.disposableOn((function(){o.restart()}))),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(h.Destroyable),w=function(e){function t(t){var r=e.call(this,t)||this;return r._pickedEvent=r.disposeVar(new h.Event),r._flyToEvent=r.disposeVar(new h.Event),r._rayEditing=r.disposeVar(new d.RayEditing(r.positionReact,r.rotationReact,r.distanceReact,[r,"editing"],r.components)),r._forceUpdateEvent=r.disposeVar(new h.Event),r._analysisResult=r.disposeVar((0,h.react)(void 0)),r._echartsOptionsStr=r.disposeVar((0,h.react)("")),r._line=function(){var e=r.disposeVar(g.SceneObject.createFromClass(y.CzmPolylineGroundPrimitive));e.width=2,r.dispose(r.components.disposableAdd(e)),r.dispose((0,h.track)([e,"show"],[r,"show"]));var t=function(){var t=r.position,n=r.rayEditing.destination;e.positions=t&&n?[t,n]:void 0};t();var n=r.disposeVar((0,h.createNextAnimateFrameEvent)(r.positionChanged,r.rayEditing.destinationChanged));return r.dispose(n.disposableOn(t)),e}(),r._sectioningChartPerView=void r.dispose(r.createAttachedObject((function(e){if(e instanceof v.CzmViewer)return new b(e,r)}))),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSectioningLine3"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"rayEditing",{get:function(){return this._rayEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceUpdateEvent",{get:function(){return this._forceUpdateEvent},enumerable:!1,configurable:!0}),t.prototype.forceUpdate=function(){this._forceUpdateEvent.emit()},Object.defineProperty(t.prototype,"analysisResult",{get:function(){return this._analysisResult.value},set:function(e){this._analysisResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"analysisResultChanged",{get:function(){return this._analysisResult.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"echartsOptionsStr",{get:function(){return this._echartsOptionsStr.value},set:function(e){this._echartsOptionsStr.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"echartsOptionsStrChanged",{get:function(){return this._echartsOptionsStr.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._line},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var r=this;return p(p([],f(e.prototype.getProperties.call(this,t)),!1),[new d.GroupProperty("","",[new d.BooleanProperty("","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new d.PositionProperty("","",!0,!1,[this,"position"]),new d.RotationProperty("","",!1,!1,[this,"rotation"]),new d.NumberProperty("","",!1,!1,[this,"distance"]),new d.BooleanProperty("",".",!1,!1,[this,"editing"]),new d.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new d.FunctionProperty("","",[],(function(){return r.forceUpdate()}),[]),new d.FunctionProperty("","",["number"],(function(e){return r.flyTo(e)}),[1e3])])],!1)},r=t,t.type=r.register("CzmSectioningLine3",r,{chsName:"",tags:["CzmObjects","_ES_Impl_Cesium"],description:"2"}),t}(d.ESSceneObject);t.CzmSectioningLine3=w,function(e){e.createDefaultProps=function(){return i({show:!0,position:(0,h.reactArrayWithUndefined)(void 0),rotation:(0,h.reactArray)([0,0,0]),distance:0,editing:!1,allowPicking:!1,defaultSegmentsNum:20,segmentsNumArray:(0,h.reactArray)([])},d.ESSceneObject.createDefaultProps())}}(w=t.CzmSectioningLine3||(t.CzmSectioningLine3={})),t.CzmSectioningLine3=w,(0,h.extendClassProps)(w.prototype,w.createDefaultProps)},64974:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSlope=void 0;var p=s(r(81557)),d=r(80468),h=r(48269),g=r(9675),y=r(81901),m=r(97170),v=p.Math.toRadians,b=p.Math.toDegrees,w=function(e){function t(t,r){var n=e.call(this,t,r)||this,o=r.viewer;if(!o)throw console.warn("viewer is undefined!"),new Error("viewer is undefined!");var i=o.scene.globe,a=n.disposeVar(new d.GeoPolyline);a.width=10,a.hasArrow=!0,a.color=[0,1,0,1],r.add(a),n.dispose((function(){return r.delete(a)})),n.dispose((0,g.track)([a,"show"],[t,"show"])),n.dispose((0,g.track)([a,"allowPicking"],[t,"allowPicking"])),n.dispose(a.pickedEvent.disposableOn((function(e){var r;null!==(r=t.allowPicking)&&void 0!==r&&r&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))})));var s=function(){var e,r;do{if(!t.rotation||!t.position)break;var n=null!==(e=t.radius)&&void 0!==e?e:10,o=(0,d.geoDestination)(t.position,n,t.rotation[0]);if(!o)break;o[2]+=Math.tan(v(t.rotation[1]))*n,r=[t.position,o]}while(0);a.positions=r};s();var m=n.disposeVar((0,g.createNextAnimateFrameEvent)(t.positionChanged,t.rotationChanged,t.radiusChanged));n.dispose(m.disposableOn(s)),n._calculatingProcessing=n.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return c(n,void 0,void 0,(function(){var r,n,o,a,s,c,h,g,y,m,w,_,P,x;return l(this,(function(l){if(!(r=t.position))return[2];if(n=null!==(x=t.radius)&&void 0!==x?x:10,console.log("..."),o=f([],u(new Array(30).keys()),!1).map((function(e){return(0,d.geoDestination)(r,n,12*e)})).filter((function(e){return!!e})).map((function(e){return new p.Cartographic(v(e[0]),v(e[1]),e[2])})),console.log("sampleHeightMostDetailed begin"),console.log(o),(a=o.map((function(e){return i.getHeight(e)}))).some((function(e){return void 0===e})))throw new Error("scene.sampleHeight");for(e.check(),console.log("sampleHeightMostDetailed end "),s=0,c=-1,h=a.length,g=0;g<h;++g)y=Math.abs(a[g]-r[2]),s<y&&(s=y,c=g);return c>=0&&(console.log("maxAbsHeightIndex: ".concat(c)),m=o[c],w=[b(m.longitude),b(m.latitude),a[c]],_=(0,d.geoHeading)(r,w),P=Math.atan((w[2]-r[2])/n),t.rotation=[_,b(P),0]),[2]}))}))}))),n.dispose(n._calculatingProcessing.completeEvent.disposableOn((function(){t.calculating=!1}))),n.dispose(t.calculatingChanged.disposableOn((function(){n._calculatingProcessing.isRunning&&n._calculatingProcessing.cancel(),t.calculating&&n._calculatingProcessing.restart()}))),n.dispose(t.editingChanged.disposableOn((function(){t.calculating=!0}))),n.dispose(t.flyToEvent.disposableOn((function(e){var n;if(r.actived)if(t.position){var o=20*(null!==(n=t.radius)&&void 0!==n?n:10);r.flyTo(t.position,o,void 0,e)}else console.log("!czmSlope.position")})));var w,_=n.disposeVar(new d.GeoCustomDivPoi);return n.dispose((0,g.track)([_,"show"],[t,"show"])),r.add(_),_.dispose((function(){return r.delete(_)})),(w=function(){t.position?_.position=t.position:_.position=void 0})(),n.dispose(t.positionChanged.disposableOn(w)),(w=function(){_.show=!!t.rotation,_.innerHTML=t.rotation&&(0,h.createInnerHtmlWithWhiteTextBlackBackground)(": ".concat((0,h.angleToHumanStr)(t.rotation[0]),"\n").concat((0,h.angleToHumanStr)(t.rotation[1])),24)})(),n.dispose(t.rotationChanged.disposableOn(w)),n.dispose(_.innerHtmlMounted.disposableOn((function(e){var r=e.firstElementChild;r&&(r.style.pointerEvents="auto",r.style.cursor="default",r.onclick=function(){return t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,new d.DivPickedInfo(r)))})}))),n}var r;return o(t,e),r=t,t.type=r.register(m.CzmSlope.type,r),t}(h.CzmObject);t.CzmCzmSlope=w},97170:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSlope=void 0;var c=r(80468),l=r(51355),u=function(e){function t(t){var r=e.call(this,t)||this;return r._pickedEvent=r.disposeVar(new l.Event),r._flyToEvent=r.disposeVar(new l.Event),r._positionEditing=r.disposeVar(new c.PositionEditing([r,"position"],[r,"editing"],r.components)),r.name="CzmSlope(".concat(r.id,")"),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSlope"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"positionEditing",{get:function(){return this._positionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanWithNullProperty("","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanWithNullProperty("","",!1,!1,[this,"allowPicking"]),new c.PositionProperty("","(//)",!0,!1,[this,"position"]),new c.RotationProperty("","(//)",!1,!1,[this,"rotation"]),new c.BooleanWithNullProperty("",".",!1,!1,[this,"editing"]),new c.NumberProperty("","",!1,!1,[this,"radius"]),new c.BooleanWithNullProperty("",".",!1,!1,[this,"calculating"])])],!1)},r=t,t.type=r.register("CzmSlope",r,{chsName:"",tags:["M3tObjects"],description:"CzmSlope"}),t}(c.ESSceneObject);t.CzmSlope=u,function(e){e.createDefaultProps=function(){return i({show:!0,allowPicking:!1,position:(0,l.reactArrayWithUndefined)(void 0),rotation:(0,l.reactArray)([0,0,0]),editing:!1,radius:10,calculating:!1},c.ESSceneObject.createDefaultProps())}}(u=t.CzmSlope||(t.CzmSlope={})),t.CzmSlope=u,(0,l.extendClassProps)(u.prototype,u.createDefaultProps)},79245:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(97170),t),o(r(64974),t)},8421:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPointerCreator=void 0;var u=r(80468),f=r(51355),p=r(59645),d=function(e){function t(t){var r,n,i=e.call(this,t)||this;return i._cursorInfo=i.disposeVar(p.SceneObject.createFromClass(u.CursorInfo)),i._cursorInfoInit=function(){i.dispose(i.components.disposableAdd(i._cursorInfo)),i._cursorInfo.text="ESC";var e=function(){i._cursorInfo.show=i.enabled};e(),i.dispose(i.enabledChanged.disposableOn(e))}(),i._geoCoordinatesPicker=i.disposeVar(p.SceneObject.createFromClass(u.GeoCoordinatesPicker)),i._geoCoordinatesPickerInit=void i.dispose(i.components.disposableAdd(i._geoCoordinatesPicker)),i._createdEvent=i.disposeVar(new f.Event),i._creatingProcessing=i.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return a(i,void 0,void 0,(function(){var t,r=this;return s(this,(function(n){switch(n.label){case 0:t=function(){r._geoCoordinatesPicker.enabled=!1,r._geoCoordinatesPicker.position=void 0,r._geoCoordinatesPicker.enabledChanged.afterCallback=void 0,r.enabled=!1},e.disposer.dispose(t),n.label=1;case 1:return this._geoCoordinatesPicker.position=void 0,this._geoCoordinatesPicker.enabled=!0,[4,e.promise(new Promise((function(e){r._geoCoordinatesPicker.enabledChanged.afterCallback=function(){if(r._geoCoordinatesPicker.enabled)throw console.error("this._geoCoordinatesPicker.enabled true"),new Error("this._geoCoordinatesPicker.enabled true");r._geoCoordinatesPicker.position&&r._createdEvent.emit(r._geoCoordinatesPicker.position),r._geoCoordinatesPicker.enabledChanged.afterCallback=void 0,e()}})))];case 2:n.sent(),n.label=3;case 3:if(this.continous)return[3,1];n.label=4;case 4:return[2]}}))}))}))),i._creatingProcessingInit=void i.dispose(i.enabledChanged.disposableOn((function(){i.enabled?i._creatingProcessing.restart():i._creatingProcessing.cancel()}))),i._interactionInit=(r=i,n=function(e){function t(t){var n=e.call(this)||this;return n.dispose(t.interaction.pointerClick.clickEvent.disposableOn((function(e){2===e.button&&(r.enabled=!1)}))),n.dispose(t.interaction.pointerClick.dbclickEvent.disposableOn((function(e){0===e.button&&(r.enabled=!1)}))),n.dispose(t.interaction.keyUpEvent.disposableOn((function(e){"Escape"===e.key&&(r.enabled=!1)}))),n}return o(t,e),t}(f.Destroyable),void i.registerAttachedObject((function(e){return new n(e)}))),i}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"GeoPointerCreator"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoCoordinatesPicker",{get:function(){return this._geoCoordinatesPicker},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createdEvent",{get:function(){return this._createdEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return l(l([],c(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","",!1,!1,[this,"enabled"])])],!1)},r=t,t.type=r.register("GeoPointerCreator",r,{chsName:"GeoPointerCreator",tags:["ESObjects","_ES_Impl_Cesium"],description:"GeoPointerCreator"}),t.defaults=i({},u.ESSceneObject.defaults),t}(u.ESSceneObject);t.GeoPointerCreator=d,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{enabled:!1,continous:!0})}}(d=t.GeoPointerCreator||(t.GeoPointerCreator={})),t.GeoPointerCreator=d,(0,f.extendClassProps)(d.prototype,d.createDefaultProps)},78685:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Computing=void 0;var d=s(r(81557)),h=r(80468),g=r(51355),y=r(59645),m=function(e){function t(t,r){var n=e.call(this)||this;return n._czmViewer=t,n._sceneObject=r,n._processing=n.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return c(n,void 0,void 0,(function(){var t,r,n,o,i,a,s,c,g,m,v,b,w,_,P,x,O,C,S,E,M,j,k,T,I,F,A;return l(this,(function(l){switch(l.label){case 0:return this.sceneObject.showAnalysisResult=!1,this.sceneObject.showWings=!1,this.sceneObject.airplane.show=!1,[4,e.promise((0,y.sleep)(1e3))];case 1:if(l.sent(),!this.czmViewer.actived)return[2];if(!(t=this.czmViewer.viewer))return[2];if(r=t.scene,!(n=this.sceneObject.path.geoPolylinePath.positions))return[2];o=[],i=this.sceneObject.minHieght;try{for(a=u(n),s=a.next();!s.done;s=a.next())c=s.value,g=d.Cartographic.fromDegrees(c[0],c[1],c[2]),m=null!==(A=r.sampleHeight(g))&&void 0!==A?A:0,o.push([c[0],c[1],Math.max(c[2],m+i)])}catch(e){I={error:e}}finally{try{s&&!s.done&&(F=a.return)&&F.call(a)}finally{if(I)throw I.error}}return this.sceneObject.computedPath.positions=o,v=this.sceneObject.computedPath.totalDistance,(b=this.sceneObject.computingIntervalDistance)<=0&&(b=v/20),(w=1+(v/b|0))<2?[2]:(_=v/w,[4,(0,y.sleep)(100)]);case 2:for(l.sent(),P=[],x=[],O=0;O<w;++O)this.sceneObject.computedPath.currentDistance=_*O,C=this.sceneObject.computedPath,S=C.currentPosition,E=C.currentRotation,S&&(P.push(p([],f(S),!1)),E&&(M=(0,h.geoDestination)(S,this.sceneObject.wingWidth,E[0]-90),j=(0,h.geoDestination)(S,this.sceneObject.wingWidth,E[0]+90),M&&j&&(x.push([M,j]),k=p([],f(S),!1),(T=p([],f(k),!1))[2]-=this.sceneObject.minHieght,x.push([k,T]))));return this.sceneObject.computedPath2.positions=P,this.sceneObject.wings.positions=x,this.sceneObject.showAnalysisResult=!0,this.sceneObject.showWings=!0,this.sceneObject.airplane.show=!0,[2]}}))}))}))),n._processingInit=void n.dispose(n.sceneObject.computeEvent.disposableOn((function(){n._processing.restart()}))),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(g.Destroyable);t.Computing=m},29035:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MltrRoute=void 0;var c=r(80468),l=r(51355),u=r(48269),f=r(59645),p=r(78685),d=function(e){function t(t){var r,n,o,i,a,s,d=e.call(this,t)||this;return d._pickedEvent=d.disposeVar(new l.Event),d._flyToEvent=d.disposeVar(new l.Event),d._computingInit=void d.dispose(d.createAttachedObject((function(e){if(e instanceof u.CzmViewer)return new p.Computing(e,d)}))),d._positionsEditing=d.disposeVar(new c.PositionsEditing([d,"positions"],!0,[d,"editing"],d.components)),d._path=(n=d.disposeVar(f.SceneObject.createFromClass(c.GeoBezierPath)),d.dispose(d.components.disposableAdd(n)),n.currentPoiShow=!1,(r=function(){return n.show=d.show})(),d.dispose(d.showChanged.disposableOn(r)),(r=function(){return n.positions=d.positions})(),d.dispose(d.positionsChanged.disposableOn(r)),n),d._computedPath=function(){var e=d.disposeVar(f.SceneObject.createFromClass(c.GeoPolylinePath));d.dispose(d.components.disposableAdd(e)),e.currentPoiShow=!1;var t=function(){return e.show=d.show&&d.showAnalysisResult&&d.showAnalysisResult1};return t(),d.dispose(d.showChanged.disposableOn(t)),d.dispose(d.showAnalysisResultChanged.disposableOn(t)),d.dispose(d.showAnalysisResult1Changed.disposableOn(t)),e}(),d._computedPath2=function(){var e=d.disposeVar(f.SceneObject.createFromClass(c.GeoBezierPath));d.dispose(d.components.disposableAdd(e)),e.color=[0,1,0,1],e.currentPoiShow=!1,e.depthTest=!0;var t=function(){return e.show=d.show&&d.showAnalysisResult&&d.showAnalysisResult2};return t(),d.dispose(d.showChanged.disposableOn(t)),d.dispose(d.showAnalysisResultChanged.disposableOn(t)),d.dispose(d.showAnalysisResult2Changed.disposableOn(t)),e}(),d._wings=function(){var e=d.disposeVar(f.SceneObject.createFromClass(c.GeoPolylines));d.dispose(d.components.disposableAdd(e)),e.color=[0,1,0,.5],e.depthTest=!0;var t=function(){return e.show=d.show&&d.showWings};return t(),d.dispose(d.showChanged.disposableOn(t)),d.dispose(d.showWingsChanged.disposableOn(t)),e}(),d._player=(o=d.disposeVar(f.SceneObject.createFromClass(c.Player)),d.dispose(d.components.disposableAdd(o)),o.duration=1e4,o.loop=!0,o),d._playerUi=(i=d.disposeVar(f.SceneObject.createFromJson({type:"MyPlayerUI",name:"",layoutCssText:"\n    position: absolute;\n    left: 50%;\n    right: unset;\n    top: unset;\n    bottom: 10px;\n    width: 600px;\n    height: 50px;\n    transform: translateX(-50%);\n    \n            zIndex: 100;\n            pointerEvents: all;\n        \n    "})),d.dispose(d.components.disposableAdd(i)),i.targetID=d.player.id,i),d._airplane=(a=d.disposeVar(f.SceneObject.createFromJson({type:"CzmModelPrimitive",name:"Cesium_Air",url:"${my3dtiles-assets-script-dir}/assets/gltfs/misc/Cesium_Air.glb",allowPicking:!0,minimumScale:1,pixelSize:3})),d.dispose(d.components.disposableAdd(a)),a),d._tracker=(s=d.disposeVar(f.SceneObject.createFromClass(c.GeoSceneObjectPathPlayerTracker)),d.dispose(d.components.disposableAdd(s)),s.pathId=d.computedPath2.id,s.playerId=d.player.id,s.targetObjId=d.airplane.id,s.enabled=!0,s),d._computeEvent=d.disposeVar(new l.Event),d}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MltrRoute"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"positionsEditing",{get:function(){return this._positionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedPath",{get:function(){return this._computedPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedPath2",{get:function(){return this._computedPath2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wings",{get:function(){return this._wings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playerUi",{get:function(){return this._playerUi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"airplane",{get:function(){return this._airplane},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tracker",{get:function(){return this._tracker},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computeEvent",{get:function(){return this._computeEvent},enumerable:!1,configurable:!0}),t.prototype.compute=function(){this._computeEvent.emit()},t.prototype.getProperties=function(t){var r=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("showWings","showWings",!1,!1,[this,"showWings"]),new c.BooleanProperty("showAnalysisResult1","(show)",!1,!1,[this,"showAnalysisResult1"]),new c.BooleanProperty("showAnalysisResult2","(show)",!1,!1,[this,"showAnalysisResult2"]),new c.BooleanProperty("showAnalysisResult","(show)",!1,!1,[this,"showAnalysisResult"]),new c.BooleanProperty("","(editing)",!1,!1,[this,"editing"]),new c.PositionsProperty("","",!0,!1,[this,"positions"]),new c.NumberProperty("","(minHieght)",!1,!1,[this,"minHieght"]),new c.NumberProperty("wingWidth","wingWidth",!1,!1,[this,"wingWidth"]),new c.NumberProperty("computingIntervalDistance","computingIntervalDistance",!1,!1,[this,"computingIntervalDistance"]),new c.FunctionProperty("","(compute)",[],(function(){return r.compute()}),[])])],!1)},r=t,t.type=r.register("MltrRoute",r,{chsName:"MltrRoute",tags:["ESObjects","_ES_Impl_Cesium"],description:"MltrRoute"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MltrRoute=d,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,showWings:!0,showAnalysisResult1:!0,showAnalysisResult2:!0,showAnalysisResult:!0,minHieght:500,wingWidth:400,computingIntervalDistance:400,editing:!1,positions:(0,l.reactPositions)([])})}}(d=t.MltrRoute||(t.MltrRoute={})),t.MltrRoute=d,(0,l.extendClassProps)(d.prototype,d.createDefaultProps)},90195:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(29035),t)},73515:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjModel=void 0;var u=r(80468),f=r(51355),p=r(48269),d=r(59645),h=r(3215),g=function(e){function t(t){var r,n,i=e.call(this,t)||this;return i._pickedEvent=i.disposeVar(new f.Event),i._flyToEvent=i.disposeVar(new f.Event),i._positionEditing=i.disposeVar(new u.PositionEditing([i,"position"],[i,"editing"],i.components)),i._imageTexture=function(){var e=i.disposeVar(d.SceneObject.createFromClass(p.CzmTexture));i.dispose(i.components.disposableAdd(e));var t=function(){e.uri=i.imageUrl};return t(),i.dispose(i.imageUrlChanged.disposableOn(t)),e}(),i._maskTexture=function(){var e=i.disposeVar(d.SceneObject.createFromClass(p.CzmTexture));i.dispose(i.components.disposableAdd(e));var t=function(){e.uri=i.maskUrl};return t(),i.dispose(i.maskUrlChanged.disposableOn(t)),e}(),i._czmCustomPrimitive=i.disposeVar(d.SceneObject.createFromClass(p.CzmCustomPrimitive)),i._objResult=(r=i.disposeVar((0,f.react)(void 0)),i.dispose(i.objUrlChanged.disposableOn((function(){return r.value=void 0}))),r),i._objLoading=i.disposeVar((0,d.createProcessingFromAsyncFunc)((function(){return a(i,void 0,void 0,(function(){var e,t,r,n,o;return s(this,(function(i){switch(i.label){case 0:if(!(e=this.objUrl))return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),t=d.SceneObject.context.getStrFromEnv(e),[4,fetch(t)];case 2:return[4,i.sent().text()];case 3:return r=i.sent(),n=(0,h.parseObj)(r),this.objResult=n,[3,5];case 4:return o=i.sent(),console.error("parseObj error: ".concat(o)),[3,5];case 5:return[2]}}))}))}))),i._czmCustomPrimitiveInit=void i.dispose(i.objResultChanged.disposableOn((function(){if(i.objResult){var e=i.objResult;i.czmCustomPrimitive.attributes={position:{typedArray:new Float32Array(e.positions),componentsPerAttribute:3},normal:{typedArray:new Float32Array(e.normals),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array(e.sts),componentsPerAttribute:2}};var t=new Uint32Array(p.CzmCustomPrimitive.triangleIndicesToLine(e.indices));i.czmCustomPrimitive.indexTypedArray=t;var r=i.czmCustomPrimitive.computeLocalAxisedBoundingBoxFromAttribute("position");r&&i.czmCustomPrimitive.setLocalAxisedBoundingBox(r.min,r.max)}}))),i._outlineModelResetting=i.disposeVar(new d.ObjResetting((function(){if(i.show&&i.showOutline&&i.objResult){var e=function(e){function t(t,r){var n=e.call(this)||this;return n._objModel=t,n._objResult=r,n._czmCustomPrimitive=function(){var e=n.disposeVar(d.SceneObject.create(p.CzmCustomPrimitive));n.dispose(n._objModel.components.disposableAdd(e)),n.dispose((0,f.track)([e,"position"],[n._objModel,"position"]));var t=n._objResult;e.attributes={position:{typedArray:new Float32Array(t.positions),componentsPerAttribute:3},normal:{typedArray:new Float32Array(t.normals),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array(t.sts),componentsPerAttribute:2}},e.indexTypedArray=new Uint32Array(p.CzmCustomPrimitive.triangleIndicesToLine(t.indices)),e.primitiveType="LINES";var r=e.computeLocalAxisedBoundingBoxFromAttribute("position");r&&e.setLocalAxisedBoundingBox(r.min,r.max);var o=function(){e.localPosition=n._objModel.offset};return o(),n.dispose(n._objModel.offsetChanged.disposableOn(o)),e}(),n}return o(t,e),Object.defineProperty(t.prototype,"czmCustomPrimitive",{get:function(){return this._czmCustomPrimitive},enumerable:!1,configurable:!0}),t}(f.Destroyable);return new e(i,i.objResult)}}))),i._outlineModelResettingInit=function(){var e=i.disposeVar((0,f.react)(!1));i.dispose(e.changed.disposableOn((function(){return i._outlineModelResetting.reset()})));var t=function(){e.value=i.show&&i.showOutline&&!!i.objResult};t(),i.dispose(i.objResultChanged.disposableOn(t)),i.dispose(i.showOutlineChanged.disposableOn(t)),i.dispose(i.showChanged.disposableOn(t))}(),i.dispose(i.components.disposableAdd(i.czmCustomPrimitive)),i.dispose((0,f.track)([i.czmCustomPrimitive,"position"],[i,"position"])),i.dispose((0,f.track)([i.czmCustomPrimitive,"show"],[i,"show"])),i.czmCustomPrimitive.allowPicking=!0,i.czmCustomPrimitive.pickedEvent.disposableOn((function(e){i._pickedEvent.emit(new u.SceneObjectPickedInfo(i,e))})),(n=function(){i.czmCustomPrimitive.localPosition=i.offset})(),i.dispose(i.offsetChanged.disposableOn(n)),i.dispose(i._flyToEvent.disposableOn((function(e){i.czmCustomPrimitive.flyTo(e)}))),(n=function(){i.objResult=void 0,i.objUrl?i._objLoading.restart():i._objLoading.cancel()})(),i.dispose(i.objUrlChanged.disposableOn(n)),(n=function(){i.czmCustomPrimitive.uniformMap={u_image:{type:"texture",id:i.imageTexture.id},u_mask:{type:"texture",id:i.maskTexture.id},u_color:[1,1,1,1]}})(),i.dispose(i.imageUrlChanged.disposableOn(n)),i}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"ObjModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"positionEditing",{get:function(){return this._positionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageTexture",{get:function(){return this._imageTexture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskTexture",{get:function(){return this._maskTexture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCustomPrimitive",{get:function(){return this._czmCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResult",{get:function(){return this._objResult.value},set:function(e){this._objResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResultChanged",{get:function(){return this._objResult.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return l(l([],c(e.prototype.getProperties.call(this,r)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(show)",!1,!1,[this,"show"]),new u.BooleanProperty("","",!1,!1,[this,"showOutline"]),new u.StringProperty("objUrl","objUrl",!1,!1,[this,"objUrl"]),new u.StringProperty("imageUrl","imageUrl",!1,!1,[this,"imageUrl"]),new u.StringProperty("maskUrl","maskUrl",!1,!1,[this,"maskUrl"]),new u.BooleanProperty("","(editing)",!1,!1,[this,"editing"]),new u.PositionProperty("","(position)",!0,!1,[this,"position"],t.defaults.position),new u.PositionProperty("","(offset)",!1,!1,[this,"offset"])])],!1)},r=t,t.type=r.register("ObjModel",r,{chsName:"ObjModel",tags:["ESObjects","_ES_Impl_Cesium"],description:"ObjModel"}),t.defaults=i(i({},u.ESSceneObject.defaults),{position:[116.39,39.9,100]}),t}(u.ESSceneObject);t.ObjModel=g,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:!0,showOutline:!1,objUrl:"",imageUrl:"",maskUrl:"",editing:!1,position:(0,f.reactArrayWithUndefined)(void 0),offset:(0,f.reactArray)([0,0,0])})}}(g=t.ObjModel||(t.ObjModel={})),t.ObjModel=g,(0,f.extendClassProps)(g.prototype,g.createDefaultProps)},3215:function(e,t){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.parseObj=void 0,t.parseObj=function(e){var t,n,o,i,a=e.split(/\r?\n/),s=[],c=[],l=[],u=[],f=[],p=[];try{for(var d=r(a),h=d.next();!h.done;h=d.next()){var g=h.value;if((g=g.trim()).startsWith("v ")){var y=g.split(" ");s.push(+y[1],+y[2],+y[3]),7===y.length&&c.push(+y[4],+y[5],+y[6],1)}if(g.startsWith("vt ")&&(y=g.split(" "),l.push(+y[1],+y[2])),g.startsWith("vn ")&&(y=g.split(" "),u.push(+y[1],+y[2],+y[3])),g.startsWith("f ")){var m=g.split(" ");f.push(m[1],m[2],m[3]),5===m.length&&f.push(m[1],m[3],m[4])}}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}if(0!==l.length&&s.length/3!=l.length/2&&(console.warn(""),l.length=0),0!==u.length&&s.length/3!=u.length/3&&(console.warn(""),u.length=0),0!==c.length&&s.length/3!=c.length/4&&(console.warn("!"),c.length=0),f.forEach((function(e,t){var r=e.split("/").map((function(e){return+e-1}));p[t]=r})),p.every((function(e){return e[0]===e[1]&&e[0]===e[2]}))){_=[];try{for(var v=r(p),b=v.next();!b.done;b=v.next()){var w=b.value;_.push(w[0])}}catch(e){o={error:e}}finally{try{b&&!b.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}return{positions:s,normals:u,sts:l,colors:c,indices:_}}var _,P=function(e,t,n,o,i){var a,s,c,l,u=[],f=[],p=function(e){var t=u.findIndex((function(t){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}));-1===t&&(t=u.length,u.push(e)),f.push(t)};try{for(var d=r(e),h=d.next();!h.done;h=d.next())p(h.value)}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}var g=[],y=[],m=[],v=[];try{for(var b=r(u),w=b.next();!w.done;w=b.next()){var _=w.value;g.push(t[3*_[0]+0],t[3*_[0]+1],t[3*_[0]+2]),n.length>0&&v.push(n[2*_[1]+0],n[2*_[1]+1]),o.length>0&&y.push(o[3*_[2]+0],o[3*_[2]+1],o[3*_[2]+2]),i.length>0&&m.push(i[4*_[0]+0],i[4*_[0]+1],i[4*_[0]+2],i[4*_[0]+3])}}catch(e){c={error:e}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(c)throw c.error}}return{positions:g,normals:y,sts:v,colors:m,indices:f}}(p,s,l,u,c);return{positions:P.positions,normals:P.normals,sts:P.sts,colors:P.colors,indices:_=P.indices}}},84508:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CircleButton=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(30884),d=r(21036),h=r(61384),g=r(2977),y=function(e){function t(t){var r,n=e.call(this,t)||this;return n._button=(r=n.disposeVar(u.SceneObject.createFromClass(g.RectangleButton)),n.dispose(n.components.disposableAdd(r)),r.statusFuncStr="",n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.bind)([r,"highlighted"],[n,"highlighted"])),n.dispose((0,l.track)([r,"highlightOnClick"],[n,"highlightOnClick"])),n.dispose((0,l.track)([r,"text"],[n,"text"])),n.dispose((0,l.track)([r,"normalImageUri"],[n,"normalImageUri"])),n.dispose((0,l.track)([r,"hoveredImageUri"],[n,"hoveredImageUri"])),n.dispose((0,l.track)([r,"pressedImageUri"],[n,"pressedImageUri"])),n.dispose((0,l.track)([r,"highlightedImageUri"],[n,"highlightedImageUri"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"borderWidth"],[n,"borderWidth"])),n.dispose((0,l.track)([r,"borderColor"],[n,"borderColor"])),n.dispose((0,l.track)([r,"textColor"],[n,"textColor"])),n.dispose((0,l.track)([r,"fontSize"],[n,"fontSize"])),n.dispose((0,l.track)([r,"tooltip"],[n,"tooltip"])),n.dispose((0,l.track)([r,"tooltipMenuStrings"],[n,"tooltipMenuStrings"])),r),n._tooltipClickFunc=n.disposeVar((0,l.react)(void 0)),n._tooltipClickFuncInit=function(){n.button.tooltipClickFunc=function(e,t,r,o){if(n.tooltipClickFunc)return n.tooltipClickFunc(e,t,r,i(i({},o),{circleButton:n}))};var e=function(){n.tooltipClickFunc=(0,l.getFuncFromStr)(n.tooltipClickFuncStr)};e(),n.dispose(n.tooltipClickFuncStrChanged.disposableOn(e))}(),n._clickFunc=n.disposeVar((0,l.react)(void 0)),n._clickFuncInit=function(){n.button.clickFunc=function(e,t){if(n.clickFunc)return n.clickFunc(e,i(i({},t),{circleButton:n}))};var e=function(){n.clickFunc=(0,l.getFuncFromStr)(n.clickFuncStr)};e(),n.dispose(n.clickFuncStrChanged.disposableOn(e))}(),n._statusFunc=n.disposeVar((0,l.react)(void 0)),n._statusFuncInit=function(){n.button.statusFunc=function(e,t,r){if(n.statusFunc)return n.statusFunc(e,t,i(i({},r),{circleButton:n}))};var e=function(){n.statusFunc=(0,l.getFuncFromStr)(n.statusFuncStr)};e(),n.dispose(n.statusFuncStrChanged.disposableOn(e))}(),n._statusInit=function(){var e=n.button,t=function(){e.width=n.radius,e.height=n.radius;var t=n.radius;"normal"===n.status?t*=n.normalImageSize:"hovered"===n.status?t*=n.hoveredImageSize:"pressed"===n.status&&(t*=n.pressedImageSize),n.highlighted&&(t=n.radius*n.highlightedImageSize),e.cssText="border-radius: ".concat(t,"px;\n").concat(n.cssText,"\n"),e.imageCssText="width: ".concat(t,"px; height: ").concat(t,"px; ")};t();var r=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.radiusChanged,n.normalImageSizeChanged,n.hoveredImageSizeChanged,n.pressedImageSizeChanged,n.highlightedImageSizeChanged,n.statusChanged,n.cssTextChanged));n.dispose(r.disposableOn(t))}(),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CircleButton"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"button",{get:function(){return this._button},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClickFunc",{get:function(){return this._tooltipClickFunc.value},set:function(e){this._tooltipClickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClickFuncChanged",{get:function(){return this._tooltipClickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.button.container},set:function(e){this.button.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this.button.clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.button.status},set:function(e){this.button.status=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusChanged",{get:function(){return this.button.statusChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFunc",{get:function(){return this._statusFunc.value},set:function(e){this._statusFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFuncChanged",{get:function(){return this._statusFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.button.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.button.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("CircleButton","CircleButton",[new c.GroupProperty("","",[new c.BooleanProperty("highlightOnClick","highlightOnClick",!1,!1,[this,"highlightOnClick"]),new c.BooleanProperty("","",!1,!1,[this,"highlighted"]),new c.StringProperty("","",!1,!1,[this,"text"]),new c.StringProperty("normalImageUri","normalImageUri",!1,!1,[this,"normalImageUri"]),new c.NumberSliderProperty("normalImageSize","normalImageSize",!1,!1,[this,"normalImageSize"],.01,[0,1]),new c.StringProperty("hoveredImageUri","hoveredImageUri",!1,!1,[this,"hoveredImageUri"]),new c.NumberSliderProperty("hoveredImageSize","hoveredImageSize",!1,!1,[this,"hoveredImageSize"],.01,[0,1]),new c.StringProperty("pressedImageUri","pressedImageUri",!1,!1,[this,"pressedImageUri"]),new c.NumberSliderProperty("pressedImageSize","pressedImageSize",!1,!1,[this,"pressedImageSize"],.01,[0,1]),new c.StringProperty("highlightedImageUri","highlightedImageUri",!1,!1,[this,"highlightedImageUri"]),new c.NumberSliderProperty("highlightedImageSize","highlightedImageSize",!1,!1,[this,"highlightedImageSize"],.01,[0,1]),new f.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultClickFuncStrMd)]),new c.GroupProperty("","",[new c.NumberProperty("radius","radius",!1,!1,[this,"radius"]),new c.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new c.NumberProperty("","",!1,!1,[this,"borderWidth"]),new c.ColorProperty("","",!1,!1,[this,"borderColor"]),new c.ColorProperty("","",!1,!1,[this,"textColor"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"])]),new c.GroupProperty("","",[new c.StringProperty("tooltip","tooltip",!1,!1,[this,"tooltip"]),new c.StringsProperty("tooltipMenus","tooltipMenus",!1,!1,[this,"tooltipMenuStrings"]),new f.EvalString2Property("tooltipClickFuncStr","tooltipClickFuncStr",!1,!1,[this,"tooltipClickFuncStr"])])])],!1)},r=t,t.type=r.register("CircleButton",r,{chsName:"CircleButton",tags:["ESObjects"],description:"CircleButton"}),t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"}}),t.defaultClickFuncStrMd=p.defaultClickFuncStrMd,t}(c.ESSceneObject);t.CircleButton=y,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",cssText:"",highlighted:!1,highlightOnClick:!1,text:"",clickFuncStr:"function (mouseEvent, context) { }",normalImageUri:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574" ><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',normalImageSize:.6,hoveredImageUri:"",hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,highlightedImageUri:"",highlightedImageSize:.6,statusFuncStr:"function (status, mouseEvent, context) { }",radius:32,backgroundColor:(0,l.reactArray)([0,0,0,1]),borderWidth:.5,borderColor:(0,l.reactArray)([1,1,1,1]),textColor:(0,l.reactArray)([1,1,1,1]),fontSize:20,tooltip:"",tooltipMenuStrings:(0,l.reactArray)([]),tooltipClickFuncStr:"function (index, text, mouseEvent, context) { } "})}}(y=t.CircleButton||(t.CircleButton={})),t.CircleButton=y,(0,l.extendClassProps)(y.prototype,y.createDefaultProps)},32048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCircleButtonsMd=t.defaultCircleButtons=void 0,t.defaultCircleButtons=[{text:"",title:"",normalImageUri:'<svg t="1716537684256" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2531" ><path d="M389.2 98.93H189.43c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM389.2 547.34H189.43c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 98.93H637.79c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 547.34H637.79c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77z" p-id="2532" fill="#ffffff"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716537684256" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2531" ><path d="M389.2 98.93H189.43c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM389.2 547.34H189.43c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 98.93H637.79c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 547.34H637.79c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77z" p-id="2532" fill="#1296db"></path></svg>',hoveredImageSize:.6,pressedImageUri:'<svg t="1716537684256" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2531" ><path d="M389.2 98.93H189.43c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM389.2 547.34H189.43c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 98.93H637.79c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 547.34H637.79c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77z" p-id="2532" fill="#f4ea2a"></path></svg>',pressedImageSize:.6,highlightedImageUri:'<svg t="1716537684256" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2531" ><path d="M389.2 98.93H189.43c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM389.2 547.34H189.43c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8H389.2c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H189.43c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93H389.2c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 98.93H637.79c-49.51 0-89.8 40.28-89.8 89.8V388.5c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V188.72c0-49.51-40.28-89.79-89.8-89.79z m29.93 289.56c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V188.72c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77zM837.56 547.34H637.79c-49.51 0-89.8 40.28-89.8 89.8v199.77c0 49.51 40.28 89.8 89.8 89.8h199.77c49.51 0 89.8-40.28 89.8-89.8V637.14c0-49.51-40.28-89.8-89.8-89.8z m29.93 289.57c0 16.5-13.43 29.93-29.93 29.93H637.79c-16.5 0-29.93-13.43-29.93-29.93V637.14c0-16.5 13.43-29.93 29.93-29.93h199.77c16.5 0 29.93 13.43 29.93 29.93v199.77z" p-id="2532" fill="#f4ea2a"></path></svg>',highlightedImageSize:.6,highlightOnClick:!1,highlighted:!1},{text:"",title:"",normalImageUri:'<svg t="1715220047589" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3216" ><path d="M780.8 320a25.6 25.6 0 0 1 25.6 25.6v332.8a25.6 25.6 0 0 1-25.6 25.6H243.2a25.6 25.6 0 0 1-25.6-25.6V345.6a25.6 25.6 0 0 1 25.6-25.6h537.6z m-25.6 79.4112L588.736 535.0016 588.8 537.6a76.8 76.8 0 0 1-73.92 76.7488L512 614.4a76.8 76.8 0 0 1-76.7616-79.1296L268.8 400.4224V652.8h486.4V399.4112zM704 576a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z m-153.6-51.2h-76.8a12.8 12.8 0 0 0 0 25.6h76.8a12.8 12.8 0 0 0 0-25.6z m158.3488-153.6H314.0736l141.312 114.496a76.5952 76.5952 0 0 1 53.7344-24.832L512 460.8c22.3104 0 42.4064 9.5104 56.448 24.704L708.736 371.2z" fill="#ffffff" p-id="3217"></path></svg>',normalImageSize:.8,hoveredImageUri:'<svg t="1715220047589" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3216" ><path d="M780.8 320a25.6 25.6 0 0 1 25.6 25.6v332.8a25.6 25.6 0 0 1-25.6 25.6H243.2a25.6 25.6 0 0 1-25.6-25.6V345.6a25.6 25.6 0 0 1 25.6-25.6h537.6z m-25.6 79.4112L588.736 535.0016 588.8 537.6a76.8 76.8 0 0 1-73.92 76.7488L512 614.4a76.8 76.8 0 0 1-76.7616-79.1296L268.8 400.4224V652.8h486.4V399.4112zM704 576a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z m-153.6-51.2h-76.8a12.8 12.8 0 0 0 0 25.6h76.8a12.8 12.8 0 0 0 0-25.6z m158.3488-153.6H314.0736l141.312 114.496a76.5952 76.5952 0 0 1 53.7344-24.832L512 460.8c22.3104 0 42.4064 9.5104 56.448 24.704L708.736 371.2z" fill="#1296db" p-id="3217"></path></svg>',hoveredImageSize:.8,pressedImageUri:'<svg t="1715220047589" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3216" ><path d="M780.8 320a25.6 25.6 0 0 1 25.6 25.6v332.8a25.6 25.6 0 0 1-25.6 25.6H243.2a25.6 25.6 0 0 1-25.6-25.6V345.6a25.6 25.6 0 0 1 25.6-25.6h537.6z m-25.6 79.4112L588.736 535.0016 588.8 537.6a76.8 76.8 0 0 1-73.92 76.7488L512 614.4a76.8 76.8 0 0 1-76.7616-79.1296L268.8 400.4224V652.8h486.4V399.4112zM704 576a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z m-153.6-51.2h-76.8a12.8 12.8 0 0 0 0 25.6h76.8a12.8 12.8 0 0 0 0-25.6z m158.3488-153.6H314.0736l141.312 114.496a76.5952 76.5952 0 0 1 53.7344-24.832L512 460.8c22.3104 0 42.4064 9.5104 56.448 24.704L708.736 371.2z" fill="#f4ea2a" p-id="3217"></path></svg>',pressedImageSize:.8,highlightedImageUri:'<svg t="1715220047589" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3216" ><path d="M780.8 320a25.6 25.6 0 0 1 25.6 25.6v332.8a25.6 25.6 0 0 1-25.6 25.6H243.2a25.6 25.6 0 0 1-25.6-25.6V345.6a25.6 25.6 0 0 1 25.6-25.6h537.6z m-25.6 79.4112L588.736 535.0016 588.8 537.6a76.8 76.8 0 0 1-73.92 76.7488L512 614.4a76.8 76.8 0 0 1-76.7616-79.1296L268.8 400.4224V652.8h486.4V399.4112zM704 576a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z m-153.6-51.2h-76.8a12.8 12.8 0 0 0 0 25.6h76.8a12.8 12.8 0 0 0 0-25.6z m158.3488-153.6H314.0736l141.312 114.496a76.5952 76.5952 0 0 1 53.7344-24.832L512 460.8c22.3104 0 42.4064 9.5104 56.448 24.704L708.736 371.2z" fill="#f4ea2a" p-id="3217"></path></svg>',highlightedImageSize:.8,highlightOnClick:!1,highlighted:!1}],t.defaultCircleButtonsMd='CircleButtonsTool buttons :\n\n<a href="javascript:void(0);" >https://www.wolai.com/vtxf/72EBKXTjTex4drD2EpjT4V</a>\n'},68320:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(43632),c=r(84508),l=function(e){function t(t,r,n,o){var s,l,u,f,p,d,h,g,y,m,v,b,w=e.call(this,t)||this;w._container=r,w._index=n,w._buttonParams=o,w._circleButton=(b=w.disposeVar(i.SceneObject.createFromClass(c.CircleButton)),w.dispose(w.owner.components.disposableAdd(b)),w.dispose((0,a.track)([b,"radius"],[w.owner,"buttonRadius"])),w.dispose((0,a.track)([b,"backgroundColor"],[w.owner,"buttonBackgroundColor"])),w.dispose((0,a.track)([b,"borderWidth"],[w.owner,"buttonBorderWidth"])),w.dispose((0,a.track)([b,"borderColor"],[w.owner,"buttonBorderColor"])),w.dispose((0,a.track)([b,"textColor"],[w.owner,"buttonTextColor"])),w.dispose((0,a.track)([b,"fontSize"],[w.owner,"buttonFontSize"])),b.text=null!==(s=w._buttonParams.text)&&void 0!==s?s:"",b.highlightOnClick=null!==(l=w._buttonParams.highlightOnClick)&&void 0!==l&&l,b.highlighted=null!==(u=w._buttonParams.highlighted)&&void 0!==u&&u,b.normalImageUri=null!==(f=w._buttonParams.normalImageUri)&&void 0!==f?f:"",b.normalImageSize=null!==(p=w._buttonParams.normalImageSize)&&void 0!==p?p:.6,b.hoveredImageUri=null!==(d=w._buttonParams.hoveredImageUri)&&void 0!==d?d:"",b.hoveredImageSize=null!==(h=w._buttonParams.hoveredImageSize)&&void 0!==h?h:.6,b.pressedImageUri=null!==(g=w._buttonParams.pressedImageUri)&&void 0!==g?g:"",b.pressedImageSize=null!==(y=w._buttonParams.pressedImageSize)&&void 0!==y?y:.6,b.highlightedImageUri=null!==(m=w._buttonParams.highlightedImageUri)&&void 0!==m?m:"",b.highlightedImageSize=null!==(v=w._buttonParams.highlightedImageSize)&&void 0!==v?v:.6,w.dispose(b.clickEvent.disposableOn((function(e){w.owner.clickEvent.emit(w._index,e)}))),b);var _=document.createElement("div");return _.setAttribute("m3t-div","CircleButtonsTool buttonsContainer subContainer"),_.style.flex="none",w._container.appendChild(_),w.dispose((function(){return w._container.removeChild(_)})),w.circleButton.container=_,w}return o(t,e),Object.defineProperty(t.prototype,"buttonParams",{get:function(){return this._buttonParams},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleButton",{get:function(){return this._circleButton},enumerable:!1,configurable:!0}),t}(a.HasOwner),u=function(e){function t(t,r,n){var o=e.call(this)||this;o._sceneObject=t,o._container=r,o._index=n;var i=o._sceneObject,a=document.createElement("div");return a.style.width="".concat(i.separatorWidth,"px"),a.style.height="".concat(i.separatorHeight,"px"),a.style.backgroundColor="".concat((0,s.xe2ColorToCssColor)(i.separatorColor)),o._container.appendChild(a),o.dispose((function(){return o._container.removeChild(a)})),o}return o(t,e),t}(a.Destroyable),f=function(e){function t(t,r){var n=e.call(this)||this;return n._sceneObject=t,n._container=r,n._circleButtonWrappers=n.sceneObject.buttons.map((function(e,t){return null===e?n.disposeVar(new u(n.sceneObject,n._container,t)):n.disposeVar(new l(n.sceneObject,n._container,t,e))})),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._buttonsContainer=function(){var t=document.createElement("div");t.setAttribute("m3t-div","CircleButtonsTool buttonsContainer"),o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.display="flex",t.style.borderStyle="solid",t.style.alignItems="center";var r=function(){var r=e.borderWidth,n=e.borderColor,o=e.backgroundColor,i=e.padding,a=e.gap,c=e.backgroundRadius;t.style.borderWidth="".concat(r,"px"),t.style.borderColor=(0,s.xe2ColorToCssColor)(n),t.style.backgroundColor=(0,s.xe2ColorToCssColor)(o),t.style.padding="".concat(i,"px"),t.style.borderRadius="".concat(c,"px"),t.style.gap="".concat(a,"px"),t.style.flexDirection=e.direction};r();var n=o.disposeVar((0,a.createNextAnimateFrameEvent)(e.borderWidthChanged,e.borderColorChanged,e.backgroundColorChanged,e.paddingChanged,e.directionChanged,e.gapChanged,e.backgroundRadiusChanged));return o.dispose(n.disposableOn(r)),t}(),o._buttonsObjResetting=o.disposeVar(new i.ObjResettingWithEvent(e.buttonsChanged,(function(){if(0!=e.buttons.length)return new f(e,o.buttonsContainer)}))),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsContainer",{get:function(){return this._buttonsContainer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsObjResetting",{get:function(){return this._buttonsObjResetting},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},2555:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CircleButtonsTool=void 0;var c=r(42626),l=r(6997),u=r(80468),f=r(51355),p=r(59645),d=r(33157),h=r(21036),g=r(33563),y=r(32048),m=r(68320),v=r(61384),b=function(e){function t(t){var r,n=e.call(this,t)||this;n._clickEvent=n.disposeVar(new f.Event),n._clickFunc=n.disposeVar((0,f.react)(void 0)),n._clickFuncInit=void n.dispose(n.clickEvent.disposableOn((function(e,t){return n.clickFunc&&n.clickFunc(e,t)}))),n._layoutDiv=(r=n.disposeVar(p.SceneObject.createFromClass(d.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,m.getCreateAttachedObjFunc)(n),n.dispose((0,f.track)([r,"show"],[n,"show"])),n.dispose((0,f.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,f.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,f.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,f.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,f.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,f.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,f.track)([r,"width"],[n,"width"])),n.dispose((0,f.track)([r,"height"],[n,"height"])),n.dispose((0,f.track)([r,"cssText"],[n,"cssText"])),r);var o=function(){var e=(0,l.getFuncFromStr)(n.clickFuncStr);e&&(n.clickFunc=e)};return o(),n.dispose(n.clickFuncStrChanged.disposableOn(o)),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CircleButtonsTool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(show)",!1,!1,[this,"show"]),new u.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,d.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new u.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new u.GroupProperty("","",[new u.BooleanProperty("","",!1,!1,[this,"visibility"]),new u.BooleanProperty("","",!1,!1,[this,"interaction"]),new u.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new u.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new u.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new u.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new u.NumberProperty("","",!1,!1,[this,"width"]),new u.NumberProperty("","",!1,!1,[this,"height"]),new u.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",v.defaultCssTextMd),new u.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new u.GroupProperty("CircleButtonsTool","CircleButtonsTool",[new u.GroupProperty("","",[new c.Json2Property("buttons","buttons",!1,!1,[this,"buttons"],s([],a(t.defaultCircleButtons),!1),t.defaultCircleButtonsMd),new c.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultButtonsClickFuncStrMd)]),new u.GroupProperty("","",[new u.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new u.NumberProperty("","",!1,!1,[this,"backgroundRadius"]),new u.NumberProperty("","",!1,!1,[this,"borderWidth"]),new u.ColorProperty("","",!1,!1,[this,"borderColor"]),new u.NumberProperty("padding","padding",!1,!1,[this,"padding"]),new u.NumberProperty("gap","gap",!1,!1,[this,"gap"]),new u.EnumProperty("","",!1,!1,[this,"direction"],t.directions.map((function(e){return[e,e]})))]),new u.GroupProperty("","",[new u.NumberProperty("radius","radius",!1,!1,[this,"buttonRadius"]),new u.ColorProperty("","",!1,!1,[this,"buttonBackgroundColor"]),new u.NumberProperty("","",!1,!1,[this,"buttonBorderWidth"]),new u.ColorProperty("","",!1,!1,[this,"buttonBorderColor"]),new u.ColorProperty("","",!1,!1,[this,"buttonTextColor"]),new u.NumberProperty("fontSize","fontSize",!1,!1,[this,"buttonFontSize"])]),new u.GroupProperty("","",[new u.NumberProperty("","",!1,!1,[this,"separatorWidth"]),new u.NumberProperty("","",!1,!1,[this,"separatorHeight"]),new u.ColorWithNullProperty("","",!1,!1,[this,"separatorColor"])])])],!1)},r=t,t.type=r.register("CircleButtonsTool",r,{chsName:"CircleButtonsTool",tags:["ESObjects"],description:"CircleButtonsTool"}),t.directions=["row","row-reverse","column","column-reverse"],t.defaults=i(i({},u.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"}}),t.defaultCircleButtons=y.defaultCircleButtons,t.defaultButtonsClickFuncStrMd=g.defaultButtonsClickFuncStrMd,t.defaultCircleButtonsMd=y.defaultCircleButtonsMd,t}(u.ESSceneObject);t.CircleButtonsTool=b,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,cssText:"",clickFuncStr:"",buttons:(0,f.reactDeepArray)(s([],a(e.defaultCircleButtons),!1),(function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.highlighted===t.highlighted&&e.highlightOnClick===t.highlightOnClick&&e.normalImageUri===t.normalImageUri&&e.normalImageSize===t.normalImageSize&&e.hoveredImageUri===t.hoveredImageUri&&e.hoveredImageSize===t.hoveredImageSize&&e.pressedImageUri===t.pressedImageUri&&e.pressedImageSize===t.pressedImageSize&&e.highlightedImageUri===t.highlightedImageUri&&e.highlightedImageSize===t.highlightedImageSize&&e.text===t.text&&e.text===t.text&&e.title===t.title}),(function(e){return null===e?null:i({},e)})),backgroundColor:(0,f.reactArray)([0,0,0,.8]),backgroundRadius:4,borderWidth:0,borderColor:(0,f.reactArray)([1,1,1,.3]),padding:4,gap:10,direction:"row",buttonRadius:32,buttonBackgroundColor:(0,f.reactArray)([0,0,0,1]),buttonBorderWidth:2,buttonBorderColor:(0,f.reactArray)([1,1,1,.5]),buttonTextColor:(0,f.reactArray)([1,1,1,1]),buttonFontSize:20,separatorWidth:2,separatorHeight:26,separatorColor:(0,f.reactArray)([1,1,1,.5])})}}(b=t.CircleButtonsTool||(t.CircleButtonsTool={})),t.CircleButtonsTool=b,(0,f.extendClassProps)(b.prototype,b.createDefaultProps)},79788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogWindowButtonsMd=void 0,t.dialogWindowButtonsMd='```\n[\n    {\n        "text": "",\n        "result": "CzmPoint"\n    },\n    {\n        "text": "",\n        "result": "GeoPolyline"\n    },\n    {\n        "text": "",\n        "result: "GeoPolygon"\n    }\n]\n```\n'},46837:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(66012);function c(e,t){var r;e.updateCurrentEvent.emit();var n={result:null!==(r=e.buttons[t].result)&&void 0!==r?r:"",input:e.showInput?e.currentInput:void 0,select:e.showSelect?e.currentSelect:void 0};e.resultEvent.emit(n)}t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,l=t.call(this)||this;return l._div=r,l._viewer=n,l._container=function(){var t=document.createElement("div");t.setAttribute("m3t-div","DialogWindow content container"),l.div.appendChild(t),l.dispose((function(){return l.div.removeChild(t)})),t.style.width="500px";var r=function(t){e.show&&e.buttons.length&&"Enter"===t.key&&(e.buttons.length<=e.defaultButton||c(e,e.defaultButton))};return document.addEventListener("keydown",r),l.dispose((function(){return document.removeEventListener("keydown",r)})),t}(),l._text=function(){var t=document.createElement("div");t.setAttribute("m3t-div","DialogWindow content container text"),l.container.appendChild(t),l.dispose((function(){return l.container.removeChild(t)})),t.style.cssText="\n                    padding: 15px 30px;\n                    color: white;\n                    font-size: 12px;\n                    display: flex;\n                    flex-direction: column;\n                ";var r=document.createElement("div");t.appendChild(r),r.style.cssText="\n                    overflow: hidden;\n                ",(i=function(){r.innerText=e.text})(),l.dispose(e.textChanged.disposableOn(i));var n=document.createElement("input");t.appendChild(n),n.style.height="20px",n.onblur=function(t){e.currentInput=t.target.value},n.onkeydown=function(e){"Enter"===e.key&&n.blur()},n.onchange=function(){e.currentInput=n.value},(i=function(){n.value=e.defaultInput,e.showInput?(n.style.display="block",n.focus()):n.style.display="none"})();var o=l.disposeVar((0,a.createNextAnimateFrameEvent)(e.showInputChanged));l.dispose(o.disposableOn(i)),l.dispose(e.updateCurrentEvent.disposableOn((function(){e.currentInput=n.value})));var i,s=document.createElement("div");s.style.display="none",t.appendChild(s),(i=function(){var t,r=function(){if(s.innerHTML="",!e.showSelect)return"break";var r=e.selectOptions.length;if(0===r)return"break";if("select"===e.selectMode){for(var n=document.createElement("select"),o=0;o<r;++o){var i=document.createElement("option");i.value="".concat(o),i.innerText=e.selectOptions[o],n.appendChild(i)}s.appendChild(n),l.dispose(e.updateCurrentEvent.disposableOn((function(){e.currentSelect=parseInt(n.value)})))}else if("radio"===e.selectMode){var a=document.createElement("div");a.style.display="flex",a.style.flexDirection="column",a.style.gap="3px";var c=function(r){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="row",n.style.alignItems="flex-start",n.onmouseenter=function(e){n.style.backgroundColor="rgba(0, 0, 0, 0.1)"},n.onmouseleave=function(e){n.style.backgroundColor="rgba(0, 0, 0, 0)"};var o=document.createElement("input");o.type="radio",o.name="select",o.value="".concat(r),r===(null!==(t=e.currentSelect)&&void 0!==t?t:0)&&(o.checked=!0),n.appendChild(o);var i=document.createElement("label");i.setAttribute("for","select".concat(r)),i.innerText=e.selectOptions[r],n.appendChild(i),a.appendChild(n);var s=r;n.onclick=function(t){var r;o.checked=!0,r=s,e.currentSelect=r,t.preventDefault()}};for(o=0;o<r;++o)c(o);s.appendChild(a)}else console.error("DialogWindow: unknown selectMode: ".concat(e.selectMode));s.style.display="block"};do{if("break"===r())break}while(0)})();var c=l.disposeVar((0,a.createNextAnimateFrameEvent)(e.showSelectChanged,e.currentSelectChanged,e.selectModeChanged,e.selectOptionsChanged));return l.dispose(c.disposableOn(i)),t}(),l._buttonsContainer=((o=document.createElement("div")).setAttribute("m3t-div","DialogWindow content container buttonsContainer"),o.style.cssText="width: fit-content; margin: 0 auto; position: relative;",l.container.appendChild(o),l.dispose((function(){return l.container.removeChild(o)})),o),l._buttons=function(){var t=l.disposeVar(i.SceneObject.createFromClass(s.RectangleButtonsTool));l.dispose(e.components.disposableAdd(t)),t.container=l.buttonsContainer,l.dispose((function(){return t.container=void 0})),t.buttonBorderRadius=0,t.buttonBorderWidth=0,t.fontSize=12,t.fontWeight="800",t.backgroundColor=[0,0,0,0],l.dispose((0,a.track)([t,"buttonWidth"],[e,"buttonWidth"])),l.dispose((0,a.track)([t,"buttonHeight"],[e,"buttonHeight"])),l.dispose(t.clickEvent.disposableOn((function(t,r){c(e,t)})));var r=function(){t.buttons=e.buttons.map((function(e,t){return{text:e.text}}))};r();var n=l.disposeVar((0,a.createNextAnimateFrameEvent)(e.buttonsChanged));return l.dispose(n.disposableOn(r)),t}(),l}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsContainer",{get:function(){return this._buttonsContainer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttons",{get:function(){return this._buttons},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},30104:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DialogWindow=t.dialogWindowSelectTypes=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(42178),d=r(46837),h=r(79788),g=r(42626);t.dialogWindowSelectTypes=["radio","select"];var y=function(e){function r(t){var r,n,o,i=e.call(this,t)||this;return i._resultEvent=i.disposeVar(new l.Event),i._myWindow=(r=i.disposeVar(u.SceneObject.createFromClass(p.MyWindow)),i.dispose(r.closeEvent.disposableOn((function(){i.resultEvent.emit({result:"close"})}))),i.dispose(i.components.disposableAdd(r)),i.dispose((0,l.track)([r,"show"],[i,"show"])),i.dispose((0,l.track)([r,"showCloseButton"],[i,"showCloseButton"])),i.dispose((0,l.track)([r,"title"],[i,"title"])),r.layoutType="Center",r.width=0,r.height=0,r.zIndex=1e5,r.flushCss(),r),i._layoutDiv=((n=i.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv))).cssText="",n.createAttachedObjFunc=(0,d.getCreateAttachedObjFunc)(i),i.myWindow.subDivId=n.id,n.layoutType="FullScreen",n.width=0,n.height=0,n),i._lastResult=i.disposeVar((0,l.react)(void 0)),i._lastResultInit=void i.dispose(i.resultEvent.disposableOn((function(e){i._lastResult.value=e}))),i._currentInput=i.disposeVar((0,l.react)("")),i._currentInputInit=((o=function(){i.currentInput=i.defaultInput})(),void i.dispose(i.defaultInputChanged.disposableOn(o))),i._currentSelect=i.disposeVar((0,l.react)(0)),i._currentSelectInit=function(){var e=function(){i.currentSelect=i.defaultSelect};e(),i.dispose(i.defaultSelectChanged.disposableOn(e))}(),i._updateCurrentEvent=i.disposeVar(new l.Event),i}var n;return o(r,e),Object.defineProperty(r.prototype,"typeName",{get:function(){return"DialogWindow"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"defaultProps",{get:function(){return r.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resultEvent",{get:function(){return this._resultEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"myWindow",{get:function(){return this._myWindow},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this.myWindow.container},set:function(e){this.myWindow.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"containerChanged",{get:function(){return this.myWindow.containerChanged},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastResult",{get:function(){return this._lastResult.value},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastResultChanged",{get:function(){return this._lastResult.changed},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentInput",{get:function(){return this._currentInput.value},set:function(e){this._currentInput.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentInputChanged",{get:function(){return this._currentInput.changed},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentSelect",{get:function(){return this._currentSelect.value},set:function(e){this._currentSelect.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentSelectChanged",{get:function(){return this._currentSelect.changed},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateCurrentEvent",{get:function(){return this._updateCurrentEvent},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("","",!1,!1,[this,"showCloseButton"]),new c.StringProperty("","",!1,!1,[this,"title"]),new c.StringProperty("","",!1,!1,[this,"text"]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"showInput"]),new c.StringProperty("","",!1,!1,[this,"defaultInput"]),new c.StringProperty("","",!1,!0,[this,"currentInput"])]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"showSelect"]),new c.EnumProperty("","",!1,!1,[this,"selectMode"],t.dialogWindowSelectTypes.map((function(e){return[e,e]}))),new c.NumberProperty("","",!1,!1,[this,"defaultSelect"]),new c.StringsProperty("","",!1,!1,[this,"selectOptions"]),new c.NumberProperty("","",!1,!0,[this,"currentSelect"])]),new c.GroupProperty("","",[new g.Json2Property("buttons","buttons",!1,!1,[this,"buttons"],[],r.dialogWindowButtonsMd),new c.NumberProperty("defaultButton","defaultButton",!1,!1,[this,"defaultButton"]),new c.NumberProperty("buttonWidth","buttonWidth",!1,!1,[this,"buttonWidth"]),new c.NumberProperty("buttonHeight","buttonHeight",!1,!1,[this,"buttonHeight"]),new g.Json2Property("lastResult","lastResult",!1,!1,[this,"lastResult"],[])])])],!1)},n=r,r.type=n.register("DialogWindow",n,{chsName:"DialogWindow",tags:["ESObjects"],description:"DialogWindow"}),r.defaultButtons=[{text:"",result:"ok"}],r.dialogWindowButtonsMd=h.dialogWindowButtonsMd,r.defaults=i({},c.ESSceneObject.defaults),r}(c.ESSceneObject);t.DialogWindow=y,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,showCloseButton:!0,buttonWidth:84,buttonHeight:24,title:"",text:"",showInput:!1,defaultInput:"",showSelect:!1,selectMode:"radio",defaultSelect:0,selectOptions:["1","2","3"],buttons:(0,l.reactDeepArray)(s([],a(e.defaultButtons),!1),(function(e,t){return e.text===t.text&&e.result===t.result}),(function(e){return i({},e)})),defaultButton:0})}}(y=t.DialogWindow||(t.DialogWindow={})),t.DialogWindow=y,(0,l.extendClassProps)(y.prototype,y.createDefaultProps)},20942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUpdateMyChartFuncStr=void 0,t.defaultUpdateMyChartFuncStr="\noption = {\n    title: {\n        text: 'ECharts '\n    },\n    tooltip: {},\n    legend: {\n        data: ['']\n    },\n    xAxis: {\n        data: ['', '', '', '', '', '']\n    },\n    yAxis: {},\n    series: [\n        {\n            name: '',\n            type: 'bar',\n            data: [5, 20, 36, 10, 10, 20]\n        }\n    ]\n}\n"},9351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUpdateMyChartFuncStrMd=void 0,t.defaultUpdateMyChartFuncStrMd="\n\n```\noption = {\n    title: {\n        text: 'ECharts '\n    },\n    tooltip: {},\n    legend: {\n        data: ['']\n    },\n    xAxis: {\n        data: ['', '', '', '', '', '']\n    },\n    yAxis: {},\n    series: [\n        {\n            name: '',\n            type: 'bar',\n            data: [5, 20, 36, 10, 10, 20]\n        }\n    ]\n}\n```\n"},96390:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,i=t.call(this)||this;return i._div=r,i._viewer=n,i._eChartsContainer=((o=document.createElement("div")).setAttribute("m3t-div","EChartsDiv container"),o.style.width="100%",o.style.height="100%",i.div.appendChild(o),i.dispose((function(){return i.div.removeChild(o)})),o),i._eCharts=function(){try{window.echarts||(console.error("echartsECharts"),alert("echartsECharts"));var t=echarts.init(i.eChartsContainer),r=function(){t.resize({width:"auto",height:"auto"}),t.clear(),e.updateMyChartFunc&&e.updateMyChartFunc(t,e.finalRootPath)};r(),i.dispose(e.updateMyChartFuncChanged.disposableOn(r));var n=new ResizeObserver((function(){t.resize({width:"auto",height:"auto"}),console.log("Size changed")}));n.observe(i.eChartsContainer),i.dispose((function(){return n.unobserve(i.eChartsContainer)}));var o=function(){var r=e.textureWithId.sceneObject;if(r){var n=t.getRenderedCanvas();n&&r.copyFromCanvas(n)}};return o(),t.on("rendered",o),i.dispose((function(){return t.off("rendered",o)})),t}catch(e){console.error(e)}}(),i}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eChartsContainer",{get:function(){return this._eChartsContainer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"eCharts",{get:function(){return this._eCharts},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},45897:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.EChartsDiv=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(6997),p=r(45727),d=r(33157),h=r(21036),g=r(61384),y=r(20942),m=r(9351),v=r(96390),b=function(e){function t(t){var r,n,o=e.call(this,t)||this;o._urlWithFileAndProxy=o.disposeVar(new p.UrlWithFileOrProxy(o.rootPathReact,o.proxyReact)),o._updateMyChartFunc=o.disposeVar((0,l.react)(void 0)),o._layoutDiv=(r=o.disposeVar(u.SceneObject.createFromClass(d.LayoutDiv)),o.dispose(o.components.disposableAdd(r)),r.createAttachedObjFunc=(0,v.getCreateAttachedObjFunc)(o),r),o._textureWithId=(n=o.disposeVar(new u.SceneObjectWithId),o.dispose((0,l.track)([n,"id"],[o,"targetTextureId"])),n),o.dispose((0,l.track)([o._layoutDiv,"show"],[o,"show"])),o.dispose((0,l.track)([o._layoutDiv,"visibility"],[o,"visibility"])),o.dispose((0,l.track)([o._layoutDiv,"interaction"],[o,"interaction"])),o.dispose((0,l.track)([o._layoutDiv,"containerId"],[o,"containerId"])),o.dispose((0,l.track)([o._layoutDiv,"shadowDom"],[o,"shadowDom"])),o.dispose((0,l.track)([o._layoutDiv,"cssAllInitial"],[o,"cssAllInitial"])),o.dispose((0,l.track)([o._layoutDiv,"layoutType"],[o,"layoutType"])),o.dispose((0,l.track)([o._layoutDiv,"width"],[o,"width"])),o.dispose((0,l.track)([o._layoutDiv,"height"],[o,"height"])),o.dispose((0,l.track)([o._layoutDiv,"backgroundColor"],[o,"backgroundColor"])),o.dispose((0,l.track)([o._layoutDiv,"color"],[o,"color"])),o.dispose((0,l.track)([o._layoutDiv,"cssText"],[o,"cssText"]));var i=function(){var e=o.updateMyChartFuncStr;if(e=e.trim()){e.startsWith("function")||(e="function (myChart, ROOT_PATH) {\n    var app = {}; \n    var option; \n    ".concat(e,"\n    option && myChart.setOption(option);\n}\n                    "));var t=(0,f.getFuncFromStr)(e);t&&(o.updateMyChartFunc=t)}};return i(),o.dispose(o.updateMyChartFuncStrChanged.disposableOn(i)),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"EChartsDiv"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlWithFileAndProxy",{get:function(){return this._urlWithFileAndProxy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalRootPath",{get:function(){return this.urlWithFileAndProxy.finalUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateMyChartFunc",{get:function(){return this._updateMyChartFunc.value},set:function(e){this._updateMyChartFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateMyChartFuncChanged",{get:function(){return this._updateMyChartFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"textureWithId",{get:function(){return this._textureWithId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],h.MyCustomDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],h.MyCustomDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",g.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("ECharts","ECharts",[new c.EvalStringProperty("updateMyChartFuncStr","updateMyChartFuncStr",!1,!1,[this,"updateMyChartFuncStr"],void 0,t.defaultUpdateMyChartFuncStrMd),new c.StringProperty("rootPath","rootPath",!1,!1,[this,"rootPath"]),new c.StringProperty("targetTextureId","targetTextureId",!1,!1,[this,"targetTextureId"])])],!1)},r=t,t.type=r.register("EChartsDiv",r,{chsName:"EChartsDiv",tags:["ESObjects"],description:"EChartsDiv"}),t.defaultUpdateMyChartFuncStr=y.defaultUpdateMyChartFuncStr,t.defaultUpdateMyChartFuncStrMd=m.defaultUpdateMyChartFuncStrMd,t.defaultSize={width:"600px",height:"400px"},t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"LeftTop"},t.defaultSize)}),t}(c.ESSceneObject);t.EChartsDiv=b,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,visibility:!0,interaction:!0,containerId:null,allowPicking:!1,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:400,height:300,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",updateMyChartFuncStr:e.defaultUpdateMyChartFuncStr,rootPath:"${LP}https://echarts.apache.org/examples",proxy:"auto",targetTextureId:""})}}(b=t.EChartsDiv||(t.EChartsDiv={})),t.EChartsDiv=b,(0,l.extendClassProps)(b.prototype,b.createDefaultProps)},49816:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._iframe=function(){var t=document.createElement("iframe");t.setAttribute("m3t-div","IFrameDiv iframe"),o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.borderWidth="0px",t.style.width="100%",t.style.height="100%";var r=!1,n=function(n){if(e.loadEvent.emit(n,t),!r){if(r=!0,!t.contentWindow)throw console.error("!iframe.contentWindow"),new Error("!iframe.contentWindow");var i=function(r){t.contentWindow===r.source&&e.messageEvent.emit(r)};window.addEventListener("message",i),o.dispose((function(){return window.removeEventListener("message",i)}))}};t.addEventListener("load",n),o.dispose((function(){return t.removeEventListener("load",n)})),o.dispose(e.postMessageEvent.disposableOn((function(e,r){t.contentWindow?t.contentWindow.postMessage(e,r):console.warn("postMessageEvent warn: iframe.contentWindow === null!")})));var a=function(){t.src=i.SceneObject.context.getStrFromEnv(e.iframeSrc)};a(),o.dispose(e.iframeSrcChanged.disposableOn(a))}(),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"iframe",{get:function(){return this._iframe},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},53075:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameDiv=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(6997),p=r(33157),d=r(21036),h=r(61384),g=r(49816),y=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._layoutDiv=(r=o.disposeVar(u.SceneObject.createFromClass(p.LayoutDiv)),o.dispose(o.components.disposableAdd(r)),r.createAttachedObjFunc=(0,g.getCreateAttachedObjFunc)(o),o.dispose((0,l.track)([r,"show"],[o,"show"])),o.dispose((0,l.track)([r,"containerId"],[o,"containerId"])),o.dispose((0,l.track)([r,"shadowDom"],[o,"shadowDom"])),o.dispose((0,l.track)([r,"cssAllInitial"],[o,"cssAllInitial"])),o.dispose((0,l.track)([r,"interaction"],[o,"interaction"])),o.dispose((0,l.track)([r,"visibility"],[o,"visibility"])),o.dispose((0,l.track)([r,"layoutType"],[o,"layoutType"])),o.dispose((0,l.track)([r,"width"],[o,"width"])),o.dispose((0,l.track)([r,"height"],[o,"height"])),o.dispose((0,l.track)([r,"backgroundColor"],[o,"backgroundColor"])),o.dispose((0,l.track)([r,"color"],[o,"color"])),o.dispose((0,l.track)([r,"cssText"],[o,"cssText"])),r),o._loadEvent=o.disposeVar(new l.Event),o._loadFunc=o.disposeVar((0,l.react)(void 0)),o._loadFuncInit=void o.dispose(o.loadEvent.disposableOn((function(e,t){return o.loadFunc&&o.loadFunc(e,t)}))),o._loadFuncStrInit=((n=function(){var e=(0,f.getFuncFromStr)(o.loadFuncStr);e&&(o.loadFunc=e)})(),void o.dispose(o.loadFuncStrChanged.disposableOn(n))),o._postMessageEvent=o.disposeVar(new l.Event),o._messageEvent=o.disposeVar(new l.Event),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"IFrameDiv"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadEvent",{get:function(){return this._loadEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunc",{get:function(){return this._loadFunc.value},set:function(e){this._loadFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFuncChanged",{get:function(){return this._loadFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postMessageEvent",{get:function(){return this._postMessageEvent},enumerable:!1,configurable:!0}),t.prototype.postMessage=function(e,t){this._postMessageEvent.emit(e,t)},Object.defineProperty(t.prototype,"messageEvent",{get:function(){return this._messageEvent},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this._layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this._layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],p.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],p.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("iframe","iframe",[new c.StringProperty("iframeSrc","iframeSrc",!1,!1,[this,"iframeSrc"]),new c.EvalStringProperty("loadFuncStr","loadFuncStr",!1,!1,[this,"loadFuncStr"])])],!1)},r=t,t.type=r.register("IFrameDiv",r,{chsName:"IFrameDiv",tags:["ESObjects"],description:"IFrameDiv"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.IFrameDiv=y,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:800,height:600,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",iframeSrc:"https://czmtoy.com/",loadFuncStr:""})}}(y=t.IFrameDiv||(t.IFrameDiv={})),t.IFrameDiv=y,(0,l.extendClassProps)(y.prototype,y.createDefaultProps)},65987:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonEditor=void 0;var c=r(6997),l=r(80468),u=r(51355),f=r(59645),p=r(53075),d=r(33157),h=r(21036),g=r(61384),y=function(e){function t(t){var r=e.call(this,t)||this;return r._iframeDiv=function(){var e=r.disposeVar(f.SceneObject.createFromClass(p.IFrameDiv));r.dispose(r.components.disposableAdd(e));var t=(0,c.getVueAssetsDir)()+"/monaco-editor/json-editor.html";e.iframeSrc=t;var n,o=function(t){var o;void 0===t&&(t=!1);var i=JSON.stringify(null!==(o=r.content)&&void 0!==o?o:"",void 0,"    ");(t||n!==i)&&(n=i,e.postMessage({type:"setJson",id:(0,u.createGuid)(),value:i}))};return o(),r.dispose(r.contentChanged.disposableOn((function(){return o()}))),r.dispose(e.loadEvent.disposableOn((function(){return o(!0)}))),r.dispose((0,u.track)([e,"show"],[r,"show"])),r.dispose((0,u.track)([e,"containerId"],[r,"containerId"])),r.dispose((0,u.track)([e,"shadowDom"],[r,"shadowDom"])),r.dispose((0,u.track)([e,"cssAllInitial"],[r,"cssAllInitial"])),r.dispose((0,u.track)([e,"interaction"],[r,"interaction"])),r.dispose((0,u.track)([e,"visibility"],[r,"visibility"])),r.dispose((0,u.track)([e,"layoutType"],[r,"layoutType"])),r.dispose((0,u.track)([e,"width"],[r,"width"])),r.dispose((0,u.track)([e,"height"],[r,"height"])),r.dispose((0,u.track)([e,"backgroundColor"],[r,"backgroundColor"])),r.dispose((0,u.track)([e,"color"],[r,"color"])),r.dispose((0,u.track)([e,"cssText"],[r,"cssText"])),e}(),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"JsonEditor"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeDiv",{get:function(){return this._iframeDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.iframeDiv.container},set:function(e){this.iframeDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.getContent=function(){var e=this;return new Promise((function(t){var r=(0,u.createGuid)();e.iframeDiv.postMessage({type:"getJson",id:r});var n=e.iframeDiv.messageEvent.disposableWeakOn((function(e){var o=e.data;if(o&&o instanceof Object){var i=o.id,a=o.status,s=o.type,c=o.value;if("getJsonReturn"===s&&i===r&&"ok"===a){n();try{var l=JSON.parse(c);t(l)}catch(e){console.error("_getContentProcessing error: ".concat(e)),console.error(e),t(void 0)}}}}))}))},t.prototype.setLayoutStyle=function(e){this._iframeDiv.layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.iframeDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.iframeDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("","",[new l.BooleanProperty("","(show)",!1,!1,[this,"show"]),new l.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new l.GroupProperty("","",[new l.BooleanProperty("","",!1,!1,[this,"visibility"]),new l.BooleanProperty("","",!1,!1,[this,"interaction"]),new l.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new l.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new l.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new l.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new l.NumberProperty("","",!1,!1,[this,"width"]),new l.NumberProperty("","",!1,!1,[this,"height"]),new l.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],d.LayoutDiv.defaults.backgroundColor),new l.ColorWithNullProperty("","",!0,!1,[this,"color"],d.LayoutDiv.defaults.color),new l.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",g.defaultCssTextMd),new l.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new l.GroupProperty("JsonEditor","JsonEditor",[new l.JsonProperty("content","content",!1,!1,[this,"content"])])],!1)},r=t,t.type=r.register("JsonEditor",r,{chsName:"JsonEditor",tags:["ESObjects"],description:"JsonEditor"}),t.defaults=i(i({},l.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"}}),t}(l.ESSceneObject);t.JsonEditor=y,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:800,height:600,backgroundColor:(0,u.reactArrayWithNull)(null),color:(0,u.reactArrayWithNull)(null),cssText:"",content:(0,u.reactJson)(void 0)})}}(y=t.JsonEditor||(t.JsonEditor={})),t.JsonEditor=y,(0,u.extendClassProps)(y.prototype,y.createDefaultProps)},38808:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.createDivClass=void 0;var i=r(51355);t.createDivClass=function(e){return function(t){function r(r,n){var o=t.call(this)||this;return o._subContainer=r,o._customDiv=n,o._divInit=void o._subContainer.setAttribute("m3t-layout-div","".concat(e.id)),o._attachedObj=function(){var t=e.createAttachedObjFunc;if(!t)throw new Error("createAttachedObjFunc is undefined");var r=t(o.div);if(r)return o.disposeVar(r)}(),o}return o(r,t),Object.defineProperty(r.prototype,"sceneTreeApp",{get:function(){return this._sceneTreeApp},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"div",{get:function(){return this._subContainer},enumerable:!1,configurable:!0}),r}(i.Destroyable)}},24154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCreateAttachedObjFuncStr=void 0,t.defaultCreateAttachedObjFuncStr="\nfunction (div, viewer) {\n    const { Destroyable } = XE2['xe2-base-utils'];\n    class AttachedObj extends Destroyable {\n        constructor() {\n            super();\n            const container = document.createElement('div');\n            // container.style.color = 'white';\n            container.style.width = '300px';\n            container.style.height = '200px';\n            // container.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';\n            container.setAttribute('m3t-div', 'LayoutDiv AttachedObj container');\n            container.innerText = ` 123\n\n\n`;\n            div.appendChild(container);\n            this.dispose(() => div.removeChild(container));\n        }\n    }\n    return new AttachedObj();\n}\n\n"},31379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCreateAttachedObjFuncStrMd=void 0,t.defaultCreateAttachedObjFuncStrMd="\n\n```\nfunction (div, viewer) {\n    class AttachedObj {\n        constructor() {\n\n        }\n\n        destroy() {\n            \n        }\n    }\n    return new AttachedObj();\n}\n```\n"},52455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCssTextMd=void 0,t.defaultCssTextMd='layoutCssTextdiv, setLayoutStyle div,\n```\nsetLayoutStyle({\n    type: "LeftTop",\n    width: "400px",\n    height: "300px"\n})\n```\nsetLayoutStyleLayoutDiv\n<a href="" target="_blank">https://www.wolai.com/vtxf/eyZcQg4u6QqMRkJW9pEjxr</a>\n'},78848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayoutStyleMd=void 0,t.defaultLayoutStyleMd="\n# \n\ntypeLeftTopwidthdivheightdivextraCss\nlayoutStylecssTextcsstext\n```\n{\n    \"type\": \"LeftTop\",\n    \"width\": \"100%\",\n    \"height\": \"100px\",\n    \"extraCss\": \"top:100px;\"                                                                                        \n}\n```\n\n# \n\n```\nexport type LayoutDivStyleType= {\n    type: 'CenterBottom';\n    left?: string;\n    bottom?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n} |  {\n    type: 'Center';\n    left?: string;\n    top?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n} |  {\n    type: 'CenterTop';\n    left?: string;\n    top?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}|   {\n    type: 'FullScreen';\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}|  {\n    type: 'LeftBottom';\n    left?: string;\n    bottom?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}|  {\n    type: 'LeftCenter';\n    left?: string;\n    top?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}|   {\n    type: 'LeftTop';\n    left?: string;\n    top?: string;\n    width?: string; \n    height?: string; \n    extraCss?: string;\n}|  {\n    type: 'RightBottom';\n    right?: string;\n    bottom?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}|  {\n    type: 'RightCenter';\n    right?: string;\n    top?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}|   {\n    type: 'RightTop';\n    right?: string;\n    top?: string;\n    width?: string;\n    height?: string;\n    extraCss?: string;\n}\n```\n\nLayoutDiv\n<a href=\"\" >https://www.wolai.com/vtxf/eyZcQg4u6QqMRkJW9pEjxr</a>\n\n"},32177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUpdateDivFuncStr=void 0,t.defaultUpdateDivFuncStr="function (div) {}"},32432:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUpdateDivFuncStrMd=void 0,t.defaultUpdateDivFuncStrMd="\n\n```\n    function (div) {\n        \n    }\n```\n"},33157:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDiv=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(66096),p=r(21036),d=r(38808),h=r(24154),g=r(31379),y=r(52455),m=r(78848),v=r(32177),b=r(32432),w=function(e){function t(t){var r=e.call(this,t)||this;r._createAttachedObjFunc=r.disposeVar((0,l.react)(void 0)),r._customDiv=function(){var e=r.disposeVar(u.SceneObject.createFromClass(p.MyCustomDiv));r.dispose(r.components.disposableAdd(e)),r.dispose((0,l.track)([e,"show"],[r,"show"])),r.dispose((0,l.track)([e,"containerId"],[r,"containerId"])),r.dispose((0,l.track)([e,"shadowDom"],[r,"shadowDom"])),r.dispose((0,l.track)([e,"cssAllInitial"],[r,"cssAllInitial"])),r.dispose((0,l.track)([e,"interaction"],[r,"interaction"])),r.dispose((0,l.track)([e,"visibility"],[r,"visibility"])),r.dispose((0,l.track)([e,"layoutType"],[r,"layoutType"])),r.dispose((0,l.track)([e,"width"],[r,"width"])),r.dispose((0,l.track)([e,"height"],[r,"height"])),r.dispose((0,l.track)([e,"backgroundColor"],[r,"backgroundColor"])),r.dispose((0,l.track)([e,"color"],[r,"color"])),r.dispose((0,l.track)([e,"cssText"],[r,"cssText"]));var t=function(){e.instanceClass=r.createAttachedObjFunc?(0,d.createDivClass)(r):void 0};return t(),r.dispose(r.createAttachedObjFuncChanged.disposableOn(t)),e}();var n=function(){var e=(0,f.getFuncFromStr)(r.createAttachedObjFuncStr);e&&(r.createAttachedObjFunc=e)};return n(),r.dispose(r.createAttachedObjFuncStrChanged.disposableOn(n)),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"LayoutDiv"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createAttachedObjFunc",{get:function(){return this._createAttachedObjFunc.value},set:function(e){this._createAttachedObjFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createAttachedObjFuncChanged",{get:function(){return this._createAttachedObjFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this.customDiv.flushCss()},Object.defineProperty(t.prototype,"div",{get:function(){return this.customDiv.div},enumerable:!1,configurable:!0}),t.prototype.getInstanceClassObj=function(){return this.customDiv.getInstanceClassObj()},t.prototype.getAttachedObj=function(){var e=this.getInstanceClassObj();if(e){var t=e.objResetting;if(t)return t.obj}},Object.defineProperty(t.prototype,"container",{get:function(){return this.customDiv.container},set:function(e){this.customDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this.customDiv.containerChanged},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){},t.prototype.setDivAttribute=function(e,t){this.customDiv.setDivAttribute(e,t)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.customDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.customDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,t.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],t.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],t.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",y.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])])],!1)},r=t,t.type=r.register("LayoutDiv",r,{chsName:"LayoutDiv",tags:["ESObjects"],description:"LayoutDiv"}),t.defaultCssText="",t.defaultUpdateDivFuncStr=v.defaultUpdateDivFuncStr,t.defaultUpdateDivFuncStrMd=b.defaultUpdateDivFuncStrMd,t.defaultCreateAttachedObjFuncStr=h.defaultCreateAttachedObjFuncStr,t.defaultCreateAttachedObjFuncStrMd=g.defaultCreateAttachedObjFuncStrMd,t.defaultCssTextMd=y.defaultCssTextMd,t.defaultLayoutStyleMd=m.defaultLayoutStyleMd,t.defaults=i(i({},c.ESSceneObject.defaults),{backgroundColor:[0,0,0,.5],color:[1,1,1,1]}),t}(c.ESSceneObject);t.LayoutDiv=w,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:"",containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",allowPicking:!1})}}(w=t.LayoutDiv||(t.LayoutDiv={})),t.LayoutDiv=w,(0,l.extendClassProps)(w.prototype,w.createDefaultProps)},44685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSearchResultsMd=void 0,t.defaultSearchResultsMd='```\n[\n    {\n        "displayName": "() - 291817-",\n        "location": [\n            116.305855,\n            39.977363,\n            3000\n        ]\n    },\n    {\n        "displayName": "() - (C)",\n        "location": [\n            116.419235,\n            39.798142,\n            3000\n        ]\n    },\n    {\n        "displayName": "() - 386",\n        "location": [\n            116.343269,\n            39.731355,\n            3000\n        ]\n    },\n    {\n        "displayName": "() - 80",\n        "location": [\n            116.322945,\n            39.684099,\n            3000\n        ]\n    },\n    {\n        "displayName": " - (E260)",\n        "location": [\n            116.305791,\n            39.977319,\n            3000\n        ]\n    },\n    {\n        "displayName": "() - -",\n        "location": [\n            116.293417,\n            40.150036,\n            3000\n        ]\n    }\n]\n```\n'},6758:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(43632),s=r(59645);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._status=o.disposeVar((0,i.react)("normal")),o._locationSearch=function(){var t=document.createElement("div");t.setAttribute("m3t-div","locationSearch container"),o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.width="100%",t.style.height="100%",t.style.position="relative",t.style.display="flex",t.style.alignItems="center",document.onclick=function(r){t&&!t.contains(r.target)&&(e.showPullDown=!1)};var r=document.createElement("input");t.appendChild(r),r.style.width="100%",r.style.height="100%",r.style.outline="none",r.style.color="white",r.style.border="none",r.style.boxSizing="border-box",r.style.padding="10px 40px 10px 10px",r.placeholder="...",r.onblur=function(t){e.keyword=t.target.value,e.keyword},r.onkeydown=function(t){"Enter"===t.key&&(r.blur(),e.showPullDown=!0)};var n=document.createElement("div");t.appendChild(n),n.style.position="absolute",n.style.right="15px",n.style.cursor="pointer";var c=s.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/locationSearchUI/search.png");n.style.background="url(".concat(c,") no-repeat"),n.style.backgroundSize="100% 100%",n.style.width="18px",n.style.height="18px",n.onclick=function(){e.keyword&&(e.showPullDown=!0)};var l=document.createElement("div");t.appendChild(l),l.style.position="absolute",l.style.zIndex="1000",l.style.left="0",l.style.width="100%",l.style.borderRadius="10px",(f=function(){r.style.background="".concat((0,a.xe2ColorToCssColor)(e.backgroundColor)),l.style.background="".concat((0,a.xe2ColorToCssColor)(e.backgroundColor)),l.innerHTML="",e.searchResults.forEach((function(t,r){var n=document.createElement("div");l.appendChild(n),n.style.display="flex",n.style.alignItems="center",n.style.cursor="pointer",0===r&&(n.style.borderTopLeftRadius="10px",n.style.borderTopRightRadius="10px"),r===e.searchResults.length-1&&(n.style.borderBottomLeftRadius="10px",n.style.borderBottomRightRadius="10px"),n.onmouseenter=function(){var t=e.backgroundColor.map((function(e){return.6*e}));n.style.backgroundColor=" ".concat((0,a.xe2ColorToCssColor)(t))},n.onmouseleave=function(){n.style.backgroundColor=" ".concat((0,a.xe2ColorToCssColor)(e.backgroundColor))},n.onclick=function(){e.showPullDown=!1,e.locationEvent.emit(t.location)};var o=document.createElement("div");n.appendChild(o),o.style.width="16px",o.style.height="16px",o.style.marginLeft="10px";var i=s.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/myLocation/dingwei.png");o.style.background="url(".concat(i,") no-repeat"),o.style.backgroundSize="100% 100%";var c=document.createElement("div");n.appendChild(c),c.style.cssText="\n                        width: 80%;\n                        color: #fff;\n                        font-size: 12px;\n                        margin-left: 10px;\n                        padding: 8px 0;\n                        white-space: nowrap;\n                        text-overflow: ellipsis;\n                        overflow: hidden;\n                        ",c.innerText=t.displayName,c.title=t.displayName}))})();var u=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.backgroundColorChanged,e.searchResultsChanged));o.dispose(u.disposableOn(f)),(f=function(){r.value=e.keyword,r.style.borderRadius="".concat(e.radius,"px"),"bottom"===e.pullDownLocation?(l.style.bottom="unset",l.style.top="calc(100% + 10px)"):(l.style.top="unset",l.style.bottom="calc(100% + 10px)")})();var f,p=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.radiusChanged,e.keywordChanged,e.pullDownLocationChanged));o.dispose(p.disposableOn(f)),(f=function(){e.showPullDown?l.style.display="block":l.style.display="none"})();var d=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.showPullDownChanged));return o.dispose(d.disposableOn(f)),t}(),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status.value},set:function(e){this._status.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"statusChanged",{get:function(){return this._status.changed},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locationSearch",{get:function(){return this._locationSearch},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},55209:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocationSearchUI=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(33157),d=r(21036),h=r(61384),g=r(44685),y=r(6758),m=function(e){function t(t){var r,n=e.call(this,t)||this;return n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(p.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,y.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n._locationEvent=n.disposeVar(new l.Event),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"LocationSearchUI"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locationEvent",{get:function(){return this._locationEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,p.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("","",[new c.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new c.NumberProperty("radius","radius",!1,!1,[this,"radius"]),new c.StringProperty("","",!1,!1,[this,"keyword"]),new c.BooleanProperty("","",!1,!1,[this,"showPullDown"]),new c.EnumProperty("","",!1,!1,[this,"pullDownLocation"],t.Modes),new f.Json2Property("searchResults","searchResults",!1,!1,[this,"searchResults"],[],t.defaultSearchResultsMd)])],!1)},r=t,t.type=r.register("LocationSearchUI",r,{chsName:"LocationSearchUI",tags:["ESObjects"],description:"LocationSearchUI"}),t.defaultSize={height:"35px",width:"290px"},t.Modes=[["","bottom"],["","top"]],t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"LeftTop"},t.defaultSize)}),t.defaultSearchResultsMd=g.defaultSearchResultsMd,t}(c.ESSceneObject);t.LocationSearchUI=m,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,cssText:"",showPullDown:!1,radius:50,backgroundColor:(0,l.reactArray)([.24,.25,.27,1]),keyword:"",pullDownLocation:"bottom",searchResults:(0,l.reactArray)([])})}}(m=t.LocationSearchUI||(t.LocationSearchUI={})),t.LocationSearchUI=m,(0,l.extendClassProps)(m.prototype,m.createDefaultProps)},53545:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.gcj02towgs84=t.transformlng=t.transformlat=t.out_of_china=t.geocode=void 0,t.geocode=function(e){return r(this,void 0,void 0,(function(){var t;return n(this,(function(r){switch(r.label){case 0:return t=[],[4,fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),t=e.pois.slice(0,8).map((function(e){return{displayName:"".concat(e.name," - ").concat(e.address),location:e.location.split(",").map(Number)}}))})).catch((function(e){console.error("Geocoding request failed:",e)}))];case 1:return r.sent(),[2,t]}}))}))};var o=3.141592653589793,i=6378245,a=.006693421622965943;function s(e,t){return t=+t,!((e=+e)>73.66&&e<135.05&&t>3.86&&t<53.55)}function c(e,t){var r=2*(e=+e)-100+3*(t=+t)+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(r+=2*(20*Math.sin(t*o)+40*Math.sin(t/3*o))/3)+2*(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))/3}function l(e,t){var r=300+(e=+e)+2*(t=+t)+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(r+=2*(20*Math.sin(e*o)+40*Math.sin(e/3*o))/3)+2*(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))/3}t.out_of_china=s,t.transformlat=c,t.transformlng=l,t.gcj02towgs84=function(e,t){if(s(e=+e,t=+t))return[e,t];var r=c(e-105,t-35),n=l(e-105,t-35),u=t/180*o,f=Math.sin(u);f=1-a*f*f;var p=Math.sqrt(f);return r=180*r/(i*(1-a)/(f*p)*o),[2*e-(e+(n=180*n/(i/p*Math.cos(u)*o))),2*t-(t+r)]}},75819:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocationSearch=void 0;var u=r(80468),f=r(51355),p=r(48269),d=r(59645),h=r(33157),g=r(21036),y=r(55209),m=r(53545),v=r(61384),b=function(e){function t(t,r){var n=e.call(this)||this;return n.dispose(r.locationEvent.disposableOn((function(e){t.flyTo(e,1e3,[0,-90,0])}))),n}return o(t,e),t}(f.Destroyable),w=function(e){function t(r){var n,o=e.call(this,r)||this;o._locationSearchUI=(n=o.disposeVar(d.SceneObject.createFromClass(y.LocationSearchUI)),o.registerAttachedObject((function(e){if(e instanceof p.CzmViewer)return new b(e,n)})),o.dispose((0,f.track)([n,"show"],[o,"show"])),o.dispose((0,f.track)([n,"containerId"],[o,"containerId"])),o.dispose((0,f.track)([n,"shadowDom"],[o,"shadowDom"])),o.dispose((0,f.track)([n,"cssAllInitial"],[o,"cssAllInitial"])),o.dispose((0,f.track)([n,"interaction"],[o,"interaction"])),o.dispose((0,f.track)([n,"visibility"],[o,"visibility"])),o.dispose((0,f.track)([n,"layoutType"],[o,"layoutType"])),o.dispose((0,f.track)([n,"width"],[o,"width"])),o.dispose((0,f.track)([n,"height"],[o,"height"])),o.dispose((0,f.track)([n,"cssText"],[o,"cssText"])),o.dispose((0,f.track)([n,"pullDownLocation"],[o,"pullDownLocation"])),o.dispose((0,f.track)([n,"backgroundColor"],[o,"backgroundColor"])),o.dispose((0,f.track)([n,"radius"],[o,"radius"])),n);var i=o.disposeVar((0,f.createNextAnimateFrameEvent)(o.tokenChanged,o.locationSearchUI.keywordChanged));return o.dispose(i.disposableOn((function(){return a(o,void 0,void 0,(function(){var e,r,n,o,i,a=this;return s(this,(function(s){switch(s.label){case 0:return!this.token&&this.locationSearchUI.keyword?(alert("token"),[2]):(e=this.locationSearchUI.keyword).trim()?(r="keywords=".concat(encodeURIComponent(e),"&city=beijing&output=json&key=").concat(this.token),n="".concat(t.baseUrl,"?").concat(r),[4,(0,m.geocode)(n)]):[2];case 1:return(o=s.sent())?(i=o.map((function(e){return{displayName:e.displayName,location:a.gcj02towgs84(e.location)}})),this.locationSearchUI.searchResults=i,[2]):[2]}}))}))}))),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"LocationSearch"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.gcj02towgs84=function(e){if(!e||2!==e.length)return[0,0,1e3];var t=c(e,2),r=t[0],n=t[1],o=(0,m.gcj02towgs84)(r,n);return[o[0],o[1],1e3]},Object.defineProperty(t.prototype,"locationSearchUI",{get:function(){return this._locationSearchUI},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.locationSearchUI.container},set:function(e){this.locationSearchUI.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this.locationSearchUI.layoutDiv.setLayoutStyle(e)},t.prototype.getToken=function(){window.open("https://www.wolai.com/vtxf/jznUPfC8ixm8aRJAtGPHWh")},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.locationSearchUI.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.locationSearchUI.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var r=this;return l(l([],c(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(show)",!1,!1,[this,"show"]),new u.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,h.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new u.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],g.MyCustomDiv.defaults.containerId)]),new u.GroupProperty("","",[new u.BooleanProperty("","",!1,!1,[this,"visibility"]),new u.BooleanProperty("","",!1,!1,[this,"interaction"]),new u.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new u.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new u.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],g.MyCustomDiv.defaults.zIndex),new u.EnumProperty("","",!1,!1,[this,"layoutType"],g.myCustomDivLayoutTypeEnums),new u.NumberProperty("","",!1,!1,[this,"width"]),new u.NumberProperty("","",!1,!1,[this,"height"]),new u.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",v.defaultCssTextMd),new u.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new u.GroupProperty("LocationSearch","LocationSearch",[new u.StringProperty("token","token",!1,!1,[this,"token"]),new u.FunctionProperty("token","token",[],(function(){return r.getToken()}),[]),new u.EnumProperty("","",!1,!1,[this,"pullDownLocation"],y.LocationSearchUI.Modes),new u.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new u.NumberProperty("radius","radius",!1,!1,[this,"radius"])])],!1)},r=t,t.type=r.register("LocationSearch",r,{chsName:"LocationSearch",tags:["ESObjects"],description:"LocationSearch"}),t.baseUrl="https://restapi.amap.com/v3/place/text",t.defaults=i({},u.ESSceneObject.defaults),t}(u.ESSceneObject);t.LocationSearch=w,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,cssText:"",token:"",pullDownLocation:"bottom",backgroundColor:(0,f.reactArray)([.24,.25,.27,1]),radius:50})}}(w=t.LocationSearch||(t.LocationSearch={})),t.LocationSearch=w,(0,f.extendClassProps)(w.prototype,w.createDefaultProps)},8170:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownReader=void 0;var c=r(6997),l=r(80468),u=r(51355),f=r(59645),p=r(53075),d=r(33157),h=r(21036),g=r(61384),y=function(e){function t(t){var r=e.call(this,t)||this;return r._iframeDiv=function(){var e=r.disposeVar(f.SceneObject.createFromClass(p.IFrameDiv));r.dispose(r.components.disposableAdd(e));var t=(0,c.getVueAssetsDir)()+"/marked/index.html";e.iframeSrc=t;var n=function(){var t=r.content;e.postMessage({type:"setSample",id:(0,u.createGuid)(),value:t})};return n(),r.dispose(e.loadEvent.disposableOn(n)),r.dispose(r.contentChanged.disposableOn(n)),r.dispose((0,u.track)([e,"show"],[r,"show"])),r.dispose((0,u.track)([e,"containerId"],[r,"containerId"])),r.dispose((0,u.track)([e,"shadowDom"],[r,"shadowDom"])),r.dispose((0,u.track)([e,"cssAllInitial"],[r,"cssAllInitial"])),r.dispose((0,u.track)([e,"interaction"],[r,"interaction"])),r.dispose((0,u.track)([e,"visibility"],[r,"visibility"])),r.dispose((0,u.track)([e,"layoutType"],[r,"layoutType"])),r.dispose((0,u.track)([e,"width"],[r,"width"])),r.dispose((0,u.track)([e,"height"],[r,"height"])),r.dispose((0,u.track)([e,"backgroundColor"],[r,"backgroundColor"])),r.dispose((0,u.track)([e,"color"],[r,"color"])),r.dispose((0,u.track)([e,"cssText"],[r,"cssText"])),e}(),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MarkdownReader"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeDiv",{get:function(){return this._iframeDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.iframeDiv.container},set:function(e){this.iframeDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._iframeDiv.layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.iframeDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.iframeDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("","",[new l.BooleanProperty("","(show)",!1,!1,[this,"show"]),new l.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new l.GroupProperty("","",[new l.BooleanProperty("","",!1,!1,[this,"visibility"]),new l.BooleanProperty("","",!1,!1,[this,"interaction"]),new l.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new l.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new l.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new l.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new l.NumberProperty("","",!1,!1,[this,"width"]),new l.NumberProperty("","",!1,!1,[this,"height"]),new l.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],d.LayoutDiv.defaults.backgroundColor),new l.ColorWithNullProperty("","",!0,!1,[this,"color"],d.LayoutDiv.defaults.color),new l.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",g.defaultCssTextMd),new l.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new l.GroupProperty("markdown","markdown",[new l.LongStringProperty("content","content",!1,!1,[this,"content"])])],!1)},r=t,t.type=r.register("MarkdownReader",r,{chsName:"MarkdownReader",tags:["ESObjects"],description:"MarkdownReader"}),t.defaults=i(i({},l.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"}}),t.defaultContent='#  Markdown \n\n\n\n- \n- \n\n```javascript\nconsole.log("");\n```\n',t}(l.ESSceneObject);t.MarkdownReader=y,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:800,height:600,backgroundColor:(0,u.reactArrayWithNull)(null),color:(0,u.reactArrayWithNull)(null),cssText:"",content:e.defaultContent})}}(y=t.MarkdownReader||(t.MarkdownReader={})),t.MarkdownReader=y,(0,u.extendClassProps)(y.prototype,y.createDefaultProps)},11651:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(48269);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._compass=function(){var e=document.createElement("div");o.div.appendChild(e),o.dispose((function(){return o.div.removeChild(e)})),e.style.cssText="\n            width: 100%;\n            cursor: pointer;\n            height: 100%;\n            background-color: rgba(30, 34, 34, 0.8);\n            border-radius: 50%;\n            ",e.title="";var t=document.createElement("div");e.appendChild(t),t.style.cssText="\n            width: 100%;\n            height: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            ";var r=document.createElement("div");t.appendChild(r);var n=i.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/myCompass/compass.png");r.style.cssText="\n            width: 75%;\n            height: 75%;\n            background: url(".concat(n,") no-repeat;\n            background-size: 100% 100%;\n            ")}(),e.createAttachedObject?(o.dispose(e.createAttachedObject((function(e){if(e instanceof s.CzmViewer){var t=setInterval((function(){if(e){var t,r=(null==(t=e.getCameraInfo())?void 0:t.rotation)[0];o._div.style.transform="rotate(".concat(-r,"deg)"),o._div.style.transformOrigin="center center"}}),1e3),r=new a.Destroyable;return r.dispose((function(){clearInterval(t)})),r}}))),o):o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"compass",{get:function(){return this._compass},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},9366:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyCompass=void 0;var c=r(42626),l=r(80468),u=r(51355),f=r(59645),p=r(33157),d=r(11651),h=function(e){function t(r){var n,o=e.call(this,r)||this;return o._layoutDiv=(n=o.disposeVar(f.SceneObject.createFromClass(p.LayoutDiv)),o.dispose(o.components.disposableAdd(n)),n.createAttachedObjFunc=(0,d.getCreateAttachedObjFunc)(o),n),o.dispose((0,u.track)([o._layoutDiv,"show"],[o,"show"])),o.dispose((0,u.bind)([o._layoutDiv,"cssText"],[o,"layoutCssText"])),o._layoutDiv.setLayoutStyle(t.defaults.defaultLayoutStyle),o.dispose((0,u.track)([o._layoutDiv,"allowPicking"],[o,"allowPicking"])),o.dispose((0,u.track)([o._layoutDiv,"containerId"],[o,"containerId"])),o.dispose((0,u.track)([o._layoutDiv,"shadowDom"],[o,"shadowDom"])),o.dispose((0,u.track)([o._layoutDiv,"cssAllInitial"],[o,"cssAllInitial"])),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyCompass"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},t.prototype.getProperties=function(r){var n=this;return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new l.GroupProperty("","",[new l.BooleanProperty("","(show)",!1,!1,[this,"show"]),new l.BooleanProperty("","",!1,!1,[this,"allowPicking"])]),new l.GroupProperty("","",[new c.LongString2Property("layoutCssText","layoutCssText",!0,!1,[this,"layoutCssText"],p.LayoutDiv.defaultCssText,p.LayoutDiv.defaultCssTextMd),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"LeftTop"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"CenterTop"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"RightTop"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"LeftCenter"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"Center"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"RightCenter"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"LeftBottom"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"CenterBottom"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"RightBottom"},t.defaultSize))}),[]),new l.FunctionProperty("","",[],(function(){return n.setLayoutStyle({type:"FullScreen"})}),[])]),new l.GroupProperty("","",[new l.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],l.CustomDiv.defaults.containerId),new l.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new l.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"])])],!1)},r=t,t.type=r.register("MyCompass",r,{chsName:"MyCompass",tags:["ESObjects"],description:"MyCompass"}),t.defaultSize={width:"40px",height:"40px"},t.defaults=i(i({},l.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"RightBottom",right:"15px",bottom:"15px"},t.defaultSize)}),t}(l.ESSceneObject);t.MyCompass=h,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,layoutCssText:p.LayoutDiv.defaultCssText,allowPicking:!1,containerId:null,shadowDom:!1,cssAllInitial:!1})}}(h=t.MyCompass||(t.MyCompass={})),t.MyCompass=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},54915:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(66012);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,a,c,l=t.call(this)||this;return l._div=r,l._viewer=n,l._container=((o=document.createElement("div")).setAttribute("m3t-div","MyConfirm content container"),l.div.appendChild(o),l.dispose((function(){return l.div.removeChild(o)})),o.style.width="500px",o),l._text=function(){var t=document.createElement("div");t.setAttribute("m3t-div","MyConfirm content container text"),l.container.appendChild(t),l.dispose((function(){return l.container.removeChild(t)})),t.style.cssText="\n                padding: 30px; 10px; 30px; 10px; color: white; font-size: 12px;\n            ";var r=function(){return t.innerText=e.text};return r(),l.dispose(e.textChanged.disposableOn(r)),t}(),l._buttonsContainer=((a=document.createElement("div")).setAttribute("m3t-div","MyConfirm content container buttonsContainer"),a.style.cssText="width: 300px; height: 40px; margin: 0 auto; position: relative;",l.container.appendChild(a),l.dispose((function(){return l.container.removeChild(a)})),a),l._buttons=(c=l.disposeVar(i.SceneObject.createFromClass(s.RectangleButtonsTool)),l.dispose(e.components.disposableAdd(c)),c.container=l.buttonsContainer,l.dispose((function(){return c.container=void 0})),c.layoutDiv.setLayoutStyle({type:"Center"}),c.buttons=[{text:""},{text:""}],l.dispose(c.clickEvent.disposableOn((function(t,r){0===t?e.resultEvent.emit("cancel"):1===t&&e.resultEvent.emit("ok")}))),c.borderWidth=0,c.backgroundColor=[0,0,0,0],c.buttonBackgroundColor=[.16,.16,.16,1],c),l}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsContainer",{get:function(){return this._buttonsContainer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttons",{get:function(){return this._buttons},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},72630:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyConfirm=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(42178),d=r(54915),h=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._resultEvent=o.disposeVar(new l.Event),o._myWindow=(r=o.disposeVar(u.SceneObject.createFromClass(p.MyWindow)),o.dispose(r.closeEvent.disposableOn((function(){o.resultEvent.emit("close")}))),o.dispose(o.components.disposableAdd(r)),o.dispose((0,l.track)([r,"show"],[o,"show"])),o.dispose((0,l.track)([r,"title"],[o,"title"])),r),o._layoutDiv=((n=o.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv))).cssText="",n.createAttachedObjFunc=(0,d.getCreateAttachedObjFunc)(o),o.myWindow.subDivId=n.id,n),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyConfirm"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultEvent",{get:function(){return this._resultEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myWindow",{get:function(){return this._myWindow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.myWindow.container},set:function(e){this.myWindow.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this.myWindow.containerChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"])])],!1)},r=t,t.type=r.register("MyConfirm",r,{chsName:"MyConfirm",tags:["ESObjects","_ES_Impl_Cesium"],description:"MyConfirm"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyConfirm=h,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,text:"",title:""})}}(h=t.MyConfirm||(t.MyConfirm={})),t.MyConfirm=h,(0,l.extendClassProps)(h.prototype,h.createDefaultProps)},61347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84038:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SubDivs=t.SubDiv=void 0;var i=r(81901),a=r(51355),s=function(e){function t(t,r){var n,o=e.call(this)||this;return o._div=t,o._subId=r,o._sceneObjectWithId=((n=o.disposeVar(new i.SceneObjectWithId)).id=o._subId,n),o._resetting=o.disposeVar(new i.ObjResettingWithEvent(o._sceneObjectWithId.sceneObjectChanged,(function(){var e=o._sceneObjectWithId.sceneObject;if(e&&"container"in e){var t=new a.Destroyable;return e.container=o._div,t.dispose((function(){return e.container=void 0})),t}}))),o}return o(t,e),Object.defineProperty(t.prototype,"sceneObjectWithId",{get:function(){return this._sceneObjectWithId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.sceneObjectWithId.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectChanged",{get:function(){return this.sceneObjectWithId.sceneObjectChanged},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.SubDiv=s;var c=function(e){function t(t){var r=e.call(this)||this;return r._sceneObject=t,r._subs=r.sceneObject.subIds.map((function(e){return r.disposeVar(new s(r.sceneObject.div,e))})),r}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subs",{get:function(){return this._subs},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.SubDivs=c},66345:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyContainer=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(84038),g=function(e){function t(t){var r=e.call(this,t)||this;return r._finalImageUri=r.disposeVar(u.SceneObject.context.createEnvStrReact([r,"imageUri"])),r._layoutDiv=function(){var e=r.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv));e.setDivAttribute("m3t-my-container-id",r.id),r.dispose(r.components.disposableAdd(e)),r.dispose((0,l.track)([e,"show"],[r,"show"])),r.dispose((0,l.track)([e,"containerId"],[r,"containerId"])),r.dispose((0,l.track)([e,"shadowDom"],[r,"shadowDom"])),r.dispose((0,l.track)([e,"cssAllInitial"],[r,"cssAllInitial"])),r.dispose((0,l.track)([e,"interaction"],[r,"interaction"])),r.dispose((0,l.track)([e,"visibility"],[r,"visibility"])),r.dispose((0,l.track)([e,"layoutType"],[r,"layoutType"])),r.dispose((0,l.track)([e,"width"],[r,"width"])),r.dispose((0,l.track)([e,"height"],[r,"height"])),r.dispose((0,l.track)([e,"backgroundColor"],[r,"backgroundColor"])),r.dispose((0,l.track)([e,"color"],[r,"color"]));var t=function(){var t="".concat(r.cssText,"\n");e.cssText=t};t();var n=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.cssTextChanged));return r.dispose(n.disposableOn(t)),e}(),r._subDivsResetting=r.disposeVar(new u.ObjResettingWithEvent(r.subIdsChanged,(function(){if(0!==r.subIds.length)return new h.SubDivs(r)}))),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyContainer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this._finalImageUri.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this._finalImageUri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this.layoutDiv.div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subDivsResetting",{get:function(){return this._subDivsResetting},enumerable:!1,configurable:!0}),t.prototype.setFlexRowLayout=function(){this.cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n"},t.prototype.setFlexColumnLayout=function(){this.cssText="display: flex;\nflex-direction: column;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n"},t.prototype.getProperties=function(t){var r=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyContainer","MyContainer",[new c.StringsProperty("subIds","subIds",!1,!1,[this,"subIds"]),new c.JsonProperty("subIds(JSON)","subIds(JSON)",!1,!1,[this,"subIds"])]),new c.GroupProperty("","",[new c.FunctionProperty("Flex","(setFlexRowLayout)",[],(function(){return r.setFlexRowLayout()}),[]),new c.FunctionProperty("Flex","(setFlexColumnLayout)",[],(function(){return r.setFlexColumnLayout()}),[])])],!1)},r=t,t.type=r.register("MyContainer",r,{chsName:"MyContainer",tags:["ESObjects"],description:"MyContainer"}),t.defaults=i(i({},c.ESSceneObject.defaults),{defaultTextCssText:""}),t.defaultTextCssTextMd="",t}(c.ESSceneObject);t.MyContainer=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:f.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",subIds:(0,l.reactArray)([])})}}(g=t.MyContainer||(t.MyContainer={})),t.MyContainer=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},7234:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyContextMenu=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(66345),p=r(21036),d=r(2977),h=r(33157),g=r(61384),y=function(e){function t(t){var r,n=e.call(this,t)||this;return n._clickFunc=n.disposeVar((0,l.react)(void 0)),n._clickFuncInit=((r=function(){var e=(0,c.getFuncFromStr)(n.clickFuncStr);e&&(n.clickFunc=e)})(),void n.dispose(n.clickFuncStrChanged.disposableOn(r))),n._menuContainer=function(){var e=n.disposeVar(u.SceneObject.createFromClass(f.MyContainer));n.dispose(n.components.disposableAdd(e)),e.layoutType="LeftTop",e.backgroundColor=[0,0,0,.5],n.dispose((0,l.track)([e,"show"],[n,"show"])),n.dispose((0,l.track)([e,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([e,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([e,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([e,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([e,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([e,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([e,"width"],[n,"width"])),n.dispose((0,l.track)([e,"height"],[n,"height"])),n.dispose((0,l.track)([e,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([e,"color"],[n,"color"]));var t="display: flex;\nflex-direction: column;\nflex-wrap: nowrap;\njustify-content: flex-start;\n// align-items: flex-start;",r=function(){var r=n.windowPos;if(null===r)e.cssText="".concat(t,"\n").concat(n.cssText,"\n");else{var o=a(r,2),i=o[0],s=o[1];e.cssText="left: ".concat(i,"px; top: ").concat(s,"px;\n").concat(t,"\n").concat(n.cssText,"\n")}};return r(),n.dispose(n.windowPosChanged.disposableOn(r)),n.dispose(n.cssTextChanged.disposableOn(r)),e}(),n._menus=void n.disposeVar(new u.ObjResettingWithEvent(n.menuStringsChanged,(function(){if(0!==n.menuStrings.length){var e=new l.Destroyable,t=n.menuStrings.map((function(t,r){var o=e.disposeVar(u.SceneObject.createFromClass(d.RectangleButton));return e.dispose(n.components.disposableAdd(o)),o.setCommandButtonPreset(),o.text=t,o.clickFunc=function(e){if(n.clickFunc)return n.clickFunc(r,t,e,{myContextMenu:n})},o})).map((function(e){return e.id}));return n.menuContainer.subIds=t,e}}))),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyContextMenu"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menuContainer",{get:function(){return this._menuContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.menuContainer.container},set:function(e){this.menuContainer.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.menuContainer.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.menuContainer.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],h.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],h.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",g.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyContextMenu","MyContextMenu",[new c.Number2WithNullProperty("","",!0,!1,[this,"windowPos"]),new c.StringsProperty("menuStrings","menuStrings",!1,!1,[this,"menuStrings"]),new c.JsonProperty("menuStrings(JSON)","menuStrings(JSON)",!1,!1,[this,"menuStrings"])])],!1)},r=t,t.type=r.register("MyContextMenu",r,{chsName:"MyContextMenu",tags:["ESObjects"],description:"MyContextMenu"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyContextMenu=y,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"LeftTop",width:0,height:0,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",windowPos:(0,l.reactArrayWithNull)(null),menuStrings:(0,l.reactArray)(["1","2"]),clickFuncStr:"function (index, text, mouseEvent, context) { console.log(`${index} - ${text}`); } "})}}(y=t.MyContextMenu||(t.MyContextMenu={})),t.MyContextMenu=y,(0,l.extendClassProps)(y.prototype,y.createDefaultProps)},78214:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCursorPosMonitor=void 0;var i=r(9675),a=function(e){function t(){var t=e.call(this)||this;return t._pos=t.disposeVar((0,i.reactArrayWithNull)(null)),document.addEventListener("DOMContentLoaded",(function(){var e=function(e){t.pos=[e.clientX,e.clientY]};document.body.addEventListener("mousemove",e,!0),t.dispose((function(){return document.body.removeEventListener("mousemove",e,!0)}))})),t}return o(t,e),Object.defineProperty(t.prototype,"pos",{get:function(){return this._pos.value},set:function(e){this._pos.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"posChanged",{get:function(){return this._pos.changed},enumerable:!1,configurable:!0}),t.initGlobe=function(){window._vtxfClientCursorPosMonitor||(window._vtxfClientCursorPosMonitor=new t)},t.instance=function(){return window._vtxfClientCursorPosMonitor},t}(i.Destroyable);t.ClientCursorPosMonitor=a,a.initGlobe()},12778:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ComplexCursorContextMenuDiv=void 0;var i=r(9675),a=r(33157),s=r(7234),c=r(78214),l=function(e){function t(t){var r=e.call(this)||this;return r._mainDiv=t,r._menu=function(){var e=r.disposeVar(new s.MyContextMenu);e.layoutType="None",r.dispose((0,i.track)([e,"menuStrings"],[r.mainDiv.myCursorTooltip,"menuStrings"])),r.dispose((0,i.track)([e,"clickFunc"],[r.mainDiv.myCursorTooltip,"clickFunc"]));var t=r.mainDiv.myCursorTooltip;return r.dispose(t.components.disposableAdd(e)),e}(),r._layoutDiv=function(){var e=r.disposeVar(new a.LayoutDiv);e.container=document.body,e.layoutType="LeftTop",e.createAttachedObjFunc=function(e,t){var n=r,a=function(t){function r(){var r=t.call(this)||this,o=e;n.menu.container=o,r.dispose((function(){return n.menu.container=void 0}));var i=function(e){e.target===o&&(n.mainDiv.activated=!1)};o.addEventListener("mouseleave",i,!0),r.dispose((function(){return o.removeEventListener("mouseleave",i,!0)}));var a=function(e){e.target===o&&n.mainDiv.cancelAutoDeactiveProcessing()};return o.addEventListener("mouseenter",a,!0),r.dispose((function(){return o.removeEventListener("mouseenter",a,!0)})),r}return o(r,t),r}(i.Destroyable);return new a};var t=c.ClientCursorPosMonitor.instance().pos;t&&(e.cssText="left: ".concat(t[0]+12,"px;\ntop: ").concat(t[1]+12,"px;\n"));var n=r.mainDiv.myCursorTooltip;return r.dispose(n.components.disposableAdd(e)),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"mainDiv",{get:function(){return this._mainDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.ComplexCursorContextMenuDiv=l},43402:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorContextMenuDiv=void 0;var s=r(9675),c=r(81901),l=r(78214),u=r(12778),f=r(41776),p=function(e){function t(t){var r,n=e.call(this)||this;return n._myCursorTooltip=t,n._show=n.disposeVar((0,s.react)(!1)),n._showComplex=n.disposeVar((0,s.react)(!1)),n._activated=n.disposeVar((0,s.react)(!1)),n._cursorPos=n.disposeVar((0,s.reactArrayWithNull)(null)),n.showComplexTime=600,n._showComplexInit=function(){var e=function(){n.show?0!==n.myCursorTooltip.menuStrings.length&&(n.cursorPos=l.ClientCursorPosMonitor.instance().pos):n.showComplex=!1};e(),n.dispose(n.showChanged.disposableOn(e))}(),n._resettingEvent=n.disposeVar((0,s.createNextAnimateFrameEvent)(n.showChanged,n.showComplexChanged)),n._divResetting=n.disposeVar(new c.ObjResettingWithEvent(n._resettingEvent,(function(){if(n.show){if(!n.showComplex&&n.toolTip)return new f.SimpleCursorContextMenuDiv(n);if(0!==n.menuStrings.length)return new u.ComplexCursorContextMenuDiv(n)}}))),n.autoDeactiveTime=200,n._autoDeactiveProcessing=n.disposeVar((0,c.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.activated=!0,[4,e.promise((0,c.sleep)(this.autoDeactiveTime))];case 1:return t.sent(),this.activated=!1,[2]}}))}))}))),(r=function(){n.activated||(n.show=!1)})(),n.dispose(n.activatedChanged.disposableOn(r)),(r=function(){n.show||(n.showComplex=!1,n.activated=!1)})(),n.dispose(n.showChanged.disposableOn(r)),n.dispose(n.myCursorTooltip.activatedChanged.disposableOn((function(){n.myCursorTooltip.activated||n.showComplex&&n.startAutoDeactiveProcessing()}))),n}return o(t,e),Object.defineProperty(t.prototype,"myCursorTooltip",{get:function(){return this._myCursorTooltip},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolTip",{get:function(){return this.myCursorTooltip.tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menuStrings",{get:function(){return this.myCursorTooltip.menuStrings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showComplex",{get:function(){return this._showComplex.value},set:function(e){this._showComplex.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showComplexChanged",{get:function(){return this._showComplex.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activated",{get:function(){return this._activated.value},set:function(e){this._activated.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activatedChanged",{get:function(){return this._activated.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorPos",{get:function(){return this._cursorPos.value},set:function(e){this._cursorPos.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorPosChanged",{get:function(){return this._cursorPos.changed},enumerable:!1,configurable:!0}),t.prototype.startAutoDeactiveProcessing=function(){this.myCursorTooltip.log&&console.log("startAutoDeactiveProcessing"),this._autoDeactiveProcessing.restart()},t.prototype.cancelAutoDeactiveProcessing=function(){this.myCursorTooltip.log&&console.log("cancelAutoDeactiveProcessing"),this._autoDeactiveProcessing.isRunning&&this._autoDeactiveProcessing.cancel()},t}(s.Destroyable);t.CursorContextMenuDiv=p},41776:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleCursorContextMenuDiv=void 0;var s=r(9675),c=r(78214),l=r(81901),u=function(e){function t(t){var r,n=e.call(this)||this;return n._mainDiv=t,n._image=function(){var e,t=n.disposeVar(l.SceneObject.createFromJson({type:"MyImage",visibility:!1,containerId:""}));t.container=void 0,n.dispose((function(){return t.container=void 0})),t.layoutType="LeftTop",t.backgroundColor=[.1,.1,.1,.8],t.color=[1,1,1,1],t.flushCss(),t.container=document.body,t.imageUri="",(e=function(){t.show=!!t.imageUri})(),n.dispose(t.imageUriChanged.disposableOn(e)),(e=function(){var e=c.ClientCursorPosMonitor.instance().pos;if(e){var r=e[1]+12+t.height<window.innerHeight,n=e[0]+12+t.width<window.innerWidth;n&&r?(t.layoutType="LeftTop",t.cssText="border-radius: 4px;\nleft: ".concat(e[0]+12,"px;\ntop: ").concat(e[1]+12,"px;\n")):n&&!r?(t.layoutType="LeftBottom",t.cssText="border-radius: 4px;\nleft: ".concat(e[0]+12,"px;\nbottom: ").concat(window.innerHeight-e[1]+12,"px;\n")):!n&&r?(t.layoutType="RightTop",t.cssText="border-radius: 4px;\nright: ".concat(window.innerWidth-e[0]+12,"px;\ntop: ").concat(e[1]+12,"px;\n")):(t.layoutType="RightBottom",t.cssText="border-radius: 4px;\nright: ".concat(window.innerWidth-e[0]+12,"px;\nbottom: ").concat(window.innerHeight-e[1]+12,"px;\n")),t.visibility=!0,t.flushCss()}})(),n.dispose(c.ClientCursorPosMonitor.instance().posChanged.disposableOn(e)),n.dispose((0,s.track)([t,"imageUri"],[n.mainDiv.myCursorTooltip,"tooltipImageUri"])),n.dispose((0,s.track)([t,"width"],[n.mainDiv.myCursorTooltip,"tooltipImageWidth"])),n.dispose((0,s.track)([t,"height"],[n.mainDiv.myCursorTooltip,"tooltipImageHeight"]));var r=n.mainDiv.myCursorTooltip;return n.dispose(r.components.disposableAdd(t)),t}(),n._label=function(){var e=n.disposeVar(l.SceneObject.createFromJson({type:"MyLabel",visibility:!1,containerId:""}));e.container=void 0,n.dispose((function(){return e.container=void 0})),e.layoutType="LeftTop",e.backgroundColor=[.1,.1,.1,.8],e.color=[1,1,1,1],e.fontSize=12,e.fontWeight=0,e.padding=2,e.flushCss(),e.container=document.body,e.text=n.mainDiv.myCursorTooltip.tooltip;var t=function(){var t=c.ClientCursorPosMonitor.instance().pos;t&&(e.cssText="border-radius: 4px;\nleft: ".concat(t[0]+12,"px;\ntop: ").concat(t[1]+12,"px;\n"),e.visibility=!0,e.flushCss())};t(),n.dispose(c.ClientCursorPosMonitor.instance().posChanged.disposableOn(t));var r=n.mainDiv.myCursorTooltip;return n.dispose(r.components.disposableAdd(e)),e}(),n._showComplexProcessing=(r=n.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.promise((0,l.sleep)(this.mainDiv.showComplexTime))];case 1:return t.sent(),this.mainDiv.showComplex=!0,[2]}}))}))}))),n.mainDiv.myCursorTooltip.menuStrings.length>0&&r.start(),r),n}return o(t,e),Object.defineProperty(t.prototype,"mainDiv",{get:function(){return this._mainDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.SimpleCursorContextMenuDiv=u},14355:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyCursorTooltip=void 0;var c=r(80468),l=r(51355),u=r(43402),f=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._cursorContextMenuDiv=(r=o.disposeVar(new u.CursorContextMenuDiv(o)),(n=function(){if(!o.enabled)return o.activated=!1,void(r.show=!1);o.activated?r.show=!0:r.activated||(r.show=!1)})(),o.dispose(o.enabledChanged.disposableOn(n)),o.dispose(o.activatedChanged.disposableOn(n)),r),o._clickFunc=o.disposeVar((0,l.react)(void 0)),o._clickFuncInit=function(){var e=function(){var e=(0,c.getFuncFromStr)(o.clickFuncStr);e&&(o.clickFunc=e)};e(),o.dispose(o.clickFuncStrChanged.disposableOn(e))}(),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyCursorTooltip"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorContextMenuDiv",{get:function(){return this._cursorContextMenuDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(enabled)",!1,!1,[this,"enabled"]),new c.BooleanProperty("","(activated)",!1,!1,[this,"activated"]),new c.StringProperty("","(tooltip)",!1,!1,[this,"tooltip"]),new c.StringProperty("uri","tooltipImageUri",!1,!1,[this,"tooltipImageUri"]),new c.NumberProperty("","tooltipImageWidth",!1,!1,[this,"tooltipImageWidth"]),new c.NumberProperty("","tooltipImageHeight",!1,!1,[this,"tooltipImageHeight"]),new c.StringsProperty("menuStrings","menuStrings",!1,!1,[this,"menuStrings"]),new c.StringProperty("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"]),new c.BooleanProperty("","(log)",!1,!1,[this,"log"])])],!1)},r=t,t.type=r.register("MyCursorTooltip",r,{chsName:"MyCursorTooltip",tags:["ESObjects"],description:"MyCursorTooltip"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyCursorTooltip=f,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{enabled:!0,activated:!0,tooltip:"",tooltipImageUri:"",tooltipImageWidth:256,tooltipImageHeight:256,menuStrings:(0,l.reactArray)(["1","2","3"]),clickFuncStr:"function (index, text, mouseEvent) { console.log(`${index} - ${text}`); } ",log:!1})}}(f=t.MyCursorTooltip||(t.MyCursorTooltip={})),t.MyCursorTooltip=f,(0,l.extendClassProps)(f.prototype,f.createDefaultProps)},21704:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyCustomDiv=void 0;var c=r(6997),l=r(80468),u=r(51355),f=r(59645),p=r(63517),d=r(33621),h=r(61384),g=r(97853),y=function(e){function t(r){var n,i,a,s=e.call(this,r)||this;return s._instanceClassReact=s.disposeVar((0,u.react)(void 0)),s._pickedEvent=s.disposeVar(new u.Event),s._innerHtmlMounted=s.disposeVar(new u.Event),s._container=s.disposeVar((0,u.react)(void 0)),s._finalCssText=s.disposeVar((0,u.react)("")),s._divCsssChangedEvent=s.disposeVar((0,u.createNextAnimateFrameEvent)(s.visibilityChanged,s.interactionChanged,s.cssAllInitialChanged,s.zIndexChanged,s.layoutTypeChanged,s.widthChanged,s.heightChanged,s.backgroundColorChanged,s.colorChanged,s.cssTextChanged,s.showChanged)),s._div=function(){var e=document.createElement("div");e.setAttribute("m3t-my-custom-div","".concat(s.id));var t=function(){var t="".concat(s.cssAllInitial?"all: initial;\n":"").concat(s.visibility?"":"visibility: hidden;\n").concat(s.interaction?"pointer-events: all;":"pointer-events: none;").concat(s.zIndex?"z-index: ".concat(s.zIndex,";\n"):"").concat((0,g.getMyCustomDivLayoutCss)(s.layoutType)).concat(s.cssText,"\n").concat(0!==s.width?"width: ".concat(s.width,"px;\n"):"").concat(0!==s.height?"height: ".concat(s.height,"px;\n"):"").concat(s.backgroundColor?"background-color: ".concat((0,c.xe2ColorToCssColor)(s.backgroundColor),";\n"):"").concat(s.color?"color: ".concat((0,c.xe2ColorToCssColor)(s.color),";\n"):"").concat(s.show?"":"display: none;\n");s._finalCssText.value=t,e.style.cssText=t};return t(),s.dispose(s._divCsssChangedEvent.disposableOn(t)),e}(),s._containerIdResetting=(n=s.div,i=function(e){function t(t){var r=e.call(this)||this;return t.appendChild(n),r.dispose((function(){try{t.removeChild(n)}catch(e){console.warn(e)}})),r}return o(t,e),t}(u.Destroyable),s.disposeVar(new f.ObjResettingWithEvent(s.containerChanged,(function(){if(s.container)return new i(s.container)})))),s._instanceClassResetting=function(){var e=s.div,t=s.disposeVar((0,u.createNextAnimateFrameEvent)(s.containerChanged,s.instanceClassChanged,s.shadowDomChanged));return s.disposeVar(new f.ObjResettingWithEvent(t,(function(){if(s.container&&s.instanceClass){var t=e;return e.innerHTML="",new s.instanceClass(t,s)}})))}(),(a=function(){try{s.instanceClass=s.instanceClassStr&&Function('"use strict";return ('.concat(s.instanceClassStr,")"))()}catch(e){s.instanceClass=void 0}})(),s.dispose(s.instanceClassStrChanged.disposableOn(a)),(a=function(){if(void 0!==s.innerHTML){var e="class MyDiv extends XE2['xe2-base-utils'].Destroyable {\n                    // subContainerdivDOM\n                    // customDivCustomDiv\n                    // z-index\n                    constructor(subContainer, customDiv) {     \n                        super();  \n\n                        const div = document.createElement('div');\n                        this.dispose(() => subContainer.removeChild(div));\n\n                        subContainer.appendChild(div);\n\n                        div.innerHTML = `".concat(s.innerHTML,"`;\n                        customDiv._innerHtmlMounted.emit(div);\n\n                        // {\n                        //     // \n                        //     const update = () => {\n                        //         div.style.display = (customDiv.show ?? true) ? 'flex' : 'none';\n                        //     };\n                        //     update();\n                        //     this.dispose(customDiv.showChanged.disposableOn(update));\n                        // }\n                    }\n                }");s.instanceClassStr=e}else s.instanceClassStr=void 0})(),s.dispose(s.innerHTMLChanged.disposableOn(a)),(a=function(){if(""===s.containerId)s.container=void 0;else if(null===s.containerId)s.container=t.defaultContainer;else{var e=document.getElementById(s.containerId);e instanceof HTMLElement?s.container=e:s.container=void 0}})(),s.dispose(s.containerIdChanged.disposableOn(a)),s}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyCustomDiv"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultContainer",{get:function(){var e;return null!==(e=t._defaultContainer)&&void 0!==e?e:document.body},set:function(e){t._defaultContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instanceClass",{get:function(){return this._instanceClassReact.value},set:function(e){this._instanceClassReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instanceClassChanged",{get:function(){return this._instanceClassReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerHtmlMounted",{get:function(){return this._innerHtmlMounted},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container.value},set:function(e){this._container.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this._finalCssText.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this._finalCssText.changed},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this._divCsssChangedEvent.flush()},Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),t.prototype.setDivAttribute=function(e,t){this._div.setAttribute(e,t)},Object.defineProperty(t.prototype,"instanceClassResetting",{get:function(){return this._instanceClassResetting},enumerable:!1,configurable:!0}),t.prototype.getInstanceClassObj=function(){return this._instanceClassResetting.obj},t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new l.GroupProperty("","",[new l.BooleanProperty("","",!1,!1,[this,"show"]),new l.EvalStringProperty("","",!0,!1,[this,"instanceClassStr"],d.defaulInstanceClassStr,p.defaulInstanceClassDocStr),new l.EvalStringProperty("innerHTML","instanceClassStr",!0,!1,[this,"innerHTML"],t.defaultInnerHTML,t.innerHTMLReadMe),new l.BooleanProperty("","",!1,!1,[this,"interaction"]),new l.StringWithNullProperty("ID","IDnull, ",!0,!1,[this,"containerId"],t.defaults.containerId)]),new l.GroupProperty("","",[new l.BooleanProperty("","",!1,!1,[this,"visibility"]),new l.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new l.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new l.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],t.defaults.zIndex),new l.EnumProperty("","",!1,!1,[this,"layoutType"],g.myCustomDivLayoutTypeEnums),new l.NumberProperty("","",!1,!1,[this,"width"]),new l.NumberProperty("","",!1,!1,[this,"height"]),new l.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],t.defaults.backgroundColor),new l.ColorWithNullProperty("","",!0,!1,[this,"color"],t.defaults.color),new l.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new l.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])])],!1)},r=t,t.type=r.register("MyCustomDiv",r,{chsName:"MyCustomDiv",tags:["MiscObjects"],description:"MyCustomDiv"}),t._defaultContainer=null,t.defaults=i(i({},l.ESSceneObject.defaults),{containerId:"",zIndex:0,backgroundColor:[0,0,0,.5],color:[1,1,1,1]}),t.defaultInnerHTML='<div style="width: 300px; height: 50px; font-size: 30px; line-height: 50px; border: 1px solid white;">Hello world!</div>\n',t.innerHTMLReadMe="  \n```\n".concat(t.defaultInnerHTML,"\n```\n"),t}(l.ESSceneObject);t.MyCustomDiv=y,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,instanceClassStr:void 0,innerHTML:void 0,interaction:!0,containerId:null,visibility:!0,shadowDom:!1,zIndex:void 0,cssAllInitial:!1,layoutType:"None",width:0,height:0,backgroundColor:(0,u.reactArrayWithNull)(null),color:(0,u.reactArrayWithNull)(null),cssText:""})}}(y=t.MyCustomDiv||(t.MyCustomDiv={})),t.MyCustomDiv=y,(0,u.extendClassProps)(y.prototype,y.createDefaultProps)},63517:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaulInstanceClassDocStr=void 0;var n=r(33621);t.defaulInstanceClassDocStr="\n```\n".concat(n.defaulInstanceClassStr,"\n```\n")},33621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaulInstanceClassStr=void 0,t.defaulInstanceClassStr="class MyDiv extends XE2['xe2-base-utils'].Destroyable {\n    // subContainerdivDOM\n    // customDivCustomDiv\n    constructor(subContainer, customDiv) {   \n        super();  \n\n        this._subContainer = subContainer;\n        const div = document.createElement('div');\n        this._div = div;\n\n        this._subContainer.appendChild(div);\n        this.dispose(() => this._subContainer.removeChild(this._div));\n\n        div.style.width = '300px';\n        div.style.height = '50px';\n        div.style.fontSize = '30px';\n        div.style.lineHeight = '50px';\n        div.style.border = '1px solid white';\n        div.innerText = 'Hello world!';\n    }\n\n    // \n    update() {\n        const r = (255 * Math.random()) | 0;\n        const g = (255 * Math.random()) | 0;\n        const b = (255 * Math.random()) | 0;\n        this._div.style.background = `rgba(${r}, ${g}, ${b}, 0.8)`;\n    }\n}"},61384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCssTextMd=void 0,t.defaultCssTextMd="# \n```\ncolor: whilte;\n```\n"},11899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterBottomCssText=void 0,t.getCenterBottomCssText=function(e){var t=null!=e?e:{},r=t.left,n=void 0===r?"50%":r,o=t.bottom,i=void 0===o?"0":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    position: absolute;\n    left: ".concat(n,";\n    right: unset;\n    top: unset;\n    bottom: ").concat(i,";\n    width: ").concat(s,";\n    height: ").concat(l,";\n    transform: translateX(-50%);\n    ").concat(f,"\n    ")}},49742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterCssText=void 0,t.getCenterCssText=function(e){var t=null!=e?e:{},r=t.left,n=void 0===r?"50%":r,o=t.top,i=void 0===o?"50%":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    position: absolute;\n    left: ".concat(n,";\n    right: unset;\n    bottom: unset;\n    top: ").concat(i,";\n    width: ").concat(s,";\n    height: ").concat(l,";\n    transform: translate(-50%,-50%);\n\n    ").concat(f,"\n    ")}},92077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterTopCssText=void 0,t.getCenterTopCssText=function(e){var t=null!=e?e:{},r=t.left,n=void 0===r?"50%":r,o=t.top,i=void 0===o?"0":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    position: absolute;\n    left: ".concat(n,";\n    right: unset;\n    top: ").concat(i,";\n    bottom: unset;\n    width: ").concat(s,";\n    height: ").concat(l,";\n    transform: translateX(-50%);\n\n    ").concat(f,"\n    ")}},12046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFullScreenCssText=void 0,t.getFullScreenCssText=function(e){var t=null!=e?e:{},r=t.width,n=void 0===r?"100%":r,o=t.height,i=void 0===o?"100%":o,a=t.extraCss,s=void 0===a?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":a;return"\n    width: ".concat(n,";\n    height: ").concat(i,";\n    position: relative;\n    ").concat(s,"\n    ")}},93075:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeftBottomCssText=void 0,t.getLeftBottomCssText=function(e){var t=null!=e?e:{},r=t.left,n=void 0===r?"0":r,o=t.bottom,i=void 0===o?"0":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    position: absolute;\n    left: ".concat(n,";\n    right: unset;\n    top: unset;\n    bottom: ").concat(i,";\n    width: ").concat(s,";\n    height: ").concat(l,";\n\n    ").concat(f,"\n    ")}},42141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeftCenterCssText=void 0,t.getLeftCenterCssText=function(e){var t=null!=e?e:{},r=t.left,n=void 0===r?"0":r,o=t.top,i=void 0===o?"50%":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    box-sizing: border-box;\n    position: absolute;\n    left: ".concat(n,";\n    right: unset;\n    top: ").concat(i,";\n    bottom: unset;\n    width: ").concat(s,";\n    height: ").concat(l,";\n    transform: translateY(-50%);\n    ").concat(f,"\n    ")}},33333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeftTopCssText=void 0,t.getLeftTopCssText=function(e){var t=null!=e?e:{},r=t.left,n=void 0===r?"0":r,o=t.top,i=void 0===o?"0":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"":u;return"\n    position: absolute;\n    left: ".concat(n,";\n    right: unset;\n    top: ").concat(i,";\n    bottom: unset;\n    width: ").concat(s,";\n    height: ").concat(l,";\n    ").concat(f,"\n    ")}},94982:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRightBottomCssText=void 0,t.getRightBottomCssText=function(e){var t=null!=e?e:{},r=t.right,n=void 0===r?"0":r,o=t.bottom,i=void 0===o?"0":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    position: absolute;\n    right: ".concat(n,";\n    left: unset;\n    top: unset;\n    bottom: ").concat(i,";\n    width: ").concat(s,";\n    height: ").concat(l,";\n    ").concat(f,"\n    ")}},49500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRightCenterCssText=void 0,t.getRightCenterCssText=function(e){var t=null!=e?e:{},r=t.right,n=void 0===r?"0":r,o=t.top,i=void 0===o?"50%":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    position: absolute;\n    right: ".concat(n,";\n    left: unset;\n    top: ").concat(i,";\n    bottom: unset;\n    width: ").concat(s,";\n    height: ").concat(l,";\n    transform: translateY(-50%);\n    ").concat(f,"\n    ")}},48682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRightTopCssText=void 0,t.getRightTopCssText=function(e){var t=null!=e?e:{},r=t.right,n=void 0===r?"0":r,o=t.top,i=void 0===o?"0":o,a=t.width,s=void 0===a?"unset":a,c=t.height,l=void 0===c?"unset":c,u=t.extraCss,f=void 0===u?"\n            zIndex: 100;\n            pointerEvents: all;\n        ":u;return"\n    box-sizing: border-box;\n    position: absolute;\n    right: ".concat(n,";\n    left: unset;\n    top: ").concat(i,";\n    bottom: unset;\n    width: ").concat(s,";\n    height: ").concat(l,";\n    ").concat(f,"\n    ")}},97853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMyCustomDivLayoutCss=t.myCustomDivLayoutTypeEnums=t.myCustomDivLayoutTypes=t.getCssTextFromType=void 0;var n=r(11899),o=r(49742),i=r(92077),a=r(12046),s=r(93075),c=r(42141),l=r(33333),u=r(94982),f=r(49500),p=r(48682),d={LeftTop:l.getLeftTopCssText,RightTop:p.getRightTopCssText,LeftBottom:s.getLeftBottomCssText,RightBottom:u.getRightBottomCssText,CenterTop:i.getCenterTopCssText,CenterBottom:n.getCenterBottomCssText,LeftCenter:c.getLeftCenterCssText,RightCenter:f.getRightCenterCssText,FullScreen:a.getFullScreenCssText,Center:o.getCenterCssText};function h(e){var t=d[e.type];if(t)return t(e);console.error("getCssText error: ".concat(e.type))}t.getCssTextFromType=h,t.myCustomDivLayoutTypes=["None","LeftTop","RightTop","LeftBottom","RightBottom","CenterTop","CenterBottom","LeftCenter","RightCenter","FullScreen","Center"],t.myCustomDivLayoutTypeEnums=t.myCustomDivLayoutTypes.map((function(e){return[e,e]})),t.getMyCustomDivLayoutCss=function(e){return"None"===e?"position: relative;":h({type:e})}},21036:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(21704),t),o(r(97853),t)},2956:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,a,s=t.call(this)||this;return s._div=r,s._viewer=n,s._divInit=(a=s.div,(o=function(){var t,r,n,o=(r=(t=i.SceneObject.context.getStrFromEnv(e.imageUri)).endsWith("svg"),n=t.startsWith("<svg"),r?'<embed src="'.concat(t,'" style="width: 100%; height: 100%; pointer-events: none;" type="image/svg+xml" />'):n?'<div style="width:100%;height:100%;display:flex;justify-content:center;align-items:center;">'.concat(t,"</div>"):t?'<img src="'.concat(t,'" style="width:100%;height:100%;">'):"");a.innerHTML=o})(),s.dispose(e.imageUriChanged.disposableOn(o)),(o=function(){e.tauriDragRegion?a.hasAttribute("data-tauri-drag-region")||a.setAttribute("data-tauri-drag-region",""):a.hasAttribute("data-tauri-drag-region")&&a.removeAttribute("data-tauri-drag-region")})(),void s.dispose(e.tauriDragRegionChanged.disposableOn(o))),s}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},72039:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyImage=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(2956),g=function(e){function t(t){var r,n=e.call(this,t)||this;return n._finalImageUri=n.disposeVar(u.SceneObject.context.createEnvStrReact([n,"imageUri"])),n._layoutDiv=((r=n.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv))).setDivAttribute("MyImage-id",n.id),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,h.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyImage"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this._finalImageUri.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this._finalImageUri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this.layoutDiv.flushCss()},t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyImage","MyImage",[new c.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"]),new c.BooleanProperty("tauriDragRegion","tauriDragRegion",!1,!1,[this,"tauriDragRegion"])])],!1)},r=t,t.type=r.register("MyImage",r,{chsName:"MyImage",tags:["ESObjects"],description:"MyImage"}),t.defaults=i(i({},c.ESSceneObject.defaults),{defaultTextCssText:""}),t.defaultTextCssTextMd="",t}(c.ESSceneObject);t.MyImage=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:f.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:200,height:200,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",imageUri:"${my3dtiles-assets-script-dir}/assets/images/myCompass/compass.png",tauriDragRegion:!1})}}(g=t.MyImage||(t.MyImage={})),t.MyImage=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},9153:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,i,a=t.call(this)||this;return a._div=r,a._viewer=n,a._divInit=(i=a.div,(o=function(){i.innerText=e.text})(),a.dispose(e.textChanged.disposableOn(o)),(o=function(){e.tauriDragRegion?i.hasAttribute("data-tauri-drag-region")||i.setAttribute("data-tauri-drag-region",""):i.hasAttribute("data-tauri-drag-region")&&i.removeAttribute("data-tauri-drag-region")})(),void a.dispose(e.tauriDragRegionChanged.disposableOn(o))),a}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},17012:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyLabel=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(9153),g=function(e){function t(t){var r=e.call(this,t)||this;return r._finalImageUri=r.disposeVar(u.SceneObject.context.createEnvStrReact([r,"imageUri"])),r._cssChangedEvent=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.fontSizeChanged,r.paddingChanged,r.fontWeightChanged,r.letterSpacingChanged,r.cssTextChanged)),r._layoutDiv=function(){var e=r.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv));e.setDivAttribute("m3t-my-label",r.id),r.dispose(r.components.disposableAdd(e));var t=(0,h.getCreateAttachedObjFunc)(r);r.disposeVar(t(e.div,void 0)),r.dispose((0,l.track)([e,"show"],[r,"show"])),r.dispose((0,l.track)([e,"containerId"],[r,"containerId"])),r.dispose((0,l.track)([e,"shadowDom"],[r,"shadowDom"])),r.dispose((0,l.track)([e,"cssAllInitial"],[r,"cssAllInitial"])),r.dispose((0,l.track)([e,"interaction"],[r,"interaction"])),r.dispose((0,l.track)([e,"visibility"],[r,"visibility"])),r.dispose((0,l.track)([e,"layoutType"],[r,"layoutType"])),r.dispose((0,l.track)([e,"width"],[r,"width"])),r.dispose((0,l.track)([e,"height"],[r,"height"])),r.dispose((0,l.track)([e,"backgroundColor"],[r,"backgroundColor"])),r.dispose((0,l.track)([e,"color"],[r,"color"]));var n=function(){var t="white-space: nowrap;\nfont-size: ".concat(r.fontSize,"px;\npadding: ").concat(r.padding,"px;\nfont-weight: ").concat(r.fontWeight,";\nletter-spacing: ").concat(r.letterSpacing,"px;\n").concat(r.cssText,"\n");e.cssText=t};return n(),r.dispose(r._cssChangedEvent.disposableOn(n)),e}(),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyLabel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this._finalImageUri.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this._finalImageUri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this._cssChangedEvent.flush(),this.layoutDiv.flushCss()},Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyLabel","MyLabel",[new c.StringProperty("","",!1,!1,[this,"text"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"]),new c.NumberProperty("padding","padding",!1,!1,[this,"padding"]),new c.NumberProperty("","",!1,!1,[this,"fontWeight"]),new c.NumberProperty("","",!1,!1,[this,"letterSpacing"]),new c.BooleanProperty("tauriDragRegion","tauriDragRegion",!1,!1,[this,"tauriDragRegion"])])],!1)},r=t,t.type=r.register("MyLabel",r,{chsName:"MyLabel",tags:["ESObjects"],description:"MyLabel"}),t.defaults=i(i({},c.ESSceneObject.defaults),{defaultTextCssText:""}),t.defaultTextCssTextMd="",t}(c.ESSceneObject);t.MyLabel=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:f.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"color: black; background-color: white;",text:"",fontSize:16,fontWeight:700,padding:0,letterSpacing:0,tauriDragRegion:!1})}}(g=t.MyLabel||(t.MyLabel={})),t.MyLabel=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},99038:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(48269);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,c=t.call(this)||this;return c._div=r,c._viewer=n,c._location=function(){var e=document.createElement("div");c.div.appendChild(e),c.dispose((function(){return c.div.removeChild(e)})),e.style.cssText="\n            width: 100%;\n            cursor: pointer;\n            height: 100%;\n            background-color: rgba(30, 34, 34, 0.8);\n            border-radius: 50%;\n            ",e.title="";var t=document.createElement("div");e.appendChild(t),t.style.cssText="\n            width: 100%;\n            height: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            ";var r=document.createElement("div");t.appendChild(r);var n=i.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/myLocation/dingwei.png");r.style.cssText="\n            width: 60%;\n            height: 60%;\n            background: url(".concat(n,") no-repeat;\n            background-size: 100% 100%;\n            "),e.addEventListener("mouseover",(function(){e.style.background="rgba(38, 43, 43)"})),e.addEventListener("mouseout",(function(){e.style.background="rgba(30, 34, 34, 0.8)"}))}(),c._flyToEvent=(o=c.disposeVar(new a.Event),e.createAttachedObject&&c.dispose(e.createAttachedObject((function(e){if(e instanceof s.CzmViewer){var t=new a.Destroyable;return t.dispose(o.disposableOn((function(t){var r=t.position;e.flyTo(r)}))),t}}))),o),c.div.onclick=function(t){e.clickEvent.emit(t),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var r,n;alert("...");var o=t.coords,i=o.longitude,a=o.latitude;r=[i,a,1e4],n=[i,a,100],c.flyTo({position:r}),e.czmImageModel.position=n,e.showPoi=!0,e.czmImageModel.rotation=[0,90,0],e.czmImageModel.rotationMode="WithCamera"}),(function(e){switch(e.code){case e.PERMISSION_DENIED:alert("");break;case e.POSITION_UNAVAILABLE:alert("");break;case e.TIMEOUT:alert("")}})):alert("")},c}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"location",{get:function(){return this._location},enumerable:!1,configurable:!0}),r.prototype.flyTo=function(e){this._flyToEvent.emit(e)},r}(a.Destroyable);return function(e,r){return new t(e,r)}}},47873:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyLocation=void 0;var c=r(80468),l=r(51355),u=r(48269),f=r(59645),p=r(42626),d=r(6997),h=r(33157),g=r(21036),y=r(61384),m=r(30884),v=r(99038),b=function(e){function t(t){var r,n=e.call(this,t)||this;n._layoutDiv=(r=n.disposeVar(f.SceneObject.createFromClass(h.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,v.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n._clickEvent=n.disposeVar(new l.Event),n._clickFunc=n.disposeVar((0,l.react)(void 0)),n._clickFuncInit=void n.dispose(n.clickEvent.disposableOn((function(e){return n.clickFunc&&n.clickFunc(e)}))),n._czmImageModel=n.disposeVar(f.SceneObject.createFromClass(u.CzmImageModel)),n._czmImageModelInit=(n._czmImageModel.name="",n.dispose((0,l.track)([n._czmImageModel,"show"],[n,"showPoi"])),void n.dispose(n.components.disposableAdd(n._czmImageModel)));var o=function(){var e=(0,d.getFuncFromStr)(n.clickFuncStr);e&&(n.clickFunc=e)};return o(),n.dispose(n.clickFuncStrChanged.disposableOn(o)),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyLocation"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageModel",{get:function(){return this._czmImageModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,h.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],g.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],g.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],g.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],h.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],h.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",y.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyLocation","MyLocation",[new c.BooleanProperty("poi","poi.",!1,!1,[this,"showPoi"]),new p.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultClickFuncStrMd)])],!1)},r=t,t.type=r.register("MyLocation",r,{chsName:"MyLocation",tags:["ESObjects"],description:"MyLocation"}),t.defaultSize={width:"40px",height:"40px"},t.defaults=i({},c.ESSceneObject.defaults),t.defaultClickFuncStrMd=m.defaultClickFuncStrMd,t}(c.ESSceneObject);t.MyLocation=b,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"RightBottom",width:40,height:40,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"right: 15px; bottom: 15px;",showPoi:!1,clickFuncStr:""})}}(b=t.MyLocation||(t.MyLocation={})),t.MyLocation=b,(0,l.extendClassProps)(b.prototype,b.createDefaultProps)},23595:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyMarkdownWindow=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(8170),d=r(21036),h=r(61384),g=r(42178),y=function(e){function t(t){var r,n=e.call(this,t)||this;return n._myWindow=((r=n.disposeVar(u.SceneObject.createFromClass(g.MyWindow))).layoutDiv.setLayoutStyle({type:"RightCenter",extraCss:"width: 800px; height: 600px"}),n.dispose(r.closeEvent.disposableOn((function(){return n.show=!1}))),n.dispose(n.components.disposableAdd(r)),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),n.dispose((0,l.track)([r,"title"],[n,"title"])),r),n._markdownEditor=function(){var e=n.disposeVar(u.SceneObject.createFromClass(p.MarkdownReader));n.dispose(n.components.disposableAdd(e)),n.myWindow.subDivId=e.id,e.layoutType="FullScreen",e.width=0,e.height=0;var t=function(){e.content=n.content};return t(),n.dispose(n.contentChanged.disposableOn(t)),e}(),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyMarkdownWindow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myWindow",{get:function(){return this._myWindow},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){return this.myWindow.flushCss()},Object.defineProperty(t.prototype,"markdownEditor",{get:function(){return this._markdownEditor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.myWindow.container},set:function(e){this.myWindow.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this.myWindow.containerChanged},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this.myWindow.layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.myWindow.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.myWindow.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyMarkdownWindow","MyMarkdownWindow",[new c.LongStringProperty("","",!1,!1,[this,"content"]),new c.StringProperty("title","title",!1,!1,[this,"title"])])],!1)},r=t,t.type=r.register("MyMarkdownWindow",r,{chsName:"MyMarkdownWindow",tags:["ESObjects"],description:"MyMarkdownWindow"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyMarkdownWindow=y,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!1,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"Center",width:800,height:600,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",content:"",title:""})}}(y=t.MyMarkdownWindow||(t.MyMarkdownWindow={})),t.MyMarkdownWindow=y,(0,l.extendClassProps)(y.prototype,y.createDefaultProps)},22894:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyMessageBox=void 0;var c=r(80468),l=r(51355),u=r(59645),f=function(e){function t(t){var r,n=e.call(this,t)||this;return n._customDiv=n.disposeVar(u.SceneObject.createFromClass(c.CustomDiv)),n._customDivInit=(n.dispose(n.components.disposableAdd(n._customDiv)),n.dispose((0,l.track)([n._customDiv,"show"],[n,"show"])),void(n._customDiv.instanceClass=(r=n,function(e){function t(t,n,o){var i=e.call(this)||this;i._subContainer=t,i._div=function(){var e=document.createElement("div");return i._subContainer.appendChild(e),i.dispose((function(){return i._subContainer.removeChild(e)})),e}();var a=i.div;a.style.cssText="\n            user-select: none;\n            width: 400px;\n            height: auto;\n            position: fixed;\n            z-index: 9999;\n            top: 15%;\n            left: 50%;\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n            background-color: #292b2f;\n            border-radius: 15px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            color: #fff;\n            ";var s=document.createElement("div");a.appendChild(s),s.style.cssText="\n            width: 100%;\n            padding: 5px 0;\n            line-height: 20px;\n            text-align: center;\n            background-color: rgba(0, 0, 0, .2);\n            font-size: 14px;\n            font-weight :700;\n            ",s.innerText=r.title;var c,l=document.createElement("div");return a.appendChild(l),l.style.cssText="\n            box-sizing: border-box;\n            width: 100%;\n            padding: 12px;\n            font-size: 14px;\n            user-select: none;\n            cursor: all-scroll;\n            ",l.innerText=r.content,(c=function(){l.innerText=r.content,s.innerText=r.title})(),i.dispose(r.contentChanged.disposableOn(c)),i.dispose(r.titleChanged.disposableOn(c)),(c=function(){var e;a.style.display=null===(e=n.show)||void 0===e||e?"flex":"none"})(),i.dispose(n.showChanged.disposableOn(c)),i}return o(t,e),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),t}(l.Destroyable)))),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyMessageBox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"show"]),new c.StringProperty("","",!1,!1,[this,"title"]),new c.LongStringProperty("","",!1,!1,[this,"content"])])],!1)},r=t,t.type=r.register("MyMessageBox",r,{chsName:"MyMessageBox",tags:["MiscObjects"],description:"MyMessageBox"}),t.defaults=i(i({},c.ESSceneObject.defaults),{position:[116.39,39.9,0],positionEditing:!1,debugColorizeTiles:!1,debugWireframe:!1,debugShowBoundingVolume:!1,debugShowContentBoundingVolume:!1,debugShowViewerRequestVolume:!1,debugShowGeometricError:!1,debugShowRenderingStatistics:!1,debugShowMemoryUsage:!1,debugShowUrl:!1,skipLevelOfDetail:!1}),t}(c.ESSceneObject);t.MyMessageBox=f,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,title:"",content:""})}}(f=t.MyMessageBox||(t.MyMessageBox={})),t.MyMessageBox=f,(0,l.extendClassProps)(f.prototype,f.createDefaultProps)},24429:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyPanorama=void 0;var c=r(80468),l=r(51355),u=r(48269),f=r(59645),p=r(53075),d=r(4570),h=function(e){function t(t){var r,n,o=e.call(this,t)||this;o._positionCallback=o.disposeVar((0,l.react)(void 0)),o._positionCallbackInit=function(){var e=function(){var e=(0,l.getFuncFromStr)(o.positionCallbackStr);o.positionCallback=e};e(),o.dispose(o.positionCallbackStrChanged.disposableOn(e))}(),o._baiduStree=function(){var e=o.disposeVar(f.SceneObject.createFromJson({type:"CzmImagery",imageryProvider:{type:"BDImageryProvider",url:"https://mapsv0.bdimg.com/tile/?udt=20200825&qt=tile&styles=pl&x={x}&y={y}&z={z}"},zIndex:8,show:!1,name:""}));o.dispose(o.components.disposableAdd(e));var t=function(){e.show=o.show&&o.showBaiduStreet};return t(),o.dispose(o.showBaiduStreetChanged.disposableOn(t)),o.dispose(o.showChanged.disposableOn(t)),e}(),o._googleStreeJson=function(){var e=o.disposeVar(f.SceneObject.createFromJson({type:"CzmImagery",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://gac-geo.googlecnapps.cn/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m8!1e2!2ssvv!4m2!1scb_client!2sapiv3!4m2!1scc!2s*211m3*211e3*212b1*213e2*211m3*211e2*212b1*213e2!3m3!3sUS!12m1!1e68!4e0"},zIndex:8,name:""}));o.dispose(o.components.disposableAdd(e));var t=function(){e.show=o.show&&o.showGgStreet};return t(),o.dispose(o.showGgStreetChanged.disposableOn(t)),o.dispose(o.showChanged.disposableOn(t)),e}(),o._iframeDiv=(r=o.disposeVar(f.SceneObject.createFromClass(p.IFrameDiv)),o.dispose(o.components.disposableAdd(r)),r.json={name:"IFrameDiv_0cfb",show:!1,layoutType:"FullScreen",width:0,height:0,backgroundColor:[.3,.3,.3,.8],iframeSrc:""},o.dispose((0,l.track)([r,"show"],[o,"show"])),r),o._button=(n=o.disposeVar(f.SceneObject.createFromJson({type:"RectangleButton",name:"",layoutType:"LeftTop",width:0,height:24,backgroundColor:[.1,.1,.1,.8],borderWidth:0,cssText:"\ncursor: pointer;\nleft: 10px;\ntop: 10px;\nline-height: 24px;\npadding: 0 4px;\n",statusFuncStr:"function (status, sceneObject) {\n    const ratioMap = {\n        normal: 0.1,\n        hovered: 0.3,\n        pressed: 0.35,\n    };\n    const r = ratioMap[status];\n\n    sceneObject.backgroundColor = [r, r, r, 0.8];\n    sceneObject.textColor = [0.9+r, 0.9+r, 0.9+r, 1];\n}\n",text:"",fontSize:12,textLayoutType:"None"})),o.dispose(o.components.disposableAdd(n)),o.dispose(n.clickEvent.disposableOn((function(){o.showStreet=!1,o._iframeDiv.iframeSrc=""}))),n),o._showStreet=o.disposeVar((0,l.react)(!1));var i=function(){o.show&&o.showStreet?(o.iframeDiv.show=!0,o.button.show=!0):(o.iframeDiv.show=!1,o.button.show=!1)};i();var a=o.disposeVar((0,l.createNextAnimateFrameEvent)(o.showChanged,o.showStreetChanged));return o.dispose(a.disposableOn(i)),o.registerAttachedObject((function(e){if(e instanceof u.CzmViewer){var t=new l.Destroyable;return t.dispose(e.interaction.pointerClick.clickEvent.disposableOn((function(t){if(o.show){var r=e.pickEllipsoid([t.clientX,t.clientY]);o.positionCallback&&(o.positionCallback(o,r),o.showStreet=!0)}}))),t}})),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyPanorama"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionCallback",{get:function(){return this._positionCallback.value},set:function(e){this._positionCallback.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionCallbackChanged",{get:function(){return this._positionCallback.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baiduStree",{get:function(){return this._baiduStree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"googleStreeJson",{get:function(){return this._googleStreeJson},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeDiv",{get:function(){return this._iframeDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"button",{get:function(){return this._button},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.iframeDiv.container},set:function(e){this.iframeDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showStreet",{get:function(){return this._showStreet.value},set:function(e){this._showStreet.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showStreetChanged",{get:function(){return this._showStreet.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.iframeDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.iframeDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){var n=this;return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("showBaiduStreet","(showBaiduStreet)",!1,!1,[this,"showBaiduStreet"]),new c.BooleanProperty("showGgStreet","(showGgStreet)",!1,!1,[this,"showGgStreet"])]),new c.GroupProperty("MyPanorama","MyPanorama",[new c.EvalStringProperty("position","position(positionCallbackStr)",!1,!1,[this,"positionCallbackStr"]),new c.FunctionProperty("giiiis_gg","giiiis_gg(this.positionCallbackStr = MyPanorama.gggisGgPositionCallbackStr)",[],(function(){return n.positionCallbackStr=t.gggisGgPositionCallbackStr}),[]),new c.FunctionProperty("giiiis_bd","giiiis_bd(this.positionCallbackStr = MyPanorama.gggisBdPositionCallbackStr)",[],(function(){return n.positionCallbackStr=t.gggisBdPositionCallbackStr}),[]),new c.FunctionProperty("earthol","earthol(this.positionCallbackStr = MyPanorama.eartholBdPositionCallbackStr)",[],(function(){return n.positionCallbackStr=t.eartholBdPositionCallbackStr}),[])])],!1)},r=t,t.type=r.register("MyPanorama",r,{chsName:"MyPanorama",tags:["ESObjects"],description:"MyPanorama "}),t.bd09togcj02=d.bd09togcj02,t.gcj02tobd09=d.gcj02tobd09,t.gcj02towgs84=d.gcj02towgs84,t.wgs84togcj02=d.wgs84togcj02,t.gggisBdPositionCallbackStr="\nfunction (sceneObject, position) {\n    const MyPanorama = sceneObject.constructor;\n    const { bd09togcj02, gcj02tobd09, gcj02towgs84, wgs84togcj02 } = MyPanorama;\n\n    const wgs84pos = position;\n    const gcj02pos = wgs84togcj02(wgs84pos[0], wgs84pos[1]);\n    if (!gcj02pos) return;\n    const bd09pos = gcj02tobd09(gcj02pos[0], gcj02pos[1]);\n    if (!bd09pos) return;\n\n    const iframeSrc = `https://bdjiejing.gggis.com/jiejing.html?${bd09pos[0]},${bd09pos[1]}`;\n\n    sceneObject.iframeDiv.iframeSrc = iframeSrc;\n}\n",t.gggisGgPositionCallbackStr="\nfunction (sceneObject, position) {\n    const wgs84pos = position;\n    const iframeSrc = `https://street.giiiis.com/index.html?lat=${wgs84pos[1]}&lng=${wgs84pos[0]}&v=1.0`;\n    sceneObject.iframeDiv.iframeSrc = iframeSrc;\n}\n",t.eartholBdPositionCallbackStr="\nfunction (sceneObject, position) {\n    const MyPanorama = sceneObject.constructor;\n    const { bd09togcj02, gcj02tobd09, gcj02towgs84, wgs84togcj02 } = MyPanorama;\n\n    const wgs84pos = position;\n    const gcj02pos = wgs84togcj02(wgs84pos[0], wgs84pos[1]);\n    if (!gcj02pos) return;\n    const bd09pos = gcj02tobd09(gcj02pos[0], gcj02pos[1]);\n    if (!bd09pos) return;\n\n    const iframeSrc = `https://map.earthol.org/baidu/?x=${bd09pos[0]}&y=${bd09pos[1]}&h=0&p=0&z=1`;\n\n    sceneObject.iframeDiv.iframeSrc = iframeSrc;\n}\n",t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"}}),t}(c.ESSceneObject);t.MyPanorama=h,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,showBaiduStreet:!0,showGgStreet:!1,positionCallbackStr:e.gggisBdPositionCallbackStr})}}(h=t.MyPanorama||(t.MyPanorama={})),t.MyPanorama=h,(0,l.extendClassProps)(h.prototype,h.createDefaultProps)},77666:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(59645),s=r(43632),c=function(e){function t(t,r,n){var o=e.call(this)||this;return o._attachObj=t,o._sceneObject=r,o._playerSceneObject=n,o._player=function(){var e=!1,t=o._playerSceneObject,r=o._sceneObject,n=document.createElement("div");n.setAttribute("m3t-div","MyplayerBoxUI container"),o._attachObj.div.appendChild(n),o.dispose((function(){return o._attachObj.div.removeChild(n)})),n.style.width="100%",n.style.height="100%",n.style.borderRadius="5px",n.style.display="flex",n.style.justifyContent="space-around",n.style.alignItems="center";var c=document.createElement("div");n.appendChild(c),c.style.minHeight="20px",c.style.minWidth="20px",c.style.backgroundColor="#3f4046",c.style.transform="rotate(-90deg)",c.style.textAlign="center",c.style.color="#fff",c.style.cursor="pointer",c.onmouseenter=function(){c.style.backgroundColor="#1e1e1e"},c.onmouseleave=function(){c.style.backgroundColor="#3f4046"},c.onclick=function(){t.playing=!t.playing};var l=document.createElement("div");n.appendChild(l),l.style.minHeight="20px",l.style.minWidth="20px",l.style.backgroundColor="#3f4046",l.style.textAlign="center",l.style.color="#fff",l.style.cursor="pointer",l.innerText="",l.onmouseenter=function(){l.style.backgroundColor="#1e1e1e"},l.onmouseleave=function(){l.style.backgroundColor="#3f4046"},l.onclick=function(){t.playing=!1,t.ratio=0};var u=document.createElement("div");u.style.cursor="pointer";var f=document.createElement("div");n.appendChild(f),f.style.cursor="pointer",f.style.borderRadius="5px",f.style.background="#383838";var p=document.createElement("div");p.style.cursor="pointer",p.style.background="#7ee800",p.style.borderRadius="5px",p.style.position="relative",f.appendChild(p),f.addEventListener("pointerdown",(function(t){t.target&&t.target.setPointerCapture(t.pointerId),e=!0})),f.addEventListener("pointermove",(function(r){!e||r.offsetX>f.offsetWidth||r.offsetX<0||(t.ratio=r.offsetX/f.offsetWidth)})),f.addEventListener("pointerup",(function(r){r.target&&r.target.setPointerCapture(r.pointerId),t.ratio=r.offsetX/f.offsetWidth,e=!1})),n.appendChild(u),u.onclick=function(){t.loop=!t.loop};var d=a.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/player/loop.png"),h=a.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/player/loop_true.png");(g=function(){u.style.background="url(".concat(t.loop?h:d,") no-repeat 100% 100%"),u.style.backgroundSize="100% 100%",c.innerText=t.playing?"":"",p.style.width=100*t.ratio+"%"})();var g,y=o.disposeVar((0,i.createNextAnimateFrameEvent)(t.loopChanged,t.playingChanged,t.ratioChanged));o.dispose(y.disposableOn(g)),(g=function(){n.style.backgroundColor=(0,s.xe2ColorToCssColor)(r.backgroundColor);var e=r.buttonSize<=20?20:r.buttonSize;c.style.width="".concat(e,"px"),c.style.height="".concat(e,"px"),c.style.lineHeight="".concat(e,"px"),c.style.fontSize="".concat(.67*e,"px"),l.style.width="".concat(e,"px"),l.style.height="".concat(e,"px"),l.style.lineHeight="".concat(.85*e,"px"),l.style.fontSize="".concat(.85*e,"px"),u.style.width="".concat(.85*e,"px"),u.style.height="".concat(.85*e,"px"),f.style.width="calc(100% - ".concat(3*e,"px - 50px)"),f.style.height="".concat(r.barHeight,"px"),p.style.height="".concat(r.barHeight,"px")})();var m=o.disposeVar((0,i.createNextAnimateFrameEvent)(r.buttonSizeChanged,r.barHeightChanged,r.backgroundColorChanged));o.dispose(m.disposableOn(g))}(),o}return o(t,e),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._player=function(){var t=document.createElement("div");t.setAttribute("m3t-div","MyplayerBoxUI container"),o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.width="100%",t.style.height="100%",t.style.borderRadius="5px",t.style.display="flex",t.style.justifyContent="space-around",t.style.alignItems="center";var r=document.createElement("div");t.appendChild(r),r.style.minHeight="20px",r.style.minWidth="20px",r.style.backgroundColor="#3f4046",r.style.transform="rotate(-90deg)",r.style.textAlign="center",r.style.color="#fff",r.style.cursor="pointer",r.innerText="",r.onmouseenter=function(){r.style.backgroundColor="#1e1e1e"},r.onmouseleave=function(){r.style.backgroundColor="#3f4046"};var n=document.createElement("div");t.appendChild(n),n.style.minHeight="20px",n.style.minWidth="20px",n.style.backgroundColor="#3f4046",n.style.textAlign="center",n.style.color="#fff",n.style.cursor="pointer",n.innerText="",n.onmouseenter=function(){n.style.backgroundColor="#1e1e1e"},n.onmouseleave=function(){n.style.backgroundColor="#3f4046"};var c=document.createElement("div");c.style.cursor="pointer";var l=a.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/player/loop.png");c.style.background="url(".concat(l,") no-repeat"),c.style.backgroundSize="100% 100%";var u=document.createElement("div");t.appendChild(u),u.style.cursor="pointer",u.style.borderRadius="5px",u.style.background="#383838";var f=document.createElement("div");f.style.width="0",f.style.cursor="pointer",f.style.background="#7ee800",f.style.borderRadius="5px",f.style.position="relative",u.appendChild(f),t.appendChild(c);var p=function(){t.style.backgroundColor=(0,s.xe2ColorToCssColor)(e.backgroundColor);var o=e.buttonSize<=20?20:e.buttonSize;r.style.width="".concat(o,"px"),r.style.height="".concat(o,"px"),r.style.lineHeight="".concat(o,"px"),r.style.fontSize="".concat(.67*o,"px"),n.style.width="".concat(o,"px"),n.style.height="".concat(o,"px"),n.style.lineHeight="".concat(.85*o,"px"),n.style.fontSize="".concat(.85*o,"px"),c.style.width="".concat(.85*o,"px"),c.style.height="".concat(.85*o,"px"),u.style.width="calc(100% - ".concat(3*o,"px - 50px)"),u.style.height="".concat(e.barHeight,"px"),f.style.height="".concat(e.barHeight,"px")};p();var d=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.buttonSizeChanged,e.barHeightChanged,e.backgroundColorChanged));return o.dispose(d.disposableOn(p)),t}(),o._targetDivSceneObjectWithId=o.disposeVar(new a.SceneObjectWithId),o._targetDivSceneObjectWithIdInit=o.dispose((0,i.track)([o._targetDivSceneObjectWithId,"id"],[e,"targetID"])),o._targetDivIdResetting=o.disposeVar(new a.ObjResettingWithEvent(o.targetDivSceneObjectWithId.sceneObjectChanged,(function(){var t=o.targetDivSceneObjectWithId.sceneObject;if(t&&"Player"===t.typeName)return o.player.style.display="none",new c(o,e,t);o.player.style.display="flex"}))),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"targetDivSceneObjectWithId",{get:function(){return this._targetDivSceneObjectWithId},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},57973:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyPlayerUI=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(77666),g=function(e){function t(t){var r,n=e.call(this,t)||this;return n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,h.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n.backgroundColor=[.16,.16,.18,1],n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyPlayerUI"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyPlayerUI","MyPlayerUI",[new c.StringProperty("ID","ID",!1,!1,[this,"targetID"]),new c.NumberProperty("","",!1,!1,[this,"buttonSize"]),new c.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new c.NumberProperty("","",!1,!1,[this,"barHeight"])])],!1)},r=t,t.type=r.register("MyPlayerUI",r,{chsName:"MyPlayerUI",tags:["ESObjects"],description:"MyPlayerUI"}),t.defaultSize={height:"50px",width:"600px"},t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"LeftTop"},t.defaultSize)}),t}(c.ESSceneObject);t.MyPlayerUI=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"CenterBottom",width:500,height:30,cssText:"bottom: 10px;",targetID:"",buttonSize:20,barHeight:6,backgroundColor:(0,l.reactArray)([.16,.16,.18,1])})}}(g=t.MyPlayerUI||(t.MyPlayerUI={})),t.MyPlayerUI=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},53270:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyPropsPanel=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=[["id","6949fe393e9a4d4db7fe71339c61513800022318"],["name","Concrete Deck - Tapered Insulation"],["sid","140056"],["family",""],["familyType",":Concrete Deck - Tapered Insulation"],["category",""]],g=function(e){function t(t){var r,n=e.call(this,t)||this;return n._propsFunc=n.disposeVar((0,l.react)(void 0)),n._filterPropsFuncStrInit=((r=function(){if(n.propsFuncStr){var e=(0,c.getFuncFromStr)(n.propsFuncStr);e&&(n.propsFunc=e)}else n.propsFunc=void 0})(),void n.dispose(n.propsFuncStrChanged.disposableOn(r))),n._setInnerTableFunc=n.disposeVar((0,l.react)(void 0)),n._setInnerTableFuncInit=function(){var e=function(){if(n.setInnerTableFuncStr){var e=(0,c.getFuncFromStr)(n.setInnerTableFuncStr);e&&(n.setInnerTableFunc=e)}else n.setInnerTableFunc=void 0};e(),n.dispose(n.setInnerTableFuncStrChanged.disposableOn(e))}(),n._div=function(){var e=n.disposeVar(new f.LayoutDiv);n.dispose(n.components.disposableAdd(e));var t=(0,l.react)(void 0),r=n;e.createAttachedObjFunc=function(e,n){var i=function(n){function i(){var o=n.call(this)||this,i=document.createElement("div");return t.value=function(e){var t=r.setInnerTableFunc;t&&t(i,e)},e.appendChild(i),o.dispose((function(){return e.removeChild(i)})),o}return o(i,n),i}(l.Destroyable);return new i};var i=function(){var e=n,r=e.props,o=e.filterProps,i=r.filter((function(e){var t=a(e,2),r=t[0];return t[1],!o||o.includes(r)}));n.propsFunc&&(i=n.propsFunc(i)),t.value?t.value(i):console.warn("setInnerTable is undefined")};i();var s=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.propsChanged,n.filterPropsChanged,n.propsFuncChanged,t.changed));return n.dispose(s.disposableOn(i)),n.dispose((0,l.track)([e,"show"],[n,"show"])),n.dispose((0,l.track)([e,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([e,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([e,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([e,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([e,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([e,"zIndex"],[n,"zIndex"])),n.dispose((0,l.track)([e,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([e,"width"],[n,"width"])),n.dispose((0,l.track)([e,"height"],[n,"height"])),n.dispose((0,l.track)([e,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([e,"color"],[n,"color"])),n.dispose((0,l.track)([e,"cssText"],[n,"cssText"])),n.dispose((0,l.track)([e,"allowPicking"],[n,"allowPicking"])),e}(),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyPropsPanel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsFunc",{get:function(){return this._propsFunc.value},set:function(e){this._propsFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsFuncChanged",{get:function(){return this._propsFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setInnerTableFunc",{get:function(){return this._setInnerTableFunc.value},set:function(e){this._setInnerTableFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setInnerTableFuncChanged",{get:function(){return this._setInnerTableFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.div.container},set:function(e){this._div.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this.div.containerChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.div.finalCssText},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("","",[new c.JsonProperty("props","props",!1,!1,[this,"props"]),new c.StringsProperty("filterProps","filterProps",!0,!1,[this,"filterProps"]),new c.EvalStringProperty("propsFuncStr","propsFuncStr",!1,!1,[this,"propsFuncStr"]),new c.EvalStringProperty("setInnerTableFuncStr","setInnerTableFuncStr",!1,!1,[this,"setInnerTableFuncStr"])])],!1)},r=t,t.type=r.register("MyPropsPanel",r,{chsName:"MyPropsPanel",tags:["ESObjects"],description:"MyPropsPanel"}),t.defaults=i({},c.ESSceneObject.defaults),t.defaultCssText="font-size: 12px;\npadding: 2px;\nmax-width: 400px;\nright: 10px;\ntop: 10px;\nuser-select: text;\n",t.defaultProps=h,t}(c.ESSceneObject);t.MyPropsPanel=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,props:(0,l.reactDeepArray)(e.defaultProps,(function(e,t){return e[0]===t[0]&&e[1]===t[1]}),(function(e){return s([],a(e),!1)})),filterProps:(0,l.reactArrayWithUndefined)(void 0),propsFuncStr:"",setInnerTableFuncStr:'\nfunction (container, props) {\n    const keyDivs = props.map((p, n) => `<div title="${p[0]}" style="padding: 0 6px; height: 20px; overflow: hidden; text-overflow: ellipsis; background-color: ${n%2==0 ? \'#222\' :"#333"};">${p[0]}</div>`).join(\'\');\n    const valueDivs = props.map((p, n) => `<div title="${p[1]}" style="padding: 0 6px; height: 20px; overflow: hidden; text-overflow: ellipsis; background-color: ${n%2==0 ? \'#222\' :"#333"};">${p[1]}</div>`).join(\'\');\n    container.innerHTML = `\n<div style="display: flex; line-height: 20px; max-height: 300px; overflow: auto;">\n    <div style="max-width: 100px; white-space: nowrap;">${keyDivs}</div>\n    <div style="max-width: 300px; white-space: nowrap;">${valueDivs}</div>\n<div>\n`;\n}\n',containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"RightTop",width:0,height:0,backgroundColor:(0,l.reactArrayWithNull)([0,0,0,.5]),color:(0,l.reactArrayWithNull)([1,1,1,1]),cssText:e.defaultCssText,allowPicking:!1})}}(g=t.MyPropsPanel||(t.MyPropsPanel={})),t.MyPropsPanel=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},86850:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(53270),t)},11016:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MySceneTreeUi=void 0;var u=r(80468),f=r(51355),p=r(59645),d=r(37029),h=r(33157),g=r(21036),y=r(61384),m=function(e){function t(t){var r,n,o,i=e.call(this,t)||this;return i._createSceneObjectFunc=function(e){var t=p.SceneObject.createFromJson(e);if(t){if(!(t instanceof u.ESSceneObject))throw new Error("!sceneObject instanceof ESSceneObject");return t}},i._destroySceneObjectFunc=function(e){return e.destroy(),!0},i._sceneTree=(r=i.disposeVar(new d.FSceneTree(i._createSceneObjectFunc,i._destroySceneObjectFunc)),i.dispose(r.lastSelectedItemChanged.disposableOn((function(){}))),r.deleteConfirmFunc=function(e){return a(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,f.ui.confirm("".concat(e.length,"(").concat(e[0].name,")"))];case 1:return[2,t.sent()]}}))}))},r),i._layoutDiv=((n=i.disposeVar(p.SceneObject.createFromClass(h.LayoutDiv))).setDivAttribute("m3t-my-scene-tree-ui",i.id),i.dispose(i.components.disposableAdd(n)),i.dispose((0,f.track)([n,"show"],[i,"show"])),i.dispose((0,f.track)([n,"containerId"],[i,"containerId"])),i.dispose((0,f.track)([n,"shadowDom"],[i,"shadowDom"])),i.dispose((0,f.track)([n,"cssAllInitial"],[i,"cssAllInitial"])),i.dispose((0,f.track)([n,"interaction"],[i,"interaction"])),i.dispose((0,f.track)([n,"visibility"],[i,"visibility"])),i.dispose((0,f.track)([n,"layoutType"],[i,"layoutType"])),i.dispose((0,f.track)([n,"width"],[i,"width"])),i.dispose((0,f.track)([n,"height"],[i,"height"])),i.dispose((0,f.track)([n,"backgroundColor"],[i,"backgroundColor"])),i.dispose((0,f.track)([n,"color"],[i,"color"])),i.dispose((0,f.track)([n,"cssText"],[i,"cssText"])),n),i._uiSceneTree=((o=i.disposeVar(new d.UiFSceneTree(i.sceneTree))).container=i.div,o),i}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MySceneTreeUi"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneTree",{get:function(){return this._sceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this.layoutDiv.div},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this.layoutDiv.flushCss()},Object.defineProperty(t.prototype,"uiSceneTree",{get:function(){return this._uiSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return l(l([],c(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(show)",!1,!1,[this,"show"]),new u.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,h.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new u.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],g.MyCustomDiv.defaults.containerId)]),new u.GroupProperty("","",[new u.BooleanProperty("","",!1,!1,[this,"visibility"]),new u.BooleanProperty("","",!1,!1,[this,"interaction"]),new u.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new u.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new u.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],g.MyCustomDiv.defaults.zIndex),new u.EnumProperty("","",!1,!1,[this,"layoutType"],g.myCustomDivLayoutTypeEnums),new u.NumberProperty("","",!1,!1,[this,"width"]),new u.NumberProperty("","",!1,!1,[this,"height"]),new u.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],h.LayoutDiv.defaults.backgroundColor),new u.ColorWithNullProperty("","",!0,!1,[this,"color"],h.LayoutDiv.defaults.color),new u.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",y.defaultCssTextMd),new u.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new u.GroupProperty("MySceneTreeUi","MySceneTreeUi",[])],!1)},r=t,t.type=r.register("MySceneTreeUi",r,{chsName:"MySceneTreeUi",tags:["ESObjects"],description:"MySceneTreeUi"}),t.defaults=i({},u.ESSceneObject.defaults),t}(u.ESSceneObject);t.MySceneTreeUi=m,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:h.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:300,height:400,backgroundColor:(0,f.reactArrayWithNull)(null),color:(0,f.reactArrayWithNull)(null),cssText:""})}}(m=t.MySceneTreeUi||(t.MySceneTreeUi={})),t.MySceneTreeUi=m,(0,f.extendClassProps)(m.prototype,m.createDefaultProps)},31198:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyStatusBar=void 0;var c=r(80468),l=r(51355),u=r(59645),f=function(e){function t(t){var r=e.call(this,t)||this;return r._pickedEvent=r.disposeVar(new l.Event),r._flyToEvent=r.disposeVar(new l.Event),r._customDiv=function(){var e=r.disposeVar(u.SceneObject.createFromClass(c.CustomDiv)),t=r;e.instanceClass=function(e){function r(r,n,o){var i=e.call(this)||this;return i._subContainer=r,i._customDiv=n,i._viewer=o,i._div=function(){var e,r=document.createElement("div");return i._subContainer.appendChild(r),i.dispose((function(){return i._subContainer.removeChild(r)})),(e=function(){r.innerText=t.text})(),i.dispose(t.textChanged.disposableOn(e)),(e=function(){r.style.color=t.color})(),i.dispose(t.colorChanged.disposableOn(e)),(e=function(){r.style.fontSize=t.fontSize})(),i.dispose(t.fontSizeChanged.disposableOn(e)),r.title="",r.ondblclick=function(){navigator.clipboard.writeText(r.innerText)},r}(),i._subContainer.style.cssText="                        align-content: center;\n                        height: 100%;\n                        overflow: hidden;\n                    ",i}return o(r,e),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),r}(l.Destroyable);var n=function(){e.containerId=r.containerId};return n(),r.dispose(r.containerIdChanged.disposableOn(n)),e}(),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyStatusBar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._customDiv.container},set:function(e){this._customDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._customDiv.containerChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringProperty("","",!1,!1,[this,"text"]),new c.StringProperty("","",!1,!1,[this,"color"]),new c.StringProperty("containerId","containerId",!1,!1,[this,"containerId"])])],!1)},r=t,t.type=r.register("MyStatusBar",r,{chsName:"MyStatusBar",tags:["ESObjects","_ES_Impl_Cesium"],description:"MyStatusBar"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyStatusBar=f,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,text:"",color:"rgba(255, 255, 255, 1)",fontSize:"12px",containerId:""})}}(f=t.MyStatusBar||(t.MyStatusBar={})),t.MyStatusBar=f,(0,l.extendClassProps)(f.prototype,f.createDefaultProps)},89149:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyTreeContentUi=void 0;var u=r(80468),f=r(51355),p=r(59645),d=r(65987),h=r(33157),g=r(66345),y=r(21036),m=r(61384),v=r(7632),b=r(42178),w=r(2977),_=r(53075),P=function(e){function t(t){var r,n,o,i,c,l=e.call(this,t)||this;return l._resultEvent=l.disposeVar(new f.Event),l._=(r=l.disposeVar(p.SceneObject.createFromJson({type:"MyCursorTooltip",name:"MyCursorTooltip",menuStrings:[]})),l.dispose(l.components.disposableAdd(r)),r.tooltip=" ",r.tooltipImageUri="",r.enabled=!0,r.activated=!1,r),l._=function(){var e=l.disposeVar(p.SceneObject.createFromClass(v.MyTreeUi));l.dispose(l.components.disposableAdd(e)),e.layoutType="FullScreen",e.width=260,e.height=0,e.cssText="height: 100%;\n",l.dispose((0,f.track)([e,"items"],[l,"items"]));var t=function(){var t,r,n;e.hoveredItem?(l..tooltipImageUri=null!==(n=null===(r=null===(t=e.hoveredItem)||void 0===t?void 0:t.extras)||void 0===r?void 0:r.previewImageUri)&&void 0!==n?n:"",l..activated=!0):l..activated=!1};return t(),l.dispose(e.hoveredItemChanged.disposableOn(t)),e}(),l._JsonEditor=function(){var e=l.disposeVar(p.SceneObject.createFromClass(d.JsonEditor));l.dispose(l.components.disposableAdd(e)),e.layoutType="FullScreen",e.width=0,e.height=0,e.cssText="height: 100%;";var t=l.disposeVar((0,p.createProcessingFromAsyncFunc)((function(t){return a(l,void 0,void 0,(function(){var r,n,o,i,a;return s(this,(function(s){switch(s.label){case 0:r={},s.label=1;case 1:return(n=this..lastSelectedItem)&&(o=n.extras)&&(i=o.content)?"m3tJson"!==(a=i).type?[3,2]:(r=a.m3tJson,[3,11]):[3,12];case 2:return"m3tJsonUri"!==a.type?[3,4]:[4,t.promise((0,f.fetchJson)(a.m3tJsonUri))];case 3:return r=s.sent(),[3,11];case 4:return"m3toJson"!==a.type?[3,5]:(r=a.m3toJson,[3,11]);case 5:return"m3toJsonUri"!==a.type?[3,7]:[4,t.promise((0,f.fetchJson)(a.m3toJsonUri))];case 6:return r=s.sent(),[3,11];case 7:return"sceneObjJson"!==a.type?[3,8]:(r=a.sceneObjJson,[3,11]);case 8:return"sceneObjJsonUri"!==a.type?[3,10]:[4,t.promise((0,f.fetchJson)(a.sceneObjJsonUri))];case 9:return r=s.sent(),[3,11];case 10:r={},s.label=11;case 11:s.label=12;case 12:return e.content=r,[2]}}))}))}))),r=function(){t.restart()};return r(),l.dispose(l..lastSelectedItemChanged.disposableOn(r)),l.dispose((0,f.track)([e,"show"],[l,"showCode"])),e}(),l._iframeDiv=function(){var e=l.disposeVar(p.SceneObject.createFromClass(_.IFrameDiv));l.dispose(l.components.disposableAdd(e)),e.layoutType="FullScreen",e.width=0,e.height=0,e.cssText="height: 100%;";var t=l.disposeVar((0,p.createProcessingFromAsyncFunc)((function(t){return a(l,void 0,void 0,(function(){var t,r,n,o,i;return s(this,(function(a){t="";do{if(!(r=this..lastSelectedItem))break;if(!(n=r.extras))break;if(!(o=n.content))break;"m3tJson"===(i=o).type||("m3tJsonUri"===i.type?t="http://114.242.26.126:7000/examples/app/versions/last/?s=".concat(encodeURIComponent(i.m3tJsonUri)):"m3toJson"===i.type||"m3toJsonUri"===i.type||"sceneObjJson"===i.type||"sceneObjJsonUri"===i.type||(t=""))}while(0);return e.iframeSrc=t,[2]}))}))}))),r=function(){t.restart()};return r(),l.dispose(l..lastSelectedItemChanged.disposableOn(r)),l.dispose((0,f.track)([e,"show"],[l,"showView"])),e}(),l._=(n=l.disposeVar(p.SceneObject.createFromJson({type:"CircleButton",name:"/",normalImageUri:'<svg t="1715824848417" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2574"><path d="M815.104 69.632q27.648 25.6 44.032 42.496t25.088 28.672 10.752 19.968 2.048 14.336l0 16.384-151.552 0q-10.24 0-17.92-7.68t-12.8-17.92-7.68-20.992-2.56-16.896l0-126.976 3.072 0q8.192 0 16.896 2.56t19.968 9.728 28.16 20.48 42.496 35.84zM640 129.024q0 20.48 6.144 42.496t19.456 40.96 33.792 31.232 48.128 12.288l149.504 0 0 577.536q0 29.696-11.776 53.248t-31.232 39.936-43.008 25.6-46.08 9.216l-503.808 0q-19.456 0-42.496-11.264t-43.008-29.696-33.28-41.984-13.312-49.152l0-696.32q0-21.504 9.728-44.544t26.624-42.496 38.4-32.256 45.056-12.8l391.168 0 0 128zM704.512 768q26.624 0 45.056-18.944t18.432-45.568-18.432-45.056-45.056-18.432l-384 0q-26.624 0-45.056 18.432t-18.432 45.056 18.432 45.568 45.056 18.944l384 0zM768 448.512q0-26.624-18.432-45.568t-45.056-18.944l-384 0q-26.624 0-45.056 18.944t-18.432 45.568 18.432 45.056 45.056 18.432l384 0q26.624 0 45.056-18.432t18.432-45.056z" p-id="2575" fill="#ffffff"></path></svg>',hoveredImageSize:.65,layoutType:"RightTop",backgroundColor:[0,0,0,0],borderWidth:0})),l.dispose(l.components.disposableAdd(n)),n.clickFunc=function(){l.showCode=!l.showCode,l.showView=!l.showView},n),l._=(o=l.disposeVar(p.SceneObject.createFromClass(g.MyContainer)),l.dispose(l.components.disposableAdd(o)),o.layoutType="FullScreen",o.width=0,o.height=0,o.cssText="height: 100%;",o.subIds=[l.iframeDiv.id,l.JsonEditor.id,l..id,l..id],o),l._flex=function(){var e=l.disposeVar(p.SceneObject.createFromClass(g.MyContainer));return l.dispose(l.components.disposableAdd(e)),e.layoutType="FullScreen",e.cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",e.subIds=[l..id,l..id],e}(),l._=(i=l.disposeVar(p.SceneObject.createFromClass(w.RectangleButton)),l.dispose(l.components.disposableAdd(i)),i.width=60,i.height=24,i.borderWidth=0,i.text="",i.fontSize=12,i.cssText="cursor: pointer;\nline-height: 24px;\npadding: 0 4px;\n",i.clickFunc=function(){return a(l,void 0,void 0,(function(){var e,t,r,n;return s(this,(function(o){switch(o.label){case 0:return(e=this..lastSelectedItem)&&(t=e.extras)&&(r=t.content)?[4,this.JsonEditor.getContent()]:[3,3];case 1:n=o.sent(),this._resultEvent.emit({type:"ok",content:r,editorJsonContent:n}),o.label=2;case 2:o.label=3;case 3:return this.show=!1,[2]}}))}))},i),l._=function(){var e=l.disposeVar(p.SceneObject.createFromClass(w.RectangleButton));return l.dispose(l.components.disposableAdd(e)),e.width=60,e.height=24,e.borderWidth=0,e.text="",e.fontSize=12,e.cssText="cursor: pointer;\nline-height: 24px;\npadding: 0 4px;\n",e.clickFunc=function(){return a(l,void 0,void 0,(function(){return s(this,(function(e){return this.show=!1,this._resultEvent.emit({type:"cancel"}),[2]}))}))},e}(),l._flex=function(){var e=l.disposeVar(p.SceneObject.createFromClass(g.MyContainer));return l.dispose(l.components.disposableAdd(e)),e.height=30,e.cssText="display: flex;\nflex-direction: row;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\ngap: 20px;\n",e.subIds=[l..id,l..id],e}(),l._flex=function(){var e=l.disposeVar(p.SceneObject.createFromClass(g.MyContainer));return l.dispose(l.components.disposableAdd(e)),e.layoutType="FullScreen",e.cssText="display: flex;\nflex-direction: column;\nflex-wrap: nowrap;\njustify-content: flex-start;\nalign-items: center;\n",e.subIds=[l.flex.id,l.flex.id],e}(),l._=(c=l.disposeVar(p.SceneObject.createFromClass(b.MyWindow)),l.dispose(l.components.disposableAdd(c)),l.dispose((0,f.track)([c,"show"],[l,"show"])),l.dispose((0,f.track)([c,"containerId"],[l,"containerId"])),l.dispose((0,f.track)([c,"shadowDom"],[l,"shadowDom"])),l.dispose((0,f.track)([c,"cssAllInitial"],[l,"cssAllInitial"])),l.dispose((0,f.track)([c,"interaction"],[l,"interaction"])),l.dispose((0,f.track)([c,"visibility"],[l,"visibility"])),l.dispose((0,f.track)([c,"layoutType"],[l,"layoutType"])),l.dispose((0,f.track)([c,"width"],[l,"width"])),l.dispose((0,f.track)([c,"height"],[l,"height"])),l.dispose((0,f.track)([c,"backgroundColor"],[l,"backgroundColor"])),l.dispose((0,f.track)([c,"color"],[l,"color"])),l.dispose((0,f.track)([c,"cssText"],[l,"cssText"])),l.dispose((0,f.track)([c,"title"],[l,"title"])),c.closeFunc=function(){l.show=!1,l._resultEvent.emit({type:"cancel"})},c.subDivId=l.flex.id,c),l}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyTreeContentUi"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultEvent",{get:function(){return this._resultEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"JsonEditor",{get:function(){return this._JsonEditor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeDiv",{get:function(){return this._iframeDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flex",{get:function(){return this._flex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flex",{get:function(){return this._flex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flex",{get:function(){return this._flex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"",{get:function(){return this._},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this..layoutDiv.div},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this..layoutDiv.flushCss()},Object.defineProperty(t.prototype,"container",{get:function(){return this..container},set:function(e){this..container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this..finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this..finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.setSampleItems=function(){this.items=v.MyTreeUi.sampleItems},t.prototype.getProperties=function(t){var r=this;return l(l([],c(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(show)",!1,!1,[this,"show"]),new u.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,h.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new u.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],y.MyCustomDiv.defaults.containerId)]),new u.GroupProperty("","",[new u.BooleanProperty("","",!1,!1,[this,"visibility"]),new u.BooleanProperty("","",!1,!1,[this,"interaction"]),new u.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new u.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new u.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],y.MyCustomDiv.defaults.zIndex),new u.EnumProperty("","",!1,!1,[this,"layoutType"],y.myCustomDivLayoutTypeEnums),new u.NumberProperty("","",!1,!1,[this,"width"]),new u.NumberProperty("","",!1,!1,[this,"height"]),new u.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],h.LayoutDiv.defaults.backgroundColor),new u.ColorWithNullProperty("","",!0,!1,[this,"color"],h.LayoutDiv.defaults.color),new u.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",m.defaultCssTextMd),new u.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new u.GroupProperty("MyTreeContentUi","MyTreeContentUi",[new u.JsonProperty("items","items",!1,!1,[this,"items"]),new u.FunctionProperty("1","1",[],(function(){return r.setSampleItems()}),[])])],!1)},r=t,t.type=r.register("MyTreeContentUi",r,{chsName:"MyTreeContentUi",tags:["ESObjects"],description:"MyTreeContentUi"}),t.defaults=i({},u.ESSceneObject.defaults),t}(u.ESSceneObject);t.MyTreeContentUi=P,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:!1,createAttachedObjFuncStr:h.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:800,height:600,backgroundColor:(0,f.reactArrayWithNull)(null),color:(0,f.reactArrayWithNull)(null),cssText:"",title:"",items:(0,f.reactJsonCollection)([]),showCode:!0,showView:!1})}}(P=t.MyTreeContentUi||(t.MyTreeContentUi={})),t.MyTreeContentUi=P,(0,f.extendClassProps)(P.prototype,P.createDefaultProps)},7632:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyTreeUi=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(11016),g=r(38014);function y(e){var t={name:e.name,collapsed:e.collapsed,extras:{previewImageUri:e.previewImageUri,content:e.content}};if(e.children){var r=e.children.map((function(e){return y(e)}));t.children=r}return t}var m=function(e){function t(t){var r=e.call(this,t)||this;return r._dbclickEvent=r.disposeVar(new l.Event),r._lastSelectedItem=r.disposeVar((0,l.react)(void 0)),r._hoveredItem=r.disposeVar((0,l.react)(void 0)),r._mySceneTreeUi=function(){var e=r.disposeVar(u.SceneObject.createFromClass(h.MySceneTreeUi));e.layoutDiv.setDivAttribute("m3t-my-tree-ui",r.id),r.dispose(r.components.disposableAdd(e)),e.uiSceneTree.showEye=!1,r.dispose((0,l.track)([e,"show"],[r,"show"])),r.dispose((0,l.track)([e,"containerId"],[r,"containerId"])),r.dispose((0,l.track)([e,"shadowDom"],[r,"shadowDom"])),r.dispose((0,l.track)([e,"cssAllInitial"],[r,"cssAllInitial"])),r.dispose((0,l.track)([e,"interaction"],[r,"interaction"])),r.dispose((0,l.track)([e,"visibility"],[r,"visibility"])),r.dispose((0,l.track)([e,"layoutType"],[r,"layoutType"])),r.dispose((0,l.track)([e,"width"],[r,"width"])),r.dispose((0,l.track)([e,"height"],[r,"height"])),r.dispose((0,l.track)([e,"backgroundColor"],[r,"backgroundColor"])),r.dispose((0,l.track)([e,"color"],[r,"color"])),r.dispose((0,l.track)([e,"cssText"],[r,"cssText"])),(t=function(){e.sceneTree.root.json={name:"root",children:r.items.map((function(e){return y(e)}))}})(),r.dispose(r.itemsChanged.disposableOn(t));var t=function(e,t){if(e){var n=e.sceneTreeItem;r._dbclickEvent.emit(n,t)}};return r.dispose(e.uiSceneTree.dbClickEvent.disposableOn(t)),r.dispose((0,l.track)([r,"lastSelectedItem"],[e.uiSceneTree.sceneTree,"lastSelectedItem"])),r.dispose((0,l.track)([r,"hoveredItem"],[e.uiSceneTree.sceneTree,"hoveredItem"])),e}(),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyTreeUi"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastSelectedItem",{get:function(){return this._lastSelectedItem.value},set:function(e){this._lastSelectedItem.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastSelectedItemChanged",{get:function(){return this._lastSelectedItem.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredItem",{get:function(){return this._hoveredItem.value},set:function(e){this._hoveredItem.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredItemChanged",{get:function(){return this._hoveredItem.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mySceneTreeUi",{get:function(){return this._mySceneTreeUi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._mySceneTreeUi.div},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){this.mySceneTreeUi.flushCss()},Object.defineProperty(t.prototype,"container",{get:function(){return this.mySceneTreeUi.container},set:function(e){this.mySceneTreeUi.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.mySceneTreeUi.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.mySceneTreeUi.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.setSampleItems=function(){this.items=t.sampleItems},t.prototype.getProperties=function(t){var r=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyTreeUi","MyTreeUi",[new c.JsonProperty("items","items",!1,!1,[this,"items"]),new c.FunctionProperty("1","1",[],(function(){return r.setSampleItems()}),[])])],!1)},r=t,t.type=r.register("MyTreeUi",r,{chsName:"MyTreeUi",tags:["ESObjects"],description:"MyTreeUi"}),t.sampleItems=g.sampleItems,t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyTreeUi=m,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:f.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:300,height:400,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",items:(0,l.reactJsonCollection)([])})}}(m=t.MyTreeUi||(t.MyTreeUi={})),t.MyTreeUi=m,(0,l.extendClassProps)(m.prototype,m.createDefaultProps)},38014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleItems=void 0,t.sampleItems=[{name:"",collapsed:!0,children:[{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"TileMapServiceImageryProvider",url:"${czm-path}/Assets/Textures/NaturalEarthII"}}}},{name:"",content:{type:"sceneObjJson",sceneObjJson:{type:"CzmImagery",name:"",imageryProvider:{type:"UrlTemplateImageryProvider",url:"https://{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}}}}]}]},55199:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(59645),c=r(17012);t.getCreateAttachedObjFunc=function(e){var t=function(e){function t(t,r){var n=e.call(this)||this;if(!("container"in t))throw new Error("!sceneObject.container");return t.container=r.content,n.dispose((function(){if(!("container"in t))throw new Error("!sceneObject.container");t.container=void 0})),n}return o(t,e),t}(a.Destroyable),r=function(r){function n(n,o){var l,u,f,p,d,h=r.call(this)||this;return h._div=n,h._viewer=o,h._container=function(){var t=h.div;t.setAttribute("m3t-MyWindow","".concat(e.id));var r=function(t){"Escape"===t.key&&e.closeEvent.emit()};return document.addEventListener("keydown",r),h.dispose((function(){return document.removeEventListener("keydown",r)})),t}(),h._header=((l=document.createElement("div")).setAttribute("m3t-div","MyWindow container header"),h.container.appendChild(l),h.dispose((function(){return h.container.removeChild(l)})),l.style.width="100%",l.style.height="26px",l.style.boxSizing="border-box",l.style.borderTopLeftRadius="6px",l.style.borderTopRightRadius="6px",l.style.padding="2px 20px",l.style.backgroundColor="#222226",l.style.position="relative",l),h._title=(u=h.disposeVar(i.SceneObject.createFromClass(c.MyLabel)),h.dispose(e.components.disposableAdd(u)),u.container=h.header,u.fontSize=12,u.width=0,u.height=0,u.backgroundColor=[0,0,0,0],u.layoutType="LeftCenter",u.cssText="left: 10px;",u.height=0,u.color=[1,1,1,1],u.text="",h.dispose((0,a.track)([u,"text"],[e,"title"])),u),h._closeButton=(f=h.disposeVar(i.SceneObject.createFromJson({type:"CircleButton",name:"",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" id="Isolation_Mode" data-name="Isolation Mode" viewBox="0 0 24 24"><polygon points="19.061 7.061 16.939 4.939 12 9.879 7.061 4.939 4.939 7.061 9.879 12 4.939 16.939 7.061 19.061 12 14.121 16.939 19.061 19.061 16.939 14.121 12 19.061 7.061" fill="white" /></svg>',normalImageSize:.8,hoveredImageSize:.9,pressedImageSize:.95,highlightedImageSize:.9,backgroundColor:[0,0,0,0],radius:18,layoutCssText:"\nposition: absolute;\nright: 8px;\nleft: unset;\ntop: 50%;\nbottom: unset;\ntransform: translateY(-50%);\n\n            zIndex: 100;\n            pointerEvents: all;\n        \n"})),h.dispose(e.components.disposableAdd(f)),f.layoutType="RightTop",f.cssText="right: 4px; top: 4px;",f.borderWidth=0,f.container=h.header,h.dispose((0,a.track)([f,"show"],[e,"showCloseButton"])),h.dispose(f.clickEvent.disposableOn((function(t){e.closeEvent.emit()}))),f),h._content=((p=document.createElement("div")).setAttribute("m3t-div","MyWindow container content"),h.container.appendChild(p),h.dispose((function(){return h.container.removeChild(p)})),p.style.width="100%",p.style.height="calc(100% - 50px)",p.style.backgroundColor="#2a2b2f",p.style.borderBottomLeftRadius="6px",p.style.borderBottomRightRadius="6px",p),h._subDivWithId=(d=h.disposeVar(new s.SceneObjectWithId),h.dispose((0,a.track)([d,"id"],[e,"subDivId"])),d),h._subDivResetting=h.disposeVar(new s.ObjResettingWithEvent(h.subDivWithId.sceneObjectChanged,(function(){var e=h.subDivWithId.sceneObject;if(e&&"container"in e)return new t(e,h)}))),h}return o(n,r),Object.defineProperty(n.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"header",{get:function(){return this._header},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"closeButton",{get:function(){return this._closeButton},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this._content},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"subDivWithId",{get:function(){return this._subDivWithId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"subDivResetting",{get:function(){return this._subDivResetting},enumerable:!1,configurable:!0}),n}(a.Destroyable);return function(e,t){return new r(e,t)}}},42178:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyWindow=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(6997),p=r(33157),d=r(21036),h=r(61384),g=r(55199),y=function(e){function t(t){var r,n,o,i=e.call(this,t)||this;return i._layoutDiv=(r=i.disposeVar(u.SceneObject.createFromClass(p.LayoutDiv)),i.dispose(i.components.disposableAdd(r)),i.dispose((0,l.track)([r,"show"],[i,"show"])),i.dispose((0,l.track)([r,"containerId"],[i,"containerId"])),i.dispose((0,l.track)([r,"shadowDom"],[i,"shadowDom"])),i.dispose((0,l.track)([r,"cssAllInitial"],[i,"cssAllInitial"])),i.dispose((0,l.track)([r,"interaction"],[i,"interaction"])),i.dispose((0,l.track)([r,"visibility"],[i,"visibility"])),i.dispose((0,l.track)([r,"layoutType"],[i,"layoutType"])),i.dispose((0,l.track)([r,"width"],[i,"width"])),i.dispose((0,l.track)([r,"height"],[i,"height"])),i.dispose((0,l.track)([r,"backgroundColor"],[i,"backgroundColor"])),i.dispose((0,l.track)([r,"color"],[i,"color"])),i.dispose((0,l.track)([r,"cssText"],[i,"cssText"])),r.setDivAttribute("m3t-my-window-id",i.id),r),i._attachedObj=(n=(0,g.getCreateAttachedObjFunc)(i),i.disposeVar(n(i.layoutDiv.div))),i._closeEvent=i.disposeVar(new l.Event),i._closeFunc=i.disposeVar((0,l.react)(void 0)),i._closeFuncInit=void i.dispose(i.closeEvent.disposableOn((function(){i.closeFunc&&i.closeFunc(i)}))),i._closeFuncStrInit=((o=function(){var e=(0,f.getFuncFromStr)(i.closeFuncStr);e&&(i.closeFunc=e)})(),void i.dispose(i.closeFuncStrChanged.disposableOn(o))),i}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyWindow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),t.prototype.flushCss=function(){return this.layoutDiv.flushCss()},Object.defineProperty(t.prototype,"attachedObj",{get:function(){return this._attachedObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this.layoutDiv.containerChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeEvent",{get:function(){return this._closeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeFunc",{get:function(){return this._closeFunc.value},set:function(e){this._closeFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeFuncChanged",{get:function(){return this._closeFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],p.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],p.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyWindow","MyWindow",[new c.BooleanProperty("","",!1,!1,[this,"showCloseButton"]),new c.StringProperty("subDivId","subDivId",!1,!1,[this,"subDivId"]),new c.EvalStringProperty("closeFuncStr","closeFuncStr",!1,!1,[this,"closeFuncStr"]),new c.StringProperty("title","title",!1,!1,[this,"title"])])],!1)},r=t,t.type=r.register("MyWindow",r,{chsName:"MyWindow",tags:["ESObjects"],description:"MyWindow"}),t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:{type:"Center"}}),t}(c.ESSceneObject);t.MyWindow=y,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:800,height:600,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",showCloseButton:!0,subDivId:"",closeFuncStr:"function (myWindow: MyWindow) { }",title:""})}}(y=t.MyWindow||(t.MyWindow={})),t.MyWindow=y,(0,l.extendClassProps)(y.prototype,y.createDefaultProps)},19114:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(6997);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._property=function(){var t=document.createElement("div");o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.width="100%",t.style.height="100%",t.style.borderRadius="10px",t.style.color="#fff";var r=document.createElement("div");t.appendChild(r),r.style.width="100%",r.style.height="50px",r.style.borderTopLeftRadius="10px",r.style.borderTopRightRadius="10px",r.style.fontSize="18px",r.style.display="flex",r.style.justifyContent="space-between",r.style.alignItems="center";var n=document.createElement("div");r.appendChild(n),n.innerText="",n.style.marginLeft="25px";var c=document.createElement("div");r.appendChild(c);var l=i.SceneObject.context.getStrFromEnv("${my3dtiles-assets-script-dir}/assets/images/myWindow/cancel.png");c.style.width="20px",c.style.height="20px",c.style.marginRight="15px",c.style.background="url(".concat(l,") no-repeat"),c.style.backgroundSize="100% 100%",c.style.cursor="pointer",c.onclick=function(){return e.show=!1};var u=document.createElement("div");t.appendChild(u),u.style.width="100%",u.style.height="calc(100% - 50px)",u.style.paddingTop="15px",u.style.overflowY="auto",u.style.display="flex",u.style.flexDirection="column";var f=function(){t.style.backgroundColor=(0,s.xe2ColorToCssColor)(e.propBackgroundColor),u.innerHTML="",e.content.forEach((function(t){var r=document.createElement("div");u.appendChild(r),r.style.width="90%",r.style.padding="0 5%",r.style.height="".concat(e.propHeight,"px"),r.style.lineHeight="".concat(e.propHeight,"px"),r.style.fontSize="14px",r.style.display="flex",r.style.alignItems="center";var n=document.createElement("div");r.appendChild(n),n.style.width="".concat(e.keyWidth),n.style.height="100%",n.style.whiteSpace="nowrap",n.style.textOverflow="ellipsis",n.style.overflow="hidden",n.innerText="".concat(t[0]),n.title="".concat(t[0]);var o=document.createElement("div");r.appendChild(o),o.style.width="".concat(e.valueWidth),o.style.height="100%",o.style.whiteSpace="nowrap",o.style.textOverflow="ellipsis",o.style.overflow="hidden",o.innerText="".concat(t[1]),o.title="".concat(t[1])}))};f();var p=o.disposeVar((0,a.createNextAnimateFrameEvent)(e.propHeightChanged,e.keyWidthChanged,e.valueWidthChanged,e.contentChanged,e.propBackgroundColorChanged));o.dispose(p.disposableOn(f))}(),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"property",{get:function(){return this._property},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},31933:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyWindow=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(19114),g=function(e){function t(t){var r,n=e.call(this,t)||this;return n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,h.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"PropertyWindow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],f.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],f.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("PropertyWindow","PropertyWindow",[new c.JsonProperty("","",!1,!1,[this,"content"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.StringProperty("","",!1,!1,[this,"keyWidth"]),new c.StringProperty("","",!1,!1,[this,"valueWidth"]),new c.ColorProperty("","",!1,!1,[this,"propBackgroundColor"])])],!1)},r=t,t.type=r.register("PropertyWindow",r,{chsName:"PropertyWindow",tags:["ESObjects"],description:"PropertyWindow"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.PropertyWindow=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"RightTop",width:300,height:500,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"right: 15px; top: 15px",propHeight:30,keyWidth:"30%",valueWidth:"70%",content:(0,l.reactArray)([["",""]]),propBackgroundColor:(0,l.reactArray)([.11,.11,.11,1])})}}(g=t.PropertyWindow||(t.PropertyWindow={})),t.PropertyWindow=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},31646:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var s=r(80468),c=r(51355),l=r(72039),u=function(e){function t(t,r){var n=e.call(this)||this;return n._rectangleButton=t,n._div=r,n._imageDivsMap=new Map,n._images=function(){var e=n.button,t=e.normalImageUri,r=e.hoveredImageUri,o=e.pressedImageUri,u=e.highlightedImageUri;t=s.SceneObject.context.getStrFromEnv(t),r=r?s.SceneObject.context.getStrFromEnv(r):t,o=o?s.SceneObject.context.getStrFromEnv(o):r,u=u?s.SceneObject.context.getStrFromEnv(u):o;for(var f=[t,r,o,u],p=function(e){var t=f[e];if(!t)return"continue";if(n.imageDivsMap.has(t))return"continue";var r=n.disposeVar(new l.MyImage);r.imageUri=t,r.width=0,r.height=0,r.container=n._div,n.dispose((0,c.track)([r,"layoutType"],[n.button,"imageLayoutType"]));var o=function(){r.cssText=n.button.imageCssText};o(),n.dispose(n.button.imageCssTextChanged.disposableOn(o)),n.dispose(n.button.components.disposableAdd(r)),n.imageDivsMap.set(t,r)},d=0;d<4;++d)p(d);var h=function(){var e,s,c=n.button,l=c.status,f=c.highlighted?u:"normal"===l?t:"hovered"===l?r:o;try{for(var p=i(n.imageDivsMap),d=p.next();!d.done;d=p.next()){var h=a(d.value,2),g=h[0],y=h[1];g!==f&&(y.visibility=!1)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(e)throw e.error}}if(f){var m=n.imageDivsMap.get(f);m&&(m.visibility=!0)}};h();var g=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.button.statusChanged,n.button.highlightedChanged));n.dispose(g.disposableOn(h))}(),n}return o(t,e),Object.defineProperty(t.prototype,"button",{get:function(){return this._rectangleButton},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageDivsMap",{get:function(){return this._imageDivsMap},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,i=t.call(this)||this;return i._div=r,i._viewer=n,i._divInit=(i.div.onclick=function(t){return e.clickEvent.emit(t,{rectangleButton:e})},i.div.onmouseenter=function(){e.status="hovered"},i.div.onmouseleave=function(){e.status="normal"},i.div.onmousedown=function(){e.status="pressed",e.highlightOnClick&&(e.highlighted=!e.highlighted)},void(i.div.onmouseup=function(){e.status="hovered"})),i._imageDivsResetting=(o=i.disposeVar((0,c.createNextAnimateFrameEvent)(e.normalImageUriChanged,e.hoveredImageUriChanged,e.pressedImageUriChanged,e.highlightedImageUriChanged)),i.disposeVar(new s.ObjResettingWithEvent(o,(function(){var t=new u(e,i.div);return e.label.container=i.div,t.dispose((function(){try{e.label.container=void 0}catch(t){console.warn(e),console.warn(t)}})),t})))),i}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),r}(c.Destroyable);return function(e,r){return new t(e,r)}}},2977:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleButton=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(6997),d=r(30884),h=r(33157),g=r(21036),y=r(61384),m=r(17012),v=r(31646),b=r(14355),w=function(e){function t(t){var r,n,o,a=e.call(this,t)||this;return a._status=a.disposeVar((0,l.react)("normal")),a._statusFunc=(r=a.disposeVar((0,l.react)(void 0)),(n=function(){void 0!==r.value&&r.value(a.status,a,{rectangleButton:a})})(),a.dispose(a.statusChanged.disposableOn(n)),r),a._statusFuncStrInit=function(){var e=function(){a.statusFunc=(0,p.getFuncFromStr)(a.statusFuncStr)};e(),a.dispose(a.statusFuncStrChanged.disposableOn(e))}(),a._label=(o=a.disposeVar(u.SceneObject.createFromClass(m.MyLabel)),a.dispose(a.components.disposableAdd(o)),a.dispose((0,l.track)([o,"text"],[a,"text"])),a.dispose((0,l.track)([o,"show"],[a,"show"])),a.dispose((0,l.track)([o,"layoutType"],[a,"textLayoutType"])),a.dispose((0,l.track)([o,"color"],[a,"textColor"])),a.dispose((0,l.track)([o,"fontSize"],[a,"fontSize"])),a.dispose((0,l.track)([o,"fontWeight"],[a,"fontWeight"])),a.dispose((0,l.track)([o,"letterSpacing"],[a,"letterSpacing"])),a.dispose((0,l.track)([o,"cssText"],[a,"textCssText"])),o),a._layoutDiv=function(){var e=a.disposeVar(u.SceneObject.createFromClass(h.LayoutDiv));a.dispose(a.components.disposableAdd(e)),e.createAttachedObjFunc=void 0;var t=(0,v.getCreateAttachedObjFunc)(a);a.disposeVar(t(e.div,void 0)),a.dispose((0,l.track)([e,"show"],[a,"show"])),a.dispose((0,l.track)([e,"containerId"],[a,"containerId"])),a.dispose((0,l.track)([e,"shadowDom"],[a,"shadowDom"])),a.dispose((0,l.track)([e,"cssAllInitial"],[a,"cssAllInitial"])),a.dispose((0,l.track)([e,"interaction"],[a,"interaction"])),a.dispose((0,l.track)([e,"visibility"],[a,"visibility"])),a.dispose((0,l.track)([e,"layoutType"],[a,"layoutType"])),a.dispose((0,l.track)([e,"width"],[a,"width"])),a.dispose((0,l.track)([e,"height"],[a,"height"])),a.dispose((0,l.track)([e,"backgroundColor"],[a,"backgroundColor"]));var r=function(){var t=a,r=t.borderWidth,n=t.borderRadius,o=t.borderColor,i=t.cssText;e.cssText="cursor: pointer;\nborder-style: solid;\nborder-width: ".concat(r,"px;\nborder-radius: ").concat(n,"px;\nborder-color: ").concat((0,p.xe2ColorToCssColor)(o),";\n").concat(i,"\n")};r();var n=a.disposeVar((0,u.createNextAnimateFrameEvent)(a.borderColorChanged,a.borderRadiusChanged,a.borderWidthChanged,a.cssTextChanged));return a.dispose(n.disposableOn(r)),e}(),a._clickEvent=a.disposeVar(new l.Event),a._clickFunc=a.disposeVar((0,l.react)(void 0)),a._clickFuncInit=function(){a.dispose(a.clickEvent.disposableOn((function(e,t){return a.clickFunc&&a.clickFunc(e,t)})));var e=function(){a.clickFunc=(0,p.getFuncFromStr)(a.clickFuncStr)};e(),a.dispose(a.clickFuncStrChanged.disposableOn(e))}(),a._myCursorTooltip=function(){var e,t=a.disposeVar(new b.MyCursorTooltip);return a.dispose(a.components.disposableAdd(t)),(e=function(){t.enabled=a.show})(),a.dispose(a.showChanged.disposableOn(e)),(e=function(){"hovered"===a.status?t.activated=!0:t.activated=!1})(),a.dispose(a.statusChanged.disposableOn(e)),a.dispose((0,l.track)([t,"tooltip"],[a,"tooltip"])),a.dispose((0,l.track)([t,"menuStrings"],[a,"tooltipMenuStrings"])),t}(),a._tooltipClickFunc=a.disposeVar((0,l.react)(void 0)),a._tooltipClickFuncInit=function(){a.myCursorTooltip.clickFunc=function(e,t,r,n){if(a.tooltipClickFunc)return a.tooltipClickFunc(e,t,r,i(i({},n),{rectangleButton:a}))};var e=function(){a.tooltipClickFunc=(0,p.getFuncFromStr)(a.tooltipClickFuncStr)};e(),a.dispose(a.tooltipClickFuncStrChanged.disposableOn(e))}(),a}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"RectangleButton"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status.value},set:function(e){this._status.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusChanged",{get:function(){return this._status.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFunc",{get:function(){return this._statusFunc.value},set:function(e){this._statusFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFuncChanged",{get:function(){return this._statusFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"myCursorTooltip",{get:function(){return this._myCursorTooltip},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClickFunc",{get:function(){return this._tooltipClickFunc.value},set:function(e){this._tooltipClickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClickFuncChanged",{get:function(){return this._tooltipClickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFinalCssText",{get:function(){return this.label.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFinalCssTextChanged",{get:function(){return this.label.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.setImageButtonPreset=function(){this.json={name:"",backgroundColor:[.08000000000000002,.08000000000000002,.08000000000000002,0],borderWidth:0,normalImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/weixuanzhong.png",hoveredImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/xuanzhong.png",statusFuncStr:"function (status, sceneObject) {\n    const ratioMap = {\n        normal: 0.8,\n        hovered: 0.9,\n        pressed: 1,\n    };\n    const r = ratioMap[status];\n\n    sceneObject.borderColor = [1*r, 1*r, 1*r, 1*r];\n    // sceneObject.backgroundColor = [.1*r, .1*r, .1*r, .9*r];\n    sceneObject.textColor = [1*r, 1*r, 1*r, 1*r];\n}\n"}},t.prototype.setCommandButtonPreset=function(){this.json={name:"",width:0,height:24,backgroundColor:[.1,.1,.1,.8],borderWidth:0,cssText:"cursor: pointer;\nline-height: 24px;\npadding: 0 4px;",statusFuncStr:"function (status, sceneObject) {\n    const ratioMap = {\n        normal: 0.1,\n        hovered: 0.3,\n        pressed: 0.35,\n    };\n    const r = ratioMap[status];\n\n    sceneObject.backgroundColor = [r, r, r, 0.8];\n    sceneObject.textColor = [0.9+r, 0.9+r, 0.9+r, 1];\n}\n",text:"123",textColor:[.7999999999999999,.7999999999999999,.7999999999999999,1],fontSize:12,textLayoutType:"None"}},t.prototype.setCircleButtonPreset=function(){this.json={type:"RectangleButton",name:"",width:32,height:32,backgroundColor:[.08000000000000002,.08000000000000002,.08000000000000002,.7200000000000001],borderWidth:0,cssText:"cursor: pointer;\nborder-radius: 32px;",text:"",normalImageUri:'<svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 24 24"><g id="_01_align_center" data-name="01 align center"><path d="M23.821,11.181v0C22.943,9.261,19.5,3,12,3S1.057,9.261.179,11.181a1.969,1.969,0,0,0,0,1.64C1.057,14.739,4.5,21,12,21s10.943-6.261,11.821-8.181A1.968,1.968,0,0,0,23.821,11.181ZM12,19c-6.307,0-9.25-5.366-10-6.989C2.75,10.366,5.693,5,12,5c6.292,0,9.236,5.343,10,7C21.236,13.657,18.292,19,12,19Z"/><path d="M12,7a5,5,0,1,0,5,5A5.006,5.006,0,0,0,12,7Zm0,8a3,3,0,1,1,3-3A3,3,0,0,1,12,15Z"/></g></svg>',imageCssText:"width: 20px; height: 20px;"}},t.prototype.setDefaultButtonPreset=function(){this.json={}},t.prototype.getProperties=function(r){var n=this;return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,h.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],g.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],g.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],g.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],h.LayoutDiv.defaults.backgroundColor),new c.NumberProperty("","",!1,!1,[this,"borderWidth"]),new c.NumberProperty("borderRadius","borderRadius",!1,!1,[this,"borderRadius"]),new c.ColorProperty("","",!1,!1,[this,"borderColor"]),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",y.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("","",[new c.FunctionProperty("","",[],(function(){return n.setImageButtonPreset()}),[]),new c.FunctionProperty("","",[],(function(){return n.setCommandButtonPreset()}),[]),new c.FunctionProperty("","",[],(function(){return n.setDefaultButtonPreset()}),[]),new c.FunctionProperty("","",[],(function(){return n.setCircleButtonPreset()}),[])]),new c.GroupProperty("","",[new c.StringProperty("","",!1,!1,[this,"status"]),new c.BooleanProperty("highlightOnClick","highlightOnClick",!1,!1,[this,"highlightOnClick"]),new c.BooleanProperty("","",!1,!1,[this,"highlighted"]),new f.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultClickFuncStrMd),new f.EvalString2Property("statusFuncStr","statusFuncStr",!1,!1,[this,"statusFuncStr"],"",t.defaultClickFuncStrMd)]),new c.GroupProperty("","",[new c.StringProperty("","",!1,!1,[this,"text"]),new c.ColorProperty("","",!1,!1,[this,"textColor"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"]),new c.StringProperty("","",!1,!1,[this,"fontWeight"]),new c.NumberProperty("","",!1,!1,[this,"letterSpacing"]),new c.EnumProperty("","",!1,!1,[this,"textLayoutType"],g.myCustomDivLayoutTypeEnums),new c.LongStringProperty("textCssText","css",!1,!1,[this,"textCssText"]),new c.LongStringProperty("textFinalCssText","css",!1,!0,[this,"textFinalCssText"])]),new c.GroupProperty("","",[new c.StringProperty("normalImageUri","normalImageUri",!1,!1,[this,"normalImageUri"]),new c.StringProperty("hoveredImageUri","hoveredImageUri",!1,!1,[this,"hoveredImageUri"]),new c.StringProperty("pressedImageUri","pressedImageUri",!1,!1,[this,"pressedImageUri"]),new c.StringProperty("highlightedImageUri","highlightedImageUri",!1,!1,[this,"highlightedImageUri"]),new c.EnumProperty("","",!1,!1,[this,"imageLayoutType"],g.myCustomDivLayoutTypeEnums),new c.LongStringProperty("imageCssText","css",!1,!1,[this,"imageCssText"])]),new c.GroupProperty("","",[new c.StringProperty("tooltip","tooltip",!1,!1,[this,"tooltip"]),new c.StringsProperty("tooltipMenus","tooltipMenus",!1,!1,[this,"tooltipMenuStrings"]),new f.EvalString2Property("tooltipClickFuncStr","tooltipClickFuncStr",!1,!1,[this,"tooltipClickFuncStr"])])],!1)},r=t,t.type=r.register("RectangleButton",r,{chsName:"RectangleButton",tags:["ESObjects"],description:"RectangleButton"}),t.defaultStatusFuncStr="function (status, sceneObject) {\n    const ratioMap = {\n        normal: 0.8,\n        hovered: 0.9,\n        pressed: 1,\n    };\n    const r = ratioMap[status];\n\n    sceneObject.borderColor = [1*r, 1*r, 1*r, 1*r];\n    sceneObject.backgroundColor = [.1*r, .1*r, .1*r, .9*r];\n    sceneObject.textColor = [1*r, 1*r, 1*r, 1*r];\n}\n",t.defaultClickFuncStr="\nfunction(mouseEvent) {\n    console.log(123);\n}\n",t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"},defaultTextLayoutStyle:{type:"Center"}}),t.defaultClickFuncStrMd=d.defaultClickFuncStrMd,t}(c.ESSceneObject);t.RectangleButton=w,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:120,height:40,backgroundColor:(0,l.reactArrayWithNull)([0,0,0,1]),borderRadius:0,borderColor:(0,l.reactArray)([1,1,1,.5]),borderWidth:.5,cssText:"cursor: pointer;",clickFuncStr:e.defaultClickFuncStr,statusFuncStr:e.defaultStatusFuncStr,highlighted:!1,highlightOnClick:!1,text:"",textLayoutCssText:h.LayoutDiv.defaultCssText,textColor:(0,l.reactArray)([1,1,1,1]),fontSize:16,fontWeight:"normal",letterSpacing:0,textLayoutType:"Center",textCssText:"",normalImageUri:"",hoveredImageUri:"",pressedImageUri:"",highlightedImageUri:"",imageLayoutType:"Center",imageCssText:"width: 100%; height: 100%",tooltip:"",tooltipMenuStrings:(0,l.reactArray)([]),tooltipClickFuncStr:"function (index, text, mouseEvent, context) { console.log(`${index} - ${text}`); } "})}}(w=t.RectangleButton||(t.RectangleButton={})),t.RectangleButton=w,(0,l.extendClassProps)(w.prototype,w.createDefaultProps)},42921:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(43632),c=r(2977),l=function(e){function t(t,r,n,o){var s,l,u,f,p,d,h,g,y=e.call(this,t)||this;y._container=r,y._index=n,y._buttonParams=o,y._rectangleButton=(g=y.disposeVar(i.SceneObject.createFromClass(c.RectangleButton)),y.dispose(y.owner.components.disposableAdd(g)),y.dispose((0,a.track)([g,"width"],[y.owner,"buttonWidth"])),y.dispose((0,a.track)([g,"height"],[y.owner,"buttonHeight"])),y.dispose((0,a.track)([g,"borderRadius"],[y.owner,"buttonBorderRadius"])),y.dispose((0,a.track)([g,"backgroundColor"],[y.owner,"buttonBackgroundColor"])),y.dispose((0,a.track)([g,"borderWidth"],[y.owner,"buttonBorderWidth"])),y.dispose((0,a.track)([g,"borderColor"],[y.owner,"buttonBorderColor"])),y.dispose((0,a.track)([g,"textColor"],[y.owner,"textColor"])),y.dispose((0,a.track)([g,"fontSize"],[y.owner,"fontSize"])),y.dispose((0,a.track)([g,"fontWeight"],[y.owner,"fontWeight"])),y.dispose((0,a.track)([g,"letterSpacing"],[y.owner,"letterSpacing"])),y.dispose((0,a.track)([g,"layoutType"],[y.owner,"buttonLayoutType"])),y.dispose((0,a.track)([g,"cssText"],[y.owner,"buttonCssText"])),y.dispose((0,a.track)([g,"textLayoutType"],[y.owner,"textLayoutType"])),y.dispose((0,a.track)([g,"textCssText"],[y.owner,"textCssText"])),g.text=null!==(s=y._buttonParams.text)&&void 0!==s?s:"",g.highlightOnClick=null!==(l=y._buttonParams.highlightOnClick)&&void 0!==l&&l,g.highlighted=null!==(u=y._buttonParams.highlighted)&&void 0!==u&&u,g.normalImageUri=null!==(f=y._buttonParams.normalImageUri)&&void 0!==f?f:"",g.hoveredImageUri=null!==(p=y._buttonParams.hoveredImageUri)&&void 0!==p?p:"",g.pressedImageUri=null!==(d=y._buttonParams.pressedImageUri)&&void 0!==d?d:"",g.highlightedImageUri=null!==(h=y._buttonParams.highlightedImageUri)&&void 0!==h?h:"",y.dispose(g.clickEvent.disposableOn((function(e){y.owner.clickEvent.emit(y._index,e)}))),g);var m=document.createElement("div");return m.setAttribute("m3t-div","RectangleButtonsTool buttonsContainer subContainer"),m.style.flex="none",y._container.appendChild(m),y.dispose((function(){return y._container.removeChild(m)})),y.rectangleButton.container=m,y}return o(t,e),Object.defineProperty(t.prototype,"buttonParams",{get:function(){return this._buttonParams},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rectangleButton",{get:function(){return this._rectangleButton},enumerable:!1,configurable:!0}),t}(a.HasOwner),u=function(e){function t(t,r){var n=e.call(this)||this;return n._sceneObject=t,n._container=r,n._rectangleButtonWrappers=n.sceneObject.buttons.map((function(e,t){return n.disposeVar(new l(n.sceneObject,n._container,t,e))})),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._buttonsContainer=function(){var t=document.createElement("div");t.setAttribute("m3t-div","RectangleButtonsTool buttonsContainer"),o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.display="flex",t.style.borderStyle="solid";var r=function(){var r=e.borderWidth,n=e.borderColor,o=e.backgroundColor,i=e.padding,a=e.gap,c=e.wrap,l=e.radius;t.style.borderWidth="".concat(r,"px"),t.style.borderColor=(0,s.xe2ColorToCssColor)(n),t.style.backgroundColor=(0,s.xe2ColorToCssColor)(o),t.style.padding="".concat(i,"px"),t.style.gap="".concat(a,"px"),t.style.flexWrap="".concat(c),t.style.borderRadius="".concat(l,"px"),t.style.flexDirection=e.direction};r();var n=o.disposeVar((0,a.createNextAnimateFrameEvent)(e.borderWidthChanged,e.borderColorChanged,e.backgroundColorChanged,e.paddingChanged,e.directionChanged,e.gapChanged,e.wrapChanged,e.radiusChanged));return o.dispose(n.disposableOn(r)),t}(),o._buttonsObjResetting=o.disposeVar(new i.ObjResettingWithEvent(e.buttonsChanged,(function(){if(0!=e.buttons.length)return new u(e,o.buttonsContainer)}))),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsContainer",{get:function(){return this._buttonsContainer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsObjResetting",{get:function(){return this._buttonsObjResetting},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},66012:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleButtonsTool=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(6997),d=r(33157),h=r(21036),g=r(61384),y=r(33563),m=r(42921),v=r(33576),b=function(e){function t(t){var r,n=e.call(this,t)||this;n._clickEvent=n.disposeVar(new l.Event),n._clickFunc=n.disposeVar((0,l.react)(void 0)),n._clickFuncInit=void n.dispose(n.clickEvent.disposableOn((function(e,t){return n.clickFunc&&n.clickFunc(e,t)}))),n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(d.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,m.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r);var o=function(){var e=(0,p.getFuncFromStr)(n.clickFuncStr);e&&(n.clickFunc=e)};return o(),n.dispose(n.clickFuncStrChanged.disposableOn(o)),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"RectangleButtonsTool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",g.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("RectangleBUttonsTool","RectangleBUttonsTool",[new c.GroupProperty("","",[new f.Json2Property("buttons","buttons",!1,!1,[this,"buttons"],s([],a(t.defaultButtons),!1),t.rectangleButtonsToolButtonsMd),new f.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultButtonsClickFuncStrMd)]),new c.GroupProperty("","",[new c.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new c.NumberProperty("","",!1,!1,[this,"borderWidth"]),new c.ColorProperty("","",!1,!1,[this,"borderColor"]),new c.NumberProperty("padding","padding",!1,!1,[this,"padding"]),new c.NumberProperty("radius","radius",!1,!1,[this,"radius"]),new c.NumberProperty("gap","gap",!1,!1,[this,"gap"]),new c.EnumProperty("","",!1,!1,[this,"wrap"],t.wrap.map((function(e){return[e,e]}))),new c.EnumProperty("","",!1,!1,[this,"direction"],t.directions.map((function(e){return[e,e]})))]),new c.GroupProperty("","",[new c.NumberProperty("buttonWidth","buttonWidth",!1,!1,[this,"buttonWidth"]),new c.NumberProperty("buttonHeight","buttonHeight",!1,!1,[this,"buttonHeight"]),new c.ColorProperty("","",!1,!1,[this,"buttonBackgroundColor"]),new c.NumberProperty("","",!1,!1,[this,"buttonBorderWidth"]),new c.NumberProperty("buttonBorderRadius","buttonBorderRadius",!1,!1,[this,"buttonBorderRadius"]),new c.ColorProperty("","",!1,!1,[this,"buttonBorderColor"]),new c.EnumProperty("","",!1,!1,[this,"textLayoutType"],h.myCustomDivLayoutTypeEnums),new c.LongStringProperty("buttonCssText","css",!1,!1,[this,"buttonCssText"])]),new c.GroupProperty("","",[new c.ColorProperty("","",!1,!1,[this,"textColor"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"]),new c.StringProperty("","",!1,!1,[this,"fontWeight"]),new c.NumberProperty("","",!1,!1,[this,"letterSpacing"]),new c.StringProperty("","",!1,!1,[this,"textShadow"]),new c.LongStringProperty("textCssText","css",!1,!1,[this,"textCssText"])])])],!1)},r=t,t.type=r.register("RectangleButtonsTool",r,{chsName:"RectangleButtonsTool",tags:["ESObjects"],description:"RectangleButtonsTool"}),t.directions=["row","row-reverse","column","column-reverse"],t.defaultButtons=[{text:"",normalImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/weixuanzhong.png",hoveredImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/xuanzhong.png",pressedImageUri:"",highlightedImageUri:"",highlightOnClick:!1,highlighted:!1},{text:""},{text:""}],t.rectangleButtonsToolButtonsMd=v.rectangleButtonsToolButtonsMd,t.wrap=["nowrap","wrap"],t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"},defaultTextLayoutStyle:{type:"Center"}}),t.defaultButtonsClickFuncStrMd=y.defaultButtonsClickFuncStrMd,t}(c.ESSceneObject);t.RectangleButtonsTool=b,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:0,cssText:"",clickFuncStr:"",buttons:(0,l.reactDeepArray)(s([],a(e.defaultButtons),!1),(function(e,t){return e.highlighted===t.highlighted&&e.highlightOnClick===t.highlightOnClick&&e.normalImageUri===t.normalImageUri&&e.hoveredImageUri===t.hoveredImageUri&&e.pressedImageUri===t.pressedImageUri&&e.highlightedImageUri===t.highlightedImageUri&&e.text===t.text&&e.text===t.text}),(function(e){return i({},e)})),backgroundColor:(0,l.reactArray)([0,0,0,.3]),borderWidth:0,borderColor:(0,l.reactArray)([1,1,1,.3]),padding:4,radius:4,gap:10,wrap:"nowrap",direction:"row",buttonWidth:110,buttonHeight:32,buttonBorderRadius:12,buttonBackgroundColor:(0,l.reactArray)([0,0,0,1]),buttonBorderWidth:.5,buttonBorderColor:(0,l.reactArray)([1,1,1,.5]),buttonLayoutType:"None",buttonCssText:"",textColor:(0,l.reactArray)([1,1,1,1]),fontSize:16,fontWeight:"normal",letterSpacing:0,textShadow:"none",textLayoutType:"Center",textCssText:""})}}(b=t.RectangleButtonsTool||(t.RectangleButtonsTool={})),t.RectangleButtonsTool=b,(0,l.extendClassProps)(b.prototype,b.createDefaultProps)},33576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rectangleButtonsToolButtonsMd=void 0,t.rectangleButtonsToolButtonsMd='RectangleButtonsTool buttons :\n\n<a href="javascript:void(0);" >https://www.wolai.com/vtxf/pprEiqGyKuxXeGuQyaUqLK</a>\n'},6866:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TempObjsCreatorTool=void 0;var l=r(6997),u=r(42626),f=r(80468),p=r(51355),d=r(59645),h=r(21036),g=r(33563),y=r(2555),m=r(90436),v=r(61384),b=[{text:"",title:"",normalImageUri:'<svg t="1716539539820" class="icon" viewBox="0 0 1040 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4539" width="128" height="128"><path d="M0.845206 778.890159a23.015619 23.015619 0 0 0 27.696762 27.761778l192.121905-53.117969-166.635683-166.310603-53.313015 191.666794z m709.453207-764.456635a57.344 57.344 0 0 0-78.539175 2.340571l-80.944762 80.81473 161.824508 161.694477 80.879746-80.749715a55.198476 55.198476 0 0 0 2.275556-78.60419l-85.495873-85.430857z m-600.876699 514.99073l157.208381 166.375619 399.782603-390.095238-161.759492-161.95454-395.296508 385.674159z" fill="#707070" p-id="4540"></path><path d="M0 926.47619m48.761905 0l942.730158 0q48.761905 0 48.761905 48.761905l0 0q0 48.761905-48.761905 48.761905l-942.730158 0q-48.761905 0-48.761905-48.761905l0 0q0-48.761905 48.761905-48.761905Z" fill="#707070" p-id="4541"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539539820" class="icon" viewBox="0 0 1040 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4539" width="128" height="128"><path d="M0.845206 778.890159a23.015619 23.015619 0 0 0 27.696762 27.761778l192.121905-53.117969-166.635683-166.310603-53.313015 191.666794z m709.453207-764.456635a57.344 57.344 0 0 0-78.539175 2.340571l-80.944762 80.81473 161.824508 161.694477 80.879746-80.749715a55.198476 55.198476 0 0 0 2.275556-78.60419l-85.495873-85.430857z m-600.876699 514.99073l157.208381 166.375619 399.782603-390.095238-161.759492-161.95454-395.296508 385.674159z" fill="#ffffff" p-id="4540"></path><path d="M0 926.47619m48.761905 0l942.730158 0q48.761905 0 48.761905 48.761905l0 0q0 48.761905-48.761905 48.761905l-942.730158 0q-48.761905 0-48.761905-48.761905l0 0q0-48.761905 48.761905-48.761905Z" fill="#ffffff" p-id="4541"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoDistanceMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539656134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5865" width="128" height="128"><path d="M948.48 441.93l-80.13-80.12a20.6 20.6 0 0 0-8.73-5.2h-0.08c-0.61-0.17-1.22-0.32-1.84-0.44-0.2 0-0.41-0.06-0.61-0.09-0.45-0.07-0.89-0.15-1.34-0.19a18.43 18.43 0 0 0-2-0.1 20.53 20.53 0 0 0-14.57 6l-15.82 15.84-26.56 26.59 67.2 67.16 40 40 2.06 2 2.08-2.07 40-40 0.32-0.31a20.62 20.62 0 0 0 0.02-29.07zM807.39 471.38l-38.83-38.83-4.33 4.34L423.92 777.6a41.1 41.1 0 0 0-10.48 17.85l-25.1 106.63a17.13 17.13 0 0 0 16.72 20.16 16.93 16.93 0 0 0 3.14-0.3l106.63-25.09a41.16 41.16 0 0 0 17.85-10.49l340.71-340.31 4.34-4.33-30.34-30.34zM304.2 478h99.56V296.16q1-72.83 58.17-73.88 55-2.09 53.44 70.74V478h99V275.73q-0.52-130-106.9-130.48-74.94 0.52-111.08 60.26-26.22-60.25-95.37-60.26-72.31 0.52-107.42 58.69v-50.31h-99V478h99V297.21q2.09-71.79 56.07-74.93 56.05-1.58 54.49 68.12zM755.92 233.14H681q16-18.14 40.68-34.6 38.27-22.89 34.79-52.36-3.48-43.21-53.1-45-54.55 0-63.52 47.6l32.22 6.77q4.75-27.47 26.36-26.91 21.42 0.38 22 20.69 2.93 13.92-34.78 41.56a199.9 199.9 0 0 0-46 49.24v22.16h116.27z" fill="#8a8a8a" p-id="5866"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539656134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5865" width="128" height="128"><path d="M948.48 441.93l-80.13-80.12a20.6 20.6 0 0 0-8.73-5.2h-0.08c-0.61-0.17-1.22-0.32-1.84-0.44-0.2 0-0.41-0.06-0.61-0.09-0.45-0.07-0.89-0.15-1.34-0.19a18.43 18.43 0 0 0-2-0.1 20.53 20.53 0 0 0-14.57 6l-15.82 15.84-26.56 26.59 67.2 67.16 40 40 2.06 2 2.08-2.07 40-40 0.32-0.31a20.62 20.62 0 0 0 0.02-29.07zM807.39 471.38l-38.83-38.83-4.33 4.34L423.92 777.6a41.1 41.1 0 0 0-10.48 17.85l-25.1 106.63a17.13 17.13 0 0 0 16.72 20.16 16.93 16.93 0 0 0 3.14-0.3l106.63-25.09a41.16 41.16 0 0 0 17.85-10.49l340.71-340.31 4.34-4.33-30.34-30.34zM304.2 478h99.56V296.16q1-72.83 58.17-73.88 55-2.09 53.44 70.74V478h99V275.73q-0.52-130-106.9-130.48-74.94 0.52-111.08 60.26-26.22-60.25-95.37-60.26-72.31 0.52-107.42 58.69v-50.31h-99V478h99V297.21q2.09-71.79 56.07-74.93 56.05-1.58 54.49 68.12zM755.92 233.14H681q16-18.14 40.68-34.6 38.27-22.89 34.79-52.36-3.48-43.21-53.1-45-54.55 0-63.52 47.6l32.22 6.77q4.75-27.47 26.36-26.91 21.42 0.38 22 20.69 2.93 13.92-34.78 41.56a199.9 199.9 0 0 0-46 49.24v22.16h116.27z" fill="#ffffff" p-id="5866"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoAreaMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539713633" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8224" width="128" height="128"><path d="M94.794979 227.722176H18.958996v75.835983h75.835983z m0-113.753975H18.958996v75.835983h75.835983z m0-113.968201H18.958996v76.050209h75.835983z m0 341.476151H18.958996v75.835983h75.835983z m0 113.753975H18.958996v75.835983h75.835983z m0 227.507949H18.958996v75.621758h75.835983z m0-113.753975H18.958996v75.835984h75.835983z m835.481172 303.343933a74.550628 74.550628 0 0 0-64.267783 37.917992H395.996653a339.333891 339.333891 0 0 0-105.399163-210.369874l326.480334-435.521339a29.991632 29.991632 0 0 0 8.783264 1.285355 75.835983 75.835983 0 1 0-75.835983-75.835983 77.764017 77.764017 0 0 0 5.998326 29.777406L94.794979 834.410042v-37.917992H18.958996v75.835983h46.701255L38.025105 910.246025H18.958996v75.835983h845.121339a74.979079 74.979079 0 0 0 64.267782 37.917992 75.835983 75.835983 0 0 0 0-151.671967zM132.927197 910.246025l112.040167-149.958159a260.284519 260.284519 0 0 1 74.336402 149.958159z m0 0" p-id="8225" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539713633" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8224" width="128" height="128"><path d="M94.794979 227.722176H18.958996v75.835983h75.835983z m0-113.753975H18.958996v75.835983h75.835983z m0-113.968201H18.958996v76.050209h75.835983z m0 341.476151H18.958996v75.835983h75.835983z m0 113.753975H18.958996v75.835983h75.835983z m0 227.507949H18.958996v75.621758h75.835983z m0-113.753975H18.958996v75.835984h75.835983z m835.481172 303.343933a74.550628 74.550628 0 0 0-64.267783 37.917992H395.996653a339.333891 339.333891 0 0 0-105.399163-210.369874l326.480334-435.521339a29.991632 29.991632 0 0 0 8.783264 1.285355 75.835983 75.835983 0 1 0-75.835983-75.835983 77.764017 77.764017 0 0 0 5.998326 29.777406L94.794979 834.410042v-37.917992H18.958996v75.835983h46.701255L38.025105 910.246025H18.958996v75.835983h845.121339a74.979079 74.979079 0 0 0 64.267782 37.917992 75.835983 75.835983 0 0 0 0-151.671967zM132.927197 910.246025l112.040167-149.958159a260.284519 260.284519 0 0 1 74.336402 149.958159z m0 0" p-id="8225" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoDirectionMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539744426" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9418" width="128" height="128"><path d="M41.344 928.426667c-9.386667 0-18.389333-4.266667-24.533333-12.8a32.981333 32.981333 0 0 1 6.144-44.8l299.818666-235.093334c19.2-14.933333 46.165333-14.08 64.128 2.56l236.544 216.32 337.792-289.706666a30.08 30.08 0 0 1 43.306667 4.266666c10.624 13.653333 8.96 33.706667-4.096 45.226667l-344.32 295.253333c-19.2 16.64-46.976 16.213333-66.176-1.28l-236.928-216.32L59.733333 922.026667a29.312 29.312 0 0 1-18.389333 6.4z" p-id="9419" fill="#8a8a8a"></path><path d="M608 699.733333c-13.226667 0-26.026667-4.693333-36.266667-14.506666-66.133333-62.293333-219.733333-219.306667-219.733333-333.653334 0-141.226667 114.773333-256 256-256s256 114.773333 256 256c0 114.346667-153.6 271.36-219.733333 333.653334-10.24 9.386667-23.04 14.506667-36.266667 14.506666z m0-540.16c-105.813333 0-192 86.186667-192 192 0 70.826667 101.546667 193.28 192 279.893334 90.453333-86.613333 192-209.066667 192-279.893334 0-105.813333-86.186667-192-192-192z" p-id="9420" fill="#8a8a8a"></path><path d="M608 479.573333c-70.4 0-128-57.6-128-128s57.6-128 128-128 128 57.6 128 128-57.6 128-128 128z m0-192c-35.413333 0-64 28.586667-64 64s28.586667 64 64 64 64-28.586667 64-64-28.586667-64-64-64z" p-id="9421" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539744426" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9418" width="128" height="128"><path d="M41.344 928.426667c-9.386667 0-18.389333-4.266667-24.533333-12.8a32.981333 32.981333 0 0 1 6.144-44.8l299.818666-235.093334c19.2-14.933333 46.165333-14.08 64.128 2.56l236.544 216.32 337.792-289.706666a30.08 30.08 0 0 1 43.306667 4.266666c10.624 13.653333 8.96 33.706667-4.096 45.226667l-344.32 295.253333c-19.2 16.64-46.976 16.213333-66.176-1.28l-236.928-216.32L59.733333 922.026667a29.312 29.312 0 0 1-18.389333 6.4z" p-id="9419" fill="#ffffff"></path><path d="M608 699.733333c-13.226667 0-26.026667-4.693333-36.266667-14.506666-66.133333-62.293333-219.733333-219.306667-219.733333-333.653334 0-141.226667 114.773333-256 256-256s256 114.773333 256 256c0 114.346667-153.6 271.36-219.733333 333.653334-10.24 9.386667-23.04 14.506667-36.266667 14.506666z m0-540.16c-105.813333 0-192 86.186667-192 192 0 70.826667 101.546667 193.28 192 279.893334 90.453333-86.613333 192-209.066667 192-279.893334 0-105.813333-86.186667-192-192-192z" p-id="9420" fill="#ffffff"></path><path d="M608 479.573333c-70.4 0-128-57.6-128-128s57.6-128 128-128 128 57.6 128 128-57.6 128-128 128z m0-192c-35.413333 0-64 28.586667-64 64s28.586667 64 64 64 64-28.586667 64-64-28.586667-64-64-64z" p-id="9421" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoLocationMeasurement"},{text:"",title:"",normalImageUri:'<svg t="1716539785836" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11413" width="128" height="128"><path d="M819.198 910.218 204.799 910.218c-50.267 0-91.022-40.75-91.022-91.02L113.777 204.822c0-50.29 40.755-91.045 91.022-91.045l614.398 0c50.27 0 91.02 40.755 91.02 91.045l0 614.376C910.218 869.468 869.468 910.218 819.198 910.218zM841.953 227.554c0-25.122-20.385-45.51-45.51-45.51L227.554 182.044c-25.122 0-45.51 20.387-45.51 45.51l0 568.889c0 25.125 20.387 45.535 45.51 45.535l568.889 0c25.125 0 45.51-20.39 45.51-45.535L841.953 227.554zM603.268 400.952l-57.14-57.115 0 335.802 55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5L477.865 343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265C638.198 414.286 616.583 414.286 603.268 400.952z" fill="#8a8a8a" p-id="11414"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1716539785836" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11413" width="128" height="128"><path d="M819.198 910.218 204.799 910.218c-50.267 0-91.022-40.75-91.022-91.02L113.777 204.822c0-50.29 40.755-91.045 91.022-91.045l614.398 0c50.27 0 91.02 40.755 91.02 91.045l0 614.376C910.218 869.468 869.468 910.218 819.198 910.218zM841.953 227.554c0-25.122-20.385-45.51-45.51-45.51L227.554 182.044c-25.122 0-45.51 20.387-45.51 45.51l0 568.889c0 25.125 20.387 45.535 45.51 45.535l568.889 0c25.125 0 45.51-20.39 45.51-45.535L841.953 227.554zM603.268 400.952l-57.14-57.115 0 335.802 55.505-55.5c13.335-13.31 34.93-13.335 48.265 0 13.33 13.335 13.33 34.95 0 48.29l-105.77 105.765c-1.615 3.415-3.525 6.78-6.37 9.625-7.1 7.08-16.475 10.1-25.76 9.67-9.262 0.46-18.66-2.59-25.76-9.69-2.842-2.85-4.8-6.15-6.347-9.58l-105.79-105.79c-13.335-13.34-13.335-34.955 0-48.29 13.332-13.31 34.927-13.335 48.262 0l55.502 55.5L477.865 343.837l-57.117 57.115c-13.335 13.357-34.952 13.335-48.287 0s-13.335-34.93 0-48.265l115.395-115.37c13.332-13.335 34.927-13.357 48.262 0l115.395 115.37c13.335 13.335 13.335 34.952 0 48.265C638.198 414.286 616.583 414.286 603.268 400.952z" fill="#ffffff" p-id="11414"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6,sceneObjectType:"GeoHeightMeasurement"}],w=function(e){function t(t,r){var n,o=e.call(this,t)||this;return o._sceneObjectType=r,o._sceneObject=(n=o.disposeVar(d.SceneObject.create(o._sceneObjectType)),o.dispose(o.owner.components.disposableAdd(n)),"editing"in n?n.editing=!0:"positionEditing"in n&&(n.positionEditing=!0),n),o}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),t}(p.HasOwner),_=function(e){function t(r){var n=e.call(this,r)||this;return n._map=new Map,n._objCreatedEvent=n.disposeVar(new p.Event),n._mapInit=void n.dispose((function(){return n.deleteAllTempObj()})),n._circleButtonsTool=function(){var e=n.disposeVar(d.SceneObject.createFromClass(y.CircleButtonsTool));n.dispose(n.components.disposableAdd(e)),n.dispose((0,p.track)([e,"show"],[n,"show"])),n.dispose((0,p.track)([e,"containerId"],[n,"containerId"])),n.dispose((0,p.track)([e,"shadowDom"],[n,"shadowDom"])),n.dispose((0,p.track)([e,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,p.track)([e,"interaction"],[n,"interaction"])),n.dispose((0,p.track)([e,"visibility"],[n,"visibility"])),n.dispose((0,p.track)([e,"layoutType"],[n,"layoutType"])),n.dispose((0,p.track)([e,"width"],[n,"width"])),n.dispose((0,p.track)([e,"height"],[n,"height"])),n.dispose((0,p.track)([e,"cssText"],[n,"cssText"])),n.dispose((0,p.track)([e,"show"],[n,"show"])),n.dispose((0,p.track)([e,"buttonRadius"],[n,"buttonRadius"])),n.dispose((0,p.track)([e,"buttonBackgroundColor"],[n,"buttonBackgroundColor"])),n.dispose((0,p.track)([e,"buttonBorderWidth"],[n,"buttonBorderWidth"])),n.dispose((0,p.track)([e,"buttonBorderColor"],[n,"buttonBorderColor"])),n.dispose((0,p.track)([e,"buttonTextColor"],[n,"buttonTextColor"])),n.dispose((0,p.track)([e,"buttonFontSize"],[n,"buttonFontSize"])),n.dispose((0,p.track)([e,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,p.track)([e,"backgroundRadius"],[n,"backgroundRadius"])),n.dispose((0,p.track)([e,"borderWidth"],[n,"borderWidth"])),n.dispose((0,p.track)([e,"borderColor"],[n,"borderColor"])),n.dispose((0,p.track)([e,"padding"],[n,"padding"])),n.dispose((0,p.track)([e,"gap"],[n,"gap"])),n.dispose((0,p.track)([e,"direction"],[n,"direction"])),n.dispose((0,p.track)([e,"containerId"],[n,"containerId"])),n.dispose((0,p.track)([e,"shadowDom"],[n,"shadowDom"])),n.dispose((0,p.track)([e,"cssAllInitial"],[n,"cssAllInitial"]));var r=function(){var r=n.buttons.map((function(e,t){var r,n,o,i,a,s,c,l;return{text:null!==(r=e.text)&&void 0!==r?r:"",title:null!==(n=e.title)&&void 0!==n?n:"",normalImageUri:null!==(o=e.normalImageUri)&&void 0!==o?o:"",normalImageSize:null!==(i=e.normalImageSize)&&void 0!==i?i:.6,hoveredImageUri:null!==(a=e.hoveredImageUri)&&void 0!==a?a:"",hoveredImageSize:null!==(s=e.hoveredImageSize)&&void 0!==s?s:.6,pressedImageUri:null!==(c=e.pressedImageUri)&&void 0!==c?c:"",pressedImageSize:null!==(l=e.pressedImageSize)&&void 0!==l?l:.6}}));n.showDeleteButton?e.buttons=s(s([],a(r),!1),a(t.defaultButtons),!1):e.buttons=s([],a(r),!1)};return r(),n.dispose(n.buttonsChanged.disposableOn(r)),n.dispose(n.showDeleteButtonChanged.disposableOn(r)),n.dispose(e.clickEvent.disposableOn((function(e,t){if(n.buttons.length)if(n.showDeleteButton&&e===n.buttons.length)n.deleteAllTempObj();else{var r=n.buttons[e].sceneObjectType;if(r){var o=new w(n,r),i=(0,p.createGuid)();n._map.set(i,o),n._objCreatedEvent.emit(e,i,o)}var a=n.buttons[e].createFuncStr;if(a){var s=(0,l.getFuncFromStr)(a);if(s){var c=s(n,e);c&&(i=(0,p.createGuid)(),n._map.set(i,c),n._objCreatedEvent.emit(e,i,c))}}}}))),e}(),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"TempObjsCreatorTool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objCreatedEvent",{get:function(){return this._objCreatedEvent},enumerable:!1,configurable:!0}),t.prototype.deleteAllTempObj=function(){var e,t;try{for(var r=c(this._map),n=r.next();!n.done;n=r.next()){var o=n.value,i=a(o,2);i[0],i[1].destroy()}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._map.clear()},t.prototype.deleteTempObjById=function(e){var t=this._map.get(e);if(!t)throw new Error("not found tempObj by id: "+e);t.destroy(),this._map.delete(e)},Object.defineProperty(t.prototype,"circleButtonsTool",{get:function(){return this._circleButtonsTool},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.circleButtonsTool.container},set:function(e){this.circleButtonsTool.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this.circleButtonsTool.layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.circleButtonsTool.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.circleButtonsTool.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new f.GroupProperty("","",[new f.BooleanProperty("","(show)",!1,!1,[this,"show"]),new f.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new f.GroupProperty("","",[new f.BooleanProperty("","",!1,!1,[this,"visibility"]),new f.BooleanProperty("","",!1,!1,[this,"interaction"]),new f.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new f.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new f.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new f.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new f.NumberProperty("","",!1,!1,[this,"width"]),new f.NumberProperty("","",!1,!1,[this,"height"]),new f.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",v.defaultCssTextMd),new f.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new f.GroupProperty("TempObjsCreatorTool","TempObjsCreatorTool",[new f.GroupProperty("","",[new f.BooleanProperty("","",!1,!1,[this,"showDeleteButton"]),new u.Json2Property("buttons","buttons",!1,!1,[this,"buttons"],[],t.tempObjsCreatorButtonsMd),new u.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultButtonsClickFuncStrMd)]),new f.GroupProperty("","",[new f.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new f.NumberProperty("","",!1,!1,[this,"backgroundRadius"]),new f.NumberProperty("","",!1,!1,[this,"borderWidth"]),new f.ColorProperty("","",!1,!1,[this,"borderColor"]),new f.NumberProperty("padding","padding",!1,!1,[this,"padding"]),new f.NumberProperty("gap","gap",!1,!1,[this,"gap"]),new f.EnumProperty("","",!1,!1,[this,"direction"],y.CircleButtonsTool.directions.map((function(e){return[e,e]})))]),new f.GroupProperty("","",[new f.NumberProperty("radius","radius",!1,!1,[this,"buttonRadius"]),new f.ColorProperty("","",!1,!1,[this,"buttonBackgroundColor"]),new f.NumberProperty("","",!1,!1,[this,"buttonBorderWidth"]),new f.ColorProperty("","",!1,!1,[this,"buttonBorderColor"]),new f.ColorProperty("","",!1,!1,[this,"buttonTextColor"]),new f.NumberProperty("fontSize","fontSize",!1,!1,[this,"buttonFontSize"])])])],!1)},r=t,t.type=r.register("TempObjsCreatorTool",r,{chsName:"TempObjsCreatorTool",tags:["M3tObjects"],description:"TempObjsCreatorTool"}),t.defaults=i({},f.ESSceneObject.defaults),t.defaultButtons=[{text:"",title:"",normalImageUri:'<svg t="1715393002071" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="59637" ><path d="M861.184 192.512q30.72 0 50.688 10.24t31.744 25.6 16.384 33.28 4.608 33.28q0 7.168-0.512 11.264t-0.512 7.168l0 6.144-67.584 0 0 537.6q0 20.48-8.192 39.424t-23.552 33.28-37.376 23.04-50.688 8.704l-456.704 0q-26.624 0-50.176-8.192t-40.448-23.04-26.624-35.84-9.728-47.616l0-527.36-63.488 0q-1.024-1.024-1.024-5.12-1.024-5.12-1.024-31.744 0-13.312 6.144-29.696t18.432-30.208 31.744-23.04 46.08-9.216l91.136 0 0-62.464q0-26.624 18.432-45.568t45.056-18.944l320.512 0q35.84 0 49.664 18.944t13.824 45.568l0 63.488q21.504 1.024 46.08 1.024l47.104 0zM384 192.512l320.512 0 0-64.512-320.512 0 0 64.512zM352.256 840.704q32.768 0 32.768-41.984l0-475.136-63.488 0 0 475.136q0 21.504 6.656 31.744t24.064 10.24zM545.792 839.68q17.408 0 23.552-9.728t6.144-31.232l0-475.136-63.488 0 0 475.136q0 40.96 33.792 40.96zM738.304 837.632q18.432 0 24.576-9.728t6.144-31.232l0-473.088-64.512 0 0 473.088q0 40.96 33.792 40.96z" p-id="59638" fill="#8a8a8a"></path></svg>',normalImageSize:.6,hoveredImageUri:'<svg t="1715393002071" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="59637" ><path d="M861.184 192.512q30.72 0 50.688 10.24t31.744 25.6 16.384 33.28 4.608 33.28q0 7.168-0.512 11.264t-0.512 7.168l0 6.144-67.584 0 0 537.6q0 20.48-8.192 39.424t-23.552 33.28-37.376 23.04-50.688 8.704l-456.704 0q-26.624 0-50.176-8.192t-40.448-23.04-26.624-35.84-9.728-47.616l0-527.36-63.488 0q-1.024-1.024-1.024-5.12-1.024-5.12-1.024-31.744 0-13.312 6.144-29.696t18.432-30.208 31.744-23.04 46.08-9.216l91.136 0 0-62.464q0-26.624 18.432-45.568t45.056-18.944l320.512 0q35.84 0 49.664 18.944t13.824 45.568l0 63.488q21.504 1.024 46.08 1.024l47.104 0zM384 192.512l320.512 0 0-64.512-320.512 0 0 64.512zM352.256 840.704q32.768 0 32.768-41.984l0-475.136-63.488 0 0 475.136q0 21.504 6.656 31.744t24.064 10.24zM545.792 839.68q17.408 0 23.552-9.728t6.144-31.232l0-475.136-63.488 0 0 475.136q0 40.96 33.792 40.96zM738.304 837.632q18.432 0 24.576-9.728t6.144-31.232l0-473.088-64.512 0 0 473.088q0 40.96 33.792 40.96z" p-id="59638" fill="#ffffff"></path></svg>',hoveredImageSize:.6,pressedImageUri:"",pressedImageSize:.6}],t.defaultButtonsClickFuncStrMd=g.defaultButtonsClickFuncStrMd,t.tempObjsCreatorButtonsMd=m.tempObjsCreatorButtonsMd,t}(f.ESSceneObject);t.TempObjsCreatorTool=_,function(e){e.createDefaultProps=function(){return i(i({},f.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"LeftTop",width:0,height:0,cssText:"",showDeleteButton:!0,clickFuncStr:"",buttons:(0,p.reactDeepArray)(b,(function(e,t){return e.normalImageUri===t.normalImageUri&&e.normalImageSize===t.normalImageSize&&e.hoveredImageUri===t.hoveredImageUri&&e.hoveredImageSize===t.hoveredImageSize&&e.pressedImageUri===t.pressedImageUri&&e.pressedImageSize===t.pressedImageSize&&e.text===t.text&&e.title===t.title&&e.sceneObjectType===t.sceneObjectType}),(function(e){return i({},e)})),backgroundColor:(0,p.reactArray)([0,0,0,.8]),backgroundRadius:4,borderWidth:0,borderColor:(0,p.reactArray)([1,1,1,.3]),padding:4,gap:10,direction:"row",buttonRadius:32,buttonBackgroundColor:(0,p.reactArray)([0,0,0,1]),buttonBorderWidth:2,buttonBorderColor:(0,p.reactArray)([1,1,1,.5]),buttonTextColor:(0,p.reactArray)([1,1,1,1]),buttonFontSize:20})}}(_=t.TempObjsCreatorTool||(t.TempObjsCreatorTool={})),t.TempObjsCreatorTool=_,(0,p.extendClassProps)(_.prototype,_.createDefaultProps)},90436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tempObjsCreatorButtonsMd=void 0,t.tempObjsCreatorButtonsMd='TempObjsCreatorTool buttons :\n\n<a href="javascript:void(0);" >https://www.wolai.com/vtxf/v8sAMptXh4yzX3edQ4WP6z</a>\n'},7156:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(43632),s=r(59645),c=function(e){function t(t,r,n){var o,s,c,l=e.call(this,t)||this;return l._sceneObject=r,l._viewUI=n,l._resetting=(s=(o=l.owner).views,c=o.currentViewIndex,void s.forEach((function(e,t){var r=document.createElement("div");l._viewUI.appendChild(r),r.style.boxSizing="border-box",r.style.cursor="pointer";var n=l._viewUI.querySelectorAll("div");c===t&&(n.forEach((function(e,t){e.style.border="none"})),r.style.border="1.5px solid ".concat((0,a.xe2ColorToCssColor)(l._sceneObject.highLightColor))),r.addEventListener("click",(function(){l.owner.setCurrentView(t),n.forEach((function(e,t){e.style.border="none"})),t===c&&(r.style.border="1.5px solid ".concat((0,a.xe2ColorToCssColor)(l._sceneObject.highLightColor))),l.owner.flyToView(t)})),e.thumbnail?(r.style.background="url(".concat(e.thumbnail,") no-repeat"),r.style.backgroundSize="100% 100%"):r.style.backgroundColor="#e6e6e673";var o=function(){r.style.width="".concat(l._sceneObject.thumbnailSize,"px"),r.style.height="".concat(l._sceneObject.thumbnailSize,"px"),r.style.borderRadius="".concat(l._sceneObject.radius,"px"),c===t&&(n.forEach((function(e,t){e.style.border="none"})),r.style.border="1.5px solid ".concat((0,a.xe2ColorToCssColor)(l._sceneObject.highLightColor))),l._viewUI.style.gap="".concat(l._sceneObject.gap,"px")};o();var s=l.disposeVar((0,i.createNextAnimateFrameEvent)(l._sceneObject.gapChanged,l._sceneObject.thumbnailSizeChanged,l._sceneObject.radiusChanged,l._sceneObject.highLightColorChanged));l.dispose(s.disposableOn(o))}))),l}return o(t,e),Object.defineProperty(t.prototype,"resetting",{get:function(){return this._resetting},enumerable:!1,configurable:!0}),t}(i.HasOwner),l=function(e){function t(t,r,n){var o=e.call(this)||this;return o._attachObj=t,o._sceneObject=r,o._viewCollectionSceneObject=n,o._resetting=function(){var e=document.createElement("div");e.setAttribute("m3t-div","MyviewCollectionUIBoxUI container"),o._attachObj.viewCollectionUI.appendChild(e),o.dispose((function(){return o._attachObj.div.removeChild(e)})),e.style.height="100%",e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="center",e.style.overflowX="auto";var t=o.disposeVar((0,i.createNextAnimateFrameEvent)(o._viewCollectionSceneObject.viewsChanged,o._viewCollectionSceneObject.currentViewIndexChanged));o.disposeVar(new s.ObjResettingWithEvent(t,(function(){return e.innerHTML="",new c(o._viewCollectionSceneObject,o._sceneObject,e)})))}(),o}return o(t,e),Object.defineProperty(t.prototype,"resetting",{get:function(){return this._resetting},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._viewCollectionUI=function(){var t=document.createElement("div");t.setAttribute("m3t-div","viewCollectionUI container"),o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.minWidth="64px",t.style.height="100%",t.style.padding="0 13px",t.style.borderRadius="7px";var r=function(){t.style.backgroundColor=(0,a.xe2ColorToCssColor)(e.backgroundColor)};r();var n=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.backgroundColorChanged));return o.dispose(n.disposableOn(r)),t}(),o._targetDivSceneObjectWithId=o.disposeVar(new s.SceneObjectWithId),o._targetDivSceneObjectWithIdInit=o.dispose((0,i.track)([o._targetDivSceneObjectWithId,"id"],[e,"targetID"])),o._targetDivIdResetting=o.disposeVar(new s.ObjResettingWithEvent(o.targetDivSceneObjectWithId.sceneObjectChanged,(function(){var t=o.targetDivSceneObjectWithId.sceneObject;if(t&&"ViewCollection"===t.typeName)return new l(o,e,t);o._viewCollectionUI.innerHTML=""}))),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"viewCollectionUI",{get:function(){return this._viewCollectionUI},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"targetDivSceneObjectWithId",{get:function(){return this._targetDivSceneObjectWithId},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},93487:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewCollectionUI=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(33157),p=r(21036),d=r(61384),h=r(7156),g=function(e){function t(t){var r,n=e.call(this,t)||this;return n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(f.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,h.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"ViewCollectionUI"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,f.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],p.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],p.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],p.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",d.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("ViewCollectionUI","ViewCollectionUI",[new c.StringProperty("targetID","targetID",!0,!1,[this,"targetID"]),new c.ColorProperty("","",!1,!1,[this,"backgroundColor"]),new c.NumberProperty("gap","gap",!1,!1,[this,"gap"]),new c.NumberProperty("thumbnailSize","thumbnailSize",!1,!1,[this,"thumbnailSize"]),new c.NumberProperty("radius","radius",!1,!1,[this,"radius"]),new c.ColorProperty("","",!1,!1,[this,"highLightColor"])])],!1)},r=t,t.type=r.register("ViewCollectionUI",r,{chsName:"ViewCollectionUI",tags:["ESObjects"],description:"ViewCollectionUI"}),t.defaultSize={height:"90px",width:"auto"},t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"LeftTop"},t.defaultSize)}),t}(c.ESSceneObject);t.ViewCollectionUI=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"CenterBottom",width:0,height:80,cssText:"bottom: 10px;",targetID:"",thumbnailSize:64,gap:10,radius:5,highLightColor:(0,l.reactArray)([1,1,1,1]),backgroundColor:(0,l.reactArray)([.11,.11,.11,.6])})}}(g=t.ViewCollectionUI||(t.ViewCollectionUI={})),t.ViewCollectionUI=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},24792:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(80468),a=r(51355),s=r(4659),c=r(66012);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o,l=t.call(this)||this;return l._div=r,l._viewer=n,l._buttons=(o=l.disposeVar(i.SceneObject.createFromClass(c.RectangleButtonsTool)),l.dispose((function(){return e.components.disposableAdd(o)})),l.dispose((0,a.track)([o,"show"],[e,"show"])),l.dispose((0,a.track)([o,"buttonWidth"],[e,"buttonWidth"])),l.dispose((0,a.track)([o,"buttonHeight"],[e,"buttonHeight"])),l.dispose((0,a.track)([o,"buttonBackgroundColor"],[e,"buttonBackgroundColor"])),l.dispose((0,a.track)([o,"gap"],[e,"gap"])),l.dispose((0,a.bind)([o,"layoutType"],[e,"buttonsLayoutType"])),l.dispose((0,a.bind)([o,"cssText"],[e,"buttonsCssText"])),o.layoutDiv.setLayoutStyle(s.MyFooter.defaults.defaultButtonsLayoutStyle),l.dispose((0,a.track)([o,"buttons"],[e,"buttons"])),l.dispose((0,a.bind)([o,"buttonLayoutType"],[e,"buttonLayoutType"])),l.dispose((0,a.bind)([o,"buttonCssText"],[e,"buttonCssText"])),l.dispose((0,a.track)([o,"textColor"],[e,"textColor"])),l.dispose((0,a.track)([o,"fontSize"],[e,"fontSize"])),l.dispose((0,a.track)([o,"fontWeight"],[e,"fontWeight"])),l.dispose((0,a.track)([o,"letterSpacing"],[e,"letterSpacing"])),l.dispose((0,a.track)([o,"textShadow"],[e,"textShadow"])),l.dispose((0,a.track)([o,"textLayoutType"],[e,"textLayoutType"])),l.dispose((0,a.track)([o,"textCssText"],[e,"textCssText"])),l.dispose(o.clickEvent.disposableOn((function(t,r){e.clickEvent.emit(t,r)}))),o.backgroundColor=[0,0,0,0],o.padding=0,o.buttonBackgroundColor=[0,0,0,0],o.buttonBorderWidth=0,o.buttonBorderRadius=0,o),l._footer=function(){var t=document.createElement("div");l.div.appendChild(t),t.style.width="100%",t.style.height="100%",l.dispose((function(){return l.div.removeChild(t)})),l._buttons&&(l._buttons.container=t);var r=function(){var r=e.finalImageUri,n=e.backgroundColor;t.style.background="url(".concat(r,") no-repeat"),t.style.backgroundSize="100% 100%",t.style.filter="hue-rotate(".concat(n,"deg)")};r();var n=l.disposeVar((0,a.createNextAnimateFrameEvent)(e.finalImageUriChanged,e.backgroundColorChanged));l.dispose(n.disposableOn(r))}(),l}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttonsContainer",{get:function(){return this._buttonsContainer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buttons",{get:function(){return this._buttons},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"footer",{get:function(){return this._footer},enumerable:!1,configurable:!0}),r}(a.Destroyable);return function(e,r){return new t(e,r)}}},4659:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyFooter=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(6997),d=r(33563),h=r(33157),g=r(21036),y=r(61384),m=r(17012),v=r(33576),b=r(24792),w=function(e){function t(t){var r,n=e.call(this,t)||this;n._finalImageUri=n.disposeVar(u.SceneObject.context.createEnvStrReact([n,"imageUri"])),n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(h.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,b.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n._clickEvent=n.disposeVar(new l.Event),n._clickFunc=n.disposeVar((0,l.react)(void 0)),n._clickFuncInit=void n.dispose(n.clickEvent.disposableOn((function(e,t){return n.clickFunc&&n.clickFunc(e,t)}))),n._initEvent=n.disposeVar(new l.Event);var o=function(){var e=(0,p.getFuncFromStr)(n.clickFuncStr);e&&(n.clickFunc=e)};return o(),n.dispose(n.clickFuncStrChanged.disposableOn(o)),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyFooter"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this._finalImageUri.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this._finalImageUri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFunc",{get:function(){return this._clickFunc.value},set:function(e){this._clickFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickFuncChanged",{get:function(){return this._clickFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initEvent",{get:function(){return this._initEvent},enumerable:!1,configurable:!0}),t.prototype.init=function(){this._initEvent.emit()},t.prototype.setCss=function(){var e="\n        height: ".concat(this.fontSize,"px;\n        font-size: ").concat(this.fontSize,"px;\n        line-height: ").concat(this.fontSize,"px;\n        font-weight: ").concat(this.fontWeight,";\n        letter-spacing: ").concat(this.letterSpacing,"px;\n        text-shadow: ").concat(this.textShadow,";\n        color: ").concat((0,p.xe2ColorToCssColor)(this.textColor),";\n        ");this.textCssText=e},t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){var n=this;return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,h.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],g.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],g.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],g.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",y.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyFooter","MyFooter",[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new f.EvalString2Property("clickFuncStr","clickFuncStr",!1,!1,[this,"clickFuncStr"],"",t.defaultButtonsClickFuncStrMd),new f.Json2Property("buttons","buttons",!1,!1,[this,"buttons"],s([],a(t.defaultButtons),!1),t.rectangleButtonsToolButtonsMd),new c.EnumProperty("","",!1,!1,[this,"buttonsLayoutType"],g.myCustomDivLayoutTypeEnums),new f.LongString2Property("buttonCssText","css",!1,!1,[this,"buttonsCssText"],m.MyLabel.defaults.defaultTextCssText,m.MyLabel.defaultTextCssTextMd)]),new c.GroupProperty("","",[new c.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"]),new c.NumberSliderProperty("","",!1,!1,[this,"backgroundColor"],.1,[0,360])]),new c.GroupProperty("","",[new c.NumberProperty("","",!1,!1,[this,"buttonWidth"]),new c.NumberProperty("","",!1,!1,[this,"buttonHeight"]),new c.ColorProperty("","",!1,!1,[this,"buttonBackgroundColor"]),new c.NumberProperty("gap","gap",!1,!1,[this,"gap"]),new c.EnumProperty("","",!1,!1,[this,"buttonLayoutType"],g.myCustomDivLayoutTypeEnums),new f.LongString2Property("buttonCssText","css",!1,!1,[this,"buttonCssText"],m.MyLabel.defaults.defaultTextCssText,m.MyLabel.defaultTextCssTextMd)]),new c.GroupProperty("","",[new c.ColorProperty("","",!1,!1,[this,"textColor"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"]),new c.StringProperty("","",!1,!1,[this,"fontWeight"]),new c.NumberProperty("","",!1,!1,[this,"letterSpacing"]),new c.StringProperty("","",!1,!1,[this,"textShadow"]),new c.FunctionProperty("css","css",[],(function(){return n.setCss()}),[]),new c.EnumProperty("","",!1,!1,[this,"textLayoutType"],g.myCustomDivLayoutTypeEnums),new f.LongString2Property("textCssText","css",!1,!1,[this,"textCssText"],m.MyLabel.defaults.defaultTextCssText,m.MyLabel.defaultTextCssTextMd)])])],!1)},r=t,t.type=r.register("MyFooter",r,{chsName:"MyFooter",tags:["ESObjects"],description:"MyFooter"}),t.defaultButtons=[{text:"",normalImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/weixuanzhong.png",hoveredImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/xuanzhong.png",pressedImageUri:"",highlightedImageUri:"",highlightOnClick:!1,highlighted:!1},{text:"",normalImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/weixuanzhong.png",hoveredImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/xuanzhong.png",pressedImageUri:"",highlightedImageUri:"",highlightOnClick:!1,highlighted:!1},{text:"",normalImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/weixuanzhong.png",hoveredImageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/xuanzhong.png",pressedImageUri:"",highlightedImageUri:"",highlightOnClick:!1,highlighted:!1}],t.defaultSize={width:"700px",height:"70px"},t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"CenterBottom"},t.defaultSize),defaultButtonsLayoutStyle:{type:"Center",top:"65%"},defaultTextLayoutStyle:{type:"Center"}}),t.defaultButtonsClickFuncStrMd=d.defaultButtonsClickFuncStrMd,t.rectangleButtonsToolButtonsMd=v.rectangleButtonsToolButtonsMd,t}(c.ESSceneObject);t.MyFooter=w,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"CenterBottom",width:0,height:0,cssText:"width: 100%; height: 70px;",clickFuncStr:"",layoutCssText:h.LayoutDiv.defaultCssText,buttons:(0,l.reactDeepArray)(s([],a(e.defaultButtons),!1),(function(e,t){return e.highlighted===t.highlighted&&e.highlightOnClick===t.highlightOnClick&&e.normalImageUri===t.normalImageUri&&e.hoveredImageUri===t.hoveredImageUri&&e.pressedImageUri===t.pressedImageUri&&e.highlightedImageUri===t.highlightedImageUri&&e.text===t.text&&e.text===t.text}),(function(e){return i({},e)})),imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/footer.png",backgroundColor:0,buttonsLayoutType:"CenterBottom",buttonsCssText:"bottom: 10px;",buttonWidth:82,buttonHeight:30,buttonBackgroundColor:(0,l.reactArray)([0,0,0,1]),gap:10,buttonLayoutType:"None",buttonCssText:"",textColor:(0,l.reactArray)([1,1,1,1]),fontSize:16,fontWeight:"normal",letterSpacing:0,textShadow:"none",textLayoutType:"Center",textCssText:""})}}(w=t.MyFooter||(t.MyFooter={})),t.MyFooter=w,(0,l.extendClassProps)(w.prototype,w.createDefaultProps)},54158:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n,o){var a=t.call(this,r)||this;return a._div=n,a._viewer=o,a._banner=function(){var t=document.createElement("div");a.div.appendChild(t),a.dispose((function(){return a.div.removeChild(t)})),t.style.width="100%",t.style.height="100%",t.style.position="relative";var r=document.createElement("div");t.appendChild(r),r.style.width="100%",r.style.height="100%";var n=document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.top="0",n.style.width="100%",n.style.height="100%",t.appendChild(n),e.label&&(e.label.container=n);var o=function(){var t=e.finalImageUri,n=e.backgroundColorHueRotate;r.style.background="url(".concat(t,") no-repeat"),r.style.backgroundSize="100% 100%",r.style.filter="hue-rotate(".concat(n,"deg)")};o();var s=a.disposeVar((0,i.createNextAnimateFrameEvent)(e.finalImageUriChanged,e.backgroundColorHueRotateChanged));a.dispose(s.disposableOn(o))}(),a}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"banner",{get:function(){return this._banner},enumerable:!1,configurable:!0}),r}(i.HasOwner);return function(r,n){return new t(e,r,n)}}},52657:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyHeader=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(33157),d=r(21036),h=r(61384),g=r(17012),y=r(54158),m=function(e){function t(t){var r,n=e.call(this,t)||this;return n._finalImageUri=n.disposeVar(u.SceneObject.context.createEnvStrReact([n,"imageUri"])),n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(p.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,y.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n._label=function(){var e=n.disposeVar(u.SceneObject.createFromClass(g.MyLabel));n.dispose(n.components.disposableAdd(e)),n.dispose((0,l.track)([e,"text"],[n,"text"])),n.dispose((0,l.track)([e,"show"],[n,"show"])),n.dispose((0,l.track)([e,"layoutType"],[n,"textLayoutType"])),n.dispose((0,l.track)([e,"color"],[n,"textColor"])),n.dispose((0,l.track)([e,"fontSize"],[n,"fontSize"])),n.dispose((0,l.track)([e,"height"],[n,"fontSize"])),n.dispose((0,l.track)([e,"fontWeight"],[n,"fontWeight"])),n.dispose((0,l.track)([e,"letterSpacing"],[n,"letterSpacing"]));var t=function(){e.cssText="line-height: ".concat(n.fontSize,"px;\nfont-weight: ").concat(n.fontWeight,";\nletter-spacing: ").concat(n.letterSpacing,"px;\n").concat(n.textCssText,";\n")};t();var r=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.fontSizeChanged,n.fontWeightChanged,n.letterSpacingChanged,n.textCssTextChanged));return n.dispose(r.disposableOn(t)),e.width=0,e.backgroundColor=[1,1,1,0],e}(),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyHeader"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this._finalImageUri.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this._finalImageUri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],p.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],p.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyHeader","MyHeader",[new c.GroupProperty("","",[new c.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"]),new c.NumberSliderProperty("",", 0-360",!1,!1,[this,"backgroundColorHueRotate"],.1,[0,360])]),new c.GroupProperty("","",[new c.StringProperty("","",!1,!1,[this,"text"]),new c.ColorProperty("","",!1,!1,[this,"textColor"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"]),new c.NumberProperty("","",!1,!1,[this,"fontWeight"]),new c.NumberProperty("","",!1,!1,[this,"letterSpacing"]),new c.EnumProperty("","",!1,!1,[this,"textLayoutType"],d.myCustomDivLayoutTypeEnums),new f.LongString2Property("textCssText","css",!1,!1,[this,"textCssText"],g.MyLabel.defaults.defaultTextCssText,g.MyLabel.defaultTextCssTextMd)])])],!1)},r=t,t.type=r.register("MyHeader",r,{chsName:"MyHeader",tags:["ESObjects"],description:"MyHeader"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.MyHeader=m,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:0,height:60,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"width: 100%;",imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/title.png",backgroundColorHueRotate:0,textColor:(0,l.reactArray)([1,1,1,1]),text:"XXXXXXXX",fontSize:24,fontWeight:700,letterSpacing:5,textLayoutType:"CenterTop",textCssText:"top: 5px;"})}}(m=t.MyHeader||(t.MyHeader={})),t.MyHeader=m,(0,l.extendClassProps)(m.prototype,m.createDefaultProps)},68143:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(43632),s=r(59645),c=function(e){function t(t,r){var n=e.call(this)||this;return n._targetDiv=t,n._container=r,n._targetDiv.container=n._container,n.dispose((function(){n._targetDiv.container=void 0})),n}return o(t,e),t}(i.Destroyable),l=function(e){function t(t,r,n,o){var i=e.call(this,t)||this;return i._container=r,i._index=n,i._id=o,i._targetDivSceneObjectWithId=i.disposeVar(new s.SceneObjectWithId),i.init=void(i._targetDivSceneObjectWithId.id=i._id),i._targetDivIdResetting=i.disposeVar(new s.ObjResettingWithEvent(i.targetDivSceneObjectWithId.sceneObjectChanged,(function(){var e=i.targetDivSceneObjectWithId.sceneObject;if(e&&"container"in e)return new c(e,i._container)}))),i}return o(t,e),Object.defineProperty(t.prototype,"targetDivSceneObjectWithId",{get:function(){return this._targetDivSceneObjectWithId},enumerable:!1,configurable:!0}),t}(i.HasOwner),u=function(e){function t(t,r){var n=e.call(this)||this;return n._sceneObject=t,n._container=r,n._sceneObjectIdWrappers=n._sceneObject.sceneObjectIds.map((function(e,t){return n.disposeVar(new l(n._sceneObject,n._container,t,e))})),n}return o(t,e),t}(i.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._panel=function(){var t=document.createElement("div");o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.overflow="hidden",t.style.pointerEvents="all",t.style.width="100%",t.style.height="100%";var r=document.createElement("div");t.appendChild(r),r.style.width="100%",r.style.position="relative",e.title&&(e.title.container=r);var n=document.createElement("div");o._panelContent=n,t.appendChild(n),n.style.width="100%",n.style.position="relative",n.style.display="flex";var s=function(){r.style.height="".concat(e.titleHeight,"px"),n.style.height="calc(100% - ".concat(e.titleHeight,"px)"),n.style.backgroundColor=(0,a.xe2ColorToCssColor)(e.contentColor),n.style.flexDirection=e.direction,n.style.flexWrap=e.wrap};s();var c=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.titleHeightChanged,e.contentColorChanged,e.directionChanged,e.wrapChanged));return o.dispose(c.disposableOn(s)),{panel:t}}(),o._sceneObjectIdsResetting=o.disposeVar(new s.ObjResettingWithEvent(e.sceneObjectIdsChanged,(function(){if(0!=e.sceneObjectIds.length)return new u(e,o._panelContent)}))),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"panelContent",{get:function(){return this._panelContent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},12370:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyPanel=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(6997),d=r(33157),h=r(21036),g=r(61384),y=r(17012),m=r(52657),v=r(68143),b=function(e){function t(t){var r,n=e.call(this,t)||this;return n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(d.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,v.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n._title=function(){var e=n.disposeVar(u.SceneObject.createFromClass(m.MyHeader));n.dispose(n.components.disposableAdd(e)),e.height=0,n.dispose((0,l.track)([e,"imageUri"],[n,"imageUri"])),n.dispose((0,l.track)([e,"backgroundColorHueRotate"],[n,"backgroundColorHueRotate"])),n.dispose((0,l.track)([e,"text"],[n,"text"])),n.dispose((0,l.track)([e,"textColor"],[n,"textColor"])),n.dispose((0,l.track)([e,"fontSize"],[n,"fontSize"])),n.dispose((0,l.track)([e,"fontWeight"],[n,"fontWeight"])),n.dispose((0,l.track)([e,"letterSpacing"],[n,"letterSpacing"])),n.dispose((0,l.track)([e,"textLayoutType"],[n,"textLayoutType"])),e.layoutType="FullScreen";var t=function(){var t,r="\nline-height: ".concat(n.fontSize,"px;\nfont-weight: ").concat(n.fontWeight,";\nletter-spacing: ").concat(n.letterSpacing,"px;\ntext-shadow: ").concat(n.textShadow,";\ncolor: ").concat((0,p.xe2ColorToCssColor)(n.textColor),";\n").concat(null!==(t=n.textCssText)&&void 0!==t?t:"");e.textCssText=r};t();var r=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.textChanged,n.textColorChanged,n.fontSizeChanged,n.fontWeightChanged,n.letterSpacingChanged,n.textShadowChanged,n.cssTextChanged));return n.dispose(r.disposableOn(t)),e}(),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyPanel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleFinalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleFinalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},t.prototype.setTextLayoutStyle=function(e){this.title.label.layoutDiv.setLayoutStyle(e)},t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,d.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],h.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],h.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],h.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],d.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],d.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",g.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("MyPanel","MyPanel",[new c.GroupProperty("","",[new c.StringsProperty("sceneObjectIds","sceneObjectIds",!1,!1,[this,"sceneObjectIds"]),new c.EnumProperty("","",!1,!1,[this,"direction"],t.directions.map((function(e){return[e,e]}))),new c.EnumProperty("","",!1,!1,[this,"wrap"],t.wrap.map((function(e){return[e,e]})))]),new c.GroupProperty("","",[new c.NumberProperty("titleHeight","titleHeight",!1,!1,[this,"titleHeight"]),new c.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"]),new c.NumberSliderProperty("",", 0-360",!1,!1,[this,"backgroundColorHueRotate"],.1,[0,360]),new c.StringProperty("","",!1,!1,[this,"text"]),new c.ColorProperty("","",!1,!1,[this,"textColor"]),new c.NumberProperty("fontSize","fontSize",!1,!1,[this,"fontSize"]),new c.NumberProperty("","",!1,!1,[this,"fontWeight"]),new c.NumberProperty("","",!1,!1,[this,"letterSpacing"]),new c.EnumProperty("","",!1,!1,[this,"textLayoutType"],h.myCustomDivLayoutTypeEnums),new f.LongString2Property("textCssText","css",!1,!1,[this,"textCssText"],y.MyLabel.defaults.defaultTextCssText,y.MyLabel.defaultTextCssTextMd),new c.LongStringProperty("titleFinalCssText","titleFinalCssText",!1,!0,[this,"titleFinalCssText"])]),new c.GroupProperty("","",[new c.ColorProperty("","",!1,!1,[this,"contentColor"])])])],!1)},r=t,t.type=r.register("MyPanel",r,{chsName:"MyPanel",tags:["ESObjects"],description:"MyPanel"}),t.defaultSize={width:"400px",height:"300px"},t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"LeftTop"},t.defaultSize),defaultTitleLayoutStyle:{type:"FullScreen",width:"100%",height:"100%"},defaultTextLayoutStyle:{type:"LeftCenter",top:"22px",left:"20px"}}),t.directions=["row","row-reverse","column","column-reverse"],t.wrap=["nowrap","wrap"],t}(c.ESSceneObject);t.MyPanel=b,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:400,height:0,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"",proxy:"auto",sceneObjectIds:(0,l.reactArray)([]),direction:"row",wrap:"nowrap",titleHeight:45,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/biaoti.png",backgroundColorHueRotate:0,text:"",textColor:(0,l.reactArray)([1,1,1,1]),fontSize:16,fontWeight:700,letterSpacing:5,textShadow:"none",textLayoutType:"LeftTop",textCssText:"width: 100%; height: 100%; left: 16px; top: 16px;",contentColor:(0,l.reactArray)([.04,.4,.9,.2])})}}(b=t.MyPanel||(t.MyPanel={})),t.MyPanel=b,(0,l.extendClassProps)(b.prototype,b.createDefaultProps)},6425:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(6997);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._info=function(){var t=document.createElement("div");o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.width="200px",t.style.height="120px",t.style.display="flex";var r=document.createElement("div");t.appendChild(r),r.style.width="40%",r.style.height="100%",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center";var n=document.createElement("div");r.appendChild(n),n.style.width="50px",n.style.height="50px";var s=document.createElement("div");t.appendChild(s),s.style.width="60%",s.style.height="100%",s.style.display="flex",s.style.justifyContent="center",s.style.alignItems="center";var c=[.18,.7,.68,1],l=document.createElement("div");s.appendChild(l),l.style.display="flex",l.style.width="100%",l.style.flexDirection="column";var u=document.createElement("div");l.appendChild(u),u.style.color="".concat((0,a.xe2ColorToCssColor)(c.map((function(e){return.8*e})))),u.innerText="",u.style.fontSize="12px",u.style.width="100%",u.style.overflow="hidden",u.style.textOverflow="ellipsis",u.style.whiteSpace="nowrap",u.style.marginBottom="5px";var f=document.createElement("div");l.appendChild(f),f.innerText="",f.style.color="#fff",f.style.fontSize="10px",f.style.width="100%",f.style.overflow="hidden",f.style.textOverflow="ellipsis",f.style.whiteSpace="nowrap",f.style.marginBottom="5px";var p=document.createElement("div");l.appendChild(p),p.innerText="506",p.style.color="".concat((0,a.xe2ColorToCssColor)(c)),p.style.fontSize="26px",p.style.fontWeight="700",p.style.width="100%",p.style.overflow="hidden",p.style.textOverflow="ellipsis",p.style.whiteSpace="nowrap";var d=function(){u.innerText="".concat(e.title),f.innerText="".concat(e.unit),p.innerText="".concat(e.num),n.style.background="url(".concat(e.finalImageUri,") no-repeat"),n.style.backgroundSize="100% 100%",n.style.width="".concat(e.imageWidth,"px"),n.style.height="".concat(e.imageWidth,"px");var t=e.textColor.map((function(e){return.8*e}));u.style.color="".concat((0,a.xe2ColorToCssColor)(t)),p.style.color="".concat((0,a.xe2ColorToCssColor)(e.textColor))};d();var h=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.titleChanged,e.unitChanged,e.numChanged,e.imageWidthChanged,e.finalImageUriChanged,e.textColorChanged));o.dispose(h.disposableOn(d))}(),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"info",{get:function(){return this._info},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},76780:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyResourceInfo=void 0;var c=r(42626),l=r(6997),u=r(80468),f=r(51355),p=r(59645),d=r(33157),h=r(6425),g=function(e){function t(r){var n,o=e.call(this,r)||this;return o._urlWithFileAndProxy=o.disposeVar(new l.UrlWithFileOrProxy(o.imageUriReact,o.proxyReact)),o._layoutDiv=(n=o.disposeVar(p.SceneObject.createFromClass(d.LayoutDiv)),o.dispose(o.components.disposableAdd(n)),n.createAttachedObjFunc=(0,h.getCreateAttachedObjFunc)(o),n),o.dispose((0,f.track)([o._layoutDiv,"show"],[o,"show"])),o.dispose((0,f.bind)([o._layoutDiv,"cssText"],[o,"layoutCssText"])),o._layoutDiv.setLayoutStyle(t.defaults.defaultLayoutStyle),o.dispose((0,f.track)([o._layoutDiv,"allowPicking"],[o,"allowPicking"])),o.dispose((0,f.track)([o._layoutDiv,"containerId"],[o,"containerId"])),o.dispose((0,f.track)([o._layoutDiv,"shadowDom"],[o,"shadowDom"])),o.dispose((0,f.track)([o._layoutDiv,"cssAllInitial"],[o,"cssAllInitial"])),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyResourceInfo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlWithFileAndProxy",{get:function(){return this._urlWithFileAndProxy},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this.urlWithFileAndProxy.finalUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this.urlWithFileAndProxy.finalUrlChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},t.prototype.getProperties=function(t){var r=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(show)",!1,!1,[this,"show"]),new u.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new u.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"]),new u.StringProperty("imageWidth","imageWidth",!1,!1,[this,"imageWidth"])]),new u.GroupProperty("","",[new u.ColorProperty("","",!1,!1,[this,"textColor"]),new u.StringProperty("","",!1,!1,[this,"title"]),new u.StringProperty("","",!1,!1,[this,"unit"]),new u.NumberProperty("","",!1,!1,[this,"num"])]),new u.GroupProperty("","",[new c.LongString2Property("layoutCssText","layoutCssText",!0,!1,[this,"layoutCssText"],d.LayoutDiv.defaultCssText,d.LayoutDiv.defaultCssTextMd),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"LeftTop"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"CenterTop"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"RightTop"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"LeftCenter"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"Center"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"RightCenter"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"LeftBottom"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"CenterBottom"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"RightBottom"})}),[]),new u.FunctionProperty("","",[],(function(){return r.setLayoutStyle({type:"FullScreen"})}),[])]),new u.GroupProperty("","",[new u.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],u.CustomDiv.defaults.containerId),new u.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new u.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"])])],!1)},r=t,t.type=r.register("MyResourceInfo",r,{chsName:"MyResourceInfo",tags:["ESObjects"],description:"MyResourceInfo"}),t.defaults=i(i({},u.ESSceneObject.defaults),{defaultLayoutStyle:{type:"LeftTop"}}),t}(u.ESSceneObject);t.MyResourceInfo=g,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:!0,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/info/ylj_car.png",proxy:"auto",title:"",unit:"",imageWidth:40,num:65,textColor:[.18,.7,.68,1],layoutCssText:d.LayoutDiv.defaultCssText,allowPicking:!1,containerId:null,shadowDom:!1,cssAllInitial:!1})}}(g=t.MyResourceInfo||(t.MyResourceInfo={})),t.MyResourceInfo=g,(0,f.extendClassProps)(g.prototype,g.createDefaultProps)},92017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExtraCssMd=void 0,t.defaultExtraCssMd="extraCssdivdiv100%400px\n```\n{\n    height : 100%;\n    width : 400px;                                                                                    \n}\n```\n\n"},28453:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(43632),s=r(74312),c=r(59645),l=function(e){function t(t,r){var n=e.call(this)||this;return n._targetDiv=t,n._container=r,n._targetDiv.container=n._container,n.dispose((function(){n._targetDiv.container=void 0})),n}return o(t,e),t}(i.Destroyable),u=function(e){function t(t,r,n,o){var a=e.call(this,t)||this;return a._container=r,a._index=n,a._id=o,a._targetID=a.disposeVar((0,i.react)(a._id)),a._targetDivSceneObjectWithId=a.disposeVar(new c.SceneObjectWithId),a._targetDivSceneObjectWithIdInit=a.dispose((0,i.track)([a._targetDivSceneObjectWithId,"id"],[a,"targetID"])),a._event=a.disposeVar((0,i.createNextAnimateFrameEvent)(a.targetDivSceneObjectWithId.sceneObjectChanged)),a._targetDivIdResetting=a.disposeVar(new c.ObjResettingWithEvent(a.event,(function(){var e=a.targetDivSceneObjectWithId.sceneObject;if(e&&"container"in e)return new l(e,a._container)}))),a}return o(t,e),Object.defineProperty(t.prototype,"targetID",{get:function(){return this._targetID.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetIDChanged",{get:function(){return this._targetID.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetDivSceneObjectWithId",{get:function(){return this._targetDivSceneObjectWithId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this._event},enumerable:!1,configurable:!0}),t}(i.HasOwner),f=function(e){function t(t,r){var n=e.call(this)||this;return n._sceneObject=t,n._container=r,n._sceneObjectIdWrappers=n._sceneObject.sceneObjectIds.map((function(e,t){return n.disposeVar(new u(n._sceneObject,n._container,t,e))})),n}return o(t,e),t}(i.Destroyable);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._sidebar=function(){var t=document.createElement("div");o._sidebarContent=t,o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.position="relative",t.style.display="flex",t.style.height="100%",t.style.width="100%",t.style.pointerEvents="none",t.style.transition="transform 0.6s ease-in-out";var r=document.createElement("div");t.appendChild(r),r.style.cssText="\n            width: 25px;\n            height: 50px;\n            line-height: 50px;\n            align-self: center;\n            position: absolute;\n            top:50%;\n            text-align: center;\n            color: #fff;\n            z-index: 9999;\n            background-color: #0a3790;\n            outline: none;\n            cursor: pointer;\n            pointer-events: all;\n\n            ",r.onclick=function(){e.collapsed=!e.collapsed};var n=function(){e.layoutDiv.setLayoutStyle({type:e.layoutMode,extraCss:"pointer-events: none;"+s.MySidebar.defaults.extraCss+e.extraCss}),t.style.background="url(".concat(e.finalImageUri,") no-repeat"),t.style.backgroundSize="100% 100%",t.style.flexDirection=e.direction,t.style.flexWrap=e.wrap,t.style.gap="".concat(e.gap,"px"),"LeftBottom"===e.layoutMode?(r.style.transform="translate(100%, -50%)",r.style.left="unset",r.style.right="0",r.style.borderTopLeftRadius="0px",r.style.borderTopRightRadius="15px",r.style.borderBottomLeftRadius="0px",r.style.borderBottomRightRadius="15px",t.style.transform=e.collapsed?"translateX(0)":"translateX(-100%)",r.innerText=e.collapsed?"":""):(r.style.transform="translate(-100%, -50%)",r.style.right="unset",r.style.left="0",r.style.borderTopLeftRadius="15px",r.style.borderTopRightRadius="0px",r.style.borderBottomLeftRadius="15px",r.style.borderBottomRightRadius="0px",t.style.transform=e.collapsed?"translateX(0)":"translateX(100%)",r.innerText=e.collapsed?"":""),r.style.display=e.collapsedButtonShow?"block":"none",r.style.backgroundColor=(0,a.xe2ColorToCssColor)(e.slideColor)};n();var c=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.extraCssChanged,e.finalImageUriChanged,e.directionChanged,e.wrapChanged,e.layoutModeChanged,e.gapChanged,e.slideColorChanged,e.collapsedButtonShowChanged,e.collapsedChanged));o.dispose(c.disposableOn(n))}(),o._event=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.sceneObjectIdsChanged)),o._sceneObjectIdsResetting=o.disposeVar(new c.ObjResettingWithEvent(o._event,(function(){if(0!=e.sceneObjectIds.length)return new f(e,o._sidebarContent)}))),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sidebarContent",{get:function(){return this._sidebarContent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sidebar",{get:function(){return this._sidebar},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this._event},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},74312:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MySidebar=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(33157),d=r(21036),h=r(61384),g=r(30884),y=r(92017),m=r(28453),v=function(e){function t(t){var r,n=e.call(this,t)||this;return n._finalImageUri=n.disposeVar(u.SceneObject.context.createEnvStrReact([n,"imageUri"])),n._layoutDiv=(r=n.disposeVar(u.SceneObject.createFromClass(p.LayoutDiv)),n.dispose(n.components.disposableAdd(r)),r.createAttachedObjFunc=(0,m.getCreateAttachedObjFunc)(n),n.dispose((0,l.track)([r,"show"],[n,"show"])),n.dispose((0,l.track)([r,"containerId"],[n,"containerId"])),n.dispose((0,l.track)([r,"shadowDom"],[n,"shadowDom"])),n.dispose((0,l.track)([r,"cssAllInitial"],[n,"cssAllInitial"])),n.dispose((0,l.track)([r,"interaction"],[n,"interaction"])),n.dispose((0,l.track)([r,"visibility"],[n,"visibility"])),n.dispose((0,l.track)([r,"layoutType"],[n,"layoutType"])),n.dispose((0,l.track)([r,"width"],[n,"width"])),n.dispose((0,l.track)([r,"height"],[n,"height"])),n.dispose((0,l.track)([r,"backgroundColor"],[n,"backgroundColor"])),n.dispose((0,l.track)([r,"color"],[n,"color"])),n.dispose((0,l.track)([r,"cssText"],[n,"cssText"])),r),n}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MySidebar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUri",{get:function(){return this._finalImageUri.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalImageUriChanged",{get:function(){return this._finalImageUri.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssText",{get:function(){return this.layoutDiv.finalCssText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalCssTextChanged",{get:function(){return this.layoutDiv.finalCssTextChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(r){return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.EvalStringProperty("createAttachedObjFuncStr","createAttachedObjFuncStr",!1,!1,[this,"createAttachedObjFuncStr"],void 0,p.LayoutDiv.defaultCreateAttachedObjFuncStrMd),new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],d.MyCustomDiv.defaults.containerId)]),new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"visibility"]),new c.BooleanProperty("","",!1,!1,[this,"interaction"]),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"]),new c.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"],d.MyCustomDiv.defaults.zIndex),new c.EnumProperty("","",!1,!1,[this,"layoutType"],d.myCustomDivLayoutTypeEnums),new c.NumberProperty("","",!1,!1,[this,"width"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.ColorWithNullProperty("","",!0,!1,[this,"backgroundColor"],p.LayoutDiv.defaults.backgroundColor),new c.ColorWithNullProperty("","",!0,!1,[this,"color"],p.LayoutDiv.defaults.color),new c.LongStringProperty("cssText","cssText",!1,!1,[this,"cssText"],"",h.defaultCssTextMd),new c.LongStringProperty("finalCssText","finalCssText",!1,!0,[this,"finalCssText"])]),new c.GroupProperty("","",[new c.StringsProperty("sceneObjectIds","sceneObjectIds",!1,!1,[this,"sceneObjectIds"]),new c.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"]),new c.EnumProperty("","",!1,!1,[this,"layoutMode"],t.layoutModes),new f.LongString2Property("extraCss","extraCss",!0,!1,[this,"extraCss"],t.defaults.extraCss,t.defaultExtraCssMd),new c.EnumProperty("","",!1,!1,[this,"direction"],t.directions.map((function(e){return[e,e]}))),new c.EnumProperty("","",!1,!1,[this,"wrap"],t.wrap.map((function(e){return[e,e]}))),new c.NumberProperty("gap","gap",!1,!1,[this,"gap"]),new c.BooleanProperty("/","/",!1,!1,[this,"collapsed"]),new c.BooleanProperty("/","/",!1,!1,[this,"collapsedButtonShow"]),new c.ColorProperty("","",!1,!1,[this,"slideColor"])])],!1)},r=t,t.type=r.register("MySidebar",r,{chsName:"MySidebar",tags:["ESObjects"],description:"MySidebar"}),t.layoutModes=[["","LeftBottom"],["","RightBottom"]],t.defaults=i(i({},c.ESSceneObject.defaults),{extraCss:"\n        height : 100%;\n        width : 400px;\n        "}),t.directions=["row","row-reverse","column","column-reverse"],t.wrap=["nowrap","wrap"],t.defaultExtraCssMd=y.defaultExtraCssMd,t.defaultClickFuncStrMd=g.defaultClickFuncStrMd,t}(c.ESSceneObject);t.MySidebar=v,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,createAttachedObjFuncStr:p.LayoutDiv.defaultCreateAttachedObjFuncStr,containerId:null,visibility:!0,interaction:!0,shadowDom:!1,cssAllInitial:!1,zIndex:void 0,layoutType:"None",width:300,height:0,backgroundColor:(0,l.reactArrayWithNull)(null),color:(0,l.reactArrayWithNull)(null),cssText:"height: 100%;",sceneObjectIds:(0,l.reactArray)([]),layoutMode:"LeftBottom",direction:"row",wrap:"nowrap",gap:20,imageUri:"${my3dtiles-assets-script-dir}/assets/images/YLJ/sidebar/leftMark.png",layoutCssText:p.LayoutDiv.defaultCssText,extraCss:e.defaults.extraCss,collapsed:!0,collapsedButtonShow:!0,slideColor:(0,l.reactArray)([.13,.21,.57,1])})}}(v=t.MySidebar||(t.MySidebar={})),t.MySidebar=v,(0,l.extendClassProps)(v.prototype,v.createDefaultProps)},81798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultContentsMd=void 0,t.defaultContentsMd='contents \n```\n[\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n    [\n        "2024-4-2 10:47",\n        "A",\n        "",\n        "",\n    ],\n]\n```\n\n'},52013:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateAttachedObjFunc=void 0;var i=r(51355),a=r(6997);t.getCreateAttachedObjFunc=function(e){var t=function(t){function r(r,n){var o=t.call(this)||this;return o._div=r,o._viewer=n,o._table=function(){var t=document.createElement("div");o.div.appendChild(t),o.dispose((function(){return o.div.removeChild(t)})),t.style.width="100%",t.style.height="100%",t.style.overflow="hidden",t.style.color="#fff",t.style.display="flex",t.style.flexDirection="column",t.style.position="relative";var r=document.createElement("div");t.appendChild(r),r.style.width="100%",r.style.height="35px",r.style.lineHeight="35px",r.style.textAlign="center",r.style.display="flex",r.style.justifyContent="space-around";var n,s=document.createElement("div");t.appendChild(s),s.style.width="calc(100% + 10px)",s.style.paddingRight="10px",s.style.height="calc(100% - 35px)",s.style.overflowY="auto",s.style.overflowX="none",s.style.display="flex",s.style.flexDirection="column";var c=function(e){s.scrollTop>=s.scrollHeight-s.clientHeight-1?s.scrollTop=0:s.scrollTop+=e};o.dispose((function(){return n&&clearInterval(n)}));var l=function(){r.innerHTML="",s.innerHTML="";var t,o=e.backgroundColor,i=o.map((function(e){return.5*e}));r.style.background="linear-gradient(to bottom, ".concat((0,a.xe2ColorToCssColor)(o),", ").concat((0,a.xe2ColorToCssColor)(i),")"),e.titles.forEach((function(t,n){var o,i=document.createElement("div");r.appendChild(i),i.style.width="".concat(null!==(o=e.widths[n])&&void 0!==o?o:"80px"),i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.innerText=t,i.title=t})),e.contents.forEach((function(t,r){var n,o,c,l=document.createElement("div");s.appendChild(l),l.style.display="flex",l.style.height="35px",l.style.lineHeight="35px",l.style.textAlign="center",l.style.justifyContent="space-around",(r+1)%2==0&&(l.style.background="".concat((0,a.xe2ColorToCssColor)(i)));for(var u=e.titles.length,f=0;f<u;f++){var p=document.createElement("div");l.appendChild(p),p.style.width="".concat(null!==(n=e.widths[f])&&void 0!==n?n:"80px"),p.style.whiteSpace="nowrap",p.style.overflow="hidden",p.style.textOverflow="ellipsis",p.innerText=null!==(o=t[f])&&void 0!==o?o:"",p.title=null!==(c=t[f])&&void 0!==c?c:""}})),e.roll?(n&&clearInterval(n),t=e.speed,n=setInterval((function(){return c(t)}),20),s.onmouseenter=function(){n&&clearInterval(n)},s.onmouseleave=function(){n&&clearInterval(n),e.roll&&(n=setInterval((function(){return c(t)}),20))}):n&&clearInterval(n)};l();var u=o.disposeVar((0,i.createNextAnimateFrameEvent)(e.titlesChanged,e.contentsChanged,e.widthsChanged,e.backgroundColorChanged,e.speedChanged,e.rollChanged));o.dispose(u.disposableOn(l))}(),o}return o(r,t),Object.defineProperty(r.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),r}(i.Destroyable);return function(e,r){return new t(e,r)}}},72304:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyTable=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(42626),p=r(33157),d=r(81798),h=r(52013),g=function(e){function t(r){var n,o=e.call(this,r)||this;return o._layoutDiv=(n=o.disposeVar(u.SceneObject.createFromClass(p.LayoutDiv)),o.dispose(o.components.disposableAdd(n)),n.createAttachedObjFunc=(0,h.getCreateAttachedObjFunc)(o),n),o.dispose((0,l.track)([o._layoutDiv,"show"],[o,"show"])),o.dispose((0,l.bind)([o._layoutDiv,"cssText"],[o,"layoutCssText"])),o._layoutDiv.setLayoutStyle(t.defaults.defaultLayoutStyle),o.dispose((0,l.track)([o._layoutDiv,"allowPicking"],[o,"allowPicking"])),o.dispose((0,l.track)([o._layoutDiv,"containerId"],[o,"containerId"])),o.dispose((0,l.track)([o._layoutDiv,"shadowDom"],[o,"shadowDom"])),o.dispose((0,l.track)([o._layoutDiv,"cssAllInitial"],[o,"cssAllInitial"])),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyTable"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layoutDiv",{get:function(){return this._layoutDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.layoutDiv.container},set:function(e){this.layoutDiv.container=e},enumerable:!1,configurable:!0}),t.prototype.setLayoutStyle=function(e){this._layoutDiv.setLayoutStyle(e)},t.prototype.getProperties=function(r){var n=this;return s(s([],a(e.prototype.getProperties.call(this,r)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new c.StringsProperty("titles","titles",!1,!1,[this,"titles"],t.defaults.defaultTitles),new c.StringsProperty("widths","widths",!1,!1,[this,"widths"],t.defaults.defaultWidths),new f.Json2Property("contents","contents",!1,!1,[this,"contents"],t.defaults.defaultContents,t.defaultContentsMd),new c.BooleanProperty("","",!1,!1,[this,"roll"]),new c.NumberProperty("","",!1,!1,[this,"speed"]),new c.ColorProperty("","",!1,!1,[this,"backgroundColor"])]),new c.GroupProperty("","",[new f.LongString2Property("layoutCssText","layoutCssText",!0,!1,[this,"layoutCssText"],p.LayoutDiv.defaultCssText,p.LayoutDiv.defaultCssTextMd),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"LeftTop"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"CenterTop"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"RightTop"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"LeftCenter"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"Center"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"RightCenter"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"LeftBottom"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"CenterBottom"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle(i({type:"RightBottom"},t.defaultSize))}),[]),new c.FunctionProperty("","",[],(function(){return n.setLayoutStyle({type:"FullScreen"})}),[])]),new c.GroupProperty("","",[new c.StringWithNullProperty("ID","IDCustomDiv",!0,!1,[this,"containerId"],c.CustomDiv.defaults.containerId),new c.BooleanProperty("shadowDom","shadowDom",!1,!1,[this,"shadowDom"]),new c.BooleanProperty("cssAllInitial","cssAllInitial",!1,!1,[this,"cssAllInitial"])])],!1)},r=t,t.type=r.register("MyTable",r,{chsName:"MyTable",tags:["ESObjects"],description:"MyTable"}),t.defaultSize={width:"400px",height:"250px"},t.defaults=i(i({},c.ESSceneObject.defaults),{defaultLayoutStyle:i({type:"LeftTop"},t.defaultSize),defaultTitles:["","","",""],defaultWidths:["120px","80px","80px","80px"],defaultContents:[["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""],["2024-4-2 10:47","A","",""]]}),t.defaultContentsMd=d.defaultContentsMd,t}(c.ESSceneObject);t.MyTable=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,roll:!0,speed:1,titles:(0,l.reactJson)(e.defaults.defaultTitles),widths:(0,l.reactJson)(e.defaults.defaultWidths),contents:(0,l.reactJson)(e.defaults.defaultContents),backgroundColor:(0,l.reactArray)([.01,.18,.46,1]),layoutCssText:p.LayoutDiv.defaultCssText,allowPicking:!1,containerId:null,shadowDom:!1,cssAllInitial:!1})}}(g=t.MyTable||(t.MyTable={})),t.MyTable=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},75757:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(52657),t),o(r(12370),t),o(r(4659),t),o(r(76780),t),o(r(74312),t),o(r(72304),t)},33563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultButtonsClickFuncStrMd=void 0,t.defaultButtonsClickFuncStrMd="```\nfunction(index, mouseEvent){\n    console.log(index, mouseEvent);\n}\n```\n\n"},30884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultClickFuncStrMd=void 0,t.defaultClickFuncStrMd="```\nfunction(){\n    alert(123)\n}\n```\n\n"},90183:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(84508),t),o(r(2555),t),o(r(30104),t),o(r(45897),t),o(r(53075),t),o(r(65987),t),o(r(33157),t),o(r(75819),t),o(r(55209),t),o(r(8170),t),o(r(9366),t),o(r(72630),t),o(r(61347),t),o(r(66345),t),o(r(7234),t),o(r(14355),t),o(r(21036),t),o(r(72039),t),o(r(17012),t),o(r(47873),t),o(r(23595),t),o(r(22894),t),o(r(57973),t),o(r(86850),t),o(r(11016),t),o(r(31198),t),o(r(89149),t),o(r(7632),t),o(r(42178),t),o(r(31933),t),o(r(2977),t),o(r(66012),t),o(r(6866),t),o(r(93487),t),o(r(24429),t),o(r(75757),t)},32192:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8421),t),o(r(46505),t),o(r(60130),t),o(r(90183),t),o(r(73515),t),o(r(79245),t),o(r(98494),t),o(r(90195),t),o(r(53125),t)},43504:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEarthRotating=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(12221),p=r(48269),d=function(e){function t(t,r,n,o){var i=e.call(this)||this;i._czmViewer=t;var a=i._czmViewer.viewer;return i.dispose((0,f.rotateEarth)(a.scene,r,n,o)),i}return o(t,e),t}(l.Destroyable),h=function(e){function t(t,r){var n,o,i,a,s,c=e.call(this)||this;return c._czmViewer=t,c._sceneObject=r,c._event=(o=(n=c._sceneObject).enabledChanged,i=n.heightChanged,a=n.speedChanged,s=n.durationChanged,c.disposeVar((0,u.createNextAnimateFrameEvent)(o,i,a,s,c._czmViewer.viewerChanged))),c._objResetting=c.disposeVar(new u.ObjResettingWithEvent(c._event,(function(){if(c._sceneObject.enabled&&c._czmViewer.viewer)return new d(c._czmViewer,c._sceneObject.speed,c._sceneObject.height,c._sceneObject.duration)}))),c}return o(t,e),t}(l.Destroyable),g=function(e){function t(t){var r=e.call(this,t)||this;return r._pickedEvent=r.disposeVar(new l.Event),r._flyToEvent=r.disposeVar(new l.Event),r._attachedObj=r.dispose(r.createAttachedObject((function(e){if(e instanceof p.CzmViewer)return new h(e,r)}))),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEarthRotating"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","",!1,!1,[this,"enabled"]),new c.NumberProperty("","",!1,!1,[this,"speed"]),new c.NumberProperty("","",!1,!1,[this,"height"]),new c.NumberProperty("","",!1,!1,[this,"duration"])])],!1)},r=t,t.type=r.register("CzmEarthRotating",r,{chsName:"CzmEarthRotating",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmEarthRotating"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.CzmEarthRotating=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{enabled:!0,speed:Math.PI/10,height:1e7,duration:.5})}}(g=t.CzmEarthRotating||(t.CzmEarthRotating={})),t.CzmEarthRotating=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},12221:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.rotateEarth=void 0;var a=i(r(81557));t.rotateEarth=function(e,t,r,n){void 0===t&&(t=Math.PI/10),void 0===r&&(r=1e7),void 0===n&&(n=.5);var o=e.camera,i=o.positionCartographic;return o.flyTo({destination:a.Cartesian3.fromRadians(i.longitude,i.latitude,r),orientation:{heading:0,pitch:-.5*a.Math.PI,roll:0},complete:function(){setTimeout((function(){return function(e,t){void 0===t&&(t=Math.PI/10),e.camera.cancelFlight();var r=new a.Matrix3,n=new a.Matrix4,o=Date.now(),i=e.postUpdate.addEventListener((function(e,i){var s=e.camera;s.lookAtTransform(a.Matrix4.IDENTITY);var c=a.Cartesian3.clone(s.position),l=Date.now(),u=l-o;o=l;var f=t*u*.001,p=a.Matrix3.fromRotationZ(f,r),d=a.Matrix4.multiplyByMatrix3(s.transform,p,n);s.lookAtTransform(d,c),s.lookAtTransform(a.Matrix4.IDENTITY)}));e.camera._currentFlight={cancelTween:function(){i()}}}(e,t)}),0)},duration:n}),function(){o._currentFlight.cancelTween()}}},47730:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(43504),t)},89810:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFloodingAnalysis=void 0;var c=r(80468),l=r(51355),u=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._pickedEvent=o.disposeVar(new l.Event),o._flyToEvent=o.disposeVar(new l.Event),o._positionsEditing=o.disposeVar(new c.PositionsEditing([o,"positions"],!0,[o,"editing"],o.components)),o._geoPolygon=((n=o.disposeVar(new c.GeoPolygon)).depthTest=!0,o.dispose(o.components.disposableAdd(n)),o.dispose((0,l.track)([n,"show"],[o,"show"])),o.dispose((0,l.track)([n,"positions"],[o,"positions"])),o.dispose((0,l.track)([n,"allowPicking"],[o,"allowPicking"])),o.dispose((0,l.track)([n,"color"],[o,"color"])),o.dispose((0,l.track)([n,"outlineColor"],[o,"outlineColor"])),o.dispose(n.pickedEvent.disposableOn((function(e){o.pickedEvent.emit(new c.SceneObjectPickedInfo(o,e))}))),o.dispose(o.flyToEvent.disposableOn((function(e){n.flyTo(e)}))),(r=function(){if(o.positions&&0!==o.positions.length&&o.positions[0][2]!==o.height){var e=o.positions[0],t=[e[0],e[1],o.height];o.positions=s([t],a(o.positions.slice(1)),!1)}})(),o.dispose(o.heightChanged.disposableOn(r)),(r=function(){o.positions&&0!==o.positions.length&&o.positions[0][2]!==o.height&&(o.height=o.positions[0][2])})(),o.dispose(o.positionsChanged.disposableOn(r)),n),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFloodingAnalysis"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"positionsEditing",{get:function(){return this._positionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoPolygon",{get:function(){return this._geoPolygon},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("","(editing)",!1,!1,[this,"editing"]),new c.PositionsProperty("","(positions)",!0,!1,[this,"positions"]),new c.NumberProperty("","(height)",!1,!1,[this,"height"]),new c.ColorProperty("","(color)",!1,!1,[this,"color"]),new c.ColorProperty("","(outlineColor)",!1,!1,[this,"outlineColor"])])],!1)},r=t,t.type=r.register("CzmFloodingAnalysis",r,{chsName:"CzmFloodingAnalysis",tags:["ESObjects"],description:"(CzmFloodingAnalysis)"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.CzmFloodingAnalysis=u,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,allowPicking:!1,editing:!1,positions:(0,l.reactPositions)(void 0),height:0,color:(0,l.reactArray)([0,1,0,.6]),outlineColor:(0,l.reactArray)([0,1,0,1])})}}(u=t.CzmFloodingAnalysis||(t.CzmFloodingAnalysis={})),t.CzmFloodingAnalysis=u,(0,l.extendClassProps)(u.prototype,u.createDefaultProps)},31548:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(89810),t)},62390:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmTilesetLoading=void 0;var u=r(80468),f=r(51355),p=r(59645),d=r(48643),h=r(90183),g=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._flyToEvent=o.disposeVar(new f.Event),o._geoRectangle=(r=o.disposeVar(new u.GeoRectangle),o.dispose(o.components.disposableAdd(r)),o.dispose((0,f.bind)([r,"rectangle"],[o,"rectangle"])),o.dispose((0,f.bind)([r,"editing"],[o,"rectangleEditing"])),r),o._tilesetLoadingResetting=o.disposeVar(new p.ObjResettingWithEvent(o.urlChanged,(function(){if(o.url){var e=new d.TilesetLoading(o.url);o.dispose((0,f.bind)([e,"enabled"],[o,"enabled"])),(t=function(){o.rectangle?e.rectangle=l(l([],c(o.rectangle),!1),[o.minimumHeight,o.maximumHeight],!1):e.rectangle=void 0})(),o.dispose(o.rectangleChanged.disposableOn(t)),o.dispose(o.minimumHeightChanged.disposableOn(t)),o.dispose(o.maximumHeightChanged.disposableOn(t));var t=function(){o.existsFileFunc?e.existsFileFunc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.existsFileFunc.apply(o,l([o],c(e),!1))}:e.existsFileFunc=void 0};return t(),o.dispose(o.existsFileFuncChanged.disposableOn(t)),t=function(){o.readTextFileFunc?e.readTextFileFunc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.readTextFileFunc.apply(o,l([o],c(e),!1))}:e.readTextFileFunc=void 0},t(),o.dispose(o.readTextFileFuncChanged.disposableOn(t)),t=function(){o.filterFileFunc?e.filterFileFunc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.filterFileFunc.apply(o,l([o],c(e),!1))}:e.filterFileFunc=void 0},t(),o.dispose(o.filterFileFuncChanged.disposableOn(t)),t=function(){o.continueFunc?e.continueFunc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.continueFunc.apply(o,l([o],c(e),!1))}:e.continueFunc=void 0},t(),o.dispose(o.continueFuncChanged.disposableOn(t)),t=function(){o.statusFunc?e.statusFunc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.statusFunc.apply(o,l([o],c(e),!1))}:e.statusFunc=void 0},t(),o.dispose(o.statusFuncChanged.disposableOn(t)),t=function(){o.saveFileFunc?e.saveFileFunc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.saveFileFunc.apply(o,l([o],c(e),!1))}:e.saveFileFunc=void 0},t(),o.dispose(o.saveFileFuncChanged.disposableOn(t)),e}}))),o._existsFileFunc=o.disposeVar((0,f.react)(void 0)),o._existsFileFuncStrInit=((n=function(){if(o.existsFileFuncStr){var e=(0,u.getFuncFromStr)(o.existsFileFuncStr);e&&(o.existsFileFunc=e)}else o.existsFileFunc=void 0})(),void o.dispose(o.existsFileFuncStrChanged.disposableOn(n))),o._readTextFileFunc=o.disposeVar((0,f.react)(void 0)),o._readTextFileFuncStrInit=function(){var e=function(){if(o.readTextFileFuncStr){var e=(0,u.getFuncFromStr)(o.readTextFileFuncStr);e&&(o.readTextFileFunc=e)}else o.readTextFileFunc=void 0};e(),o.dispose(o.readTextFileFuncStrChanged.disposableOn(e))}(),o._filterFileFunc=o.disposeVar((0,f.react)(void 0)),o._filterFileFuncStrInit=function(){var e=function(){if(o.filterFileFuncStr){var e=(0,u.getFuncFromStr)(o.filterFileFuncStr);e&&(o.filterFileFunc=e)}else o.filterFileFunc=void 0};e(),o.dispose(o.filterFileFuncStrChanged.disposableOn(e))}(),o._continueFunc=o.disposeVar((0,f.react)(void 0)),o._continueFuncStrInit=function(){var e=function(){if(o.continueFuncStr){var e=(0,u.getFuncFromStr)(o.continueFuncStr);e&&(o.continueFunc=e)}else o.continueFunc=void 0};e(),o.dispose(o.continueFuncStrChanged.disposableOn(e))}(),o._status=o.disposeVar((0,f.react)("")),o._statusFunc=o.disposeVar((0,f.react)(void 0)),o._statusFuncStrInit=function(){var e=function(){if(o.statusFuncStr){var e=(0,u.getFuncFromStr)(o.statusFuncStr);e&&(o.statusFunc=e)}else o.statusFunc=void 0};e(),o.dispose(o.statusFuncStrChanged.disposableOn(e))}(),o._saveFileFunc=o.disposeVar((0,f.react)(void 0)),o._saveFileFuncStrInit=function(){var e=function(){if(o.saveFileFuncStr){var e=(0,u.getFuncFromStr)(o.saveFileFuncStr);e&&(o.saveFileFunc=e)}else o.saveFileFunc=void 0};e(),o.dispose(o.saveFileFuncStrChanged.disposableOn(e))}(),o._infoDialog=function(){var e=o.disposeVar(p.SceneObject.createFromClass(h.DialogWindow));o.dispose(o.components.disposableAdd(e)),e.container=document.body;var t,r=void 0,n=function(e){return r=e};return(t=function(){r&&(o.enabled||r.resultEvent.emit({result:"cancel"}))})(),o.enabledChanged.disposableOn(t),(t=function(){e.text=o.status})(),o.statusChanged.disposableOn(t),(t=function(){e.show=o.enabled})(),o.dispose(o.enabledChanged.disposableOn(t)),e.title="3dtiles..",e.buttons=[{text:"",result:"cancel"}],o.dispose(e.resultEvent.disposableOn((function(e){return a(o,void 0,void 0,(function(){var t;return s(this,(function(o){switch(o.label){case 0:return"cancel"!==e.result?[2]:(t=f.ui.confirm)?[4,f.ui.confirm("","3dtiles",{dialogCreatedFunc:n})]:[3,2];case 1:t=!o.sent(),o.label=2;case 2:return t||(r=void 0,this.enabled=!1),[2]}}))}))}))),e}(),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmTilesetLoading"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"geoRectangle",{get:function(){return this._geoRectangle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilesetLoadingResetting",{get:function(){return this._tilesetLoadingResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"existsFileFunc",{get:function(){return this._existsFileFunc.value},set:function(e){this._existsFileFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"existsFileFuncChanged",{get:function(){return this._existsFileFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readTextFileFunc",{get:function(){return this._readTextFileFunc.value},set:function(e){this._readTextFileFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readTextFileFuncChanged",{get:function(){return this._readTextFileFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterFileFunc",{get:function(){return this._filterFileFunc.value},set:function(e){this._filterFileFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterFileFuncChanged",{get:function(){return this._filterFileFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"continueFunc",{get:function(){return this._continueFunc.value},set:function(e){this._continueFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"continueFuncChanged",{get:function(){return this._continueFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status.value},set:function(e){this._status.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusChanged",{get:function(){return this._status.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFunc",{get:function(){return this._statusFunc.value},set:function(e){this._statusFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFuncChanged",{get:function(){return this._statusFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"saveFileFunc",{get:function(){return this._saveFileFunc.value},set:function(e){this._saveFileFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"saveFileFuncChanged",{get:function(){return this._saveFileFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoDialog",{get:function(){return this._infoDialog},enumerable:!1,configurable:!0}),t.prototype.getLocalDir=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return f.os.wrap?[4,(0,f.os.wrap.dialog.open)({defaultPath:this.localDir,directory:!0})]:[2,""];case 1:return"string"!=typeof(e=t.sent())?[2,""]:(this.localDir=e,[2,e])}}))}))},t.prototype.getProperties=function(t){var r=this;return l(l([],c(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","",!1,!1,[this,"enabled"]),new u.StringProperty("status","status",!1,!0,[this,"status"]),new u.StringProperty("localDir","localDir",!1,!1,[this,"localDir"]),new u.FunctionProperty("getLocalDir","getLocalDir",[],(function(){return r.getLocalDir()}),[]),new u.StringProperty("url","url",!1,!1,[this,"url"]),new u.EvalStringProperty("existsFileFuncStr","existsFileFuncStr",!1,!1,[this,"existsFileFuncStr"]),new u.EvalStringProperty("readTextFileFuncStr","readTextFileFuncStr",!1,!1,[this,"readTextFileFuncStr"]),new u.EvalStringProperty("filterFileFuncStr","filterFileFuncStr",!1,!1,[this,"filterFileFuncStr"]),new u.EvalStringProperty("continueFuncStr","continueFuncStr",!1,!1,[this,"continueFuncStr"]),new u.EvalStringProperty("statusFuncStr","statusFuncStr",!1,!1,[this,"statusFuncStr"]),new u.EvalStringProperty("saveFileFuncStr","saveFileFuncStr",!1,!1,[this,"saveFileFuncStr"])]),new u.GroupProperty("","",[new u.BooleanProperty("rectangleEditing","rectangleEditing",!1,!1,[this,"rectangleEditing"]),new u.Number4Property("rectangle","rectangle",!0,!1,[this,"rectangle"]),new u.NumberProperty("minimumHeight","minimumHeight",!1,!1,[this,"minimumHeight"]),new u.NumberProperty("maximumHeight","maximumHeight",!1,!1,[this,"maximumHeight"])])],!1)},r=t,t.type=r.register("CzmTilesetLoading",r,{chsName:"CzmTilesetLoading",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmTilesetLoading"}),t.defaults=i({},u.ESSceneObject.defaults),t.defaultExistsFileFuncStr="async function (sceneObject, path) {\n    const { os } = vtxf['xr-base-utils'];\n    if (!os.wrap) return true;\n    const { fs } = os.wrap;\n    if (!fs) return true;\n    const { exists } = fs;\n    if (!exists) return true;\n\n    return await exists(sceneObject.localDir + '/' + path);\n}\n",t.defaultReadTextFileFuncStr="async function (sceneObject, path) {\n    const { os } = vtxf['xr-base-utils'];\n    if (!os.wrap) return true;\n    const { fs } = os.wrap;\n    if (!fs) return true;\n    const { readTextFile } = fs;\n    if (!readTextFile) return true;\n\n    return await readTextFile(sceneObject.localDir + '/' + path);\n}\n",t.defaultFilterFileFuncStr="function (sceneObject, parentGeometricError, paretnMatrix, parentHref, tile) {\n    return true;\n}\n    ",t.defaultContinueFuncStr="async function (sceneObject, todoJsonHrefs, todoContentHrefs) {\n    const { ui } = vtxf['xr-base-utils'];\n    const result = await ui.confirm(`${todoJsonHrefs.length}${todoContentHrefs.length}`, '');\n    return result;\n}\n",t.defaultStatusFuncStr="function (sceneObject, status) {\n    console.log(status);\n    sceneObject.status = status;\n}\n",t.defaultSaveFileFuncStr="async function (sceneObject, path, data) {\n    const { os } = vtxf['xr-base-utils'];\n    if (!os.wrap) return true;\n    const { fs } = os.wrap;\n    if (!fs) return true;\n    const { exists, createDir, writeBinaryFile, writeTextFile } = fs;\n    if (!exists || !createDir || !writeBinaryFile || !writeTextFile) return;\n\n    const finalPath = sceneObject.localDir + '/' + path;\n    const finalDir = finalPath.slice(0, finalPath.lastIndexOf('/'));\n    if (!await exists(finalDir)) {\n        await createDir(finalDir, { recursive: true });\n    }\n    if (data instanceof Uint8Array) {\n        await writeBinaryFile(finalPath, data);\n    } else if (typeof data === 'string') {\n        await writeTextFile(finalPath, data);\n    }\n}\n",t}(u.ESSceneObject);t.CzmTilesetLoading=g,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{enabled:!1,localDir:"",url:"",existsFileFuncStr:e.defaultExistsFileFuncStr,readTextFileFuncStr:e.defaultReadTextFileFuncStr,filterFileFuncStr:e.defaultFilterFileFuncStr,continueFuncStr:e.defaultContinueFuncStr,statusFuncStr:e.defaultStatusFuncStr,saveFileFuncStr:e.defaultSaveFileFuncStr,rectangleEditing:!1,rectangle:(0,f.reactArrayWithUndefined)(void 0),minimumHeight:-1e3,maximumHeight:9e3})}}(g=t.CzmTilesetLoading||(t.CzmTilesetLoading={})),t.CzmTilesetLoading=g,(0,f.extendClassProps)(g.prototype,g.createDefaultProps)},92378:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmVisibilityAnalysis=void 0;var c=r(80468),l=r(51355),u=r(48269),f=r(16906),p=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o._pickedEvent=o.disposeVar(new l.Event),o._flyToEvent=o.disposeVar(new l.Event),o._registerInit=void o.registerAttachedObjectForContainer((function(e,t){if(e instanceof u.CzmViewer)return new f.CzmVisibilityAnalysisCzmViewer(o,e)})),o._computedResult=o.disposeVar((0,l.reactDeepArray)([],(function(e,t){return e.length===t.length&&e.every((function(e,r){return e[0]===t[r][0]&&e[1]===t[r][1]&&e[2]===t[r][2]}))}),(function(e){return s([],a(e.map((function(e){return[e[0],e[1],e[2]]}))),!1)}))),o._redPolylines=function(){var e=o.disposeVar(new c.GeoPolylines);o.dispose(o.components.disposableAdd(e));var t=function(){e.show=o.show&&o.computedResult.length>0};return t(),o.dispose(o.showChanged.disposableOn(t)),o.dispose(o.computedResultChanged.disposableOn(t)),o.dispose((0,l.track)([e,"allowPicking"],[o,"allowPicking"])),o.dispose(e.pickedEvent.disposableOn((function(e){var t;null!==(t=o.allowPicking)&&void 0!==t&&t&&o.pickedEvent.emit(new c.SceneObjectPickedInfo(o,e))}))),o.dispose(o.computedResultChanged.disposableOn((function(){e.positions=o.computedResult.filter((function(e){return 3===e.length})).map((function(e){return[e[1],e[2]]}))}))),e.color=[1,0,0,1],e}(),o._greenPolylines=function(){var e=o.disposeVar(new c.GeoPolylines);o.dispose(o.components.disposableAdd(e));var t=function(){e.show=o.show&&o.computedResult.length>0};return t(),o.dispose(o.showChanged.disposableOn(t)),o.dispose(o.computedResultChanged.disposableOn(t)),o.dispose((0,l.track)([e,"allowPicking"],[o,"allowPicking"])),o.dispose(e.pickedEvent.disposableOn((function(e){var t;null!==(t=o.allowPicking)&&void 0!==t&&t&&o.pickedEvent.emit(new c.SceneObjectPickedInfo(o,e))}))),o.dispose(o.computedResultChanged.disposableOn((function(){e.positions=o.computedResult.map((function(e){return[e[0],e[1]]}))}))),e.color=[0,1,0,1],e}(),o._geoDivTextPoi=(n=o.disposeVar(new c.GeoDivTextPoi),o.dispose(o.components.disposableAdd(n)),n.text="",n.originRatioAndOffset=[.5,1,0,10],n.backgroundColor=[0,0,0,.8],n.borderRadius=[6,6,6,6],(r=function(){n.show=o.show})(),o.dispose(o.showChanged.disposableOn(r)),(r=function(){o.positions&&0!==o.positions.length?n.position=o.positions[0]:n.position=void 0})(),o.dispose(o.positionsChanged.disposableOn(r)),n),o._sPositionsEditing=o.disposeVar(new c.PositionsEditing([o,"positions"],!1,[o,"editing"],o.components)),o._computing=o.disposeVar((0,l.react)(!1)),o._computingInit=void o.dispose(o.positionsChanged.disposableOn((function(){o.computing=!1,o.autoComputing&&(o.computing=!0)}))),o}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmVisibilityAnalysis"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"computedResult",{get:function(){return this._computedResult.value},set:function(e){this._computedResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedResultChanged",{get:function(){return this._computedResult.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redPolylines",{get:function(){return this._redPolylines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"greenPolylines",{get:function(){return this._greenPolylines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoDivTextPoi",{get:function(){return this._geoDivTextPoi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computing",{get:function(){return this._computing.value},set:function(e){this._computing.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computingChanged",{get:function(){return this._computing.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("","",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("","",!1,!1,[this,"editing"]),new c.BooleanProperty("","",!1,!1,[this,"computing"]),new c.BooleanProperty("","",!1,!1,[this,"autoComputing"]),new c.PositionsProperty("","",!0,!1,[this,"positions"]),new c.NumberProperty("","",!1,!1,[this,"originHeight"]),new c.NumberProperty("","",!1,!1,[this,"targetHeight"]),new c.JsonProperty("","",!0,!1,[this,"computedResult"])])],!1)},r=t,t.type=r.register("CzmVisibilityAnalysis",r,{chsName:"",tags:["CzmObjects"],description:""}),t}(c.ESSceneObject);t.CzmVisibilityAnalysis=p,function(e){e.createDefaultProps=function(){return i({show:!0,allowPicking:!1,editing:!1,autoComputing:!0,positions:(0,l.reactPositions)(void 0),originHeight:1,targetHeight:1},c.ESSceneObject.createDefaultProps())}}(p=t.CzmVisibilityAnalysis||(t.CzmVisibilityAnalysis={})),t.CzmVisibilityAnalysis=p,(0,l.extendClassProps)(p.prototype,p.createDefaultProps)},16906:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmVisibilityAnalysisCzmViewer=void 0;var l=r(51355),u=r(59645),f=r(42759),p=function(e){function t(t,r){var n=e.call(this)||this;return n._sceneObject=t,n._czmViewer=r,n._processing=n.disposeVar((0,u.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){var t,r,n,o,i,l,p,d;return a(this,(function(a){switch(a.label){case 0:return t=this.sceneObject,[4,e.promise((0,u.sleep)(10))];case 1:if(a.sent(),!t.positions||t.positions.length<2)return[2];if(!(r=this._czmViewer.viewer))return[2];for(n=[],(o=c([],s(t.positions[0]),!1))[2]+=t.originHeight,i=(0,f.isPointUnderGround)(o,r.scene),l=1;l<t.positions.length;l++)(p=c([],s(t.positions[l]),!1))[2]+=t.targetHeight,(d=i?o:(0,f.computeCutPoint)(o,p,r.scene))?n.push([o,d,p]):n.push([o,p]);return t.computedResult=n,[2]}}))}))}))),n._processingInit=(n._processing.completeFunc=function(){return n.sceneObject.computing=!1},n._processing.errorFunc=function(){return n.sceneObject.computing=!1},void n.dispose(n.sceneObject.computingChanged.disposableOn((function(){n.sceneObject.computing?n._processing.restart():n._processing.cancel()})))),n}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.CzmVisibilityAnalysisCzmViewer=p},42759:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.computeCutPoint=t.isPointUnderGround=void 0;var a=i(r(81557)),s=a.Math.toDegrees,c=new a.Cartographic;t.isPointUnderGround=function(e,t){try{return t.sampleHeight(a.Cartographic.fromDegrees(e[0],e[1],e[2]))>e[2]}catch(e){return void console.error("isPointUnderGround error: scene.sampleHeight crash!")}},t.computeCutPoint=function(e,t,r){var n=a.Cartesian3.fromDegrees(e[0],e[1],e[2]),o=a.Cartesian3.fromDegrees(t[0],t[1],t[2]),i=a.Cartesian3.subtract(o,n,new a.Cartesian3);a.Cartesian3.normalize(i,i);var l,u=new a.Ray(n,i),f=r.pickFromRay(u),p=r.globe.pick(u,r);if(f&&f.position&&p?l=a.Cartesian3.distance(n,f.position)<a.Cartesian3.distance(n,p)?f.position:p:f&&f.position?l=f.position:p&&(l=p),l){var d=a.Cartesian3.distance(n,o),h=a.Cartesian3.distance(n,l)>d?o:l,g=a.Cartographic.fromCartesian(h,void 0,c);return[s(g.longitude),s(g.latitude),g.height]}}},35980:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(92378),t)},84554:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmWorldCloud=void 0;var c=r(80468),l=r(51355),u=r(48269),f=r(59645),p=r(52721),d=function(e){function t(t,r){var n,o,i,a=e.call(this)||this;return a._czmViewer=t,a._scenObject=r,a._primitive=(o=f.SceneObject.context.getStrFromEnv(a.sceneObject.imageUri),i=a.disposeVar(new p.CzmWorldCloudPrimitive(o)),a.viewer.scene.primitives.add(i),a.dispose((function(){return a.viewer.scene.primitives.remove(i)})),(n=function(){i.show=a.sceneObject.show})(),a.dispose(a.sceneObject.showChanged.disposableOn(n)),(n=function(){i.aroundTime=a.sceneObject.aroundTime})(),a.dispose(a.sceneObject.aroundTimeChanged.disposableOn(n)),i),a}return o(t,e),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._scenObject},enumerable:!1,configurable:!0}),t}(l.Destroyable),h=function(e){function t(t,r){var n=e.call(this)||this;return n._czmViewer=t,n._scenObject=r,n._objResetting=n.disposeVar(new f.ObjResetting((function(){if(n._scenObject.show&&n._scenObject.imageUri&&n._czmViewer.viewer)return new d(n._czmViewer,n._scenObject)}))),n.dispose(n._scenObject.imageUriChanged.disposableOn((function(){return n._objResetting.reset()}))),n.dispose(n._czmViewer.viewerChanged.disposableOn((function(){return n._objResetting.reset()}))),n}return o(t,e),t}(l.Destroyable),g=function(e){function t(t){var r=e.call(this,t)||this;return r._pickedEvent=r.disposeVar(new l.Event),r._flyToEvent=r.disposeVar(new l.Event),r._attachedObj=r.dispose(r.createAttachedObject((function(e){if(e instanceof u.CzmViewer)return new h(e,r)}))),r}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmWorldCloud"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(show)",!1,!1,[this,"show"]),new c.NumberProperty("aroundTime","aroundTime",!1,!1,[this,"aroundTime"]),new c.StringProperty("imageUri","imageUri",!1,!1,[this,"imageUri"])])],!1)},r=t,t.type=r.register("CzmWorldCloud",r,{chsName:"CzmWorldCloud",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmWorldCloud"}),t.defaults=i({},c.ESSceneObject.defaults),t}(c.ESSceneObject);t.CzmWorldCloud=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:!0,aroundTime:120,imageUri:"${my3dtiles-assets-script-dir}/assets/images/misc/earthclouds1k.jpg"})}}(g=t.CzmWorldCloud||(t.CzmWorldCloud={})),t.CzmWorldCloud=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},52721:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmWorldCloudPrimitive=void 0;var c=s(r(81557)),l=r(51355),u=new c.Cartesian3(1,1,1),f=function(e){function t(t){var r,n=e.call(this)||this;return n._cloudImageUrl=t,n._quat=new c.Quaternion,n._rot=0,n.show=!0,n.aroundTime=120,n._lastTime=Date.now(),n._innerPrimitive=((r=n.disposeVar(new c.Primitive({geometryInstances:new c.GeometryInstance({geometry:new c.RectangleGeometry({rectangle:c.Rectangle.fromDegrees(-180,-90,180,90),vertexFormat:c.EllipsoidSurfaceAppearance.VERTEX_FORMAT,height:1e4})}),appearance:new c.EllipsoidSurfaceAppearance({aboveGround:!1}),show:!0,modelMatrix:c.Matrix4.IDENTITY}))).appearance.material=new c.Material({fabric:{type:"Image",uniforms:{image:n.cloudImageUrl,color:new c.Color(1,1,1,0)},components:{diffuse:"vec3(1.0)",alpha:"texture(image, fract(repeat * materialInput.st)).r * color.a"}}}),r),n}return o(t,e),Object.defineProperty(t.prototype,"cloudImageUrl",{get:function(){return this._cloudImageUrl},enumerable:!1,configurable:!0}),t.prototype.update=function(e){this.show&&(this._updateModelMatrix(),this._updateMaterial(e),this._innerPrimitive.update(e))},t.prototype._updateModelMatrix=function(){var e=1/(1e3*this.aroundTime),t=Date.now(),r=t-this._lastTime;this._lastTime=t,this._rot+=r*e,this._rot=this._rot-Math.floor(this._rot);var n=c.Matrix4.fromTranslationQuaternionRotationScale;this._quat=c.Quaternion.fromAxisAngle(c.Cartesian3.UNIT_Z,-this._rot*c.Math.PI*2,this._quat),this._innerPrimitive.modelMatrix=n(c.Cartesian3.ZERO,this._quat,u,this._innerPrimitive.modelMatrix)},t.prototype._updateMaterial=function(e){var t=this._innerPrimitive.appearance.material,r=t.uniforms.color;if(t._textures.image&&t._textures.image!==e.context._defaultTexture){var n=c.Ellipsoid.WGS84.radii.x,o=1*n,i=2*n,a=(c.Math.clamp(e.camera.positionCartographic.height,o,i)-o)/(i-o)*.8;r.alpha+=.05*(a-r.alpha),this._innerPrimitive.show=r.alpha>.01}},t}(l.Destroyable);t.CzmWorldCloudPrimitive=f},12519:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(84554),t),o(r(52721),t)},87196:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MySceneObjectPicking=void 0;var u=r(80468),f=r(51355),p=r(59645),d=r(32146),h=r(87784),g=r(668),y=r(81230),m=r(61650),v=r(5358),b=r(82053);function w(e){var t=e.sceneObjectPickedInfo;if(t){var r=t.sceneObject;if(r)return l(l([["id",r.id]],c(r.ref?[["ref",r.ref]]:[]),!1),[["",r.name],["",r.typeName]],!1)}}var _=function(e){function t(r){var n,o,c=e.call(this,r)||this;return c._pickFunc=function(e,r,n){return a(c,void 0,void 0,(function(){var o,a,c;return s(this,(function(s){switch(s.label){case 0:return(o=this.getProjectManager())?[4,o.viewerPick(e,r)]:(console.warn("_pickFunc cannot excute!"),[2,void 0]);case 1:return(a=s.sent())?(n===t.hoverSymbol?this.hoveredProps=(0,m.getCzm3dTilesFeatureProps)(a)||w(a):n===t.clickSymbol&&(this.clickedProps=(0,m.getCzm3dTilesFeatureProps)(a)||w(a)),c=i({symbol:n,hoveredProps:n===t.hoverSymbol?(0,m.getCzm3dTilesFeatureProps)(a):void 0,clickedProps:n===t.clickSymbol?(0,m.getCzm3dTilesFeatureProps)(a):void 0,windowPos:r},a),this._pickedResultEvent.emit(c),[2,c]):[2,void 0]}}))}))},c._pickedResultEvent=c.disposeVar(new f.Event),c._onPickedResultFunc=c.disposeVar((0,f.react)(void 0)),c._onPickedResultFuncInit=function(){c.dispose(c.pickedResultEvent.disposableOn((function(e){c.onPickedResultFunc&&c.onPickedResultFunc(e)})));var e=function(){if(c.onPickedResultFuncStr){var e=(0,u.getFuncFromStr)(c.onPickedResultFuncStr);e&&(c.onPickedResultFunc=e)}else c.onPickedResultFunc=void 0};e(),c.dispose(c.onPickedResultFuncStrChanged.disposableOn(e))}(),c._hoveredProps=c.disposeVar((0,f.reactJson)(void 0)),c._clickedProps=c.disposeVar((0,f.reactJson)(void 0)),c._enabledResetting=c.disposeVar(new p.ObjResettingWithEvent(c.enabledChanged,(function(){if(c.enabled)return new d.PickingRunning(c)}))),c._setCzm3DTilesFeatureColorResetting=(n=c.disposeVar((0,f.react)(!1)),c.dispose(c.enabledChanged.disposableOn((function(){return n.value=c.enabled&&c.enableFeatureColor}))),c.dispose(c.enableFeatureColorChanged.disposableOn((function(){return n.value=c.enabled&&c.enableFeatureColor}))),c.disposeVar(new p.ObjResettingWithEvent(n.changed,(function(){if(n.value)return new h.SetCzm3DTilesFeatureColorRunning(c)})))),c._showHoveredPropsResetting=(o=c.disposeVar((0,f.react)(!1)),c.dispose(c.enabledChanged.disposableOn((function(){return o.value=c.enabled&&c.showHoveredProps}))),c.dispose(c.showHoveredPropsChanged.disposableOn((function(){return o.value=c.enabled&&c.showHoveredProps}))),void c.disposeVar(new p.ObjResettingWithEvent(o.changed,(function(){if(o.value)return new y.ShowHoveredProps(c)})))),c._showClickedPropsResetting=function(){var e=c.disposeVar((0,f.react)(!1));c.dispose(c.enabledChanged.disposableOn((function(){return e.value=c.enabled&&c.showClickedProps}))),c.dispose(c.showClickedPropsChanged.disposableOn((function(){return e.value=c.enabled&&c.showClickedProps}))),c.disposeVar(new p.ObjResettingWithEvent(e.changed,(function(){if(e.value)return new g.ShowClickedProps(c)})))}(),c}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MySceneObjectPicking"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){},t.prototype.getDefaultViewer=function(){return window.g_app&&window.g_app.czmViewer},t.prototype.getProjectManager=function(){return window.g_app&&window.g_app.xe2ProjectManager},t.prototype.pick=function(e,t,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return(t=t||this.getDefaultViewer())&&this.getProjectManager()?[4,this._pickFunc(t,e,r)]:(console.warn("pick cannot excute!"),[2,void 0]);case 1:return[2,n.sent()]}}))}))},t.prototype.hoverPick=function(e,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.pick(e,r,t.hoverSymbol)];case 1:return[2,n.sent()]}}))}))},t.prototype.clickPick=function(e,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.pick(e,r,t.clickSymbol)];case 1:return[2,n.sent()]}}))}))},Object.defineProperty(t.prototype,"pickedResultEvent",{get:function(){return this._pickedResultEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onPickedResultFunc",{get:function(){return this._onPickedResultFunc.value},set:function(e){this._onPickedResultFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onPickedResultFuncChanged",{get:function(){return this._onPickedResultFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredProps",{get:function(){return this._hoveredProps.value},set:function(e){this._hoveredProps.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredPropsChanged",{get:function(){return this._hoveredProps.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickedProps",{get:function(){return this._clickedProps.value},set:function(e){this._clickedProps.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickedPropsChanged",{get:function(){return this._clickedProps.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return l(l([],c(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("","",[new u.BooleanProperty("","(enabled)",!1,!1,[this,"enabled"]),new u.BooleanProperty("enableClick","enableClick",!1,!1,[this,"enableClick"]),new u.BooleanProperty("enableHover","enableHover",!1,!1,[this,"enableHover"]),new u.NumberProperty("hoverDelayTime","hoverDelayTime",!1,!1,[this,"hoverDelayTime"]),new u.JsonProperty("clickedProps","clickedProps",!0,!0,[this,"clickedProps"]),new u.JsonProperty("hoveredProps","hoveredProps",!0,!0,[this,"hoveredProps"]),new u.BooleanProperty("showClickedProps","showClickedProps",!1,!1,[this,"showClickedProps"]),new u.BooleanProperty("showHoveredProps","showHoveredProps",!1,!1,[this,"showHoveredProps"]),new u.StringsProperty("filterHoveredProps","filterHoveredProps",!0,!1,[this,"filterHoveredProps"]),new u.StringsProperty("filterClickedProps","filterClickedProps",!0,!1,[this,"filterClickedProps"]),new u.EvalStringProperty("clickedPropsFuncStr","clickedPropsFuncStr",!1,!1,[this,"clickedPropsFuncStr"]),new u.EvalStringProperty("hoveredPropsFuncStr","hoveredPropsFuncStr",!1,!1,[this,"hoveredPropsFuncStr"])]),new u.GroupProperty("FeatureColor","FeatureColor",[new u.BooleanProperty("enableFeatureColor","enableFeatureColor",!1,!1,[this,"enableFeatureColor"]),new u.ColorProperty("hoveredColor","hoveredColor",!1,!1,[this,"hoveredColor"]),new u.ColorProperty("clickedColor","clickedColor",!1,!1,[this,"clickedColor"]),new u.ColorProperty("clickedAndHoveredColor","clickedAndHoveredColor",!1,!1,[this,"clickedAndHoveredColor"])]),new u.GroupProperty("","",[new u.EvalStringProperty("onPickedResultFuncStr","onPickedResultFuncStr",!1,!1,[this,"onPickedResultFuncStr"],void 0,b.onPickedResultFuncStrReadMe)])],!1)},r=t,t.type=r.register("MySceneObjectPicking",r,{chsName:"MySceneObjectPicking",tags:["ESObjects"],description:"MySceneObjectPicking"}),t.defaults=i({},u.ESSceneObject.defaults),t.hoverSymbol=Symbol(),t.clickSymbol=Symbol(),t}(u.ESSceneObject);t.MySceneObjectPicking=_,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{enabled:!1,enableClick:!0,enableHover:!1,hoverDelayTime:10,showClickedProps:!1,showHoveredProps:!1,filterHoveredProps:(0,f.reactArrayWithUndefined)(void 0),filterClickedProps:(0,f.reactArrayWithUndefined)(void 0),clickedPropsFuncStr:"function (props) { return props.filter(e => !e[0].startsWith('_')); }",hoveredPropsFuncStr:"function (props) { return props.filter(e => !e[0].startsWith('_')); }",enableFeatureColor:!0,hoveredColor:(0,f.reactArray)([1,1,0,.6]),clickedColor:(0,f.reactArray)([1,0,0,.6]),clickedAndHoveredColor:(0,f.reactArray)([1,0,0,.9]),onPickedResultFuncStr:v.defaultOnPickedResultFuncStr})}}(_=t.MySceneObjectPicking||(t.MySceneObjectPicking={})),t.MySceneObjectPicking=_,(0,f.extendClassProps)(_.prototype,_.createDefaultProps)},32146:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PickingRunning=void 0;var s=r(51355),c=r(59645),l=r(87196),u=function(e){function t(t){var r=e.call(this)||this,n=t.getProjectManager(),o=t.getDefaultViewer();if(!n||!o)return r;var s=function(){var e=r.disposeVar(new c.PointerHover);return r.dispose(o.interaction.pointerDownEvent.disposableOn((function(t){return e.pointerDown(t)}))),r.dispose(o.interaction.pointerMoveEvent.disposableOn((function(t){return e.pointerMove(t)}))),r.dispose(o.interaction.pointerUpEvent.disposableOn((function(t){return e.pointerUp(t)}))),r.dispose(o.interaction.pointerOutEvent.disposableOn((function(t){return e.pointerOut(t)}))),e.delayTime=10,e}();return r.dispose(s.hoverEvent.disposableOn((function(e){return i(r,void 0,void 0,(function(){return a(this,(function(r){return t.enableHover?(t.pick([e.offsetX,e.offsetY],void 0,l.MySceneObjectPicking.hoverSymbol),[2]):[2]}))}))}))),r.dispose(s.hoverOutEvent.disposableOn((function(){t.enableHover&&t.pickedResultEvent.emit({symbol:l.MySceneObjectPicking.hoverSymbol})}))),r.dispose(o.interaction.pointerClick.clickEvent.disposableOn((function(e){return i(r,void 0,void 0,(function(){return a(this,(function(r){return t.enableClick?(t.pick([e.offsetX,e.offsetY],void 0,l.MySceneObjectPicking.clickSymbol),[2]):[2]}))}))}))),r}return o(t,e),t}(s.Destroyable);t.PickingRunning=u},87784:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SetCzm3DTilesFeatureColorRunning=void 0;var c=s(r(81557)),l=r(51355),u=r(59645),f=r(87196);function p(e,t){try{e.__vtxf_originColor__||(e.__vtxf_originColor__=e.color),e.color=t}catch(t){console.log("this.czm3DTileFeature.color = Cesium.Color.WHITE "),console.log(e)}}function d(e){try{if(!e.__vtxf_originColor__)return;e.color=e.__vtxf_originColor__}catch(t){console.log("this.czm3DTileFeature.color = Cesium.Color.WHITE "),console.log(e)}}var h=function(e){function t(t){var r=e.call(this)||this;return r._mySceneObjectPicking=t,r._currentHoveredFeature=r.disposeVar((0,l.react)(void 0)),r._currentClickedFeature=r.disposeVar((0,l.react)(void 0)),r._featureColorInit=function(){r.dispose((function(){r.currentClickedFeature&&d(r.currentClickedFeature),r.currentHoveredFeature&&d(r.currentHoveredFeature)}));var e=c.Color.YELLOW.withAlpha(.6),t=c.Color.RED.withAlpha(.6),n=c.Color.RED.withAlpha(.8),o=function(o){o===r.currentClickedFeature&&o===r.currentHoveredFeature?p(o,n):o===r.currentHoveredFeature?p(o,e):o===r.currentClickedFeature?p(o,t):d(o)};(a=function(){c.Color.unpack(r.mySceneObjectPicking.hoveredColor,void 0,e),c.Color.unpack(r.mySceneObjectPicking.clickedColor,void 0,t),c.Color.unpack(r.mySceneObjectPicking.clickedAndHoveredColor,void 0,n),r.currentClickedFeature&&o(r.currentClickedFeature),r.currentHoveredFeature&&o(r.currentHoveredFeature)})();var i=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.mySceneObjectPicking.hoveredColorChanged,r.mySceneObjectPicking.clickedColorChanged,r.mySceneObjectPicking.clickedAndHoveredColorChanged));r.dispose(i.disposableOn(a));var a=function(e,t){e&&o(e),t&&o(t)};r.dispose(r.currentHoveredFeatureChanged.disposableOn(a)),r.dispose(r.currentClickedFeatureChanged.disposableOn(a))}(),r.dispose(r.mySceneObjectPicking.pickedResultEvent.disposableOn((function(e){if(e){var t=e.czmPickedResult;t instanceof c.Cesium3DTileFeature?e.symbol===f.MySceneObjectPicking.hoverSymbol?r.currentHoveredFeature=t:e.symbol===f.MySceneObjectPicking.clickSymbol&&(r.currentClickedFeature=t):e.symbol===f.MySceneObjectPicking.hoverSymbol?r.currentHoveredFeature=void 0:e.symbol===f.MySceneObjectPicking.clickSymbol&&(r.currentClickedFeature=void 0)}}))),r}return o(t,e),Object.defineProperty(t.prototype,"mySceneObjectPicking",{get:function(){return this._mySceneObjectPicking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentHoveredFeature",{get:function(){return this._currentHoveredFeature.value},set:function(e){this._currentHoveredFeature.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentHoveredFeatureChanged",{get:function(){return this._currentHoveredFeature.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentClickedFeature",{get:function(){return this._currentClickedFeature.value},set:function(e){this._currentClickedFeature.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentClickedFeatureChanged",{get:function(){return this._currentClickedFeature.changed},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.SetCzm3DTilesFeatureColorRunning=h},668:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ShowClickedProps=void 0;var i=r(51355),a=r(90183),s=function(e){function t(t){var r=e.call(this)||this;return r._mySceneObjectPicking=t,r._propsPanel=function(){var e=r.disposeVar(new a.MyPropsPanel);r.dispose(r.mySceneObjectPicking.components.disposableAdd(e)),r.dispose((0,i.track)([e,"filterProps"],[r.mySceneObjectPicking,"filterClickedProps"])),r.dispose((0,i.track)([e,"propsFuncStr"],[r.mySceneObjectPicking,"clickedPropsFuncStr"]));var t=function(){var t=r.mySceneObjectPicking.clickedProps;if(!t)return e.show=!1,void(e.props=[]);e.show=!0,e.props=t};return t(),r.dispose(r.mySceneObjectPicking.clickedPropsChanged.disposableOn(t)),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"mySceneObjectPicking",{get:function(){return this._mySceneObjectPicking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsPanel",{get:function(){return this._propsPanel},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.ShowClickedProps=s},81230:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ShowHoveredProps=void 0;var i=r(51355),a=r(90183),s=function(e){function t(t){var r=e.call(this)||this;return r._mySceneObjectPicking=t,r._propsPanel=function(){var e=r.disposeVar(new a.MyPropsPanel);r.dispose(r.mySceneObjectPicking.components.disposableAdd(e)),r.dispose((0,i.track)([e,"filterProps"],[r.mySceneObjectPicking,"filterHoveredProps"])),r.dispose((0,i.track)([e,"propsFuncStr"],[r.mySceneObjectPicking,"hoveredPropsFuncStr"]));var t=function(){var t=r.mySceneObjectPicking.hoveredProps;if(!t)return e.show=!1,void(e.props=[]);e.show=!0,e.props=t};return t(),r.dispose(r.mySceneObjectPicking.hoveredPropsChanged.disposableOn(t)),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"mySceneObjectPicking",{get:function(){return this._mySceneObjectPicking},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsPanel",{get:function(){return this._propsPanel},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.ShowHoveredProps=s},5358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOnPickedResultFuncStr=void 0,t.defaultOnPickedResultFuncStr="function (pickedResult) {\n    console.log('pickedResult', pickedResult);\n    const { sceneObjectPickedInfo, czmPickedResult } = pickedResult;\n    if (sceneObjectPickedInfo) {\n        const sceneObjectName = sceneObjectPickedInfo.sceneObject?.name ?? '';\n        console.log(`${sceneObjectName }`);\n    }\n    if (czmPickedResult) {\n        console.log(`Cesium`);\n        console.log(czmPickedResult);\n    }\n}\n"},61650:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCzm3dTilesFeatureProps=void 0;var a=i(r(81557));t.getCzm3dTilesFeatureProps=function(e){if(e){var t=e.czmPickedResult;if(t instanceof a.Cesium3DTileFeature){var r=t;return r.getPropertyIds().map((function(e){return[e,r.getProperty(e)]}))}}}},51174:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(87196),t)},82053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onPickedResultFuncStrReadMe=void 0;var n=r(5358),o=r(8327);t.onPickedResultFuncStrReadMe="\n# \n## \n```\n".concat(n.defaultOnPickedResultFuncStr,"\n```\n\n## \n```\n").concat(o.selectOnPickedResultFuncStr,"\n```\n")},8327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectOnPickedResultFuncStr=void 0,t.selectOnPickedResultFuncStr="function (pickedResult) {\n    // console.log('pickedResult', pickedResult);\n    const property = 'id'; // id\n    \n    const { czmPickedResult } = pickedResult;\n    if (!czmPickedResult) {\n        g_app.czm3dtilesStyleListening.style.color = undefined;\n        g_app.czm3dtilesStyleListening.makeStyleDirty();\n        return;\n    }\n\n    var clickedFeature = czmPickedResult;\n    var clickedFeatureId = clickedFeature.getProperty(property);\n    g_app.czm3dtilesStyleListening.style.color = {\n        evaluateColor : function(feature, result) {\n            do {\n                if (feature.tileset !== clickedFeature.tileset) break; \n                var featureId = feature.getProperty(property);\n                if (featureId !== clickedFeatureId) break;\n                return new Cesium.Color(1, 0, 0, 1)\n            } while (false);\n            return result;\n        }\n    };\n    g_app.czm3dtilesStyleListening.makeStyleDirty();\n}\n"},17986:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FunAsrVoiceMonitor=void 0;var i=r(9675),a=r(60635),s=r(6997),c=r(81901),l=function(e){function t(t){var r=e.call(this)||this;r._monitor=t;var n=r._monitor,o=n.webSocketClient,i=n.recorder,a={chunk_size:new Array(5,10,5),wav_name:"h5",is_speaking:!0,chunk_interval:10,itn:!0,mode:"offline",hotwords:r.monitor.hotWords};return o.rawSend(JSON.stringify(a)),r.dispose(i.recProcessEvent.disposableOn((function(e){o.rawSend(e.data_16k)}))),r.dispose((function(){var e={chunk_size:new Array(5,10,5),wav_name:"h5",is_speaking:!1,chunk_interval:10,mode:"offline"};o.rawSend(JSON.stringify(e))})),r}return o(t,e),Object.defineProperty(t.prototype,"monitor",{get:function(){return this._monitor},enumerable:!1,configurable:!0}),t}(i.Destroyable),u=function(e){function t(){var t,r,n,o=e.call(this)||this;return o._enabled=o.disposeVar((0,i.react)(!1)),o._hotWords=o.disposeVar((0,i.react)("")),o._wsUrl=o.disposeVar((0,i.react)("ws://127.0.0.1:10095")),o._webSocketClient=(t=o.disposeVar(new s.WebSocketClient),o.dispose((0,i.track)([t,"url"],[o,"wsUrl"])),o.dispose((0,i.track)([t,"enabled"],[o,"enabled"])),t),o._recorder=((r=new a.XYRecorder).listening=!0,o.dispose((0,i.track)([r,"enabled"],[o,"enabled"])),o.dispose(r.recProcessEvent.disposableOn((function(e){e.buffers.length=0,e.data_16k}))),r),o._running=(n=o.disposeVar((0,i.createNextAnimateFrameEvent)(o.webSocketClient.readyChanged,o.recorder.availableChanged)),new c.ObjResettingWithEvent(n,(function(){if(o.webSocketClient.ready&&o.recorder.available)return new l(o)}))),o._messageEvent=function(){var e=o.disposeVar(new i.Event);return o.dispose(o.webSocketClient.messageEvent.disposableOn((function(t){if(o.enabled&&"string"==typeof t)try{var r=JSON.parse(t);if("2pass-offline"!==r.mode)return;var n=r.text;e.emit(n,r)}catch(e){console.warn(""),console.warn(e)}}))),e}(),o}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hotWords",{get:function(){return this._hotWords.value},set:function(e){this._hotWords.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hotWordsChanged",{get:function(){return this._hotWords.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wsUrl",{get:function(){return this._wsUrl.value},set:function(e){this._wsUrl.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wsUrlChanged",{get:function(){return this._wsUrl.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webSocketClient",{get:function(){return this._webSocketClient},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recorder",{get:function(){return this._recorder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageEvent",{get:function(){return this._messageEvent},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FunAsrVoiceMonitor=u},60635:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.XYRecorder=void 0,r(71011),r(37479),r(40701);var i=r(34016),a=r(22202),s=function(e){function t(t){var r=e.call(this)||this;if(r._xyRecorder=t,!r.xyRecorder.available)throw console.error("!this.xyRecorder.available"),new Error("!this.xyRecorder.available");if(!r.xyRecorder.listening)throw console.error("!this.xyRecorder.listening"),new Error("!this.xyRecorder.listening");return r.xyRecorder.r.start(),r.dispose((function(){r.xyRecorder.r.stop()})),r}return o(t,e),Object.defineProperty(t.prototype,"xyRecorder",{get:function(){return this._xyRecorder},enumerable:!1,configurable:!0}),t}(i.Destroyable),c=function(e){function t(){var t,r,n,o=e.call(this)||this;return o._enabled=o.disposeVar((0,i.react)(!1)),o._available=o.disposeVar((0,i.react)(!1)),o._listening=o.disposeVar((0,i.react)(!1)),o._recProcessEvent=o.disposeVar(new i.Event),o._r=(t=window.Recorder({type:"pcm",bitRate:16,sampleRate:16e3,onProcess:function(e,t,r,n,i,a){var s=e[e.length-1],c=new Array(s),l=window.Recorder.SampleData(c,n,16e3).data;o.recProcessEvent.emit({buffers:e,powerLevel:t,bufferDuration:r,bufferSampleRate:n,newBufferIdx:i,asyncEnd:a,data_16k:l})}}),(r=function(){o.enabled?t.open((function(){return o._available.value=!0})):(o._available.value=!1,t.close((function(){return o._available.value=!1})))})(),o.dispose(o.enabledChanged.disposableOn(r)),t),o._resetting=(n=o.disposeVar((0,i.createNextAnimateFrameEvent)(o.availableChanged,o.listeningChanged)),o.disposeVar(new a.ObjResettingWithEvent(n,(function(){if(o.available&&o.listening)return new s(o)})))),o}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"available",{get:function(){return this._available.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableChanged",{get:function(){return this._available.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listening",{get:function(){return this._listening.value},set:function(e){this._listening.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listeningChanged",{get:function(){return this._listening.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recProcessEvent",{get:function(){return this._recProcessEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r",{get:function(){return this._r},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.XYRecorder=c},74110:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyVoiceController=t.animateFrame=void 0;var c=r(80468),l=r(51355),u=r(59645);r(17986);var f=r(17986),p=r(42626);function d(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=!0,i=function(){if(o){var n=performance.now();e.apply(void 0,s([n],a(r),!1)),t=requestAnimationFrame(i),console.log(t)}};return i(),function(){o=!1,void 0!==t?(cancelAnimationFrame(t),t=void 0):console.error("requestId === undefined")}}t.animateFrame=d;var h=function(e){function t(t,r,n){void 0===n&&(n=!0);var i,a=e.call(this)||this;return a._enabled=a.disposeVar((0,l.react)(!1)),a._duration=a.disposeVar((0,l.react)(0)),a._durationInit=void a.dispose(a.durationChanged.disposableOn((function(){a.debug&&console.log("duration changed: ".concat(a.duration)),a.duration>0||(a.enabled=!1,a.func&&a.func())}))),a.debug=!1,a._counting=(i=a.disposeVar(new u.ObjResettingWithEvent(a.enabledChanged,(function(){if(a.enabled&&!(a.duration<=0)){var e=a;return new(function(t){function r(){var r=t.call(this)||this,n=Date.now(),o=d((function(){var t=Date.now(),r=t-n;n=t;var o=e.duration-r;e.duration=o}));return r.dispose((function(){console.log("cancelAnim"),o()})),r}return o(r,t),r}(l.Destroyable))}}))),i),a.func=t,a.duration=r,a.enabled=n,a}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration.value},set:function(e){this._duration.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationChanged",{get:function(){return this._duration.changed},enumerable:!1,configurable:!0}),t}(l.Destroyable),g=function(e){function t(t){var r,n,o,i,a=e.call(this,t)||this;return a._awake=(r=a.disposeVar((0,l.react)(!1)),(n=function(){a.enabled||(r.value=!1)})(),a.dispose(a.enabledChanged.disposableOn(n)),r),a._timeCountDown=function(){var e=a.disposeVar(new h((function(){a._awake.value=!1}),a.awakeDuration,a.awake));a.dispose((0,l.track)([e,"debug"],[a,"debug"]));var t=function(){a.awake?(e.duration=a.awakeDuration,e.enabled=!0):(e.enabled=!1,e.duration=0)};return t(),a.dispose(a.awakeChanged.disposableOn(t)),e}(),a._monitor=(o=a.disposeVar(new f.FunAsrVoiceMonitor),a.dispose((0,l.track)([o,"enabled"],[a,"enabled"])),a.dispose((0,l.track)([o,"wsUrl"],[a,"wsUrl"])),a.dispose((0,l.track)([o,"hotWords"],[a,"hotWords"])),o),a._messageEvent=(i=a.disposeVar(new l.Event),a.dispose(a.monitor.messageEvent.disposableOn((function(e){a.wakeWords.some((function(t){return e.includes(t)}))&&(a._awake.value=!0),a.awake&&(a.timeCountDown.duration=a.awakeDuration),a._lastMessage.value=e,i.emit(a.awake,e)}))),i),a._lastMessage=a.disposeVar((0,l.react)("")),a._messageFunc=a.disposeVar((0,l.react)(void 0)),a._messageFuncStrInit=function(){a.messageEvent.disposableOn((function(e,t){return a.messageFunc&&a.messageFunc(e,t)}));var e=function(){a.messageFunc=(0,c.getFuncFromStr)(a.messageFuncStr)};e(),a.dispose(a.messageFuncStrChanged.disposableOn(e))}(),a._awakeFunc=a.disposeVar((0,l.react)(void 0)),a._awakeFuncStrInit=function(){var e;(e=function(){a.awakeFunc&&a.awakeFunc(a.awake)})(),a.awakeChanged.disposableOn(e),(e=function(){a.awakeFunc=(0,c.getFuncFromStr)(a.awakeFuncStr)})(),a.dispose(a.awakeFuncStrChanged.disposableOn(e))}(),a}var r;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"MyVoiceController"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"awake",{get:function(){return this._awake.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"awakeChanged",{get:function(){return this._awake.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeCountDown",{get:function(){return this._timeCountDown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"monitor",{get:function(){return this._monitor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageEvent",{get:function(){return this._messageEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastMessage",{get:function(){return this._lastMessage.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastMessageChanged",{get:function(){return this._lastMessage.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageFunc",{get:function(){return this._messageFunc.value},set:function(e){this._messageFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageFuncChanged",{get:function(){return this._messageFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"awakeFunc",{get:function(){return this._awakeFunc.value},set:function(e){this._awakeFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"awakeFuncChanged",{get:function(){return this._awakeFunc.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(enabled)",!1,!1,[this,"enabled"]),new c.BooleanProperty("","(awake)",!1,!0,[this,"awake"]),new c.StringProperty("WebSocket URL","WebSocket URL(wsUrl)",!1,!1,[this,"wsUrl"]),new c.StringProperty("","(wakeWords)",!1,!1,[this,"wakeWords"]),new p.LongString2Property("","(hotWords)",!1,!1,[this,"hotWords"]),new c.NumberProperty("","(awakeDuration)",!1,!1,[this,"awakeDuration"]),new c.EvalStringProperty("","(messageFuncStr)",!1,!1,[this,"messageFuncStr"]),new c.EvalStringProperty("","(awakeFuncStr)",!1,!1,[this,"awakeFuncStr"]),new c.StringProperty("","(lastMessage)",!1,!0,[this,"lastMessage"]),new c.BooleanProperty("","(debug)",!1,!1,[this,"debug"])])],!1)},r=t,t.type=r.register("MyVoiceController",r,{chsName:"MyVoiceController",tags:["ESObjects"],description:"MyVoiceController"}),t.defaults=i({},c.ESSceneObject.defaults),t.defaultMessageFuncStr="function (awake, msg) {\n    console.log(awake, msg);\n}\n",t.defaultAwakeFuncStr="function (awake) {\n    console.log(awake);\n}\n",t}(c.ESSceneObject);t.MyVoiceController=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{enabled:!1,wsUrl:"ws://127.0.0.1:10095",wakeWords:(0,l.reactArray)([""]),hotWords:" 40",awakeDuration:1e4,messageFuncStr:e.defaultMessageFuncStr,awakeFuncStr:e.defaultAwakeFuncStr,debug:!1})}}(g=t.MyVoiceController||(t.MyVoiceController={})),t.MyVoiceController=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},77632:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MyWebSocketClient=t.msgDataFuncStrReadMe=void 0;var c=r(80468),l=r(51355),u=r(59645),f=r(99194);t.msgDataFuncStrReadMe='# \n```\nasync function (msgData) {\n    let uint8Array = undefined;\n    if (msgData instanceof ArrayBuffer) {\n        uint8Array = new Uint8Array(msgData);\n    } else if (msgData instanceof Blob) {\n        const arrayBuffer = await msgData.arrayBuffer();\n        uint8Array = new Uint8Array(arrayBuffer);\n    } else if (msgData instanceof Uint8Array) {\n        uint8Array = msgData;\n    } else {\n        return;\n    }\n\n    const flyToConfigMap = {\n        "55 01 32 00 00 00 01 89": {\n            "position": [\n                100.34783226204183,\n                34.50965928262229,\n                4094410.0844377456\n            ],\n            "rotation": [\n                360,\n                -89.94381318987573,\n                0\n            ],\n        },\n        "55 01 32 00 00 00 02 8A": {\n                "position": [\n                    118.24339296795846,\n                    36.56597966474985,\n                    526320.4023844689\n                ],\n                "rotation": [\n                    334.1282466912997,\n                    -59.4764245454952,\n                    0.034950514001634306\n                ],\n        },\n    };\n    const { uint8ArrayToHex } = XE2[\'my3dtiles-lib-main\'].WebSocketClient;\n    const hexStr = uint8ArrayToHex(uint8Array);\n    const pr = flyToConfigMap[hexStr];\n    if (!pr) { \n        console.warn(`ws(${hexStr})`);\n        return;\n    }\n    g_app.czmViewer.flyTo(pr.position, undefined, pr.rotation);\n}\n```\n';var p=function(e){function r(t){var r,n,o=e.call(this,t)||this;return o._websocketClient=function(){var e,t=o.disposeVar(new f.WebSocketClient);(e=function(){t.log=o.log})(),o.logChanged.disposableOn(e),o.dispose((0,l.track)([t,"url"],[o,"url"])),o.dispose((0,l.track)([t,"enabled"],[o,"enabled"])),(e=function(){var e=o,r=e.heartBeatInterval,n=e.heartBeatRcvTimeOut,i=e.heartBeatMsg,a=e.heartBeatRcvMsg;"none"===o.heartBeatMode?t.heartBeatOptions=void 0:"simple"===o.heartBeatMode?t.heartBeatOptions=f.WebSocketClient.createSimpleHeartBeatOptions({heartBeatRcvTimeOut:n}):"standard"===o.heartBeatMode&&(t.heartBeatOptions=f.WebSocketClient.createStandardHeartBeatOptions({heartBeatInterval:r,heartBeatRcvTimeOut:n,heartBeatMsg:i,heartBeatRcvMsg:a}))})();var r=o.disposeVar((0,u.createNextAnimateFrameEvent)(o.heartBeatModeChanged,o.heartBeatIntervalChanged,o.heartBeatRcvTimeOutChanged,o.heartBeatMsgChanged,o.heartBeatRcvMsgChanged));return o.dispose(r.disposableOn(e)),t}(),o._messageFunc=(r=o.disposeVar((0,l.react)(void 0)),o.dispose(o.websocketClient.messageEvent.disposableOn((function(e){return r.value&&r.value(e)}))),r),o._messageFuncInit=(n=function(){if(o.messageFuncStr){var e=(0,c.getFuncFromStr)(o.messageFuncStr);e&&(o.messageFunc=e)}else o.messageFunc=void 0},n(),void o.dispose(o.messageFuncStrChanged.disposableOn(n))),o}var n;return o(r,e),Object.defineProperty(r.prototype,"typeName",{get:function(){return"MyWebSocketClient"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"defaultProps",{get:function(){return r.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"websocketClient",{get:function(){return this._websocketClient},enumerable:!1,configurable:!0}),r.prototype.send=function(e){this.websocketClient.send(e)},r.prototype.forceReconnect=function(){this.websocketClient.forceReconnect()},Object.defineProperty(r.prototype,"messageFunc",{get:function(){return this._messageFunc.value},set:function(e){this._messageFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"messageFuncChanged",{get:function(){return this._messageFunc.changed},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("","",[new c.BooleanProperty("","(enabled)",!1,!1,[this,"enabled"]),new c.StringProperty("url","url",!1,!1,[this,"url"]),new c.BooleanProperty("","(log)",!1,!1,[this,"log"]),new c.EvalStringProperty("","(messageFunc)",!1,!1,[this,"messageFuncStr"],void 0,r.msgDataFuncStrReadMe),new c.GroupProperty("","",[new c.EnumProperty("","(heartBeatMode)",!1,!1,[this,"heartBeatMode"],r.heartBeatModes.map((function(e){return[e,e]}))),new c.NumberProperty("","(heartBeatInterval)",!1,!1,[this,"heartBeatInterval"]),new c.NumberProperty("","(heartBeatRcvTimeOut)",!1,!1,[this,"heartBeatRcvTimeOut"]),new c.StringProperty("","(heartBeatMsg)",!1,!1,[this,"heartBeatMsg"]),new c.StringProperty("","(heartBeatRcvMsg)",!1,!1,[this,"heartBeatRcvMsg"])])])],!1)},n=r,r.type=n.register("MyWebSocketClient",n,{chsName:"MyWebSocketClient",tags:["ESObjects"],description:"MyWebSocketClient"}),r.heartBeatModes=["simple","standard","none"],r.msgDataFuncStrReadMe=t.msgDataFuncStrReadMe,r.defaults=i({},c.ESSceneObject.defaults),r.defaultMessageFuncStr="function (msgData) {\n    console.log(msgData);\n}",r}(c.ESSceneObject);t.MyWebSocketClient=p,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{enabled:!1,url:"ws://127.0.0.1:3001",log:!1,messageFuncStr:e.defaultMessageFuncStr,heartBeatMode:"none",heartBeatInterval:3e4,heartBeatRcvTimeOut:6e4,heartBeatMsg:"heartbeat",heartBeatRcvMsg:"heartbeat response"})}}(p=t.MyWebSocketClient||(t.MyWebSocketClient={})),t.MyWebSocketClient=p,(0,l.extendClassProps)(p.prototype,p.createDefaultProps)},53125:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(12519),t),o(r(47730),t),o(r(35980),t),o(r(62390),t),o(r(51174),t),o(r(31548),t),o(r(77632),t),o(r(74110),t)},43921:()=>{"use strict";!function(){try{var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?dee28829978883ff4ad36eeb708473d7";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(e){console.error("".concat(e))}}()},12745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75037:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(12745),t),o(r(88766),t)},88766:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.svg=void 0,(r=t.svg||(t.svg={})).czmKml='<svg t="1715908373521" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="77666" ><path d="M28.501333 51.2v286.776889c0 12.629333 10.24 22.869333 22.812445 22.869333h14.791111c12.629333 0 22.869333-10.24 22.869333-22.869333V232.561778a22.755556 22.755556 0 0 1 22.755556-22.869334h800.483555c12.629333 0 22.869333 10.24 22.869334 22.869334v105.415111c0 12.629333 10.24 22.869333 22.755555 22.869333h14.848c12.629333 0 22.755556-10.24 22.755556-22.869333V51.256889a22.755556 22.755556 0 0 0-22.755556-22.812445H51.2A22.755556 22.755556 0 0 0 28.444444 51.2z m60.529778 75.320889v-14.791111a22.755556 22.755556 0 0 1 22.812445-22.812445h800.426666a22.755556 22.755556 0 0 1 22.869334 22.755556v14.791111c0 12.629333-10.24 22.869333-22.869334 22.869333H111.843556a22.755556 22.755556 0 0 1-22.869334-22.812444h0.056889z m-22.983111 657.351111c12.572444 0 22.812444 10.24 22.869333 22.755556v105.472a22.755556 22.755556 0 0 0 22.755556 22.869333h800.426667a22.869333 22.869333 0 0 0 23.04-22.869333V806.684444a22.755556 22.755556 0 0 1 22.812444-22.755555h14.791111a22.755556 22.755556 0 0 1 22.812445 22.755555v165.888a22.755556 22.755556 0 0 1-22.755556 22.755556H51.2a22.755556 22.755556 0 0 1-22.755556-22.755556V806.684444a22.755556 22.755556 0 0 1 22.755556-22.755555zM261.12 457.159111V557.511111h1.024l72.021333-100.352H401.066667L324.266667 558.876444 415.402667 711.111111H348.501333l-59.733333-104.106667-27.648 37.546667v66.56H200.021333V457.159111H261.12z m235.064889 0l40.277333 109.568c5.12 14.677333 9.216 30.72 13.994667 46.421333h1.706667c5.12-15.701333 9.216-31.744 13.994666-46.421333l38.912-109.568H671.288889V711.111111h-55.637333v-87.04c0-25.258667 4.778667-63.146667 7.850666-88.064h-1.365333l-21.162667 60.757333-34.133333 92.842667h-33.450667L498.915556 596.764444l-20.48-60.757333h-1.365334c3.072 24.917333 7.850667 62.805333 7.850667 88.064v87.04h-54.613333V457.159111h65.877333z m283.192889 0V659.911111h98.645333v51.2h-159.744V457.159111H779.377778z" p-id="77667" fill="#ffffff"></path></svg>',r.czmGeoJson='<svg t="1715908111212" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="76542"><path d="M0.064 24.128v303.616c0 13.376 10.816 24.192 24.128 24.256h15.68c13.44 0 24.256-10.88 24.256-24.256V216.128A24.128 24.128 0 0 1 88.256 192H935.68c13.44 0 24.256 10.88 24.256 24.192v111.616c0 13.376 10.752 24.192 24.128 24.256h15.68c13.312-0.064 24.128-10.88 24.128-24.256V24.128A24.128 24.128 0 0 0 999.808 0H24.064a24.128 24.128 0 0 0-24 24.128z m64.128 79.68v-15.616A24.064 24.064 0 0 1 88.32 64h847.488a24.128 24.128 0 0 1 24.256 24.192v15.616c0 13.376-10.88 24.192-24.256 24.192H88.32a24.128 24.128 0 0 1-24.192-24.192z m-24.32 696.064c13.312 0 24.128 10.816 24.128 24.128v111.616a24.128 24.128 0 0 0 24.192 24.192H935.68a24.192 24.192 0 0 0 24.32-24.192v-111.616a24.128 24.128 0 0 1 24.192-24.128h15.68c13.312 0 24.128 10.816 24.128 24.128v175.616a24.128 24.128 0 0 1-24.128 24.192H24.128A24.128 24.128 0 0 1 0 999.616v-175.616c0-13.312 10.816-24.128 24.128-24.128zM244.48 600.704v154.816c0 45.952-24.192 83.648-76.736 83.648-36.48 0-60.416-14.08-77.44-43.072l38.4-28.608c8.192 16 20.16 23.232 31.488 23.232 18.24 0 27.968-9.088 27.968-39.616v-150.4h56.32z m121.024-4.352c27.072 0 55.68 10.368 76.16 30.784l-28.032 35.2c-15.36-11.584-29.888-17.92-48.128-17.92-17.28 0-27.968 6.976-27.968 19.52 0 12.928 14.72 17.92 35.52 26.112l29.248 11.648c28.992 11.648 46.272 31.168 46.272 64.192 0 39.04-32.704 73.28-89.344 73.28-30.528 0-63.232-11.328-87.488-33.664l31.808-38.656c16.64 14.144 38.4 23.872 56.96 23.872 20.736 0 30.464-7.808 30.464-20.48 0-13.44-12.864-17.92-33.024-26.368l-29.888-12.608c-24.512-9.728-47.488-30.144-47.488-64.128 0-39.36 35.2-70.784 84.928-70.784z m208.192 0c63.808 0 107.264 43.712 107.264 120.128 0 76.8-43.456 122.688-107.264 122.688-63.872 0-107.328-45.888-107.328-122.688 0-76.736 43.456-120.128 107.328-120.128z m197.44 4.352l58.24 112 22.912 51.904h1.6c-3.2-24.832-7.552-58.496-7.552-86.464v-77.44h53.44v234.112h-57.216l-57.92-112.96-22.976-51.264h-1.536c2.56 26.112 7.232 58.24 7.232 86.464v77.76h-53.504V600.704h57.28z m-197.44 43.776c-30.848 0-49.728 26.752-49.728 72 0 45.632 18.88 74.24 49.728 74.24 30.784 0 49.984-28.608 49.984-74.24 0-45.248-19.2-72-49.984-72zM320.832 301.184c32.768 0 56.192 13.824 71.488 29.12l-28.544 34.304c-10.816-9.92-22.528-17.472-41.152-17.472-33.088 0-56.832 25.856-56.832 69.44 0 44.48 19.84 70.336 61.312 70.336a38.08 38.08 0 0 0 21.376-5.76v-36.032H312.96V401.28h83.2v104.576c-15.616 14.976-43.264 27.328-74.496 27.328-62.208 0-110.912-39.04-110.912-114.816 0-74.496 50.176-117.184 110.016-117.184z m382.08 0c60.992 0 102.4 41.792 102.4 114.816 0 73.28-41.408 117.12-102.4 117.12-61.056 0-102.528-43.84-102.528-117.12 0-73.344 41.472-114.816 102.464-114.816z m-129.792 4.224v44.48H485.12v41.472h74.816v45.056h-74.88v47.488h91.392v45.056H431.36V305.408h141.824z m129.728 41.728c-29.44 0-47.488 25.6-47.488 68.864 0 43.52 18.048 70.912 47.488 70.912s47.808-27.392 47.808-70.912c0-43.328-18.304-68.864-47.808-68.864z" p-id="76543" fill="#ffffff"></path></svg>',r.czm3dtiles='<svg t="1715851505356" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="75464"><path d="M5.688889 523.377778L113.777778 512c5.688889 28.444444 11.377778 51.2 28.444444 62.577778 17.066667 17.066667 34.133333 22.755556 56.888889 22.755555s39.822222-11.377778 56.888889-28.444444 22.755556-39.822222 22.755556-68.266667-5.688889-51.2-22.755556-68.266666-34.133333-22.755556-56.888889-22.755556c-17.066667 0-34.133333 0-51.2 5.688889l11.377778-91.022222c28.444444 0 51.2-5.688889 68.266667-17.066667 17.066667-11.377778 22.755556-34.133333 22.755555-56.888889 0-17.066667-5.688889-34.133333-17.066667-45.511111s-22.755556-17.066667-39.822222-17.066667c-22.755556 0-34.133333 5.688889-51.2 17.066667s-22.755556 34.133333-22.755555 56.888889L17.066667 244.622222c5.688889-34.133333 17.066667-62.577778 34.133333-85.333333 11.377778-17.066667 34.133333-34.133333 56.888889-45.511111s56.888889-17.066667 85.333333-17.066667c56.888889 0 96.711111 17.066667 130.844445 51.2 28.444444 28.444444 39.822222 62.577778 39.822222 96.711111 5.688889 51.2-22.755556 91.022222-79.644445 119.466667 34.133333 11.377778 56.888889 28.444444 79.644445 51.2s28.444444 56.888889 28.444444 91.022222c0 51.2-17.066667 96.711111-56.888889 130.844445s-85.333333 51.2-136.533333 51.2-96.711111-17.066667-130.844444-45.511112-56.888889-68.266667-62.577778-119.466666zM694.044444 597.333333l79.644445-34.133333 79.644444 34.133333-73.955555-39.822222-85.333334 39.822222z" p-id="75465" fill="#ffffff"></path><path d="M494.933333 631.466667l79.644445-39.822223h-39.822222V204.8h51.2c45.511111 0 79.644444 0 96.711111 5.688889 22.755556 5.688889 39.822222 11.377778 56.888889 28.444444s22.755556 34.133333 34.133333 56.888889c5.688889 22.755556 11.377778 56.888889 11.377778 102.4 0 39.822222-5.688889 73.955556-11.377778 96.711111l102.4 51.2c0-5.688889 5.688889-11.377778 11.377778-17.066666 11.377778-34.133333 22.755556-79.644444 22.755555-125.155556 0-56.888889-5.688889-102.4-17.066666-136.533333-11.377778-39.822222-28.444444-68.266667-56.888889-96.711111s-51.2-45.511111-85.333334-51.2c-22.755556-5.688889-62.577778-11.377778-108.088889-11.377778H420.977778v580.266667h73.955555v-56.888889z" p-id="75466" fill="#ffffff"></path><path d="M551.822222 665.6v22.755556h5.688889v-17.066667l34.133333 17.066667h28.444445l-62.577778-28.444445z" p-id="75467" fill="#ffffff"></path><path d="M1018.311111 893.155556l-250.311111 125.155555-250.311111-125.155555v-250.311112l256-119.466666 244.622222 119.466666v250.311112z m-221.866667 39.822222l170.666667-73.955556v-159.288889l-170.666667 79.644445v153.6z m-221.866666-85.333334l164.977778 85.333334v-153.6l-159.288889-68.266667-5.688889 136.533333z m193.422222-256l-147.911111 62.577778 147.911111 62.577778 147.911111-62.577778-147.911111-62.577778z" p-id="75468" fill="#ffffff"></path></svg>',r.czmGltf='<svg t="1715908720944" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="95351" ><path d="M772.608 382.976V300.544L559.104 41.984H91.136v932.864h681.472v-161.28h179.2V382.976h-179.2zM180.736 131.584h337.408L683.008 332.8v50.176H180.736V131.584z m359.424 526.848v43.008H406.016V488.96h51.2v169.984h82.944z m-242.688 3.072c7.68 0 15.872-2.048 20.48-5.632v-34.304h-33.792v-41.984H363.52v99.328c-14.848 14.336-40.96 26.112-71.168 26.112-59.392 0-105.472-37.376-105.472-109.056 0-71.168 47.616-111.616 104.448-111.616 31.232 0 53.248 13.312 68.096 27.648l-27.136 32.768c-10.24-9.216-21.504-16.384-39.424-16.384-31.232 0-54.272 24.576-54.272 66.048 0.512 42.496 19.456 67.072 58.88 67.072z m385.536 223.744H180.736v-71.68h502.272v71.68z m4.608-354.304H629.76V701.44h-51.2v-170.496h-57.344v-42.496h166.4v42.496z m168.96 0h-84.48v46.592H844.8v42.496h-72.704V701.44h-51.2V488.96h135.68v41.984z" p-id="95352" fill="#ffffff"></path></svg>',r.czmTexture='<svg t="1715932470620" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="178577" ><path d="M867.90864 574.538232V257.779543a50.844091 50.844091 0 0 0-50.844092-50.844091h-610.129096a50.844091 50.844091 0 0 0-50.844092 50.844091v499.797418l430.141013-257.779543a152.532274 152.532274 0 0 1 157.108243 0z m0 118.466733l-177.445879-106.264151a50.844091 50.844091 0 0 0-50.844092 0L254.220457 817.064548h562.844091a50.844091 50.844091 0 0 0 50.844092-50.844091z m-660.973188-587.757696h610.129096a152.532274 152.532274 0 0 1 152.532274 152.532274v508.440914a152.532274 152.532274 0 0 1-152.532274 152.532274h-610.129096a152.532274 152.532274 0 0 1-152.532274-152.532274v-508.440914a152.532274 152.532274 0 0 1 152.532274-152.532274z m127.110228 355.90864a76.266137 76.266137 0 1 1 76.266137-76.266137 76.266137 76.266137 0 0 1-76.266137 76.266137z" fill="#ffffff" p-id="178578"></path></svg>',r.customization='<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24"><path d="m24,4v2c0,.553-.447,1-1,1s-1-.447-1-1v-2c0-1.103-.897-2-2-2h-2c-.553,0-1-.447-1-1s.447-1,1-1h2c2.206,0,4,1.794,4,4Zm-1,8c-.553,0-1,.447-1,1v2c0,1.103-.897,2-2,2h-2c-.553,0-1,.447-1,1s.447,1,1,1h2c2.206,0,4-1.794,4-4v-2c0-.553-.447-1-1-1ZM6,7c.553,0,1-.447,1-1v-2c0-1.103.897-2,2-2h2c.553,0,1-.447,1-1s-.447-1-1-1h-2c-2.206,0-4,1.794-4,4v2c0,.553.447,1,1,1Zm12.914,5.792c.162-.349.089-.763-.183-1.036l-1.946-1.946,1.244-2.622c.159-.348.085-.759-.186-1.03s-.682-.345-1.03-.186l-2.622,1.244-1.946-1.946c-.272-.272-.685-.345-1.034-.184-.349.161-.56.523-.529.907l.287,2.797-2.567,1.346c-.345.18-.539.558-.484.944.029.201.122.381.259.518.126.126.288.215.47.251l1.742.345L.293,22.293c-.391.391-.391,1.023,0,1.414.195.195.451.293.707.293s.512-.098.707-.293l10.119-10.119.378,1.792c.081.38.393.669.78.72.387.05.763-.149.938-.498l1.298-2.568,2.784.284c.384.033.748-.178.91-.527Z" fill="#ffffff"/></svg>'},12335:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(42626),t),o(r(75037),t),o(r(78764),t),o(r(6997),t),o(r(16549),t),o(r(32192),t),o(r(37029),t),r(43921)},57015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFloat32ArrayFromBuffer=t.getUint32ArrayFromBuffer=t.getUint16ArrayFromBuffer=t.getUint8ArrayFromBuffer=t.getUint32FromBuffer=t.getStrFromBuffer=void 0,t.getStrFromBuffer=function(e,t,r){var n="buffer"in e,o=n?e.buffer:e;n&&(t+=e.byteOffset);for(var i=new Array(r),a=new DataView(o),s=0;s<r;++s){var c=a.getUint8(t+s);i[s]=String.fromCharCode(c)}return i.join("")},t.getUint32FromBuffer=function(e,t){var r="buffer"in e,n=r?e.buffer:e;return r&&(t+=e.byteOffset),new DataView(n).getUint32(t,!0)},t.getUint8ArrayFromBuffer=function(e,t,r){var n="buffer"in e,o=n?e.buffer:e;if(n&&(t+=e.byteOffset),!(t+r>o.byteLength))return new Uint8Array(o,t,r);console.error("byteOffset + length > buffer.byteLength")},t.getUint16ArrayFromBuffer=function(e,t,r){var n="buffer"in e,o=n?e.buffer:e;if(n&&(t+=e.byteOffset),!(t+2*r>o.byteLength))return new Uint16Array(o,t,r);console.error("byteOffset + length * 4 > buffer.byteLength")},t.getUint32ArrayFromBuffer=function(e,t,r){var n="buffer"in e,o=n?e.buffer:e;if(n&&(t+=e.byteOffset),!(t+4*r>o.byteLength))return new Uint32Array(o,t,r);console.error("byteOffset + length * 4 > buffer.byteLength")},t.getFloat32ArrayFromBuffer=function(e,t,r){var n="buffer"in e,o=n?e.buffer:e;if(n&&(t+=e.byteOffset),!(t+4*r>o.byteLength))return new Float32Array(o,t,r);console.error("byteOffset + length * 4 > buffer.byteLength")}},40520:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.saveFile=t.getTextFromFile=t.requestWriteAccess=t.getSaveHtmlFileHandle=t.getSaveM3tObjFileHandle=t.getSaveM3tFileHandle=t.getOpenM3tFileHandle=t.compactFormatDate=t.getSaveFileHandle=t.getOpenFileHandle=void 0;var i={json:{description:"JSON Files",accept:{"text/json":".json"}},js:{description:"JS Files",accept:{"text/js":".js"}},txt:{description:"Text Files",accept:{"text/plain":[".txt",".text"]}}};t.getOpenFileHandle=function(e){return r(this,void 0,void 0,(function(){var t,r;return n(this,(function(n){switch(n.label){case 0:t=i[null!=e?e:"json"],n.label=1;case 1:return n.trys.push([1,3,,4]),[4,showOpenFilePicker({multiple:!1,types:[t],excludeAcceptAllOption:!0})];case 2:return[2,o.apply(void 0,[n.sent(),1])[0]];case 3:return r=n.sent(),console.warn("getOpenFileHandle error: ".concat(r)),[2,void 0];case 4:return[2]}}))}))},t.getSaveFileHandle=function(e,t){return r(this,void 0,void 0,(function(){var r,o;return n(this,(function(n){switch(n.label){case 0:r=i[null!=e?e:"json"],n.label=1;case 1:return n.trys.push([1,3,,4]),[4,showSaveFilePicker({suggestedName:null!=t?t:".".concat(null!=e?e:"json"),types:[r]})];case 2:return[2,n.sent()];case 3:return o=n.sent(),console.warn("getSaveFileHandle error: ".concat(o)),[2,void 0];case 4:return[2]}}))}))},t.compactFormatDate=function(e){var t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0"),a=e.getSeconds().toString().padStart(2,"0");return"".concat(t).concat(r).concat(n,"_").concat(o).concat(i).concat(a)},t.getOpenM3tFileHandle=function(){return r(this,void 0,void 0,(function(){var e,t,r;return n(this,(function(n){switch(n.label){case 0:e={description:"My3dtiles",accept:{"text/json":".m3t.json"}},t={description:"My3dtiles",accept:{"text/json":".m3tjson"}},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,showOpenFilePicker({multiple:!1,types:[e,t],excludeAcceptAllOption:!0})];case 2:return[2,o.apply(void 0,[n.sent(),1])[0]];case 3:return r=n.sent(),console.warn("getOpenFileHandle error: ".concat(r)),[2,void 0];case 4:return[2]}}))}))},t.getSaveM3tFileHandle=function(e){return r(this,void 0,void 0,(function(){var t,r;return n(this,(function(n){switch(n.label){case 0:t={description:"My3dtiles",accept:{"text/json":".m3tjson"}},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,showSaveFilePicker({suggestedName:null!=e?e:".m3tjson",types:[t]})];case 2:return[2,n.sent()];case 3:return r=n.sent(),console.warn("getSaveFileHandle error: ".concat(r)),[2,void 0];case 4:return[2]}}))}))},t.getSaveM3tObjFileHandle=function(e){return r(this,void 0,void 0,(function(){var t,r;return n(this,(function(n){switch(n.label){case 0:t={description:"My3dtiles",accept:{"text/json":".m3tojson"}},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,showSaveFilePicker({suggestedName:null!=e?e:".m3tojson",types:[t]})];case 2:return[2,n.sent()];case 3:return r=n.sent(),console.warn("getSaveFileHandle error: ".concat(r)),[2,void 0];case 4:return[2]}}))}))},t.getSaveHtmlFileHandle=function(e){return r(this,void 0,void 0,(function(){var t,r;return n(this,(function(n){switch(n.label){case 0:t={description:"Html",accept:{"text/json":".html"}},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,showSaveFilePicker({suggestedName:null!=e?e:".html",types:[t]})];case 2:return[2,n.sent()];case 3:return r=n.sent(),console.warn("getSaveFileHandle error: ".concat(r)),[2,void 0];case 4:return[2]}}))}))},t.requestWriteAccess=function(e){return r(this,void 0,void 0,(function(){var t;return n(this,(function(r){switch(r.label){case 0:return t={writable:!0,mode:"readwrite"},[4,e.queryPermission(t)];case 1:return"granted"!==r.sent()?[2,!1]:[2,!0]}}))}))},t.getTextFromFile=function(e){return r(this,void 0,void 0,(function(){var t;return n(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,e.getFile()];case 1:return[4,r.sent().text()];case 2:return[2,r.sent()];case 3:return t=r.sent(),console.warn("getTextFromFile error: ".concat(t)),[2,void 0];case 4:return[2]}}))}))},t.saveFile=function(e,t){return r(this,void 0,void 0,(function(){var r,o;return n(this,(function(n){switch(n.label){case 0:return r=new Blob([t],{type:"text/plain;charset=utf-8"}),[4,e.createWritable()];case 1:return[4,(o=n.sent()).write(r)];case 2:return n.sent(),[4,o.close()];case 3:return n.sent(),[2]}}))}))}},78764:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(57015),t),o(r(19528),t),o(r(40520),t)},19528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWaterGlb=t.parseGlb=void 0;var n=r(57015);function o(e){if("glTF"===(0,n.getStrFromBuffer)(e,0,4)){var t=(0,n.getUint32FromBuffer)(e,4);if(2===t){var r=(0,n.getUint32FromBuffer)(e,8);if(r===e.byteLength){var o=(0,n.getUint32FromBuffer)(e,12);if(o+12+4>r)console.error("Invalid glTF chunk length");else{if("JSON"===(0,n.getStrFromBuffer)(e,16,4)){var i={version:t,length:r,gltfJson:(0,n.getStrFromBuffer)(e,20,o)};do{if(20+o>=e.byteLength)break;var a=(0,n.getUint32FromBuffer)(e,20+o);if("BIN\0"!==(0,n.getStrFromBuffer)(e,20+o+4,4))return void console.error("Invalid glTF chunk type");var s=(0,n.getUint8ArrayFromBuffer)(e,20+o+8,a);i.gltfBinary=s}while(0);return i}console.error("Invalid glTF chunk type")}}else console.error("Invalid glTF length")}else console.error("Unsupported glTF version")}else console.error("Not a glTF file")}function i(e){var t=o(e);if(void 0!==t&&t.gltfBinary){var r=JSON.parse(t.gltfJson);return r.nodes.map((function(e){var o,i,a,s,c=r.meshes[e.mesh],l=c.primitives[0].attributes.POSITION,u=c.primitives[0].indices,f=r.accessors[l],p=r.bufferViews[f.bufferView];if(!t.gltfBinary)throw new Error("!glbParseResult.gltfBinary");var d,h=(0,n.getFloat32ArrayFromBuffer)(t.gltfBinary,null!==(o=p.byteOffset)&&void 0!==o?o:0,p.byteLength/4),g=r.accessors[u],y=r.bufferViews[g.bufferView];if(!t.gltfBinary)throw new Error("!glbParseResult.gltfBinary");return 5121===g.componentType?d=(0,n.getUint8ArrayFromBuffer)(t.gltfBinary,null!==(i=y.byteOffset)&&void 0!==i?i:0,y.byteLength/1):5123===g.componentType?d=(0,n.getUint16ArrayFromBuffer)(t.gltfBinary,null!==(a=y.byteOffset)&&void 0!==a?a:0,y.byteLength/2):5125===g.componentType&&(d=(0,n.getUint32ArrayFromBuffer)(t.gltfBinary,null!==(s=y.byteOffset)&&void 0!==s?s:0,y.byteLength/4)),{name:e.name,posBuffer:h,indicesBuffer:d}}))}}t.parseGlb=o,window.parseGlb=o,t.parseWaterGlb=i,window.parseWaterGlb=i},8675:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.FContextMenu=void 0;var a=r(51355),s=function(e){function t(){var t=e.call(this)||this;return t._show=t.disposeVar((0,a.react)(!1)),t._menuInfo=t.disposeVar((0,a.react)([])),t._position=t.disposeVar((0,a.react)([0,0])),t._clickedEvent=t.disposeVar(new a.Event),t._menuDiv=function(){var e=document.createElement("div");e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.display="flex",e.style.flexDirection="column",e.style.color="white",e.style.font="12px auto",e.style.backgroundColor="rgba(50, 50, 50, 1)",e.style.padding="0px",e.style.margin="0px",e.style.border="1px solid rgb(255, 255, 255, 0.4)";var r,n=function(){document.removeEventListener("DOMContentLoaded",n),document.body.appendChild(e)};return document.addEventListener("DOMContentLoaded",n),(r=function(){e.style.top="".concat(t.position[1],"px"),e.style.left="".concat(t.position[0],"px")})(),t.dispose(t.positionChanged.disposableOn(r)),(r=function(){var r,n;e.innerHTML="";var o=function(t,r){var n=document.createElement("div");n.style.minWidth="100px",n.style.height="24px",n.style.lineHeight="24px",n.style.padding="0px 6px",n.style.cursor="pointer",n.innerText=t,n.onclick=function(e){return r(e)},n.onpointerenter=function(){n.style.backgroundColor="rgba(255, 255, 255, 0.2)"},n.onpointerleave=function(){n.style.backgroundColor="transparent"},e.appendChild(n)};try{for(var a=i(t.menuInfo),s=a.next();!s.done;s=a.next()){var c=s.value;o(c.title,c.clickFunc)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}})(),t.dispose(t.menuInfoChanged.disposableOn(r)),(r=function(){e.style.display=t.show?"flex":"none"})(),t.dispose(t.showChanged.disposableOn(r)),e}(),document.addEventListener("DOMContentLoaded",(function(e){document.body.addEventListener("pointerup",(function(e){t.show&&(t.show=!1)}),!1)})),t}return o(t,e),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menuInfo",{get:function(){return this._menuInfo.value},set:function(e){this._menuInfo.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menuInfoChanged",{get:function(){return this._menuInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position.value},set:function(e){this._position.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionChanged",{get:function(){return this._position.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clickedEvent",{get:function(){return this._clickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"menuDiv",{get:function(){return this._menuDiv},enumerable:!1,configurable:!0}),t.prototype.showMenu=function(e,t){this.position=e,this.menuInfo=t,this.show=!0},t.instance=new t,t}(a.Destroyable);t.FContextMenu=s},69055:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FDrag=void 0;var i=r(51355),a=r(59645),s=r(46678),c=r(20795),l=r(75542),u=function(e){function t(t,r){var n=e.call(this)||this;return n._div=t,n._data=r,n._dropEvent=n.disposeVar(new i.Event),n._step=n.disposeVar((0,i.react)({type:"dragRaw"})),n._resetting=n.disposeVar(new a.ObjResettingWithEvent(n.stepChanged,(function(){return"dragRaw"===n.step.type?new c.FDragRawStatus(n):"dragReady"===n.step.type?new l.FDragReadyStatus(n):"dragging"===n.step.type?new s.FDraggingStatus(n):void 0}))),n}return o(t,e),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return t._current.value},set:function(e){var r=t._current.value;if(r!==e){if(r&&(r.step.type="dragRaw"),e&&"dragging"!==e.step.type)throw console.error("value && value.step !== 'dragging'"),new Error("value && value.step !== 'dragging'");t._current.value=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentChanged",{get:function(){return t._current.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropEvent",{get:function(){return this._dropEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step.value},set:function(e){this._step.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stepChanged",{get:function(){return this._step.changed},enumerable:!1,configurable:!0}),t._current=(0,i.react)(void 0),t}(i.Destroyable);t.FDrag=u},20795:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FDragRawStatus=void 0;var i=function(e){function t(t){var r=e.call(this)||this;r._drop=t;var n=function(e){r.drag.step={type:"dragReady"}},o=r.drag.div;return o.addEventListener("pointerdown",n,!1),r.dispose((function(){return o.removeEventListener("pointerdown",n,!1)})),r}return o(t,e),Object.defineProperty(t.prototype,"drag",{get:function(){return this._drop},enumerable:!1,configurable:!0}),t}(r(51355).Destroyable);t.FDragRawStatus=i},75542:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FDragReadyStatus=void 0;var i=function(e){function t(t){var r=e.call(this)||this;r._drag=t;var n=r.drag.div,o=function(e){r.drag.step={type:"dragging",pointerId:e.pointerId}};n.addEventListener("pointermove",o,!1),r.dispose((function(){return n.removeEventListener("pointermove",o,!1)}));var i=function(e){r.drag.step={type:"dragRaw"}},a=r.drag.div;return a.addEventListener("pointerup",i,!1),r.dispose((function(){return a.removeEventListener("pointerup",i,!1)})),r}return o(t,e),Object.defineProperty(t.prototype,"drag",{get:function(){return this._drag},enumerable:!1,configurable:!0}),t}(r(51355).Destroyable);t.FDragReadyStatus=i},46678:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FDraggingStatus=void 0;var i=r(51355),a=r(69055),s="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1719656638575" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22544" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M772.266667 652.8c-4.266667 4.266667-12.8 8.533333-17.066667 12.8l-102.4 17.066667 72.533333 153.6c8.533333 17.066667 0 34.133333-17.066666 42.666666l-119.466667 55.466667c-4.266667 4.266667-8.533333 4.266667-12.8 4.266667-12.8 0-25.6-8.533333-29.866667-17.066667L477.866667 768l-81.066667 64c-4.266667 4.266667-12.8 8.533333-21.333333 8.533333-17.066667 0-34.133333-12.8-34.133334-34.133333V320c0-21.333333 12.8-34.133333 34.133334-34.133333 8.533333 0 17.066667 4.266667 21.333333 8.533333l371.2 315.733333c12.8 8.533333 17.066667 29.866667 4.266667 42.666667M256 512H170.666667V170.666667h682.666666v341.333333h-68.266666l93.866666 81.066667c34.133333-12.8 55.466667-42.666667 55.466667-81.066667V170.666667c0-46.933333-38.4-85.333333-85.333333-85.333334H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333334v341.333333c0 46.933333 38.4 85.333333 85.333334 85.333333h85.333333v-85.333333z" p-id="22545" fill="#ffffff"></path></svg>'),c="url(".concat(s,") 6 5, auto"),l=function(e){function t(t){var r=e.call(this)||this;if(r._drag=t,"dragging"!==r.drag.step.type)throw new Error("this.dragdrop.step.type !== 'dragging'");var n=r.drag.step.pointerId;a.FDrag.current=r.drag,r.dispose((function(){a.FDrag.current=void 0}));var o=function(e){e.pointerId===n&&(r.drag.dropEvent.emit(),r.drag.step={type:"dragRaw"})};return r.drag.div,document.addEventListener("pointerup",o,!1),r.dispose((function(){return document.removeEventListener("pointerup",o,!1)})),document.addEventListener("pointercancel",o,!1),r.dispose((function(){return document.removeEventListener("pointercancel",o,!1)})),document.addEventListener("pointerleave",o,!1),r.dispose((function(){return document.removeEventListener("pointerleave",o,!1)})),document.body.style.cursor=c,r.dispose((function(){return document.body.style.cursor=""})),r}return o(t,e),Object.defineProperty(t.prototype,"drag",{get:function(){return this._drag},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FDraggingStatus=l},17256:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FDrop=void 0;var i=r(51355),a=r(59645),s=r(69055),c=r(99002),l=function(e){function t(t){var r=e.call(this)||this;return r._div=t,r._dropping=r.disposeVar((0,i.react)(!1)),r._resetting=r.disposeVar(new a.ObjResettingWithEvent(s.FDrag.currentChanged,(function(){if(s.FDrag.current&&(!r.isDragValid||r.isDragValid(s.FDrag.current)))return new c.FDropWithDrag(r,s.FDrag.current)}))),r}return o(t,e),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropping",{get:function(){return this._dropping.value},set:function(e){this._dropping.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppingChanged",{get:function(){return this._dropping.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FDrop=l},99002:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FDropWithDrag=void 0;var i=function(e){function t(t,r){var n=e.call(this)||this;n._drop=t,n._drag=r,n.dispose((function(){n.drop.dropping=!1}));var o=function(e){n.drop.dropping=!0};n.drop.div.addEventListener("pointerenter",o,!1),n.dispose((function(){return n.drop.div.removeEventListener("pointerenter",o,!1)}));var i=function(e){n.drop.dropping=!0,n.drop.onDragOver&&n.drop.onDragOver(e,n.drag)};n.drop.div.addEventListener("pointermove",i,!1),n.dispose((function(){return n.drop.div.removeEventListener("pointermove",i,!1)}));var a=function(e){n.drop.dropping=!1};return n.drop.div.addEventListener("pointerleave",a,!1),n.dispose((function(){return n.drop.div.removeEventListener("pointerleave",a,!1)})),n.dispose(n.drag.dropEvent.disposableOn((function(){n.drop.dropping&&n.drop.onDrop&&n.drop.onDrop(n.drag)}))),n}return o(t,e),Object.defineProperty(t.prototype,"drop",{get:function(){return this._drop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drag",{get:function(){return this._drag},enumerable:!1,configurable:!0}),t}(r(51355).Destroyable);t.FDropWithDrag=i},61175:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(69055),t),o(r(17256),t)},40034:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FTreeBase=void 0;var i=r(9675),a=function(e){function t(){var t=e.call(this)||this;return t._itemChildrenChanged=t.disposeVar(new i.Event),t._itemChildrenToChange=t.disposeVar(new i.Event),t._commandEvent=t.disposeVar(new i.Event),t}return o(t,e),Object.defineProperty(t.prototype,"itemChildrenChanged",{get:function(){return this._itemChildrenChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemChildrenToChange",{get:function(){return this._itemChildrenToChange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commandEvent",{get:function(){return this._commandEvent},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FTreeBase=a},30141:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.FTreeItem=void 0;var l=r(9675),u=function(e){function t(t,r){var n,o=e.call(this)||this;return o._tree=t,o._currentTreeItem=r,o._parent=o.disposeVar((0,l.react)(void 0)),o._level=(n=o.disposeVar((0,l.react)(0)),o.dispose(o._parent.changed.disposableOn((function(){o.updateLevelFromParent()}))),o.dispose(n.changed.disposableOn((function(){var e,t;if(o.children)try{for(var r=a(o.children),n=r.next();!n.done;n=r.next())n.value.updateLevelFromParent()}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}))),n),o._childrenChanged=o.disposeVar(new l.Event),o._itemLocked=o.disposeVar((0,l.react)(!1)),o._extras=o.disposeVar((0,l.react)(void 0)),o}return o(t,e),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentChanged",{get:function(){return this._parent.changed},enumerable:!1,configurable:!0}),t.prototype.setParent=function(e){this._parent.value=e},Object.defineProperty(t.prototype,"level",{get:function(){return this._level.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelChanged",{get:function(){return this._level.changed},enumerable:!1,configurable:!0}),t.prototype.updateLevelFromParent=function(){this.parent&&(this._level.value=this.parent.level+1)},Object.defineProperty(t.prototype,"hasChildren",{get:function(){return!!this._children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenChanged",{get:function(){return this._childrenChanged},enumerable:!1,configurable:!0}),t.prototype.clearChildren=function(e){var t,r,n=c([],s(this.children),!1);try{for(var o=a(n),i=o.next();!i.done;i=o.next()){var l=i.value;e&&!e(l)||(l.parent&&l.detachFromParent(),l.destroy())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},Object.defineProperty(t.prototype,"children",{get:function(){var e=this;if(this._children)return this._children;var t=this.disposeVar(new l.ObservableArray);return this.dispose((function(){return e.clearChildren()})),this._children=t,this.dispose(t.toChangeEvent.disposableOn((function(t,r){var n,o,i,s;try{for(var c=a(t),l=c.next();!l.done;l=c.next()){for(var u=l.value,f=u.start,p=u.deleteCount,d=u.items,h=f;h<f+p;++h)r.get(h).setParent(void 0);try{for(var g=(i=void 0,a(d)),y=g.next();!y.done;y=g.next()){var m=y.value;if(m.parent)throw console.error("treeItem"),new Error("item.parent should not exist!");m.setParent(e._currentTreeItem)}}catch(e){i={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}))),this.dispose(t.toChangeEvent.disposableOn((function(t){e.tree.itemChildrenToChange.emit(e._currentTreeItem,t)}))),this.dispose(t.changedEvent.disposableOn((function(){e._childrenChanged.emit(e._currentTreeItem),e.tree.itemChildrenChanged.emit(e._currentTreeItem)}))),this._children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemLocked",{get:function(){return this._itemLocked.value},set:function(e){this._itemLocked.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemLockedChanged",{get:function(){return this._itemLocked.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extras",{get:function(){return this._extras.value},set:function(e){this._extras.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extrasChanged",{get:function(){return this._extras.changed},enumerable:!1,configurable:!0}),t.prototype.getDescendants=function(e,t){var r,n,o,a,s,c;return i(this,(function(i){switch(i.label){case 0:r=this._currentTreeItem,n=[],o=[],r.children&&r.children.length>0&&(!e||e(r))&&(n.push(0),o.push(r.children)),i.label=1;case 1:return n.length>0?(a=n[n.length-1],s=o[o.length-1],c=s.get(a),t&&!t(c)?[3,3]:[4,c]):[3,4];case 2:i.sent(),i.label=3;case 3:return a<s.length-1?++n[n.length-1]:(o.pop(),n.pop()),c.children&&c.children.length>0&&(!e||e(c))&&(n.push(0),o.push(c.children)),[3,1];case 4:return[2]}}))},t.prototype.getAncestors=function(e,t){var r;return i(this,(function(n){switch(n.label){case 0:r=this.parent,n.label=1;case 1:return r?t&&!t(r)?[3,3]:[4,r]:[3,4];case 2:n.sent(),n.label=3;case 3:return e&&!e(r)?[3,4]:(r=r.parent,[3,1]);case 4:return[2]}}))},t.prototype.isDescendantOf=function(e){var t,r;try{for(var n=a(this.getAncestors()),o=n.next();!o.done;o=n.next())if(o.value===e)return!0}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return!1},t.prototype.isAncestorOf=function(e){return e.isDescendantOf(this._currentTreeItem)},t.prototype.detachFromParent=function(){if(this.parent&&this.parent.children)if(this.parent.itemLocked||this.itemLocked)alert("Item is locked! Cannot detach from parent!");else{var e=this.parent.children.indexOf(this._currentTreeItem);this.parent.children.splice(e,1)}},t.prototype.insertNewTreeItem=function(e,t){if(t){if(t.parent)return console.warn("newTreeItem.parent is not undefined!"),!1;if(t.tree!==this.tree)return console.warn("newTreeItem.tree !== this.tree"),!1}if("Inner"===e)return this.itemLocked?(alert("Item is locked! Cannot insert new item!"),!1):(t&&this.children.push(t),!0);var r=this.parent;if(!r||!r.children)return t&&console.error("insertNewTreeItem error: Item has no parent! It cannot be insert before or after!"),!1;if(r.itemLocked||(null==t?void 0:t.itemLocked))return alert("Item is locked! Cannot insert new item!"),!1;var n=r.children.indexOf(this._currentTreeItem);return e.endsWith("Before")?t&&r.children.splice(n,0,t):e.endsWith("After")&&t&&r.children.splice(n+1,0,t),!0},t}(l.Destroyable);t.FTreeItem=u},24836:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.UiFTree=void 0;var a=r(51355),s=function(e){function t(t){var r,n=e.call(this)||this;return n._tree=t,n._itemDivHeight=n.disposeVar((0,a.react)(24)),n._divHeight=n.disposeVar((0,a.react)(400)),n._scrollTop=n.disposeVar((0,a.react)(0)),n._hasScrollX=n.disposeVar((0,a.react)(!1)),n._scrollXHeight=n.disposeVar((0,a.react)(10)),n._childrenTraverseFunc=n.disposeVar((0,a.react)(void 0)),n._itemVisibleFunc=n.disposeVar((0,a.react)(void 0)),n._redrewEvent=n.disposeVar(new a.Event),n._toRedrawEvent=n.disposeVar((0,a.createNextAnimateFrameEvent)()),n._toRedarwInit=(r=function(){return n.toRedraw()},n.dispose(n.childrenTraverseFuncChanged.disposableOn(r)),n.dispose(n.itemVisibleFuncChanged.disposableOn(r)),n.dispose(n.tree.itemChildrenChanged.disposableOn(r)),n.dispose(n.divHeightChanged.disposableOn(r)),n.dispose(n.itemDivHeightChanged.disposableOn(r)),n.dispose(n.scrollTopChanged.disposableOn(r)),n.dispose(n.hasScrollXChanged.disposableOn(r)),n.dispose(n.scrollXHeightChanged.disposableOn(r)),void n.dispose(n._toRedrawEvent.disposableOn((function(){var e,t,r=n.redrawInfo;r.topFreeSpaceHeight=0,r.topUnvisibleItemNum=0,r.middleTreeItems.length=0,r.bottomFreeSpaceHeight=0,r.bottomUnvisibleItemNum=0,r.totalHeight=0,r.hasScrollY=!1;do{var o=n,s=o.divHeight,c=o.itemDivHeight,l=o.childrenTraverseFunc,u=o.itemVisibleFunc;if(s<=0)break;var f=(0,a.length)(n._tree.root.getDescendants(l,u)),p=c*f;r.totalHeight=p;var d=n.hasScrollX?s-n.scrollXHeight:s;r.hasScrollY=p>d;var h=(0,a.max)([(0,a.min)([(0,a.max)([p-s,0]),n.scrollTop]),0]),g=h/c|0,y=Math.ceil((h-g*c+s)/c);g>0&&(r.topFreeSpaceHeight=g*c,r.topUnvisibleItemNum=g);var m=g+y,v=0,b=n._tree.root.getDescendants(l,u);try{for(var w=(e=void 0,i(b)),_=w.next();!_.done;_=w.next()){var P=_.value;if(v>=m)break;v>=g&&r.middleTreeItems.push(P),++v}}catch(t){e={error:t}}finally{try{_&&!_.done&&(t=w.return)&&t.call(w)}finally{if(e)throw e.error}}var x=f-g-y;x>0&&(r.bottomUnvisibleItemNum=x,r.bottomFreeSpaceHeight=x*n.itemDivHeight)}while(0);n.redrewEvent.emit(r)})))),n._redrawInfo={topFreeSpaceHeight:0,topUnvisibleItemNum:0,middleTreeItems:[],bottomFreeSpaceHeight:0,bottomUnvisibleItemNum:0,totalHeight:0,hasScrollY:!1},n}return o(t,e),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemDivHeight",{get:function(){return this._itemDivHeight.value},set:function(e){this._itemDivHeight.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemDivHeightChanged",{get:function(){return this._itemDivHeight.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"divHeight",{get:function(){return this._divHeight.value},set:function(e){this._divHeight.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"divHeightChanged",{get:function(){return this._divHeight.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this._scrollTop.value},set:function(e){this._scrollTop.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollTopChanged",{get:function(){return this._scrollTop.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasScrollX",{get:function(){return this._hasScrollX.value},set:function(e){this._hasScrollX.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasScrollXChanged",{get:function(){return this._hasScrollX.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollXHeight",{get:function(){return this._scrollXHeight.value},set:function(e){this._scrollXHeight.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollXHeightChanged",{get:function(){return this._scrollXHeight.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenTraverseFunc",{get:function(){return this._childrenTraverseFunc.value},set:function(e){this._childrenTraverseFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenTraverseFuncChanged",{get:function(){return this._childrenTraverseFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemVisibleFunc",{get:function(){return this._itemVisibleFunc.value},set:function(e){this._itemVisibleFunc.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemVisibleFuncChanged",{get:function(){return this._itemVisibleFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"redrewEvent",{get:function(){return this._redrewEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toRedrawEvent",{get:function(){return this._toRedrawEvent},enumerable:!1,configurable:!0}),t.prototype.toRedraw=function(){this._toRedrawEvent.next()},t.prototype.forceRedraw=function(){this._toRedrawEvent.next()},Object.defineProperty(t.prototype,"redrawInfo",{get:function(){return this._redrawInfo},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.UiFTree=s},84536:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(40034),t),o(r(30141),t),o(r(64075),t),o(r(24836),t)},64075:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.moveToTreeItems=t.canMoveToTreeItems=t.moveToTreeItem=t.canMoveToTreeItem=void 0;var o=r(9675);function i(e,t,r){if(e.itemLocked||t.itemLocked)return!1;if(e.tree!==t.tree||e===t||e.isAncestorOf(t))return!1;if(!e.parent)return!1;if(!e.parent.children)throw console.error(""),new Error("");return!("Inner"!==r&&!t.parent)}function a(e,t,r){if(i(e,t,r)){if(!e.parent)throw new Error("!sourceItem.parent");var n=e.parent.children.indexOf(e);if(e.parent.children.splice(n,1),"Inner"!==r){var o=t.parent;if(!o||!o.children)throw new Error("!parent");var a=o.children.indexOf(t);"Before"===r?o.children.splice(a,0,e):"After"===r&&o.children.splice(a+1,0,e)}else t.children.push(e)}else console.warn("moveToTreeItem warn: ")}t.canMoveToTreeItem=i,t.moveToTreeItem=a,t.canMoveToTreeItems=function(e,t,r){return(0,o.every)(e,(function(e){return i(e,t,r)}))},t.moveToTreeItems=function(e,t,r){var o,s;try{for(var c=n(e),l=c.next();!l.done;l=c.next()){var u=l.value;i(u,t,r)?a(u,t,r):console.warn("treeItem(memId: ".concat(u.memId,") cannot move..."))}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}}},16936:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(49863),t),o(r(84536),t)},84829:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.FSceneTree=void 0;var u=r(80468),f=r(51355),p=r(59645),d=r(69658),h=r(68158),g=r(84536),y=r(18826),m=r(29387),v=r(36810),b=function(e){function t(r,n){var o,i,a=e.call(this)||this;return a._createSceneObjectFunc=r,a._destroySceneObjectFunc=n,a._tree=a.disposeVar(new g.FTreeBase),a._root=a.disposeVar(new y.FSceneTreeItem(a)),a._itemChanged=a.disposeVar(new f.Event),a._selectedItems=a.disposeVar(new f.ObservableArray),a._lastSelectedItem=(o=a.disposeVar((0,f.react)(void 0)),a.dispose(a._selectedItems.changedEvent.disposableOn((function(){var e;o.value=a._selectedItems.length>0?a._selectedItems.get(a._selectedItems.length-1):void 0,window.lssn=o.value,window.lsso=null===(e=o.value)||void 0===e?void 0:e.sceneObj}))),o),a._lastClickedItem=a.disposeVar((0,f.react)(void 0)),a._lastClickedItemInit=(a.disposeVar(new p.ObjResettingWithEvent(a.lastClickedItemChanged,(function(){if(a.lastClickedItem){var e=new f.Destroyable;return e.dispose(a.lastClickedItem.toDestroyEvent.disposableOn((function(){a.lastClickedItem=void 0}))),e}}))),void a.dispose(a.lastClickedItemChanged.disposableOn((function(e,t){t&&a.itemChanged.emit(t,"lastClicked"),e&&a.itemChanged.emit(e,"lastClicked")})))),a._hoveredItem=a.disposeVar((0,f.react)(void 0)),a._hoveredItemInit=function(){a.disposeVar(new p.ObjResettingWithEvent(a.hoveredItemChanged,(function(){if(a.hoveredItem){var e=new f.Destroyable;return e.dispose(a.hoveredItem.toDestroyEvent.disposableOn((function(){a.hoveredItem=void 0}))),e}}))),a.dispose(a.hoveredItemChanged.disposableOn((function(e,t){t&&a.itemChanged.emit(t,"hovered"),e&&a.itemChanged.emit(e,"hovered")})))},a.preloadFunc=t.defaultPreload,a.linkSceneObjectFunc=t.defaultLinkSceneObjectFunc,a._jsonLoading=a.disposeVar(new m.FSceneTreeJsonLoading(a)),a._sceneObjectItems=(i=new Map,a.dispose((function(){0!==i.size&&console.error("")})),i),a.root.name="root",a}return o(t,e),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemChildrenChanged",{get:function(){return this._tree.itemChildrenChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemChildrenToChange",{get:function(){return this._tree.itemChildrenToChange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commandEvent",{get:function(){return this._tree.commandEvent},enumerable:!1,configurable:!0}),t.prototype.getClickedOrSelectedItems=function(){var e=this.lastClickedItem;return!e||e.selected?c([],s(this.selectedItems),!1):e?[e]:void 0},t.prototype.getCurrentItems=function(){return this.getClickedOrSelectedItems()},t.prototype.getCurrentItem=function(){var e=void 0;do{var t=this.lastClickedItem;if(t){if(!t.isDestroyed()){e=t;break}console.warn("lastClickedItem is destroyed!")}var r=this.lastSelectedItem;if(r){if(!r.isDestroyed()){e=r;break}console.warn("lastSelectedItem is destroyed!")}e=this.root}while(0);return e},t.prototype.getFlatCurrentItemsWithFilters=function(e){var t=this.getCurrentItems();if(!t)return[];var r=t.map((function(t){var r=[];e(t)&&r.push(t);var n=t.getDescendants(void 0,e);return(0,f.forEach)(n,(function(e){return r.push(e)})),r})).flat();return r},t.prototype.getM3tojsonFromSceneTreeItems=function(e){return(0,d.getM3tOJsonFromSceneTreeItems)(e)},t.prototype.isM3tojson=function(e){return(0,h.maybeM3tOJson)(e)},t.prototype.destroySceneTreeItems=function(e){var t,r;try{for(var n=l(e),o=n.next();!o.done;o=n.next()){var i=o.value;i.isDestroyed()||this.destroySceneTreeItem(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},t.prototype._copyAndDelete=function(e){return i(this,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return(t=this.getCurrentItems())?(r=this.getM3tojsonFromSceneTreeItems(t),[4,navigator.clipboard.writeText(JSON.stringify(r,void 0,"    "))]):(console.warn(""),[2,!1]);case 1:return n.sent(),e&&this.destroySceneTreeItems(t),[2,!0]}}))}))},t.prototype.copy=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._copyAndDelete(!1)];case 1:return[2,e.sent()]}}))}))},t.prototype.cut=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._copyAndDelete(!0)];case 1:return[2,e.sent()]}}))}))},t.prototype.canPaste=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return null==e?[3,1]:(t=e,[3,3]);case 1:return[4,navigator.clipboard.readText()];case 2:t=r.sent(),r.label=3;case 3:return(e=t)?[2,!0]:[2,!1]}}))}))},t.prototype.delete=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return(e=this.getCurrentItems())&&0!==e.length?this.deleteConfirmFunc?[4,this.deleteConfirmFunc(e)]:[3,2]:(console.warn(""),[2,!1]);case 1:if(!t.sent())return[2,!1];t.label=2;case 2:return this.destroySceneTreeItems(e),[2]}}))}))},Object.defineProperty(t.prototype,"itemChanged",{get:function(){return this._itemChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selectedItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastSelectedItem",{get:function(){return this._lastSelectedItem.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastSelectedItemChanged",{get:function(){return this._lastSelectedItem.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastClickedItem",{get:function(){return this._lastClickedItem.value},set:function(e){this._lastClickedItem.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastClickedItemChanged",{get:function(){return this._lastClickedItem.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredItem",{get:function(){return this._hoveredItem.value},set:function(e){this._hoveredItem.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredItemChanged",{get:function(){return this._hoveredItem.changed},enumerable:!1,configurable:!0}),t.prototype.getAllCheckedLeafItems=function(){return this.root.getDescendants((function(e){return"checked"===e.checkedStatus}))},t.prototype.clearAllSelectedItems=function(){c([],s(this.selectedItems),!1).forEach((function(e){e.selected=!1}))},t.prototype.createSceneTreeItem=function(e,t){if((e=null!=e?e:this.root).itemLocked)alert("");else{if(!t){var r=e.sceneObj;t=e.parent&&r?"After":"Inner"}var n=new y.FSceneTreeItem(this);if(e.insertNewTreeItem(t,n))return n;console.error("createSceneTreeItem error: insertNewTreeItem failed!")}},t.prototype.createItemWithSceneObject=function(e,t,r){var n=this._createSceneObjectFunc(e);if(!n)return console.warn("createItemWithSceneObject warn: json"),void console.warn("".concat(JSON.stringify(e,void 0,"  ")));var o=this.createSceneTreeItem(t,r);return o?(o.sceneObj=n,o):void 0},t.prototype.destroySceneTreeItem=function(e){if(e.itemLocked)return alert(""),!1;var t=e.sceneObj;return e.sceneObj=void 0,e.detachFromParent(),e.destroy(),!!t&&this._destroySceneObjectFunc(t)},Object.defineProperty(t.prototype,"createSceneObjectFunc",{get:function(){return this._createSceneObjectFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroySceneObjectFunc",{get:function(){return this._destroySceneObjectFunc},enumerable:!1,configurable:!0}),t.prototype.syncGetJson=function(e){return{root:this.root.getJson(e)}},t.prototype.syncSetJson=function(e,t){e.root=e.root||{},this.root.setJson(e.root,t)},Object.defineProperty(t.prototype,"json",{get:function(){return this._jsonLoading.json},set:function(e){this._jsonLoading.json=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonStr",{get:function(){return this._jsonLoading.jsonStr},set:function(e){this._jsonLoading.jsonStr=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonLoadingEvent",{get:function(){return this._jsonLoading.jsonLoadingEvent},enumerable:!1,configurable:!0}),t.prototype.getJson=function(e){return this._jsonLoading.getJson(e)},t.prototype.setJson=function(e,t){this._jsonLoading.setJson(e,t)},Object.defineProperty(t.prototype,"sceneObjectItems",{get:function(){return this._sceneObjectItems},enumerable:!1,configurable:!0}),t.prototype.selectSingleTreeItemWithSceneObject=function(e){if(!e)return!1;if(!(e instanceof u.ESSceneObject))return!1;if(!this.sceneObjectItems.has(e))return!1;var t=this.sceneObjectItems.get(e);return this.clearAllSelectedItems(),t.selected=!0,!0},t.defaultPreload=v.preload,t.defaultLinkSceneObjectFunc=function(e,t){var r=new f.Destroyable;if((n=function(){return e.name=t.name})(),r.dispose(t.nameChanged.disposableOn(n)),(n=function(){return t.name=e.name})(),r.dispose(e.nameChanged.disposableOn(n)),"show"in t&&"showChanged"in t&&t.showChanged instanceof f.Event)(n=function(){var r;e.show=null===(r=t.show)||void 0===r||r})(),r.dispose(t.showChanged.disposableOn(n)),(n=function(){t.show=e.show})(),r.dispose(e.showChanged.disposableOn(n));else if("enabled"in t&&"enabledChanged"in t&&t.enabledChanged instanceof f.Event){var n;(n=function(){e.show=!!t.enabled})(),r.dispose(t.enabledChanged.disposableOn(n)),(n=function(){t.enabled=e.show})(),r.dispose(e.showChanged.disposableOn(n))}return r},t}(f.Destroyable);t.FSceneTree=b},18826:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.FSceneTreeItem=void 0;var l=r(80468),u=r(51355),f=r(84536),p=function(e){function t(t){var r=e.call(this)||this;r._sceneTree=t,r._treeItem=r.disposeVar(new f.FTreeItem(r._sceneTree,r)),r._selected=r.disposeVar((0,u.react)(!1)),r._show=r.disposeVar((0,u.react)(!0)),r._collapsed=r.disposeVar((0,u.react)(!1)),r._checkedStatus=r.disposeVar((0,u.react)("unchecked")),r._name=r.disposeVar((0,u.react)("")),r._sceneObj=r.disposeVar((0,u.react)(void 0)),r._sceneObjInit=(r.dispose(r.sceneObjChanged.disposableOn((function(e,t){if(t){if(!r._sceneTree.sceneObjectItems.has(t))throw console.error("!this._sceneTree.sceneObjectItems.has(oldSceneObject)"),new Error("!this._sceneTree.sceneObjectItems.has(oldSceneObject)");r._sceneTree.sceneObjectItems.delete(t)}if(e){if(r._sceneTree.sceneObjectItems.has(e))throw console.error("this._sceneTree.sceneObjectItems.has(sceneObject)"),new Error("this._sceneTree.sceneObjectItems.has(sceneObject)");r._sceneTree.sceneObjectItems.set(e,r)}}))),void r.dispose((function(){var e=r.sceneObj;r.sceneObj=void 0,e&&(r.tree.destroySceneObjectFunc(e)||console.warn("error !this.tree.destroySceneObjectFunc(sceneObject)"))}))),r._sceneObjectNameResetting=r.disposeVar(new l.ObjResettingWithEvent(r.sceneObjChanged,(function(){var e=r.sceneObj;if(e)return r._sceneTree.linkSceneObjectFunc(r,e)}))),r.dispose(r.selectedChanged.disposableOn((function(){return r.tree.itemChanged.emit(r,"selected")}))),r.dispose(r.collapsedChanged.disposableOn((function(){return r.tree.itemChanged.emit(r,"collapsed")}))),r.dispose(r.checkedStatusChanged.disposableOn((function(){return r.tree.itemChanged.emit(r,"checkedStatus")}))),r.dispose(r.nameChanged.disposableOn((function(){return r.tree.itemChanged.emit(r,"name")}))),r.dispose(r.sceneObjChanged.disposableOn((function(){return r.tree.itemChanged.emit(r,"sceneObject")})));var n=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.childrenChanged));return r.dispose(n.disposableOn((function(){r.updateCheckedStatusFromChildren()}))),r.dispose(r.selectedChanged.disposableOn((function(){var e=r.tree.selectedItems.indexOf(r);if(r.selected){if(-1!==e)return void console.warn("itemselectedItems");r.tree.selectedItems.push(r)}else{if(-1===e)return void console.warn("itemselectedItems");r.tree.selectedItems.splice(e,1)}}))),r.dispose((function(){r.selected=!1})),r}return o(t,e),Object.defineProperty(t.prototype,"tree",{get:function(){return this._sceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this._sceneTree.root===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._treeItem.parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentChanged",{get:function(){return this._treeItem.parentChanged},enumerable:!1,configurable:!0}),t.prototype.setParent=function(e){this._treeItem.setParent(e)},Object.defineProperty(t.prototype,"level",{get:function(){return this._treeItem.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelChanged",{get:function(){return this._treeItem.levelChanged},enumerable:!1,configurable:!0}),t.prototype.updateLevelFromParent=function(){this._treeItem.updateLevelFromParent()},Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this._treeItem.hasChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenChanged",{get:function(){return this._treeItem.childrenChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._treeItem.children},enumerable:!1,configurable:!0}),t.prototype.clearChildren=function(e){return this._treeItem.clearChildren(e)},Object.defineProperty(t.prototype,"itemLocked",{get:function(){return this._treeItem.itemLocked},set:function(e){this._treeItem.itemLocked=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemLockedChanged",{get:function(){return this._treeItem.itemLockedChanged},enumerable:!1,configurable:!0}),t.prototype.getDescendants=function(e,t){return i(this,(function(r){switch(r.label){case 0:return[5,a(this._treeItem.getDescendants(e,t))];case 1:return[2,r.sent()]}}))},t.prototype.getAncestors=function(e,t){return i(this,(function(r){switch(r.label){case 0:return[5,a(this._treeItem.getAncestors(e,t))];case 1:return[2,r.sent()]}}))},t.prototype.isDescendantOf=function(e){return this._treeItem.isDescendantOf(e)},t.prototype.isAncestorOf=function(e){return this._treeItem.isAncestorOf(e)},t.prototype.detachFromParent=function(){return this._treeItem.detachFromParent()},t.prototype.insertNewTreeItem=function(e,t){return this._treeItem.insertNewTreeItem(e,t)},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected.value},set:function(e){this._selected.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChanged",{get:function(){return this._selected.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return this._collapsed.value},set:function(e){this._collapsed.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collapsedChanged",{get:function(){return this._collapsed.changed},enumerable:!1,configurable:!0}),t.prototype.uncollapseAll=function(){var e,t;try{for(var r=a(this.getDescendants()),n=r.next();!n.done;n=r.next())n.value.collapsed=!1}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.collapseAll=function(){var e,t;try{for(var r=a(this.getDescendants()),n=r.next();!n.done;n=r.next())n.value.collapsed=!0}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},Object.defineProperty(t.prototype,"checkedStatus",{get:function(){return this._checkedStatus.value},set:function(e){this._checkedStatus.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkedStatusChanged",{get:function(){return this._checkedStatus.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastClicked",{get:function(){return this.tree.lastClickedItem===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastClickedChanged",{get:function(){return this.tree.lastClickedItemChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hovered",{get:function(){return this.tree.hoveredItem===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredChanged",{get:function(){return this.tree.hoveredItemChanged},enumerable:!1,configurable:!0}),t.prototype.manualSetShow=function(e){this.show=e,this.applyShowToChildren(e),this.parent&&this.parent.updateShowFromChildren()},t.prototype.updateShowFromChildren=function(){var e;if(!this.sceneObj&&this.hasChildren){var t=(0,u.some)(this.children,(function(e){return e.show}));this.show!==t&&(this.show=t,null===(e=this.parent)||void 0===e||e.updateShowFromChildren())}},t.prototype.applyShowToChildren=function(e){var t,r;if(this.hasChildren){var n=this.children;try{for(var o=a(n),i=o.next();!i.done;i=o.next()){var s=i.value;s.show=e,s.applyShowToChildren(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}},t.prototype.manualSetCheckedStatus=function(e){this.checkedStatus=e,this.applyCheckedStatusToChildren(e),this.parent&&this.parent.updateCheckedStatusFromChildren()},t.prototype.updateCheckedStatusFromChildren=function(){var e;if(this.hasChildren){var t=this.children,r="indeterminate";do{if((0,u.some)(t,(function(e){return"indeterminate"===e.checkedStatus})))break;if((0,u.every)(t,(function(e){return"checked"===e.checkedStatus}))){r="checked";break}if((0,u.every)(t,(function(e){return"unchecked"===e.checkedStatus}))){r="unchecked";break}}while(0);r!==this.checkedStatus&&(this.checkedStatus=r,null===(e=this.parent)||void 0===e||e.updateCheckedStatusFromChildren())}},t.prototype.applyCheckedStatusToChildren=function(e){var t,r;if(this.hasChildren){var n=this.children;try{for(var o=a(n),i=o.next();!i.done;i=o.next()){var s=i.value;s.checkedStatus=e,s.applyCheckedStatusToChildren(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}},Object.defineProperty(t.prototype,"name",{get:function(){return this._name.value},set:function(e){this._name.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nameChanged",{get:function(){return this._name.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObj",{get:function(){return this._sceneObj.value},set:function(e){this._sceneObj.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjChanged",{get:function(){return this._sceneObj.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extras",{get:function(){return this._treeItem.extras},set:function(e){this._treeItem.extras=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extrasChanged",{get:function(){return this._treeItem.extrasChanged},enumerable:!1,configurable:!0}),t.prototype.getJson=function(e){var t=e&&e.childFilterFunc,r=this.children&&c([],s(this.children),!1).filter((function(e){return!t||t(e)})).map((function(t){return t.getJson(e)}));return{name:this.name,show:!!this.show&&void 0,itemLocked:!!this.itemLocked||void 0,collapsed:!!this.collapsed||void 0,sceneObj:this.sceneObj&&this.sceneObj.json,children:r.length>0?r:void 0,extras:this.extras}},t.prototype.setJson=function(e,r){var n,o,i,s,c;if(void 0!==e.name&&(this.name=e.name),this.show=null===(i=e.show)||void 0===i||i,this.itemLocked=null!==(s=e.show)&&void 0!==s&&s,this.collapsed=null!==(c=e.collapsed)&&void 0!==c&&c,this.sceneObj=void 0,e.sceneObj&&(this.sceneObj=this.tree.createSceneObjectFunc(e.sceneObj)),this.clearChildren(r&&r.clearChildFilterFunc),this.extras=e.extras,e.children){var l=r&&r.childFilterFunc;try{for(var u=a(e.children),f=u.next();!f.done;f=u.next()){var p=f.value;if(!l||l(p)){var d=new t(this.tree);d.json=p,this.children.push(d)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}},Object.defineProperty(t.prototype,"json",{get:function(){return this.getJson()},set:function(e){this.setJson(e)},enumerable:!1,configurable:!0}),t}(u.Destroyable);t.FSceneTreeItem=p},29387:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FSceneTreeJsonLoading=void 0;var s=r(51355),c=r(59645),l=function(e){function t(t){var r=e.call(this)||this;return r._sceneTree=t,r._jsonLoadingEvent=r.disposeVar(new s.Event),r._setJsonProcessing=r.disposeVar((0,c.createProcessingFromAsyncFunc)((function(e,t,n){return i(r,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return this._jsonLoadingEvent.emit({type:"init"}),this._jsonLoadingEvent.emit({type:"loading"}),t?[4,e.promise(this._sceneTree.preloadFunc(t))]:[3,2];case 1:r.sent(),r.label=2;case 2:return this._syncSetJson(t,n),this._jsonLoadingEvent.emit({type:"loaded"}),[2]}}))}))}))),r._setJsonProcessing.errorFunc=function(e){r._jsonLoadingEvent.emit({type:"error",error:e})},r}return o(t,e),Object.defineProperty(t.prototype,"jsonLoadingEvent",{get:function(){return this._jsonLoadingEvent},enumerable:!1,configurable:!0}),t.prototype._syncSetJson=function(e,t){try{this._sceneTree.syncSetJson(e||{},t)}catch(e){console.error("jsonerror: ".concat(e))}},t.prototype._syncGetJson=function(e){return this._sceneTree.syncGetJson(e)},t.prototype.getJson=function(e){return this._syncGetJson(e)},t.prototype.setJson=function(e,t){this._setJsonProcessing.restart(new c.CancelError("JSON"),e,t)},Object.defineProperty(t.prototype,"json",{get:function(){return this.getJson()},set:function(e){this.setJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonStr",{get:function(){return JSON.stringify(this.json,void 0,"    ")},set:function(e){this.json=JSON.parse(e)},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.FSceneTreeJsonLoading=l},43497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SvgForUi=void 0;var r=function(){function e(){}return e.svgInit=(document.write('<div style="display: none;">'.concat('<svg id="UiFSceneTreeItemDiv_CollapsedSvg" t="1719494281415" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1837"><path d="M722.773333 381.44a64 64 0 0 1 90.453334 90.453333l-252.970667 253.013334a68.266667 68.266667 0 0 1-96.512 0l-253.013333-253.013334a64 64 0 0 1 90.538666-90.453333L512 592.128l210.773333-210.773333z" p-id="1838"></path></svg>',"</div>")),document.write('<div style="display: none;">'.concat('<svg id="UiFSceneTreeItemDiv_EyeSvg" xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24"><path d="M23.271,9.419C21.72,6.893,18.192,2.655,12,2.655S2.28,6.893.729,9.419a4.908,4.908,0,0,0,0,5.162C2.28,17.107,5.808,21.345,12,21.345s9.72-4.238,11.271-6.764A4.908,4.908,0,0,0,23.271,9.419Zm-1.705,4.115C20.234,15.7,17.219,19.345,12,19.345S3.766,15.7,2.434,13.534a2.918,2.918,0,0,1,0-3.068C3.766,8.3,6.781,4.655,12,4.655s8.234,3.641,9.566,5.811A2.918,2.918,0,0,1,21.566,13.534Z"/><path d="M12,7a5,5,0,1,0,5,5A5.006,5.006,0,0,0,12,7Zm0,8a3,3,0,1,1,3-3A3,3,0,0,1,12,15Z"/></svg>',"</div>")),document.write('<div style="display: none;">'.concat('<svg id="UiFSceneTreeItemDiv_CrossedEyeSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="_01_align_center" data-name="01 align center"><path d="M23.821,11.181v0a15.736,15.736,0,0,0-4.145-5.44l3.032-3.032L21.293,1.293,18,4.583A11.783,11.783,0,0,0,12,3C4.5,3,1.057,9.261.179,11.181a1.969,1.969,0,0,0,0,1.64,15.736,15.736,0,0,0,4.145,5.44L1.293,21.293l1.414,1.414L6,19.417A11.783,11.783,0,0,0,12,21c7.5,0,10.943-6.261,11.821-8.181A1.968,1.968,0,0,0,23.821,11.181ZM2,12.011C2.75,10.366,5.693,5,12,5a9.847,9.847,0,0,1,4.518,1.068L14.753,7.833a4.992,4.992,0,0,0-6.92,6.92L5.754,16.832A13.647,13.647,0,0,1,2,12.011ZM15,12a3,3,0,0,1-3,3,2.951,2.951,0,0,1-1.285-.3L14.7,10.715A2.951,2.951,0,0,1,15,12ZM9,12a3,3,0,0,1,3-3,2.951,2.951,0,0,1,1.285.3L9.3,13.285A2.951,2.951,0,0,1,9,12Zm3,7a9.847,9.847,0,0,1-4.518-1.068l1.765-1.765a4.992,4.992,0,0,0,6.92-6.92l2.078-2.078A13.584,13.584,0,0,1,22,12C21.236,13.657,18.292,19,12,19Z"/></g></svg>',"</div>")),document.write('<div style="display: none;">'.concat('<svg id="UiFSceneTreeItemDiv_DocumentSvg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m17 14a1 1 0 0 1 -1 1h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 1 1zm-4 3h-5a1 1 0 0 0 0 2h5a1 1 0 0 0 0-2zm9-6.515v8.515a5.006 5.006 0 0 1 -5 5h-10a5.006 5.006 0 0 1 -5-5v-14a5.006 5.006 0 0 1 5-5h4.515a6.958 6.958 0 0 1 4.95 2.05l3.484 3.486a6.951 6.951 0 0 1 2.051 4.949zm-6.949-7.021a5.01 5.01 0 0 0 -1.051-.78v4.316a1 1 0 0 0 1 1h4.316a4.983 4.983 0 0 0 -.781-1.05zm4.949 7.021c0-.165-.032-.323-.047-.485h-4.953a3 3 0 0 1 -3-3v-4.953c-.162-.015-.321-.047-.485-.047h-4.515a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3z"/></svg>',"</div>")),document.write('<div style="display: none;">'.concat('<svg xmlns="http://www.w3.org/2000/svg" id="UiFSceneTreeItemDiv_FolderSvg" viewBox="0 0 24 24"><path d="M19,3H12.472a1.019,1.019,0,0,1-.447-.1L8.869,1.316A3.014,3.014,0,0,0,7.528,1H5A5.006,5.006,0,0,0,0,6V18a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V8A5.006,5.006,0,0,0,19,3ZM5,3H7.528a1.019,1.019,0,0,1,.447.1l3.156,1.579A3.014,3.014,0,0,0,12.472,5H19a3,3,0,0,1,2.779,1.882L2,6.994V6A3,3,0,0,1,5,3ZM19,21H5a3,3,0,0,1-3-3V8.994l20-.113V18A3,3,0,0,1,19,21Z"/></svg>',"</div>")),document.write('<div style="display: none;">'.concat('<svg xmlns="http://www.w3.org/2000/svg" id="UiFSceneTreeItemDiv_LockSvg" viewBox="0 0 24 24"><path d="M19,8.424V7A7,7,0,0,0,5,7V8.424A5,5,0,0,0,2,13v6a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V13A5,5,0,0,0,19,8.424ZM7,7A5,5,0,0,1,17,7V8H7ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V13a3,3,0,0,1,3-3H17a3,3,0,0,1,3,3Z"/><path d="M12,14a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V15A1,1,0,0,0,12,14Z"/></svg>',"</div>")),void document.write('<div style="display: none;">'.concat('<svg xmlns="http://www.w3.org/2000/svg" id="UiFSceneTreeItemDiv_UnlockSvg" viewBox="0 0 24 24"><path d="M17,8H7V7a5,5,0,0,1,9.375-2.422,1,1,0,0,0,1.749-.971A7,7,0,0,0,5,7V8.424A5,5,0,0,0,2,13v6a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V13A5.006,5.006,0,0,0,17,8Zm3,11a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V13a3,3,0,0,1,3-3H17a3,3,0,0,1,3,3Z"/><path d="M12,14a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V15A1,1,0,0,0,12,14Z"/></svg>',"</div>"))),e.collapsedSvgId="UiFSceneTreeItemDiv_CollapsedSvg",e.eyeSvgId="UiFSceneTreeItemDiv_EyeSvg",e.crossedEyeSvgId="UiFSceneTreeItemDiv_CrossedEyeSvg",e.documentSvgId="UiFSceneTreeItemDiv_DocumentSvg",e.folderSvgId="UiFSceneTreeItemDiv_FolderSvg",e.lockSvgId="UiFSceneTreeItemDiv_LockSvg",e.unlockSvgId="UiFSceneTreeItemDiv_UnlockSvg",e}();t.SvgForUi=r},29973:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.UiFSceneTreeItem=void 0;var s=r(51355),c=r(59645),l=r(61175),u=r(64075),f=r(76363),p=r(43497),d=function(e){function t(t,r){var n,o=e.call(this)||this;return o._treeItem=t,o._uiFSceneTreeWithContainer=r,o._dropMode=o.disposeVar((0,s.react)(void 0)),o._canDrop=o.disposeVar((0,s.react)(!1)),o._nameEditing=o.disposeVar((0,s.react)(!1)),o._nameEditingInit=void o.dispose(o.uiFSceneTree.commandEvent.disposableOn((function(e){if("renameItem"===e.type){if(e.item!==o.treeItem)return;o.nameEditing=!0}}))),o._contentDiv=function(){var e=document.createElement("div");e.style.padding="0px",e.style.margin="0px",e.style.backgroundColor="rgba(0, 0, 0, 0.5)",e.style.display="flex",e.style.alignItems="center",e.style.width="100%",e.style.boxSizing="border-box",e.style.border="1px solid rgba(42, 130, 228, 0)",e.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv"),e.onmouseenter=function(){o.sceneTreeItem.tree.hoveredItem=o.sceneTreeItem},e.onmouseleave=function(){o.sceneTreeItem.tree.hoveredItem=void 0},e.oncontextmenu=function(e){e.preventDefault(),o._uiFSceneTreeWithContainer.uiFSceneTree.contextMenuEvent.emit(o,e)},e.onclick=function(e){(0,f.ctrlShiftSelectItems)(e,o.sceneTreeItem,o.uiTree);var t=!o.treeItem.hasChildren||0===o.treeItem.children.length;e.ctrlKey||e.shiftKey||t||(o.sceneTreeItem.collapsed=!o.sceneTreeItem.collapsed),e.stopPropagation()},o.disposeVar(new c.DivPointerClick(e)).dbclickEvent.beforeCallback=function(e){return o.uiFSceneTree.dbClickEvent.emit(o,e)},e.onpointerdown=function(e){e.shiftKey||(o.sceneTreeItem.tree.lastClickedItem=o.sceneTreeItem),e.stopPropagation()},(t=function(){(0,f.updateBgColorFromSceneTreeItem)(o.sceneTreeItem,e)})(),o.dispose(o.sceneTreeItem.hoveredChanged.disposableOn(t)),o.dispose(o.sceneTreeItem.selectedChanged.disposableOn(t)),(t=function(){e.style.borderColor=o.sceneTreeItem.lastClicked?"rgb(42, 130, 228)":"transparent";var t=o.canDrop?"rgb(63, 195, 255)":"rgb(255, 0, 0)";"Before"===o.dropMode?(e.style.borderTopColor=t,e.style.borderBottomColor="transparent",e.style.borderLeftColor="transparent",e.style.borderRightColor="transparent"):"After"===o.dropMode?(e.style.borderTopColor="transparent",e.style.borderBottomColor=t,e.style.borderLeftColor="transparent",e.style.borderRightColor="transparent"):"Inner"===o.dropMode&&(e.style.borderColor=t)})(),o.dispose(o.sceneTreeItem.lastClickedChanged.disposableOn(t)),o.dispose(o.dropModeChanged.disposableOn(t)),o.dispose(o.canDropChanged.disposableOn(t));var t,r=o.uiFSceneTreeWithContainer,n=r.uiFSceneTree,i=r.uiTree;return(t=function(){e.style.gap="".concat(n.gridGap,"px")})(),o.dispose(n.gridGapChanged.disposableOn(t)),(t=function(){var t=i.itemDivHeight+"px";e.style.height=t,e.style.lineHeight=t})(),o.dispose(i.itemDivHeightChanged.disposableOn(t)),e}(),o._drag=o.disposeVar(new l.FDrag(o.contentDiv,{type:"SceneTreeItem",data:{uiSceneTreeItem:o}})),o._drop=((n=o.disposeVar(new l.FDrop(o.contentDiv))).isDragValid=function(e){return"SceneTreeItem"===e.data.type&&e.data.data.uiSceneTreeItem!==o},n.onDragOver=function(e,t){var r=e.offsetY+2;r<=.3*o.uiTree.itemDivHeight?o.dropMode="Before":r>=.7*o.uiTree.itemDivHeight?o.dropMode="After":o.dropMode="Inner";var n=o.sceneTree,s=n.lastClickedItem,c=n.selectedItems;s&&!s.selected?o.canDrop=(0,u.canMoveToTreeItem)(s,o.sceneTreeItem,o.dropMode):o.canDrop=(0,u.canMoveToTreeItems)(function(){var e,t,r,n,o;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,7]),e=a(c),t=e.next(),i.label=1;case 1:return t.done?[3,4]:[4,t.value];case 2:i.sent(),i.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return r=i.sent(),n={error:r},[3,7];case 6:try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(n)throw n.error}return[7];case 7:return[2]}}))}(),o.sceneTreeItem,o.dropMode)},n.onDrop=function(){if(o.dropMode){var e=o.sceneTree,t=e.lastClickedItem,r=e.selectedItems;t&&!t.selected?(0,u.moveToTreeItem)(t,o.sceneTreeItem,o.dropMode):(0,u.moveToTreeItems)(function(){var e,t,n,o,s;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,7]),e=a(r),t=e.next(),i.label=1;case 1:return t.done?[3,4]:[4,t.value];case 2:i.sent(),i.label=3;case 3:return t=e.next(),[3,1];case 4:return[3,7];case 5:return n=i.sent(),o={error:n},[3,7];case 6:try{t&&!t.done&&(s=e.return)&&s.call(e)}finally{if(o)throw o.error}return[7];case 7:return[2]}}))}(),o.sceneTreeItem,o.dropMode)}},o.dispose(n.droppingChanged.disposableOn((function(){n.dropping||(o.dropMode=void 0,o.canDrop=!1)}))),n),o._divItemBindingInit=function(){var e=o.uiFSceneTreeWithContainer.uiFSceneTree,t=document.createElement("canvas");o.contentDiv.appendChild(t),o.dispose((function(){return o.contentDiv.removeChild(t)})),t.setAttribute("mt3-canvas","UiFSceneTree UiFSceneTreeItemDiv levelCanvas"),t.style.flex="none";var r=t.getContext("2d");(P=function(){var n=o.sceneTreeItem.level,i=(n-1)*e.indentWidth;t.width=i,t.height=1,t.style.width="".concat(i,"px"),t.style.height="100%",r.clearRect(0,0,i,1);for(var a=1;a<n;a++)r.beginPath(),r.moveTo(a*e.indentWidth-2,0),r.lineTo(a*e.indentWidth-2,1),r.strokeStyle="rgba(255, 255, 255, 0.2)",r.lineWidth=.5,r.stroke()})(),o.dispose(e.indentWidthChanged.disposableOn(P)),o.dispose(o.sceneTreeItem.levelChanged.disposableOn(P));var n=document.createElement("div");o.contentDiv.appendChild(n),o.dispose((function(){return o.contentDiv.removeChild(n)})),n.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv collapsedDiv"),n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.flex="none",(P=function(){var t="".concat(e.gridWidth,"px");n.style.width=t,n.style.height=t})(),o.dispose(e.gridWidthChanged.disposableOn(P));var i=document.createElement("div");n.appendChild(i),o.dispose((function(){return n.removeChild(i)})),i.style.width="100%",i.style.height="100%",i.style.lineHeight="100%",i.style.textAlign="center",i.style.fill="white",i.innerHTML='<svg style="width: 100%; height: 100%;"><use xlink:href="#UiFSceneTreeItemDiv_CollapsedSvg" /></svg>',(P=function(){var e=o.sceneTreeItem.collapsed;i.style.transform="rotate(".concat(e?-90:0,"deg)"),i.style.transition="transform 0.2s"})(),o.dispose(o.sceneTreeItem.collapsedChanged.disposableOn(P)),(P=function(){var e=!o.treeItem.hasChildren||0===o.treeItem.children.length;i.style.visibility=e?"hidden":"visible"})(),o.dispose(o.treeItem.childrenChanged.disposableOn(P)),i.onclick=function(e){var t=o.sceneTreeItem.collapsed;o.sceneTreeItem.collapsed=!t,e.stopPropagation()},i.onpointerdown=function(e){e.stopPropagation()};var a=document.createElement("div");o.contentDiv.appendChild(a),o.dispose((function(){return o.contentDiv.removeChild(a)})),a.style.display="flex",(P=function(){return a.style.display=o.uiFSceneTree.showCheckBox?"flex":"none"})(),o.dispose(e.showCheckBoxChanged.disposableOn(P)),a.style.alignItems="center",a.style.justifyContent="center",a.style.flex="none",a.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv checkedBoxDiv"),(P=function(){var t="".concat(e.gridWidth,"px");a.style.width=t,a.style.height=t})(),o.dispose(e.gridWidthChanged.disposableOn(P));var l=document.createElement("input");l.type="checkbox",a.appendChild(l),o.dispose((function(){return a.removeChild(l)})),l.style.display="block",l.style.width="80%",l.style.height="80%",l.style.margin="0px",l.onclick=function(e){"checked"!==o.sceneTreeItem.checkedStatus?o.sceneTreeItem.manualSetCheckedStatus("checked"):o.sceneTreeItem.manualSetCheckedStatus("unchecked"),e.stopPropagation()},l.onpointerdown=function(e){e.stopPropagation()},(P=function(){var e=o.sceneTreeItem.checkedStatus;(0,f.updateCheckBoxFromStatus)(e,l)})(),o.dispose(o.sceneTreeItem.checkedStatusChanged.disposableOn(P));var u=document.createElement("div");o.contentDiv.appendChild(u),o.dispose((function(){return o.contentDiv.removeChild(u)})),u.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv typeDiv"),u.style.display="flex",u.style.alignItems="center",u.style.justifyContent="center",u.style.flex="none",(P=function(){var t="".concat(e.gridWidth,"px");u.style.width=t,u.style.height=t})(),o.dispose(e.gridWidthChanged.disposableOn(P));var d=document.createElement("div");u.appendChild(d),o.dispose((function(){return u.removeChild(d)})),d.style.width="80%",d.style.height="80%",d.style.lineHeight="80%",d.style.textAlign="center",d.style.fill="white";var h='<svg style="width: 100%; height: 100%;"><use xlink:href="#'.concat(p.SvgForUi.documentSvgId,'" /></svg>'),g='<svg style="width: 100%; height: 100%;"><use xlink:href="#'.concat(p.SvgForUi.folderSvgId,'" /></svg>');(P=function(){var e=o.sceneTreeItem.sceneObj;d.innerHTML=e?h:g})(),o.dispose(o.sceneTreeItem.showChanged.disposableOn(P));var y=document.createElement("div");o.contentDiv.appendChild(y),o.dispose((function(){return o.contentDiv.removeChild(y)})),y.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv nameDiv"),y.style.textOverflow="ellipsis",y.style.overflow="hidden",y.style.flex="1 1 auto",y.style.whiteSpace="nowrap",(P=function(){y.textContent="".concat(o.sceneTreeItem.name),y.title=o.sceneTreeItem.name})(),o.dispose(o.sceneTreeItem.nameChanged.disposableOn(P)),o.disposeVar(new c.ObjResettingWithEvent(o.nameEditingChanged,(function(){if(o.nameEditing){var e=new s.Destroyable,t=document.createElement("input");return o.contentDiv.insertBefore(t,y),y.style.display="none",e.dispose((function(){return o.contentDiv.removeChild(t)})),t.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv nameInput"),t.style.width="100%",t.type="text",t.style.border="none",t.style.backgroundColor="transparent",t.style.outline="none",t.style.textOverflow="ellipsis",t.style.overflow="hidden",t.style.color="white",t.style.font="12px auto",t.style.padding="0px",t.onchange=function(e){var t=e.target.value;o.sceneTreeItem.name=t,o.nameEditing=!1},t.onblur=function(e){var t=e.target.value;o.sceneTreeItem.name=t,o.nameEditing=!1},t.value=o.sceneTreeItem.name,t.focus(),t.select(),e}y.style.display=""})));var m=document.createElement("div");o.contentDiv.appendChild(m),o.dispose((function(){return o.contentDiv.removeChild(m)})),m.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv eyeDiv"),m.style.display="flex",m.style.alignItems="center",m.style.justifyContent="center",m.style.flex="none",(P=function(){var t="".concat(e.gridWidth,"px");m.style.width=t,m.style.height=t})(),o.dispose(e.gridWidthChanged.disposableOn(P));var v=document.createElement("div");m.appendChild(v),o.dispose((function(){return m.removeChild(v)})),v.style.width="80%",v.style.height="80%",v.style.lineHeight="80%",v.style.textAlign="center",v.style.fill="white";var b='<svg style="width: 100%; height: 100%;"><use xlink:href="#'.concat(p.SvgForUi.lockSvgId,'" /></svg>');'<svg style="width: 100%; height: 100%;"><use xlink:href="#'.concat(p.SvgForUi.unlockSvgId,'" /></svg>'),(P=function(){var e=o.sceneTreeItem.itemLocked;v.innerHTML=e?b:""})(),o.dispose(o.sceneTreeItem.itemLockedChanged.disposableOn(P));var w=document.createElement("div");o.contentDiv.appendChild(w),o.dispose((function(){return o.contentDiv.removeChild(w)})),w.setAttribute("mt3-div","UiFSceneTree UiFSceneTreeItemDiv eyeDiv"),(P=function(){return w.style.display=o.uiFSceneTree.showEye?"flex":"none"})(),o.dispose(e.showEyeChanged.disposableOn(P)),w.style.alignItems="center",w.style.justifyContent="center",w.style.flex="none",(P=function(){var t="".concat(e.gridWidth,"px");w.style.width=t,w.style.height=t})(),o.dispose(e.gridWidthChanged.disposableOn(P));var _=document.createElement("div");w.appendChild(_),o.dispose((function(){return w.removeChild(_)})),_.style.width="80%",_.style.height="80%",_.style.lineHeight="80%",_.style.textAlign="center",_.style.fill="white";var P,x='<svg style="width: 100%; height: 100%;"><use xlink:href="#'.concat(p.SvgForUi.eyeSvgId,'" /></svg>'),O='<svg style="width: 100%; height: 100%;"><use xlink:href="#'.concat(p.SvgForUi.crossedEyeSvgId,'" /></svg>');(P=function(){var e=o.sceneTreeItem.show;_.innerHTML=e?x:O})(),o.dispose(o.sceneTreeItem.showChanged.disposableOn(P)),_.onclick=function(e){var t=o.sceneTreeItem.show;o.sceneTreeItem.manualSetShow(!t),e.stopPropagation()},_.onpointerdown=function(e){e.stopPropagation()};var C=document.createElement("div");o.contentDiv.appendChild(C),o.dispose((function(){return o.contentDiv.removeChild(C)})),C.style.flex="none",C.style.width="4px"}(),o}return o(t,e),Object.defineProperty(t.prototype,"treeItem",{get:function(){return this._treeItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneTreeItem",{get:function(){return this._treeItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneTree",{get:function(){return this.sceneTreeItem.tree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiTree",{get:function(){return this.uiFSceneTreeWithContainer.uiTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiFSceneTree",{get:function(){return this.uiFSceneTreeWithContainer.uiFSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiFSceneTreeWithContainer",{get:function(){return this._uiFSceneTreeWithContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropMode",{get:function(){return this._dropMode.value},set:function(e){this._dropMode.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropModeChanged",{get:function(){return this._dropMode.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canDrop",{get:function(){return this._canDrop.value},set:function(e){this._canDrop.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canDropChanged",{get:function(){return this._canDrop.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nameEditing",{get:function(){return this._nameEditing.value},set:function(e){this._nameEditing.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nameEditingChanged",{get:function(){return this._nameEditing.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentDiv",{get:function(){return this._contentDiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drag",{get:function(){return this._drag},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drop",{get:function(){return this._drop},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.UiFSceneTreeItem=d},22959:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.UiFSceneTreeWithContainer=void 0;var c=r(51355),l=r(29973),u=function(e){function t(t,r){var n=e.call(this)||this;n._uiFSceneTree=t,n._container=r,n._subContainer=function(){var e=document.createElement("div");n.container.appendChild(e),n.dispose((function(){return n.container.removeChild(e)})),e.setAttribute("mt3-div","UiFSceneTree subContainer"),"hidden"!==n.container.style.overflow&&console.warn('this.container.style.overflow !== "hidden"'),e.style.padding="0px",e.style.margin="0px",e.style.border="0px",e.style.overflowX="hidden",e.style.position="relative",e.style.backgroundColor="transparent";var t=function(t){e.style.overflowY=t.hasScrollY?"scroll":"hidden"};t(n.uiTree.redrawInfo),n.dispose(n.uiTree.redrewEvent.disposableOn(t));var r=function(){var t=n.container.clientWidth,r=n.container.clientHeight;setTimeout((function(){e.style.width="".concat(t,"px"),e.style.height="".concat(r,"px")}),10),n.isDestroyed()||n.uiTree.isDestroyed()||(n.uiTree.divHeight=r,n.uiTree.scrollTop=e.scrollTop)};r();var o=new ResizeObserver(r);o.observe(n.container),n.dispose((function(){return o.unobserve(n.container)})),e.onscroll=function(){n.uiTree.scrollTop=e.scrollTop},e.oncontextmenu=function(e){n.uiFSceneTree.contextMenuEvent.emit(void 0,e)},e.onpointerdown=function(e){n.uiFSceneTree.sceneTree.lastClickedItem=void 0,n.uiFSceneTree.sceneTree.clearAllSelectedItems(),e.stopPropagation()},e.tabIndex=-1;var i=function(){return e===document.activeElement},a=function(e){i()&&n.uiTree.tree.commandEvent.emit({type:"copy",event:e})},s=function(e){i()&&n.uiTree.tree.commandEvent.emit({type:"cut",event:e})},c=function(e){i()&&n.uiTree.tree.commandEvent.emit({type:"paste",event:e})},l=function(e){if(i())if("Delete"===e.code)n.uiTree.tree.commandEvent.emit({type:"delete"});else if("F2"===e.code){var t=n.uiFSceneTree.sceneTree.lastClickedItem;if(!t)return;n.uiFSceneTree.commandEvent.emit({type:"renameItem",item:t})}};return document.addEventListener("copy",a),document.addEventListener("cut",s),document.addEventListener("paste",c),document.addEventListener("keyup",l),n.dispose((function(){document.removeEventListener("copy",a),document.removeEventListener("cut",s),document.removeEventListener("paste",c),document.removeEventListener("keyup",l)})),e}(),n._contentDiv=function(){var e=document.createElement("div");n.subContainer.appendChild(e),n.dispose((function(){return n.subContainer.removeChild(e)})),e.style.padding="0px",e.style.margin="0px",e.style.overflow="hidden",e.style.width="100%",e.setAttribute("mt3-div","UiFSceneTree subContainer contentDiv");var t=function(){e.style.font=n.uiFSceneTree.font};t(),n.dispose(n.uiFSceneTree.fontChanged.disposableOn(t));var r=function(){e.style.color=n.uiFSceneTree.color};r(),n.dispose(n.uiFSceneTree.colorChanged.disposableOn(r));var o=[];n.dispose((function(){var t,r;try{for(var n=i(o),a=n.next();!a.done;a=n.next()){var s=a.value;e.removeChild(s.contentDiv),s.destroy()}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}));var c=document.createElement("div");c.style.padding="0px",c.style.margin="0px",c.setAttribute("mt3-div","UiFSceneTree subContainer contentDiv topDiv"),e.appendChild(c);var u=document.createElement("div");u.style.padding="0px",u.style.margin="0px",u.setAttribute("mt3-div","UiFSceneTree subContainer contentDiv itemListDiv"),e.appendChild(u);var f=document.createElement("div");f.style.padding="0px",f.style.margin="0px",f.setAttribute("mt3-div","UiFSceneTree subContainer contentDiv bottomDiv"),e.appendChild(f);var p=function(){var t=s([],a(o),!1);o.length=0;var r=n.uiTree.redrawInfo,i=r.topFreeSpaceHeight+r.middleTreeItems.length*n.uiTree.itemDivHeight+r.bottomFreeSpaceHeight;e.style.height="".concat(i,"px"),c.style.height="".concat(r.topFreeSpaceHeight,"px"),f.style.height="".concat(r.bottomFreeSpaceHeight,"px");for(var p=0,d=0;p<t.length&&d<r.middleTreeItems.length;)if(t[p].treeItem!==r.middleTreeItems[d]){for(var h=d;h<r.middleTreeItems.length&&t[p].treeItem!==r.middleTreeItems[h];++h);var g=h-d;for(h=p;h<t.length&&t[h].treeItem!==r.middleTreeItems[d];++h);var y=h-p;if(g<=y){for(var m=d;m<d+g;++m){var v=r.middleTreeItems[m],b=new l.UiFSceneTreeItem(v,n);o.push(b),u.insertBefore(b.contentDiv,t[p].contentDiv)}d+=g}else{for(var w=p;w<p+y;++w)b=t[w],u.removeChild(b.contentDiv),b.destroy();p+=y}}else o.push(t[p]),++p,++d;if(p>=t.length){for(h=d;h<r.middleTreeItems.length;++h)v=r.middleTreeItems[h],b=new l.UiFSceneTreeItem(v,n),o.push(b),u.appendChild(b.contentDiv);d=r.middleTreeItems.length}else if(d>=r.middleTreeItems.length){for(h=p;h<t.length;++h)u.removeChild(t[h].contentDiv),t[h].destroy();p=t.length}};return p(),n.dispose(n.uiTree.toRedrawEvent.disposableOn(p)),e}();var o=function(){setTimeout((function(){var e=n.contentDiv.clientWidth>n.subContainer.clientWidth;n.uiTree.hasScrollX=e}),10)};o();var c=new ResizeObserver(o);c.observe(n.contentDiv),n.dispose((function(){return c.unobserve(n.contentDiv)}));var u=new ResizeObserver(o);return u.observe(n.subContainer),n.dispose((function(){return u.unobserve(n.subContainer)})),n.dispose(n.uiTree.redrewEvent.disposableOn(o)),n.dispose((function(){console.log("UiFSceneTreeWithContainer disposed")})),n}return o(t,e),Object.defineProperty(t.prototype,"uiFSceneTree",{get:function(){return this._uiFSceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiTree",{get:function(){return this.uiFSceneTree.uiTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subContainer",{get:function(){return this._subContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentDiv",{get:function(){return this._contentDiv},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.UiFSceneTreeWithContainer=u},76363:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.updateBgColorFromSceneTreeItem=t.updateCheckBoxFromStatus=t.ctrlShiftSelectItems=void 0;var o=r(51355);t.ctrlShiftSelectItems=function(e,t,r){var i,a;e.ctrlKey||e.shiftKey||t.tree.clearAllSelectedItems();var s=function(e){var t=(0,o.getExtProp)(e,"lastShiftSelectedItems");return t||((0,o.setExtProp)(e,"lastShiftSelectedItems",[]),t=(0,o.getExtProp)(e,"lastShiftSelectedItems")),t}(r);if(e.shiftKey){if(t.tree.lastClickedItem){var c=t.tree.lastClickedItem,l=r.redrawInfo.middleTreeItems.findIndex((function(e){return e===c}));if(-1===l)return void console.warn("lastClickedItemshift");var u=r.redrawInfo.middleTreeItems.findIndex((function(e){return e===t}));if(-1===u)return void console.warn("itemshift");try{for(var f=n(s),p=f.next();!p.done;p=f.next())(y=p.value).selected=!1}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}s.length=0;for(var d=Math.min(l,u),h=Math.max(l,u),g=d;g<=h;g++){var y;(y=r.redrawInfo.middleTreeItems[g]).selected=!0,s.push(y)}}}else s.length=0,t.selected=!t.selected},t.updateCheckBoxFromStatus=function(e,t){"checked"===e?(t.indeterminate=!1,t.checked=!0):"unchecked"===e?(t.indeterminate=!1,t.checked=!1):t.indeterminate=!0},t.updateBgColorFromSceneTreeItem=function(e,t){var r=e.hovered,n=e.selected;t.style.backgroundColor=r&&n?"rgba(42, 130, 228, 0.6)":r?"rgba(255, 255, 255, 0.2)":n?"rgba(42, 130, 228, 0.5)":"rgba(255, 255, 255, 0)"}},68516:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UiFSceneTree=void 0;var i=r(51355),a=r(24836),s=r(59645),c=r(22959);r(43497);var l=function(e){function t(t){var r,n=e.call(this)||this;return n._sceneTree=t,n._gridWidth=n.disposeVar((0,i.react)(16)),n._gridGap=n.disposeVar((0,i.react)(2)),n._indentWidth=n.disposeVar((0,i.react)(12)),n._font=n.disposeVar((0,i.react)("12px auto")),n._color=n.disposeVar((0,i.react)("white")),n._contextMenuEvent=n.disposeVar(new i.Event),n._showCheckBox=n.disposeVar((0,i.react)(!1)),n._showEye=n.disposeVar((0,i.react)(!0)),n._dbClickEvent=n.disposeVar(new i.Event),n._commandEvent=n.disposeVar(new i.Event),n._uiTree=((r=n.disposeVar(new a.UiFTree(n.sceneTree))).childrenTraverseFunc=function(e){return!e.collapsed},n.dispose(n.sceneTree.itemChanged.disposableOn((function(e,t){"collapsed"===t&&r.toRedrawEvent.next()}))),r),n._container=n.disposeVar((0,i.react)(void 0)),n._containerResetting=n.disposeVar(new s.ObjResettingWithEvent(n.containerChanged,(function(){if(n.container)return new c.UiFSceneTreeWithContainer(n,n.container)}))),n}return o(t,e),Object.defineProperty(t.prototype,"sceneTree",{get:function(){return this._sceneTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridWidth",{get:function(){return this._gridWidth.value},set:function(e){this._gridWidth.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridWidthChanged",{get:function(){return this._gridWidth.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridGap",{get:function(){return this._gridGap.value},set:function(e){this._gridGap.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridGapChanged",{get:function(){return this._gridGap.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indentWidth",{get:function(){return this._indentWidth.value},set:function(e){this._indentWidth.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indentWidthChanged",{get:function(){return this._indentWidth.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font.value},set:function(e){this._font.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontChanged",{get:function(){return this._font.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color.value},set:function(e){this._color.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colorChanged",{get:function(){return this._color.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuEvent",{get:function(){return this._contextMenuEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCheckBox",{get:function(){return this._showCheckBox.value},set:function(e){this._showCheckBox.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCheckBoxChanged",{get:function(){return this._showCheckBox.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showEye",{get:function(){return this._showEye.value},set:function(e){this._showEye.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showEyeChanged",{get:function(){return this._showEye.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dbClickEvent",{get:function(){return this._dbClickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commandEvent",{get:function(){return this._commandEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uiTree",{get:function(){return this._uiTree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container.value},set:function(e){this._container.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerResetting",{get:function(){return this._containerResetting},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.UiFSceneTree=l},49863:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(84829),t),o(r(18826),t),o(r(68516),t),o(r(29387),t)},36810:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.preload=void 0;var a=r(80468),s=["EnvironmentVariables","ScriptsLoader","SceneScript","ScriptLoader"];t.preload=function(e,t){var r,c;return n(this,void 0,void 0,(function(){var n,l,u,f,p,d,h,g,y,m,v,b,w,_,P;return o(this,(function(o){switch(o.label){case 0:n=function(e){for(var t,r,n=[],o=e.root,a=[void 0===o?{}:o];a.length>0;){var c=a.pop();if(!c)throw new Error("!todo");if(c.children)try{for(var l=(t=void 0,i(c.children)),u=l.next();!u.done;u=l.next()){var f=u.value;if(f.children&&a.unshift(f),f.sceneObj){var p=f.sceneObj.type,d=void 0===p?void 0:p;d||(console.warn("sceneObjJson has no type! treeItem.sceneObj: "),console.warn(f.sceneObj)),d&&s.includes(d)&&n.push(f.sceneObj)}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}}return n}(e),l=0,u=n.length,o.label=1;case 1:o.trys.push([1,19,20,21]),f=i(n),p=f.next(),o.label=2;case 2:return p.done?[3,18]:(d=p.value,"EnvironmentVariables"!==(h=d).type?[3,3]:(null==(g=a.SceneObject.createFromJson(h))||g.destroy(),[3,16]));case 3:return"ScriptLoader"!==h.type?[3,7]:(y=a.SceneObject.createFromJson(h))?null===(r=y.enabled)||void 0===r||r?[4,y.load()]:[3,5]:[3,6];case 4:o.sent(),o.label=5;case 5:y.destroy(),o.label=6;case 6:return[3,16];case 7:return"ScriptsLoader"!==h.type?[3,11]:(m=a.SceneObject.createFromJson(h))?null===(c=m.enabled)||void 0===c||c?[4,m.load()]:[3,9]:[3,10];case 8:o.sent(),o.label=9;case 9:m.destroy(),o.label=10;case 10:return[3,16];case 11:return"SceneScript"!==h.type?[3,15]:(v=a.SceneObject.createFromJson(h))?v.runOnLoaded&&(b=v.exec())instanceof Promise?[4,b]:[3,13]:[3,14];case 12:o.sent(),o.label=13;case 13:v.destroy(),o.label=14;case 14:return[3,16];case 15:console.warn("preload warnsceneObjJson.type: ".concat(h.type," cannot be handled!")),o.label=16;case 16:++l,t&&t(l/u,l,u),o.label=17;case 17:return p=f.next(),[3,2];case 18:return[3,21];case 19:return w=o.sent(),_={error:w},[3,21];case 20:try{p&&!p.done&&(P=f.return)&&P.call(f)}finally{if(_)throw _.error}return[7];case 21:return[2]}}))}))}},37029:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8675),t),o(r(61175),t),o(r(16936),t)},40015:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.b3dmToGlb=void 0,t.b3dmToGlb=function(e){var t={magic:"b3dm",version:1,byteLength:0,featureTableJSONByteLength:0,featureTableBinaryByteLength:0,batchTableJSONByteLength:0,batchTableBinaryByteLength:0};if(!new Uint8Array(e.buffer,e.byteOffset,4).every((function(e,r){return e===t.magic.codePointAt(r)})))throw new Error("magic is not b3dm!");var n=new Uint32Array(e.buffer,e.byteOffset+4,6),o=r(n,6),i=o[0],a=o[1],s=o[2],c=o[3],l=o[4],u=o[5];if(1!==i)throw new Error("version is not 1!");var f=a-s-c-l-u-28,p=28+s+c+l+u;return new Uint8Array(e.buffer,e.byteOffset+p,f)}},58189:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeB3dm=void 0;var i=r(51355),a={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},s={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,INT:4,UNSIGNED_INT:4,FLOAT:4,DOUBLE:8},c={BYTE:Int8Array,UNSIGNED_BYTE:Uint8Array,SHORT:Int16Array,UNSIGNED_SHORT:Uint16Array,INT:Int32Array,UNSIGNED_INT:Uint32Array,FLOAT:Float32Array,DOUBLE:Float64Array};function l(e,t,r){var l,u,f,p,d=0,h=e.featureTable.BATCH_LENGTH;try{for(var g=n(Object.entries(e.batchTable)),y=g.next();!y.done;y=g.next()){var m=o(y.value,2),v=m[0],b=m[1];if(Array.isArray(b))b.length!==h&&console.warn("batchTable ".concat(v,"'s length !== b3dm.featureTable.BATCH_LENGTH")),t&&(t[v]=b);else if("object"==typeof b){if(!b.data)throw new Error("v.data should exist!");var w=a[b.type],_=s[b.componentType];"number"==typeof b.data.length&&b.data.length/w!==h&&console.warn("v.data.length / componentNum !== b3dm.featureTable.BATCH_LENGTH");var P=w*_*h,x=(0,i.getPaddingByteLength)(d,_);if(r&&r.fill(0,d,d+x),d+=x,r)if(b.data.buffer)(O=b.data).byteLength!==P&&console.warn("batchTable ".concat(v," error. vd.byteLength !== byteLength")),r.set(new Uint8Array(O.buffer,O.byteOffset,P),d);else if(Array.isArray(b.data)){var O=b.data,C=new(0,c[b.componentType])(r.buffer,r.byteOffset+d,P);O.length!==h*w&&(console.warn("".concat(v," v.data.length !== batchLength * componentNum")),O.length=h*w),C.set(O,d)}else if(b.data[Symbol.iterator]){O=b.data,C=new(0,c[b.componentType])(r.buffer,r.byteOffset+d,P);var S=-1;try{for(var E=(f=void 0,n(O)),M=E.next();!M.done;M=E.next()){var j=M.value;if(++S>=h*w)break;C[S]=j}}catch(e){f={error:e}}finally{try{M&&!M.done&&(p=E.return)&&p.call(E)}finally{if(f)throw f.error}}S!==h*w&&console.warn("index(".concat(S,") !== batchLength(").concat(h,") * componentNum(").concat(w,")"))}t&&(t[v]={byteOffset:d,componentType:b.componentType,type:b.type}),d+=P}}}catch(e){l={error:e}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}var k=(0,i.getPaddingByteLength)(d,8);return r&&r.fill(0,d,d+k),d+k}t.encodeB3dm=function(e,t){var r,n={magic:0,version:1,byteLength:0,featureTableJSONByteLength:0,featureTableBinaryByteLength:0,batchTableJSONByteLength:0,batchTableBinaryByteLength:0},o={featureTableJsonStr:"",featureTableJsonByteLength:0,featureTableJsonPaddingByteLength:0,batchTableBinaryByteLength:0,batchTableBinaryPaddingByteLength:0,batchTableJsonStr:"",batchTableJsonByteLength:0,batchTableJsonPaddingByteLength:0,glbByteLength:0,glbPaddingByteLength:0};o.featureTableJsonStr=JSON.stringify(e.featureTable),o.featureTableJsonByteLength=(0,i.encodeString)(o.featureTableJsonStr),o.featureTableJsonPaddingByteLength=(0,i.getPaddingByteLength)(28+o.featureTableJsonByteLength,8);var a={};if(o.batchTableBinaryByteLength=l(e,a),o.batchTableJsonStr=JSON.stringify(a),o.batchTableJsonByteLength=(0,i.encodeString)(o.batchTableJsonStr),o.batchTableJsonPaddingByteLength=(0,i.getPaddingByteLength)(o.batchTableJsonByteLength,8),o.batchTableBinaryPaddingByteLength=(0,i.getPaddingByteLength)(o.batchTableBinaryByteLength,8),o.glbByteLength=e.glb.byteLength,o.glbPaddingByteLength=(0,i.getPaddingByteLength)(o.glbByteLength,8),r=28+o.featureTableJsonByteLength+o.featureTableJsonPaddingByteLength+o.batchTableBinaryByteLength+o.batchTableBinaryPaddingByteLength+o.batchTableJsonByteLength+o.batchTableJsonPaddingByteLength+o.glbByteLength+o.glbPaddingByteLength,t){if(t.byteLength<r)throw new Error("encodeB3DM error! need more space!");t.byteLength>r&&console.warn("encodeB3DM target.byteLength > b3dmByteLength");var s=0,c=1835283298;n.magic=c,n.byteLength=r,n.featureTableJSONByteLength=o.featureTableJsonByteLength+o.featureTableJsonPaddingByteLength,n.featureTableBinaryByteLength=0,n.batchTableJSONByteLength=o.batchTableJsonByteLength+o.batchTableJsonPaddingByteLength,n.batchTableBinaryByteLength=o.batchTableBinaryByteLength+o.batchTableBinaryPaddingByteLength;var u=new Uint32Array(t.buffer,t.byteOffset,7);u[0]=c,u[1]=n.version,u[2]=n.byteLength,u[3]=n.featureTableJSONByteLength,u[4]=n.featureTableBinaryByteLength,u[5]=n.batchTableJSONByteLength,u[6]=n.batchTableBinaryByteLength,s+=28,(0,i.encodeString)(o.featureTableJsonStr,t.subarray(s,s+o.featureTableJsonByteLength))!==o.featureTableJsonByteLength&&console.warn("r !== body.featureTableJsonByteLength"),s+=o.featureTableJsonByteLength,t.fill(32,s,s+o.featureTableJsonPaddingByteLength),s+=o.featureTableJsonPaddingByteLength,(0,i.encodeString)(o.batchTableJsonStr,t.subarray(s,s+o.batchTableJsonByteLength))!==o.batchTableJsonByteLength&&console.warn("r !== body.batchTableJsonByteLength"),s+=o.batchTableJsonByteLength,t.fill(32,s,s+o.batchTableJsonPaddingByteLength),s+=o.batchTableJsonPaddingByteLength,l(e,void 0,t.subarray(s,s+o.batchTableBinaryByteLength))!==o.batchTableBinaryByteLength&&console.warn("r !== body.batchTableBinaryByteLength"),s+=o.batchTableBinaryByteLength,t.fill(0,s,s+o.batchTableBinaryPaddingByteLength),s+=o.batchTableBinaryPaddingByteLength,t.set(e.glb,s),s+=o.glbByteLength,t.fill(0,s,s+o.glbPaddingByteLength),(s+=o.glbPaddingByteLength)!==r&&console.warn("byteOffset !== b3dmByteLength")}return r}},48643:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(40015),t),o(r(58189),t),o(r(87869),t),o(r(8074),t)},35579:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.TilesetLoading=void 0;var i=r(51355),a=r(53464),s=r(96908),c=function(e){function t(t,r){void 0===r&&(r=0);var n,o,c=e.call(this)||this;return c._url=t,c._dirLevel=r,c._enabled=c.disposeVar((0,i.react)(!1)),c._loadingRunning=c.disposeVar(new a.TilesetLoadingRunning(c)),c._rectangle=c.disposeVar((0,i.react)(void 0)),c._cullingVolume=(n=c.disposeVar((0,i.react)(void 0)),(o=function(){var e=void 0;do{if(!c.rectangle)break;e=(0,s.getCullingVolumeFromRectangle)(c.rectangle)}while(0);n.value=e})(),c.dispose(c.rectangleChanged.disposableOn(o)),n),c}return o(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dirLevel",{get:function(){return this._dirLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rectangle",{get:function(){return this._rectangle.value},set:function(e){this._rectangle.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rectangleChanged",{get:function(){return this._rectangle.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cullingVolume",{get:function(){return this._cullingVolume.value},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.TilesetLoading=c},53464:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TilesetLoadingRunning=void 0;var d=s(r(81557)),h=r(51355),g=r(59645),y=r(96908),m=r(81054);function v(e){return c(this,void 0,void 0,(function(){var t,r,n;return l(this,(function(o){switch(o.label){case 0:return t=new TextEncoder,r=t.encode(e),[4,crypto.subtle.digest("SHA-256",r)];case 1:return n=o.sent(),[2,Array.from(new Uint8Array(n)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))}function b(e){var t=e,r="",n=t.lastIndexOf("/");return-1!==n&&(t=e.slice(n+1),r=e.slice(0,n+1)),{fileName:t,relativeDir:r}}function w(e){var t=e,r="",n=e.lastIndexOf(".");return-1!==n&&(t=e.slice(0,n),r=e.slice(n)),{pureFileName:t,ext:r}}function _(e){return c(this,void 0,void 0,(function(){var t,r,n,o,i,a,s,c,f,p,d,h,g,y,m,_,P,x,O;return l(this,(function(l){switch(l.label){case 0:if(0===e.length)return[2,e];t=b(e),r=t.fileName,n=t.relativeDir,o=n.split("/").filter((function(e){return e.length>0})),i=[],l.label=1;case 1:l.trys.push([1,6,7,8]),a=u(o),s=a.next(),l.label=2;case 2:return s.done?[3,5]:(c=s.value).length<=255?(i.push(c),[3,4]):[4,v(c)];case 3:f=l.sent(),i.push(f),l.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return p=l.sent(),x={error:p},[3,8];case 7:try{s&&!s.done&&(O=a.return)&&O.call(a)}finally{if(x)throw x.error}return[7];case 8:return d=i.join("/"),(h=r).length>255?(g=w(h),y=g.pureFileName,m=g.ext,[4,v(y)]):[3,10];case 9:_=l.sent(),h=_+m,l.label=10;case 10:return P=h,d.length>0&&(P=d+"/"+h),P!==e&&console.log("hashedRelativePath: ".concat(e," -> ").concat(P)),[2,P]}}))}))}function P(e,t){var r=t.slice(e.length),n=-1===r.indexOf("?")?r.length:r.indexOf("?");return r.slice(0,n)}function x(e,t){return c(this,void 0,void 0,(function(){var r,n,o,i,a,s,c,f,p,d,h;return l(this,(function(l){switch(l.label){case 0:r="",(n=[]).push(e.root),l.label=1;case 1:return n.length>0?(o=n.pop()).content?(i=o.content.uri,a=new URL(i,t).href,[4,_(P(t,a))]):[3,3]:[3,4];case 2:s=l.sent(),o.content.uri!==s&&(r+="content.uri: ".concat(o.content.uri," -> ").concat(s,"\n"),o.content.uri=s),l.label=3;case 3:if(o.children)try{for(d=void 0,c=u(o.children),f=c.next();!f.done;f=c.next())p=f.value,n.push(p)}catch(e){d={error:e}}finally{try{f&&!f.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}}return[3,1];case 4:return[2,r]}}))}))}var O=function(e){function t(t){var r=e.call(this)||this;return r._loading=t,r._loadingProcessing=r.disposeVar((0,g.createProcessingFromAsyncFunc)((function(e){return c(r,void 0,void 0,(function(){var t,r,n,o,i,a,s,c,v,O,C,S,E,M,j,k,T,I,F,A,L,R,D,B,N,z,G,V,q,U,H,W,J,Y,X,Z,$,K,Q,ee,te,re,ne,oe,ie,ae,se,ce,le,ue,fe,pe,de,he,ge,ye,me,ve,be,we,_e,Pe,xe,Oe,Ce,Se,Ee,Me,je,ke,Te,Ie,Fe,Ae,Le,Re,De,Be,Ne,ze,Ge,Ve,qe,Ue,He,We,Je;return l(this,(function(l){switch(l.label){case 0:t=Date.now(),r="",n=g.SceneObject.context.getStrFromEnv(this.url),o=new URL(n).href,(i=new h.DoublyLinkedList).push([void 0,d.Matrix4.IDENTITY,o]),a=[o],s=[],c=new URL("./"+"../".repeat(this.dirLevel),o).href,l.label=1;case 1:return this.saveFileFunc&&(v=this._loading.rectangle)?(O=f(v,6),C=O[0],S=O[1],E=O[2],M=O[3],j=O[4],k=O[5],T=d.Math.toRadians,[4,_(P(c,o))]):[3,9];case 2:Re=l.sent(),I=b(Re),F=I.fileName,ke=I.relativeDir,A=w(F),L=A.pureFileName,A.ext,R=L+"_rect"+"_".concat(Date.now())+".json",D=L+"_rect"+"_".concat(Date.now())+".m3tjson",B=ke+R,N=ke+D,z=ke+"_".concat(Date.now(),".txt"),G=[T(C),T(S),T(E),T(M),j,k],je={asset:{version:"1.0",extras:{author:"vtxf",generator:"My3dtiles"}},geometricError:1e100,root:{children:[{content:{uri:F},boundingVolume:{region:G}}],geometricError:1e100,refine:"REPLACE",boundingVolume:{region:G}}},l.label=3;case 3:return l.trys.push([3,7,,8]),Ie=JSON.stringify(je,void 0,"   "),[4,e.promise(this.saveFileFunc(B,Ie))];case 4:return l.sent(),V=(0,m.getM3TJsonStr)(R,v),[4,e.promise(this.saveFileFunc(N,V))];case 5:return l.sent(),q="# \n1. ".concat(R," - 3dtiles\n2. ").concat(D," - My3dtiles\n3. My3dtileshttps://czmtoy.com/p/my3dtiles/\n"),[4,e.promise(this.saveFileFunc(z,q))];case 6:return l.sent(),[3,8];case 7:return U=l.sent(),r+="".concat(o,"").concat(B,"\n"),console.error("".concat(o,"").concat(B),U),[3,8];case 8:l.label=9;case 9:H=0,l.label=10;case 10:if(i.empty)return[3,20];W=f(i.shift(),3),J=W[0],Y=W[1],X=W[2],r+="json parentGeometricError: ".concat(J,", parentHref: ").concat(X,"\n"),je=void 0,l.label=11;case 11:return[4,_(P(c,X))];case 12:return Re=l.sent(),h.os.wrap&&this.existsFileFunc&&this.readTextFileFunc?[4,e.promise(this.existsFileFunc(Re))]:[3,15];case 13:return l.sent()?[4,this.readTextFileFunc(Re)]:[3,15];case 14:Z=l.sent();try{je=JSON.parse(Z)}catch(e){return console.error("Failed to parse tileset json ".concat(X," with error ").concat(e)),[3,19]}return[3,19];case 15:return[4,e.promise(fetch(X))];case 16:return($=l.sent()).ok?[4,e.promise($.json())]:(console.error("Failed to fetch tileset json ".concat(X," with status ").concat($.status)),[3,19]);case 17:je=l.sent(),l.label=18;case 18:l.label=19;case 19:if(!je)return[3,10];if(!(K=je.root))return[3,20];for(Q=Y,(ee=new h.DoublyLinkedList).push([J,Q,K]);!ee.empty;)if(te=f(ee.shift(),3),re=te[0],ne=te[1],oe=te[2],r+="content parentGeometricError: ".concat(re," geometricError: ").concat(oe.geometricError," uri: ").concat(null===(He=oe.content)||void 0===He?void 0:He.uri,"\n"),ie=oe.content,ae=oe.children,se=oe.geometricError,ce=oe.transform,le=oe.boundingVolume,d.Matrix4.IDENTITY,ue=ce?d.Matrix4.multiply(ne,d.Matrix4.fromArray(ce),new d.Matrix4):ne,ie&&(fe=ie.uri,pe=new URL(X).searchParams,de=new URL(fe,X),he=Object.fromEntries(p(p([],f(pe.entries()),!1),f(de.searchParams.entries()),!1)),ge=p([],f(Object.entries(he)),!1).map((function(e){var t=f(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&"),ye=de.origin+de.pathname+(ge?"?".concat(ge):""),de.pathname.endsWith(".json")?(i.push([se,ue,ye]),a.push(ye)):s.push(ye)),this.loading.cullingVolume&&(me=(0,y.getTransformedBV)(le,ue),this.loading.cullingVolume.computeVisibility(me)===d.Intersect.OUTSIDE))r+="content cullingVolume filtered tile.content?.uri: ".concat(null===(We=oe.content)||void 0===We?void 0:We.uri,"\n");else if(!this.filterFileFunc||this.filterFileFunc(re,ne,X,oe)){if(ae)try{for(qe=void 0,ve=u(ae),be=ve.next();!be.done;be=ve.next())we=be.value,ee.push([se,ue,we])}catch(e){qe={error:e}}finally{try{be&&!be.done&&(Ue=ve.return)&&Ue.call(ve)}finally{if(qe)throw qe.error}}}else r+="content filter filtered tile.content?.uri: ".concat(null===(Je=oe.content)||void 0===Je?void 0:Je.uri,"\n");return this.statusFunc&&this.statusFunc("".concat(++H,"").concat(i.length,"!")),[3,10];case 20:if(this.saveFileFunc){try{_e=JSON.stringify(a,void 0,"    "),this.saveFileFunc("vtxf_logs/".concat(t,"/jsonFileList.json"),_e)}catch(e){console.error("vtxf_logs/".concat(t,"/jsonFileList.json save error ").concat(e)),console.error(e)}try{_e=JSON.stringify(s,void 0,"    "),this.saveFileFunc("vtxf_logs/".concat(t,"/contentFileList.json"),_e)}catch(e){console.error("vtxf_logs/".concat(t,"/contentFileList.json save error ").concat(e)),console.error(e)}}return this.statusFunc&&this.statusFunc("".concat(a.length,"").concat(s.length,"")),(Pe=this.continueFunc)?[4,e.promise(this.continueFunc(a,s))]:[3,22];case 21:Pe=!l.sent(),l.label=22;case 22:if(Pe)return this.statusFunc&&this.statusFunc("3dtiles"),[2];if(!this.saveFileFunc||!this.existsFileFunc)return[2];xe=a.length,Oe=s.length,Ce=xe+Oe,Se=0,l.label=23;case 23:return Se<xe?(Ee=a[Se],[4,_(P(c,Ee))]):[3,35];case 24:return Re=l.sent(),[4,e.promise(this.existsFileFunc(Re))];case 25:return l.sent()?(this.statusFunc&&this.statusFunc("".concat(Re,"")),[3,34]):[3,26];case 26:return[4,e.promise(fetch(Ee))];case 27:if(!(Me=l.sent()).ok)return console.error("".concat(Ee,"")),[3,34];l.label=28;case 28:return l.trys.push([28,32,,33]),[4,e.promise(Me.json())];case 29:return je=l.sent(),ke=b(Re).relativeDir,[4,x(je,c+ke)];case 30:return Te=l.sent(),r+=Te,Ie=JSON.stringify(je,void 0,"   "),[4,e.promise(this.saveFileFunc(Re,Ie))];case 31:return l.sent(),[3,33];case 32:return Fe=l.sent(),r+="".concat(Ee,"").concat(Re,"\n"),console.error("".concat(Ee,"").concat(Re),Fe),[3,33];case 33:ze=((Se+1)/Ce*100).toFixed(2),Ge=((Se+1)/xe*100).toFixed(2),this.statusFunc&&this.statusFunc("3dtiles.. :".concat(Ge,"%-").concat(Se+1,"/").concat(xe," total:").concat(ze,"%-").concat(Se+1,"/").concat(Ce," ").concat(Re)),l.label=34;case 34:return Se++,[3,23];case 35:Ae=0,l.label=36;case 36:return Ae<Oe?(Le=s[Ae],[4,_(P(c,Le))]):[3,47];case 37:return Re=l.sent(),[4,e.promise(this.existsFileFunc(Re))];case 38:return l.sent()?(this.statusFunc&&this.statusFunc("".concat(Re,"")),[3,45]):[3,39];case 39:return[4,e.promise(fetch(Le))];case 40:return(De=l.sent()).ok?[4,e.promise(De.arrayBuffer())]:(console.error("".concat(Le,"")),[3,46]);case 41:Be=l.sent(),l.label=42;case 42:return l.trys.push([42,44,,45]),[4,e.promise(this.saveFileFunc(Re,new Uint8Array(Be)))];case 43:return l.sent(),[3,45];case 44:return Ne=l.sent(),r+="".concat(Le,"").concat(Re,"\n"),console.error("".concat(Le,"").concat(Re),Ne),[3,45];case 45:ze=((xe+Ae+1)/Ce*100).toFixed(2),Ge=((Ae+1)/Oe*100).toFixed(2),this.statusFunc&&this.statusFunc("3dtiles.. :".concat(Ge,"%-").concat(Ae+1,"/").concat(Oe," total:").concat(ze,"%-").concat(xe+Ae+1,"/").concat(Ce," ").concat(Re)),l.label=46;case 46:return Ae++,[3,36];case 47:this.statusFunc&&this.statusFunc("3dtiles"),l.label=48;case 48:return l.trys.push([48,50,,51]),[4,e.promise(this.saveFileFunc("vtxf_logs/".concat(t,"/requestLog.txt"),r))];case 49:return l.sent(),[3,51];case 50:return Ve=l.sent(),console.error("vtxf_logs/".concat(t,"/requestLog.txt save error ").concat(Ve)),console.error(Ve),[3,51];case 51:return[4,h.ui.alert("3dtiles".concat(o))];case 52:return l.sent(),[2]}}))}))}))),r._loadingProcessingInit=function(){r.dispose(r._loadingProcessing.errorEvent.disposableOn((function(e){e instanceof g.CancelError?console.log(""):(r.loading.enabled=!1,console.error("_loadingProcessing: ".concat(e)),console.error(e))}))),r.dispose(r._loadingProcessing.completeEvent.disposableOn((function(){r.loading.enabled=!1,console.log("_loadingProcessing: complete")})));var e=function(){r.loading.enabled?r._loadingProcessing.restart():r._loadingProcessing.cancel()};e(),r.dispose(r.loading.enabledChanged.disposableOn(e))}(),r}return o(t,e),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._loading.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dirLevel",{get:function(){return this._loading.dirLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"saveFileFunc",{get:function(){return this._loading.saveFileFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"existsFileFunc",{get:function(){return this._loading.existsFileFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readTextFileFunc",{get:function(){return this._loading.readTextFileFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterFileFunc",{get:function(){return this._loading.filterFileFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"continueFunc",{get:function(){return this._loading.continueFunc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusFunc",{get:function(){return this._loading.statusFunc},enumerable:!1,configurable:!0}),t}(h.Destroyable);t.TilesetLoadingRunning=O},96908:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformedBV=t.transformOrientedBoundingBox=t.getBoundingVolume=t.getCullingVolumeFromRectangle=t.getCullingVolumeFromOBB=t.getCartesian4FromPlane=void 0;var a=i(r(81557));function s(e){return new a.Cartesian4(e.normal.x,e.normal.y,e.normal.z,e.distance)}function c(e){var t=e.center,r=a.Matrix3.toArray(e.halfAxes),n=a.Cartesian3.fromArray(r,0),o=a.Cartesian3.add(t,n,new a.Cartesian3),i=a.Cartesian3.subtract(t,n,new a.Cartesian3),c=a.Cartesian3.normalize(n,new a.Cartesian3),l=a.Cartesian3.negate(c,new a.Cartesian3),u=a.Cartesian3.fromArray(r,3),f=a.Cartesian3.add(t,u,new a.Cartesian3),p=a.Cartesian3.subtract(t,u,new a.Cartesian3),d=a.Cartesian3.normalize(u,new a.Cartesian3),h=a.Cartesian3.negate(d,new a.Cartesian3),g=a.Cartesian3.fromArray(r,6),y=a.Cartesian3.add(t,g,new a.Cartesian3),m=a.Cartesian3.subtract(t,g,new a.Cartesian3),v=a.Cartesian3.normalize(g,new a.Cartesian3),b=a.Cartesian3.negate(v,new a.Cartesian3),w=s(a.Plane.fromPointNormal(o,l)),_=s(a.Plane.fromPointNormal(i,c)),P=s(a.Plane.fromPointNormal(f,h)),x=s(a.Plane.fromPointNormal(p,d)),O=s(a.Plane.fromPointNormal(y,b)),C=s(a.Plane.fromPointNormal(m,v));return new a.CullingVolume([w,_,P,x,O,C])}function l(e){if(e.box)return a.OrientedBoundingBox.unpack(e.box);if(e.sphere)return a.BoundingSphere.unpack(e.sphere);if(e.region){var t=a.Rectangle.fromRadians(e.region[0],e.region[1],e.region[2],e.region[3]);return a.OrientedBoundingBox.fromRectangle(t,e.region[4],e.region[5])}}function u(e,t){var r=e.computeTransformation(new a.Matrix4);return a.Matrix4.multiply(t,r,r),a.OrientedBoundingBox.fromTransformation(r)}t.getCartesian4FromPlane=s,t.getCullingVolumeFromOBB=c,t.getCullingVolumeFromRectangle=function(e){var t=e[4],r=e[5],n=a.Rectangle.fromDegrees(e[0],e[1],e[2],e[3]);return c(a.OrientedBoundingBox.fromRectangle(n,t,r))},t.getBoundingVolume=l,t.transformOrientedBoundingBox=u,t.getTransformedBV=function(e,t){var r=l(e);if(r)return r instanceof a.OrientedBoundingBox?u(r,t):r instanceof a.BoundingSphere?a.BoundingSphere.transform(r,t,r):void 0}},81054:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getM3TJsonStr=void 0;var o=r(32714);t.getM3TJsonStr=function(e,t){var r=o.templateM3TStr;r=r.replaceAll("<tilesetJsonFileName>",e);var i=n(t,4),a=i[0],s=i[1],c=i[2],l=i[3],u=[[a,s,0],[c,s,0],[c,l,0],[a,l,0]];return r.replaceAll("<rectanglePositions>",JSON.stringify(u))}},38127:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(35579),t),o(r(53464),t)},32714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.templateM3TStr=void 0,t.templateM3TStr='{\n    "asset": {\n        "type": "My3dtiles",\n        "version": "0.9.12",\n        "createdTime": "2024-09-22T00:53:38.378Z",\n        "modifiedTime": "2024-09-23T02:30:10.929Z",\n        "name": "<tilesetJsonFileName>"\n    },\n    "sceneTree": {\n        "root": {\n            "name": "root",\n            "children": [\n                {\n                    "name": "<tilesetJsonFileName>",\n                    "sceneObj": {\n                        "id": "4c398f6b-7973-4d08-9e85-fe9bf5c85c7e",\n                        "type": "Czm3DTiles",\n                        "name": "<tilesetJsonFileName>",\n                        "allowPicking": true,\n                        "czmFlattenedPlaneId": "a80896b4-2a39-45c5-bf3f-26c36ed74ef2",\n                        "url": "${SD}<tilesetJsonFileName>",\n                        "show": true\n                    },\n                    "children": [\n                        {\n                            "name": "CzmFlattenedPlane",\n                            "sceneObj": {\n                                "id": "a80896b4-2a39-45c5-bf3f-26c36ed74ef2",\n                                "type": "CzmFlattenedPlane",\n                                "name": "CzmFlattenedPlane",\n                                "showHelper": false,\n                                "position": [\n                                    121.56440412064,\n                                    25.03391206748031,\n                                    36.54769047960323\n                                ],\n                                "reverse": true,\n                                "discard": [\n                                    0,\n                                    0\n                                ],\n                                "minSize": [\n                                    -114.8511248776078,\n                                    -120.2240970744096\n                                ],\n                                "maxSize": [\n                                    114.8511248776078,\n                                    120.2240970744096\n                                ]\n                            }\n                        },\n                        {\n                            "name": "CzmPolygonFlattenedPlane",\n                            "show": false,\n                            "sceneObj": {\n                                "id": "3333428c-22ad-408f-9af8-ab7fe5377601",\n                                "type": "CzmPolygonFlattenedPlane",\n                                "name": "CzmPolygonFlattenedPlane",\n                                "show": false,\n                                "positions": <rectanglePositions>,\n                                "allowPicking": true,\n                                "czmFlattenedPlaneId": "a80896b4-2a39-45c5-bf3f-26c36ed74ef2"\n                            }\n                        }\n                    ]\n                }\n            ]\n        }\n    },\n    "builtin": {\n        "czmViewer": {\n            "id": "94573aba-c3c7-457a-818a-a42111db7319",\n            "type": "CzmViewer",\n            "show": true,\n            "actived": true,\n            "name": "",\n            "ref": "v",\n            "sceneSsccZoomFactor": 2,\n            "clockCurrentTime": 1726966418387\n        },\n        "offlineImagery": {\n            "id": "6130e001-c388-41df-b09d-468edec8dc75",\n            "type": "CzmImagery",\n            "imageryProvider": {\n                "type": "TileMapServiceImageryProvider",\n                "url": "${czm-path}/Assets/Textures/NaturalEarthII"\n            },\n            "zIndex": -2,\n            "name": ""\n        },\n        "baseImagery": {\n            "id": "4271b057-4bdf-486b-b763-8caeb9b93158",\n            "type": "CzmImagery",\n            "imageryProvider": {\n                "type": "UrlTemplateImageryProvider",\n                "url": "https://{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",\n                "subdomains": [\n                    "t0",\n                    "t1",\n                    "t2",\n                    "t3",\n                    "t4",\n                    "t5",\n                    "t6",\n                    "t7"\n                ],\n                "minimumLevel": 0,\n                "maximumLevel": 18\n            },\n            "zIndex": -1,\n            "name": ""\n        },\n        "czmTerrain": {\n            "id": "a756cd1e-d6cd-4aa0-8dc2-d914f557f155",\n            "type": "CzmTerrain",\n            "show": false,\n            "provider": {\n                "type": "CesiumTerrainProvider",\n                "url": "ion://1",\n                "requestVertexNormals": true\n            },\n            "name": "Cesium"\n        },\n        "czmClassicNavigator": {\n            "id": "5af12d31-8814-4063-abef-db57bcadbfe1",\n            "type": "CzmClassicNavigator",\n            "name": ""\n        },\n        "lastView": {\n            "id": "6a4ee9ea-8ad0-4a04-86a7-0d3f7fb4c19c",\n            "type": "View",\n            "position": [\n                110.34196201821598,\n                39.023353003313744,\n                6708605.42831956\n            ],\n            "rotation": [\n                353.3139474311778,\n                -89.5807564237664,\n                0\n            ],\n            "name": ""\n        },\n        "initOptions": {\n            "id": "e9a87adc-ccb1-4407-a082-a9bd291b8b21",\n            "type": "M3tInitOptions",\n            "name": ""\n        }\n    }\n}'},8074:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(38127),t)},87595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},37030:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},10661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},30205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},87869:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(87595),t),o(r(8868),t),o(r(37030),t),o(r(87869),t),o(r(10661),t),o(r(8408),t),o(r(30205),t)},42626:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EvalString2Property=t.MaximumScreenSpaceErrorProperty=t.LongString2Property=t.Json2Property=void 0;var i=r(80468),a=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this,t,r,n,o,i,a)||this;return c._sampleValue=s,c}return o(t,e),Object.defineProperty(t.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return"Json2Property"},enumerable:!1,configurable:!0}),t}(i.ReactVarProperty);t.Json2Property=a;var s=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this,t,r,n,o,i,a)||this;return c._sampleValue=s,c}return o(t,e),Object.defineProperty(t.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return"LongString2Property"},enumerable:!1,configurable:!0}),t}(i.ReactVarProperty);t.LongString2Property=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"MaximumScreenSpaceErrorProperty"},enumerable:!1,configurable:!0}),t}(i.ReactVarProperty);t.MaximumScreenSpaceErrorProperty=c;var l=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this,t,r,n,o,i,a)||this;return c._sampleValue=s,c}return o(t,e),Object.defineProperty(t.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return"EvalString2Property"},enumerable:!1,configurable:!0}),t}(i.ReactVarProperty);t.EvalString2Property=l},45727:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlWithFileOrProxy=void 0;var s=r(51355),c=r(59645),l=function(e){function t(r,n){var o=e.call(this)||this;o._urlReact=r,o._proxyReact=n,o._finalUrl=o.disposeVar((0,s.react)("")),o._setHttpUrlProcessing=o.disposeVar((0,c.createProcessingFromAsyncFunc)((function(e,r){return i(o,void 0,void 0,(function(){var n;return a(this,(function(o){switch(o.label){case 0:if(n=!1,"auto"!==this.proxy)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(r)];case 2:return o.sent(),n=!1,[3,4];case 3:return o.sent(),n=!0,[3,4];case 4:return e.check(),[3,6];case 5:"endabled"===this.proxy&&(n=!0),o.label=6;case 6:return this.finalUrl=n?"http://localhost:".concat(t.fileServerPort,"/ff/")+r:r,[2]}}))}))})));var l=function(){if(o._setHttpUrlProcessing.isRunning&&o._setHttpUrlProcessing.cancel(new c.CancelError("url changed!")),o.url){console.log("url: ".concat(o.url));var e=c.SceneObject.context.getStrFromEnv(o.url);e.startsWith("file:///")?o.finalUrl=e.replace("file:///","http://localhost:".concat(t.fileServerPort,"/f/")):e.startsWith("http://")||e.startsWith("https://")?o._setHttpUrlProcessing.restart(new c.CancelError("url changed!"),e):o.finalUrl=e}else o.finalUrl=""};l();var u=o.disposeVar((0,s.createNextAnimateFrameEvent)(o.urlChanged,o.proxyChanged));return o.dispose(u.disposableOn(l)),o}return o(t,e),t._setfsp=function(e){t._fileServerPort!==e&&(t._fileServerPort=e,e>0?(c.SceneObject.context.setEnv("file-server-port",""+t._fileServerPort),c.SceneObject.context.setEnv("local-file","http://localhost:".concat(t._fileServerPort,"/f/")),c.SceneObject.context.setEnv("LF","http://localhost:".concat(t._fileServerPort,"/f/")),c.SceneObject.context.setEnv("local-proxy","http://localhost:".concat(t._fileServerPort,"/ff/")),c.SceneObject.context.setEnv("LP","http://localhost:".concat(t._fileServerPort,"/ff/"))):(c.SceneObject.context.setEnv("file-server-port",""),c.SceneObject.context.setEnv("local-file",""),c.SceneObject.context.setEnv("LF",""),c.SceneObject.context.setEnv("local-proxy",""),c.SceneObject.context.setEnv("LP","")))},Object.defineProperty(t,"fileServerPort",{get:function(){return t._fileServerPort},set:function(e){t._setfsp(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlReact",{get:function(){return this._urlReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._urlReact.value},set:function(e){this._urlReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlChanged",{get:function(){return this._urlReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proxyReact",{get:function(){return this._proxyReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proxy",{get:function(){return this._proxyReact.value},set:function(e){this._proxyReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"proxyChanged",{get:function(){return this._proxyReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalUrlReact",{get:function(){return this._finalUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalUrl",{get:function(){return this._finalUrl.value},set:function(e){this._finalUrl.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalUrlChanged",{get:function(){return this._finalUrl.changed},enumerable:!1,configurable:!0}),t._fileServerPort=-1,t.init=t.fileServerPort=0,t}(s.Destroyable);t.UrlWithFileOrProxy=l},34207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},87556:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStandardHeartBeat=void 0;var i=function(e){function t(t){var r=e.call(this)||this;r._options=t;var n=r._options,o=n.heartBeatFunc,i=n.requestReconnectFunc,a=n.heartBeatRcvMsgEvent,s=n.heartBeatInterval,c=void 0===s?3e4:s,l=n.heartBeatRcvTimeOut,u=void 0===l?6e4:l,f=n.heartBeatMsg,p=void 0===f?"heartbeat":f;if(Number.isFinite(c)){o(p);var d=setInterval((function(){o(p)}),c);r.dispose((function(){return clearInterval(d)}))}var h=Date.now();if(r.dispose(a.disposableOn((function(e){h=Date.now()}))),Number.isFinite(u)){var g=setInterval((function(){Date.now()-h>u&&i()}),u);r.dispose((function(){return clearInterval(g)}))}return r}return o(t,e),t}(r(9675).Destroyable);t.DefaultStandardHeartBeat=i},65950:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketClient=void 0;var i=r(51355),a=r(9675),s=r(81901),c=r(10879),l=r(6046),u=r(16846);function f(e){for(var t=(e=e.replace(/\s/g,"")).length/2,r=new Uint8Array(t),n=0;n<t;n++){var o=parseInt(e.substring(2*n,2*n+2),16);r[n]=o}return r}function p(e){for(var t="",r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0")+" ";return t.trim()}var d=function(e){function t(){var t,r=e.call(this)||this;return r._enabled=r.disposeVar((0,i.react)(!1)),r._url=r.disposeVar((0,i.react)("")),r._ready=r.disposeVar((0,i.react)(!1)),r.log=!0,r._wsEvent=r.disposeVar(new a.Event),r.filterHeartBeatRcvMsg=!0,r._heartBeatOptions=r.disposeVar((0,i.react)(void 0)),r._objResettingEvent=r.disposeVar((0,a.createNextAnimateFrameEvent)(r.enabledChanged,r.urlChanged,r.heartBeatOptionsChanged)),r._objResetting=r.disposeVar(new s.ObjResettingWithEvent(r._objResettingEvent,(function(){if(r.enabled&&r.url)return new l.WebSocketResetting(r,r.url)}))),r._messageEvent=(t=r.disposeVar(new a.Event),r.dispose(r.wsEvent.disposableOn((function(e){"message"===e.type&&t.emit(e.event.data)}))),t),r.maxMsgCount=1e5,r._sendingData=r.disposeVar(new u.WebSocketClientSendingData(r)),r}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url.value},set:function(e){this._url.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlChanged",{get:function(){return this._url.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready.value},set:function(e){this._ready.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyChanged",{get:function(){return this._ready.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wsEvent",{get:function(){return this._wsEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heartBeatOptions",{get:function(){return this._heartBeatOptions.value},set:function(e){this._heartBeatOptions.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heartBeatOptionsChanged",{get:function(){return this._heartBeatOptions.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResettingEvent",{get:function(){return this._objResettingEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),t.prototype.forceReconnect=function(){this.objResettingEvent.next()},Object.defineProperty(t.prototype,"readyState",{get:function(){var e,t=this._objResetting.obj;return null!==(e=null==t?void 0:t.connection.readyState)&&void 0!==e?e:WebSocket.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageEvent",{get:function(){return this._messageEvent},enumerable:!1,configurable:!0}),t.prototype.rawSend=function(e){var t=this._objResetting.obj;t?t.connection.send(e):console.warn("ws")},t.prototype.send=function(e){this.enabled||console.warn("WebSocketClient"),this.url||console.warn("WebSocketClienturl"),this._sendingData.send(e)},t.createStandardHeartBeatOptions=c.createStandardHeartBeatOptions,t.createSimpleHeartBeatOptions=c.createSimpleHeartBeatOptions,t.uint8ArrayToHex=p,t.hexToUint8Array=f,t}(a.Destroyable);t.WebSocketClient=d},74374:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketClientConnection=void 0;var i=r(9675),a=r(80602),s=function(e){function t(t,r){var n=e.call(this)||this;return n._client=t,n._url=r,n._heartBeatRcvMsgEvent=n.disposeVar(new i.Event),n._closeEvent=n.disposeVar(new i.Event),n._ws=function(){if(""===n._url)throw new Error("this._url === ''");var e=n.disposeVar(new a.WebSocketWrapper(n.url));return n.dispose(e.wsEvent.disposableOn((function(e){n.client.log&&console.log("wsMsg:",e),"open"===e.type?n.client.ready=!0:"close"===e.type&&(n.client.ready=!1);do{if("message"!==e.type)break;var t=(n.heartBeatOptions||{}).isHeatBeatRcvMsgFunc;if(!t)break;if(!t(e.event))break;if(n._heartBeatRcvMsgEvent.emit(e.event),!n.client.filterHeartBeatRcvMsg)return}while(0);n.client.wsEvent.emit(e)}))),e}(),n.client.ready&&console.error("this.client.ready"),n.dispose((function(){return n.client.ready=!1})),n.client.log&&console.log("WebSocketClientConnection.constructor: ".concat(n.url)),n.dispose((function(){n.client.log&&console.log("WebSocketClientConnection.destroy: ".concat(n.url))})),n}return o(t,e),Object.defineProperty(t.prototype,"client",{get:function(){return this._client},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heartBeatOptions",{get:function(){return this.client.heartBeatOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heartBeatRcvMsgEvent",{get:function(){return this._heartBeatRcvMsgEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeEvent",{get:function(){return this._closeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ws",{get:function(){return this._ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws.readyState},enumerable:!1,configurable:!0}),t.prototype.send=function(e){this._ws.send(e)},t.prototype.close=function(e,t){this._ws.close(e,t)},t}(i.Destroyable);t.WebSocketClientConnection=s},16846:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketClientSendingData=void 0;var a=r(9675),s=function(e){function t(t){var r=e.call(this)||this;return r._client=t,r._msgList=function(){var e=new a.DoublyLinkedList;r.dispose(r.client.readyChanged.disposableOn((function(){var t,n;if(r.client.ready&&0!==e.length)try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var s=a.value;r.client.rawSend(s.item)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}})));var t=function(){return r.clear()};return r.dispose(r.client.enabledChanged.disposableOn(t)),r.dispose(r.client.urlChanged.disposableOn(t)),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"client",{get:function(){return this._client},enumerable:!1,configurable:!0}),t.prototype.clear=function(){for(;!this._msgList.empty;)this._msgList.pop()},t.prototype.send=function(e){if(this.client.ready)this.client.rawSend(e);else{var t=this._msgList.length;void 0!==t?(t>=this.client.maxMsgCount&&this._msgList.shift(),this._msgList.push(e)):console.error("length === undefined")}},t}(a.Destroyable);t.WebSocketClientSendingData=s},10879:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSimpleHeartBeatOptions=t.createStandardHeartBeatOptions=void 0;var o=r(87556);t.createStandardHeartBeatOptions=function(e){void 0===e&&(e={});var t=e.heartBeatInterval,r=void 0===t?3e4:t,i=e.heartBeatRcvTimeOut,a=void 0===i?6e4:i,s=e.heartBeatMsg,c=void 0===s?"heartbeat":s,l=e.heartBeatRcvMsg,u=void 0===l?"heartbeat response":l;return{isHeatBeatRcvMsgFunc:function(e){return e.data===u},createHeartBeatFunc:function(e){return new o.DefaultStandardHeartBeat(n(n({},e),{heartBeatInterval:r,heartBeatRcvTimeOut:a,heartBeatMsg:c}))}}},t.createSimpleHeartBeatOptions=function(e){void 0===e&&(e={});var t=e.heartBeatRcvTimeOut,r=void 0===t?6e4:t;return{isHeatBeatRcvMsgFunc:function(e){return!0},createHeartBeatFunc:function(e){return new o.DefaultStandardHeartBeat(n(n({},e),{heartBeatInterval:Number.POSITIVE_INFINITY,heartBeatRcvTimeOut:r,heartBeatMsg:"never send heartbeat!"}))}}}},43784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6046:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketResetting=void 0;var i=r(9675),a=r(74374),s=function(e){function t(t,r){var n=e.call(this)||this;return n._client=t,n._url=r,n._connection=n.disposeVar(new a.WebSocketClientConnection(n.client,n.url)),n._heartBeat=function(){var e=n.client.heartBeatOptions;if(e){var t=e.createHeartBeatFunc,r=n.connection.heartBeatRcvMsgEvent;return n.disposeVar(t({heartBeatFunc:function(e){n.client.log&&(console.log("--Heartbeat-- msg:"),console.log(e)),n.connection.send(e)},requestReconnectFunc:function(){n.client.log&&console.log("--Heartbeat-- Requesting reconnect"),n.client.forceReconnect()},heartBeatRcvMsgEvent:r}))}}(),n}return o(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"client",{get:function(){return this._client},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connection",{get:function(){return this._connection},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.WebSocketResetting=s},80602:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketWrapper=void 0;var i=r(9675),a=function(e){function t(t){var r=e.call(this)||this;return r._url=t,r._wsEvent=r.disposeVar(new i.Event),r._ws=function(){if(""===r._url)throw new Error("this._url === ''");var e=new WebSocket(r._url);r.dispose((function(){return e.close()}));var t=function(t){r.wsEvent.emit({type:"open",ws:e,event:t})};e.addEventListener("open",t),r.dispose((function(){return e.removeEventListener("open",t)}));var n=function(t){r.wsEvent.emit({type:"close",ws:e,event:t})};e.addEventListener("close",n),r.dispose((function(){return e.removeEventListener("close",n)}));var o=function(t){r.wsEvent.emit({type:"error",ws:e,event:t})};e.addEventListener("error",o),r.dispose((function(){return e.removeEventListener("error",o)}));var i=function(t){r.wsEvent.emit({type:"message",ws:e,event:t})};return e.addEventListener("message",i),r.dispose((function(){return e.removeEventListener("message",i)})),e}(),r}return o(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wsEvent",{get:function(){return this._wsEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ws",{get:function(){return this._ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this.ws.readyState},enumerable:!1,configurable:!0}),t.prototype.send=function(e){this._ws.readyState===WebSocket.OPEN?this._ws.send(e):console.warn("this._ws.readyState !== WebSocket.OPEN")},t.prototype.close=function(e,t){this._ws.close(e,t)},t}(i.Destroyable);t.WebSocketWrapper=a},99194:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(34207),t),o(r(65950),t),o(r(74374),t),o(r(16846),t),o(r(10879),t),o(r(43784),t),o(r(70616),t),o(r(6046),t),o(r(80602),t)},69658:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.addM3tOJsonToSceneTree=t.addSceneTreeItemJsonsToSceneTree=t.updateM3tOJson=t.getM3tOJsonFromSceneTreeItems=void 0;var a=r(68158);function s(e,t){return(0,a.maybeOldM3tOJson)(e)?{asset:{__m3t_type__:"m3tojson",__m3t_createdTimeStamp__:Date.now()},sceneTreeItems:[{name:e.name,sceneObj:e}]}:e}function c(e,t){var r,a,s=t.getCurrentItem(),c=s.sceneObj?o([],n(e),!1).reverse():e,l=s.sceneObj?"After":"Inner";try{for(var u=i(c),f=u.next();!f.done;f=u.next()){var p=f.value,d=t.createSceneTreeItem(s,l);d?d.json=p:(console.warn("createSceneTreeItem error currentItem: ".concat(s.name)),console.warn(s))}}catch(e){r={error:e}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return!0}t.getM3tOJsonFromSceneTreeItems=function(e){if(0!==e.length){e[0].tree;var t=e.map((function(e){return e.json}));return{asset:{__m3t_type__:"m3tojson",__m3t_createdTimeStamp__:Date.now()},sceneTreeItems:t}}},t.updateM3tOJson=s,t.addSceneTreeItemJsonsToSceneTree=c,t.addM3tOJsonToSceneTree=function(e,t){return!!(0,a.maybeM3tOJson)(e)&&("sceneTreeItems"in(e=s(e))&&c(e.sceneTreeItems,t),!0)}},18057:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.analyzeText=t.maybeUrl=t.maybeLocalFilePath=void 0;var a=r(49119),s=r(83895),c=r(68158),l=r(39240),u=r(58594),f=r(26661),p=r(90480);t.maybeLocalFilePath=function(e){var t=e.startsWith("file:///")?e.slice(7):e;return/^([a-zA-Z]:)?[\\\/](?:[^(\\|\/)/:*?"<>|\r\n]+(\\|\/))*[^(\\|\/)/:*?"<>|\r\n]*$/.test(t)},t.maybeUrl=function(e){return e.startsWith("http://")||e.startsWith("https://")},t.analyzeText=function(e){return n(this,void 0,void 0,(function(){var t,r,n,d,h,g,y,m,v,b,w,_,P,x,O,C,S,E;return o(this,(function(o){switch(o.label){case 0:t=[],o.label=1;case 1:if(r=(0,u.parseJsonWithComments)(e))return(0,a.maybe3DTilesJson)(r)?t.push({type:"3dtiles_json",json:r}):(0,s.maybeM3tJson)(r)?t.push({type:"m3t_json",json:r}):(0,c.maybeM3tOJson)(r)&&t.push({type:"m3to_json",json:r}),[3,17];n=e.split("\n"),o.label=2;case 2:o.trys.push([2,14,15,16]),O=void 0,d=i(n),h=d.next(),o.label=3;case 3:if(h.done)return[3,13];g=h.value,y=function(e){for(var t=[],r="",n=!1,o=0;o<e.length;o++)'"'===e[o]&&(n=!n)," "!==e[o]||n?r+=e[o]:(t.push(r),r="");return t.push(r),t}(g),m=y.map((function(e){return e.replace(/"/g,"")})),o.label=4;case 4:o.trys.push([4,10,11,12]),S=void 0,v=i(m),b=v.next(),o.label=5;case 5:return b.done?[3,9]:(w=b.value,[4,(0,f.testImagery)(w)]);case 6:return(_=o.sent())?(t.push(_),[3,8]):[4,(0,p.testTerrain)(w)];case 7:if(_=o.sent())return t.push(_),[3,8];"m3t"===(0,l.getTypeFromFilePath)(w)?t.push({type:"m3t_url",url:w}):t.push({type:"m3to_url",url:w}),o.label=8;case 8:return b=v.next(),[3,5];case 9:return[3,12];case 10:return P=o.sent(),S={error:P},[3,12];case 11:try{b&&!b.done&&(E=v.return)&&E.call(v)}finally{if(S)throw S.error}return[7];case 12:return h=d.next(),[3,3];case 13:return[3,16];case 14:return x=o.sent(),O={error:x},[3,16];case 15:try{h&&!h.done&&(C=d.return)&&C.call(d)}finally{if(O)throw O.error}return[7];case 16:o.label=17;case 17:return[2,t]}}))}))}},26661:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.testImagery=void 0;var i=r(9675),a=r(81901),s=r(18057);function c(e){return n(this,void 0,void 0,(function(){var t,r,n,a,s,c,l;return o(this,(function(o){switch(o.label){case 0:t=void 0,o.label=1;case 1:return[4,(0,i.fetchJson)(e+"/meta.json")];case 2:if(!(r=o.sent()))return[3,4];if(!(n=r.latLonBounds))return[3,4];a=n.west,s=n.south,c=n.east,l=n.north,(t=[a,s,c,l]).some((function(e){return!Number.isFinite(e)}))&&(t=void 0),o.label=3;case 3:o.label=4;case 4:return[2,t]}}))}))}t.testImagery=function(e){return n(this,void 0,void 0,(function(){var t,r,n,l,u,f,p;return o(this,(function(o){switch(o.label){case 0:if((0,s.maybeLocalFilePath)(e)&&(e="${LF}"+e),!e.endsWith("/tilemapresource.xml")&&!e.endsWith("\\tilemapresource.xml"))return[3,6];o.label=1;case 1:return[4,i.ui.confirm("tilemapresource.xmltms")];case 2:return o.sent()?(r="/tilemapresource.xml",t=e.slice(0,-r.length),[4,c(a.SceneObject.context.getStrFromEnv(t))]):[3,6];case 3:return p=o.sent(),[4,i.ui.confirm("GCJ02WGS84")];case 4:return f=o.sent(),[2,{type:"m3to_json",json:{type:"CzmImagery",imageryProvider:{type:"TileMapServiceImageryProvider",url:t,tilingScheme:f?{type:"ToWGS84WebMercatorTilingScheme"}:void 0},rectangle:p,name:t}}];case 5:o.label=6;case 6:return e.includes("{x}")&&e.includes("{z}")?[4,i.ui.confirm("{x}{y}{z}xyz")]:[3,11];case 7:return o.sent()?(r="/{z}/{x}/{y}",p=void 0,(t=e).endsWith(r)?[4,c(e.slice(0,-r.length))]:[3,9]):[3,11];case 8:p=o.sent(),o.label=9;case 9:return[4,i.ui.confirm("GCJ02WGS84")];case 10:return f=o.sent(),[2,{type:"m3to_json",json:{type:"CzmImagery",name:t,imageryProvider:{type:"UrlTemplateImageryProvider",url:t,tilingScheme:f?{type:"ToWGS84WebMercatorTilingScheme"}:void 0},rectangle:p}}];case 11:n=a.SceneObject.context.getStrFromEnv(e),l=!1,o.label=12;case 12:return o.trys.push([12,14,,15]),[4,fetch(n+"/0/0/0.png")];case 13:return o.sent().ok&&(l=!0),[3,15];case 14:return o.sent(),[3,15];case 15:return l?[4,i.ui.confirm("TMSy")]:[3,20];case 16:return u=o.sent(),[4,i.ui.confirm("GCJ02WGS84")];case 17:return f=o.sent(),[4,c(n)];case 18:return p=o.sent(),[2,{type:"m3to_json",json:{type:"CzmImagery",name:e,imageryProvider:{type:"UrlTemplateImageryProvider",url:e+(u?"/{z}/{x}/{reverseY}.png":"/{z}/{x}/{y}.png"),tilingScheme:f?{type:"ToWGS84WebMercatorTilingScheme"}:void 0},rectangle:p}}];case 19:o.label=20;case 20:return[2,void 0]}}))}))}},90480:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.testTerrain=void 0;var i=r(9675),a=r(81901),s=r(18057);function c(e){return n(this,void 0,void 0,(function(){var t,r,n,a,s,c,l;return o(this,(function(o){switch(o.label){case 0:t=void 0,o.label=1;case 1:return[4,(0,i.fetchJson)(e+"/meta.json")];case 2:if(!(r=o.sent()))return[3,4];if(!(n=r.latLonBounds))return[3,4];a=n.west,s=n.south,c=n.east,l=n.north,(t=[a,s,c,l]).some((function(e){return!Number.isFinite(e)}))&&(t=void 0),o.label=3;case 3:o.label=4;case 4:return[2,t]}}))}))}t.testTerrain=function(e){return n(this,void 0,void 0,(function(){var t,r,n;return o(this,(function(o){switch(o.label){case 0:(0,s.maybeLocalFilePath)(e)&&(e="${LF}"+e),e.endsWith("layer.json")&&(e=e.slice(0,-11)),o.label=1;case 1:t=a.SceneObject.context.getStrFromEnv(e),r=!1,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,fetch(t+"/0/0/0.terrain")];case 3:return o.sent().ok&&(r=!0),[3,5];case 4:return o.sent(),[3,5];case 5:return r?[4,c(t)]:[3,8];case 6:return n=o.sent(),[2,{type:"m3to_json",json:{type:"CzmTerrain",name:e,provider:{type:"CesiumTerrainProvider",url:e},rectangle:n}}];case 7:o.label=8;case 8:return[2,void 0]}}))}))}},78110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gb2312BinToUtf8Str=void 0,t.gb2312BinToUtf8Str=function(e){return new TextDecoder("gb2312").decode(e)}},63735:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getEscapeStr=void 0,t.getEscapeStr=function(e){return r(this,void 0,void 0,(function(){var t,r,o;return n(this,(function(n){switch(n.label){case 0:return[4,e.prompt("","")];case 1:return(t=n.sent())?(r=JSON.stringify(t),o=r.slice(1,r.length-1),[4,navigator.clipboard.writeText(o)]):[2];case 2:return n.sent(),alert("!"),[2]}}))}))}},66096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncFromStr=void 0;var n=r(80468);Object.defineProperty(t,"getFuncFromStr",{enumerable:!0,get:function(){return n.getFuncFromStr}})},11007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlFromUrlOrFilePath=void 0;var n=r(59645);t.getUrlFromUrlOrFilePath=function(e){var t=n.SceneObject.context.getStrFromEnv(e);return t.startsWith("http://")||t.startsWith("https://")?e:"${LF}"+(e.startsWith("file:///")?e.slice(8):e)}},85309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVueAssetsDir=void 0;var n=r(59645);t.getVueAssetsDir=function(){return n.SceneObject.context.getEnv("vue-xe2-plugin-assets-dir")}},6997:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(45727),t),o(r(63735),t),o(r(66096),t),o(r(85309),t),o(r(43632),t),o(r(99194),t)},40720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonObject=void 0,t.isJsonObject=function(e){return e&&"object"==typeof e&&!Array.isArray(e)}},51630:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.isSceneObjectType=void 0;var o=r(59645);t.isSceneObjectType=function(e){var t,r;try{for(var i=n(o.SceneObject.context.typeNames),a=i.next();!a.done;a=i.next())if(a.value===e)return!0}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1}},49119:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.maybe3DTilesLocalFilePath=t.maybe3DTilesUrl=t.maybe3DTilesJson=void 0;var i=r(51355),a=r(59645);function s(e){if(!e)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e))return!1;var t=e.asset;if("object"!=typeof t||Array.isArray(t)||!t)return!1;var r=e.root,n=e.geometricError;if(!r)return!1;if("object"!=typeof r||Array.isArray(r)||!r)return!1;if("number"!=typeof n)return!1;if(n<0)return!1;var o=r.boundingVolume,i=r.geometricError;return!(!o||"number"!=typeof i||i<0)}t.maybe3DTilesJson=s,t.maybe3DTilesUrl=function(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t=a.SceneObject.context.getStrFromEnv(e),[4,fetch(t)];case 1:return(r=n.sent()).ok?[4,r.json()]:[2,!1];case 2:return[2,s(n.sent())];case 3:return n.sent(),console.error("filepath(".concat(e,")3dtiles")),[2,!1];case 4:return[2]}}))}))},t.maybe3DTilesLocalFilePath=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),i.os.wrap?[4,i.os.wrap.fs.readTextFile(e)]:[2,!1];case 1:return t=r.sent(),[2,s(JSON.parse(t))];case 2:return r.sent(),console.error("filepath(".concat(e,")3dtiles")),[2,!1];case 3:return[2]}}))}))}},83895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeM3tJson=void 0;var n=r(40720);t.maybeM3tJson=function(e){if(!(0,n.isJsonObject)(e))return!1;if(!("asset"in e))return!1;var t=e.asset;if(!(0,n.isJsonObject)(t))return!1;var r=t.type;return"string"==typeof r&&("My3dtiles"===r||void 0)}},68158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeOldM3tOJson=t.maybeM3tOJson=void 0;var n=r(51630);function o(e){var t=e.type;return"string"==typeof e.name&&"string"==typeof t&&(0,n.isSceneObjectType)(t)}t.maybeM3tOJson=function(e){if(o(e))return!0;var t=e.asset;if(!t)return!1;var r=t.__m3t_type__;return t.__m3t_createdTimeStamp__,!!r&&"m3tojson"===r},t.maybeOldM3tOJson=o},58594:function(e,t){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function n(e){return"object"==typeof e&&null!==e&&e.constructor===Object}function o(e){for(var t,o,i=[e];i.length>0;){var a=i.pop();if(null!==a){if(void 0===a)return!1;if("string"!=typeof a&&"number"!=typeof a&&"boolean"!=typeof a){if("function"==typeof a)return!1;if("symbol"==typeof a)return!1;if(Array.isArray(a))try{for(var s=(t=void 0,r(a)),c=s.next();!c.done;c=s.next()){var l=c.value;i.push(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}else if(n(a))for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&i.push(a[u])}}}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.parseJsonWithComments=t.isJson=t.isPlainObject=void 0,t.isPlainObject=n,t.isJson=o,t.parseJsonWithComments=function(e){try{var t='"use strict";\nreturn (\n'.concat(e,"\n)\n"),r=Function(t)();if(!o(r))return;return r}catch(t){return void console.warn("parseJsonWithComments error: json ".concat(e))}}},43632:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.xe2ColorToCssColor=void 0,t.xe2ColorToCssColor=function(e){var t=r(e.map((function(e){return 255*e|0})),4),n=t[0],o=t[1],i=t[2];return t[3],"rgba(".concat(n,", ").concat(o,", ").concat(i,", ").concat(e[3],")")}},67904:(e,t)=>{"use strict";function r(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var o=e.children.item(n);if(null!==o){var i=o.nodeName;if(void 0===t[i])t[i]=r(o);else{if(void 0===t[i].push){var a=t[i];t[i]=[],t[i].push(a)}t[i].push(r(o))}}}else t=e.textContent;return t}catch(e){console.error("".concat(e))}}Object.defineProperty(t,"__esModule",{value:!0}),t.xmlStr2JsonObj=void 0,t.xmlStr2JsonObj=function(e){var t,n=(t=e,(new DOMParser).parseFromString(t,"text/xml")),o={};return n.childNodes.length>0&&(o=r(n)),o}},81557:e=>{"use strict";e.exports=Cesium},80468:e=>{"use strict";e.exports=XE2["xe2-base-objects"]},51355:e=>{"use strict";e.exports=XE2["xe2-base-utils"]},48269:e=>{"use strict";e.exports=XE2["xe2-cesium-objects"]},59645:e=>{"use strict";e.exports=XE2["xe2-utils"]},85505:e=>{"use strict";e.exports=XE2.xe2},9675:e=>{"use strict";e.exports=vtxf["xr-base-utils"]},81901:e=>{"use strict";e.exports=vtxf["xr-utils"]},42634:()=>{},65728:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(28612),i=r(48423),a=r(27323);function s(e,t,r,n={}){if(!i.isObject.call(void 0,n))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!r)throw new Error("endPoint is required");const s=e,c=t,l=r,u=i.bearingToAzimuth.call(void 0,!0!==n.mercator?o.bearing.call(void 0,s,c):a.rhumbBearing.call(void 0,s,c)),f=i.bearingToAzimuth.call(void 0,!0!==n.mercator?o.bearing.call(void 0,l,c):a.rhumbBearing.call(void 0,l,c)),p=Math.abs(u-f);return!0===n.explementary?360-p:p}n(s,"name",{value:"angle",configurable:!0});var c=s;t.angle=s,t.default=c},28612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(48423),a=r(87806);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},48423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},87806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(48423);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},27323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(48423),a=r(87806);function s(e,t,r={}){let n;return n=r.final?c(a.getCoord.call(void 0,t),a.getCoord.call(void 0,e)):c(a.getCoord.call(void 0,e),a.getCoord.call(void 0,t)),n>180?-(360-n):n}function c(e,t){const r=i.degreesToRadians.call(void 0,e[1]),n=i.degreesToRadians.call(void 0,t[1]);let o=i.degreesToRadians.call(void 0,t[0]-e[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);const a=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(o,a);return(i.radiansToDegrees.call(void 0,s)+360)%360}o(s,"rhumbBearing"),o(c,"calculateRhumbBearing");var l=s;t.default=l,t.rhumbBearing=s},13799:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(1002),a=r(17143);function s(e,t,r){var n,o,i,a=e.length,s=u(e[0],t),c=[];let f,p;for(r||(r=[]),n=1;n<a;n++){for(f=e[n-1],p=e[n],o=i=u(p,t);;){if(!(s|o)){c.push(f),o!==i?(c.push(p),n<a-1&&(r.push(c),c=[])):n===a-1&&c.push(p);break}if(s&o)break;s?(f=l(f,p,s,t),s=u(f,t)):(p=l(f,p,o,t),o=u(p,t))}s=i}return c.length&&r.push(c),r}function c(e,t){var r,n,o,i,a,s,c;for(n=1;n<=8;n*=2){for(r=[],i=!(u(o=e[e.length-1],t)&n),a=0;a<e.length;a++)(c=!(u(s=e[a],t)&n))!==i&&r.push(l(o,s,n,t)),c&&r.push(s),o=s,i=c;if(!(e=r).length)break}return r}function l(e,t,r,n){return 8&r?[e[0]+(t[0]-e[0])*(n[3]-e[1])/(t[1]-e[1]),n[3]]:4&r?[e[0]+(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1]),n[1]]:2&r?[n[2],e[1]+(t[1]-e[1])*(n[2]-e[0])/(t[0]-e[0])]:1&r?[n[0],e[1]+(t[1]-e[1])*(n[0]-e[0])/(t[0]-e[0])]:null}function u(e,t){var r=0;return e[0]<t[0]?r|=1:e[0]>t[2]&&(r|=2),e[1]<t[1]?r|=4:e[1]>t[3]&&(r|=8),r}function f(e,t){const r=a.getGeom.call(void 0,e),n=r.type,o="Feature"===e.type?e.properties:{};let c=r.coordinates;switch(n){case"LineString":case"MultiLineString":{const e=[];return"LineString"===n&&(c=[c]),c.forEach((r=>{s(r,t,e)})),1===e.length?i.lineString.call(void 0,e[0],o):i.multiLineString.call(void 0,e,o)}case"Polygon":return i.polygon.call(void 0,p(c,t),o);case"MultiPolygon":return i.multiPolygon.call(void 0,c.map((e=>p(e,t))),o);default:throw new Error("geometry "+n+" not supported")}}function p(e,t){const r=[];for(const n of e){const e=c(n,t);e.length>0&&(e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push(e[0]),e.length>=4&&r.push(e))}return r}o(s,"lineclip"),o(c,"polygonclip"),o(l,"intersect"),o(u,"bitCode"),o(f,"bboxClip"),o(p,"clipPolygon");var d=f;t.bboxClip=f,t.default=d},1002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},17143:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(1002);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},6039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(17690);function i(e,t={}){const r=Number(e[0]),n=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const s=[r,n],c=[r,a],l=[i,a],u=[i,n];return o.polygon.call(void 0,[[s,u,l,c,s]],t.properties,{bbox:e,id:t.id})}n(i,"name",{value:"bboxPolygon",configurable:!0});var a=i;t.bboxPolygon=i,t.default=a},17690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},25368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(3861);function i(e,t={}){if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return o.coordEach.call(void 0,e,(e=>{r[0]>e[0]&&(r[0]=e[0]),r[1]>e[1]&&(r[1]=e[1]),r[2]<e[0]&&(r[2]=e[0]),r[3]<e[1]&&(r[3]=e[1])})),r}n(i,"name",{value:"bbox",configurable:!0});var a=i;t.bbox=i,t.default=a},79391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},3861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(79391);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},73004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(92650);function i(e){const t=o.getCoords.call(void 0,e);let r,n,i=0,a=1;for(;a<t.length;)r=n||t[0],n=t[a],i+=(n[0]-r[0])*(n[1]+r[1]),a++;return i>0}n(i,"name",{value:"booleanClockwise",configurable:!0});var a=i;t.booleanClockwise=i,t.default=a},39067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},92650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(39067);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},38419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(45747);function i(e){const t=o.getGeom.call(void 0,e).coordinates;if(t[0].length<=4)return!1;let r=!1;const n=t[0].length-1;for(let e=0;e<n;e++){const o=t[0][(e+2)%n][0]-t[0][(e+1)%n][0],i=t[0][(e+2)%n][1]-t[0][(e+1)%n][1],a=t[0][e][0]-t[0][(e+1)%n][0],s=o*(t[0][e][1]-t[0][(e+1)%n][1])-i*a;if(0===e)r=s>0;else if(r!==s>0)return!0}return!1}n(i,"name",{value:"booleanConcave",configurable:!0});var a=i;t.booleanConcave=i,t.default=a},96670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},45747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(96670);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},15989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25368),a=r(68081),s=r(54799),c=r(50313);function l(e,t){const r=c.getGeom.call(void 0,e),n=c.getGeom.call(void 0,t),o=r.type,i=n.type,l=r.coordinates,v=n.coordinates;switch(o){case"Point":if("Point"===i)return b(l,v);throw new Error("feature2 "+i+" geometry not supported");case"MultiPoint":switch(i){case"Point":return f(r,n);case"MultiPoint":return p(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return s.booleanPointOnLine.call(void 0,n,r,{ignoreEndVertices:!0});case"LineString":return g(r,n);case"MultiPoint":return d(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return a.booleanPointInPolygon.call(void 0,n,r,{ignoreBoundary:!0});case"LineString":return y(r,n);case"Polygon":return m(r,n);case"MultiPoint":return h(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPolygon":if("Polygon"===i)return u(r,n);throw new Error("feature2 "+i+" geometry not supported");default:throw new Error("feature1 "+o+" geometry not supported")}}function u(e,t){return e.coordinates.some((e=>m({type:"Polygon",coordinates:e},t)))}function f(e,t){let r,n=!1;for(r=0;r<e.coordinates.length;r++)if(b(e.coordinates[r],t.coordinates)){n=!0;break}return n}function p(e,t){for(const r of t.coordinates){let t=!1;for(const n of e.coordinates)if(b(r,n)){t=!0;break}if(!t)return!1}return!0}function d(e,t){let r=!1;for(const n of t.coordinates)if(s.booleanPointOnLine.call(void 0,n,e,{ignoreEndVertices:!0})&&(r=!0),!s.booleanPointOnLine.call(void 0,n,e))return!1;return!!r}function h(e,t){for(const r of t.coordinates)if(!a.booleanPointInPolygon.call(void 0,r,e,{ignoreBoundary:!0}))return!1;return!0}function g(e,t){let r=!1;for(const n of t.coordinates)if(s.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n},e,{ignoreEndVertices:!0})&&(r=!0),!s.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n},e,{ignoreEndVertices:!1}))return!1;return r}function y(e,t){let r=!1,n=0;if(!v(i.bbox.call(void 0,e),i.bbox.call(void 0,t)))return!1;for(;n<t.coordinates.length-1;n++){const o=w(t.coordinates[n],t.coordinates[n+1]);if(a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:o},e,{ignoreBoundary:!0})){r=!0;break}}return r}function m(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!v(i.bbox.call(void 0,e),i.bbox.call(void 0,t)))return!1;const r=c.getGeom.call(void 0,t).coordinates;for(const t of r)for(const r of t)if(!a.booleanPointInPolygon.call(void 0,r,e))return!1;return!0}function v(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function b(e,t){return e[0]===t[0]&&e[1]===t[1]}function w(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}o(l,"booleanContains"),o(u,"isPolygonInMultiPolygon"),o(f,"isPointInMultiPoint"),o(p,"isMultiPointInMultiPoint"),o(d,"isMultiPointOnLine"),o(h,"isMultiPointInPoly"),o(g,"isLineOnLine"),o(y,"isLineInPoly"),o(m,"isPolyInPoly"),o(v,"doBBoxOverlap"),o(b,"compareCoords"),o(w,"getMidpoint");var _=l;t.booleanContains=l,t.compareCoords=b,t.default=_,t.doBBoxOverlap=v,t.getMidpoint=w,t.isLineInPoly=y,t.isLineOnLine=g,t.isMultiPointInMultiPoint=p,t.isMultiPointInPoly=h,t.isMultiPointOnLine=d,t.isPointInMultiPoint=f,t.isPolyInPoly=m,t.isPolygonInMultiPolygon=u},56780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},50313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(56780);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},66738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(6740),a=r(11698),s=r(68081),c=r(2556),l=r(57061);function u(e,t){var r=c.getGeom.call(void 0,e),n=c.getGeom.call(void 0,t),o=r.type,i=n.type;switch(o){case"MultiPoint":switch(i){case"LineString":return f(r,n);case"Polygon":return h(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return f(n,r);case"LineString":return p(r,n);case"Polygon":return d(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return h(n,r);case"LineString":return d(n,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}function f(e,t){for(var r=!1,n=!1,o=e.coordinates.length,i=0;i<o&&!r&&!n;){for(var a=0;a<t.coordinates.length-1;a++){var s=!0;0!==a&&a!==t.coordinates.length-2||(s=!1),g(t.coordinates[a],t.coordinates[a+1],e.coordinates[i],s)?r=!0:n=!0}i++}return r&&n}function p(e,t){if(i.lineIntersect.call(void 0,e,t).features.length>0)for(var r=0;r<e.coordinates.length-1;r++)for(var n=0;n<t.coordinates.length-1;n++){var o=!0;if(0!==n&&n!==t.coordinates.length-2||(o=!1),g(e.coordinates[r],e.coordinates[r+1],t.coordinates[n],o))return!0}return!1}function d(e,t){const r=a.polygonToLine.call(void 0,t);return i.lineIntersect.call(void 0,e,r).features.length>0}function h(e,t){var r=!1,n=!1,o=e.coordinates.length;for(let i=0;i<o&&(!r||!n);i++)s.booleanPointInPolygon.call(void 0,l.point.call(void 0,e.coordinates[i]),t)?r=!0:n=!0;return n&&r}function g(e,t,r,n){var o=r[0]-e[0],i=r[1]-e[1],a=t[0]-e[0],s=t[1]-e[1];return 0==o*s-i*a&&(n?Math.abs(a)>=Math.abs(s)?a>0?e[0]<=r[0]&&r[0]<=t[0]:t[0]<=r[0]&&r[0]<=e[0]:s>0?e[1]<=r[1]&&r[1]<=t[1]:t[1]<=r[1]&&r[1]<=e[1]:Math.abs(a)>=Math.abs(s)?a>0?e[0]<r[0]&&r[0]<t[0]:t[0]<r[0]&&r[0]<e[0]:s>0?e[1]<r[1]&&r[1]<t[1]:t[1]<r[1]&&r[1]<e[1])}o(u,"booleanCrosses"),o(f,"doMultiPointAndLineStringCross"),o(p,"doLineStringsCross"),o(d,"doLineStringAndPolygonCross"),o(h,"doesMultiPointCrossPoly"),o(g,"isPointOnLineSegment");var y=u;t.booleanCrosses=u,t.default=y},57061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},2556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(57061);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},6740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(57061),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},78320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(68081),a=r(32102),s=r(51853),c=r(11698);function l(e,t){let r=!0;return s.flattenEach.call(void 0,e,(e=>{s.flattenEach.call(void 0,t,(t=>{if(!1===r)return!1;r=u(e.geometry,t.geometry)}))})),r}function u(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!y(e.coordinates,t.coordinates);case"LineString":return!f(t,e);case"Polygon":return!i.booleanPointInPolygon.call(void 0,e,t)}break;case"LineString":switch(t.type){case"Point":return!f(e,t);case"LineString":return!p(e,t);case"Polygon":return!d(t,e)}break;case"Polygon":switch(t.type){case"Point":return!i.booleanPointInPolygon.call(void 0,t,e);case"LineString":return!d(e,t);case"Polygon":return!h(t,e)}}return!1}function f(e,t){for(let r=0;r<e.coordinates.length-1;r++)if(g(e.coordinates[r],e.coordinates[r+1],t.coordinates))return!0;return!1}function p(e,t){return a.lineIntersect.call(void 0,e,t).features.length>0}function d(e,t){for(const r of t.coordinates)if(i.booleanPointInPolygon.call(void 0,r,e))return!0;return a.lineIntersect.call(void 0,t,c.polygonToLine.call(void 0,e)).features.length>0}function h(e,t){for(const r of e.coordinates[0])if(i.booleanPointInPolygon.call(void 0,r,t))return!0;for(const r of t.coordinates[0])if(i.booleanPointInPolygon.call(void 0,r,e))return!0;return a.lineIntersect.call(void 0,c.polygonToLine.call(void 0,e),c.polygonToLine.call(void 0,t)).features.length>0}function g(e,t,r){const n=r[0]-e[0],o=r[1]-e[1],i=t[0]-e[0],a=t[1]-e[1];return 0==n*a-o*i&&(Math.abs(i)>=Math.abs(a)?i>0?e[0]<=r[0]&&r[0]<=t[0]:t[0]<=r[0]&&r[0]<=e[0]:a>0?e[1]<=r[1]&&r[1]<=t[1]:t[1]<=r[1]&&r[1]<=e[1])}function y(e,t){return e[0]===t[0]&&e[1]===t[1]}o(l,"booleanDisjoint"),o(u,"disjoint"),o(f,"isPointOnLine"),o(p,"isLineOnLine"),o(d,"isLineInPoly"),o(h,"isPolyInPoly"),o(g,"isPointOnLineSegment"),o(y,"compareCoords");var m=l;t.booleanDisjoint=l,t.default=m},86807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},32102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(86807),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},51853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(86807);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},69702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(11777),i=r(86493),a=r(96656);function s(e,t,r={}){let n=r.precision;if(n=null==n||isNaN(n)?6:n,"number"!=typeof n||!(n>=0))throw new Error("precision must be a positive number");return a.getGeom.call(void 0,e).type===a.getGeom.call(void 0,t).type&&new(0,o.GeojsonEquality)({precision:n}).compare(i.cleanCoords.call(void 0,e),i.cleanCoords.call(void 0,t))}n(s,"name",{value:"booleanEqual",configurable:!0});var c=s;t.booleanEqual=s,t.default=c},11777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},96656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(11777);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},89358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(78320),i=r(40051);function a(e,t){let r=!1;return i.flattenEach.call(void 0,e,(e=>{i.flattenEach.call(void 0,t,(t=>{if(!0===r)return!0;r=!o.booleanDisjoint.call(void 0,e.geometry,t.geometry)}))})),r}n(a,"name",{value:"booleanIntersects",configurable:!0});var s=a;t.booleanIntersects=a,t.default=s},25385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},40051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25385);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},9421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(54696),i=r(321),a=r(92655),s=r(42751),c=r(33924);function l(e,t){const r=i.getGeom.call(void 0,e),n=i.getGeom.call(void 0,t),l=r.type,u=n.type;if("MultiPoint"===l&&"MultiPoint"!==u||("LineString"===l||"MultiLineString"===l)&&"LineString"!==u&&"MultiLineString"!==u||("Polygon"===l||"MultiPolygon"===l)&&"Polygon"!==u&&"MultiPolygon"!==u)throw new Error("features must be of the same type");if("Point"===l)throw new Error("Point geometry not supported");if(new(0,c.GeojsonEquality)({precision:6}).compare(e,t))return!1;let f=0;switch(l){case"MultiPoint":for(var p=0;p<r.coordinates.length;p++)for(var d=0;d<n.coordinates.length;d++){var h=r.coordinates[p],g=n.coordinates[d];if(h[0]===g[0]&&h[1]===g[1])return!0}return!1;case"LineString":case"MultiLineString":o.segmentEach.call(void 0,e,(e=>{o.segmentEach.call(void 0,t,(t=>{a.lineOverlap.call(void 0,e,t).features.length&&f++}))}));break;case"Polygon":case"MultiPolygon":o.segmentEach.call(void 0,e,(e=>{o.segmentEach.call(void 0,t,(t=>{s.lineIntersect.call(void 0,e,t).features.length&&f++}))}))}return f>0}n(l,"name",{value:"booleanOverlap",configurable:!0});var u=l;t.booleanOverlap=l,t.default=u},33924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(33924);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},42751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(33924),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},54696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(33924);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},85839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(86493),a=r(29745),s=r(33930),c=r(47826);function l(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==f(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==f(t,"line2"))throw new Error("line2 must be a LineString");for(var r=a.lineSegment.call(void 0,i.cleanCoords.call(void 0,e)).features,n=a.lineSegment.call(void 0,i.cleanCoords.call(void 0,t)).features,o=0;o<r.length;o++){var s=r[o].geometry.coordinates;if(!n[o])break;if(!u(s,n[o].geometry.coordinates))return!1}return!0}function u(e,t){var r=c.bearingToAzimuth.call(void 0,s.rhumbBearing.call(void 0,e[0],e[1])),n=c.bearingToAzimuth.call(void 0,s.rhumbBearing.call(void 0,t[0],t[1]));return r===n||(n-r)%180==0}function f(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}o(l,"booleanParallel"),o(u,"isParallel"),o(f,"getType");var p=l;t.booleanParallel=l,t.default=p},47826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},89279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47826);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},29745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47826),a=r(89279),s=r(962);function c(e){if(!e)throw new Error("geojson is required");const t=[];return s.flattenEach.call(void 0,e,(e=>{l(e,t)})),i.featureCollection.call(void 0,t)}function l(e,t){let r=[];const n=e.geometry;if(null!==n){switch(n.type){case"Polygon":r=a.getCoords.call(void 0,n);break;case"LineString":r=[a.getCoords.call(void 0,n)]}r.forEach((r=>{u(r,e.properties).forEach((e=>{e.id=t.length,t.push(e)}))}))}}function u(e,t){const r=[];return e.reduce(((e,n)=>{const o=i.lineString.call(void 0,[e,n],t);return o.bbox=f(e,n),r.push(o),n})),r}function f(e,t){const r=e[0],n=e[1],o=t[0],i=t[1];return[r<o?r:o,n<i?n:i,r>o?r:o,n>i?n:i]}o(c,"lineSegment"),o(l,"lineSegmentFeature"),o(u,"createSegments"),o(f,"bbox");var p=c;t.default=p,t.lineSegment=c},962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47826);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},33930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47826),a=r(89279);function s(e,t,r={}){let n;return n=r.final?c(a.getCoord.call(void 0,t),a.getCoord.call(void 0,e)):c(a.getCoord.call(void 0,e),a.getCoord.call(void 0,t)),n>180?-(360-n):n}function c(e,t){const r=i.degreesToRadians.call(void 0,e[1]),n=i.degreesToRadians.call(void 0,t[1]);let o=i.degreesToRadians.call(void 0,t[0]-e[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);const a=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(o,a);return(i.radiansToDegrees.call(void 0,s)+360)%360}o(s,"rhumbBearing"),o(c,"calculateRhumbBearing");var l=s;t.default=l,t.rhumbBearing=s},68081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(68867))&&n.__esModule?n:{default:n},s=r(36085);function c(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const n=s.getCoord.call(void 0,e),o=s.getGeom.call(void 0,t),i=o.type,c=t.bbox;let u=o.coordinates;if(c&&!1===l(n,c))return!1;"Polygon"===i&&(u=[u]);let f=!1;for(var p=0;p<u.length;++p){const e=a.default.call(void 0,n,u[p]);if(0===e)return!r.ignoreBoundary;e&&(f=!0)}return f}function l(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}i(c,"booleanPointInPolygon"),i(l,"inBBox");var u=c;t.booleanPointInPolygon=c,t.default=u},30032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},36085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(30032);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},54799:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(21791);function a(e,t,r={}){const n=i.getCoord.call(void 0,e),o=i.getCoords.call(void 0,t);for(let e=0;e<o.length-1;e++){let t=!1;if(r.ignoreEndVertices&&(0===e&&(t="start"),e===o.length-2&&(t="end"),0===e&&e+1===o.length-1&&(t="both")),s(o[e],o[e+1],n,t,void 0===r.epsilon?null:r.epsilon))return!0}return!1}function s(e,t,r,n,o){const i=r[0],a=r[1],s=e[0],c=e[1],l=t[0],u=t[1],f=l-s,p=u-c,d=(r[0]-s)*p-(r[1]-c)*f;if(null!==o){if(Math.abs(d)>o)return!1}else if(0!==d)return!1;return n?"start"===n?Math.abs(f)>=Math.abs(p)?f>0?s<i&&i<=l:l<=i&&i<s:p>0?c<a&&a<=u:u<=a&&a<c:"end"===n?Math.abs(f)>=Math.abs(p)?f>0?s<=i&&i<l:l<i&&i<=s:p>0?c<=a&&a<u:u<a&&a<=c:"both"===n&&(Math.abs(f)>=Math.abs(p)?f>0?s<i&&i<l:l<i&&i<s:p>0?c<a&&a<u:u<a&&a<c):Math.abs(f)>=Math.abs(p)?f>0?s<=i&&i<=l:l<=i&&i<=s:p>0?c<=a&&a<=u:u<=a&&a<=c}o(a,"booleanPointOnLine"),o(s,"isPointOnLineSegment");var c=a;t.booleanPointOnLine=a,t.default=c},51474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},21791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(51474);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},81897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(54799),a=r(68081),s=r(7245);function c(e,t){var r=s.getGeom.call(void 0,e),n=s.getGeom.call(void 0,t),o=r.type,c=n.type;switch(o){case"Point":switch(c){case"LineString":return l(r,n);case"MultiLineString":for(var u=!1,f=0;f<n.coordinates.length;f++)l(r,{type:"LineString",coordinates:n.coordinates[f]})&&(u=!0);return u;case"Polygon":for(var p=0;p<n.coordinates.length;p++)if(i.booleanPointOnLine.call(void 0,r,{type:"LineString",coordinates:n.coordinates[p]}))return!0;return!1;case"MultiPolygon":for(p=0;p<n.coordinates.length;p++)for(f=0;f<n.coordinates[p].length;f++)if(i.booleanPointOnLine.call(void 0,r,{type:"LineString",coordinates:n.coordinates[p][f]}))return!0;return!1;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPoint":switch(c){case"LineString":for(u=!1,p=0;p<r.coordinates.length;p++)if(u||l({type:"Point",coordinates:r.coordinates[p]},n)&&(u=!0),i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},n,{ignoreEndVertices:!0}))return!1;return u;case"MultiLineString":for(u=!1,p=0;p<r.coordinates.length;p++)for(f=0;f<n.coordinates.length;f++)if(u||l({type:"Point",coordinates:r.coordinates[p]},{type:"LineString",coordinates:n.coordinates[f]})&&(u=!0),i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},{type:"LineString",coordinates:n.coordinates[f]},{ignoreEndVertices:!0}))return!1;return u;case"Polygon":for(u=!1,p=0;p<r.coordinates.length;p++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},{type:"LineString",coordinates:n.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[p]},n,{ignoreBoundary:!0}))return!1;return u;case"MultiPolygon":for(u=!1,p=0;p<r.coordinates.length;p++)for(f=0;f<n.coordinates.length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},{type:"LineString",coordinates:n.coordinates[f][0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[p]},{type:"Polygon",coordinates:n.coordinates[f]},{ignoreBoundary:!0}))return!1;return u;default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"Point":return l(n,r);case"MultiPoint":for(u=!1,p=0;p<n.coordinates.length;p++)if(u||l({type:"Point",coordinates:n.coordinates[p]},r)&&(u=!0),i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[p]},r,{ignoreEndVertices:!0}))return!1;return u;case"LineString":var d=!1;if(l({type:"Point",coordinates:r.coordinates[0]},n)&&(d=!0),l({type:"Point",coordinates:r.coordinates[r.coordinates.length-1]},n)&&(d=!0),!1===d)return!1;for(p=0;p<r.coordinates.length;p++)if(i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},n,{ignoreEndVertices:!0}))return!1;return d;case"MultiLineString":for(d=!1,p=0;p<n.coordinates.length;p++)for(l({type:"Point",coordinates:r.coordinates[0]},{type:"LineString",coordinates:n.coordinates[p]})&&(d=!0),l({type:"Point",coordinates:r.coordinates[r.coordinates.length-1]},{type:"LineString",coordinates:n.coordinates[p]})&&(d=!0),f=0;f<r.coordinates[p].length;f++)if(i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[f]},{type:"LineString",coordinates:n.coordinates[p]},{ignoreEndVertices:!0}))return!1;return d;case"Polygon":for(u=!1,p=0;p<r.coordinates.length;p++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},{type:"LineString",coordinates:n.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[p]},n,{ignoreBoundary:!0}))return!1;return u;case"MultiPolygon":for(u=!1,p=0;p<r.coordinates.length;p++){for(f=0;f<n.coordinates.length;f++)u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p]},{type:"LineString",coordinates:n.coordinates[f][0]})&&(u=!0);if(a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[p]},n,{ignoreBoundary:!0}))return!1}return u;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiLineString":switch(c){case"Point":for(p=0;p<r.coordinates.length;p++)if(l(n,{type:"LineString",coordinates:r.coordinates[p]}))return!0;return!1;case"MultiPoint":for(u=!1,p=0;p<r.coordinates.length;p++)for(f=0;f<n.coordinates.length;f++)if(u||l({type:"Point",coordinates:n.coordinates[f]},{type:"LineString",coordinates:r.coordinates[f]})&&(u=!0),i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[f]},{type:"LineString",coordinates:r.coordinates[f]},{ignoreEndVertices:!0}))return!1;return u;case"LineString":for(d=!1,p=0;p<r.coordinates.length;p++)for(l({type:"Point",coordinates:r.coordinates[p][0]},n)&&(d=!0),l({type:"Point",coordinates:r.coordinates[p][r.coordinates[p].length-1]},n)&&(d=!0),f=0;f<n.coordinates.length;f++)if(i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[f]},{type:"LineString",coordinates:r.coordinates[p]},{ignoreEndVertices:!0}))return!1;return d;case"MultiLineString":for(d=!1,p=0;p<r.coordinates.length;p++)for(f=0;f<n.coordinates.length;f++){l({type:"Point",coordinates:r.coordinates[p][0]},{type:"LineString",coordinates:n.coordinates[f]})&&(d=!0),l({type:"Point",coordinates:r.coordinates[p][r.coordinates[p].length-1]},{type:"LineString",coordinates:n.coordinates[f]})&&(d=!0);for(var h=0;h<r.coordinates[p].length;h++)if(i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p][h]},{type:"LineString",coordinates:n.coordinates[f]},{ignoreEndVertices:!0}))return!1}return d;case"Polygon":for(u=!1,p=0;p<r.coordinates.length;p++)for(f=0;f<r.coordinates.length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[p][f]},{type:"LineString",coordinates:n.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[p][f]},n,{ignoreBoundary:!0}))return!1;return u;case"MultiPolygon":for(u=!1,p=0;p<n.coordinates[0].length;p++)for(f=0;f<r.coordinates.length;f++)for(h=0;h<r.coordinates[f].length;h++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[f][h]},{type:"LineString",coordinates:n.coordinates[0][p]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[f][h]},{type:"Polygon",coordinates:[n.coordinates[0][p]]},{ignoreBoundary:!0}))return!1;return u;default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Point":for(p=0;p<r.coordinates.length;p++)if(i.booleanPointOnLine.call(void 0,n,{type:"LineString",coordinates:r.coordinates[p]}))return!0;return!1;case"MultiPoint":for(u=!1,p=0;p<n.coordinates.length;p++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[p]},{type:"LineString",coordinates:r.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:n.coordinates[p]},r,{ignoreBoundary:!0}))return!1;return u;case"LineString":for(u=!1,p=0;p<n.coordinates.length;p++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[p]},{type:"LineString",coordinates:r.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:n.coordinates[p]},r,{ignoreBoundary:!0}))return!1;return u;case"MultiLineString":for(u=!1,p=0;p<n.coordinates.length;p++)for(f=0;f<n.coordinates[p].length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[p][f]},{type:"LineString",coordinates:r.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:n.coordinates[p][f]},r,{ignoreBoundary:!0}))return!1;return u;case"Polygon":for(u=!1,p=0;p<r.coordinates[0].length;p++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[0][p]},{type:"LineString",coordinates:n.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[0][p]},n,{ignoreBoundary:!0}))return!1;return u;case"MultiPolygon":for(u=!1,p=0;p<n.coordinates[0].length;p++)for(f=0;f<r.coordinates[0].length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[0][f]},{type:"LineString",coordinates:n.coordinates[0][p]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[0][f]},{type:"Polygon",coordinates:n.coordinates[0][p]},{ignoreBoundary:!0}))return!1;return u;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPolygon":switch(c){case"Point":for(p=0;p<r.coordinates[0].length;p++)if(i.booleanPointOnLine.call(void 0,n,{type:"LineString",coordinates:r.coordinates[0][p]}))return!0;return!1;case"MultiPoint":for(u=!1,p=0;p<r.coordinates[0].length;p++)for(f=0;f<n.coordinates.length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[f]},{type:"LineString",coordinates:r.coordinates[0][p]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:n.coordinates[f]},{type:"Polygon",coordinates:r.coordinates[0][p]},{ignoreBoundary:!0}))return!1;return u;case"LineString":for(u=!1,p=0;p<r.coordinates[0].length;p++)for(f=0;f<n.coordinates.length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[f]},{type:"LineString",coordinates:r.coordinates[0][p]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:n.coordinates[f]},{type:"Polygon",coordinates:r.coordinates[0][p]},{ignoreBoundary:!0}))return!1;return u;case"MultiLineString":for(u=!1,p=0;p<r.coordinates.length;p++)for(f=0;f<n.coordinates.length;f++)for(h=0;h<n.coordinates[f].length;h++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:n.coordinates[f][h]},{type:"LineString",coordinates:r.coordinates[p][0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:n.coordinates[f][h]},{type:"Polygon",coordinates:[r.coordinates[p][0]]},{ignoreBoundary:!0}))return!1;return u;case"Polygon":for(u=!1,p=0;p<r.coordinates[0].length;p++)for(f=0;f<r.coordinates[0][p].length;f++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[0][p][f]},{type:"LineString",coordinates:n.coordinates[0]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[0][p][f]},n,{ignoreBoundary:!0}))return!1;return u;case"MultiPolygon":for(u=!1,p=0;p<r.coordinates[0].length;p++)for(f=0;f<n.coordinates[0].length;f++)for(h=0;h<r.coordinates[0].length;h++)if(u||i.booleanPointOnLine.call(void 0,{type:"Point",coordinates:r.coordinates[0][p][h]},{type:"LineString",coordinates:n.coordinates[0][f]})&&(u=!0),a.booleanPointInPolygon.call(void 0,{type:"Point",coordinates:r.coordinates[0][p][h]},{type:"Polygon",coordinates:n.coordinates[0][f]},{ignoreBoundary:!0}))return!1;return u;default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}function l(e,t){return!!u(t.coordinates[0],e.coordinates)||!!u(t.coordinates[t.coordinates.length-1],e.coordinates)}function u(e,t){return e[0]===t[0]&&e[1]===t[1]}o(c,"booleanTouches"),o(l,"isPointOnLineEnd"),o(u,"compareCoords");var f=c;t.booleanTouches=c,t.default=f},71176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},7245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(71176);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},23592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(27334),a=r(84367),s=r(78320),c=r(66738),l=r(71950),u=r(54799);function f(e){if(!e.type)return!1;const t=i.getGeom.call(void 0,e),r=t.type,n=t.coordinates;switch(r){case"Point":return n.length>1;case"MultiPoint":for(var o=0;o<n.length;o++)if(n[o].length<2)return!1;return!0;case"LineString":if(n.length<2)return!1;for(o=0;o<n.length;o++)if(n[o].length<2)return!1;return!0;case"MultiLineString":if(n.length<2)return!1;for(o=0;o<n.length;o++)if(n[o].length<2)return!1;return!0;case"Polygon":for(o=0;o<t.coordinates.length;o++){if(n[o].length<4)return!1;if(!p(n[o]))return!1;if(d(n[o]))return!1;if(o>0&&l.lineIntersect.call(void 0,a.polygon.call(void 0,[n[0]]),a.polygon.call(void 0,[n[o]])).features.length>1)return!1}return!0;case"MultiPolygon":for(o=0;o<t.coordinates.length;o++)for(var s=t.coordinates[o],c=0;c<s.length;c++){if(s[c].length<4)return!1;if(!p(s[c]))return!1;if(d(s[c]))return!1;if(0===c&&!h(s,t.coordinates,o))return!1;if(c>0&&l.lineIntersect.call(void 0,a.polygon.call(void 0,[s[0]]),a.polygon.call(void 0,[s[c]])).features.length>1)return!1}return!0;default:return!1}}function p(e){return e[0][0]===e[e.length-1][0]||e[0][1]===e[e.length-1][1]}function d(e){for(var t=0;t<e.length-1;t++)for(var r=e[t],n=t+1;n<e.length-2;n++){var o=[e[n],e[n+1]];if(u.booleanPointOnLine.call(void 0,r,a.lineString.call(void 0,o)))return!0}return!1}function h(e,t,r){for(var n=a.polygon.call(void 0,e),o=r+1;o<t.length;o++)if(!s.booleanDisjoint.call(void 0,n,a.polygon.call(void 0,t[o]))&&c.booleanCrosses.call(void 0,n,a.lineString.call(void 0,t[o][0])))return!1;return!0}o(f,"booleanValid"),o(p,"checkRingsClose"),o(d,"checkRingsForSpikesPunctures"),o(h,"checkPolygonAgainstOthers");var g=f;t.booleanValid=f,t.default=g},84367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},27334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(84367);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},71950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(84367),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},81087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25368),a=r(54799),s=r(68081),c=r(24591);function l(e,t){var r=c.getGeom.call(void 0,e),n=c.getGeom.call(void 0,t),o=r.type,i=n.type;switch(o){case"Point":switch(i){case"MultiPoint":return u(r,n);case"LineString":return a.booleanPointOnLine.call(void 0,r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return s.booleanPointInPolygon.call(void 0,r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return f(r,n);case"LineString":return p(r,n);case"Polygon":case"MultiPolygon":return d(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return h(r,n);case"Polygon":case"MultiPolygon":return g(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":case"MultiPolygon":return y(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}function u(e,t){var r,n=!1;for(r=0;r<t.coordinates.length;r++)if(v(t.coordinates[r],e.coordinates)){n=!0;break}return n}function f(e,t){for(var r=0;r<e.coordinates.length;r++){for(var n=!1,o=0;o<t.coordinates.length;o++)v(e.coordinates[r],t.coordinates[o])&&(n=!0);if(!n)return!1}return!0}function p(e,t){for(var r=!1,n=0;n<e.coordinates.length;n++){if(!a.booleanPointOnLine.call(void 0,e.coordinates[n],t))return!1;r||(r=a.booleanPointOnLine.call(void 0,e.coordinates[n],t,{ignoreEndVertices:!0}))}return r}function d(e,t){for(var r=!0,n=!1,o=0;o<e.coordinates.length;o++){if(!(n=s.booleanPointInPolygon.call(void 0,e.coordinates[o],t))){r=!1;break}n=s.booleanPointInPolygon.call(void 0,e.coordinates[o],t,{ignoreBoundary:!0})}return r&&n}function h(e,t){for(var r=0;r<e.coordinates.length;r++)if(!a.booleanPointOnLine.call(void 0,e.coordinates[r],t))return!1;return!0}function g(e,t){if(!m(i.bbox.call(void 0,t),i.bbox.call(void 0,e)))return!1;for(var r=!1,n=0;n<e.coordinates.length;n++){if(!s.booleanPointInPolygon.call(void 0,e.coordinates[n],t))return!1;if(r||(r=s.booleanPointInPolygon.call(void 0,e.coordinates[n],t,{ignoreBoundary:!0})),!r&&n<e.coordinates.length-1){var o=b(e.coordinates[n],e.coordinates[n+1]);r=s.booleanPointInPolygon.call(void 0,o,t,{ignoreBoundary:!0})}}return r}function y(e,t){var r=i.bbox.call(void 0,e);if(!m(i.bbox.call(void 0,t),r))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!s.booleanPointInPolygon.call(void 0,e.coordinates[0][n],t))return!1;return!0}function m(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function v(e,t){return e[0]===t[0]&&e[1]===t[1]}function b(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}o(l,"booleanWithin"),o(u,"isPointInMultiPoint"),o(f,"isMultiPointInMultiPoint"),o(p,"isMultiPointOnLine"),o(d,"isMultiPointInPoly"),o(h,"isLineOnLine"),o(g,"isLineInPoly"),o(y,"isPolyInPoly"),o(m,"doBBoxOverlap"),o(v,"compareCoords"),o(b,"getMidpoint");var w=l;t.booleanWithin=l,t.default=w},93442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},24591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(93442);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},36593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=r(38622),s=(n=r(53114))&&n.__esModule?n:{default:n},c=r(35100),l=r(51715),u=r(44048),{BufferOp:f,GeoJSONReader:p,GeoJSONWriter:d}=s.default;function h(e,t,r){var n=(r=r||{}).units||"kilometers",o=r.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof r)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var i=[];switch(e.type){case"GeometryCollection":return c.geomEach.call(void 0,e,(function(e){var r=g(e,t,n,o);r&&i.push(r)})),u.featureCollection.call(void 0,i);case"FeatureCollection":return c.featureEach.call(void 0,e,(function(e){var r=g(e,t,n,o);r&&c.featureEach.call(void 0,r,(function(e){e&&i.push(e)}))})),u.featureCollection.call(void 0,i)}return g(e,t,n,o)}function g(e,t,r,n){var o=e.properties||{},i="Feature"===e.type?e.geometry:e;if("GeometryCollection"===i.type){var a=[];return c.geomEach.call(void 0,e,(function(e){var o=g(e,t,r,n);o&&a.push(o)})),u.featureCollection.call(void 0,a)}var s=b(i),l={type:i.type,coordinates:m(i.coordinates,s)},h=(new p).read(l),w=u.radiansToLength.call(void 0,u.lengthToRadians.call(void 0,t,r),"meters"),_=f.bufferOp(h,w,n);if(!y((_=(new d).write(_)).coordinates)){var P={type:_.type,coordinates:v(_.coordinates,s)};return u.feature.call(void 0,P,o)}}function y(e){return Array.isArray(e[0])?y(e[0]):isNaN(e[0])}function m(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return m(e,t)}))}function v(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return v(e,t)}))}function b(e){var t=a.center.call(void 0,e).geometry.coordinates,r=[-t[0],-t[1]];return l.geoAzimuthalEquidistant.call(void 0).rotate(r).scale(u.earthRadius)}i(h,"buffer"),i(g,"bufferFeature"),i(y,"coordsIsNaN"),i(m,"projectCoords"),i(v,"unprojectCoords"),i(b,"defineProjection");var w=h;t.buffer=h,t.default=w},44048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},35100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(44048);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},33882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(10447),i=r(38733);function a(e,t={}){let r=0,n=0,a=0;return o.geomEach.call(void 0,e,(function(e,s,c){let l=t.weight?null==c?void 0:c[t.weight]:void 0;if(l=null==l?1:l,!i.isNumber.call(void 0,l))throw new Error("weight value must be a number for feature index "+s);l=Number(l),l>0&&o.coordEach.call(void 0,e,(function(e){r+=e[0]*l,n+=e[1]*l,a+=l}))})),i.point.call(void 0,[r/a,n/a],t.properties,t)}n(a,"name",{value:"centerMean",configurable:!0});var s=a;t.centerMean=a,t.default=s},38733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},10447:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(38733);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},8365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(33882),a=r(73246),s=r(33597),c=r(87908),l=r(14536);function u(e,t={}){if(t=t||{},!c.isObject.call(void 0,t))throw new Error("options is invalid");var r=t.counter||10;if(!c.isNumber.call(void 0,r))throw new Error("counter must be a number");var n=t.weight,o=i.centerMean.call(void 0,e,{weight:t.weight}),a=c.featureCollection.call(void 0,[]);l.featureEach.call(void 0,e,(function(e){var t;a.features.push(s.centroid.call(void 0,e,{properties:{weight:null==(t=e.properties)?void 0:t[n]}}))}));const u={tolerance:t.tolerance,medianCandidates:[]};return f(o.geometry.coordinates,[0,0],a,u,r)}function f(e,t,r,n,o){var i=n.tolerance||.001,s=0,u=0,p=0,d=0;if(l.featureEach.call(void 0,r,(function(t){var r,n=null==(r=t.properties)?void 0:r.weight,o=null==n?1:n;if(o=Number(o),!c.isNumber.call(void 0,o))throw new Error("weight value must be a number");if(o>0){d+=1;var i=o*a.distance.call(void 0,t,e);0===i&&(i=1);var l=o/i;s+=t.geometry.coordinates[0]*l,u+=t.geometry.coordinates[1]*l,p+=l}})),d<1)throw new Error("no features to measure");var h=s/p,g=u/p;return 1===d||0===o||Math.abs(h-t[0])<i&&Math.abs(g-t[1])<i?c.point.call(void 0,[h,g],{medianCandidates:n.medianCandidates}):(n.medianCandidates.push([h,g]),f([h,g],e,r,n,o-1))}o(u,"centerMedian"),o(f,"findMedian");var p=u;t.centerMedian=u,t.default=p},33597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(87908),i=r(14536);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},73246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(92321),i=r(87908);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},87908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},92321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(87908);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},14536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(87908);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},38622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(25368),i=r(97945);function a(e,t={}){const r=o.bbox.call(void 0,e),n=(r[0]+r[2])/2,a=(r[1]+r[3])/2;return i.point.call(void 0,[n,a],t.properties,t)}n(a,"name",{value:"center",configurable:!0});var s=a;t.center=a,t.default=s},97945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},37879:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(31359),i=r(7770);function a(e,t,r={}){const n=r.steps||64,a=r.properties?r.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},s=[];for(let i=0;i<n;i++)s.push(o.destination.call(void 0,e,t,-360*i/n,r).geometry.coordinates);return s.push(s[0]),i.polygon.call(void 0,[s],a)}n(a,"name",{value:"circle",configurable:!0});var s=a;t.circle=a,t.default=s},31359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(7770),i=r(17255);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},7770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},17255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(7770);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},86493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(70580),a=r(99281);function s(e,t={}){var r="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var n=a.getType.call(void 0,e),o=[];switch(n){case"LineString":o=c(e,n);break;case"MultiLineString":case"Polygon":a.getCoords.call(void 0,e).forEach((function(e){o.push(c(e,n))}));break;case"MultiPolygon":a.getCoords.call(void 0,e).forEach((function(e){var t=[];e.forEach((function(e){t.push(c(e,n))})),o.push(t)}));break;case"Point":return e;case"MultiPoint":var s={};a.getCoords.call(void 0,e).forEach((function(e){var t=e.join("-");Object.prototype.hasOwnProperty.call(s,t)||(o.push(e),s[t]=!0)}));break;default:throw new Error(n+" geometry not supported")}return e.coordinates?!0===r?(e.coordinates=o,e):{type:n,coordinates:o}:!0===r?(e.geometry.coordinates=o,e):i.feature.call(void 0,{type:n,coordinates:o},e.properties,{bbox:e.bbox,id:e.id})}function c(e,t){var r=a.getCoords.call(void 0,e);if(2===r.length&&!l(r[0],r[1]))return r;var n=[],o=r.length-1,i=n.length;n.push(r[0]);for(var s=1;s<o;s++){var c=n[n.length-1];r[s][0]===c[0]&&r[s][1]===c[1]||(n.push(r[s]),(i=n.length)>2&&u(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(r[r.length-1]),i=n.length,("Polygon"===t||"MultiPolygon"===t)&&l(r[0],r[r.length-1])&&i<4)throw new Error("invalid polygon");return"LineString"===t&&i<3||u(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function l(e,t){return e[0]===t[0]&&e[1]===t[1]}function u(e,t,r){var n=r[0],o=r[1],i=e[0],a=e[1],s=t[0],c=t[1],l=s-i,u=c-a;return 0==(n-i)*u-(o-a)*l&&(Math.abs(l)>=Math.abs(u)?l>0?i<=n&&n<=s:s<=n&&n<=i:u>0?a<=o&&o<=c:c<=o&&o<=a)}o(s,"cleanCoords"),o(c,"cleanLine"),o(l,"equals"),o(u,"isPointOnLineSegment");var f=s;t.cleanCoords=s,t.default=f},70580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},99281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(70580);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},82878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=r(78405),s=r(56425),c=r(58713),l=((n=r(35341))&&n.__esModule?n:{default:n}).default;function u(e,t,r={}){!0!==r.mutate&&(e=a.clone.call(void 0,e));const n=r.minPoints||3,o=c.lengthToDegrees.call(void 0,t,r.units);var u=new l(e.features.length),f=e.features.map((e=>!1)),p=e.features.map((e=>!1)),d=e.features.map((e=>!1)),h=e.features.map((e=>-1));u.load(e.features.map(((e,t)=>{var[r,n]=e.geometry.coordinates;return{minX:r,minY:n,maxX:r,maxY:n,index:t}})));const g=i((r=>{const n=e.features[r],[i,a]=n.geometry.coordinates,l=Math.max(a-o,-90),f=Math.min(a+o,90),p=l<0&&f>0?o:Math.abs(l)<Math.abs(f)?o/Math.cos(c.degreesToRadians.call(void 0,f)):o/Math.cos(c.degreesToRadians.call(void 0,l)),d={minX:Math.max(i-p,-360),minY:l,maxX:Math.min(i+p,360),maxY:f};return u.search(d).filter((r=>{const o=r.index,i=e.features[o];return s.distance.call(void 0,n,i,{units:"kilometers"})<=t}))}),"regionQuery"),y=i(((e,t)=>{for(var r=0;r<t.length;r++){const o=t[r].index;if(!f[o]){f[o]=!0;const e=g(o);e.length>=n&&t.push(...e)}p[o]||(p[o]=!0,h[o]=e)}}),"expandCluster");var m=0;return e.features.forEach(((e,t)=>{if(f[t])return;const r=g(t);if(r.length>=n){const e=m;m++,f[t]=!0,y(e,r)}else d[t]=!0})),e.features.forEach(((t,r)=>{var n=e.features[r];n.properties||(n.properties={}),h[r]>=0?(n.properties.dbscan=d[r]?"edge":"core",n.properties.cluster=h[r]):n.properties.dbscan="noise"})),e}i(u,"clustersDbscan");var f=u;t.clustersDbscan=u,t.default=f},78405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},56425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(88840),i=r(58713);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},58713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},88840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(58713);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},8120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(65951),a=r(13365),s=(n=r(61756))&&n.__esModule?n:{default:n};function c(e,t={}){var r=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(r/2)),t.numberOfClusters>r&&(t.numberOfClusters=r),!0!==t.mutate&&(e=i.clone.call(void 0,e));var n=a.coordAll.call(void 0,e),o=n.slice(0,t.numberOfClusters),c=s.default.call(void 0,n,t.numberOfClusters,o),l={};return c.centroids.forEach((function(e,t){l[t]=e})),a.featureEach.call(void 0,e,(function(e,t){var r=c.idxs[t];e.properties.cluster=r,e.properties.centroid=l[r]})),e}o(c,"name",{value:"clustersKmeans",configurable:!0});var l=c;t.clustersKmeans=c,t.default=l},65951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},57247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},13365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(57247);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},10036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(80817),a=r(52515);function s(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var r=[];return i.featureEach.call(void 0,e,(function(e){f(e.properties,t)&&r.push(e)})),a.featureCollection.call(void 0,r)}function c(e,t,r){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var n=u(e,t),o=Object.keys(n),i=0;i<o.length;i++){for(var s=o[i],c=n[s],l=[],f=0;f<c.length;f++)l.push(e.features[c[f]]);r(a.featureCollection.call(void 0,l),s,i)}}function l(e,t,r,n){var o=n;return c(e,t,(function(e,t,i){o=0===i&&void 0===n?e:r(o,e,t,i)})),o}function u(e,t){var r={};return i.featureEach.call(void 0,e,(function(e,n){var o=e.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(t))){var i=o[t];Object.prototype.hasOwnProperty.call(r,i)?r[i].push(n):r[i]=[n]}})),r}function f(e,t){if(void 0===e)return!1;var r=typeof t;if("number"===r||"string"===r)return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(!f(e,t[n]))return!1;return!0}return p(e,t)}function p(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var o=r[n];if(e[o]!==t[o])return!1}return!0}function d(e,t){if(!t)return{};if(!t.length)return{};for(var r={},n=0;n<t.length;n++){var o=t[n];Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r}o(s,"getCluster"),o(c,"clusterEach"),o(l,"clusterReduce"),o(u,"createBins"),o(f,"applyFilter"),o(p,"propertiesContainsFilter"),o(d,"filterProperties"),t.applyFilter=f,t.clusterEach=c,t.clusterReduce=l,t.createBins=u,t.filterProperties=d,t.getCluster=s,t.propertiesContainsFilter=p},52515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},80817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(52515);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},60537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(25368),a=r(68081),s=((n=r(35341))&&n.__esModule?n:{default:n}).default;function c(e,t,r,n){var o=new s(6),c=t.features.map((function(e){var t;return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:null==(t=e.properties)?void 0:t[r]}}));return o.load(c),e.features.forEach((function(e){e.properties||(e.properties={});var t=i.bbox.call(void 0,e),r=o.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}),s=[];r.forEach((function(t){a.booleanPointInPolygon.call(void 0,[t.minX,t.minY],e)&&s.push(t.property)})),e.properties[n]=s})),e}o(c,"name",{value:"collect",configurable:!0});var l=c;t.collect=c,t.default=l},98758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(29313),i=r(65067);function a(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return i.featureEach.call(void 0,e,(e=>{var r;switch(null==(r=e.geometry)?void 0:r.type){case"Point":t.MultiPoint.coordinates.push(e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"MultiPoint":t.MultiPoint.coordinates.push(...e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"LineString":t.MultiLineString.coordinates.push(e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"MultiLineString":t.MultiLineString.coordinates.push(...e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties);break;case"MultiPolygon":t.MultiPolygon.coordinates.push(...e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties)}})),o.featureCollection.call(void 0,Object.keys(t).filter((function(e){return t[e].coordinates.length})).sort().map((function(e){var r={type:e,coordinates:t[e].coordinates},n={collectedProperties:t[e].properties};return o.feature.call(void 0,r,n)})))}n(a,"name",{value:"combine",configurable:!0});var s=a;t.combine=a,t.default=s},29313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},65067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(29313);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},21474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(1461),a=r(49941),s=r(19191),c=r(15492),l=r(15449),u=r(98860);function f(e,t={}){if(t=t||{},!a.isObject.call(void 0,t))throw new Error("options is invalid");const r=t.mutate;if("FeatureCollection"!==u.getType.call(void 0,e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==r&&void 0!==r||(e=l.clone.call(void 0,e));const n=[],o=s.lineReduce.call(void 0,e,((e,t)=>d(e,t)||(n.push(e),t)));return o&&n.push(o),n.length?1===n.length?n[0]:a.multiLineString.call(void 0,n.map((e=>e.coordinates))):null}function p(e){return e[0].toString()+","+e[1].toString()}function d(e,t){const r=e.geometry.coordinates,n=t.geometry.coordinates,o=p(r[0]),i=p(r[r.length-1]),s=p(n[0]),c=p(n[n.length-1]);let l;if(o===c)l=n.concat(r.slice(1));else if(s===i)l=r.concat(n.slice(1));else if(o===s)l=r.slice(1).reverse().concat(n);else{if(i!==c)return null;l=r.concat(n.reverse().slice(1))}return a.lineString.call(void 0,l)}o(f,"lineDissolve"),o(p,"coordId"),o(d,"mergeLineStrings");var h=r(85681),g=r(16888);function y(e,t={}){if("FeatureCollection"!==u.getType.call(void 0,e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==t.mutate&&void 0!==t.mutate||(e=l.clone.call(void 0,e));const r=[];s.flattenEach.call(void 0,e,(e=>{r.push(e.geometry)}));const n=g.topology.call(void 0,{geoms:a.geometryCollection.call(void 0,r).geometry});return h.merge.call(void 0,n,n.objects.geoms.geometries)}function m(e,t={}){if(t=t||{},!a.isObject.call(void 0,t))throw new Error("options is invalid");const r=t.mutate;if("FeatureCollection"!==u.getType.call(void 0,e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==r&&void 0!==r||(e=l.clone.call(void 0,e));const n=v(e);if(!n)throw new Error("geojson must be homogenous");const o=e;switch(n){case"LineString":return f(o,t);case"Polygon":return y(o,t);default:throw new Error(n+" is not supported")}}function v(e){const t={};s.flattenEach.call(void 0,e,(e=>{t[e.geometry.type]=!0}));const r=Object.keys(t);return 1===r.length?r[0]:null}function b(e,t={}){const r=t.maxEdge||1/0,n=w(e),o=c.tin.call(void 0,n);if(o.features=o.features.filter((e=>{const n=e.geometry.coordinates[0][0],o=e.geometry.coordinates[0][1],a=e.geometry.coordinates[0][2],s=i.distance.call(void 0,n,o,t),c=i.distance.call(void 0,o,a,t),l=i.distance.call(void 0,n,a,t);return s<=r&&c<=r&&l<=r})),o.features.length<1)return null;const s=m(o);return 1===s.coordinates.length&&(s.coordinates=s.coordinates[0],s.type="Polygon"),a.feature.call(void 0,s)}function w(e){const t=[],r={};return s.featureEach.call(void 0,e,(e=>{if(!e.geometry)return;const n=e.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(r,n)||(t.push(e),r[n]=!0)})),a.featureCollection.call(void 0,t)}o(y,"polygonDissolve"),o(m,"dissolve"),o(v,"getHomogenousType"),o(b,"concave"),o(w,"removeDuplicates");var _=b;t.concave=b,t.default=_},15449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},1461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(98860),i=r(49941);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},49941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},98860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(49941);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},19191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(49941);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},84136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(n=r(59004))&&n.__esModule?n:{default:n},a=r(98159),s=r(48581);function c(e){const t=[];if(s.geomEach.call(void 0,e,(e=>{t.push(e.coordinates)})),t.length<2)throw new Error("Must have at least two features");const r=e.features[0].properties||{},n=i.default.difference(t[0],...t.slice(1));return 0===n.length?null:1===n.length?a.polygon.call(void 0,n[0],r):a.multiPolygon.call(void 0,n,r)}o(c,"name",{value:"difference",configurable:!0});var l=c;t.default=l,t.difference=c},98159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},48581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(98159);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},46968:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(90591),a=r(72758),s=r(32405),c=r(77169),l=(n=r(59004))&&n.__esModule?n:{default:n};function u(e,t={}){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");const{propertyName:r}=t;a.collectionOf.call(void 0,e,"Polygon","dissolve");const n=[];if(!r)return c.flatten.call(void 0,i.multiPolygon.call(void 0,l.default.union.apply(null,e.features.map((function(e){return e.geometry.coordinates})))));{const t={};s.featureEach.call(void 0,e,(function(e){e.properties&&(Object.prototype.hasOwnProperty.call(t,e.properties[r])||(t[e.properties[r]]=[]),t[e.properties[r]].push(e))}));const o=Object.keys(t);for(let e=0;e<o.length;e++){const a=i.multiPolygon.call(void 0,l.default.union.apply(null,t[o[e]].map((function(e){return e.geometry.coordinates}))));a&&a.properties&&(a.properties[r]=o[e],n.push(a))}}return c.flatten.call(void 0,i.featureCollection.call(void 0,n))}o(u,"name",{value:"dissolve",configurable:!0});var f=u;t.default=f,t.dissolve=u},90591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},72758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(90591);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},32405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(90591);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},82337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(92609),a=r(76101),s=r(56140);function c(e,t,r=2){const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),i=n[0]-o[0],s=n[1]-o[1];return 1===r?Math.abs(i)+Math.abs(s):Math.pow(Math.pow(i,r)+Math.pow(s,r),1/r)}function l(e,t){var r,n;const o=(t=t||{}).threshold||1e4,a=t.p||2,l=null!=(r=t.binary)&&r,u=t.alpha||-1,f=null!=(n=t.standardization)&&n,p=[];s.featureEach.call(void 0,e,(e=>{p.push(i.centroid.call(void 0,e))}));const d=[];for(let e=0;e<p.length;e++)d[e]=[];for(let e=0;e<p.length;e++)for(let t=e;t<p.length;t++){e===t&&(d[e][t]=0);const r=c(p[e],p[t],a);d[e][t]=r,d[t][e]=r}for(let e=0;e<p.length;e++)for(let t=0;t<p.length;t++){const r=d[e][t];0!==r&&(d[e][t]=l?r<=o?1:0:r<=o?Math.pow(r,u):0)}if(f)for(let e=0;e<p.length;e++){const t=d[e].reduce(((e,t)=>e+t),0);for(let r=0;r<p.length;r++)d[e][r]=d[e][r]/t}return d}o(c,"pNormDistance"),o(l,"distanceWeight");var u=l;t.default=u,t.distanceWeight=l,t.pNormDistance=c},92609:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(61376),i=r(56140);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},61376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},76101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(61376);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},56140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(61376);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},61021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(84308),a=r(5054),s=r(56183),c=r(61329);function l(e,t,r,n){const o=(n=n||{}).steps||64,l=n.units||"kilometers",f=n.angle||0,p=n.pivot||e,d=n.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!r)throw new Error("ySemiAxis is required");if(!i.isObject.call(void 0,n))throw new Error("options must be an object");if(!i.isNumber.call(void 0,o))throw new Error("steps must be a number");if(!i.isNumber.call(void 0,f))throw new Error("angle must be a number");const h=c.getCoord.call(void 0,e);if("degrees"!==l){const n=a.rhumbDestination.call(void 0,e,t,90,{units:l}),o=a.rhumbDestination.call(void 0,e,r,0,{units:l});t=c.getCoord.call(void 0,n)[0]-h[0],r=c.getCoord.call(void 0,o)[1]-h[1]}const g=[];for(let e=0;e<o;e+=1){const n=-360*e/o;let a=t*r/Math.sqrt(Math.pow(r,2)+Math.pow(t,2)*Math.pow(u(n),2)),s=t*r/Math.sqrt(Math.pow(t,2)+Math.pow(r,2)/Math.pow(u(n),2));if(n<-90&&n>=-270&&(a=-a),n<-180&&n>=-360&&(s=-s),"degrees"===l){const e=i.degreesToRadians.call(void 0,f),t=a*Math.cos(e)+s*Math.sin(e),r=s*Math.cos(e)-a*Math.sin(e);a=t,s=r}g.push([a+h[0],s+h[1]])}return g.push(g[0]),"degrees"===l?i.polygon.call(void 0,[g],d):s.transformRotate.call(void 0,i.polygon.call(void 0,[g],d),f,{pivot:p})}function u(e){const t=e*Math.PI/180;return Math.tan(t)}o(l,"ellipse"),o(u,"getTanDeg");var f=l;t.default=f,t.ellipse=l},84308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},61329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(84308);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},5054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(84308),a=r(61329);function s(e,t,r,n={}){const o=t<0;let s=i.convertLength.call(void 0,Math.abs(t),n.units,"meters");o&&(s=-Math.abs(s));const l=a.getCoord.call(void 0,e),u=c(l,s,r);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i.point.call(void 0,u,n.properties)}function c(e,t,r,n){const o=t/(n=void 0===n?i.earthRadius:Number(n)),a=e[0]*Math.PI/180,s=i.degreesToRadians.call(void 0,e[1]),c=i.degreesToRadians.call(void 0,r),l=o*Math.cos(c);let u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);const f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?l/f:Math.cos(s);return[(180*(a+o*Math.sin(c)/p)/Math.PI+540)%360-180,180*u/Math.PI]}o(s,"rhumbDestination"),o(c,"calculateRhumbDestination");var l=s;t.default=l,t.rhumbDestination=s},50167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(25368),i=r(6039);function a(e){return i.bboxPolygon.call(void 0,o.bbox.call(void 0,e))}n(a,"name",{value:"envelope",configurable:!0});var s=a;t.default=s,t.envelope=a},79438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(74995),i=r(92905);function a(e){const t=[];return"FeatureCollection"===e.type?o.featureEach.call(void 0,e,(function(e){o.coordEach.call(void 0,e,(function(r){t.push(i.point.call(void 0,r,e.properties))}))})):"Feature"===e.type?o.coordEach.call(void 0,e,(function(r){t.push(i.point.call(void 0,r,e.properties))})):o.coordEach.call(void 0,e,(function(e){t.push(i.point.call(void 0,e))})),i.featureCollection.call(void 0,t)}n(a,"name",{value:"explode",configurable:!0});var s=a;t.default=s,t.explode=a},92905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},74995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(92905);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},77169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(66844),i=r(53520);function a(e){if(!e)throw new Error("geojson is required");var t=[];return o.flattenEach.call(void 0,e,(function(e){t.push(e)})),i.featureCollection.call(void 0,t)}n(a,"name",{value:"flatten",configurable:!0});var s=a;t.default=s,t.flatten=a},53520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},66844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(53520);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},72248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(3829),i=r(57311),a=r(52383);function s(e,t){var r;if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");const n=null!=(r=t.mutate)&&r;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=a.clone.call(void 0,e)),o.coordEach.call(void 0,e,(function(e){var t=e[0],r=e[1];e[0]=r,e[1]=t})),e}n(s,"name",{value:"flip",configurable:!0});var c=s;t.default=c,t.flip=s},52383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},57311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},3829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(57311);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},22569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(n=r(35341))&&n.__esModule?n:{default:n},a=r(69960),s=r(27412),c=r(25368);function l(e){var t=new(0,i.default)(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:c.bbox.call(void 0,e),i.default.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:c.bbox.call(void 0,e),t.push(e)})):s.featureEach.call(void 0,e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:c.bbox.call(void 0,e),t.push(e)})),i.default.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:c.bbox.call(void 0,e),i.default.prototype.remove.call(this,e,t)},t.clear=function(){return i.default.prototype.clear.call(this)},t.search=function(e){var t=i.default.prototype.search.call(this,this.toBBox(e));return a.featureCollection.call(void 0,t)},t.collides=function(e){return i.default.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=i.default.prototype.all.call(this);return a.featureCollection.call(void 0,e)},t.toJSON=function(){return i.default.prototype.toJSON.call(this)},t.fromJSON=function(e){return i.default.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=c.bbox.call(void 0,e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=c.bbox.call(void 0,e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}o(l,"name",{value:"geojsonRbush",configurable:!0});var u=l;t.default=u,t.geojsonRbush=l},69960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},27412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(69960);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},25615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(35519),a=Math.PI/180,s=180/Math.PI,c=o((function(e,t){this.lon=e,this.lat=t,this.x=a*e,this.y=a*t}),"Coord");c.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},c.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new c(t,e)};var l=o((function(){this.coords=[],this.length=0}),"LineString");l.prototype.move_to=function(e){this.length++,this.coords.push(e)};var u=o((function(e){this.properties=e||{},this.geometries=[]}),"Arc");u.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},u.prototype.wkt=function(){for(var e="",t="LINESTRING(",r=o((function(e){t+=e[0]+" "+e[1]+","}),"collect"),n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),e+=t.substring(0,t.length-1)+")"}return e};var f=o((function(e,t,r){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new c(e.x,e.y),this.end=new c(t.x,t.y),this.properties=r||{};var n=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)}),"GreatCircle");function p(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.properties,o=r.npoints,a=r.offset;return e=i.getCoord.call(void 0,e),t=i.getCoord.call(void 0,t),n=n||{},o=o||100,a=a||10,new f({x:e[0],y:e[1]},{x:t[0],y:t[1]},n).Arc(o,{offset:a}).json()}f.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),r=Math.sin(e*this.g)/Math.sin(this.g),n=t*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),o=t*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),i=t*Math.sin(this.start.y)+r*Math.sin(this.end.y),a=s*Math.atan2(i,Math.sqrt(Math.pow(n,2)+Math.pow(o,2)));return[s*Math.atan2(o,n),a]},f.prototype.Arc=function(e,t){var r=[];if(!e||e<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(e-1),o=0;o<e;++o){var i=n*o,a=this.interpolate(i);r.push(a)}for(var s=!1,c=0,f=t&&t.offset?t.offset:10,p=180-f,d=-180+f,h=360-f,g=1;g<r.length;++g){var y=r[g-1][0],m=r[g][0],v=Math.abs(m-y);v>h&&(m>p&&y<d||y>p&&m<d)?s=!0:v>c&&(c=v)}var b=[];if(s&&c<f){var w=[];b.push(w);for(var _=0;_<r.length;++_){var P=parseFloat(r[_][0]);if(_>0&&Math.abs(P-r[_-1][0])>h){var x=parseFloat(r[_-1][0]),O=parseFloat(r[_-1][1]),C=parseFloat(r[_][0]),S=parseFloat(r[_][1]);if(x>-180&&x<d&&180===C&&_+1<r.length&&r[_-1][0]>-180&&r[_-1][0]<d){w.push([-180,r[_][1]]),_++,w.push([r[_][0],r[_][1]]);continue}if(x>p&&x<180&&-180===C&&_+1<r.length&&r[_-1][0]>p&&r[_-1][0]<180){w.push([180,r[_][1]]),_++,w.push([r[_][0],r[_][1]]);continue}if(x<d&&C>p){var E=x;x=C,C=E;var M=O;O=S,S=M}if(x>p&&C<d&&(C+=360),x<=180&&C>=180&&x<C){var j=(180-x)/(C-x),k=j*S+(1-j)*O;w.push([r[_-1][0]>p?180:-180,k]),(w=[]).push([r[_-1][0]>p?-180:180,k]),b.push(w)}else w=[],b.push(w);w.push([P,r[_][1]])}else w.push([r[_][0],r[_][1]])}}else{var T=[];b.push(T);for(var I=0;I<r.length;++I)T.push([r[I][0],r[I][1]])}for(var F=new u(this.properties),A=0;A<b.length;++A){var L=new l;F.geometries.push(L);for(var R=b[A],D=0;D<R.length;++D)L.move_to(R[D])}return F},o(p,"greatCircle");var d=p;t.default=d,t.greatCircle=p},60498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},35519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(60498);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},62871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(64724),a=r(74),s=r(36058);function c(e,t,r={}){const n=JSON.stringify(r.properties||{}),[o,c,f,p]=e,d=(c+p)/2,h=(o+f)/2,g=2*t/i.distance.call(void 0,[o,d],[f,d],r)*(f-o),y=2*t/i.distance.call(void 0,[h,c],[h,p],r)*(p-c),m=g/2,v=2*m,b=Math.sqrt(3)/2*y,w=f-o,_=p-c,P=3/4*v,x=b,O=(w-v)/(v-m/2),C=Math.floor(O),S=(C*P-m/2-w)/2-m/2+P/2,E=Math.floor((_-b)/b);let M=(_-E*b)/2;const j=E*b-_>b/2;j&&(M-=b/4);const k=[],T=[];for(let e=0;e<6;e++){const t=2*Math.PI/6*e;k.push(Math.cos(t)),T.push(Math.sin(t))}const I=[];for(let e=0;e<=C;e++)for(let t=0;t<=E;t++){const i=e%2==1;if(0===t&&i)continue;if(0===t&&j)continue;const f=e*P+o-S;let p=t*x+c+M;if(i&&(p-=b/2),!0===r.triangles)u([f,p],g/2,y/2,JSON.parse(n),k,T).forEach((function(e){r.mask?a.intersect.call(void 0,s.featureCollection.call(void 0,[r.mask,e]))&&I.push(e):I.push(e)}));else{const e=l([f,p],g/2,y/2,JSON.parse(n),k,T);r.mask?a.intersect.call(void 0,s.featureCollection.call(void 0,[r.mask,e]))&&I.push(e):I.push(e)}}return s.featureCollection.call(void 0,I)}function l(e,t,r,n,o,i){const a=[];for(let n=0;n<6;n++){const s=e[0]+t*o[n],c=e[1]+r*i[n];a.push([s,c])}return a.push(a[0].slice()),s.polygon.call(void 0,[a],n)}function u(e,t,r,n,o,i){const a=[];for(let c=0;c<6;c++){const l=[];l.push(e),l.push([e[0]+t*o[c],e[1]+r*i[c]]),l.push([e[0]+t*o[(c+1)%6],e[1]+r*i[(c+1)%6]]),l.push(e),a.push(s.polygon.call(void 0,[l],n))}return a}o(c,"hexGrid"),o(l,"hexagon"),o(u,"hexTriangles");var f=c;t.default=f,t.hexGrid=c},64724:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(51911),i=r(36058);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},36058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},51911:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(36058);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},58712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(25368),i=r(62871),a=r(72278),s=r(45159),c=r(78404),l=r(96313),u=r(34416),f=r(22047),p=r(26591),d=r(99029),h=r(40022);function g(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.gridType,g=r.property,y=r.weight;if(!e)throw new Error("points is required");if(h.collectionOf.call(void 0,e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==y&&"number"!=typeof y)throw new Error("weight must be a number");g=g||"elevation",n=n||"square",y=y||1;var m,v=o.bbox.call(void 0,e);switch(n){case"point":case"points":m=a.pointGrid.call(void 0,v,t,r);break;case"square":case"squares":m=l.squareGrid.call(void 0,v,t,r);break;case"hex":case"hexes":m=i.hexGrid.call(void 0,v,t,r);break;case"triangle":case"triangles":m=u.triangleGrid.call(void 0,v,t,r);break;default:throw new Error("invalid gridType")}var b=[];return d.featureEach.call(void 0,m,(function(t){var o=0,i=0;d.featureEach.call(void 0,e,(function(e){var a,l="point"===n?t:c.centroid.call(void 0,t),u=s.distance.call(void 0,l,e,r);if(void 0!==g&&(a=e.properties[g]),void 0===a&&(a=e.geometry.coordinates[2]),void 0===a)throw new Error("zValue is missing");0===u&&(o=a);var f=1/Math.pow(u,y);i+=f,o+=f*a}));var a=f.clone.call(void 0,t);a.properties[g]=o/i,b.push(a)})),p.featureCollection.call(void 0,b)}n(g,"name",{value:"interpolate",configurable:!0});var y=g;t.default=y,t.interpolate=g},78404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(26591),i=r(99029);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},22047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},45159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(40022),i=r(26591);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},26591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},40022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(26591);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},99029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(26591);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},74:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(71805),a=r(14111),s=(n=r(59004))&&n.__esModule?n:{default:n};function c(e,t={}){const r=[];if(a.geomEach.call(void 0,e,(e=>{r.push(e.coordinates)})),r.length<2)throw new Error("Must specify at least 2 geometries");const n=s.default.intersection(r[0],...r.slice(1));return 0===n.length?null:1===n.length?i.polygon.call(void 0,n[0],t.properties):i.multiPolygon.call(void 0,n,t.properties)}o(c,"name",{value:"intersect",configurable:!0});var l=c;t.default=l,t.intersect=c},71805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},14111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(71805);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},90404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&s(e,r,t[r]);return e},l=(e,t)=>n(e,"name",{value:t,configurable:!0}),u=r(25368),f=r(5445),p=r(68081),d=r(79438),h=r(8866),g=r(58099),y=r(80289);function m(e,t){if(t=t||{},!g.isObject.call(void 0,t))throw new Error("options is invalid");var r=t.zProperty||"elevation",n=t.flip,o=t.flags;h.collectionOf.call(void 0,e,"Point","input must contain Points");for(var i=v(e,n),a=[],s=0;s<i.length;s++){for(var c=i[s],l=[],u=0;u<c.length;u++){var f=c[u];f.properties[r]?l.push(f.properties[r]):l.push(0),!0===o&&(f.properties.matrixPosition=[s,u])}a.push(l)}return a}function v(e,t){var r={};return y.featureEach.call(void 0,e,(function(e){var t=h.getCoords.call(void 0,e)[1];r[t]||(r[t]=[]),r[t].push(e)})),Object.keys(r).map((function(e){return r[e].sort((function(e,t){return h.getCoords.call(void 0,e)[0]-h.getCoords.call(void 0,t)[0]}))})).sort((function(e,r){return t?h.getCoords.call(void 0,e[0])[1]-h.getCoords.call(void 0,r[0])[1]:h.getCoords.call(void 0,r[0])[1]-h.getCoords.call(void 0,e[0])[1]}))}l(m,"gridToMatrix"),l(v,"sortPointsByLatLng");var b=r(45864);function w(e,t,r){if(r=r||{},!g.isObject.call(void 0,r))throw new Error("options is invalid");const n=r.zProperty||"elevation",o=r.commonProperties||{},i=r.breaksProperties||[];if(h.collectionOf.call(void 0,e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!g.isObject.call(void 0,o))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");const a=m(e,{zProperty:n,flip:!0});let s=_(a,t,n);s=P(s,a,e);const l=s.map(((e,t)=>{if(i[t]&&!g.isObject.call(void 0,i[t]))throw new Error("Each mappedProperty is required to be an Object");const r=c(c({},o),i[t]);return r[n]=e[n],g.multiPolygon.call(void 0,e.groupedRings,r)}));return g.featureCollection.call(void 0,l)}function _(e,t,r){const n=[];for(let o=1;o<t.length;o++){const i=+t[o-1],a=+t[o],s=O(x(b.isoBands.call(void 0,e,i,a-i)));n.push({groupedRings:s,[r]:i+"-"+a})}return n}function P(e,t,r){const n=u.bbox.call(void 0,r),o=n[2]-n[0],i=n[3]-n[1],a=n[0],s=n[1],c=t[0].length-1,l=t.length-1,f=o/c,p=i/l;return e.map((function(e){return e.groupedRings=e.groupedRings.map((function(e){return e.map((function(e){return e.map((e=>[e[0]*f+a,e[1]*p+s]))}))})),e}))}function x(e){const t=e.map((function(e){return{ring:e,area:f.area.call(void 0,g.polygon.call(void 0,[e]))}}));return t.sort((function(e,t){return t.area-e.area})),t.map((function(e){return e.ring}))}function O(e){const t=e.map((e=>({lrCoordinates:e,grouped:!1}))),r=[];for(;!S(t);)for(let e=0;e<t.length;e++)if(!t[e].grouped){const n=[];n.push(t[e].lrCoordinates),t[e].grouped=!0;const o=g.polygon.call(void 0,[t[e].lrCoordinates]);for(let r=e+1;r<t.length;r++)t[r].grouped||C(g.polygon.call(void 0,[t[r].lrCoordinates]),o)&&(n.push(t[r].lrCoordinates),t[r].grouped=!0);r.push(n)}return r}function C(e,t){const r=d.explode.call(void 0,e);for(let e=0;e<r.features.length;e++)if(!p.booleanPointInPolygon.call(void 0,r.features[e],t))return!1;return!0}function S(e){for(let t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}l(w,"isobands"),l(_,"createContourLines"),l(P,"rescaleContours"),l(x,"orderByArea"),l(O,"groupNestedRings"),l(C,"isInside"),l(S,"allGrouped");var E=w;t.default=E,t.isobands=w},5445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(58099),a=r(80289);function s(e){return a.geomReduce.call(void 0,e,((e,t)=>e+c(t)),0)}function c(e){let t,r=0;switch(e.type){case"Polygon":return l(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=l(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function l(e){let t=0;if(e&&e.length>0){t+=Math.abs(p(e[0]));for(let r=1;r<e.length;r++)t-=Math.abs(p(e[r]))}return t}o(s,"area"),o(c,"calculateArea"),o(l,"polygonArea");var u=i.earthRadius*i.earthRadius/2,f=Math.PI/180;function p(e){const t=e.length;if(t<=2)return 0;let r=0,n=0;for(;n<t;){const o=e[n],i=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=o[0]*f,c=i[1]*f;r+=(a[0]*f-s)*Math.sin(c),n++}return r*u}o(p,"ringArea");var d=s;t.area=s,t.default=d},58099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},8866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(58099);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},80289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(58099);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&s(e,r,t[r]);return e},l=(e,t)=>n(e,"name",{value:t,configurable:!0}),u=r(25368),f=r(61678),p=r(33163),d=r(75382),h=r(45864);function g(e,t){if(t=t||{},!d.isObject.call(void 0,t))throw new Error("options is invalid");var r=t.zProperty||"elevation",n=t.flip,o=t.flags;p.collectionOf.call(void 0,e,"Point","input must contain Points");for(var i=y(e,n),a=[],s=0;s<i.length;s++){for(var c=i[s],l=[],u=0;u<c.length;u++){var f=c[u];f.properties[r]?l.push(f.properties[r]):l.push(0),!0===o&&(f.properties.matrixPosition=[s,u])}a.push(l)}return a}function y(e,t){var r={};return f.featureEach.call(void 0,e,(function(e){var t=p.getCoords.call(void 0,e)[1];r[t]||(r[t]=[]),r[t].push(e)})),Object.keys(r).map((function(e){return r[e].sort((function(e,t){return p.getCoords.call(void 0,e)[0]-p.getCoords.call(void 0,t)[0]}))})).sort((function(e,r){return t?p.getCoords.call(void 0,e[0])[1]-p.getCoords.call(void 0,r[0])[1]:p.getCoords.call(void 0,r[0])[1]-p.getCoords.call(void 0,e[0])[1]}))}function m(e,t,r){if(r=r||{},!d.isObject.call(void 0,r))throw new Error("options is invalid");const n=r.zProperty||"elevation",o=r.commonProperties||{},i=r.breaksProperties||[];if(p.collectionOf.call(void 0,e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!d.isObject.call(void 0,o))throw new Error("commonProperties must be an Object");if(!Array.isArray(i))throw new Error("breaksProperties must be an Array");const a=g(e,{zProperty:n,flip:!0}),s=b(v(a,t,n,o,i),a,e);return d.featureCollection.call(void 0,s)}function v(e,t,r,n,o){const i=[];for(let a=0;a<t.length;a++){const s=+t[a],l=c(c({},n),o[a]);l[r]=s;const u=d.multiLineString.call(void 0,h.isoContours.call(void 0,e,s,{linearRing:!1,noFrame:!0}),l);i.push(u)}return i}function b(e,t,r){const n=u.bbox.call(void 0,r),o=n[2]-n[0],i=n[3]-n[1],a=n[0],s=n[1],c=t[0].length-1,p=t.length-1,d=o/c,h=i/p,g=l((e=>{e[0]=e[0]*d+a,e[1]=e[1]*h+s}),"resize");return e.forEach((e=>{f.coordEach.call(void 0,e,g)})),e}l(g,"gridToMatrix"),l(y,"sortPointsByLatLng"),l(m,"isolines"),l(v,"createIsoLines"),l(b,"rescaleIsolines");var w=m;t.default=w,t.isolines=m},75382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},33163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(75382);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},61678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(75382);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},46067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(28542),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e){const t={type:"FeatureCollection",features:[]};if("Feature"===e.type&&("Point"===e.geometry.type||"MultiPoint"===e.geometry.type))throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");const r=a(e,!1);for(let e=0;e<r.length;++e){const n=r[e];t.features.push(i.point.call(void 0,[n[0],n[1]]))}return t}o(s,"name",{value:"kinks",configurable:!0});var c=s;t.default=c,t.kinks=s},28542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},1552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(37879),a=r(33126),s=r(89271);function c(e,t,r,n,o={}){const c=o.steps||64,u=l(r),f=l(n),p=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(u===f)return s.lineString.call(void 0,i.circle.call(void 0,e,t,o).geometry.coordinates[0],p);const d=u,h=u<f?f:f+360;let g=d;const y=[];let m=0;const v=(h-d)/c;for(;g<=h;)y.push(a.destination.call(void 0,e,t,g,o).geometry.coordinates),m++,g=d+m*v;return s.lineString.call(void 0,y,p)}function l(e){let t=e%360;return t<0&&(t+=360),t}o(c,"lineArc"),o(l,"convertAngleTo360");var u=c;t.default=u,t.lineArc=c},33126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(89271),i=r(68174);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},89271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},68174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(89271);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},46897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(69417),a=r(17394),s=r(86268),c=r(97808);function l(e,t,r){if(r=r||{},!c.isObject.call(void 0,r))throw new Error("options is invalid");var n=r.units,o=r.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var i=[];return s.flattenEach.call(void 0,e,(function(e){o&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),u(e,t,n,(function(e){i.push(e)}))})),c.featureCollection.call(void 0,i)}function u(e,t,r,n){var o=i.length.call(void 0,e,{units:r});if(o<=t)return n(e);var s=o/t;Number.isInteger(s)||(s=Math.floor(s)+1);for(var c=0;c<s;c++)n(a.lineSliceAlong.call(void 0,e,t*c,t*(c+1),{units:r}),c)}o(l,"lineChunk"),o(u,"sliceLineSegments");var f=l;t.default=f,t.lineChunk=l},81466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(16661),i=r(97808);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},97808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},16661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97808);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},69417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(81466),i=r(86268);function a(e,t={}){return i.segmentReduce.call(void 0,e,((e,r)=>{const n=r.geometry.coordinates;return e+o.distance.call(void 0,n[0],n[1],t)}),0)}n(a,"name",{value:"length",configurable:!0});var s=a;t.default=s,t.length=a},86268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97808);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},27265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(63212),a=r(82661),s=r(68192);function c(e){var t=e[0],r=e[1];return[r[0]-t[0],r[1]-t[1]]}function l(e,t){return e[0]*t[1]-t[0]*e[1]}function u(e,t){return[e[0]+t[0],e[1]+t[1]]}function f(e,t){return[e[0]-t[0],e[1]-t[1]]}function p(e,t){return[e*t[0],e*t[1]]}function d(e,t){var r=e[0],n=c(e),o=t[0],i=c(t),a=l(n,i);return u(r,p(l(f(o,r),i)/a,n))}function h(e,t){return 0===l(c(e),c(t))}function g(e,t){return!h(e,t)&&d(e,t)}function y(e,t,r){if(r=r||{},!s.isObject.call(void 0,r))throw new Error("options is invalid");var n=r.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var o=a.getType.call(void 0,e),c=e.properties;switch(o){case"LineString":return m(e,t,n);case"MultiLineString":var l=[];return i.flattenEach.call(void 0,e,(function(e){l.push(m(e,t,n).geometry.coordinates)})),s.multiLineString.call(void 0,l,c);default:throw new Error("geometry "+o+" is not supported")}}function m(e,t,r){var n=[],o=s.lengthToDegrees.call(void 0,t,r),i=a.getCoords.call(void 0,e),c=[];return i.forEach((function(e,t){if(t!==i.length-1){var r=v(e,i[t+1],o);if(n.push(r),t>0){var a=n[t-1],s=g(r,a);!1!==s&&(a[1]=s,r[0]=s),c.push(a[0]),t===i.length-2&&(c.push(r[0]),c.push(r[1]))}2===i.length&&(c.push(r[0]),c.push(r[1]))}})),s.lineString.call(void 0,c,e.properties)}function v(e,t,r){var n=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),o=e[0]+r*(t[1]-e[1])/n,i=t[0]+r*(t[1]-e[1])/n;return[[o,e[1]+r*(e[0]-t[0])/n],[i,t[1]+r*(e[0]-t[0])/n]]}o(c,"ab"),o(l,"crossProduct"),o(u,"add"),o(f,"sub"),o(p,"scalarMult"),o(d,"intersectSegments"),o(h,"isParallel"),o(g,"intersection"),o(y,"lineOffset"),o(m,"lineOffsetFeature"),o(v,"processSegment");var b=y;t.default=b,t.lineOffset=y},68192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},82661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(68192);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},63212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(68192);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},92655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=r(22569),s=r(59825),c=r(73089),l=r(54799),u=r(43967),f=r(18114),p=r(13778),d=(n=r(4982))&&n.__esModule?n:{default:n};function h(e,t,r={}){if(r=r||{},!p.isObject.call(void 0,r))throw new Error("options is invalid");var n=r.tolerance||0,o=[],i=a.geojsonRbush.call(void 0);const h=s.lineSegment.call(void 0,e);var y;i.load(h);let m=[];return f.segmentEach.call(void 0,t,(function(e){var t=!1;e&&(f.featureEach.call(void 0,i.search(e),(function(r){if(!1===t){var o=u.getCoords.call(void 0,e).sort(),i=u.getCoords.call(void 0,r).sort();if(d.default.call(void 0,o,i))t=!0,y=y?g(y,e)||y:e;else if(0===n?l.booleanPointOnLine.call(void 0,o[0],r)&&l.booleanPointOnLine.call(void 0,o[1],r):c.nearestPointOnLine.call(void 0,r,o[0]).properties.dist<=n&&c.nearestPointOnLine.call(void 0,r,o[1]).properties.dist<=n)t=!0,y=y?g(y,e)||y:e;else if(0===n?l.booleanPointOnLine.call(void 0,i[0],e)&&l.booleanPointOnLine.call(void 0,i[1],e):c.nearestPointOnLine.call(void 0,e,i[0]).properties.dist<=n&&c.nearestPointOnLine.call(void 0,e,i[1]).properties.dist<=n)if(y){const e=g(y,r);e?y=e:m.push(r)}else y=r}})),!1===t&&y&&(o.push(y),m.length&&(o=o.concat(m),m=[]),y=void 0))})),y&&o.push(y),p.featureCollection.call(void 0,o)}function g(e,t){var r=u.getCoords.call(void 0,t),n=u.getCoords.call(void 0,e),o=n[0],i=n[n.length-1],a=e.geometry.coordinates;if(d.default.call(void 0,r[0],o))a.unshift(r[1]);else if(d.default.call(void 0,r[0],i))a.push(r[1]);else if(d.default.call(void 0,r[1],o))a.unshift(r[0]);else{if(!d.default.call(void 0,r[1],i))return;a.push(r[0])}return e}i(h,"lineOverlap"),i(g,"concatSegment");var y=h;t.default=y,t.lineOverlap=h},10537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(13778),a=r(43967);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},17479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(13778),i=r(43967);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},44668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(43967),i=r(13778);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},13778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},43967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(13778);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},17789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(13778),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},59825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(13778),a=r(43967),s=r(18114);function c(e){if(!e)throw new Error("geojson is required");const t=[];return s.flattenEach.call(void 0,e,(e=>{l(e,t)})),i.featureCollection.call(void 0,t)}function l(e,t){let r=[];const n=e.geometry;if(null!==n){switch(n.type){case"Polygon":r=a.getCoords.call(void 0,n);break;case"LineString":r=[a.getCoords.call(void 0,n)]}r.forEach((r=>{u(r,e.properties).forEach((e=>{e.id=t.length,t.push(e)}))}))}}function u(e,t){const r=[];return e.reduce(((e,n)=>{const o=i.lineString.call(void 0,[e,n],t);return o.bbox=f(e,n),r.push(o),n})),r}function f(e,t){const r=e[0],n=e[1],o=t[0],i=t[1];return[r<o?r:o,n<i?n:i,r>o?r:o,n>i?n:i]}o(c,"lineSegment"),o(l,"lineSegmentFeature"),o(u,"createSegments"),o(f,"bbox");var p=c;t.default=p,t.lineSegment=c},18114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(13778);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},73089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&l(e,r,t[r]);return e},f=(e,t)=>o(e,i(t)),p=r(10537),d=r(44668),h=r(17479),g=r(17789),y=r(18114),m=r(13778),v=r(43967);function b(e,t,r={}){if(!e||!t)throw new Error("lines and pt are required arguments");let n=m.point.call(void 0,[1/0,1/0],{dist:1/0,index:-1,location:-1}),o=0;return y.flattenEach.call(void 0,e,(function(e){const i=v.getCoords.call(void 0,e);for(let e=0;e<i.length-1;e++){const a=m.point.call(void 0,i[e]);a.properties.dist=d.distance.call(void 0,t,a,r);const s=m.point.call(void 0,i[e+1]);s.properties.dist=d.distance.call(void 0,t,s,r);const c=d.distance.call(void 0,a,s,r),l=Math.max(a.properties.dist,s.properties.dist),y=p.bearing.call(void 0,a,s),v=h.destination.call(void 0,t,l,y+90,r),b=h.destination.call(void 0,t,l,y-90,r),w=g.lineIntersect.call(void 0,m.lineString.call(void 0,[v.geometry.coordinates,b.geometry.coordinates]),m.lineString.call(void 0,[a.geometry.coordinates,s.geometry.coordinates]));let _;w.features.length>0&&w.features[0]&&(_=f(u({},w.features[0]),{properties:{dist:d.distance.call(void 0,t,w.features[0],r),location:o+d.distance.call(void 0,a,w.features[0],r)}})),a.properties.dist<n.properties.dist&&(n=f(u({},a),{properties:f(u({},a.properties),{index:e,location:o})})),s.properties.dist<n.properties.dist&&(n=f(u({},s),{properties:f(u({},s.properties),{index:e+1,location:o+c})})),_&&_.properties.dist<n.properties.dist&&(n=f(u({},_),{properties:f(u({},_.properties),{index:e})})),o+=c}})),n}n(b,"name",{value:"nearestPointOnLine",configurable:!0});var w=b;t.default=w,t.nearestPointOnLine=b},17394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(93546),i=r(5573),a=r(25092),s=r(84005);function c(e,t,r,n){if(n=n||{},!s.isObject.call(void 0,n))throw new Error("options is invalid");var c,l=[];if("Feature"===e.type)c=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");c=e.coordinates}for(var u,f,p,d=c.length,h=0,g=0;g<c.length&&!(t>=h&&g===c.length-1);g++){if(h>t&&0===l.length){if(!(u=t-h))return l.push(c[g]),s.lineString.call(void 0,l);f=o.bearing.call(void 0,c[g],c[g-1])-180,p=a.destination.call(void 0,c[g],u,f,n),l.push(p.geometry.coordinates)}if(h>=r)return(u=r-h)?(f=o.bearing.call(void 0,c[g],c[g-1])-180,p=a.destination.call(void 0,c[g],u,f,n),l.push(p.geometry.coordinates),s.lineString.call(void 0,l)):(l.push(c[g]),s.lineString.call(void 0,l));if(h>=t&&l.push(c[g]),g===c.length-1)return s.lineString.call(void 0,l);h+=i.distance.call(void 0,c[g],c[g+1],n)}if(h<t&&c.length===d)throw new Error("Start position is beyond line");var y=c[c.length-1];return s.lineString.call(void 0,[y,y])}n(c,"name",{value:"lineSliceAlong",configurable:!0});var l=c;t.default=l,t.lineSliceAlong=c},93546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(84005),a=r(87548);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},25092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(84005),i=r(87548);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},5573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(87548),i=r(84005);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},84005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},87548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(84005);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},11678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(65352),i=r(85657),a=r(21598);function s(e,t,r){var n=o.getCoords.call(void 0,r);if("LineString"!==o.getType.call(void 0,r))throw new Error("line must be a LineString");for(var s,c=a.nearestPointOnLine.call(void 0,r,e),l=a.nearestPointOnLine.call(void 0,r,t),u=[(s=c.properties.index<=l.properties.index?[c,l]:[l,c])[0].geometry.coordinates],f=s[0].properties.index+1;f<s[1].properties.index+1;f++)u.push(n[f]);return u.push(s[1].geometry.coordinates),i.lineString.call(void 0,u,r.properties)}n(s,"name",{value:"lineSlice",configurable:!0});var c=s;t.default=c,t.lineSlice=s},28110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(85657),a=r(65352);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},78008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(85657),i=r(65352);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},61001:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(65352),i=r(85657);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},85657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},65352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(85657);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},78160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(85657),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},89667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(85657);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},21598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&l(e,r,t[r]);return e},f=(e,t)=>o(e,i(t)),p=r(28110),d=r(61001),h=r(78008),g=r(78160),y=r(89667),m=r(85657),v=r(65352);function b(e,t,r={}){if(!e||!t)throw new Error("lines and pt are required arguments");let n=m.point.call(void 0,[1/0,1/0],{dist:1/0,index:-1,location:-1}),o=0;return y.flattenEach.call(void 0,e,(function(e){const i=v.getCoords.call(void 0,e);for(let e=0;e<i.length-1;e++){const a=m.point.call(void 0,i[e]);a.properties.dist=d.distance.call(void 0,t,a,r);const s=m.point.call(void 0,i[e+1]);s.properties.dist=d.distance.call(void 0,t,s,r);const c=d.distance.call(void 0,a,s,r),l=Math.max(a.properties.dist,s.properties.dist),y=p.bearing.call(void 0,a,s),v=h.destination.call(void 0,t,l,y+90,r),b=h.destination.call(void 0,t,l,y-90,r),w=g.lineIntersect.call(void 0,m.lineString.call(void 0,[v.geometry.coordinates,b.geometry.coordinates]),m.lineString.call(void 0,[a.geometry.coordinates,s.geometry.coordinates]));let _;w.features.length>0&&w.features[0]&&(_=f(u({},w.features[0]),{properties:{dist:d.distance.call(void 0,t,w.features[0],r),location:o+d.distance.call(void 0,a,w.features[0],r)}})),a.properties.dist<n.properties.dist&&(n=f(u({},a),{properties:f(u({},a.properties),{index:e,location:o})})),s.properties.dist<n.properties.dist&&(n=f(u({},s),{properties:f(u({},s.properties),{index:e+1,location:o+c})})),_&&_.properties.dist<n.properties.dist&&(n=f(u({},_),{properties:f(u({},_.properties),{index:e})})),o+=c}})),n}n(b,"name",{value:"nearestPointOnLine",configurable:!0});var w=b;t.default=w,t.nearestPointOnLine=b},7364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(22569),a=r(33448),s=r(25368),c=r(23813),l=r(86762),u=r(44746),f=r(6024),p=r(63202),d=r(98433),h=r(12563);function g(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var r=p.getType.call(void 0,e),n=p.getType.call(void 0,t);if("LineString"!==r)throw new Error("line must be LineString");if("FeatureCollection"===n)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===n)throw new Error("splitter cannot be a GeometryCollection");var o=c.truncate.call(void 0,t,{precision:7});switch(n){case"Point":return m(e,o);case"MultiPoint":return y(e,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return y(e,u.lineIntersect.call(void 0,e,o,{ignoreSelfIntersections:!0}))}}function y(e,t){var r=[],n=i.geojsonRbush.call(void 0);return d.flattenEach.call(void 0,t,(function(t){if(r.forEach((function(e,t){e.id=t})),r.length){var o=n.search(t);if(o.features.length){var i=v(t,o);r=r.filter((function(e){return e.id!==i.id})),n.remove(i),d.featureEach.call(void 0,m(i,t),(function(e){r.push(e),n.insert(e)}))}}else(r=m(e,t).features).forEach((function(e){e.bbox||(e.bbox=a.square.call(void 0,s.bbox.call(void 0,e)))})),n.load(h.featureCollection.call(void 0,r))})),h.featureCollection.call(void 0,r)}function m(e,t){var r=[],n=p.getCoords.call(void 0,e)[0],o=p.getCoords.call(void 0,e)[e.geometry.coordinates.length-1];if(b(n,p.getCoord.call(void 0,t))||b(o,p.getCoord.call(void 0,t)))return h.featureCollection.call(void 0,[e]);var a=i.geojsonRbush.call(void 0),s=l.lineSegment.call(void 0,e);a.load(s);var c=a.search(t);if(!c.features.length)return h.featureCollection.call(void 0,[e]);var u=v(t,c),f=[n],g=d.featureReduce.call(void 0,s,(function(e,n,o){var i=p.getCoords.call(void 0,n)[1],a=p.getCoord.call(void 0,t);return o===u.id?(e.push(a),r.push(h.lineString.call(void 0,e)),b(a,i)?[a]:[a,i]):(e.push(i),e)}),f);return g.length>1&&r.push(h.lineString.call(void 0,g)),h.featureCollection.call(void 0,r)}function v(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var r,n=1/0;return d.featureEach.call(void 0,t,(function(t){var o=f.nearestPointOnLine.call(void 0,t,e).properties.dist;o<n&&(r=t,n=o)})),r}function b(e,t){return e[0]===t[0]&&e[1]===t[1]}o(g,"lineSplit"),o(y,"splitLineWithPoints"),o(m,"splitLineWithPoint"),o(v,"findClosestFeature"),o(b,"pointsEquals");var w=g;t.default=w,t.lineSplit=g},98336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(12563),a=r(63202);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},36962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(12563),i=r(63202);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},47163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(63202),i=r(12563);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},12563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},63202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(12563);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},44746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(12563),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},86762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(12563),a=r(63202),s=r(98433);function c(e){if(!e)throw new Error("geojson is required");const t=[];return s.flattenEach.call(void 0,e,(e=>{l(e,t)})),i.featureCollection.call(void 0,t)}function l(e,t){let r=[];const n=e.geometry;if(null!==n){switch(n.type){case"Polygon":r=a.getCoords.call(void 0,n);break;case"LineString":r=[a.getCoords.call(void 0,n)]}r.forEach((r=>{u(r,e.properties).forEach((e=>{e.id=t.length,t.push(e)}))}))}}function u(e,t){const r=[];return e.reduce(((e,n)=>{const o=i.lineString.call(void 0,[e,n],t);return o.bbox=f(e,n),r.push(o),n})),r}function f(e,t){const r=e[0],n=e[1],o=t[0],i=t[1];return[r<o?r:o,n<i?n:i,r>o?r:o,n>i?n:i]}o(c,"lineSegment"),o(l,"lineSegmentFeature"),o(u,"createSegments"),o(f,"bbox");var p=c;t.default=p,t.lineSegment=c},98433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(12563);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},6024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&l(e,r,t[r]);return e},f=(e,t)=>o(e,i(t)),p=r(98336),d=r(47163),h=r(36962),g=r(44746),y=r(98433),m=r(12563),v=r(63202);function b(e,t,r={}){if(!e||!t)throw new Error("lines and pt are required arguments");let n=m.point.call(void 0,[1/0,1/0],{dist:1/0,index:-1,location:-1}),o=0;return y.flattenEach.call(void 0,e,(function(e){const i=v.getCoords.call(void 0,e);for(let e=0;e<i.length-1;e++){const a=m.point.call(void 0,i[e]);a.properties.dist=d.distance.call(void 0,t,a,r);const s=m.point.call(void 0,i[e+1]);s.properties.dist=d.distance.call(void 0,t,s,r);const c=d.distance.call(void 0,a,s,r),l=Math.max(a.properties.dist,s.properties.dist),y=p.bearing.call(void 0,a,s),v=h.destination.call(void 0,t,l,y+90,r),b=h.destination.call(void 0,t,l,y-90,r),w=g.lineIntersect.call(void 0,m.lineString.call(void 0,[v.geometry.coordinates,b.geometry.coordinates]),m.lineString.call(void 0,[a.geometry.coordinates,s.geometry.coordinates]));let _;w.features.length>0&&w.features[0]&&(_=f(u({},w.features[0]),{properties:{dist:d.distance.call(void 0,t,w.features[0],r),location:o+d.distance.call(void 0,a,w.features[0],r)}})),a.properties.dist<n.properties.dist&&(n=f(u({},a),{properties:f(u({},a.properties),{index:e,location:o})})),s.properties.dist<n.properties.dist&&(n=f(u({},s),{properties:f(u({},s.properties),{index:e+1,location:o+c})})),_&&_.properties.dist<n.properties.dist&&(n=f(u({},_),{properties:f(u({},_.properties),{index:e})})),o+=c}})),n}n(b,"name",{value:"nearestPointOnLine",configurable:!0});var w=b;t.default=w,t.nearestPointOnLine=b},93856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25368),a=r(33406),s=r(76295),c=r(89527);function l(e,t={}){var r,n,o,i=t.properties,l=null==(r=t.autoComplete)||r,f=null==(n=t.orderCoords)||n;if(null!=(o=t.mutate)&&o||(e=c.clone.call(void 0,e)),"FeatureCollection"===e.type){var p=[];return e.features.forEach((function(e){p.push(a.getCoords.call(void 0,u(e,{},l,f)))})),s.multiPolygon.call(void 0,p,i)}return u(e,i,l,f)}function u(e,t,r,n){t=t||("Feature"===e.type?e.properties:{});var o=a.getGeom.call(void 0,e),c=o.coordinates,l=o.type;if(!c.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return r&&(c=f(c)),s.polygon.call(void 0,[c],t);case"MultiLineString":var u=[],d=0;return c.forEach((function(e){if(r&&(e=f(e)),n){var t=p(i.bbox.call(void 0,s.lineString.call(void 0,e)));t>d?(u.unshift(e),d=t):u.push(e)}else u.push(e)})),s.polygon.call(void 0,u,t);default:throw new Error("geometry type "+l+" is not supported")}}function f(e){var t=e[0],r=t[0],n=t[1],o=e[e.length-1],i=o[0],a=o[1];return r===i&&n===a||e.push(t),e}function p(e){var t=e[0],r=e[1],n=e[2],o=e[3];return Math.abs(t-n)*Math.abs(r-o)}o(l,"lineToPolygon"),o(u,"lineStringToPolygon"),o(f,"autoCompleteCoords"),o(p,"calculateArea");var d=l;t.default=d,t.lineToPolygon=l},89527:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},76295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},33406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(76295);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},72767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=r(34594),s=(n=r(59004))&&n.__esModule?n:{default:n};function c(e,t){var r=f(t);return("FeatureCollection"===e.type?l(e):u(s.default.union(e.geometry.coordinates))).geometry.coordinates.forEach((function(e){r.geometry.coordinates.push(e[0])})),r}function l(e){return u(2===e.features.length?s.default.union(e.features[0].geometry.coordinates,e.features[1].geometry.coordinates):s.default.union.apply(s.default,e.features.map((function(e){return e.geometry.coordinates}))))}function u(e){return a.multiPolygon.call(void 0,e)}function f(e){var t=e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return a.polygon.call(void 0,t)}i(c,"mask"),i(l,"unionFc"),i(u,"createGeomFromPolygonClippingOutput"),i(f,"createMask");var p=c;t.default=p,t.mask=c},34594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},39419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(4685),i=r(90027),a=r(57392);function s(e,t){var r=a.distance.call(void 0,e,t),n=o.bearing.call(void 0,e,t);return i.destination.call(void 0,e,r/2,n)}n(s,"name",{value:"midpoint",configurable:!0});var c=s;t.default=c,t.midpoint=s},4685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43526),a=r(5019);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},90027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(43526),i=r(5019);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},57392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(5019),i=r(43526);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},43526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},5019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43526);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},72091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(82337),a=r(8638);function s(e,t){var r,n;const o=t.inputField,s=t.threshold||1e5,u=t.p||2,f=null!=(r=t.binary)&&r,p=t.alpha||-1,d=null==(n=t.standardization)||n,h=i.distanceWeight.call(void 0,e,{alpha:p,binary:f,p:u,standardization:d,threshold:s}),g=[];a.featureEach.call(void 0,e,(e=>{const t=e.properties||{};g.push(t[o])}));const y=c(g),m=l(g);let v=0,b=0,w=0,_=0;const P=h.length;for(let e=0;e<P;e++){let t=0;for(let r=0;r<P;r++)v+=h[e][r]*(g[e]-y)*(g[r]-y),b+=h[e][r],w+=Math.pow(h[e][r]+h[r][e],2),t+=h[e][r]+h[r][e];_+=Math.pow(t,2)}w*=.5;const x=v/b/m,O=-1/(P-1),C=(P*P*w-P*_+b*b*3)/((P-1)*(P+1)*(b*b))-O*O,S=Math.sqrt(C);return{expectedMoranIndex:O,moranIndex:x,stdNorm:S,zNorm:(x-O)/S}}function c(e){let t=0;for(const r of e)t+=r;return t/e.length}function l(e){const t=c(e);let r=0;for(const n of e)r+=Math.pow(n-t,2);return r/e.length}o(s,"moranIndex"),o(c,"mean"),o(l,"variance");var u=s;t.default=u,t.moranIndex=s},34662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},8638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(34662);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},36303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(97306),i=r(25368),a=r(6039),s=r(19623),c=r(55356),l=r(3322),u=r(59810),f=r(97650);function p(e,t){const r=(t=t||{}).studyArea||a.bboxPolygon.call(void 0,i.bbox.call(void 0,e)),n=t.properties||{},p=t.units||"kilometers",d=[];u.featureEach.call(void 0,e,(e=>{d.push(s.centroid.call(void 0,e))}));const h=d.length,g=d.map(((e,t)=>{const r=f.featureCollection.call(void 0,d.filter(((e,r)=>r!==t)));return c.distance.call(void 0,e,l.nearestPoint.call(void 0,e,r).geometry.coordinates,{units:p})})).reduce(((e,t)=>e+t),0)/h,y=h/f.convertArea.call(void 0,o.area.call(void 0,r),"meters",p),m=1/(2*Math.sqrt(y)),v=.26136/Math.sqrt(h*y);return n.nearestNeighborAnalysis={units:p,arealUnits:p+"",observedMeanDistance:g,expectedMeanDistance:m,nearestNeighborIndex:g/m,numberOfPoints:h,zScore:(g-m)/v},r.properties=n,r}n(p,"name",{value:"nearestNeighborAnalysis",configurable:!0});var d=p;t.default=d,t.nearestNeighborAnalysis=p},97306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97650),a=r(59810);function s(e){return a.geomReduce.call(void 0,e,((e,t)=>e+c(t)),0)}function c(e){let t,r=0;switch(e.type){case"Polygon":return l(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=l(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function l(e){let t=0;if(e&&e.length>0){t+=Math.abs(p(e[0]));for(let r=1;r<e.length;r++)t-=Math.abs(p(e[r]))}return t}o(s,"area"),o(c,"calculateArea"),o(l,"polygonArea");var u=i.earthRadius*i.earthRadius/2,f=Math.PI/180;function p(e){const t=e.length;if(t<=2)return 0;let r=0,n=0;for(;n<t;){const o=e[n],i=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=o[0]*f,c=i[1]*f;r+=(a[0]*f-s)*Math.sin(c),n++}return r*u}o(p,"ringArea");var d=s;t.area=s,t.default=d},19623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(97650),i=r(59810);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},55356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(89471),i=r(97650);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},97650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},89471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97650);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},59810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97650);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},41377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&s(e,r,t[r]);return e},l=(e,t)=>n(e,"name",{value:t,configurable:!0}),u=r(61157),f=r(10156),p=r(60634);function d(e,t,r={}){const n=r.units,o=r.properties||{},i=h(e);if(!i.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==u.getType.call(void 0,t))throw new Error("line must be a LineString");let a=1/0,s=null;return f.featureEach.call(void 0,i,(e=>{const r=p.pointToLineDistance.call(void 0,e,t,{units:n});r<a&&(a=r,s=e)})),s&&(s.properties=c(c(c({},{dist:a}),s.properties),o)),s}function h(e){const t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return f.geomEach.call(void 0,e,(e=>{"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((e=>"Point"===e.geometry.type)),e;default:throw new Error("points must be a Point Collection")}}l(d,"nearestPointToLine"),l(h,"normalize");var g=d;t.default=g,t.nearestPointToLine=d},47306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(61157),i=r(94048);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},94048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},61157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(94048);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},10156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(94048);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},60634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47306),a=r(94048),s=r(61157),c=r(10156),l=r(76955);function u(e,t,r={}){if(r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=a.point.call(void 0,e):"Point"===e.type?e=a.feature.call(void 0,e):s.featureOf.call(void 0,e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=a.lineString.call(void 0,t):"LineString"===t.type?t=a.feature.call(void 0,t):s.featureOf.call(void 0,t,"LineString","line");let n=1/0;const o=e.geometry.coordinates;return c.segmentEach.call(void 0,t,(e=>{const t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],a=f(o,t,i,r);a<n&&(n=a)})),a.convertLength.call(void 0,n,"degrees",r.units)}function f(e,t,r,n){const o=[r[0]-t[0],r[1]-t[1]],i=p([e[0]-t[0],e[1]-t[1]],o);if(i<=0)return d(e,t,{method:n.method,units:"degrees"});const a=p(o,o);if(a<=i)return d(e,r,{method:n.method,units:"degrees"});const s=i/a;return d(e,[t[0]+s*o[0],t[1]+s*o[1]],{method:n.method,units:"degrees"})}function p(e,t){return e[0]*t[0]+e[1]*t[1]}function d(e,t,r){return"planar"===r.method?l.rhumbDistance.call(void 0,e,t,r):i.distance.call(void 0,e,t,r)}o(u,"pointToLineDistance"),o(f,"distanceToSegment"),o(p,"dot"),o(d,"calcDistance");var h=u;t.default=h,t.pointToLineDistance=u},76955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(94048),a=r(61157);function s(e,t,r={}){const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t);o[0]+=o[0]-n[0]>180?-360:n[0]-o[0]>180?360:0;const s=c(n,o);return i.convertLength.call(void 0,s,"meters",r.units)}function c(e,t,r){const n=r=void 0===r?i.earthRadius:Number(r),o=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-o;let c=Math.abs(t[0]-e[0])*Math.PI/180;c>Math.PI&&(c-=2*Math.PI);const l=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),u=Math.abs(l)>1e-11?s/l:Math.cos(o);return Math.sqrt(s*s+u*u*c*c)*n}o(s,"rhumbDistance"),o(c,"calculateRhumbDistance");var l=s;t.default=l,t.rhumbDistance=s},3322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&l(e,r,t[r]);return e},f=(e,t)=>o(e,i(t)),p=r(4545),d=r(6557),h=r(10159);function g(e,t,r={}){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");let n=1/0,o=0;h.featureEach.call(void 0,t,((t,i)=>{const a=d.distance.call(void 0,e,t,r);a<n&&(o=i,n=a)}));const i=p.clone.call(void 0,t.features[o]);return f(u({},i),{properties:f(u({},i.properties),{featureIndex:o,distanceToPoint:n})})}n(g,"name",{value:"nearestPoint",configurable:!0});var y=g;t.default=y,t.nearestPoint=g},4545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},6557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(46404),i=r(43949);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},43949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},46404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43949);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},10159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43949);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},33255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(13399);function i(e,t){var r=o.getCoord.call(void 0,e),n=o.getGeom.call(void 0,t).coordinates[0];if(n.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},a=i.a,s=i.b,c=i.c,l=r[0],u=r[1],f=n[0][0],p=n[0][1],d=void 0!==a?a:n[0][2],h=n[1][0],g=n[1][1],y=void 0!==s?s:n[1][2],m=n[2][0],v=n[2][1],b=void 0!==c?c:n[2][2];return(b*(l-f)*(u-g)+d*(l-h)*(u-v)+y*(l-m)*(u-p)-y*(l-f)*(u-v)-b*(l-h)*(u-p)-d*(l-m)*(u-g))/((l-f)*(u-g)+(l-h)*(u-v)+(l-m)*(u-p)-(l-f)*(u-v)-(l-h)*(u-p)-(l-m)*(u-g))}n(i,"name",{value:"planepoint",configurable:!0});var a=i;t.default=a,t.planepoint=i},18346:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},13399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(18346);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},72278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(81087),i=r(21937),a=r(71825);function s(e,t,r={}){r.mask&&!r.units&&(r.units="kilometers");for(var n=[],s=e[0],c=e[1],l=e[2],u=e[3],f=t/i.distance.call(void 0,[s,c],[l,c],r)*(l-s),p=t/i.distance.call(void 0,[s,c],[s,u],r)*(u-c),d=l-s,h=u-c,g=Math.floor(d/f),y=(h-Math.floor(h/p)*p)/2,m=s+(d-g*f)/2;m<=l;){for(var v=c+y;v<=u;){var b=a.point.call(void 0,[m,v],r.properties);r.mask?o.booleanWithin.call(void 0,b,r.mask)&&n.push(b):n.push(b),v+=p}m+=f}return a.featureCollection.call(void 0,n)}n(s,"name",{value:"pointGrid",configurable:!0});var c=s;t.default=c,t.pointGrid=s},21937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(11392),i=r(71825);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},71825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},11392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(71825);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},84704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(79438),a=r(38622),s=r(3322),c=r(68081),l=r(9607);function u(e){const t=f(e),r=a.center.call(void 0,t);let n=!1,o=0;for(;!n&&o<t.features.length;){const e=t.features[o].geometry;let i,a,s,l,u,f,d=!1;if("Point"===e.type)r.geometry.coordinates[0]===e.coordinates[0]&&r.geometry.coordinates[1]===e.coordinates[1]&&(n=!0);else if("MultiPoint"===e.type){let t=!1,o=0;for(;!t&&o<e.coordinates.length;)r.geometry.coordinates[0]===e.coordinates[o][0]&&r.geometry.coordinates[1]===e.coordinates[o][1]&&(n=!0,t=!0),o++}else if("LineString"===e.type){let t=0;for(;!d&&t<e.coordinates.length-1;)i=r.geometry.coordinates[0],a=r.geometry.coordinates[1],s=e.coordinates[t][0],l=e.coordinates[t][1],u=e.coordinates[t+1][0],f=e.coordinates[t+1][1],p(i,a,s,l,u,f)&&(d=!0,n=!0),t++}else if("MultiLineString"===e.type){let t=0;for(;t<e.coordinates.length;){d=!1;let o=0;const c=e.coordinates[t];for(;!d&&o<c.length-1;)i=r.geometry.coordinates[0],a=r.geometry.coordinates[1],s=c[o][0],l=c[o][1],u=c[o+1][0],f=c[o+1][1],p(i,a,s,l,u,f)&&(d=!0,n=!0),o++;t++}}else"Polygon"!==e.type&&"MultiPolygon"!==e.type||c.booleanPointInPolygon.call(void 0,r,e)&&(n=!0);o++}if(n)return r;{const e=l.featureCollection.call(void 0,[]);for(let r=0;r<t.features.length;r++)e.features=e.features.concat(i.explode.call(void 0,t.features[r]).features);return l.point.call(void 0,s.nearestPoint.call(void 0,r,e).geometry.coordinates)}}function f(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?l.featureCollection.call(void 0,[l.feature.call(void 0,e)]):l.featureCollection.call(void 0,[e]):e}function p(e,t,r,n,o,i){return Math.sqrt((o-r)*(o-r)+(i-n)*(i-n))===Math.sqrt((e-r)*(e-r)+(t-n)*(t-n))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t))}o(u,"pointOnFeature"),o(f,"normalize"),o(p,"pointOnSegment");var d=u;t.default=d,t.pointOnFeature=u},9607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},12949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(68081),i=r(972),a=r(97168);function s(e,t){const r=[];return a.featureEach.call(void 0,e,(function(e){let n=!1;if("Point"===e.geometry.type)a.geomEach.call(void 0,t,(function(t){o.booleanPointInPolygon.call(void 0,e,t)&&(n=!0)})),n&&r.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var s=[];a.geomEach.call(void 0,t,(function(t){a.coordEach.call(void 0,e,(function(e){o.booleanPointInPolygon.call(void 0,e,t)&&(n=!0,s.push(e))}))})),n&&r.push(i.multiPoint.call(void 0,s,e.properties))}})),i.featureCollection.call(void 0,r)}n(s,"name",{value:"pointsWithinPolygon",configurable:!0});var c=s;t.default=c,t.pointsWithinPolygon=s},972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},97168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(972);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},1856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(40103),a=r(89533);function s(e,t){(t=t||{}).iterations=t.iterations||1;const{iterations:r}=t,n=[];if(!e)throw new Error("inputPolys is required");return a.geomEach.call(void 0,e,(function(e,t,o){if("Polygon"===e.type){let t=[[]];for(let n=0;n<r;n++){let r=[],o=e;n>0&&(o=i.polygon.call(void 0,t).geometry),c(o,r),t=r.slice(0)}n.push(i.polygon.call(void 0,t,o))}else{if("MultiPolygon"!==e.type)throw new Error("geometry is invalid, must be Polygon or MultiPolygon");{let t=[[[]]];for(let n=0;n<r;n++){let r=[],o=e;n>0&&(o=i.multiPolygon.call(void 0,t).geometry),l(o,r),t=r.slice(0)}n.push(i.multiPolygon.call(void 0,t,o))}}})),i.featureCollection.call(void 0,n)}function c(e,t){var r,n;a.coordEach.call(void 0,e,(function(e,o,i,a,s){if(n!==s)t.push([]);else{var c=r[0],l=r[1],u=e[0],f=e[1];t[s].push([.75*c+.25*u,.75*l+.25*f]),t[s].push([.25*c+.75*u,.25*l+.75*f])}r=e,n=s}),!1),t.forEach((function(e){e.push(e[0])}))}function l(e,t){let r,n,o;a.coordEach.call(void 0,e,(function(e,i,a,s,c){if(n!==s)t.push([[]]);else if(o!==c)t[s].push([]);else{var l=r[0],u=r[1],f=e[0],p=e[1];t[s][c].push([.75*l+.25*f,.75*u+.25*p]),t[s][c].push([.25*l+.75*f,.25*u+.75*p])}r=e,n=s,o=c}),!1),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}o(s,"polygonSmooth"),o(c,"processPolygon"),o(l,"processMultiPolygon");var u=s;t.default=u,t.polygonSmooth=s},40103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},89533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(40103);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},28744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(65062),a=r(15759),s=r(25368),c=r(79438),l=r(3322);function u(e,t){const r=i.getCoords.call(void 0,e),n=i.getCoords.call(void 0,t);let o,u=[],p=[];const d=s.bbox.call(void 0,t);let g=0,y=null;switch(r[0]>d[0]&&r[0]<d[2]&&r[1]>d[1]&&r[1]<d[3]&&(y=l.nearestPoint.call(void 0,e,c.explode.call(void 0,t)),g=y.properties.featureIndex),i.getType.call(void 0,t)){case"Polygon":u=n[0][g],p=n[0][0],null!==y&&y.geometry.coordinates[1]<r[1]&&(p=n[0][g]),o=h(n[0][0],n[0][n[0].length-1],r),[u,p]=f(n[0],r,o,u,p);break;case"MultiPolygon":for(var m=0,v=0,b=0,w=0;w<n[0].length;w++){m=w;for(var _=!1,P=0;P<n[0][w].length;P++){if(v=P,b===g){_=!0;break}b++}if(_)break}u=n[0][m][v],p=n[0][m][v],o=h(n[0][0][0],n[0][0][n[0][0].length-1],r),n.forEach((function(e){[u,p]=f(e[0],r,o,u,p)}))}return a.featureCollection.call(void 0,[a.point.call(void 0,u),a.point.call(void 0,p)])}function f(e,t,r,n,o){for(let i=0;i<e.length;i++){const a=e[i];let s=e[i+1];i===e.length-1&&(s=e[0]);const c=h(a,s,t);r<=0&&c>0?d(t,a,n)||(n=a):r>0&&c<=0&&(p(t,a,o)||(o=a)),r=c}return[n,o]}function p(e,t,r){return h(e,t,r)>0}function d(e,t,r){return h(e,t,r)<0}function h(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}o(u,"polygonTangents"),o(f,"processPolygon"),o(p,"isAbove"),o(d,"isBelow"),o(h,"isLeft");var g=u;t.default=g,t.polygonTangents=u},15759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},65062:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(15759);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},11698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(9829),a=r(93532);function s(e,t={}){const r=a.getGeom.call(void 0,e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),r.type){case"Polygon":return c(r,t);case"MultiPolygon":return l(r,t);default:throw new Error("invalid poly")}}function c(e,t={}){return u(a.getGeom.call(void 0,e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function l(e,t={}){const r=a.getGeom.call(void 0,e).coordinates,n=t.properties?t.properties:"Feature"===e.type?e.properties:{},o=[];return r.forEach((e=>{o.push(u(e,n))})),i.featureCollection.call(void 0,o)}function u(e,t){return e.length>1?i.multiLineString.call(void 0,e,t):i.lineString.call(void 0,e[0],t)}o(s,"polygonToLine"),o(c,"singlePolygonToLine"),o(l,"multiPolygonToLine"),o(u,"coordsToLine");var f=s;t.coordsToLine=u,t.default=f,t.multiPolygonToLine=l,t.polygonToLine=s,t.singlePolygonToLine=c},9829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},93532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(9829);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},67211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97974),a=r(68081);function s(e){return(e>0)-(e<0)||+e}function c(e,t,r){const n=t[0]-e[0],o=t[1]-e[1],i=r[0]-t[0];return s(n*(r[1]-t[1])-i*o)}function l(e,t){const r=e.geometry.coordinates[0].map((e=>e[0])),n=e.geometry.coordinates[0].map((e=>e[1])),o=t.geometry.coordinates[0].map((e=>e[0])),i=t.geometry.coordinates[0].map((e=>e[1]));return Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)}function u(e,t){return t.geometry.coordinates[0].every((t=>a.booleanPointInPolygon.call(void 0,i.point.call(void 0,t),e)))}function f(e,t){return e[0]===t[0]&&e[1]===t[1]}o(s,"mathSign"),o(c,"orientationIndex"),o(l,"envelopeIsEqual"),o(u,"envelopeContains"),o(f,"coordinatesEqual");var p=class e{static buildId(e){return e.join(",")}constructor(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}removeInnerEdge(e){this.innerEdges=this.innerEdges.filter((t=>t.from.id!==e.from.id))}removeOuterEdge(e){this.outerEdges=this.outerEdges.filter((t=>t.to.id!==e.to.id))}addOuterEdge(e){this.outerEdges.push(e),this.outerEdgesSorted=!1}sortOuterEdges(){this.outerEdgesSorted||(this.outerEdges.sort(((e,t)=>{const r=e.to,n=t.to;if(r.coordinates[0]-this.coordinates[0]>=0&&n.coordinates[0]-this.coordinates[0]<0)return 1;if(r.coordinates[0]-this.coordinates[0]<0&&n.coordinates[0]-this.coordinates[0]>=0)return-1;if(r.coordinates[0]-this.coordinates[0]==0&&n.coordinates[0]-this.coordinates[0]==0)return r.coordinates[1]-this.coordinates[1]>=0||n.coordinates[1]-this.coordinates[1]>=0?r.coordinates[1]-n.coordinates[1]:n.coordinates[1]-r.coordinates[1];const o=c(this.coordinates,r.coordinates,n.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-this.coordinates[0],2)+Math.pow(r.coordinates[1]-this.coordinates[1],2)-(Math.pow(n.coordinates[0]-this.coordinates[0],2)+Math.pow(n.coordinates[1]-this.coordinates[1],2))})),this.outerEdgesSorted=!0)}getOuterEdges(){return this.sortOuterEdges(),this.outerEdges}getOuterEdge(e){return this.sortOuterEdges(),this.outerEdges[e]}addInnerEdge(e){this.innerEdges.push(e)}};o(p,"Node");var d=p,h=class e{getSymetric(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric}constructor(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}deleteEdge(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}isEqual(e){return this.from.id===e.from.id&&this.to.id===e.to.id}toString(){return`Edge { ${this.from.id} -> ${this.to.id} }`}toLineString(){return i.lineString.call(void 0,[this.from.coordinates,this.to.coordinates])}compareTo(e){return c(e.from.coordinates,e.to.coordinates,this.to.coordinates)}};o(h,"Edge");var g=h,y=r(50167),m=class{constructor(){this.edges=[],this.polygon=void 0,this.envelope=void 0}push(e){this.edges.push(e),this.polygon=this.envelope=void 0}get(e){return this.edges[e]}get length(){return this.edges.length}forEach(e){this.edges.forEach(e)}map(e){return this.edges.map(e)}some(e){return this.edges.some(e)}isValid(){return!0}isHole(){const e=this.edges.reduce(((e,t,r)=>(t.from.coordinates[1]>this.edges[e].from.coordinates[1]&&(e=r),e)),0),t=(0===e?this.length:e)-1,r=(e+1)%this.length,n=c(this.edges[t].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===n?this.edges[t].from.coordinates[0]>this.edges[r].from.coordinates[0]:n>0}toMultiPoint(){return i.multiPoint.call(void 0,this.edges.map((e=>e.from.coordinates)))}toPolygon(){if(this.polygon)return this.polygon;const e=this.edges.map((e=>e.from.coordinates));return e.push(this.edges[0].from.coordinates),this.polygon=i.polygon.call(void 0,[e])}getEnvelope(){return this.envelope?this.envelope:this.envelope=y.envelope.call(void 0,this.toPolygon())}static findEdgeRingContaining(e,t){const r=e.getEnvelope();let n,o;return t.forEach((t=>{const a=t.getEnvelope();if(o&&(n=o.getEnvelope()),!l(a,r)&&u(a,r)){const r=e.map((e=>e.from.coordinates));let s;for(const e of r)t.some((t=>f(e,t.from.coordinates)))||(s=e);s&&t.inside(i.point.call(void 0,s))&&(o&&!u(n,a)||(o=t))}})),o}inside(e){return a.booleanPointInPolygon.call(void 0,e,this.toPolygon())}};o(m,"EdgeRing");var v=m,b=r(52814),w=r(77195);function _(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error(`Invalid input type '${e.type}'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature`)}o(_,"validateGeoJson");var P=class e{static fromGeoJson(t){_(t);const r=new e;return b.flattenEach.call(void 0,t,(e=>{w.featureOf.call(void 0,e,"LineString","Graph::fromGeoJson"),b.coordReduce.call(void 0,e,((e,t)=>{if(e){const n=r.getNode(e),o=r.getNode(t);r.addEdge(n,o)}return t}))})),r}getNode(e){const t=d.buildId(e);let r=this.nodes[t];return r||(r=this.nodes[t]=new d(e)),r}addEdge(e,t){const r=new g(e,t),n=r.getSymetric();this.edges.push(r),this.edges.push(n)}constructor(){this.edges=[],this.nodes={}}deleteDangles(){Object.keys(this.nodes).map((e=>this.nodes[e])).forEach((e=>this._removeIfDangle(e)))}_removeIfDangle(e){if(e.innerEdges.length<=1){const t=e.getOuterEdges().map((e=>e.to));this.removeNode(e),t.forEach((e=>this._removeIfDangle(e)))}}deleteCutEdges(){this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((e=>{e.label===e.symetric.label&&(this.removeEdge(e.symetric),this.removeEdge(e))}))}_computeNextCWEdges(e){void 0===e?Object.keys(this.nodes).forEach((e=>this._computeNextCWEdges(this.nodes[e]))):e.getOuterEdges().forEach(((t,r)=>{e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=t}))}_computeNextCCWEdges(e,t){const r=e.getOuterEdges();let n,o;for(let e=r.length-1;e>=0;--e){let i,a,s=r[e],c=s.symetric;s.label===t&&(i=s),c.label===t&&(a=c),i&&a&&(a&&(o=a),i&&(o&&(o.next=i,o=void 0),n||(n=i)))}o&&(o.next=n)}_findLabeledEdgeRings(){const e=[];let t=0;return this.edges.forEach((r=>{if(r.label>=0)return;e.push(r);let n=r;do{n.label=t,n=n.next}while(!r.isEqual(n));t++})),e}getEdgeRings(){this._computeNextCWEdges(),this.edges.forEach((e=>{e.label=void 0})),this._findLabeledEdgeRings().forEach((e=>{this._findIntersectionNodes(e).forEach((t=>{this._computeNextCCWEdges(t,e.label)}))}));const e=[];return this.edges.forEach((t=>{t.ring||e.push(this._findEdgeRing(t))})),e}_findIntersectionNodes(e){const t=[];let r=e;do{let n=0;r.from.getOuterEdges().forEach((t=>{t.label===e.label&&++n})),n>1&&t.push(r.from),r=r.next}while(!e.isEqual(r));return t}_findEdgeRing(e){let t=e;const r=new v;do{r.push(t),t.ring=r,t=t.next}while(!e.isEqual(t));return r}removeNode(e){e.getOuterEdges().forEach((e=>this.removeEdge(e))),e.innerEdges.forEach((e=>this.removeEdge(e))),delete this.nodes[e.id]}removeEdge(e){this.edges=this.edges.filter((t=>!t.isEqual(e))),e.deleteEdge()}};o(P,"Graph");var x=P;function O(e){const t=x.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();const r=[],n=[];return t.getEdgeRings().filter((e=>e.isValid())).forEach((e=>{e.isHole()?r.push(e):n.push(e)})),r.forEach((e=>{v.findEdgeRingContaining(e,n)&&n.push(e)})),i.featureCollection.call(void 0,n.map((e=>e.toPolygon())))}o(O,"polygonize");var C=O;t.default=C,t.polygonize=O},97974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},77195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97974);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},52814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(97974);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},74156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(57469),a=r(25368),s=r(6039),c=r(3626),l=r(96313);function u(e,t){const r=(t=t||{}).studyBbox||a.bbox.call(void 0,e),n=t.confidenceLevel||20,o=e.features,u=o.length,h=i.area.call(void 0,s.bboxPolygon.call(void 0,r)),g=Math.sqrt(h/u*2),y=l.squareGrid.call(void 0,r,g,{units:"meters"}).features,m={};for(let e=0;e<y.length;e++)m[e]={box:a.bbox.call(void 0,y[e]),cnt:0};let v=0;for(const e of o)for(const t of Object.keys(m)){const r=m[t].box;if(p(c.getCoord.call(void 0,e),r)){m[t].cnt+=1,v+=1;break}}let b=0;for(const e of Object.keys(m)){const t=m[e].cnt;t>b&&(b=t)}const w=[],_=Object.keys(m).length,P=v/_;let x=0;for(let e=0;e<b+1;e++)x+=Math.exp(-P)*Math.pow(P,e)/d(e),w.push(x);const O=[];let C=0;for(let e=0;e<b+1;e++){for(const t of Object.keys(m))m[t].cnt===e&&(C+=1);const t=C/_;O.push(t)}let S=0;for(let e=0;e<b+1;e++){const t=Math.abs(w[e]-O[e]);t>S&&(S=t)}const E=f[n]/Math.sqrt(_),M={criticalValue:E,isRandom:!0,maxAbsoluteDifference:S,observedDistribution:O};return S>E&&(M.isRandom=!1),M}o(u,"quadratAnalysis");var f={20:1.07275,15:1.13795,10:1.22385,5:1.3581,2:1.51743,1:1.62762};function p(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function d(e){const t=[];function r(e){return 0===e||1===e?1:t[e]>0?t[e]:t[e]=r(e-1)*e}return o(r,"inner"),r(e)}o(p,"inBBox"),o(d,"factorial");var h=u;t.default=h,t.quadratAnalysis=u},57469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(22811),a=r(68137);function s(e){return a.geomReduce.call(void 0,e,((e,t)=>e+c(t)),0)}function c(e){let t,r=0;switch(e.type){case"Polygon":return l(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=l(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function l(e){let t=0;if(e&&e.length>0){t+=Math.abs(p(e[0]));for(let r=1;r<e.length;r++)t-=Math.abs(p(e[r]))}return t}o(s,"area"),o(c,"calculateArea"),o(l,"polygonArea");var u=i.earthRadius*i.earthRadius/2,f=Math.PI/180;function p(e){const t=e.length;if(t<=2)return 0;let r=0,n=0;for(;n<t;){const o=e[n],i=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=o[0]*f,c=i[1]*f;r+=(a[0]*f-s)*Math.sin(c),n++}return r*u}o(p,"ringArea");var d=s;t.area=s,t.default=d},22811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},3626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(22811);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},68137:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(22811);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},47116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(90491);function a(e){return c(e),s(e)}function s(e){return Array.isArray(e)?y(e):e&&e.bbox?y(e.bbox):[h(),g()]}function c(e){null!=e&&(Array.isArray(e)?i.validateBBox.call(void 0,e):null!=e.bbox&&i.validateBBox.call(void 0,e.bbox))}function l(e,t={}){c(t.bbox),null==e&&(e=1);const r=[];for(let n=0;n<e;n++)r.push(i.point.call(void 0,s(t.bbox)));return i.featureCollection.call(void 0,r)}function u(e,t={}){c(t.bbox),null==e&&(e=1),i.isNumber.call(void 0,t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),i.isNumber.call(void 0,t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);const r=[];for(let n=0;n<e;n++){let e=[];const n=[...Array(t.num_vertices+1)].map(Math.random);n.forEach(((e,t,r)=>{r[t]=t>0?e+r[t-1]:e})),n.forEach((r=>{r=2*r*Math.PI/n[n.length-1];const o=Math.random();e.push([o*(t.max_radial_length||10)*Math.sin(r),o*(t.max_radial_length||10)*Math.cos(r)])})),e[e.length-1]=e[0],e=e.map(p(s(t.bbox))),r.push(i.polygon.call(void 0,[e]))}return i.featureCollection.call(void 0,r)}function f(e,t={}){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");const r=t.bbox;c(r);let n=t.num_vertices,o=t.max_length,a=t.max_rotation;null==e&&(e=1),(!i.isNumber.call(void 0,n)||void 0===n||n<2)&&(n=10),i.isNumber.call(void 0,o)&&void 0!==o||(o=1e-4),i.isNumber.call(void 0,a)&&void 0!==a||(a=Math.PI/8);const l=[];for(let t=0;t<e;t++){const e=[s(r)];for(let t=0;t<n-1;t++){const r=(0===t?2*Math.random()*Math.PI:Math.tan((e[t][1]-e[t-1][1])/(e[t][0]-e[t-1][0])))+(Math.random()-.5)*a*2,n=Math.random()*o;e.push([e[t][0]+n*Math.cos(r),e[t][1]+n*Math.sin(r)])}l.push(i.lineString.call(void 0,e))}return i.featureCollection.call(void 0,l)}function p(e){return t=>[t[0]+e[0],t[1]+e[1]]}function d(){return Math.random()-.5}function h(){return 360*d()}function g(){return 180*d()}function y(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}o(a,"randomPosition"),o(s,"randomPositionUnchecked"),o(c,"checkBBox"),o(l,"randomPoint"),o(u,"randomPolygon"),o(f,"randomLineString"),o(p,"vertexToCoordinate"),o(d,"rnd"),o(h,"lon"),o(g,"lat"),o(y,"coordInBBox"),t.randomLineString=f,t.randomPoint=l,t.randomPolygon=u,t.randomPosition=a},90491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},76199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(89358),i=r(7402);function a(e,t,r,n={}){const a=[],s=e[0],c=e[1],l=e[2],u=e[3],f=l-s,p=i.convertLength.call(void 0,t,n.units,"degrees"),d=u-c,h=i.convertLength.call(void 0,r,n.units,"degrees"),g=Math.floor(Math.abs(f)/p),y=Math.floor(Math.abs(d)/h),m=(d-y*h)/2;let v=s+(f-g*p)/2;for(let e=0;e<g;e++){let e=c+m;for(let t=0;t<y;t++){const t=i.polygon.call(void 0,[[[v,e],[v,e+h],[v+p,e+h],[v+p,e],[v,e]]],n.properties);n.mask?o.booleanIntersects.call(void 0,n.mask,t)&&a.push(t):a.push(t),e+=h}v+=p}return i.featureCollection.call(void 0,a)}n(a,"name",{value:"rectangleGrid",configurable:!0});var s=a;t.default=s,t.rectangleGrid=a},7402:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},29216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(7127),a=r(73004),s=r(18557),c=r(33150),l=r(89575);function u(e,t={}){var r,n;if(t=t||{},!l.isObject.call(void 0,t))throw new Error("options is invalid");const o=null!=(r=t.mutate)&&r,a=null!=(n=t.reverse)&&n;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof a)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof o)throw new Error("<mutate> must be a boolean");o||"Point"===e.type||"MultiPoint"===e.type||(e=i.clone.call(void 0,e));const c=[];switch(e.type){case"GeometryCollection":return s.geomEach.call(void 0,e,(function(e){f(e,a)})),e;case"FeatureCollection":return s.featureEach.call(void 0,e,(function(e){const t=f(e,a);s.featureEach.call(void 0,t,(function(e){c.push(e)}))})),l.featureCollection.call(void 0,c)}return f(e,a)}function f(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return s.geomEach.call(void 0,e,(function(e){f(e,t)})),e;case"LineString":return p(c.getCoords.call(void 0,e),t),e;case"Polygon":return d(c.getCoords.call(void 0,e),t),e;case"MultiLineString":return c.getCoords.call(void 0,e).forEach((function(e){p(e,t)})),e;case"MultiPolygon":return c.getCoords.call(void 0,e).forEach((function(e){d(e,t)})),e;case"Point":case"MultiPoint":return e}}function p(e,t){a.booleanClockwise.call(void 0,e)===t&&e.reverse()}function d(e,t){a.booleanClockwise.call(void 0,e[0])!==t&&e[0].reverse();for(let r=1;r<e.length;r++)a.booleanClockwise.call(void 0,e[r])===t&&e[r].reverse()}o(u,"rewind"),o(f,"rewindFeature"),o(p,"rewindLineString"),o(d,"rewindPolygon");var h=u;t.default=h,t.rewind=u},7127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},89575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},33150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(89575);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},18557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(89575);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},48109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(85892);function a(e,t){if(!e)throw new Error("fc is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return i.featureCollection.call(void 0,s(e.features,t))}function s(e,t){for(var r,n,o=e.slice(0),i=e.length,a=i-t;i-- >a;)r=o[n=Math.floor((i+1)*Math.random())],o[n]=o[i],o[i]=r;return o.slice(a)}o(a,"sample"),o(s,"getRandomSubarray");var c=a;t.default=c,t.sample=a},85892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},39377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(37879),a=r(1552),s=r(77532),c=r(47184),l=r(50133);function u(e,t,r,n,o={}){if(o=o||{},!c.isObject.call(void 0,o))throw new Error("options is invalid");const u=o.properties;if(!e)throw new Error("center is required");if(null==r)throw new Error("bearing1 is required");if(null==n)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof o)throw new Error("options must be an object");if(f(r)===f(n))return i.circle.call(void 0,e,t,o);const p=l.getCoords.call(void 0,e),d=a.lineArc.call(void 0,e,t,r,n,o),h=[[p]];return s.coordEach.call(void 0,d,(function(e){h[0].push(e)})),h[0].push(p),c.polygon.call(void 0,h,u)}function f(e){let t=e%360;return t<0&&(t+=360),t}o(u,"sector"),o(f,"convertAngleTo360");var p=u;t.default=p,t.sector=u},47184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},50133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47184);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},77532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(47184);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},88593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25368),a=r(68081),s=r(62970),c=r(39504),l=r(86493),u=r(6039),f=r(73141),p=r(23024);function d(e){for(var t=e,r=[];t.parent;)r.unshift(t),t=t.parent;return r}function h(){return new v((function(e){return e.f}))}o(d,"pathTo"),o(h,"getHeap");var g={search:function(e,t,r,n){var o;e.cleanDirty();var i=(n=n||{}).heuristic||g.heuristics.manhattan,a=null!=(o=n.closest)&&o,s=h(),c=t;for(t.h=i(t,r),s.push(t);s.size()>0;){var l=s.pop();if(l===r)return d(l);l.closed=!0;for(var u=e.neighbors(l),f=0,p=u.length;f<p;++f){var y=u[f];if(!y.closed&&!y.isWall()){var m=l.g+y.getCost(l),v=y.visited;(!v||m<y.g)&&(y.visited=!0,y.parent=l,y.h=y.h||i(y,r),y.g=m,y.f=y.g+y.h,e.markDirty(y),a&&(y.h<c.h||y.h===c.h&&y.g<c.g)&&(c=y),v?s.rescoreElement(y):s.push(y))}}}return a?d(c):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var r=Math.sqrt(2),n=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return 1*(n+o)+(r-2)*Math.min(n,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function y(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var r=0;r<e.length;r++){this.grid[r]=[];for(var n=0,o=e[r];n<o.length;n++){var i=new m(r,n,o[n]);this.grid[r][n]=i,this.nodes.push(i)}}this.init()}function m(e,t,r){this.x=e,this.y=t,this.weight=r}function v(e){this.content=[],this.scoreFunction=e}function b(e,t,r={}){if(r=r||{},!p.isObject.call(void 0,r))throw new Error("options is invalid");let n=r.obstacles||p.featureCollection.call(void 0,[]),o=r.resolution||100;if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(o&&(!p.isNumber.call(void 0,o)||o<=0))throw new Error("options.resolution must be a number, greater than 0");const a=f.getCoord.call(void 0,e),d=f.getCoord.call(void 0,t);if(e=p.point.call(void 0,a),t=p.point.call(void 0,d),"FeatureCollection"===n.type){if(0===n.features.length)return p.lineString.call(void 0,[a,d])}else{if("Polygon"!==n.type)throw new Error("invalid obstacles");n=p.featureCollection.call(void 0,[p.feature.call(void 0,f.getGeom.call(void 0,n))])}const h=n;h.features.push(e),h.features.push(t);const m=i.bbox.call(void 0,c.transformScale.call(void 0,u.bboxPolygon.call(void 0,i.bbox.call(void 0,h)),1.15)),[v,b,_,P]=m,x=s.distance.call(void 0,[v,b],[_,b],r)/o;h.features.pop(),h.features.pop();const O=x/s.distance.call(void 0,[v,b],[_,b],r)*(_-v),C=x/s.distance.call(void 0,[v,b],[v,P],r)*(P-b),S=_-v,E=P-b,M=Math.floor(S/O),j=Math.floor(E/C),k=(S-M*O)/2,T=[],I=[];let F,A,L=1/0,R=1/0,D=P-(E-j*C)/2,B=0;for(;D>=b;){const r=[],o=[];let i=v+k,a=0;for(;i<=_;){const c=p.point.call(void 0,[i,D]),l=w(c,n);r.push(l?0:1),o.push(i+"|"+D);const u=s.distance.call(void 0,c,e);!l&&u<L&&(L=u,F={x:a,y:B});const f=s.distance.call(void 0,c,t);!l&&f<R&&(R=f,A={x:a,y:B}),i+=O,a++}I.push(r),T.push(o),D-=C,B++}const N=new y(I,{diagonal:!0}),z=N.grid[F.y][F.x],G=N.grid[A.y][A.x],V=g.search(N,z,G),q=[a];return V.forEach((function(e){const t=T[e.x][e.y].split("|");q.push([+t[0],+t[1]])})),q.push(d),l.cleanCoords.call(void 0,p.lineString.call(void 0,q))}function w(e,t){for(let r=0;r<t.features.length;r++)if(a.booleanPointInPolygon.call(void 0,e,t.features[r]))return!0;return!1}o(y,"Graph"),y.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)g.cleanNode(this.nodes[e])},y.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)g.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},y.prototype.markDirty=function(e){this.dirtyNodes.push(e)},y.prototype.neighbors=function(e){var t=[],r=e.x,n=e.y,o=this.grid;return o[r-1]&&o[r-1][n]&&t.push(o[r-1][n]),o[r+1]&&o[r+1][n]&&t.push(o[r+1][n]),o[r]&&o[r][n-1]&&t.push(o[r][n-1]),o[r]&&o[r][n+1]&&t.push(o[r][n+1]),this.diagonal&&(o[r-1]&&o[r-1][n-1]&&t.push(o[r-1][n-1]),o[r+1]&&o[r+1][n-1]&&t.push(o[r+1][n-1]),o[r-1]&&o[r-1][n+1]&&t.push(o[r-1][n+1]),o[r+1]&&o[r+1][n+1]&&t.push(o[r+1][n+1])),t},y.prototype.toString=function(){for(var e,t,r,n,o=[],i=this.grid,a=0,s=i.length;a<s;a++){for(e=[],r=0,n=(t=i[a]).length;r<n;r++)e.push(t[r].weight);o.push(e.join(" "))}return o.join("\n")},o(m,"GridNode"),m.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},m.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},m.prototype.isWall=function(){return 0===this.weight},o(v,"BinaryHeap"),v.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),r=this.content.pop();t!==this.content.length-1&&(this.content[t]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var r=(e+1>>1)-1,n=this.content[r];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[r]=t,this.content[e]=n,e=r}},bubbleUp:function(e){for(var t=this.content.length,r=this.content[e],n=this.scoreFunction(r);;){var o,i=e+1<<1,a=i-1,s=null;if(a<t){var c=this.content[a];(o=this.scoreFunction(c))<n&&(s=a)}if(i<t){var l=this.content[i];this.scoreFunction(l)<(null===s?n:o)&&(s=i)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=r,e=s}}},o(b,"shortestPath"),o(w,"isInside");var _=b;t.default=_,t.shortestPath=b},62970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(73141),i=r(23024);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},23024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},73141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(23024);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},68212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(86493),a=r(96491),s=r(42897),c=r(22851);function l(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function u(e,t,r){var n=t[0],o=t[1],i=r[0]-n,a=r[1]-o;if(0!==i||0!==a){var s=((e[0]-n)*i+(e[1]-o)*a)/(i*i+a*a);s>1?(n=r[0],o=r[1]):s>0&&(n+=i*s,o+=a*s)}return(i=e[0]-n)*i+(a=e[1]-o)*a}function f(e,t){for(var r,n=e[0],o=[n],i=1,a=e.length;i<a;i++)l(r=e[i],n)>t&&(o.push(r),n=r);return n!==r&&o.push(r),o}function p(e,t,r,n,o){for(var i,a=n,s=t+1;s<r;s++){var c=u(e[s],e[t],e[r]);c>a&&(i=s,a=c)}a>n&&(i-t>1&&p(e,t,i,n,o),o.push(e[i]),r-i>1&&p(e,i,r,n,o))}function d(e,t){var r=e.length-1,n=[e[0]];return p(e,0,r,t,n),n.push(e[r]),n}function h(e,t,r){if(e.length<=2)return e;var n=void 0!==t?t*t:1;return d(e=r?e:f(e,n),n)}function g(e,t={}){var r,n,o;if(t=null!=t?t:{},!c.isObject.call(void 0,t))throw new Error("options is invalid");const i=null!=(r=t.tolerance)?r:1,l=null!=(n=t.highQuality)&&n,u=null!=(o=t.mutate)&&o;if(!e)throw new Error("geojson is required");if(i&&i<0)throw new Error("invalid tolerance");return!0!==u&&(e=a.clone.call(void 0,e)),s.geomEach.call(void 0,e,(function(e){y(e,i,l)})),e}function y(e,t,r){const n=e.type;if("Point"===n||"MultiPoint"===n)return e;if(i.cleanCoords.call(void 0,e,{mutate:!0}),"GeometryCollection"!==n)switch(n){case"LineString":e.coordinates=h(e.coordinates,t,r);break;case"MultiLineString":e.coordinates=e.coordinates.map((e=>h(e,t,r)));break;case"Polygon":e.coordinates=m(e.coordinates,t,r);break;case"MultiPolygon":e.coordinates=e.coordinates.map((e=>m(e,t,r)))}return e}function m(e,t,r){return e.map((function(e){if(e.length<4)throw new Error("invalid polygon");let n=t,o=h(e,n,r);for(;!v(o);)n-=.01*n,o=h(e,n,r);return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function v(e){return!(e.length<3||3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}o(l,"getSqDist"),o(u,"getSqSegDist"),o(f,"simplifyRadialDist"),o(p,"simplifyDPStep"),o(d,"simplifyDouglasPeucker"),o(h,"simplify"),o(g,"simplify"),o(y,"simplifyGeom"),o(m,"simplifyPolygon"),o(v,"checkValidity");var b=g;t.default=b,t.simplify=g},96491:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},22851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},42897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(22851);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},96313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(76199);function i(e,t,r={}){return o.rectangleGrid.call(void 0,e,t,t,r)}n(i,"name",{value:"squareGrid",configurable:!0});var a=i;t.default=a,t.squareGrid=i},33448:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(57367);function i(e){var t=e[0],r=e[1],n=e[2],i=e[3];if(o.distance.call(void 0,e.slice(0,2),[n,r])>=o.distance.call(void 0,e.slice(0,2),[t,i])){var a=(r+i)/2;return[t,a-(n-t)/2,n,a+(n-t)/2]}var s=(t+n)/2;return[s-(i-r)/2,r,s+(i-r)/2,i]}n(i,"name",{value:"square",configurable:!0});var a=i;t.default=a,t.square=i},57367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(17510),i=r(36431);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},36431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},17510:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(36431);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},15362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(78167),a=r(2316),s=r(25685),c=r(33882),l=r(12949),u=r(61021);function f(e,t){if(t=t||{},!s.isObject.call(void 0,t))throw new Error("options is invalid");var r=t.steps||64,n=t.weight,o=t.properties||{};if(!s.isNumber.call(void 0,r))throw new Error("steps must be a number");if(!s.isObject.call(void 0,o))throw new Error("properties must be a number");var f=i.coordAll.call(void 0,e).length,d=c.centerMean.call(void 0,e,{weight:n}),h=0,g=0,y=0;i.featureEach.call(void 0,e,(function(e){var t=e.properties[n]||1,r=p(a.getCoords.call(void 0,e),a.getCoords.call(void 0,d));h+=Math.pow(r.x,2)*t,g+=Math.pow(r.y,2)*t,y+=r.x*r.y*t}));var m=h-g,v=Math.sqrt(Math.pow(m,2)+4*Math.pow(y,2)),b=2*y,w=Math.atan((m+v)/b),_=180*w/Math.PI,P=0,x=0,O=0;i.featureEach.call(void 0,e,(function(e){var t=e.properties[n]||1,r=p(a.getCoords.call(void 0,e),a.getCoords.call(void 0,d));P+=Math.pow(r.x*Math.cos(w)-r.y*Math.sin(w),2)*t,x+=Math.pow(r.x*Math.sin(w)+r.y*Math.cos(w),2)*t,O+=t}));var C=Math.sqrt(2*P/O),S=Math.sqrt(2*x/O),E=u.ellipse.call(void 0,d,C,S,{units:"degrees",angle:_,steps:r,properties:o}),M=l.pointsWithinPolygon.call(void 0,e,s.featureCollection.call(void 0,[E])),j={meanCenterCoordinates:a.getCoords.call(void 0,d),semiMajorAxis:C,semiMinorAxis:S,numberOfFeatures:f,angle:_,percentageWithinEllipse:100*i.coordAll.call(void 0,M).length/f};return E.properties.standardDeviationalEllipse=j,E}function p(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}o(f,"standardDeviationalEllipse"),o(p,"getDeviations");var d=f;t.default=d,t.standardDeviationalEllipse=f},25685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},2316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25685);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},78167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(25685);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},30287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(68081),i=r(74618),a=r(27618);function s(e,t,r,n){return e=i.clone.call(void 0,e),t=i.clone.call(void 0,t),a.featureEach.call(void 0,e,(function(e){e.properties||(e.properties={}),a.featureEach.call(void 0,t,(function(t){e.properties&&t.properties&&void 0===e.properties[n]&&o.booleanPointInPolygon.call(void 0,e,t)&&(e.properties[n]=t.properties[r])}))})),e}n(s,"name",{value:"tag",configurable:!0});var c=s;t.default=c,t.tag=s},74618:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},73170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},27618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(73170);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},26603:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(66570))&&n.__esModule?n:{default:n},s=r(65526);function c(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=l(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(l(e))})),t}function l(e){var t=u(e),r=a.default.call(void 0,t.vertices,t.holes,2),n=[],o=[];r.forEach((function(e,n){var i=r[n];o.push([t.vertices[2*i],t.vertices[2*i+1]])}));for(var i=0;i<o.length;i+=3){var c=o.slice(i,i+3);c.push(o[i]),n.push(s.polygon.call(void 0,[c]))}return n}function u(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[o][i][a]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r}i(c,"tesselate"),i(l,"processPolygon"),i(u,"flattenCoords");var f=c;t.default=f,t.tesselate=c},65526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},15492:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(72275);function a(e,t){let r=!1;return i.featureCollection.call(void 0,f(e.features.map((e=>{const n={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?n.z=e.properties[t]:3===e.geometry.coordinates.length&&(r=!0,n.z=e.geometry.coordinates[2]),n}))).map((e=>{const t=[e.a.x,e.a.y],n=[e.b.x,e.b.y],o=[e.c.x,e.c.y];let a={};return r?(t.push(e.a.z),n.push(e.b.z),o.push(e.c.z)):a={a:e.a.z,b:e.b.z,c:e.c.z},i.polygon.call(void 0,[[t,n,o,t]],a)})))}o(a,"tin");var s=class{constructor(e,t,r){this.a=e,this.b=t,this.c=r;const n=t.x-e.x,o=t.y-e.y,i=r.x-e.x,a=r.y-e.y,s=n*(e.x+t.x)+o*(e.y+t.y),c=i*(e.x+r.x)+a*(e.y+r.y),l=2*(n*(r.y-t.y)-o*(r.x-t.x));let u,f;this.x=(a*s-o*c)/l,this.y=(n*c-i*s)/l,u=this.x-e.x,f=this.y-e.y,this.r=u*u+f*f}};o(s,"Triangle");var c=s;function l(e,t){return t.x-e.x}function u(e){let t,r,n,o,i,a=e.length;e:for(;a;)for(r=e[--a],t=e[--a],n=a;n;)if(i=e[--n],o=e[--n],t===o&&r===i||t===i&&r===o){e.splice(a,2),e.splice(n,2),a-=2;continue e}}function f(e){if(e.length<3)return[];e.sort(l);let t=e.length-1;const r=e[t].x,n=e[0].x;let o,i,a,s,f,p,d=e[t].y,h=d;for(;t--;)e[t].y<d&&(d=e[t].y),e[t].y>h&&(h=e[t].y);let g=n-r,y=h-d;const m=g>y?g:y,v=.5*(n+r),b=.5*(h+d),w=[new c({__sentinel:!0,x:v-20*m,y:b-m},{__sentinel:!0,x:v,y:b+20*m},{__sentinel:!0,x:v+20*m,y:b-m})],_=[],P=[];let x;for(t=e.length;t--;){for(P.length=0,x=w.length;x--;)g=e[t].x-w[x].x,g>0&&g*g>w[x].r?(_.push(w[x]),w.splice(x,1)):(y=e[t].y-w[x].y,g*g+y*y>w[x].r||(P.push(w[x].a,w[x].b,w[x].b,w[x].c,w[x].c,w[x].a),w.splice(x,1)));for(u(P),x=P.length;x;)i=P[--x],o=P[--x],a=e[t],s=i.x-o.x,f=i.y-o.y,p=2*(s*(a.y-i.y)-f*(a.x-i.x)),Math.abs(p)>1e-12&&w.push(new c(o,i,a))}for(Array.prototype.push.apply(_,w),t=_.length;t--;)(_[t].a.__sentinel||_[t].b.__sentinel||_[t].c.__sentinel)&&_.splice(t,1);return _}o(l,"byX"),o(u,"dedup"),o(f,"triangulate");var p=a;t.default=p,t.tin=a},72275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},56183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(62831),i=r(48098),a=r(91277),s=r(40940),c=r(30578),l=r(82922),u=r(43559),f=r(17946);function p(e,t,r){if(r=r||{},!f.isObject.call(void 0,r))throw new Error("options is invalid");var n=r.pivot,p=r.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(n||(n=o.centroid.call(void 0,e)),!1!==p&&void 0!==p||(e=c.clone.call(void 0,e)),l.coordEach.call(void 0,e,(function(e){var r=i.rhumbBearing.call(void 0,n,e)+t,o=a.rhumbDistance.call(void 0,n,e),c=u.getCoords.call(void 0,s.rhumbDestination.call(void 0,n,o,r));e[0]=c[0],e[1]=c[1]}))),e}n(p,"name",{value:"transformRotate",configurable:!0});var d=p;t.default=d,t.transformRotate=p},62831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(17946),i=r(82922);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},30578:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},17946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},43559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(17946);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},82922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(17946);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},48098:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(17946),a=r(43559);function s(e,t,r={}){let n;return n=r.final?c(a.getCoord.call(void 0,t),a.getCoord.call(void 0,e)):c(a.getCoord.call(void 0,e),a.getCoord.call(void 0,t)),n>180?-(360-n):n}function c(e,t){const r=i.degreesToRadians.call(void 0,e[1]),n=i.degreesToRadians.call(void 0,t[1]);let o=i.degreesToRadians.call(void 0,t[0]-e[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);const a=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(o,a);return(i.radiansToDegrees.call(void 0,s)+360)%360}o(s,"rhumbBearing"),o(c,"calculateRhumbBearing");var l=s;t.default=l,t.rhumbBearing=s},40940:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(17946),a=r(43559);function s(e,t,r,n={}){const o=t<0;let s=i.convertLength.call(void 0,Math.abs(t),n.units,"meters");o&&(s=-Math.abs(s));const l=a.getCoord.call(void 0,e),u=c(l,s,r);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i.point.call(void 0,u,n.properties)}function c(e,t,r,n){const o=t/(n=void 0===n?i.earthRadius:Number(n)),a=e[0]*Math.PI/180,s=i.degreesToRadians.call(void 0,e[1]),c=i.degreesToRadians.call(void 0,r),l=o*Math.cos(c);let u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);const f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?l/f:Math.cos(s);return[(180*(a+o*Math.sin(c)/p)/Math.PI+540)%360-180,180*u/Math.PI]}o(s,"rhumbDestination"),o(c,"calculateRhumbDestination");var l=s;t.default=l,t.rhumbDestination=s},91277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(17946),a=r(43559);function s(e,t,r={}){const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t);o[0]+=o[0]-n[0]>180?-360:n[0]-o[0]>180?360:0;const s=c(n,o);return i.convertLength.call(void 0,s,"meters",r.units)}function c(e,t,r){const n=r=void 0===r?i.earthRadius:Number(r),o=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-o;let c=Math.abs(t[0]-e[0])*Math.PI/180;c>Math.PI&&(c-=2*Math.PI);const l=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),u=Math.abs(l)>1e-11?s/l:Math.cos(o);return Math.sqrt(s*s+u*u*c*c)*n}o(s,"rhumbDistance"),o(c,"calculateRhumbDistance");var l=s;t.default=l,t.rhumbDistance=s},39504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(41191),a=r(38622),s=r(21916),c=r(25368),l=r(82795),u=r(47830),f=r(83545),p=r(18445),d=r(24055),h=r(40270);function g(e,t,r){if(r=r||{},!d.isObject.call(void 0,r))throw new Error("options is invalid");var n=r.origin,o=r.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||t<=0)throw new Error("invalid factor");var a=Array.isArray(n)||"object"==typeof n;return!0!==o&&(e=i.clone.call(void 0,e)),"FeatureCollection"!==e.type||a?y(e,t,n):(p.featureEach.call(void 0,e,(function(r,o){e.features[o]=y(r,t,n)})),e)}function y(e,t,r){var n="Point"===h.getType.call(void 0,e);return r=m(e,r),1===t||n||(p.coordEach.call(void 0,e,(function(e){var n=u.rhumbDistance.call(void 0,r,e),o=l.rhumbBearing.call(void 0,r,e),i=n*t,a=h.getCoords.call(void 0,f.rhumbDestination.call(void 0,r,i,o));e[0]=a[0],e[1]=a[1],3===e.length&&(e[2]*=t)})),delete e.bbox),e}function m(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return h.getCoord.call(void 0,t);var r=e.bbox?e.bbox:c.bbox.call(void 0,e,{recalculate:!0}),n=r[0],o=r[1],i=r[2],l=r[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return d.point.call(void 0,[n,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return d.point.call(void 0,[i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return d.point.call(void 0,[n,l]);case"ne":case"northeast":case"eastnorth":case"topright":return d.point.call(void 0,[i,l]);case"center":return a.center.call(void 0,e);case void 0:case null:case"centroid":return s.centroid.call(void 0,e);default:throw new Error("invalid origin")}}o(g,"transformScale"),o(y,"scale"),o(m,"defineOrigin");var v=g;t.default=v,t.transformScale=g},21916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(24055),i=r(18445);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},41191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},24055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},40270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24055);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},18445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24055);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},82795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24055),a=r(40270);function s(e,t,r={}){let n;return n=r.final?c(a.getCoord.call(void 0,t),a.getCoord.call(void 0,e)):c(a.getCoord.call(void 0,e),a.getCoord.call(void 0,t)),n>180?-(360-n):n}function c(e,t){const r=i.degreesToRadians.call(void 0,e[1]),n=i.degreesToRadians.call(void 0,t[1]);let o=i.degreesToRadians.call(void 0,t[0]-e[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);const a=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(o,a);return(i.radiansToDegrees.call(void 0,s)+360)%360}o(s,"rhumbBearing"),o(c,"calculateRhumbBearing");var l=s;t.default=l,t.rhumbBearing=s},83545:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24055),a=r(40270);function s(e,t,r,n={}){const o=t<0;let s=i.convertLength.call(void 0,Math.abs(t),n.units,"meters");o&&(s=-Math.abs(s));const l=a.getCoord.call(void 0,e),u=c(l,s,r);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i.point.call(void 0,u,n.properties)}function c(e,t,r,n){const o=t/(n=void 0===n?i.earthRadius:Number(n)),a=e[0]*Math.PI/180,s=i.degreesToRadians.call(void 0,e[1]),c=i.degreesToRadians.call(void 0,r),l=o*Math.cos(c);let u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);const f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?l/f:Math.cos(s);return[(180*(a+o*Math.sin(c)/p)/Math.PI+540)%360-180,180*u/Math.PI]}o(s,"rhumbDestination"),o(c,"calculateRhumbDestination");var l=s;t.default=l,t.rhumbDestination=s},47830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24055),a=r(40270);function s(e,t,r={}){const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t);o[0]+=o[0]-n[0]>180?-360:n[0]-o[0]>180?360:0;const s=c(n,o);return i.convertLength.call(void 0,s,"meters",r.units)}function c(e,t,r){const n=r=void 0===r?i.earthRadius:Number(r),o=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-o;let c=Math.abs(t[0]-e[0])*Math.PI/180;c>Math.PI&&(c-=2*Math.PI);const l=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),u=Math.abs(l)>1e-11?s/l:Math.cos(o);return Math.sqrt(s*s+u*u*c*c)*n}o(s,"rhumbDistance"),o(c,"calculateRhumbDistance");var l=s;t.default=l,t.rhumbDistance=s},52580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(73505),i=r(70899),a=r(7618),s=r(84987),c=r(28269);function l(e,t,r,n){if(n=n||{},!i.isObject.call(void 0,n))throw new Error("options is invalid");var l=n.units,u=n.zTranslation,f=n.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(u&&"number"!=typeof u&&isNaN(u))throw new Error("zTranslation is not a number");if(u=void 0!==u?u:0,0===t&&0===u)return e;if(null==r||isNaN(r))throw new Error("direction is required");return t<0&&(t=-t,r+=180),!1!==f&&void 0!==f||(e=s.clone.call(void 0,e)),o.coordEach.call(void 0,e,(function(e){var n=a.getCoords.call(void 0,c.rhumbDestination.call(void 0,e,t,r,{units:l}));e[0]=n[0],e[1]=n[1],u&&3===e.length&&(e[2]+=u)})),e}n(l,"name",{value:"transformTranslate",configurable:!0});var u=l;t.default=u,t.transformTranslate=l},84987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},70899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},7618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(70899);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},73505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(70899);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},28269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(70899),a=r(7618);function s(e,t,r,n={}){const o=t<0;let s=i.convertLength.call(void 0,Math.abs(t),n.units,"meters");o&&(s=-Math.abs(s));const l=a.getCoord.call(void 0,e),u=c(l,s,r);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i.point.call(void 0,u,n.properties)}function c(e,t,r,n){const o=t/(n=void 0===n?i.earthRadius:Number(n)),a=e[0]*Math.PI/180,s=i.degreesToRadians.call(void 0,e[1]),c=i.degreesToRadians.call(void 0,r),l=o*Math.cos(c);let u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);const f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?l/f:Math.cos(s);return[(180*(a+o*Math.sin(c)/p)/Math.PI+540)%360-180,180*u/Math.PI]}o(s,"rhumbDestination"),o(c,"calculateRhumbDestination");var l=s;t.default=l,t.rhumbDestination=s},34416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(68207),i=r(74),a=r(96535);function s(e,t,r={}){for(var n=[],s=t/o.distance.call(void 0,[e[0],e[1]],[e[2],e[1]],r)*(e[2]-e[0]),c=t/o.distance.call(void 0,[e[0],e[1]],[e[0],e[3]],r)*(e[3]-e[1]),l=0,u=e[0];u<=e[2];){for(var f=0,p=e[1];p<=e[3];){var d=null,h=null;l%2==0&&f%2==0?(d=a.polygon.call(void 0,[[[u,p],[u,p+c],[u+s,p],[u,p]]],r.properties),h=a.polygon.call(void 0,[[[u,p+c],[u+s,p+c],[u+s,p],[u,p+c]]],r.properties)):l%2==0&&f%2==1?(d=a.polygon.call(void 0,[[[u,p],[u+s,p+c],[u+s,p],[u,p]]],r.properties),h=a.polygon.call(void 0,[[[u,p],[u,p+c],[u+s,p+c],[u,p]]],r.properties)):f%2==0&&l%2==1?(d=a.polygon.call(void 0,[[[u,p],[u,p+c],[u+s,p+c],[u,p]]],r.properties),h=a.polygon.call(void 0,[[[u,p],[u+s,p+c],[u+s,p],[u,p]]],r.properties)):f%2==1&&l%2==1&&(d=a.polygon.call(void 0,[[[u,p],[u,p+c],[u+s,p],[u,p]]],r.properties),h=a.polygon.call(void 0,[[[u,p+c],[u+s,p+c],[u+s,p],[u,p+c]]],r.properties)),r.mask?(i.intersect.call(void 0,a.featureCollection.call(void 0,[r.mask,d]))&&n.push(d),i.intersect.call(void 0,a.featureCollection.call(void 0,[r.mask,h]))&&n.push(h)):(n.push(d),n.push(h)),p+=c,f++}l++,u+=s}return a.featureCollection.call(void 0,n)}n(s,"name",{value:"triangleGrid",configurable:!0});var c=s;t.default=c,t.triangleGrid=s},68207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(94670),i=r(96535);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},96535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},94670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(96535);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},23813:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(13376),a=r(17148);function s(e,t){if(t=null!=t?t:{},!a.isObject.call(void 0,t))throw new Error("options is invalid");var r=t.precision,n=t.coordinates,o=t.mutate;if(r=null==r||isNaN(r)?6:r,n=null==n||isNaN(n)?3:n,!e)throw new Error("<geojson> is required");if("number"!=typeof r)throw new Error("<precision> must be a number");if("number"!=typeof n)throw new Error("<coordinates> must be a number");!1!==o&&void 0!==o||(e=JSON.parse(JSON.stringify(e)));var s=Math.pow(10,r);return i.coordEach.call(void 0,e,(function(e){c(e,s,n)})),e}function c(e,t,r){e.length>r&&e.splice(r,e.length);for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]*t)/t;return e}o(s,"truncate"),o(c,"truncateCoords");var l=s;t.default=l,t.truncate=s},17148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},13376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(17148);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},39752:(e,t,r)=>{"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){Object.keys(e).filter((e=>"default"!==e&&"__esModule"!==e)).forEach((r=>{t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>e[r]})}))}Object.defineProperty(t,"__esModule",{value:!0});var i=r(21527),a=r(65728),s=r(33641),c=r(25368),l=r(13799),u=r(6039),f=r(15980),p=r(33261),d=r(73004),h=r(38419),g=r(15989),y=r(66738),m=r(78320),v=r(69702),b=r(89358),w=r(9421),_=r(85839),P=r(68081),x=r(54799),O=r(81897),C=r(23592),S=r(81087),E=r(36593),M=r(38622),j=r(33882),k=r(8365),T=r(93084),I=r(43860),F=r(37879),A=r(86493);o(r(53487));var L=r(10036),R=n(L);o(L);var D=r(82878),B=r(8120),N=r(60537),z=r(98758),G=r(21474),V=r(57375),q=r(23566),U=r(84136),H=r(46968),W=r(24471),J=r(82337),Y=r(61021),X=r(50167),Z=r(79438),$=r(77169),K=r(72248),Q=r(22569),ee=r(25615),te=r(43759),re=n(te);o(te);var ne=r(62871),oe=r(58712),ie=r(74),ae=r(76614),se=n(ae);o(ae);var ce=r(90404),le=r(811),ue=r(46067),fe=r(32916),pe=r(1552),de=r(46897),he=r(36686),ge=r(27265),ye=r(92655),me=r(56422),ve=r(11678),be=r(17394),we=r(7364),_e=r(93856),Pe=r(72767),xe=r(72005),Oe=n(xe);o(xe);var Ce=r(39419),Se=r(72091);o(r(36303));var Ee=r(3322),Me=r(98708),je=r(41377),ke=r(33255),Te=r(72278),Ie=r(84704),Fe=r(12949),Ae=r(34559),Le=r(67211),Re=r(1856),De=r(28744),Be=r(11698),Ne=r(74717),ze=n(Ne);o(Ne),o(r(74156));var Ge=r(47116),Ve=n(Ge);o(Ge);var qe=r(76199),Ue=r(29216),He=r(75827),We=r(51409),Je=r(15310),Ye=r(48109),Xe=r(39377),Ze=r(88593),$e=r(68212),Ke=r(33448),Qe=r(96313),et=r(15362),tt=r(30287),rt=r(26603),nt=r(15492),ot=r(56183),it=r(39504),at=r(52580),st=r(34416),ct=r(23813),lt=r(36112),ut=r(16100),ft=r(57805);t.along=i.along,t.angle=a.angle,t.area=s.area,t.bbox=c.bbox,t.bboxClip=l.bboxClip,t.bboxPolygon=u.bboxPolygon,t.bearing=f.bearing,t.bezierSpline=p.bezierSpline,t.booleanClockwise=d.booleanClockwise,t.booleanConcave=h.booleanConcave,t.booleanContains=g.booleanContains,t.booleanCrosses=y.booleanCrosses,t.booleanDisjoint=m.booleanDisjoint,t.booleanEqual=v.booleanEqual,t.booleanIntersects=b.booleanIntersects,t.booleanOverlap=w.booleanOverlap,t.booleanParallel=_.booleanParallel,t.booleanPointInPolygon=P.booleanPointInPolygon,t.booleanPointOnLine=x.booleanPointOnLine,t.booleanTouches=O.booleanTouches,t.booleanValid=C.booleanValid,t.booleanWithin=S.booleanWithin,t.buffer=E.buffer,t.center=M.center,t.centerMean=j.centerMean,t.centerMedian=k.centerMedian,t.centerOfMass=T.centerOfMass,t.centroid=I.centroid,t.circle=F.circle,t.cleanCoords=A.cleanCoords,t.clusters=R,t.clustersDbscan=D.clustersDbscan,t.clustersKmeans=B.clustersKmeans,t.collect=N.collect,t.combine=z.combine,t.concave=G.concave,t.convex=V.convex,t.destination=q.destination,t.difference=U.difference,t.dissolve=H.dissolve,t.distance=W.distance,t.distanceWeight=J.distanceWeight,t.ellipse=Y.ellipse,t.envelope=X.envelope,t.explode=Z.explode,t.flatten=$.flatten,t.flip=K.flip,t.geojsonRbush=Q.geojsonRbush,t.greatCircle=ee.greatCircle,t.helpers=re,t.hexGrid=ne.hexGrid,t.interpolate=oe.interpolate,t.intersect=ie.intersect,t.invariant=se,t.isobands=ce.isobands,t.isolines=le.isolines,t.kinks=ue.kinks,t.length=fe.length,t.lineArc=pe.lineArc,t.lineChunk=de.lineChunk,t.lineIntersect=he.lineIntersect,t.lineOffset=ge.lineOffset,t.lineOverlap=ye.lineOverlap,t.lineSegment=me.lineSegment,t.lineSlice=ve.lineSlice,t.lineSliceAlong=be.lineSliceAlong,t.lineSplit=we.lineSplit,t.lineToPolygon=_e.lineToPolygon,t.mask=Pe.mask,t.meta=Oe,t.midpoint=Ce.midpoint,t.moranIndex=Se.moranIndex,t.nearestPoint=Ee.nearestPoint,t.nearestPointOnLine=Me.nearestPointOnLine,t.nearestPointToLine=je.nearestPointToLine,t.planepoint=ke.planepoint,t.pointGrid=Te.pointGrid,t.pointOnFeature=Ie.pointOnFeature,t.pointToLineDistance=Ae.pointToLineDistance,t.pointsWithinPolygon=Fe.pointsWithinPolygon,t.polygonSmooth=Re.polygonSmooth,t.polygonTangents=De.polygonTangents,t.polygonToLine=Be.polygonToLine,t.polygonize=Le.polygonize,t.projection=ze,t.random=Ve,t.rectangleGrid=qe.rectangleGrid,t.rewind=Ue.rewind,t.rhumbBearing=He.rhumbBearing,t.rhumbDestination=We.rhumbDestination,t.rhumbDistance=Je.rhumbDistance,t.sample=Ye.sample,t.sector=Xe.sector,t.shortestPath=Ze.shortestPath,t.simplify=$e.simplify,t.square=Ke.square,t.squareGrid=Qe.squareGrid,t.standardDeviationalEllipse=et.standardDeviationalEllipse,t.tag=tt.tag,t.tesselate=rt.tesselate,t.tin=nt.tin,t.transformRotate=ot.transformRotate,t.transformScale=it.transformScale,t.transformTranslate=at.transformTranslate,t.triangleGrid=st.triangleGrid,t.truncate=ct.truncate,t.union=lt.union,t.unkinkPolygon=ut.unkinkPolygon,t.voronoi=ft.voronoi},21527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(15980),i=r(23566),a=r(24471),s=r(43759),c=r(76614);function l(e,t,r={}){const n=c.getGeom.call(void 0,e).coordinates;let l=0;for(let e=0;e<n.length&&!(t>=l&&e===n.length-1);e++){if(l>=t){const a=t-l;if(a){const t=o.bearing.call(void 0,n[e],n[e-1])-180;return i.destination.call(void 0,n[e],a,t,r)}return s.point.call(void 0,n[e])}l+=a.distance.call(void 0,n[e],n[e+1],r)}return s.point.call(void 0,n[n.length-1])}n(l,"name",{value:"along",configurable:!0});var u=l;t.along=l,t.default=u},33641:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(72005);function s(e){return a.geomReduce.call(void 0,e,((e,t)=>e+c(t)),0)}function c(e){let t,r=0;switch(e.type){case"Polygon":return l(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=l(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function l(e){let t=0;if(e&&e.length>0){t+=Math.abs(p(e[0]));for(let r=1;r<e.length;r++)t-=Math.abs(p(e[r]))}return t}o(s,"area"),o(c,"calculateArea"),o(l,"polygonArea");var u=i.earthRadius*i.earthRadius/2,f=Math.PI/180;function p(e){const t=e.length;if(t<=2)return 0;let r=0,n=0;for(;n<t;){const o=e[n],i=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=o[0]*f,c=i[1]*f;r+=(a[0]*f-s)*Math.sin(c),n++}return r*u}o(p,"ringArea");var d=s;t.area=s,t.default=d},15980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(76614);function s(e,t,r={}){if(!0===r.final)return c(e,t);const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,n[0]),l=i.degreesToRadians.call(void 0,o[0]),u=i.degreesToRadians.call(void 0,n[1]),f=i.degreesToRadians.call(void 0,o[1]),p=Math.sin(l-s)*Math.cos(f),d=Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(l-s);return i.radiansToDegrees.call(void 0,Math.atan2(p,d))}function c(e,t){let r=s(t,e);return r=(r+180)%360,r}o(s,"bearing"),o(c,"calculateFinalBearing");var l=s;t.bearing=s,t.default=l},33261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(76614),s=class{constructor(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(let e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(let e=0;e<this.length-1;e++){const t=this.points[e],r=this.points[e+1];this.centers.push({x:(t.x+r.x)/2,y:(t.y+r.y)/2,z:(t.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(let e=0;e<this.centers.length-1;e++){const t=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,r=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,n=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+t),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+r),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+n)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+t),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+r),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+n)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}cacheSteps(e){const t=[];let r=this.pos(0);t.push(0);for(let n=0;n<this.duration;n+=10){const o=this.pos(n);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>e&&(t.push(n),r=o)}return t}vector(e){const t=this.pos(e+10),r=this.pos(e-10);return{angle:180*Math.atan2(t.y-r.y,t.x-r.x)/3.14,speed:Math.sqrt((r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y)+(r.z-t.z)*(r.z-t.z))}}pos(e){let t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);const r=t/this.duration;if(r>=1)return this.points[this.length-1];const n=Math.floor((this.points.length-1)*r);return l((this.length-1)*r-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])}};o(s,"Spline");var c=s;function l(e,t,r,n,o){const i=u(e);return{x:o.x*i[0]+n.x*i[1]+r.x*i[2]+t.x*i[3],y:o.y*i[0]+n.y*i[1]+r.y*i[2]+t.y*i[3],z:o.z*i[0]+n.z*i[1]+r.z*i[2]+t.z*i[3]}}function u(e){const t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}function f(e,t={}){const r=t.resolution||1e4,n=t.sharpness||.85,s=[],l=a.getGeom.call(void 0,e).coordinates.map((e=>({x:e[0],y:e[1]}))),u=new c({duration:r,points:l,sharpness:n}),f=o((e=>{var t=u.pos(e);Math.floor(e/100)%2==0&&s.push([t.x,t.y])}),"pushCoord");for(var p=0;p<u.duration;p+=10)f(p);return f(u.duration),i.lineString.call(void 0,s,t.properties)}o(l,"bezier"),o(u,"B"),o(f,"bezierSpline");var p=f;t.bezierSpline=f,t.default=p},93084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(57375),i=r(43860),a=r(43759),s=r(76614),c=r(72005);function l(e,t={}){switch(s.getType.call(void 0,e)){case"Point":return a.point.call(void 0,s.getCoord.call(void 0,e),t.properties);case"Polygon":var r=[];c.coordEach.call(void 0,e,(function(e){r.push(e)}));var n,u,f,p,d,h,g,y,m=i.centroid.call(void 0,e,{properties:t.properties}),v=m.geometry.coordinates,b=0,w=0,_=0,P=r.map((function(e){return[e[0]-v[0],e[1]-v[1]]}));for(n=0;n<r.length-1;n++)p=(u=P[n])[0],h=u[1],d=(f=P[n+1])[0],_+=y=p*(g=f[1])-d*h,b+=(p+d)*y,w+=(h+g)*y;if(0===_)return m;var x=1/(.5*_*6);return a.point.call(void 0,[v[0]+x*b,v[1]+x*w],t.properties);default:var O=o.convex.call(void 0,e);return O?l(O,{properties:t.properties}):i.centroid.call(void 0,e,{properties:t.properties})}}n(l,"name",{value:"centerOfMass",configurable:!0});var u=l;t.centerOfMass=l,t.default=u},43860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(43759),i=r(72005);function a(e,t={}){let r=0,n=0,a=0;return i.coordEach.call(void 0,e,(function(e){r+=e[0],n+=e[1],a++}),!0),o.point.call(void 0,[r/a,n/a],t.properties)}n(a,"name",{value:"centroid",configurable:!0});var s=a;t.centroid=a,t.default=s},53487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},57375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(43759),a=r(72005),s=(n=r(71582))&&n.__esModule?n:{default:n};function c(e,t={}){t.concavity=t.concavity||1/0;const r=[];if(a.coordEach.call(void 0,e,(e=>{r.push([e[0],e[1]])})),!r.length)return null;const n=s.default.call(void 0,r,t.concavity);return n.length>3?i.polygon.call(void 0,[n]):null}o(c,"name",{value:"convex",configurable:!0});var l=c;t.convex=c,t.default=l},23566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(43759),i=r(76614);function a(e,t,r,n={}){const a=i.getCoord.call(void 0,e),s=o.degreesToRadians.call(void 0,a[0]),c=o.degreesToRadians.call(void 0,a[1]),l=o.degreesToRadians.call(void 0,r),u=o.lengthToRadians.call(void 0,t,n.units),f=Math.asin(Math.sin(c)*Math.cos(u)+Math.cos(c)*Math.sin(u)*Math.cos(l)),p=s+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(c),Math.cos(u)-Math.sin(c)*Math.sin(f)),d=o.radiansToDegrees.call(void 0,p),h=o.radiansToDegrees.call(void 0,f);return o.point.call(void 0,[d,h],n.properties)}n(a,"name",{value:"destination",configurable:!0});var s=a;t.default=s,t.destination=a},24471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(76614),i=r(43759);function a(e,t,r={}){var n=o.getCoord.call(void 0,e),a=o.getCoord.call(void 0,t),s=i.degreesToRadians.call(void 0,a[1]-n[1]),c=i.degreesToRadians.call(void 0,a[0]-n[0]),l=i.degreesToRadians.call(void 0,n[1]),u=i.degreesToRadians.call(void 0,a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(u);return i.radiansToLength.call(void 0,2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}n(a,"name",{value:"distance",configurable:!0});var s=a;t.default=s,t.distance=a},43759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},76614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},32916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=r(24471),i=r(72005);function a(e,t={}){return i.segmentReduce.call(void 0,e,((e,r)=>{const n=r.geometry.coordinates;return e+o.distance.call(void 0,n[0],n[1],t)}),0)}n(a,"name",{value:"length",configurable:!0});var s=a;t.default=s,t.length=a},36686:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=r(43759),a=((n=r(23494))&&n.__esModule?n:{default:n}).default;function s(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let s=[];"FeatureCollection"===e.type?s=s.concat(e.features):"Feature"===e.type?s.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||s.push(i.feature.call(void 0,e)),"FeatureCollection"===t.type?s=s.concat(t.features):"Feature"===t.type?s.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||s.push(i.feature.call(void 0,t));const c=a(i.featureCollection.call(void 0,s),o);let l=[];if(n){const e={};c.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,l.push(t))}))}else l=c;return i.featureCollection.call(void 0,l.map((e=>i.point.call(void 0,e))))}o(s,"name",{value:"lineIntersect",configurable:!0});var c=s;t.default=c,t.lineIntersect=s},56422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(76614),s=r(72005);function c(e){if(!e)throw new Error("geojson is required");const t=[];return s.flattenEach.call(void 0,e,(e=>{l(e,t)})),i.featureCollection.call(void 0,t)}function l(e,t){let r=[];const n=e.geometry;if(null!==n){switch(n.type){case"Polygon":r=a.getCoords.call(void 0,n);break;case"LineString":r=[a.getCoords.call(void 0,n)]}r.forEach((r=>{u(r,e.properties).forEach((e=>{e.id=t.length,t.push(e)}))}))}}function u(e,t){const r=[];return e.reduce(((e,n)=>{const o=i.lineString.call(void 0,[e,n],t);return o.bbox=f(e,n),r.push(o),n})),r}function f(e,t){const r=e[0],n=e[1],o=t[0],i=t[1];return[r<o?r:o,n<i?n:i,r>o?r:o,n>i?n:i]}o(c,"lineSegment"),o(l,"lineSegmentFeature"),o(u,"createSegments"),o(f,"bbox");var p=c;t.default=p,t.lineSegment=c},72005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},98708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&l(e,r,t[r]);return e},f=(e,t)=>o(e,i(t)),p=r(15980),d=r(24471),h=r(23566),g=r(36686),y=r(72005),m=r(43759),v=r(76614);function b(e,t,r={}){if(!e||!t)throw new Error("lines and pt are required arguments");let n=m.point.call(void 0,[1/0,1/0],{dist:1/0,index:-1,location:-1}),o=0;return y.flattenEach.call(void 0,e,(function(e){const i=v.getCoords.call(void 0,e);for(let e=0;e<i.length-1;e++){const a=m.point.call(void 0,i[e]);a.properties.dist=d.distance.call(void 0,t,a,r);const s=m.point.call(void 0,i[e+1]);s.properties.dist=d.distance.call(void 0,t,s,r);const c=d.distance.call(void 0,a,s,r),l=Math.max(a.properties.dist,s.properties.dist),y=p.bearing.call(void 0,a,s),v=h.destination.call(void 0,t,l,y+90,r),b=h.destination.call(void 0,t,l,y-90,r),w=g.lineIntersect.call(void 0,m.lineString.call(void 0,[v.geometry.coordinates,b.geometry.coordinates]),m.lineString.call(void 0,[a.geometry.coordinates,s.geometry.coordinates]));let _;w.features.length>0&&w.features[0]&&(_=f(u({},w.features[0]),{properties:{dist:d.distance.call(void 0,t,w.features[0],r),location:o+d.distance.call(void 0,a,w.features[0],r)}})),a.properties.dist<n.properties.dist&&(n=f(u({},a),{properties:f(u({},a.properties),{index:e,location:o})})),s.properties.dist<n.properties.dist&&(n=f(u({},s),{properties:f(u({},s.properties),{index:e+1,location:o+c})})),_&&_.properties.dist<n.properties.dist&&(n=f(u({},_),{properties:f(u({},_.properties),{index:e})})),o+=c}})),n}n(b,"name",{value:"nearestPointOnLine",configurable:!0});var w=b;t.default=w,t.nearestPointOnLine=b},34559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24471),a=r(43759),s=r(76614),c=r(72005),l=r(15310);function u(e,t,r={}){if(r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=a.point.call(void 0,e):"Point"===e.type?e=a.feature.call(void 0,e):s.featureOf.call(void 0,e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=a.lineString.call(void 0,t):"LineString"===t.type?t=a.feature.call(void 0,t):s.featureOf.call(void 0,t,"LineString","line");let n=1/0;const o=e.geometry.coordinates;return c.segmentEach.call(void 0,t,(e=>{const t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],a=f(o,t,i,r);a<n&&(n=a)})),a.convertLength.call(void 0,n,"degrees",r.units)}function f(e,t,r,n){const o=[r[0]-t[0],r[1]-t[1]],i=p([e[0]-t[0],e[1]-t[1]],o);if(i<=0)return d(e,t,{method:n.method,units:"degrees"});const a=p(o,o);if(a<=i)return d(e,r,{method:n.method,units:"degrees"});const s=i/a;return d(e,[t[0]+s*o[0],t[1]+s*o[1]],{method:n.method,units:"degrees"})}function p(e,t){return e[0]*t[0]+e[1]*t[1]}function d(e,t,r){return"planar"===r.method?l.rhumbDistance.call(void 0,e,t,r):i.distance.call(void 0,e,t,r)}o(u,"pointToLineDistance"),o(f,"distanceToSegment"),o(p,"dot"),o(d,"calcDistance");var h=u;t.default=h,t.pointToLineDistance=u},74717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(72005),a=r(43759),s=r(53487);function c(e,t={}){return u(e,"mercator",t)}function l(e,t={}){return u(e,"wgs84",t)}function u(e,t,r={}){var n=(r=r||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&a.isNumber.call(void 0,e[0])?e="mercator"===t?f(e):p(e):(!0!==n&&(e=s.clone.call(void 0,e)),i.coordEach.call(void 0,e,(function(e){var r="mercator"===t?f(e):p(e);e[0]=r[0],e[1]=r[1]}))),e}function f(e){var t=Math.PI/180,r=6378137,n=20037508.342789244,o=[r*(Math.abs(e[0])<=180?e[0]:e[0]-360*d(e[0]))*t,r*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return o[0]>n&&(o[0]=n),o[0]<-n&&(o[0]=-n),o[1]>n&&(o[1]=n),o[1]<-n&&(o[1]=-n),o}function p(e){var t=180/Math.PI,r=6378137;return[e[0]*t/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*t]}function d(e){return e<0?-1:e>0?1:0}o(c,"toMercator"),o(l,"toWgs84"),o(u,"convert"),o(f,"convertToMercator"),o(p,"convertToWgs84"),o(d,"sign"),t.toMercator=c,t.toWgs84=l},75827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(76614);function s(e,t,r={}){let n;return n=r.final?c(a.getCoord.call(void 0,t),a.getCoord.call(void 0,e)):c(a.getCoord.call(void 0,e),a.getCoord.call(void 0,t)),n>180?-(360-n):n}function c(e,t){const r=i.degreesToRadians.call(void 0,e[1]),n=i.degreesToRadians.call(void 0,t[1]);let o=i.degreesToRadians.call(void 0,t[0]-e[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);const a=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(o,a);return(i.radiansToDegrees.call(void 0,s)+360)%360}o(s,"rhumbBearing"),o(c,"calculateRhumbBearing");var l=s;t.default=l,t.rhumbBearing=s},51409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(76614);function s(e,t,r,n={}){const o=t<0;let s=i.convertLength.call(void 0,Math.abs(t),n.units,"meters");o&&(s=-Math.abs(s));const l=a.getCoord.call(void 0,e),u=c(l,s,r);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i.point.call(void 0,u,n.properties)}function c(e,t,r,n){const o=t/(n=void 0===n?i.earthRadius:Number(n)),a=e[0]*Math.PI/180,s=i.degreesToRadians.call(void 0,e[1]),c=i.degreesToRadians.call(void 0,r),l=o*Math.cos(c);let u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);const f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?l/f:Math.cos(s);return[(180*(a+o*Math.sin(c)/p)/Math.PI+540)%360-180,180*u/Math.PI]}o(s,"rhumbDestination"),o(c,"calculateRhumbDestination");var l=s;t.default=l,t.rhumbDestination=s},15310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(43759),a=r(76614);function s(e,t,r={}){const n=a.getCoord.call(void 0,e),o=a.getCoord.call(void 0,t);o[0]+=o[0]-n[0]>180?-360:n[0]-o[0]>180?360:0;const s=c(n,o);return i.convertLength.call(void 0,s,"meters",r.units)}function c(e,t,r){const n=r=void 0===r?i.earthRadius:Number(r),o=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-o;let c=Math.abs(t[0]-e[0])*Math.PI/180;c>Math.PI&&(c-=2*Math.PI);const l=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),u=Math.abs(l)>1e-11?s/l:Math.cos(o);return Math.sqrt(s*s+u*u*c*c)*n}o(s,"rhumbDistance"),o(c,"calculateRhumbDistance");var l=s;t.default=l,t.rhumbDistance=s},36112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(n=r(59004))&&n.__esModule?n:{default:n},a=r(94039),s=r(31021);function c(e,t={}){const r=[];if(s.geomEach.call(void 0,e,(e=>{r.push(e.coordinates)})),r.length<2)throw new Error("Must have at least 2 geometries");const n=i.default.union(r[0],...r.slice(1));return 0===n.length?null:1===n.length?a.polygon.call(void 0,n[0],t.properties):a.multiPolygon.call(void 0,n,t.properties)}o(c,"name",{value:"union",configurable:!0});var l=c;t.default=l,t.union=c},94039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},31021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(94039);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},16100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=r(79041),s=r(87187),c=(n=r(35341))&&n.__esModule?n:{default:n};function l(e,t,r){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===r&&(r=1);var n=e.geometry.coordinates,o=[],i={};if(r){for(var a=[],s=0;s<n.length;s++)for(var l=0;l<n[s].length-1;l++)a.push(m(s,l));var f=new(0,c.default);f.load(a)}for(var p=0;p<n.length;p++)for(var d=0;d<n[p].length-1;d++)if(r)f.search(m(p,d)).forEach((function(e){var t=e.ring,r=e.edge;y(p,d,t,r)}));else for(var h=0;h<n.length;h++)for(var g=0;g<n[h].length-1;g++)y(p,d,h,g);return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function y(e,r,a,s){var c,l,f=n[e][r],p=n[e][r+1],d=n[a][s],h=n[a][s+1],g=u(f,p,d,h);if(null!==g&&(c=p[0]!==f[0]?(g[0]-f[0])/(p[0]-f[0]):(g[1]-f[1])/(p[1]-f[1]),l=h[0]!==d[0]?(g[0]-d[0])/(h[0]-d[0]):(g[1]-d[1])/(h[1]-d[1]),!(c>=1||c<=0||l>=1||l<=0))){var y=g,m=!i[y];m&&(i[y]=!0),t?o.push(t(g,e,r,f,p,c,a,s,d,h,l,m)):o.push(g)}}function m(e,t){var r,o,i,a,s=n[e][t],c=n[e][t+1];return s[0]<c[0]?(r=s[0],o=c[0]):(r=c[0],o=s[0]),s[1]<c[1]?(i=s[1],a=c[1]):(i=c[1],a=s[1]),{minX:r,minY:i,maxX:o,maxY:a,ring:e,edge:t}}}function u(e,t,r,n){if(f(e,r)||f(e,n)||f(t,r)||f(n,r))return null;var o=e[0],i=e[1],a=t[0],s=t[1],c=r[0],l=r[1],u=n[0],p=n[1],d=(o-a)*(l-p)-(i-s)*(c-u);return 0===d?null:[((o*s-i*a)*(c-u)-(o-a)*(c*p-l*u))/d,((o*s-i*a)*(l-p)-(i-s)*(c*p-l*u))/d]}function f(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!f(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;return!0}i(l,"geojsonPolygonSelfIntersections"),i(u,"intersect"),i(f,"equalArrays");var p=r(4197),d=r(68081);function h(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,r=[],n=0;n<t;n++){var o=e.geometry.coordinates[n];b(o[0],o[o.length-1])||o.push(o[0]);for(var a=0;a<o.length-1;a++)r.push(o[a])}if(!_(r))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var u=r.length,f=l(e,i((function(e,t,r,n,o,i,a,s,c,l,u,f){return[e,t,r,n,o,i,a,s,c,l,u,f]}),"filterFn")),h=f.length;if(0==h){var P=[];for(n=0;n<t;n++)P.push(s.polygon.call(void 0,[e.geometry.coordinates[n]],{parent:-1,winding:v(e.geometry.coordinates[n])}));var x=s.featureCollection.call(void 0,P);return X(),Z(),x}var O=[],C=[];for(n=0;n<t;n++)for(O.push([]),a=0;a<e.geometry.coordinates[n].length-1;a++)O[n].push([new g(e.geometry.coordinates[n][w(a+1,e.geometry.coordinates[n].length-1)],1,[n,a],[n,w(a+1,e.geometry.coordinates[n].length-1)],void 0)]),C.push(new y(e.geometry.coordinates[n][a],[n,w(a-1,e.geometry.coordinates[n].length-1)],[n,a],void 0,void 0,!1,!0));for(n=0;n<h;n++)O[f[n][1]][f[n][2]].push(new g(f[n][0],f[n][5],[f[n][1],f[n][2]],[f[n][6],f[n][7]],void 0)),f[n][11]&&C.push(new y(f[n][0],[f[n][1],f[n][2]],[f[n][6],f[n][7]],void 0,void 0,!0,!0));var S=C.length;for(n=0;n<O.length;n++)for(a=0;a<O[n].length;a++)O[n][a].sort((function(e,t){return e.param<t.param?-1:1}));var E=[];for(n=0;n<S;n++)E.push({minX:C[n].coord[0],minY:C[n].coord[1],maxX:C[n].coord[0],maxY:C[n].coord[1],index:n});var M=new(0,c.default);for(M.load(E),n=0;n<O.length;n++)for(a=0;a<O[n].length;a++)for(var j=0;j<O[n][a].length;j++){T=j==O[n][a].length-1?O[n][w(a+1,e.geometry.coordinates[n].length-1)][0].coord:O[n][a][j+1].coord;var k=M.search({minX:T[0],minY:T[1],maxX:T[0],maxY:T[1]})[0];O[n][a][j].nxtIsectAlongEdgeIn=k.index}for(n=0;n<O.length;n++)for(a=0;a<O[n].length;a++)for(j=0;j<O[n][a].length;j++){var T=O[n][a][j].coord,I=(k=M.search({minX:T[0],minY:T[1],maxX:T[0],maxY:T[1]})[0]).index;I<u?C[I].nxtIsectAlongRingAndEdge2=O[n][a][j].nxtIsectAlongEdgeIn:b(C[I].ringAndEdge1,O[n][a][j].ringAndEdgeIn)?C[I].nxtIsectAlongRingAndEdge1=O[n][a][j].nxtIsectAlongEdgeIn:C[I].nxtIsectAlongRingAndEdge2=O[n][a][j].nxtIsectAlongEdgeIn}var F=[];for(n=0,a=0;a<t;a++){var A=n;for(j=0;j<e.geometry.coordinates[a].length-1;j++)C[n].coord[0]<C[A].coord[0]&&(A=n),n++;var L=C[A].nxtIsectAlongRingAndEdge2;for(j=0;j<C.length;j++)if(C[j].nxtIsectAlongRingAndEdge1==A||C[j].nxtIsectAlongRingAndEdge2==A){var R=j;break}var D=m([C[R].coord,C[A].coord,C[L].coord],!0)?1:-1;F.push({isect:A,parent:-1,winding:D})}for(F.sort((function(e,t){return C[e.isect].coord>C[t.isect].coord?-1:1})),P=[];F.length>0;){var B=F.pop(),N=B.isect,z=B.parent,G=B.winding,V=P.length,q=[C[N].coord],U=N;if(C[N].ringAndEdge1Walkable)var H=C[N].ringAndEdge1,W=C[N].nxtIsectAlongRingAndEdge1;else H=C[N].ringAndEdge2,W=C[N].nxtIsectAlongRingAndEdge2;for(;!b(C[N].coord,C[W].coord);){q.push(C[W].coord);var J=void 0;for(n=0;n<F.length;n++)if(F[n].isect==W){J=n;break}if(null!=J&&F.splice(J,1),b(H,C[W].ringAndEdge1)){if(H=C[W].ringAndEdge2,C[W].ringAndEdge2Walkable=!1,C[W].ringAndEdge1Walkable){var Y={isect:W};m([C[U].coord,C[W].coord,C[C[W].nxtIsectAlongRingAndEdge2].coord],1==G)?(Y.parent=z,Y.winding=-G):(Y.parent=V,Y.winding=G),F.push(Y)}U=W,W=C[W].nxtIsectAlongRingAndEdge2}else H=C[W].ringAndEdge1,C[W].ringAndEdge1Walkable=!1,C[W].ringAndEdge2Walkable&&(Y={isect:W},m([C[U].coord,C[W].coord,C[C[W].nxtIsectAlongRingAndEdge1].coord],1==G)?(Y.parent=z,Y.winding=-G):(Y.parent=V,Y.winding=G),F.push(Y)),U=W,W=C[W].nxtIsectAlongRingAndEdge1}q.push(C[W].coord),P.push(s.polygon.call(void 0,[q],{index:V,parent:z,winding:G,netWinding:void 0}))}function X(){for(var e=[],t=0;t<x.features.length;t++)-1==x.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var r=-1,n=1/0,o=0;o<x.features.length;o++)e[t]!=o&&d.booleanPointInPolygon.call(void 0,x.features[e[t]].geometry.coordinates[0][0],x.features[o],{ignoreBoundary:!0})&&p.area.call(void 0,x.features[o])<n&&(r=o);x.features[e[t]].properties.parent=r}}function Z(){for(var e=0;e<x.features.length;e++)if(-1==x.features[e].properties.parent){var t=x.features[e].properties.winding;x.features[e].properties.netWinding=t,$(e,t)}}function $(e,t){for(var r=0;r<x.features.length;r++)if(x.features[r].properties.parent==e){var n=t+x.features[r].properties.winding;x.features[r].properties.netWinding=n,$(r,n)}}return x=s.featureCollection.call(void 0,P),X(),Z(),i(X,"determineParents"),i(Z,"setNetWinding"),i($,"setNetWindingOfChildren"),x}i(h,"simplepolygon");var g=i((function(e,t,r,n,o){this.coord=e,this.param=t,this.ringAndEdgeIn=r,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=o}),"PseudoVtx"),y=i((function(e,t,r,n,o,i,a){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=a}),"Isect");function m(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function v(e){for(var t=0,r=0;r<e.length-1;r++)e[r][0]<e[t][0]&&(t=r);if(m([e[w(t-1,e.length-1)],e[t],e[w(t+1,e.length-1)]],!0))var n=1;else n=-1;return n}function b(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!b(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0}function w(e,t){return(e%t+t)%t}function _(e){for(var t={},r=1,n=0,o=e.length;n<o;++n){if(Object.prototype.hasOwnProperty.call(t,e[n])){r=0;break}t[e[n]]=1}return r}function P(e){var t=[];return a.flattenEach.call(void 0,e,(function(e){"Polygon"===e.geometry.type&&a.featureEach.call(void 0,h(e),(function(r){t.push(s.polygon.call(void 0,r.geometry.coordinates,e.properties))}))})),s.featureCollection.call(void 0,t)}i(m,"isConvex"),i(v,"windingOfRing"),i(b,"equalArrays"),i(w,"modulo"),i(_,"isUnique"),i(P,"unkinkPolygon");var x=P;t.default=x,t.unkinkPolygon=P},4197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(87187),a=r(79041);function s(e){return a.geomReduce.call(void 0,e,((e,t)=>e+c(t)),0)}function c(e){let t,r=0;switch(e.type){case"Polygon":return l(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=l(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function l(e){let t=0;if(e&&e.length>0){t+=Math.abs(p(e[0]));for(let r=1;r<e.length;r++)t-=Math.abs(p(e[r]))}return t}o(s,"area"),o(c,"calculateArea"),o(l,"polygonArea");var u=i.earthRadius*i.earthRadius/2,f=Math.PI/180;function p(e){const t=e.length;if(t<=2)return 0;let r=0,n=0;for(;n<t;){const o=e[n],i=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=o[0]*f,c=i[1]*f;r+=(a[0]*f-s)*Math.sin(c),n++}return r*u}o(p,"ringArea");var d=s;t.area=s,t.default=d},87187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},79041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(87187);function a(e,t,r){if(null!==e)for(var n,o,i,s,c,l,u,f,p=0,d=0,h=e.type,g="FeatureCollection"===h,y="Feature"===h,m=g?e.features.length:1,v=0;v<m;v++){c=(f=!!(u=g?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<c;b++){var w=0,_=0;if(null!==(s=f?u.geometries[b]:u)){l=s.coordinates;var P=s.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(l,d,v,w,_))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],d,v,w,_))return!1;d++,"MultiPoint"===P&&w++}"LineString"===P&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===t(l[n][o],d,v,w,_))return!1;d++}"MultiLineString"===P&&w++,"Polygon"===P&&_++}"Polygon"===P&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(_=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-p;i++){if(!1===t(l[n][o][i],d,v,w,_))return!1;d++}_++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function c(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function l(e,t,r){var n=r;return c(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,c,l,u,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,g=d?e.features.length:1;for(r=0;r<g;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,l=d?e.features[r].properties:h?e.properties:{},u=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(c=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=c?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,u,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function g(e,t){d(e,(function(e,r,n,o,a){var s,c=null===e?null:e.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(c){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u={type:s,coordinates:e.coordinates[l]};if(!1===t(i.feature.call(void 0,u,n),r,l))return!1}}))}function y(e,t,r){var n=r;return g(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function m(e,t){g(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var c,l=0,u=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===c||r>l||d>u||h>f)return c=a,l=r,u=d,f=h,void(o=0);var g=i.lineString.call(void 0,[c,a],e.properties);if(!1===t(g,r,n,h,o))return!1;o++,c=a}))&&void 0}}}))}function v(e,t,r){var n=r,o=!1;return m(e,(function(e,i,a,s,c){n=!1===o&&void 0===r?e:t(n,e,i,a,s,c),o=!0})),n}function b(e,t){if(!e)throw new Error("geojson is required");g(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function w(e,t,r){var n=r;return b(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function _(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),i.lineString.call(void 0,[l[s],l[s+1]],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),i.lineString.call(void 0,[l[a][s],l[a][s+1]],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),i.lineString.call(void 0,[l[o][s],l[o][s+1]],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s-1),i.lineString.call(void 0,[l[o][a][s],l[o][a][s+1]],c,t)}throw new Error("geojson is invalid")}function P(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,c=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),c=c||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":c=c||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,l,c,t);case"MultiPoint":return o<0&&(o=l.length+o),i.point.call(void 0,l[o],c,t);case"LineString":return s<0&&(s=l.length+s),i.point.call(void 0,l[s],c,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),i.point.call(void 0,l[a][s],c,t);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),i.point.call(void 0,l[o][s],c,t);case"MultiPolygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s<0&&(s=l[o][a].length-s),i.point.call(void 0,l[o][a][s],c,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(c,"propEach"),o(l,"propReduce"),o(u,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(g,"flattenEach"),o(y,"flattenReduce"),o(m,"segmentEach"),o(v,"segmentReduce"),o(b,"lineEach"),o(w,"lineReduce"),o(_,"findSegment"),o(P,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=u,t.featureReduce=f,t.findPoint=P,t.findSegment=_,t.flattenEach=g,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=b,t.lineReduce=w,t.propEach=c,t.propReduce=l,t.segmentEach=m,t.segmentReduce=v},57805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24484),a=r(38305),s=r(4528),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(3227));function l(e){return(e=e.slice()).push(e[0]),i.polygon.call(void 0,[e])}function u(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(r))throw new Error("bbox is invalid");return a.collectionOf.call(void 0,e,"Point","points"),i.featureCollection.call(void 0,c.voronoi().x((function(e){return e.geometry.coordinates[0]})).y((function(e){return e.geometry.coordinates[1]})).extent([[r[0],r[1]],[r[2],r[3]]]).polygons(e.features).map((function(t,r){return Object.assign(l(t),{properties:s.cloneProperties.call(void 0,e.features[r].properties)})})))}o(l,"coordsToPolygon"),o(u,"voronoi");var f=u;t.default=f,t.voronoi=u},4528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty,n=(e,t)=>r(e,"name",{value:t,configurable:!0});function o(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return i(e);case"FeatureCollection":return s(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return c(e);default:throw new Error("unknown GeoJSON type")}}function i(e){const t={type:"Feature"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=a(e.properties),null==e.geometry?t.geometry=null:t.geometry=c(e.geometry),t}function a(e){const t={};return e?(Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n?null===n?t[r]=null:Array.isArray(n)?t[r]=n.map((e=>e)):t[r]=a(n):t[r]=n})),t):t}function s(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((r=>{switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((e=>i(e))),t}function c(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>c(e))),t):(t.coordinates=l(e.coordinates),t)}function l(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>l(e)))}n(o,"clone"),n(i,"cloneFeature"),n(a,"cloneProperties"),n(s,"cloneFeatureCollection"),n(c,"cloneGeometry"),n(l,"deepSlice");var u=o;t.clone=o,t.cloneProperties=a,t.default=u},24484:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!l(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=u(e),n=u(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!l(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return l(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return l(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var c=s;function l(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function u(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(l,"sameLength"),i(u,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function g(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return w(t).geometry;case"Polygon":return v(t).geometry;case"MultiPoint":return O(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return C(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!R(e[0])||!R(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function m(e,t,r={}){return P(e.map((e=>y(e,t))),r)}function v(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function b(e,t,r={}){return P(e.map((e=>v(e,t))),r)}function w(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function _(e,t,r={}){return P(e.map((e=>w(e,t))),r)}function P(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function C(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function S(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function E(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function M(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function k(e,t){return I(j(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function F(e){return e%360*Math.PI/180}function A(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return M(j(e,t),r)}function L(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function R(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function D(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function B(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!R(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(g,"geometry"),i(y,"point"),i(m,"points"),i(v,"polygon"),i(b,"polygons"),i(w,"lineString"),i(_,"lineStrings"),i(P,"featureCollection"),i(x,"multiLineString"),i(O,"multiPoint"),i(C,"multiPolygon"),i(S,"geometryCollection"),i(E,"round"),i(M,"radiansToLength"),i(j,"lengthToRadians"),i(k,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(F,"degreesToRadians"),i(A,"convertLength"),i(L,"convertArea"),i(R,"isNumber"),i(D,"isObject"),i(B,"validateBBox"),i(N,"validateId"),t.GeojsonEquality=c,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=L,t.convertLength=A,t.degreesToRadians=F,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=P,t.geometry=g,t.geometryCollection=S,t.isNumber=R,t.isObject=D,t.lengthToDegrees=k,t.lengthToRadians=j,t.lineString=w,t.lineStrings=_,t.multiLineString=x,t.multiPoint=O,t.multiPolygon=C,t.point=y,t.points=m,t.polygon=v,t.polygons=b,t.radiansToDegrees=I,t.radiansToLength=M,t.round=E,t.validateBBox=B,t.validateId=N},38305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(24484);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function c(e){if(e.length>1&&i.isNumber.call(void 0,e[0])&&i.isNumber.call(void 0,e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return c(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function u(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function f(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}o(a,"getCoord"),o(s,"getCoords"),o(c,"containsNumber"),o(l,"geojsonType"),o(u,"featureOf"),o(f,"collectionOf"),o(p,"getGeom"),o(d,"getType"),t.collectionOf=f,t.containsNumber=c,t.featureOf=u,t.geojsonType=l,t.getCoord=a,t.getCoords=s,t.getGeom=p,t.getType=d},39209:(e,t,r)=>{"use strict";var n=r(76578),o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},94552:(e,t,r)=>{"use strict";var n=r(47244),o=r(81820);if(r(64039)()||r(41333)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():n(e)?Array.prototype[i].call(e):void 0}}else{var a=r(27738),s=r(4761),c=r(70453),l=c("%Map%",!0),u=c("%Set%",!0),f=r(38075),p=f("Array.prototype.push"),d=f("String.prototype.charCodeAt"),h=f("String.prototype.slice"),g=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(a(e)||n(e))return g(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=d(e,t);if(r<55296||r>56319)return t+1;var n=d(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=h(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(l||u){var m=r(83802),v=r(90256),b=f("Map.prototype.forEach",!0),w=f("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var _=f("Map.prototype.iterator",!0),P=f("Set.prototype.iterator",!0);var x=f("Map.prototype.@@iterator",!0)||f("Map.prototype._es6-shim iterator_",!0),O=f("Set.prototype.@@iterator",!0)||f("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(m(e)){if(_)return o(_(e));if(x)return x(e);if(b){var t=[];return b(e,(function(e,r){p(t,[r,e])})),g(t)}}if(v(e)){if(P)return o(P(e));if(O)return O(e);if(w){var r=[];return w(e,(function(e){p(r,e)})),g(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}},68867:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=function(e,t){for(var r=0,n=0,o=0,i=0,a=0,s=0,c=0,l=0,u=null,f=null,p=e[0],d=e[1],h=t.length;r<h;r++){n=0;var g=t[r].length-1,y=t[r];if((u=y[0])[0]!==y[g][0]&&u[1]!==y[g][1])throw new Error("First and last coordinates in a ring must be the same");for(a=u[0]-p,s=u[1]-d;n<g;n++)if(l=(f=y[n+1])[1]-d,s<0&&l<0||s>0&&l>0)s=l,a=(u=f)[0]-p;else{if(c=f[0]-e[0],l>0&&s<=0){if((i=a*l-c*s)>0)o+=1;else if(0===i)return 0}else if(s>0&&l<=0){if((i=a*l-c*s)<0)o+=1;else if(0===i)return 0}else if(0===l&&s<0){if(0==(i=a*l-c*s))return 0}else if(0===s&&l<0){if(0==(i=a*l-c*s))return 0}else if(0===s&&0===l){if(c<=0&&a>=0)return 0;if(a<=0&&c>=0)return 0}u=f,s=l,a=c}}return o%2!=0}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=537;var n=r(12335);(XE2=void 0===XE2?{}:XE2)["my3dtiles-lib-main"]=n})();