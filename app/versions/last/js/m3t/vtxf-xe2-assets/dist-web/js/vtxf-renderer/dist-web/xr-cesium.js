/*! For license information please see xr-cesium.js.LICENSE.txt */
var vtxf;(()=>{var e={9399:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1288)),i=n(r(4202)),a=n(r(9391)),s=r(8967),u=r(8506);t.default=function(e,t,r){void 0===r&&(r={});for(var n=u.getGeom(e).coordinates,c=0,l=0;l<n.length&&!(t>=c&&l===n.length-1);l++){if(c>=t){var f=t-c;if(f){var p=o.default(n[l],n[l-1])-180;return i.default(n[l],f,p,r)}return s.point(n[l])}c+=a.default(n[l],n[l+1],r)}return s.point(n[n.length-1])}},1288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967),o=r(8506);t.default=function e(t,r,i){if(void 0===i&&(i={}),!0===i.final)return function(t,r){var n=e(r,t);return(n+180)%360}(t,r);var a=o.getCoord(t),s=o.getCoord(r),u=n.degreesToRadians(a[0]),c=n.degreesToRadians(s[0]),l=n.degreesToRadians(a[1]),f=n.degreesToRadians(s[1]),p=Math.sin(c-u)*Math.cos(f),d=Math.cos(l)*Math.sin(f)-Math.sin(l)*Math.cos(f)*Math.cos(c-u);return n.radiansToDegrees(Math.atan2(p,d))}},4202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967),o=r(8506);t.default=function(e,t,r,i){void 0===i&&(i={});var a=o.getCoord(e),s=n.degreesToRadians(a[0]),u=n.degreesToRadians(a[1]),c=n.degreesToRadians(r),l=n.lengthToRadians(t,i.units),f=Math.asin(Math.sin(u)*Math.cos(l)+Math.cos(u)*Math.sin(l)*Math.cos(c)),p=s+Math.atan2(Math.sin(c)*Math.sin(l)*Math.cos(u),Math.cos(l)-Math.sin(u)*Math.sin(f)),d=n.radiansToDegrees(p),h=n.radiansToDegrees(f);return n.point([d,h],i.properties)}},9391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8506),o=r(8967);t.default=function(e,t,r){void 0===r&&(r={});var i=n.getCoord(e),a=n.getCoord(t),s=o.degreesToRadians(a[1]-i[1]),u=o.degreesToRadians(a[0]-i[0]),c=o.degreesToRadians(i[1]),l=o.degreesToRadians(a[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(l);return o.radiansToLength(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r.units)}},8967:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function n(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n)}function o(e,t,n){void 0===n&&(n={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,n)}function i(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,n)}function a(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function s(e,t,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:e},t,n)}function u(e,t,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:e},t,n)}function c(e,t,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:e},t,n)}function l(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function f(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function p(e){return e%(2*Math.PI)*180/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=r,t.geometry=function(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return n(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return u(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return c(t).geometry;default:throw new Error(e+" is invalid")}},t.point=n,t.points=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return n(e,t)})),r)},t.polygon=o,t.polygons=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return o(e,t)})),r)},t.lineString=i,t.lineStrings=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return i(e,t)})),r)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=u,t.multiPolygon=c,t.geometryCollection=function(e,t,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:e},t,n)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r},t.radiansToLength=l,t.lengthToRadians=f,t.lengthToDegrees=function(e,t){return p(f(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return l(f(e,t),r)},t.convertArea=function(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[r];if(!o)throw new Error("invalid original units");var i=t.areaFactors[n];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},8506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&n.isNumber(t[0])&&n.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,o=e.features;n<o.length;n++){var i=o[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},8840:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9391)),i=r(8421);t.default=function(e,t){return void 0===t&&(t={}),i.segmentReduce(e,(function(e,r){var n=r.geometry.coordinates;return e+o.default(n[0],n[1],t)}),0)}},3154:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(8967),i=r(8506),a=n(r(7042)),s=r(8421),u=n(r(4945));function c(e,t){var r=i.getCoords(e),n=i.getCoords(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var a=r[0][0],s=r[0][1],u=r[1][0],c=r[1][1],l=n[0][0],f=n[0][1],p=n[1][0],d=n[1][1],h=(d-f)*(u-a)-(p-l)*(c-s);if(0===h)return null;var m=((p-l)*(s-f)-(d-f)*(a-l))/h,y=((u-a)*(s-f)-(c-s)*(a-l))/h;if(m>=0&&m<=1&&y>=0&&y<=1){var v=a+m*(u-a),g=s+m*(c-s);return o.point([v,g])}return null}t.default=function(e,t){var r={},n=[];if("LineString"===e.type&&(e=o.feature(e)),"LineString"===t.type&&(t=o.feature(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var l=c(e,t);return l&&n.push(l),o.featureCollection(n)}var f=u.default();return f.load(a.default(t)),s.featureEach(a.default(e),(function(e){s.featureEach(f.search(e),(function(t){var o=c(e,t);if(o){var a=i.getCoords(o).join(",");r[a]||(r[a]=!0,n.push(o))}}))})),o.featureCollection(n)}},7042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967),o=r(8506),i=r(8421);t.default=function(e){if(!e)throw new Error("geojson is required");var t=[];return i.flattenEach(e,(function(e){!function(e,t){var r=[],i=e.geometry;if(null!==i){switch(i.type){case"Polygon":r=o.getCoords(i);break;case"LineString":r=[o.getCoords(i)]}r.forEach((function(r){var o=function(e,t){var r=[];return e.reduce((function(e,o){var i,a,s,u,c,l,f=n.lineString([e,o],t);return f.bbox=(a=o,s=(i=e)[0],u=i[1],[s<(c=a[0])?s:c,u<(l=a[1])?u:l,s>c?s:c,u>l?u:l]),r.push(f),o})),r}(r,e.properties);o.forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),n.featureCollection(t)}},8421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967);function o(e,t,r){if(null!==e)for(var n,i,a,s,u,c,l,f,p=0,d=0,h=e.type,m="FeatureCollection"===h,y="Feature"===h,v=m?e.features.length:1,g=0;g<v;g++){u=(f=!!(l=m?e.features[g].geometry:y?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<u;_++){var b=0,w=0;if(null!==(s=f?l.geometries[_]:l)){c=s.coordinates;var C=s.type;switch(p=!r||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===t(c,d,g,b,w))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(!1===t(c[n],d,g,b,w))return!1;d++,"MultiPoint"===C&&b++}"LineString"===C&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(i=0;i<c[n].length-p;i++){if(!1===t(c[n][i],d,g,b,w))return!1;d++}"MultiLineString"===C&&b++,"Polygon"===C&&w++}"Polygon"===C&&b++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(w=0,i=0;i<c[n].length;i++){for(a=0;a<c[n][i].length-p;a++){if(!1===t(c[n][i][a],d,g,b,w))return!1;d++}w++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function s(e,t){var r,n,o,i,a,s,u,c,l,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,m=d?e.features.length:1;for(r=0;r<m;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,c=d?e.features[r].properties:h?e.properties:{},l=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,c,l,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,c,l,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,c,l,f))return!1;p++}}function u(e,t){s(e,(function(e,r,o,i,a){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(n.feature(e,o,{bbox:i,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var c=0;c<e.coordinates.length;c++){var l={type:s,coordinates:e.coordinates[c]};if(!1===t(n.feature(l,o),r,c))return!1}}))}function c(e,t){u(e,(function(e,r,i){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,c=0,l=0,f=0;return!1!==o(e,(function(o,s,p,d,h){if(void 0===u||r>c||d>l||h>f)return u=o,c=r,l=d,f=h,void(a=0);var m=n.lineString([u,o],e.properties);if(!1===t(m,r,i,h,a))return!1;a++,u=o}))&&void 0}}}))}function l(e,t){if(!e)throw new Error("geojson is required");u(e,(function(e,r,o){if(null!==e.geometry){var i=e.geometry.type,a=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,r,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(n.lineString(a[s],e.properties),r,o,s))return!1}}}))}t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.coordEach=o,t.coordReduce=function(e,t,r,n){var i=r;return o(e,(function(e,n,o,a,s){i=0===n&&void 0===r?e:t(i,e,n,o,a,s)}),n),i},t.featureEach=a,t.featureReduce=function(e,t,r){var n=r;return a(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n},t.findPoint=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),u=u||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":u=u||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return n.point(c,u,t);case"MultiPoint":return i<0&&(i=c.length+i),n.point(c[i],u,t);case"LineString":return s<0&&(s=c.length+s),n.point(c[s],u,t);case"Polygon":return a<0&&(a=c.length+a),s<0&&(s=c[a].length+s),n.point(c[a][s],u,t);case"MultiLineString":return i<0&&(i=c.length+i),s<0&&(s=c[i].length+s),n.point(c[i][s],u,t);case"MultiPolygon":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),s<0&&(s=c[i][a].length-s),n.point(c[i][a][s],u,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),u=u||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":u=u||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=c.length+s-1),n.lineString([c[s],c[s+1]],u,t);case"Polygon":return a<0&&(a=c.length+a),s<0&&(s=c[a].length+s-1),n.lineString([c[a][s],c[a][s+1]],u,t);case"MultiLineString":return i<0&&(i=c.length+i),s<0&&(s=c[i].length+s-1),n.lineString([c[i][s],c[i][s+1]],u,t);case"MultiPolygon":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),s<0&&(s=c[i][a].length-s-1),n.lineString([c[i][a][s],c[i][a][s+1]],u,t)}throw new Error("geojson is invalid")},t.flattenEach=u,t.flattenReduce=function(e,t,r){var n=r;return u(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n},t.geomEach=s,t.geomReduce=function(e,t,r){var n=r;return s(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n},t.lineEach=l,t.lineReduce=function(e,t,r){var n=r;return l(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n},t.propEach=i,t.propReduce=function(e,t,r){var n=r;return i(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n},t.segmentEach=c,t.segmentReduce=function(e,t,r){var n=r,o=!1;return c(e,(function(e,i,a,s,u){n=!1===o&&void 0===r?e:t(n,e,i,a,s,u),o=!0})),n}},7696:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1288)),i=n(r(9391)),a=n(r(4202)),s=n(r(3154)),u=r(8421),c=r(8967),l=r(8506);t.default=function(e,t,r){void 0===r&&(r={});var n=c.point([1/0,1/0],{dist:1/0}),f=0;return u.flattenEach(e,(function(e){for(var u=l.getCoords(e),p=0;p<u.length-1;p++){var d=c.point(u[p]);d.properties.dist=i.default(t,d,r);var h=c.point(u[p+1]);h.properties.dist=i.default(t,h,r);var m=i.default(d,h,r),y=Math.max(d.properties.dist,h.properties.dist),v=o.default(d,h),g=a.default(t,y,v+90,r),_=a.default(t,y,v-90,r),b=s.default(c.lineString([g.geometry.coordinates,_.geometry.coordinates]),c.lineString([d.geometry.coordinates,h.geometry.coordinates])),w=null;b.features.length>0&&((w=b.features[0]).properties.dist=i.default(t,w,r),w.properties.location=f+i.default(d,w,r)),d.properties.dist<n.properties.dist&&((n=d).properties.index=p,n.properties.location=f),h.properties.dist<n.properties.dist&&((n=h).properties.index=p+1,n.properties.location=f+m),w&&w.properties.dist<n.properties.dist&&((n=w).properties.index=p),f+=m}})),n}},3183:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9391)),i=r(8967),a=r(8506),s=r(8421),u=n(r(7397));function c(e,t){return e[0]*t[0]+e[1]*t[1]}function l(e,t,r){return"planar"===r.method?u.default(e,t,r):o.default(e,t,r)}t.default=function(e,t,r){if(void 0===r&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=i.point(e):"Point"===e.type?e=i.feature(e):a.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=i.lineString(t):"LineString"===t.type?t=i.feature(t):a.featureOf(t,"LineString","line");var n=1/0,o=e.geometry.coordinates;return s.segmentEach(t,(function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],a=function(e,t,r,n){var o=[r[0]-t[0],r[1]-t[1]],i=c([e[0]-t[0],e[1]-t[1]],o);if(i<=0)return l(e,t,{method:n.method,units:"degrees"});var a=c(o,o);if(a<=i)return l(e,r,{method:n.method,units:"degrees"});var s=i/a;return l(e,[t[0]+s*o[0],t[1]+s*o[1]],{method:n.method,units:"degrees"})}(o,t,i,r);a<n&&(n=a)})),i.convertLength(n,"degrees",r.units)}},2307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967),o=r(8506);function i(e,t){var r=n.degreesToRadians(e[1]),o=n.degreesToRadians(t[1]),i=n.degreesToRadians(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var a=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),s=Math.atan2(i,a);return(n.radiansToDegrees(s)+360)%360}t.default=function(e,t,r){var n;return void 0===r&&(r={}),(n=r.final?i(o.getCoord(t),o.getCoord(e)):i(o.getCoord(e),o.getCoord(t)))>180?-(360-n):n}},7153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967),o=r(8506);t.default=function(e,t,r,i){void 0===i&&(i={});var a=t<0,s=n.convertLength(Math.abs(t),i.units,"meters");a&&(s=-Math.abs(s));var u=o.getCoord(e),c=function(e,t,r,o){var i=t/(o=void 0===o?n.earthRadius:Number(o)),a=e[0]*Math.PI/180,s=n.degreesToRadians(e[1]),u=n.degreesToRadians(r),c=i*Math.cos(u),l=s+c;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var f=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(f)>1e-11?c/f:Math.cos(s);return[(180*(a+i*Math.sin(u)/p)/Math.PI+540)%360-180,180*l/Math.PI]}(u,s,r);return c[0]+=c[0]-u[0]>180?-360:u[0]-c[0]>180?360:0,n.point(c,i.properties)}},7397:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8967),o=r(8506);t.default=function(e,t,r){void 0===r&&(r={});var i=o.getCoord(e),a=o.getCoord(t);a[0]+=a[0]-i[0]>180?-360:i[0]-a[0]>180?360:0;var s=function(e,t,r){var o=r=void 0===r?n.earthRadius:Number(r),i=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-i,u=Math.abs(t[0]-e[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var c=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(c)>1e-11?s/c:Math.cos(i);return Math.sqrt(s*s+l*l*u*u)*o}(i,a);return n.convertLength(s,"meters",r.units)}},9511:(e,t,r)=>{"use strict";var n=r(8075)("ArrayBuffer.prototype.byteLength",!0),o=r(4670);e.exports=function(e){return o(e)?n?n(e):e.byteLength:NaN}},8075:(e,t,r)=>{"use strict";var n=r(2834),o=r(487),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},487:(e,t,r)=>{"use strict";var n=r(6743),o=r(2834),i=r(6897),a=r(2056),s=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(u,s),l=r(655),f=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=c(n,u,arguments);return i(t,1+f(0,e.length-(arguments.length-1)),!0)};var p=function(){return c(n,s,arguments)};l?l(e.exports,"apply",{value:p}):e.exports.apply=p},4982:(e,t,r)=>{"use strict";var n=r(6525),o=r(8075),i=r(1589),a=r(2834),s=r(4552),u=r(920),c=r(7653),l=r(7244),f=r(1451),p=r(4670),d=r(2120),h=r(4035),m=r(7070),y=r(1189),v=r(1539),g=r(593),_=r(5767),b=r(9511),w=o("SharedArrayBuffer.prototype.byteLength",!0),C=o("Date.prototype.getTime"),x=Object.getPrototypeOf,P=o("Object.prototype.toString"),O=a("%Set%",!0),M=o("Map.prototype.has",!0),S=o("Map.prototype.get",!0),j=o("Map.prototype.size",!0),E=o("Set.prototype.add",!0),A=o("Set.prototype.delete",!0),T=o("Set.prototype.has",!0),I=o("Set.prototype.size",!0);function D(e,t,r,n){for(var o,i=s(e);(o=i.next())&&!o.done;)if(z(t,o.value,r,n))return A(e,o.value),!0;return!1}function F(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function R(e,t,r,o,i,a){var s=F(r);if(null!=s)return s;var u=S(t,s),c=n({},i,{strict:!1});return!(void 0===u&&!M(t,s)||!z(o,u,c,a))&&!M(e,s)&&z(o,u,c,a)}function B(e,t,r){var n=F(r);return null!=n?n:T(t,n)&&!T(e,n)}function k(e,t,r,n,o,i){for(var a,u,c=s(e);(a=c.next())&&!a.done;)if(z(r,u=a.value,o,i)&&z(n,S(t,u),o,i))return A(e,u),!0;return!1}function z(e,t,r,o){var a=r||{};if(a.strict?c(e,t):e===t)return!0;if(v(e)!==v(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return a.strict?c(e,t):e==t;var u,A=o.has(e),F=o.has(t);if(A&&F){if(o.get(e)===o.get(t))return!0}else u={};return A||o.set(e,u),F||o.set(t,u),function(e,t,r,o){var a,u;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(P(e)!==P(t))return!1;if(l(e)!==l(t))return!1;if(f(e)!==f(t))return!1;var c=e instanceof Error,v=t instanceof Error;if(c!==v)return!1;if((c||v)&&(e.name!==t.name||e.message!==t.message))return!1;var A=h(e),F=h(t);if(A!==F)return!1;if((A||F)&&(e.source!==t.source||i(e)!==i(t)))return!1;var L=d(e),N=d(t);if(L!==N)return!1;if((L||N)&&C(e)!==C(t))return!1;if(r.strict&&x&&x(e)!==x(t))return!1;var U=_(e),G=_(t);if(U!==G)return!1;if(U||G){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var W=V(e),H=V(t);if(W!==H)return!1;if(W||H){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var Y=p(e),X=p(t);if(Y!==X)return!1;if(Y||X)return b(e)===b(t)&&"function"==typeof Uint8Array&&z(new Uint8Array(e),new Uint8Array(t),r,o);var q=m(e),Q=m(t);if(q!==Q)return!1;if(q||Q)return w(e)===w(t)&&"function"==typeof Uint8Array&&z(new Uint8Array(e),new Uint8Array(t),r,o);if(typeof e!=typeof t)return!1;var K=y(e),$=y(t);if(K.length!==$.length)return!1;for(K.sort(),$.sort(),a=K.length-1;a>=0;a--)if(K[a]!=$[a])return!1;for(a=K.length-1;a>=0;a--)if(!z(e[u=K[a]],t[u],r,o))return!1;var J=g(e),Z=g(t);return J===Z&&("Set"===J||"Set"===Z?function(e,t,r,n){if(I(e)!==I(t))return!1;for(var o,i,a,u=s(e),c=s(t);(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new O),E(a,o.value);else if(!T(t,o.value)){if(r.strict)return!1;if(!B(e,t,o.value))return!1;a||(a=new O),E(a,o.value)}if(a){for(;(i=c.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!D(a,i.value,r.strict,n))return!1}else if(!r.strict&&!T(e,i.value)&&!D(a,i.value,r.strict,n))return!1;return 0===I(a)}return!0}(e,t,r,o):"Map"!==J||function(e,t,r,o){if(j(e)!==j(t))return!1;for(var i,a,u,c,l,f,p=s(e),d=s(t);(i=p.next())&&!i.done;)if(c=i.value[0],l=i.value[1],c&&"object"==typeof c)u||(u=new O),E(u,c);else if(void 0===(f=S(t,c))&&!M(t,c)||!z(l,f,r,o)){if(r.strict)return!1;if(!R(e,t,c,l,r,o))return!1;u||(u=new O),E(u,c)}if(u){for(;(a=d.next())&&!a.done;)if(c=a.value[0],f=a.value[1],c&&"object"==typeof c){if(!k(u,e,c,f,r,o))return!1}else if(!(r.strict||e.has(c)&&z(S(e,c),f,r,o)||k(u,e,c,f,n({},r,{strict:!1}),o)))return!1;return 0===I(u)}return!0}(e,t,r,o))}(e,t,a,o)}function V(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return z(e,t,r,u())}},1451:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},41:(e,t,r)=>{"use strict";var n=r(655),o=r(8068),i=r(2056),a=r(5795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],f=!!a&&a(e,t);if(n)n(e,t,{configurable:null===c&&f?f.configurable:!c,enumerable:null===s&&f?f.enumerable:!s,value:r,writable:null===u&&f?f.writable:!u});else{if(!l&&(s||u||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},8452:(e,t,r)=>{"use strict";var n=r(1189),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=r(41),u=r(592)(),c=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;u?s(e,t,r,!0):s(e,t,r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],r[i[s]])};l.supportsDescriptors=!!u,e.exports=l},655:(e,t,r)=>{"use strict";var n=r(2834)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},1237:e=>{"use strict";e.exports=EvalError},9383:e=>{"use strict";e.exports=Error},9290:e=>{"use strict";e.exports=RangeError},9538:e=>{"use strict";e.exports=ReferenceError},8068:e=>{"use strict";e.exports=SyntaxError},2056:e=>{"use strict";e.exports=TypeError},5345:e=>{"use strict";e.exports=URIError},7738:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2682:(e,t,r)=>{"use strict";var n=r(9600),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===o.call(e)?function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},9353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var r=[],n=1,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments),s=r(0,o.length-a.length),u=[],c=0;c<s;c++)u[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=",");return r}(u)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(a,arguments));return Object(t)===t?t:this}return o.apply(e,n(a,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,i.prototype=new l,l.prototype=null}return i}},6743:(e,t,r)=>{"use strict";var n=r(9353);e.exports=Function.prototype.bind||n},4462:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},4945:(e,t,r)=>{var n=r(5341),o=r(8967),i=r(8421),a=r(5368).Ay,s=i.featureEach,u=(i.coordEach,o.polygon,o.featureCollection);function c(e){var t=new n(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),n.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})):s(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})),n.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),n.prototype.remove.call(this,e,t)},t.clear=function(){return n.prototype.clear.call(this)},t.search=function(e){var t=n.prototype.search.call(this,this.toBBox(e));return u(t)},t.collides=function(e){return n.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=n.prototype.all.call(this);return u(e)},t.toJSON=function(){return n.prototype.toJSON.call(this)},t.fromJSON=function(e){return n.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=a(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=a(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}e.exports=c,e.exports.default=c},2834:(e,t,r)=>{"use strict";var n,o=r(9383),i=r(1237),a=r(9290),s=r(9538),u=r(8068),c=r(2056),l=r(5345),f=Function,p=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var h=function(){throw new c},m=d?function(){try{return h}catch(e){try{return d(arguments,"callee").get}catch(e){return h}}}():h,y=r(6420)(),v=r(24)(),g=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),_={},b="undefined"!=typeof Uint8Array&&g?g(Uint8Array):n,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":y&&g?g([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":_,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&g?g(g([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&y&&g?g((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&y&&g?g((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&g?g(""[Symbol.iterator]()):n,"%Symbol%":y?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":m,"%TypedArray%":b,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(g)try{null.error}catch(e){var C=g(g(e));w["%Error.prototype%"]=C}var x=function e(t){var r;if("%AsyncFunction%"===t)r=p("async function () {}");else if("%GeneratorFunction%"===t)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=p("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&g&&(r=g(o.prototype))}return w[t]=r,r},P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=r(6743),M=r(9957),S=O.call(Function.call,Array.prototype.concat),j=O.call(Function.apply,Array.prototype.splice),E=O.call(Function.call,String.prototype.replace),A=O.call(Function.call,String.prototype.slice),T=O.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,F=function(e,t){var r,n=e;if(M(P,n)&&(n="%"+(r=P[n])[0]+"%"),M(w,n)){var o=w[n];if(o===_&&(o=x(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return E(e,I,(function(e,t,r,o){n[n.length]=r?E(o,D,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=F("%"+n+"%",t),i=o.name,a=o.value,s=!1,l=o.alias;l&&(n=l[0],j(r,S([0,1],l)));for(var f=1,p=!0;f<r.length;f+=1){var h=r[f],m=A(h,0,1),y=A(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new u("property names with quotes must have matching quotes");if("constructor"!==h&&p||(s=!0),M(w,i="%"+(n+="."+h)+"%"))a=w[i];else if(null!=a){if(!(h in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&f+1>=r.length){var v=d(a,h);a=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:a[h]}else p=M(a,h),a=a[h];p&&!s&&(w[i]=a)}}return a}},5795:(e,t,r)=>{"use strict";var n=r(2834)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},7409:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},592:(e,t,r)=>{"use strict";var n=r(655),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},24:e=>{"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},6420:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(1333);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9092:(e,t,r)=>{"use strict";var n=r(1333);e.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(6743);e.exports=i.call(n,o)},2444:(e,t,r)=>{"use strict";var n=r(9957),o=r(920)(),i=r(2056),a={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");if(o.assert(e),!a.has(e,t))throw new i("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");var r=o.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");var r=o.get(e);return!!r&&n(r,"$"+t)},set:function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`O` is not an object");if("string"!=typeof t)throw new i("`slot` must be a string");var n=o.get(e);n||(n={},o.set(e,n)),n["$"+t]=r}};Object.freeze&&Object.freeze(a),e.exports=a},7244:(e,t,r)=>{"use strict";var n=r(9092)(),o=r(8075)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},4670:(e,t,r)=>{"use strict";var n=r(487),o=r(8075),i=r(2834)("%ArrayBuffer%",!0),a=o("ArrayBuffer.prototype.byteLength",!0),s=o("Object.prototype.toString"),u=!!i&&!a&&new i(0).slice,c=!!u&&n(u);e.exports=a||c?function(e){if(!e||"object"!=typeof e)return!1;try{return a?a(e):c(e,0),!0}catch(e){return!1}}:i?function(e){return"[object ArrayBuffer]"===s(e)}:function(e){return!1}},9803:(e,t,r)=>{"use strict";if(r(7409)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},5128:(e,t,r)=>{"use strict";var n=r(8075),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),a=r(9092)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i(e))}},9600:e=>{"use strict";var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},s=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;u.call(p)===u.call(document.all)&&(f=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=u.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&s(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return s(e);if(a(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},2120:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(9092)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},3802:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},1703:(e,t,r)=>{"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i=r(9092)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===o.call(e))}},4035:(e,t,r)=>{"use strict";var n,o,i,a,s=r(8075),u=r(9092)();if(u){n=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var l=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!=typeof e)return!1;var t=f(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},256:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},7070:(e,t,r)=>{"use strict";var n=r(8075)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=n?function(e){if(!e||"object"!=typeof e)return!1;try{return n(e),!0}catch(e){return!1}}:function(e){return!1}},4761:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i=r(9092)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},3612:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(6420)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},7842:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var o=r?r.prototype.has:null,i=n?n.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e,o),i)try{i.call(e,i)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},2648:(e,t,r)=>{"use strict";var n=r(2834),o=r(8075),i=n("%WeakSet%",!0),a=o("WeakSet.prototype.has",!0);if(a){var s=o("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(e){return!0}return e instanceof i}catch(e){}return!1}}else e.exports=function(e){return!1}},8859:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,_=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,C=RegExp.prototype.test,x=Array.prototype.concat,P=Array.prototype.join,O=Array.prototype.slice,M=Math.floor,S="function"==typeof BigInt?BigInt.prototype.valueOf:null,j=Object.getOwnPropertySymbols,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function F(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||C.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-M(-e):M(e);if(n!==e){var o=String(n),i=g.call(t,o.length+1);return _.call(o,r,"$&_")+"."+_.call(_.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,r,"$&_")}var R=r(2634),B=R.custom,k=U(B)?B:null;function z(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function V(e){return _.call(String(e),/"/g,"&quot;")}function L(e){return!("[object Array]"!==H(e)||T&&"object"==typeof e&&T in e)}function N(e){return!("[object RegExp]"!==H(e)||T&&"object"==typeof e&&T in e)}function U(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,o,s){var u=n||{};if(W(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!W(u,"customInspect")||u.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return X(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var C=String(t);return b?F(t,C):C}if("bigint"==typeof t){var M=String(t)+"n";return b?F(t,M):M}var j=void 0===u.depth?5:u.depth;if(void 0===o&&(o=0),o>=j&&j>0&&"object"==typeof t)return L(t)?"[Array]":"[Object]";var B,G=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=P.call(Array(e.indent+1)," ")}return{base:r,prev:P.call(Array(t+1),r)}}(u,o);if(void 0===s)s=[];else if(Y(s,t)>=0)return"[Circular]";function q(t,r,n){if(r&&(s=O.call(s)).push(r),n){var i={depth:u.depth};return W(u,"quoteStyle")&&(i.quoteStyle=u.quoteStyle),e(t,i,o+1,s)}return e(t,u,o+1,s)}if("function"==typeof t&&!N(t)){var ee=function(e){if(e.name)return e.name;var t=v.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=Z(t,q);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+P.call(te,", ")+" }":"")}if(U(t)){var re=A?_.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(t);return"object"!=typeof t||A?re:Q(re)}if((B=t)&&"object"==typeof B&&("undefined"!=typeof HTMLElement&&B instanceof HTMLElement||"string"==typeof B.nodeName&&"function"==typeof B.getAttribute)){for(var ne="<"+w.call(String(t.nodeName)),oe=t.attributes||[],ie=0;ie<oe.length;ie++)ne+=" "+oe[ie].name+"="+z(V(oe[ie].value),"double",u);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+w.call(String(t.nodeName))+">"}if(L(t)){if(0===t.length)return"[]";var ae=Z(t,q);return G&&!function(e){for(var t=0;t<e.length;t++)if(Y(e[t],"\n")>=0)return!1;return!0}(ae)?"["+J(ae,G)+"]":"[ "+P.call(ae,", ")+" ]"}if(function(e){return!("[object Error]"!==H(e)||T&&"object"==typeof e&&T in e)}(t)){var se=Z(t,q);return"cause"in Error.prototype||!("cause"in t)||I.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+P.call(se,", ")+" }":"{ ["+String(t)+"] "+P.call(x.call("[cause]: "+q(t.cause),se),", ")+" }"}if("object"==typeof t&&m){if(k&&"function"==typeof t[k]&&R)return R(t,{depth:j-o});if("symbol"!==m&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ue=[];return a&&a.call(t,(function(e,r){ue.push(q(r,t,!0)+" => "+q(e,t))})),$("Map",i.call(t),ue,G)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ce=[];return l&&l.call(t,(function(e){ce.push(q(e,t))})),$("Set",c.call(t),ce,G)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==H(e)||T&&"object"==typeof e&&T in e)}(t))return Q(q(Number(t)));if(function(e){if(!e||"object"!=typeof e||!S)return!1;try{return S.call(e),!0}catch(e){}return!1}(t))return Q(q(S.call(t)));if(function(e){return!("[object Boolean]"!==H(e)||T&&"object"==typeof e&&T in e)}(t))return Q(h.call(t));if(function(e){return!("[object String]"!==H(e)||T&&"object"==typeof e&&T in e)}(t))return Q(q(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==H(e)||T&&"object"==typeof e&&T in e)}(t)&&!N(t)){var le=Z(t,q),fe=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",de=!fe&&T&&Object(t)===t&&T in t?g.call(H(t),8,-1):pe?"Object":"",he=(fe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||pe?"["+P.call(x.call([],de||[],pe||[]),": ")+"] ":"");return 0===le.length?he+"{}":G?he+"{"+J(le,G)+"}":he+"{ "+P.call(le,", ")+" }"}return String(t)};var G=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return G.call(e,t)}function H(e){return m.call(e)}function Y(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function X(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return X(g.call(e,0,t.maxStringLength),t)+n}return z(_.call(_.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,q),"single",t)}function q(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function Q(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function $(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):P.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+P.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r=L(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=W(e,o)?t(e[o],e):""}var i,a="function"==typeof j?j(e):[];if(A){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in e)W(e,u)&&(r&&String(Number(u))===u&&u<e.length||A&&i["$"+u]instanceof Symbol||(C.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof j)for(var c=0;c<a.length;c++)I.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}},9211:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},7653:(e,t,r)=>{"use strict";var n=r(8452),o=r(487),i=r(9211),a=r(9394),s=r(6576),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},9394:(e,t,r)=>{"use strict";var n=r(9211);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},6576:(e,t,r)=>{"use strict";var n=r(9394),o=r(8452);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8875:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(1093),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(n&&e.length>0)for(var y=0;y<e.length;++y)p.push(String(y));else for(var v in e)h&&"prototype"===v||!o.call(e,v)||p.push(String(v));if(u)for(var g=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),_=0;_<l.length;++_)g&&"constructor"===l[_]||!o.call(e,l[_])||p.push(l[_]);return p}}e.exports=n},1189:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1093),i=Object.keys,a=i?function(e){return i(e)}:r(8875),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},8403:(e,t,r)=>{"use strict";var n=r(1189),o=r(1333)(),i=r(8075),a=Object,s=i("Array.prototype.push"),u=i("Object.prototype.propertyIsEnumerable"),c=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=a(e);if(1===arguments.length)return r;for(var i=1;i<arguments.length;++i){var l=a(arguments[i]),f=n(l),p=o&&(Object.getOwnPropertySymbols||c);if(p)for(var d=p(l),h=0;h<d.length;++h){var m=d[h];u(l,m)&&s(f,m)}for(var y=0;y<f.length;++y){var v=f[y];if(u(l,v)){var g=l[v];r[v]=g}}}return r}},6525:(e,t,r)=>{"use strict";var n=r(8452),o=r(487),i=r(8403),a=r(1514),s=r(984),u=o.apply(a()),c=function(e,t){return u(Object,arguments)};n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},1514:(e,t,r)=>{"use strict";var n=r(8403);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},984:(e,t,r)=>{"use strict";var n=r(8452),o=r(1514);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},6578:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},5341:function(e){e.exports=function(){"use strict";function e(e,n,o,i,a){!function e(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,c=Math.log(s),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(r,n,Math.max(o,Math.floor(n-u*l/s+f)),Math.min(i,Math.floor(n+(s-u)*l/s+f)),a)}var p=r[n],d=o,h=i;for(t(r,o,n),a(r[i],p)>0&&t(r,o,i);d<h;){for(t(r,d,h),d++,h--;a(r[d],p)<0;)d++;for(;a(r[h],p)>0;)h--}0===a(r[o],p)?t(r,o,h):t(r,++h,i),h<=n&&(o=h+1),n<=h&&(i=h-1)}}(e,n,o||0,i||e.length-1,a||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,o){o||(o=h(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<r;i++){var a=e.children[i];s(o,e.leaf?n(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,r,n,o,i){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=o)){var s=r+Math.ceil((n-r)/o/2)*o;e(t,s,r,n,i),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!d(e,t))return r;for(var n=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?n(a):a;d(e,s)&&(t.leaf?r.push(a):p(e,s)?this._all(a,r):o.push(a))}t=o.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var o=t.children[n],i=t.leaf?this.toBBox(o):o;if(d(e,i)){if(t.leaf||p(e,i))return!0;r.push(o)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=h([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,i,a=this.data,s=this.toBBox(e),u=[],c=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],r=c.pop(),i=!0),a.leaf){var l=o(e,a.children,t);if(-1!==l)return a.children.splice(l,1),u.push(a),this._condense(u),this}i||a.leaf||!p(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(u.push(a),c.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var o,a=r-t+1,s=this._maxEntries;if(a<=s)return i(o=h(e.slice(t,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(o=h([])).leaf=!1,o.height=n;var u=Math.ceil(a/s),c=u*Math.ceil(Math.sqrt(s));m(e,t,r,c,this.compareMinX);for(var l=t;l<=r;l+=c){var f=Math.min(l+c-1,r);m(e,l,f,u,this.compareMinY);for(var p=l;p<=f;p+=u){var d=Math.min(p+u-1,f);o.children.push(this._build(e,p,d,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var u=t.children[s],c=l(u),f=(p=e,d=u,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-c);f<i?(i=f,o=c<o?c:o,a=u):f===i&&c<o&&(o=c,a=u)}t=a||t.children[0]}var p,d;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),o=[],i=this._chooseSubtree(n,this.data,t,o);for(i.children.push(e),s(i,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),s=h(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,o,i,s,u,c,f,p=1/0,d=1/0,h=t;h<=r-t;h++){var m=a(e,0,h,this.toBBox),y=a(e,h,r,this.toBBox),v=(o=m,i=y,void 0,void 0,void 0,void 0,s=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),f=Math.min(o.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,f-u)),g=l(m)+l(y);v<p?(p=v,n=h,d=g<d?g:d):v===p&&g<d&&(d=g,n=h)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:u,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,o)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var o=this.toBBox,i=a(e,0,t,o),u=a(e,r-t,r,o),c=f(i)+f(u),l=t;l<r-t;l++){var p=e.children[l];s(i,e.leaf?o(p):p),c+=f(i)}for(var d=r-t-1;d>=t;d--){var h=e.children[d];s(u,e.leaf?o(h):h),c+=f(u)}return c},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},n}()},7675:(e,t,r)=>{"use strict";var n=r(3206),o=r(2056),i=Object;e.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},1589:(e,t,r)=>{"use strict";var n=r(8452),o=r(487),i=r(7675),a=r(5330),s=r(3984),u=o(a());n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},5330:(e,t,r)=>{"use strict";var n=r(7675),o=r(8452).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},3984:(e,t,r)=>{"use strict";var n=r(8452).supportsDescriptors,o=r(5330),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},6897:(e,t,r)=>{"use strict";var n=r(2834),o=r(41),i=r(592)(),a=r(5795),s=r(2056),u=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||u(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(c=!1)}return(n||c||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},3206:(e,t,r)=>{"use strict";var n=r(41),o=r(592)(),i=r(4462).functionsHaveConfigurableNames(),a=r(2056);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(e,"name",t,!0,!0):n(e,"name",t)),e}},920:(e,t,r)=>{"use strict";var n=r(2834),o=r(8075),i=r(8859),a=r(2056),s=n("%WeakMap%",!0),u=n("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),d=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),m=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+i(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(u){if(t)return p(t,n)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return f(e,n)}else if(u){if(t)return h(t,n)}else if(r)return function(e,t){return!!m(e,t)}(r,n);return!1},set:function(n,o){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),l(e,n,o)):u?(t||(t=new u),d(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=m(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},9439:(e,t,r)=>{"use strict";var n=r(2444),o=SyntaxError,i="object"==typeof StopIteration?StopIteration:null;e.exports=function(e){if(!i)throw new o("this environment lacks StopIteration");n.set(e,"[[Done]]",!1);var t={next:function(){var e=n.get(this,"[[Iterator]]"),t=n.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(t){if(n.set(e,"[[Done]]",!0),t!==i)throw t;return{done:!0,value:void 0}}}};return n.set(t,"[[Iterator]]",e),t}},1539:(e,t,r)=>{"use strict";var n=r(4761),o=r(1703),i=r(5128),a=r(3612),s=r(9803);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":o(e)?"Number":i(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},593:(e,t,r)=>{"use strict";var n=r(3802),o=r(256),i=r(7842),a=r(2648);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},5767:(e,t,r)=>{"use strict";var n=r(2682),o=r(9209),i=r(487),a=r(8075),s=r(5795),u=a("Object.prototype.toString"),c=r(9092)(),l="undefined"==typeof globalThis?r.g:globalThis,f=o(),p=a("String.prototype.slice"),d=Object.getPrototypeOf,h=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},m={__proto__:null};n(f,c&&s&&d?function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=d(t),n=s(r,Symbol.toStringTag);if(!n){var o=d(r);n=s(o,Symbol.toStringTag)}m["$"+e]=i(n.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(m["$"+e]=i(r))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=p(u(e),8,-1);return h(f,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(m,(function(r,n){if(!t)try{r(e),t=p(n,1)}catch(e){}})),t}(e)}return s?function(e){var t=!1;return n(m,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=p(n,1))}catch(e){}})),t}(e):null}},7555:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackGroundImage:()=>d});const n=Cesium.BoundingRectangle,o=Cesium.Color,i=Cesium.defined,a=Cesium.destroyObject,s=Cesium.DeveloperError,u=(Cesium.Pass,Cesium.RenderState),c=Cesium.ShaderSource,l=Cesium._shadersViewportQuadFS,f=Cesium.BlendingState,p=Cesium.Material;function d(e){let t;this.show=!0,i(t)||(t=new n),this.rectangle=n.clone(t),i(e)||(e=p.fromType(p.ColorType,{color:new o(1,1,1,1)})),this.material=e,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}d.prototype.update=function(e){if(this.show){if(!i(this.material))throw new s("this.material must be defined.");if(!i(this.rectangle))throw new s("this.rectangle must be defined.");this.rectangle.width=e.context.drawingBufferWidth,this.rectangle.height=e.context.drawingBufferHeight;var t=this._rs;if(i(t)&&n.equals(t.viewport,this.rectangle)||(this._rs=u.fromCache({blending:f.ALPHA_BLEND,viewport:this.rectangle}),this._overlayCommand&&(this._overlayCommand.renderState=this._rs)),e.passes.render){var r=e.context;if(this._material!==this.material||!i(this._overlayCommand)){this._material=this.material,i(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();var o=new c({sources:[this._material.shaderSource,l]});this._overlayCommand=r.createViewportQuadCommand(o,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this})}this._material.update(r),this._overlayCommand.uniformMap=this._material._uniforms}return this._overlayCommand}},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return i(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),a(this)}},8259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var n=r(1557);const o=n.Cartesian3,i=n.defaultValue,a=n.defined,s=n.destroyObject,u=n.Ellipsoid,c=n.EllipsoidGeometry,l=n.GeometryPipeline,f=n.Math,p=n.Matrix4,d=n.VertexFormat,h=n.BufferUsage,m=n.DrawCommand,y=n.RenderState,v=n.ShaderProgram,g=n.ShaderSource,_=n.VertexArray,b=n._shadersAtmosphereCommon,w=n._shadersSkyAtmosphereCommon,C=n._shadersSkyAtmosphereVS,x=n.Axis,P=n.BlendingState,O=n.CullFace,M=n.SceneMode,S=n.Transforms,j=n.Matrix3,E=n.DeveloperError,A=n.loadCubeMap,T=n.CubeMap;function I(e,t){e=i(e,u.WGS84),this.show=!0,this.sources=t,this.perFragmentAtmosphere=!1,this._ellipsoid=e;const r=o.multiplyByScalar(e.radii,1.025,new o);this._scaleMatrix=p.fromScale(r),this._modelMatrix=new p,this._command=new m({owner:this,modelMatrix:this._modelMatrix}),this._spSkyFromSpace=void 0,this._spSkyFromAtmosphere=void 0,this._flags=void 0,this.atmosphereLightIntensity=50,this.atmosphereRayleighCoefficient=new o(55e-7,13e-6,284e-7),this.atmosphereMieCoefficient=new o(21e-6,21e-6,21e-6),this.atmosphereRayleighScaleHeight=1e4,this.atmosphereMieScaleHeight=3200,this.atmosphereMieAnisotropy=.9,this.hueShift=0,this.saturationShift=0,this.brightnessShift=0,this._hueSaturationBrightness=new o;const n=new o;n.x=1.025*e.maximumRadius,n.y=e.maximumRadius,n.z=0,this._radiiAndDynamicAtmosphereColor=n;const a=this;this._command.uniformMap={u_radiiAndDynamicAtmosphereColor:function(){return a._radiiAndDynamicAtmosphereColor},u_hsbShift:function(){return a._hueSaturationBrightness.x=a.hueShift,a._hueSaturationBrightness.y=a.saturationShift,a._hueSaturationBrightness.z=a.brightnessShift,a._hueSaturationBrightness},u_atmosphereLightIntensity:function(){return a.atmosphereLightIntensity},u_atmosphereRayleighCoefficient:function(){return a.atmosphereRayleighCoefficient},u_atmosphereMieCoefficient:function(){return a.atmosphereMieCoefficient},u_atmosphereRayleighScaleHeight:function(){return a.atmosphereRayleighScaleHeight},u_atmosphereMieScaleHeight:function(){return a.atmosphereMieScaleHeight},u_atmosphereMieAnisotropy:function(){return a.atmosphereMieAnisotropy},u_rotateMatrix:function(){return a._scratchRoateMatrix=a._scratchRoateMatrix||new j,p.getMatrix3(a._eunMatrix||p.IDENTITY,a._scratchRoateMatrix)},u_cubeMap:function(){return a._cubeMap}}}Object.defineProperties(I.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),I.prototype.setDynamicAtmosphereColor=function(e,t){const r=e?t?2:1:0;this._radiiAndDynamicAtmosphereColor.z=r};const D=new p;I.prototype.update=function(e,t){if(!this.show)return;const r=e.mode;if(r!==M.SCENE3D&&r!==M.MORPHING)return;if(!e.passes.render)return;if(this._sources!==this.sources){const t=e.context;var n=this;this._sources=this.sources;var i=this.sources;if(!(a(i.positiveX)&&a(i.negativeX)&&a(i.positiveY)&&a(i.negativeY)&&a(i.positiveZ)&&a(i.negativeZ)))throw new E("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");if(typeof i.positiveX!=typeof i.negativeX||typeof i.positiveX!=typeof i.positiveY||typeof i.positiveX!=typeof i.negativeY||typeof i.positiveX!=typeof i.positiveZ||typeof i.positiveX!=typeof i.negativeZ)throw new E("this.sources properties must all be the same type.");"string"==typeof i.positiveX?A(t,this._sources).then((function(e){n._cubeMap=n._cubeMap&&n._cubeMap.destroy(),n._cubeMap=e})):(this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),this._cubeMap=new T({context:t,source:i}))}const s=p.fromRotationTranslation(e.context.uniformState.inverseViewRotation,o.ZERO,D),u=p.multiplyTransformation(s,x.Y_UP_TO_Z_UP,D),m=p.multiply(this._scaleMatrix,u,D);p.clone(m,this._modelMatrix);const j=e.context,I=(F=this,!(f.equalsEpsilon(F.hueShift,0,f.EPSILON7)&&f.equalsEpsilon(F.saturationShift,0,f.EPSILON7)&&f.equalsEpsilon(F.brightnessShift,0,f.EPSILON7)));var F;const R=e.globeTranslucencyState.translucent,B=this.perFragmentAtmosphere||R||!a(t)||!t.show,k=this._command;if(S.eastUpNorthToFixedFrame=S.eastUpNorthToFixedFrame||S.localFrameToFixedFrameGenerator("east","up"),this._eunMatrix=S.eastUpNorthToFixedFrame(e.camera._positionWC,void 0,this._eunMatrix),!a(k.vertexArray)){const e=c.createGeometry(new c({radii:new o(1,1,1),slicePartitions:256,stackPartitions:256,vertexFormat:d.POSITION_ONLY}));k.vertexArray=_.fromGeometry({context:j,geometry:e,attributeLocations:l.createAttributeLocations(e),bufferUsage:h.STATIC_DRAW}),k.renderState=y.fromCache({cull:{enabled:!0,face:O.FRONT},blending:P.ALPHA_BLEND,depthMask:!1})}const z=I|B<<2|R<<3;if(z!==this._flags){this._flags=z;const e=[];I&&e.push("COLOR_CORRECT"),B&&e.push("PER_FRAGMENT_ATMOSPHERE"),R&&e.push("GLOBE_TRANSLUCENT");const t=new g({defines:e,sources:[b,w,C]}),r=new g({defines:e,sources:[b,w,"in vec3 v_outerPositionWC;\n\nuniform vec3 u_hsbShift;\n\n#ifndef PER_FRAGMENT_ATMOSPHERE\nin vec3 v_mieColor;\nin vec3 v_rayleighColor;\nin float v_opacity;\nin float v_translucent;\n#endif\n\nuniform samplerCube u_cubeMap; // vtxf \nuniform mat3 u_rotateMatrix; // vtxf\n\nvoid main (void)\n{\n    vec3 lightDirection = getLightDirection(v_outerPositionWC);\n   \n    vec3 mieColor;\n    vec3 rayleighColor;\n    float opacity;\n    float translucent;\n\n    #ifdef PER_FRAGMENT_ATMOSPHERE\n        computeAtmosphereScattering(\n            v_outerPositionWC,\n            lightDirection,\n            rayleighColor,\n            mieColor,\n            opacity,\n            translucent\n        );\n    #else\n        mieColor = v_mieColor;\n        rayleighColor = v_rayleighColor;\n        opacity = v_opacity;\n        translucent = v_translucent;\n    #endif\n\n    vec4 color = computeAtmosphereColor(v_outerPositionWC, lightDirection, rayleighColor, mieColor, opacity);\n\n    #ifndef HDR\n        color.rgb = czm_acesTonemapping(color.rgb);\n        color.rgb = czm_inverseGamma(color.rgb);\n    #endif\n\n    #ifdef COLOR_CORRECT\n        // Convert rgb color to hsb\n        vec3 hsb = czm_RGBToHSB(color.rgb);\n        // Perform hsb shift\n        hsb.x += u_hsbShift.x; // hue\n        hsb.y = clamp(hsb.y + u_hsbShift.y, 0.0, 1.0); // saturation\n        hsb.z = hsb.z > czm_epsilon7 ? hsb.z + u_hsbShift.z : 0.0; // brightness\n        // Convert shifted hsb back to rgb\n        color.rgb = czm_HSBToRGB(hsb);\n    #endif\n\n    // For the parts of the sky atmosphere that are not behind a translucent globe,\n    // we mix in the default opacity so that the sky atmosphere still appears at distance.\n    // This is needed because the opacity in the sky atmosphere is initially adjusted based\n    // on the camera height.\n    if (translucent == 0.0) {\n        color.a = mix(color.b, 1.0, color.a) * smoothstep(0.0, 1.0, czm_morphTime);\n    }\n\n    // out_FragColor = color; // vtxf \n    // ------------------ skybox vtxf begin -------------------\n    vec4 positionEC = czm_windowToEyeCoordinates(gl_FragCoord);\n    vec3 me = positionEC.xyz * czm_viewRotation * u_rotateMatrix;\n    // webgl2 textureCube -> texture \n    vec4 skyBoxColor = texture(u_cubeMap, normalize(vec3(me.x, -me.yz)));\n\n    float skyBoxAlpha = 1.0 - clamp((czm_eyeHeight - 2000.0) / (5000.0 - 2000.0), 0.0, 1.0);\n    color.rgb = color.rgb * (1.0 - skyBoxAlpha) + skyBoxColor.rgb * (skyBoxAlpha);\n    color.a = color.a;\n    out_FragColor = color;\n    // ------------------ skybox vtxf end -------------------\n}\n"]});this._spSkyAtmosphere=v.fromCache({context:j,vertexShaderSource:t,fragmentShaderSource:r}),k.shaderProgram=this._spSkyAtmosphere}return a(this._cubeMap)?k:void 0},I.prototype.isDestroyed=function(){return!1},I.prototype.destroy=function(){const e=this._command;return e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),this._spSkyAtmosphere=this._spSkyAtmosphere&&this._spSkyAtmosphere.destroy(),this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),s(this)};const F=I},7666:(e,t,r)=>{"use strict";r.r(t),r.d(t,{XbsjCameraVideo:()=>p});var n=r(1557),o=n.Primitive._modifyShaderPosition;n.Primitive._modifyShaderPosition=function(e,t,r){return t=o(e,t,r),e.isCameraVideo&&-1===t.indexOf("XBSJ_CAMERA_VIDEO")&&(t=t.replace("void main()","\n            #ifdef XBSJ_CAMERA_VIDEO\n            uniform mat4 u_boxMV;\n            #endif\n\n            void main()\n        ").replace("gl_Position = czm_depthClamp(czm_modelViewProjectionRelativeToEye * position);","\n            #ifdef XBSJ_CAMERA_VIDEO\n\n            position.y -= 1.001;\n            position = u_boxMV * position;\n            position.xyz /= position.w;\n            position.w = 1.0;\n            gl_Position = czm_depthClamp(czm_projection * position);\n\n            #else\n\n            gl_Position = czm_depthClamp(czm_modelViewProjectionRelativeToEye * position);\n\n            #endif\n        ").replace("vec4 position = czm_computePosition();","\n            vec4 position = czm_computePosition();\n            #ifdef XBSJ_CAMERA_VIDEO\n            position = vec4(position3DLow + position3DHigh, 1.0);\n            #endif\n        ")),t};var i=n.ShadowVolumeAppearance.hasAttributesForTextureCoordinatePlanes;n.ShadowVolumeAppearance.hasAttributesForTextureCoordinatePlanes=function(e){return!!n.defined(e.isCameraVideo)||i(e)};var a=n.ShadowVolumeAppearance.prototype.createFragmentShader;n.ShadowVolumeAppearance.prototype.createFragmentShader=function(e){var t=a.bind(this)(e);return this._appearance.isCameraVideo&&(["TEXTURE_COORDINATES","CULL_FRAGMENTS","USES_ST"].forEach((function(e){var r=t.defines.indexOf(e);-1!==r&&t.defines.splice(r,1)})),t.defines.push("XBSJ_CAMERA_VIDEO"),t.sources.forEach((function(e,r){-1===e.indexOf("XBSJ_CAMERA_VIDEO")&&(t.sources[r]=e.replace("void main(void)","\n                #ifdef XBSJ_CAMERA_VIDEO\n                uniform mat4 u_inverseBoxMV;\n                #endif\n\n                void main(void)\n            ").replace("czm_material material = czm_getMaterial(materialInput);","\n\n                #ifdef XBSJ_CAMERA_VIDEO\n                    vec4 shadowPosition = u_inverseBoxMV * eyeCoordinate;\n                    shadowPosition.xyz = shadowPosition.xyz / shadowPosition.w;\n                    materialInput.st = shadowPosition.xy * 0.5 + 0.5;\n                #endif\n\n                    czm_material material = czm_getMaterial(materialInput);\n            "))}))),t};var s=n.ShadowVolumeAppearance.prototype.createVertexShader;n.ShadowVolumeAppearance.prototype.createVertexShader=function(e,t,r,n){var o=s.bind(this)(e,t,r,n);return this._appearance.isCameraVideo&&(["TEXTURE_COORDINATES","CULL_FRAGMENTS","USES_ST"].forEach((function(e){var t=o.defines.indexOf(e);-1!==t&&o.defines.splice(t,1)})),o.defines.push("XBSJ_CAMERA_VIDEO")),o};var u=new n.Cartesian3;const c=function(e){var t=new n.Cartesian3(-1,-1,-1),r=new n.Cartesian3(1,1,1);t.y+=1.001,r.y+=1.001;var o=new Float64Array(24);o[0]=t.x,o[1]=t.y,o[2]=t.z,o[3]=r.x,o[4]=t.y,o[5]=t.z,o[6]=r.x,o[7]=r.y,o[8]=t.z,o[9]=t.x,o[10]=r.y,o[11]=t.z,o[12]=t.x,o[13]=t.y,o[14]=r.z,o[15]=r.x,o[16]=t.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=t.x,o[22]=r.y,o[23]=r.z;var i=new n.GeometryAttributes;i.position=new n.GeometryAttribute({componentDatatype:n.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:o});var a,s=new Uint16Array(36);s[0]=4,s[1]=5,s[2]=6,s[3]=4,s[4]=6,s[5]=7,s[6]=1,s[7]=0,s[8]=3,s[9]=1,s[10]=3,s[11]=2,s[12]=1,s[13]=6,s[14]=5,s[15]=1,s[16]=2,s[17]=6,s[18]=2,s[19]=3,s[20]=7,s[21]=2,s[22]=7,s[23]=6,s[24]=3,s[25]=0,s[26]=4,s[27]=3,s[28]=4,s[29]=7,s[30]=0,s[31]=1,s[32]=5,s[33]=0,s[34]=5,s[35]=4;for(var c=0;c<36;c+=3)s[c]=s[c]^s[c+2],s[c+2]=s[c]^s[c+2],s[c]=s[c]^s[c+2];e&&((a=new Uint16Array(24))[0]=0,a[1]=1,a[2]=1,a[3]=2,a[4]=2,a[5]=3,a[6]=3,a[7]=0,a[8]=4,a[9]=5,a[10]=5,a[11]=6,a[12]=6,a[13]=7,a[14]=7,a[15]=4,a[16]=0,a[17]=4,a[18]=1,a[19]=5,a[20]=2,a[21]=6,a[22]=3,a[23]=7);var l=n.Cartesian3.subtract(r,t,u),f=.5*n.Cartesian3.magnitude(l);return new n.Geometry({attributes:i,indices:e?a:s,primitiveType:e?n.PrimitiveType.LINES:n.PrimitiveType.TRIANGLES,boundingSphere:new n.BoundingSphere(n.Cartesian3.ZERO,f)})};var l=r(1134);n.defineProperties=Object.defineProperties;var f="\nin vec3 position3DHigh;\nin vec3 position3DLow;\nin vec4 color;\nin float batchId;\n\nout vec4 v_color;\n\nuniform mat4 u_boxMV;\n\nvoid main()\n{\n    v_color = color;\n\n    vec4 p = vec4(position3DHigh + position3DLow, 1.0);\n    p.y -= 1.001;\n    p = u_boxMV * p;\n    p.xyz /= p.w;\n    p.w = 1.0;\n    gl_Position = czm_projection * p;\n}\n";function p(e){if(!n.defined(e.inverseViewMatrix))throw new Error("XbsjCameraVideo error!");this.videoTextureFunc=e.videoTextureFunc,this.alphaTextureFunc=e.alphaTextureFunc;var t=n.defaultValue(e.showHelperPrimitive,!1);this.inverseViewMatrix=n.Matrix4.clone(e.inverseViewMatrix),this._inverseViewMatrix=new n.Matrix4,n.defined(e.frustum)?this.frustum=e.frustum.clone():this.frustum=new n.PerspectiveFrustum({fov:n.Math.toRadians(30),aspectRatio:1.333,near:10,far:100}),this._boxMV=new n.Matrix4,this._primitiveModelMatrix=new n.Matrix4,this._inverseBoxMV=new n.Matrix4;var r=this,o={u_inverseBoxMV:function(){return r._inverseBoxMV},u_boxMV:function(){return r._boxMV}},i=new n.Material({fabric:{type:"XbsjCameraVideo",uniforms:{image:"",alphaImage:n.Material.DefaultImageId},components:{diffuse:"texture(image, fract(materialInput.st)).rgb",alpha:"texture(alphaImage, fract(materialInput.st)).r"}}});{const e=i._uniforms.image_0;i._uniforms.image_0=()=>this.videoTextureFunc&&this.videoTextureFunc()||e()}{const e=i._uniforms.alphaImage_1;i._uniforms.alphaImage_1=()=>this.alphaTextureFunc&&this.alphaTextureFunc()||e()}var a=new n.MaterialAppearance({material:i,closed:!1});a._vertexFormat=n.VertexFormat.POSITION_ONLY,a.isCameraVideo=!0;var s=new n.ClassificationPrimitive({geometryInstances:new n.GeometryInstance({geometry:c(),attributes:{color:n.ColorGeometryInstanceAttribute.fromColor(new n.Color(1,0,0,1)),show:new n.ShowGeometryInstanceAttribute(!0),isCameraVideo:new n.ShowGeometryInstanceAttribute(!0)},id:"volume"}),classificationType:n.ClassificationType.CESIUM_3D_TILE,_uniformMap:o,appearance:a,asynchronous:!1,compressVertices:!1,allowPicking:!1});s.isCameraVideo=!0,Object.defineProperties(s,{_sp:{set:function(e){if(this.__sp!==e){if(e){var t=e,r=t.vertexShaderSource;-1===r.defines.indexOf("XBSJ_CAMERA_VIDEO")&&r.defines.push("XBSJ_CAMERA_VIDEO")}this.__sp=t}},get:function(){return this.__sp}},cameraInfo:{get:function(){return this._cameraInfo}}}),this._primitive=s;var u=new n.PerInstanceColorAppearance({closed:!1,flat:!0,translucent:!1,vertexShaderSource:f});u.uniforms={u_boxMV:this._boxMV};var l=new n.Primitive({geometryInstances:new n.GeometryInstance({geometry:c(!0),attributes:{color:n.ColorGeometryInstanceAttribute.fromColor(new n.Color(1,0,0,1)),show:new n.ShowGeometryInstanceAttribute(!0)},id:"cameraVideoHelper"}),appearance:u,asynchronous:!1,compressVertices:!1,cull:!1,show:t});this._helperPrimitive=l,this._projectionMatrix=new n.Matrix4,this._inverseViewProjectionMatrix=new n.Matrix4,this._viewProjectionMatrix=new n.Matrix4,this.show=!0}p.prototype.update=function(e){if(this.show){{this._scratchCartesian=this._scratchCartesian||new n.Cartesian3,this._scratchBS=this._scratchBS||new n.BoundingSphere;const t=n.Matrix4.getTranslation(this.inverseViewMatrix,this._scratchCartesian),r=this.frustum.far,o=this._scratchBS;if(n.Cartesian3.clone(t,o.center),o.radius=r,e.cullingVolume.computeVisibility(o)===n.Intersect.OUTSIDE)return;const i=e.camera;if(i&&i.getPixelSize&&(0,l.getSceneScaleForScreenPixelSize)(i._scene,o.center,20)>o.radius)return}var t=n.Matrix4.equals(this.frustum.projectionMatrix,this._projectionMatrix),r=n.Matrix4.equals(this.inverseViewMatrix,this._inverseViewMatrix);if(t||n.Matrix4.clone(this.frustum.projectionMatrix,this._projectionMatrix),r||n.Matrix4.clone(this.inverseViewMatrix,this._inverseViewMatrix),!t||!r){var o=this._inverseViewProjectionMatrix;n.Matrix4.inverse(this._projectionMatrix,o),n.Matrix4.multiply(this._inverseViewMatrix,o,o);var i=this._viewProjectionMatrix;n.Matrix4.inverse(o,i);var a=this._primitiveModelMatrix;n.Matrix4.fromUniformScale(this.frustum.far,a),n.Matrix4.multiply(this._inverseViewMatrix,a,a),this._helperPrimitive.modelMatrix=this._primitiveModelMatrix}this._primitive._primitive&&(this._primitive._primitive.modelMatrix=this._primitiveModelMatrix),n.Matrix4.multiply(e.camera.viewMatrix,this._inverseViewProjectionMatrix,this._boxMV),n.Matrix4.multiply(this._viewProjectionMatrix,e.camera.inverseViewMatrix,this._inverseBoxMV),this._primitive.update(e),this._helperPrimitive.update(e)}},n.defineProperties(p.prototype,{showHelperPrimitive:{set:function(e){this._helperPrimitive.show=e},get:function(){return this._helperPrimitive.show}}}),p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._helperPrimitive=this._helperPrimitive&&this._helperPrimitive.destroy(),n.destroyObject(this)}},7710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});const n=Cesium.ApproximateTerrainHeights,o=Cesium.ComponentDatatype,i=Cesium.defaultValue,a=Cesium.defined,s=Cesium.destroyObject,u=Cesium.DeveloperError,c=Cesium.deprecationWarning,l=Cesium.GeometryInstance,f=Cesium.GeometryInstanceAttribute,p=Cesium.GroundPolylineGeometry,d=Cesium.DrawCommand,h=Cesium.Pass,m=Cesium.RenderState,y=Cesium.ShaderProgram,v=Cesium.ShaderSource;let g=Cesium._shadersPolylineShadowVolumeFS;const _=Cesium._shadersPolylineShadowVolumeMorphFS,b=Cesium._shadersPolylineShadowVolumeMorphVS;let w=Cesium._shadersPolylineShadowVolumeVS;const C=Cesium.BlendingState,x=Cesium.ClassificationType,P=Cesium.CullFace,O=Cesium.PolylineColorAppearance,M=Cesium.PolylineMaterialAppearance,S=Cesium.Primitive,j=Cesium.SceneMode,E=Cesium.StencilConstants,A=Cesium.StencilFunction,T=Cesium.StencilOperation;function I(e){e=i(e,i.EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;let t=e.appearance;a(t)||(t=new M),this.appearance=t,this.show=i(e.show,!0),this.classificationType=i(e.classificationType,x.BOTH),this.debugShowBoundingVolume=i(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=i(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:i(e.interleave,!1),releaseGeometryInstances:i(e.releaseGeometryInstances,!0),allowPicking:i(e.allowPicking,!0),asynchronous:i(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1;const r=this;this._readyPromise=new Promise(((e,t)=>{r._completeLoad=()=>{this._ready=!0,this.releaseGeometryInstances&&(this.geometryInstances=void 0);const r=this._error;a(r)?t(r):e(this)}})),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=D(!1),this._renderState3DTiles=D(!0),this._renderStateMorph=m.fromCache({cull:{enabled:!0,face:P.FRONT},depthTest:{enabled:!0},blending:C.PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1})}function D(e){return m.fromCache({cull:{enabled:!0},blending:C.PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:A.EQUAL,frontOperation:{fail:T.KEEP,zFail:T.KEEP,zPass:T.KEEP},backFunction:A.EQUAL,backOperation:{fail:T.KEEP,zFail:T.KEEP,zPass:T.KEEP},reference:E.CESIUM_3D_TILE_MASK,mask:E.CESIUM_3D_TILE_MASK}})}function F(e,t,r,n,o,i,a){r.mode===j.MORPHING?t=t.derivedCommands.colorMorph:r.mode!==j.SCENE3D&&(t=t.derivedCommands.color2D),t.modelMatrix=n,t.boundingVolume=i,t.cull=o,t.debugShowBoundingVolume=a,r.commandList.push(t)}w=w.replace("width = width * max(0.0, czm_metersPerPixel(positionEC));",""),g=g.replace("float halfMaxWidth = v_startPlaneNormalEcAndHalfWidth.w * czm_metersPerPixel(eyeCoordinate);","float halfMaxWidth = v_startPlaneNormalEcAndHalfWidth.w;"),Object.defineProperties(I.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return c("GroundPolylinePrimitive.readyPromise","GroundPolylinePrimitive.readyPromise was deprecated in CesiumJS 1.104. It will be removed in 1.107. Wait for GroundPolylinePrimitive.ready to return true instead."),this._readyPromise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),I.initializeTerrainHeights=function(){return n.initialize()},I.prototype.update=function(e){if(!a(this._primitive)&&!a(this.geometryInstances))return;if(!n.initialized){if(!this.asynchronous)throw new u("For synchronous GroundPolylinePrimitives, you must call GroundPolylinePrimitives.initializeTerrainHeights() and wait for the returned promise to resolve.");return void I.initializeTerrainHeights()}let t;const r=this,i=this._primitiveOptions;if(!a(this._primitive)){const s=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],u=s.length,c=new Array(u);let m;for(t=0;t<u;++t)if(m=s[t].attributes,!a(m)||!a(m.color)){this._hasPerInstanceColors=!1;break}for(t=0;t<u;++t){const n=s[t];m={};const i=n.attributes;for(const e in i)i.hasOwnProperty(e)&&(m[e]=i[e]);a(m.width)||(m.width=new f({componentDatatype:o.UNSIGNED_BYTE,componentsPerAttribute:1,value:[n.geometry.width]})),n.geometry._scene3DOnly=e.scene3DOnly,p.setProjectionAndEllipsoid(n.geometry,e.mapProjection),c[t]=new l({geometry:n.geometry,attributes:m,id:n.id,pickPrimitive:r})}i.geometryInstances=c,i.appearance=this.appearance,i._createShaderProgramFunction=function(e,t,o){!function(e,t,r){const o=t.context,i=e._primitive,s=i._attributeLocations;let u=i._batchTable.getVertexShaderCallback()(w);u=S._appendShowToShader(i,u),u=S._appendDistanceDisplayConditionToShader(i,u),u=S._modifyShaderPosition(e,u,t.scene3DOnly);let c=i._batchTable.getVertexShaderCallback()(b);c=S._appendShowToShader(i,c),c=S._appendDistanceDisplayConditionToShader(i,c),c=S._modifyShaderPosition(e,c,t.scene3DOnly);let l=i._batchTable.getVertexShaderCallback()(g);const f=[`GLOBE_MINIMUM_ALTITUDE ${t.mapProjection.ellipsoid.minimumRadius.toFixed(1)}`];let p="",d="";a(r.material)?(d=a(r.material)?r.material.shaderSource:"",-1!==d.search(/in\s+float\s+v_polylineAngle;/g)&&f.push("ANGLE_VARYING"),-1!==d.search(/in\s+float\s+v_width;/g)&&f.push("WIDTH_VARYING")):p="PER_INSTANCE_COLOR",f.push(p);const h=e.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",p]:[p],m=new v({defines:f,sources:[u]}),C=new v({defines:h,sources:[d,l]});e._sp=y.replaceCache({context:o,shaderProgram:i._sp,vertexShaderSource:m,fragmentShaderSource:C,attributeLocations:s});let x=o.shaderCache.getDerivedShaderProgram(e._sp,"2dColor");if(!a(x)){const t=new v({defines:f.concat(["COLUMBUS_VIEW_2D"]),sources:[u]});x=o.shaderCache.createDerivedShaderProgram(e._sp,"2dColor",{context:o,shaderProgram:e._sp2D,vertexShaderSource:t,fragmentShaderSource:C,attributeLocations:s})}e._sp2D=x;let P=o.shaderCache.getDerivedShaderProgram(e._sp,"MorphColor");if(!a(P)){const t=new v({defines:f.concat([`MAX_TERRAIN_HEIGHT ${n._defaultMaxTerrainHeight.toFixed(1)}`]),sources:[c]});l=i._batchTable.getVertexShaderCallback()(_);const r=new v({defines:h,sources:[d,l]});P=o.shaderCache.createDerivedShaderProgram(e._sp,"MorphColor",{context:o,shaderProgram:e._spMorph,vertexShaderSource:t,fragmentShaderSource:r,attributeLocations:s})}e._spMorph=P}(r,t,o)},i._createCommandsFunction=function(e,t,n,o,i,s,u){!function(e,t,r,n,o,i){const s=e._primitive,u=s._va.length;o.length=u,i.length=u;const c=t instanceof O?{}:r._uniforms,l=s._batchTable.getUniformMapCallback()(c);for(let t=0;t<u;t++){const r=s._va[t];let n=o[t];a(n)||(n=o[t]=new d({owner:e,primitiveType:s._primitiveType})),n.vertexArray=r,n.renderState=e._renderState,n.shaderProgram=e._sp,n.uniformMap=l,n.pass=h.TERRAIN_CLASSIFICATION,n.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";const i=d.shallowClone(n,n.derivedCommands.tileset);i.renderState=e._renderState3DTiles,i.pass=h.CESIUM_3D_TILE_CLASSIFICATION,n.derivedCommands.tileset=i;const u=d.shallowClone(n,n.derivedCommands.color2D);u.shaderProgram=e._sp2D,n.derivedCommands.color2D=u;const c=d.shallowClone(i,i.derivedCommands.color2D);c.shaderProgram=e._sp2D,i.derivedCommands.color2D=c;const f=d.shallowClone(n,n.derivedCommands.colorMorph);f.renderState=e._renderStateMorph,f.shaderProgram=e._spMorph,f.pickId="czm_batchTable_pickColor(v_batchId)",n.derivedCommands.colorMorph=f}}(r,t,n,0,s,u)},i._updateAndQueueCommandsFunction=function(e,t,n,o,i,s,u,c){!function(e,t,r,n,o,i,s){const u=e._primitive;let c;S._updateBoundingVolumes(u,t,o),t.mode===j.SCENE3D?c=u._boundingSphereWC:t.mode===j.COLUMBUS_VIEW?c=u._boundingSphereCV:t.mode===j.SCENE2D&&a(u._boundingSphere2D)?c=u._boundingSphere2D:a(u._boundingSphereMorph)&&(c=u._boundingSphereMorph);const l=t.mode===j.MORPHING,f=e.classificationType,p=f!==x.CESIUM_3D_TILE,d=f!==x.TERRAIN&&!l;let h;const m=t.passes;if(m.render||m.pick&&u.allowPicking){const e=r.length;for(let n=0;n<e;++n){const e=c[n];p&&(h=r[n],F(0,h,t,o,i,e,s)),d&&(h=r[n].derivedCommands.tileset,F(0,h,t,o,i,e,s))}}}(r,t,n,0,i,s,u)},this._primitive=new S(i)}if(this.appearance instanceof O&&!this._hasPerInstanceColors)throw new u("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e),e.afterRender.push((()=>{!this._ready&&a(this._primitive)&&this._primitive.ready&&this._completeLoad()}))},I.prototype.getGeometryInstanceAttributes=function(e){if(!a(this._primitive))throw new u("must call update before calling getGeometryInstanceAttributes");return this._primitive.getGeometryInstanceAttributes(e)},I.isSupported=function(e){return e.frameState.context.depthTexture},I.prototype.isDestroyed=function(){return!1},I.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,s(this)};const R=I},7816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(1557);const o=n.ArcType,i=n.arrayRemoveDuplicates,a=n.BoundingSphere,s=n.Cartesian3,u=n.Color,c=n.ComponentDatatype,l=n.defaultValue,f=n.defined,p=n.DeveloperError,d=n.Ellipsoid,h=n.Geometry,m=n.GeometryAttribute,y=n.GeometryAttributes,v=n.GeometryType,g=n.IndexDatatype,_=n.Math,b=n.PolylinePipeline,w=n.PrimitiveType,C=n.VertexFormat;var x=[];function P(e,t,r,n,o){var i,a=x;a.length=o;var s=r.red,c=r.green,l=r.blue,f=r.alpha,p=n.red,d=n.green,h=n.blue,m=n.alpha;if(u.equals(r,n)){for(i=0;i<o;i++)a[i]=u.clone(r);return a}var y=(p-s)/o,v=(d-c)/o,g=(h-l)/o,_=(m-f)/o;for(i=0;i<o;i++)a[i]=new u(s+i*y,c+i*v,l+i*g,f+i*_);return a}function O(e){var t=(e=l(e,l.EMPTY_OBJECT)).positions,r=e.colors,n=l(e.width,1),i=l(e.colorsPerVertex,!1);if(!f(t)||t.length<2)throw new p("At least two positions are required.");if("number"!=typeof n)throw new p("width must be a number");if(f(r)&&(i&&r.length<t.length||!i&&r.length<t.length-1))throw new p("colors has an invalid length.");this._positions=t,this._colors=r,this._width=n,this._colorsPerVertex=i,this._vertexFormat=C.clone(l(e.vertexFormat,C.DEFAULT)),this._arcType=l(e.arcType,o.GEODESIC),this._granularity=l(e.granularity,_.RADIANS_PER_DEGREE),this._ellipsoid=d.clone(l(e.ellipsoid,d.WGS84)),this._workerName="createPolylineGeometry";var a=1+t.length*s.packedLength;a+=f(r)?1+r.length*u.packedLength:1,this.packedLength=a+d.packedLength+C.packedLength+4}O.pack=function(e,t,r){if(!f(e))throw new p("value is required");if(!f(t))throw new p("array is required");var n;r=l(r,0);var o=e._positions,i=o.length;for(t[r++]=i,n=0;n<i;++n,r+=s.packedLength)s.pack(o[n],t,r);var a=e._colors;for(i=f(a)?a.length:0,t[r++]=i,n=0;n<i;++n,r+=u.packedLength)u.pack(a[n],t,r);return d.pack(e._ellipsoid,t,r),r+=d.packedLength,C.pack(e._vertexFormat,t,r),r+=C.packedLength,t[r++]=e._width,t[r++]=e._colorsPerVertex?1:0,t[r++]=e._arcType,t[r]=e._granularity,t};var M=d.clone(d.UNIT_SPHERE),S=new C,j={positions:void 0,colors:void 0,ellipsoid:M,vertexFormat:S,width:void 0,colorsPerVertex:void 0,arcType:void 0,granularity:void 0};O.unpack=function(e,t,r){if(!f(e))throw new p("array is required");var n;t=l(t,0);var o=e[t++],i=new Array(o);for(n=0;n<o;++n,t+=s.packedLength)i[n]=s.unpack(e,t);var a=(o=e[t++])>0?new Array(o):void 0;for(n=0;n<o;++n,t+=u.packedLength)a[n]=u.unpack(e,t);var c=d.unpack(e,t,M);t+=d.packedLength;var h=C.unpack(e,t,S);t+=C.packedLength;var m=e[t++],y=1===e[t++],v=e[t++],g=e[t];return f(r)?(r._positions=i,r._colors=a,r._ellipsoid=d.clone(c,r._ellipsoid),r._vertexFormat=C.clone(h,r._vertexFormat),r._width=m,r._colorsPerVertex=y,r._arcType=v,r._granularity=g,r):(j.positions=i,j.colors=a,j.width=m,j.colorsPerVertex=y,j.arcType=v,j.granularity=g,new O(j))};var E=new s,A=new s,T=new s,I=new s;O.createGeometry=function(e){var t,r,l,p=e._width,d=e._vertexFormat,C=e._colors,O=e._colorsPerVertex,M=e._arcType,S=e._granularity,j=e._ellipsoid,D=i(e._positions,s.equalsEpsilon),F=D.length;if(F<2||p<=0)return;if(M===o.GEODESIC||M===o.RHUMB){var R,B;M===o.GEODESIC?(R=_.chordLength(S,j.maximumRadius),B=b.numberOfPoints):(R=S,B=b.numberOfPointsRhumbLine);var k=b.extractHeights(D,j);if(f(C)){var z=1;for(t=0;t<F-1;++t)z+=B(D[t],D[t+1],R);var V=new Array(z),L=0;for(t=0;t<F-1;++t){var N=D[t],U=D[t+1],G=C[t],W=B(N,U,R);if(O&&t<z){var H=P(0,0,G,C[t+1],W),Y=H.length;for(r=0;r<Y;++r)V[L++]=H[r]}else for(r=0;r<W;++r)V[L++]=u.clone(G)}V[L]=u.clone(C[C.length-1]),C=V,x.length=0}D=M===o.GEODESIC?b.generateCartesianArc({positions:D,minDistance:R,ellipsoid:j,height:k}):b.generateCartesianRhumbArc({positions:D,granularity:R,ellipsoid:j,height:k})}var X,q=4*(F=D.length)-4,Q=new Float64Array(3*q),K=new Float64Array(3*q),$=new Float64Array(3*q),J=new Float32Array(2*q),Z=d.st?new Float32Array(2*q):void 0,ee=f(C)?new Uint8Array(4*q):void 0,te=0,re=0,ne=0,oe=0;let ie=[0];for(t=0;t<F-1;t++){const e=n.Cartesian3.distance(D[t],D[t+1]);ie.push(ie[ie.length-1]+e)}for(ie=ie.map((e=>e/ie[ie.length-1])),r=0;r<F;++r){var ae,se;0===r?(X=E,s.subtract(D[0],D[1],X),s.add(D[0],X,X)):X=D[r-1],s.clone(X,T),s.clone(D[r],A),r===F-1?(X=E,s.subtract(D[F-1],D[F-2],X),s.add(D[F-1],X,X)):X=D[r+1],s.clone(X,I),f(ee)&&(ae=0===r||O?C[r]:C[r-1],r!==F-1&&(se=C[r]));var ue=r===F-1?2:4;for(l=0===r?2:0;l<ue;++l){s.pack(A,Q,te),s.pack(T,K,te),s.pack(I,$,te),te+=3;var ce=l-2<0?-1:1;if(J[re++]=l%2*2-1,J[re++]=ce*p,d.st&&(Z[ne++]=ie[r],Z[ne++]=Math.max(J[re-2],0)),f(ee)){var le=l<2?ae:se;ee[oe++]=u.floatToByte(le.red),ee[oe++]=u.floatToByte(le.green),ee[oe++]=u.floatToByte(le.blue),ee[oe++]=u.floatToByte(le.alpha)}}}var fe=new y;fe.position=new m({componentDatatype:c.DOUBLE,componentsPerAttribute:3,values:Q}),fe.prevPosition=new m({componentDatatype:c.DOUBLE,componentsPerAttribute:3,values:K}),fe.nextPosition=new m({componentDatatype:c.DOUBLE,componentsPerAttribute:3,values:$}),fe.expandAndWidth=new m({componentDatatype:c.FLOAT,componentsPerAttribute:2,values:J}),d.st&&(fe.st=new m({componentDatatype:c.FLOAT,componentsPerAttribute:2,values:Z})),f(ee)&&(fe.color=new m({componentDatatype:c.UNSIGNED_BYTE,componentsPerAttribute:4,values:ee,normalize:!0}));var pe=g.createTypedArray(q,6*F-6),de=0,he=0,me=F-1;for(r=0;r<me;++r)pe[he++]=de,pe[he++]=de+2,pe[he++]=de+1,pe[he++]=de+1,pe[he++]=de+2,pe[he++]=de+3,de+=4;return new h({attributes:fe,indices:pe,primitiveType:w.TRIANGLES,boundingSphere:a.fromPoints(D),geometryType:v.POLYLINES})};const D=O;var F;function R(){return void 0===F&&(F=new n.EllipsoidGeodesic),F}function B(e,t,r,o=1){var i=R(),a=n.Cartesian3.fromDegreesArray([e[0],e[1],t[0],t[1]]),s=[0,0];e.length>=3&&t.length>=3&&(s=[e[2],t[2]]);var u=n.PolylinePipeline.generateCartesianArc({positions:a,height:s,minDistance:r}),c=n.Cartographic.fromDegrees(e[0],e[1]),l=n.Cartographic.fromDegrees(t[0],t[1]);i.setEndPoints(c,l);var f=i.surfaceDistance,p=u.length;return u.forEach((function(e,t){var r=function(e,t){var r=t/3e7;return r=Math.min(1,r),r=1-Math.pow(1-r,2),1e6*Math.sin(Math.PI*e)*r}(t/(p-1),f*o),i=n.Cartographic.fromCartesian(e);i.height+=r,n.Cartesian3.fromRadians(i.longitude,i.latitude,i.height,n.Ellipsoid.WGS84,u[t])})),u}function k(e=[.8,.8,0,1],t=!0,r=!0,o){var i;const a=o?{type:"Image",uniforms:{color:new n.Color(...e)}}:{type:"Color",uniforms:{color:new n.Color(...e)}};t?((i=new n.PolylineMaterialAppearance({material:new n.Material({fabric:a,translucent:!1}),translucent:!1})).renderState.blending=n.BlendingState.ADDITIVE_BLEND,i.renderState.depthMask=!1,i.renderState.depthTest={enabled:!0},i.getRenderState=function(){const e=n.Appearance.prototype.getRenderState.call(this);return e.depthTest={enabled:r},e.depthMask=!1,e},"Image"===i.material.type&&(i.material._uniforms.image_1=o)):((i=new n.PolylineMaterialAppearance({material:new n.Material({fabric:a,translucent:!0})})).getRenderState=function(){const e=n.Appearance.prototype.getRenderState.call(this);return e.depthTest={enabled:r},e.depthMask=!1,e},"Image"===i.material.type&&(i.material._uniforms.image_1=o));var s=n.ShaderSource.replaceMain(i._vertexShaderSource,"czm_twp_main");i._vertexShaderSource=s+"\nout vec4 v_twp; \nout vec4 v_color; \nout vec4 v_bgColor; \nout float v_expand; \nvoid main() \n{ \n    czm_twp_main(); \n    v_twp = czm_batchTable_twp(batchId); \n    v_color = czm_batchTable_color(batchId); \n    v_bgColor = czm_batchTable_bgColor(batchId); \n    v_expand = expandAndWidth.x; \n}";var u=n.ShaderSource.replaceMain(i._fragmentShaderSource,"czm_twp2_main"),c=o?"in vec4 v_twp; \nin vec4 v_color; \nin vec4 v_bgColor; \nin float v_expand; \nvoid main() \n{ \n    czm_twp2_main(); \n    float bidirectional = v_twp.z;    float forwardDir = sign(.5 - bidirectional);    float t = (.5 - forwardDir * .5) + forwardDir * v_twp.x;    float repeat = v_twp.y;    float tt = v_expand * 0.5 + 0.5;    out_FragColor = texture(image_1, vec2(fract((v_st.s - t)*repeat*forwardDir), tt));     out_FragColor *= color_0;    out_FragColor *= v_color;}":"in vec4 v_twp; \nin vec4 v_color; \nin vec4 v_bgColor; \nvoid main() \n{ \n    czm_twp2_main(); \n    float t = v_twp.x;    float bidirectional = v_twp.z;    t *= 1.03;    float alpha0 = smoothstep(t - 0.03, t, v_st.s) * step(v_st.s, t);     float mt = 1. - t;    float alpha1 = smoothstep(mt + 0.03, mt, v_st.s) * step(mt, v_st.s);     float a0 = step(abs(bidirectional - 0.0) - 0.001, 0.);    float a1 = step(abs(bidirectional - 1.0) - 0.001, 0.);    float db = step(abs(bidirectional - 2.0) - 0.001, 0.);    float alpha = alpha0 * (a0 + db) + alpha1 * (a1 + db);    alpha = clamp(alpha, 0., 1.);    out_FragColor.rgb *= (v_color.rgb * alpha + v_bgColor.rgb * (1. - alpha));    out_FragColor.a *= (v_color.a * alpha + v_bgColor.a * (1. - alpha));}";return i._fragmentShaderSource=u+"\n"+c,i}n.xbsjCreateTransmitPolyline=B;const z=new n.Cartesian4(0,0,0,0),V=new n.Cartesian4(0,0,0,0),L={timeRatio:0,repeat:1,color:[1,1,1,1],bgColor:[1,1,1,1],bidirectional:0},N=function(e,t,r,o,i=!0,a=!0,s){var u=[];try{e.forEach((function(e,t){var i=e.positions&&e.positions.map((e=>n.Cartesian3.fromDegrees(...e)))||B(e.startPos,e.endPos,void 0,void 0===e.heightRatio?1:e.heightRatio);const a=o(t,void 0,L),{timeRatio:s,repeat:c,color:l,bidirectional:f,bgColor:p}=a,d=new n.Color(...l),h=new n.Color(...p),m=[s,c,f,0];var y=function(e,t,r,o,i,a,s){const u=D.createGeometry(new D({positions:t,width:r,vertexFormat:n.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:o}));if(u)return a||((a=n.Color.clone(i||n.Color.WHITE)).alpha=.2),new n.GeometryInstance({geometry:u,id:e,attributes:{color:n.ColorGeometryInstanceAttribute.fromColor(i||n.Color.WHITE),bgColor:n.ColorGeometryInstanceAttribute.fromColor(a),twp:new n.GeometryInstanceAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,value:s})}})}(t,i,e.width,r,d,h,m);if(!y)throw new Error("cannot get geoemetry instance!");u.push(y)}))}catch(e){return}var c=new n.Primitive({geometryInstances:u,appearance:k(t,i,a,s),asynchronous:!1});return c.update=function(e){const t=this;if(void 0!==t._batchTable)for(var r=t._batchTableAttributeIndices.twp,i=t._batchTableAttributeIndices.color,a=t._batchTableAttributeIndices.bgColor,s=t._batchTable._numberOfInstances,u=0;u<s;++u){var c=u;L.timeRatio=0,L.repeat=1,L.color.splice(0,4,1,1,1);const n=o(c,e,L),{timeRatio:s,repeat:l,color:f,bidirectional:p,bgColor:d}=n;z.x=s,z.y=l,z.z="number"!=typeof p?0:p,t._batchTable.setBatchedAttribute(c,r,z),V.x=255*f[0],V.y=255*f[1],V.z=255*f[2],V.w=255*f[3],t._batchTable.setBatchedAttribute(c,i,V),V.x=255*d[0],V.y=255*d[1],V.z=255*d[2],V.w=255*d[3],t._batchTable.setBatchedAttribute(c,a,V)}n.Primitive.prototype.update.call(t,e)},c}},7112:(e,t,r)=>{"use strict";function n(e,t){const r=e,n=t,o=Math.cos,i=Math.sin;return[o(-r)*o(-n),i(-r)*o(-n),i(-n)]}function o(e,t,r){return e*(r/t-.5)}function i(e,t,r,i){const a=new Float32Array((r+1)*(i+1)*3+3);for(let s=0;s<r+1;++s)for(let u=0;u<i+1;++u){const c=n(o(e,r,s),o(t,i,u));a[3*(u*(r+1)+s)+0]=c[0],a[3*(u*(r+1)+s)+1]=c[1],a[3*(u*(r+1)+s)+2]=c[2]}return a[(r+1)*(i+1)*3+0]=0,a[(r+1)*(i+1)*3+1]=0,a[(r+1)*(i+1)*3+2]=0,a}r.r(t),r.d(t,{XbsjViewshed:()=>l});var a={position:0,normal:1};class s{constructor(e){this.modelMatrix=Cesium.defaultValue(e.modelMatrix,new Cesium.Matrix4),this.fovH=Cesium.defaultValue(e.fovH,Cesium.Math.toRadians(60)),this.fovV=Cesium.defaultValue(e.fovV,Cesium.Math.toRadians(30)),this.segmentH=Cesium.defaultValue(e.segmentH,6),this.segmentV=Cesium.defaultValue(e.segmentV,3),this.subSegmentH=Cesium.defaultValue(e.subSegmentH,3),this.subSegmentV=Cesium.defaultValue(e.subSegmentV,3),this._faceColor=Cesium.defaultValue(e.faceColor,new Cesium.Color(1,1,0,.5)),this._lineColor=Cesium.defaultValue(e.lineColor,new Cesium.Color(1,0,0)),this.show=Cesium.defaultValue(e.lineColor,!0),this._modelMatrix=Cesium.Matrix4.clone(Cesium.Matrix4.IDENTITY),this._fovH=0,this._fovV=0,this._segmentH=1,this._segmentV=1,this._subSegmentH=1,this._subSegmentV=1,this._boundingSphere=new Cesium.BoundingSphere,this._initBoundingSphere=void 0,this._command=void 0}_createCommand(e){const t=this._subSegmentH*this._segmentH,r=this._subSegmentV*this._segmentV;var n=i(this._fovH,this._fovV,t,r),o=i(this._fovH,this._fovV,t,r),s=function(e,t){var r=new Uint16Array(e*t*6);for(let n=0;n<e;++n)for(let o=0;o<t;++o){const t=o*(e+1)+n,i=o*(e+1)+n+1,a=(o+1)*(e+1)+n,s=(o+1)*(e+1)+n+1,u=6*(o*e+n);r[u+0]=t,r[u+1]=i,r[u+2]=s,r[u+3]=t,r[u+4]=s,r[u+5]=a}return r}(t,r),u=function(e,t,r,n){const o=e*r,i=t*n,a=new Uint16Array((e+1)*(2*i)+(t+1)*(2*o)+8);for(let t=0;t<e+1;++t)for(let e=0;e<i;++e){const n=t*r;a[2*(t*i+e)+0]=e*(o+1)+n,a[2*(t*i+e)+1]=(e+1)*(o+1)+n}const s=(e+1)*(2*i);for(let e=0;e<t+1;++e)for(let t=0;t<o;++t){const r=e*n;a[s+2*(t+e*o)+0]=r*(o+1)+t,a[s+2*(t+e*o)+1]=r*(o+1)+t+1}const u=(e+1)*(2*i)+(t+1)*(2*o),c=o,l=(o+1)*i,f=(o+1)*(i+1)-1;return a[u+0]=0,a[u+1]=(o+1)*(i+1),a[u+2]=c,a[u+3]=(o+1)*(i+1),a[u+4]=l,a[u+5]=(o+1)*(i+1),a[u+6]=f,a[u+7]=(o+1)*(i+1),a}(this._segmentH,this._segmentV,this._subSegmentH,this._subSegmentV),c=Cesium.Appearance.getDefaultRenderState(!0,!1,void 0),l=Cesium.RenderState.fromCache(c),f=new Cesium.ShaderSource({sources:["\n            // vtxf doubleposition\n            // in vec3 position3DHigh;\n            // in vec3 position3DLow;\n            in vec3 position;\n            in vec3 normal;\n            // in vec2 st;\n            // in float batchId;\n\n            out vec3 v_positionEC;\n            out vec3 v_normalEC;\n            // out vec2 v_st;\n\n            void main()\n            {\n                // vtxf doubleposition\n                // vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n                // v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n                // v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n                // v_st = st;\n                // gl_Position = czm_modelViewProjectionRelativeToEye * p;\n\n                v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n                v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n                // v_st = st;\n                gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n            }\n            "]}),p=new Cesium.ShaderSource({sources:["\n            in vec3 v_positionEC;\n            in vec3 v_normalEC;\n            //  vec2 v_st;\n\n            // uniform sampler2D myImage;\n            uniform vec4 xbsjColor;\n\n            void main()\n            {\n                vec3 positionToEyeEC = -v_positionEC;\n\n                vec3 normalEC = normalize(v_normalEC);\n            #ifdef FACE_FORWARD\n                normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n            #endif\n\n                czm_materialInput materialInput;\n                materialInput.normalEC = normalEC;\n                materialInput.positionToEyeEC = positionToEyeEC;\n                // materialInput.st = v_st;\n\n                //czm_material material = czm_getMaterial(materialInput);\n                czm_material material = czm_getDefaultMaterial(materialInput);\n                // material.diffuse = texture2D(myImage, materialInput.st).rgb;\n                material.diffuse = xbsjColor.rgb;\n                material.alpha = xbsjColor.a;\n\n            #ifdef FLAT\n                out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n            #else\n                // out_FragColor = czm_phong(normalize(positionToEyeEC), material);\n                out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n            #endif\n            }\n            "]}),d={xbsjColor:()=>this._faceColor},h={xbsjColor:()=>this._lineColor},m=Cesium.ShaderProgram.fromCache({context:e,vertexShaderSource:f,fragmentShaderSource:p,attributeLocations:a});this._shaderprogram=m;var y=Cesium.Buffer.createVertexBuffer({context:e,typedArray:n,usage:Cesium.BufferUsage.STATIC_DRAW}),v=Cesium.Buffer.createVertexBuffer({context:e,typedArray:o,usage:Cesium.BufferUsage.STATIC_DRAW}),g=Cesium.Buffer.createIndexBuffer({context:e,typedArray:s,usage:Cesium.BufferUsage.STATIC_DRAW,indexDatatype:Cesium.IndexDatatype.UNSIGNED_SHORT}),_=Cesium.Buffer.createIndexBuffer({context:e,typedArray:u,usage:Cesium.BufferUsage.STATIC_DRAW,indexDatatype:Cesium.IndexDatatype.UNSIGNED_SHORT});const b=new Cesium.VertexArray({context:e,attributes:[{index:0,vertexBuffer:y,componentsPerAttribute:3,componentDatatype:Cesium.ComponentDatatype.FLOAT},{index:1,vertexBuffer:v,componentsPerAttribute:3,componentDatatype:Cesium.ComponentDatatype.FLOAT}],indexBuffer:g}),w=new Cesium.VertexArray({context:e,attributes:[{index:0,vertexBuffer:y,componentsPerAttribute:3,componentDatatype:Cesium.ComponentDatatype.FLOAT},{index:1,vertexBuffer:v,componentsPerAttribute:3,componentDatatype:Cesium.ComponentDatatype.FLOAT}],indexBuffer:_});this._initBoundingSphere=Cesium.BoundingSphere.fromVertices(n),this._command=new Cesium.DrawCommand({vertexArray:b,primitiveType:Cesium.PrimitiveType.TRIANGLES,renderState:l,shaderProgram:m,uniformMap:d,owner:this,pass:Cesium.Pass.TRANSLUCENT,modelMatrix:new Cesium.Matrix4,boundingVolume:new Cesium.BoundingSphere,cull:!0}),this._lineCommand=new Cesium.DrawCommand({vertexArray:w,primitiveType:Cesium.PrimitiveType.LINES,renderState:l,shaderProgram:m,uniformMap:h,owner:this,pass:Cesium.Pass.TRANSLUCENT,modelMatrix:new Cesium.Matrix4,boundingVolume:new Cesium.BoundingSphere,cull:!0})}update(e){this.show&&e.passes.render&&((this.fovH!==this._fovH||this.fovV!==this._fovV||this.segmentH!==this._segmentH||this.segmentV!==this._segmentV||this.subSegmentH!==this._subSegmentH||this.subSegmentV!==this._subSegmentV)&&(this._fovH=this.fovH,this._fovV=this.fovV,this._segmentH=this.segmentH,this._segmentV=this.segmentV,this._subSegmentH=this.subSegmentH,this._subSegmentV=this.subSegmentV,this._modelMatrix=Cesium.clone(Cesium.Matrix4.IDENTITY),this._destroyVideoMemory()),Cesium.defined(this._command)||this._createCommand(e.context),Cesium.Matrix4.equals(this.modelMatrix,this._modelMatrix)||(Cesium.Matrix4.clone(this.modelMatrix,this._modelMatrix),this._command.modelMatrix=Cesium.Matrix4.IDENTITY,this._command.modelMatrix=this._modelMatrix,this._command.boundingVolume=Cesium.BoundingSphere.transform(this._initBoundingSphere,this._modelMatrix,this._boundingSphere),this._lineCommand.modelMatrix=Cesium.Matrix4.IDENTITY,this._lineCommand.modelMatrix=this._modelMatrix,this._lineCommand.boundingVolume=Cesium.BoundingSphere.transform(this._initBoundingSphere,this._modelMatrix,this._boundingSphere)),this._command&&e.commandList.push(this._command),this._lineCommand&&e.commandList.push(this._lineCommand))}isDestroyed(){return!1}_destroyVideoMemory(){this._shaderprogram=this._shaderprogram&&this._shaderprogram.destroy(),Cesium.defined(this._command)&&(this._command.vertexArray=this._command.vertexArray&&this._command.vertexArray.destroy(),this._command=void 0),Cesium.defined(this._lineCommand)&&(this._lineCommand.vertexArray=this._lineCommand.vertexArray&&this._lineCommand.vertexArray.destroy(),this._lineCommand=void 0)}destroy(){return this._destroyVideoMemory(),Cesium.destroyObject(this)}}var u=Cesium.ShadowMapShader.createShadowReceiveFragmentShader;Cesium.ShadowMapShader.createShadowReceiveFragmentShader=function(e,t,r,n,o){var i=t._isSpotLight,a=u.bind(this)(e,t,r,n,o);if(i){var s="out_FragColor.rgb *= visibility;",c="out_FragColor.rgb *= (visibility < 0.99 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0));";a.sources[a.sources.length-1]=a.sources[a.sources.length-1].replace(s,c),c=(s="vec3 directionEC = normalize(positionEC.xyz - shadowMap_lightPositionEC.xyz);")+"if (distance(positionEC.xyz, shadowMap_lightPositionEC.xyz) > shadowMap_lightPositionEC.w) { return; }",a.sources[a.sources.length-1]=a.sources[a.sources.length-1].replace(s,c)}return a};const c=function(){var e=Cesium.Matrix3.fromRotationZ(.5*Cesium.Math.PI),t=Cesium.Matrix3.fromRotationY(.5*Cesium.Math.PI),r=new Cesium.Matrix3;return Cesium.Matrix3.multiply(e,t,r),r}();class l{_updateFov(){this._fovH<0||this._fovV<0||(this.frustum.aspectRatio=Math.tan(.5*this._fovH)/Math.tan(.5*this._fovV),this.frustum.fov=this._fovH>this._fovV?this._fovH:this._fovV)}constructor(e){this._fovH=Cesium.Math.PI/3,this._fovV=Cesium.Math.PI/6,Cesium.defined(e)||console.error("scene is not defined!"),this._scene=e,this._frustum=new Cesium.PerspectiveFrustum,this._updateFov(),this._frustum.near=1,this._frustum.far=400,this._spotLightCamera=new Cesium.Camera(e),this._frustum.clone(this._spotLightCamera.frustum),this._viewshedShadowMap=new Cesium.ShadowMap({context:e.context,lightCamera:this._spotLightCamera,cascadesEnabled:!1}),this._debugCameraPrimitive=new s({}),this._enabledChangedEvent=new Cesium.Event}update(e){if(this._viewshedShadowMap.enabled&&(e.shadowMaps.unshift(this._viewshedShadowMap),this._frustum.equals(this._spotLightCamera.frustum)||(this._frustum.clone(this._spotLightCamera.frustum),this._viewshedShadowMap._pointLightRadius=this._frustum.far,this.shadowMap._boundingSphere.radius=Math.random()),this._debugCameraPrimitive.show)){var t=this._debugCameraPrimitive.modelMatrix;Cesium.Matrix4.clone(this._spotLightCamera.inverseViewMatrix,t),Cesium.Matrix4.multiplyByMatrix3(t,c,t),Cesium.Matrix4.multiplyByUniformScale(t,this._spotLightCamera.frustum.far,t);const r=this._spotLightCamera.frustum;this._debugCameraPrimitive.fovV=r.aspectRatio<=1?r.fov:2*Math.atan(Math.tan(.5*r.fov)/r.aspectRatio),this._debugCameraPrimitive.fovH=r.aspectRatio>1?r.fov:2*Math.atan(Math.tan(.5*r.fov)*r.aspectRatio),this._debugCameraPrimitive.update(e)}}setView(e){this._spotLightCamera.setView(e)}get enabledChangedEvent(){return this._enabledChangedEvent}isDestroyed(){return!1}destroy(){return this._debugCameraPrimitive=this._debugCameraPrimitive&&this._debugCameraPrimitive.destroy(),this._viewshedShadowMap=this._viewshedShadowMap&&this._viewshedShadowMap.destroy(),Cesium.destroyObject(this)}}Object.defineProperties(l.prototype,{frustum:{get:function(){return this._frustum}},fovH:{get:function(){return this._fovH},set:function(e){this._fovH=e,this._updateFov()}},fovV:{get:function(){return this._fovV},set:function(e){this._fovV=e,this._updateFov()}},near:{get:function(){return this.frustum.near},set:function(e){this.frustum.near!==e&&(this.frustum.near=e)}},far:{get:function(){return this.frustum.far},set:function(e){this.frustum.far!==e&&(this.frustum.far=e)}},position:{get:function(){return this._spotLightCamera.positionWC},set:function(e){this.setView({destination:e,orientation:{heading:this._spotLightCamera.heading,pitch:this._spotLightCamera.pitch,roll:this._spotLightCamera.roll}})}},heading:{get:function(){return this._spotLightCamera.heading},set:function(e){this._spotLightCamera.heading!==e&&this.setView({destination:this._spotLightCamera.positionWC,orientation:{heading:e,pitch:this._spotLightCamera.pitch,roll:this._spotLightCamera.roll}})}},pitch:{get:function(){return this._spotLightCamera.pitch},set:function(e){this._spotLightCamera.pitch!==e&&this.setView({destination:this._spotLightCamera.positionWC,orientation:{heading:this._spotLightCamera.heading,pitch:e,roll:this._spotLightCamera.roll}})}},showHelper:{get:function(){return this._debugCameraPrimitive.show},set:function(e){this._debugCameraPrimitive.show=e}},roll:{get:function(){return this._spotLightCamera.roll},set:function(e){this._spotLightCamera.roll!==e&&this._spotLightCamera.setView({destination:this._spotLightCamera.positionWC,orientation:{heading:this._spotLightCamera.heading,pitch:this._spotLightCamera.pitch,roll:e}})}},shadowMap:{get:function(){return this._viewshedShadowMap}},lightCamera:{get:function(){return this._spotLightCamera}},enabled:{get:function(){return this._viewshedShadowMap.enabled},set:function(e){this._viewshedShadowMap.enabled!==e&&(e?(this._viewshedShadowMap.enabled=!0,this._viewshedShadowMap._pointLightRadius=this._spotLightCamera.frustum.far):this._viewshedShadowMap.enabled=!1,this._enabledChangedEvent.raiseEvent(e))}}})},4868:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ab2Ab:()=>i});var n,o,i=(o=function(){const e={create:()=>new Cesium.Cartesian3,fromValues:Cesium.Cartesian3.fromElements,dot:Cesium.Cartesian3.dot,cross:(e,t,r)=>Cesium.Cartesian3.cross(t,r,e),len:Cesium.Cartesian3.magnitude,normalize:(e,t)=>Cesium.Cartesian3.normalize(t,e)};let t=e.create(),r=e.fromValues(1,0,0),n=e.fromValues(0,1,0);return function(o,i,a){let s=e.dot(i,a);return s<-.999999?(e.cross(t,r,i),e.len(t)<1e-6&&e.cross(t,n,i),e.normalize(t,t),((e,t,r)=>{Cesium.Quaternion.fromAxisAngle(t,r,e)})(o,t,Math.PI),o):s>.999999?(o.x=0,o.y=0,o.z=0,o.w=1,o):(e.cross(t,i,a),o.x=t.x,o.y=t.y,o.z=t.z,o.w=1+s,((e,t)=>Cesium.Quaternion.normalize(t,e))(o,o))}},function(e,t,r,i){n||(n=o());var a=Cesium.Transforms.eastNorthUpToFixedFrame(r),s=new Cesium.Matrix4;s=Cesium.Matrix4.inverse(a,s);var u=new Cesium.Cartesian3;u=Cesium.Matrix4.multiplyByPoint(s,r,u);var c=new Cesium.Cartesian3;c=Cesium.Matrix4.multiplyByPoint(s,i,c);var l=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(t,e,l);var f=new Cesium.Cartesian3;Cesium.Cartesian3.subtract(c,u,f);var p=Cesium.Cartesian3.magnitude(l);Cesium.Cartesian3.normalize(l,l);var d=Cesium.Cartesian3.magnitude(f);Cesium.Cartesian3.normalize(f,f);var h=new Cesium.Quaternion;n(h,l,f);var m=d/p,y=Cesium.Matrix4.fromTranslationQuaternionRotationScale(Cesium.Cartesian3.ZERO,h,Cesium.Cartesian3.fromElements(m,m,m)),v=new Cesium.Cartesian3;v=Cesium.Matrix4.multiplyByPoint(y,e,v);var g=Cesium.Cartesian3.subtract(u,v,new Cesium.Cartesian3),_=Cesium.Matrix4.multiplyByPoint(a,g,new Cesium.Cartesian3),b=new Cesium.Matrix4;{const e=Cesium.Transforms.eastNorthUpToFixedFrame(_);Cesium.Matrix4.multiply(e,y,b)}var w=Cesium.Cartographic.fromCartesian(_),C={longitude:Cesium.Math.toDegrees(w.longitude),latitude:Cesium.Math.toDegrees(w.latitude),height:w.height},x=Cesium.HeadingPitchRoll.fromQuaternion(h);return{scale:m,rotation:h,positionInCartesian:_,positionInRadians:w,positionInDegrees:C,hpr:x,hprInDegrees:{heading:Cesium.Math.toDegrees(x.heading),pitch:Cesium.Math.toDegrees(x.pitch),roll:Cesium.Math.toDegrees(x.roll)},modelMatrix:b}})},7495:(e,t,r)=>{"use strict";function n(e){const t=e.BoundingSphere,r=(e.Cartesian2,e.Cartesian3),n=(e.Check,e.defaultValue),o=e.defined,i=(e.DeveloperError,e.IndexDatatype,e.Intersections2D,e.CesiumMath,e.OrientedBoundingBox),a=(e.QuantizedMeshTerrainData,e.Rectangle),s=e.TaskProcessor,u=e.TerrainData,c=e.TerrainEncoding,l=e.TerrainMesh,f=e.GoogleEarthEnterpriseTerrainData,p="createVerticesFromGoogleEarthEnterpriseBuffer",d=new s(p),h=new s(p,u.maximumAsynchronousTasks),m=new a,y=new a;f.prototype.createMesh=function(e){const s=(e=n(e,n.EMPTY_OBJECT)).tilingScheme,u=e.x,f=e.y,p=e.level,v=n(e.exaggeration,1),g=n(e.exaggerationRelativeHeight,0),_=n(e.throttle,!0),b=s.ellipsoid;s.tileXYToNativeRectangle(u,f,p,m),s.tileXYToRectangle(u,f,p,y);const w=b.cartographicToCartesian(a.center(y));this._skirtHeight=6378137*.3;const C=(_?h:d).scheduleTask({buffer:this._buffer,nativeRectangle:m,rectangle:a.clone(y),relativeToCenter:w,ellipsoid:b,skirtHeight:this._skirtHeight,exaggeration:v,exaggerationRelativeHeight:g,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!o(C))return;const x=this;return C.then((function(e){return x._mesh=new l(w,new Float32Array(e.vertices),new Uint16Array(e.indices),e.indexCountWithoutSkirts,e.vertexCountWithoutSkirts,e.minimumHeight,e.maximumHeight,t.clone(e.boundingSphere3D),r.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,i.clone(e.orientedBoundingBox),c.clone(e.encoding),e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),x._minimumHeight=e.minimumHeight,x._maximumHeight=e.maximumHeight,x._buffer=void 0,x._mesh}))}}r.r(t),r.d(t,{cesiumFixGoogleEarth:()=>n})},8753:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(n="".concat("vtxf-renderer","/").concat(r.j))&&void 0!==n?n:"-",i="vtxf-renderer",a=((Date.now()-173466578e4)/36e5).toFixed(1),s="%c ".concat(o,"%c ").concat("0.3.42",".").concat("59e8a7ec8ee2c583ae7f5de72033c64bc304bb90".slice(0,8),".").concat("2024-12-20T03:36:20.000Z"," (").concat(a,")\n%c").concat(i?i+"\n":"","").concat(o,"").concat("vtxf","\n%c ");t.copyright=Object.seal({get owner(){return"vtxf"},get ownerlink(){return"www.czmtoy.com"},get info(){return s},get date(){return"2024-12-20T03:36:20.000Z"},get author(){return"vtxf"},get version(){return"0.3.42"},get name(){return"vtxf-renderer"},get commitId(){return"59e8a7ec8ee2c583ae7f5de72033c64bc304bb90"},print:function(){!force&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},2806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackGroundImage=void 0;var n=r(7555);Object.defineProperty(t,"BackGroundImage",{enumerable:!0,get:function(){return n.BackGroundImage}})},5692:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBasePrimitive=void 0;var i=r(9675),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._show=t.disposeVar((0,i.react)(!0)),t}return o(t,e),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.CzmBasePrimitive=a},1598:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCustomPrimitive=void 0;var l=r(1901),f=s(r(1557)),p=r(9675);function d(e){if(e instanceof Float32Array)return f.ComponentDatatype.FLOAT;if(e instanceof Int8Array)return f.ComponentDatatype.BYTE;if(e instanceof Uint8Array)return f.ComponentDatatype.UNSIGNED_BYTE;if(e instanceof Int16Array)return f.ComponentDatatype.SHORT;if(e instanceof Uint16Array)return f.ComponentDatatype.UNSIGNED_SHORT;if(e instanceof Int32Array)return f.ComponentDatatype.INT;if(e instanceof Uint32Array)return f.ComponentDatatype.UNSIGNED_INT;throw e instanceof Float64Array?(console.error("Float64Array"),new Error("Float64Array")):(console.error("TypedArray"),new Error("TypedArray"))}function h(e){if(e instanceof Uint8Array)return f.IndexDatatype.UNSIGNED_BYTE;if(e instanceof Uint16Array)return f.IndexDatatype.UNSIGNED_SHORT;if(e instanceof Uint32Array)return f.IndexDatatype.UNSIGNED_INT;throw console.error("TypedArray"),new Error("TypedArray")}function m(e,t){if(e===t)return!0;if(e.usage!==t.usage)return!1;if(e.componentsPerAttribute!==t.componentsPerAttribute)return!1;if(e.normalize!==t.normalize)return!1;if(e.typedArray===t.typedArray)return!0;if(e.typedArray.byteLength!==t.typedArray.byteLength)return!1;var r=t.typedArray;return!!e.typedArray.every((function(e,t){return e===r[t]}))}var y=function(e){function t(t){var r=e.call(this)||this;r._scene=t,r._updateEvent=r.disposeVar(new p.Event);var n,o,i,a,s,y=r._scene.context,v=!1,g=!1,_=!1,b=!1,w=!1,C=void 0,x=void 0,P=void 0;r.dispose((function(){n&&(n.destroy(),n=void 0),o&&(o.destroy(),o=void 0),a&&(a.destroy(),a=void 0),i&&(i.destroy(),i=void 0),s&&(s=void 0,r._drawCommand=s)})),r.dispose(r.passChanged.disposableOn((function(){return s&&(s.pass=r.pass)}))),r.dispose(r.attributesChanged.disposableOn((function(){return v=!0}))),r.dispose(r.uniformMapChanged.disposableOn((function(){return s&&(s.uniformMap=r.uniformMap)}))),r.dispose(r.modelMatrixChanged.disposableOn((function(){return s&&(s.modelMatrix=r.modelMatrix)}))),r.dispose(r.renderStateChanged.disposableOn((function(){s&&(s=void 0,w=!0)}))),r.dispose(r.primitiveTypeChanged.disposableOn((function(){return s&&(s.primitiveType=r.primitiveType)}))),r.dispose(r.indexTypedArrayChanged.disposableOn((function(){return g=!0}))),r.dispose(r.vertexShaderSourceChanged.disposableOn((function(){return b=!0}))),r.dispose(r.fragmentShaderSourceChanged.disposableOn((function(){return b=!0}))),r.dispose(r.occludeChanged.disposableOn((function(){return s&&(s.occlude=r.occlude)}))),r.dispose(r.countChanged.disposableOn((function(){return s&&(s.count=r.count)}))),r.dispose(r.offsetChanged.disposableOn((function(){return s&&(s.offset=r.offset)}))),r.dispose(r.instanceCountChanged.disposableOn((function(){return s&&(s.instanceCount=r.instanceCount)}))),r.dispose(r.castShadowsChanged.disposableOn((function(){return s&&(s.castShadows=r.castShadows)}))),r.dispose(r.receiveShadowsChanged.disposableOn((function(){return s&&(s.receiveShadows=r.receiveShadows)}))),r.dispose(r.executeInClosestFrustumChanged.disposableOn((function(){return s&&(s.executeInClosestFrustum=r.executeInClosestFrustum)}))),r.dispose(r.debugShowBoundingVolumeChanged.disposableOn((function(){return s&&(s.debugShowBoundingVolume=r.debugShowBoundingVolume)}))),r.dispose(r.debugOverlappingFrustumsChanged.disposableOn((function(){return s&&(s.debugOverlappingFrustums=r.debugOverlappingFrustums)}))),r.dispose(r.pickOnlyChanged.disposableOn((function(){return s&&(s.pickOnly=r.pickOnly)}))),r.dispose(r.depthForTranslucentClassificationChanged.disposableOn((function(){return s&&(s.depthForTranslucentClassification=r.depthForTranslucentClassification)})));var O=function(){var e;s&&(s.boundingVolume?s.cull=null===(e=r.cull)||void 0===e||e:s.cull=!1)};O(),r.dispose(r.cullChanged.disposableOn(O)),r.dispose(r.boundingVolumeChanged.disposableOn((function(){s&&(s.boundingVolume=r.boundingVolume),O()})));var M=r.disposeVar(new l.ObjResettingWithEvent(r.allowPickingChanged,(function(){return y.createPickId({primitive:r})})));return r.dispose(r.allowPickingChanged.disposableOn((function(){b=!0,s&&(s.pickId=r.allowPicking?"xbsjPickColor220823":void 0)}))),r.dispose(r._updateEvent.disposableOn((function(e){var t,n,l,O,S=r,j=S.attributes,E=S.indexTypedArray;if(v){v=!1;var A={},T={},I=[],D=0;try{for(var F=u(Object.entries(j)),R=F.next();!R.done;R=F.next()){var B=c(R.value,2),k=B[0],z=B[1],V=D++,L=z.typedArray,N=z.componentsPerAttribute,U=z.usage,G=void 0===U?35044:U,W=z.normalize,H=void 0!==W&&W;if(L){A[k]=V;var Y=void 0;do{if(x&&x[k]){var X=(0,p.getExtProp)(x[k],"_originAttribute");if(X&&m(X,z)){Y=x[k],delete x[k],T[k]=Y;break}if(X&&X.typedArray!==z.typedArray&&X.typedArray.byteLength===z.typedArray.byteLength&&X.usage===z.usage){(Y=x[k]).copyFromArrayView(z.typedArray),delete x[k],T[k]=Y,(0,p.setExtProp)(T[k],"_originAttribute",z);break}}(Y=f.Buffer.createVertexBuffer({context:y,typedArray:L,usage:G})).vertexArrayDestroyable=!1,T[k]=Y,(0,p.setExtProp)(T[k],"_originAttribute",z)}while(0);I.push({index:V,vertexBuffer:Y,componentsPerAttribute:N,normalize:H,componentDatatype:d(L)})}else console.warn("CzmCustomPrimitive attribute[".concat(k,"] typedeArray is undefined!"))}}catch(e){t={error:e}}finally{try{R&&!R.done&&(n=F.return)&&n.call(F)}finally{if(t)throw t.error}}if(x)try{for(var q=u(Object.values(x)),Q=q.next();!Q.done;Q=q.next())Q.value.destroy()}catch(e){l={error:e}}finally{try{Q&&!Q.done&&(O=q.return)&&O.call(q)}finally{if(l)throw l.error}}do{if(!P||P.length!==I.length){_=!0;break}if(P.some((function(e,t){return r=e,n=I[t],!(r.componentDatatype===n.componentDatatype&&r.componentsPerAttribute===n.componentsPerAttribute&&r.index===n.index&&r.normalize===n.normalize&&r.vertexBuffer===n.vertexBuffer);var r,n}))){_=!0;break}}while(0);x=T,P=I,A&&(C&&function(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&!r.some((function(e,t){return n[t]!==e}))&&!r.some((function(r,n){return e[r]!==t[r]}))}(A,C)||(C=A,b=!0,_=!0))}if(g&&(g=!1,o&&(o.destroy(),o=void 0),(o=E?f.Buffer.createIndexBuffer({context:y,typedArray:E,usage:35044,indexDatatype:h(E)}):void 0)&&(o.vertexArrayDestroyable=!1),_=!0),_&&(_=!1,i&&(i.destroy(),i=void 0),P&&C&&(i=new f.VertexArray({context:y,attributes:P,attributeLocations:C,bufferUsage:35044,indexBuffer:o}),s?s.vertexArray=i:w=!0)),b){b=!1,a&&(a.destroy(),a=void 0);var K=M.obj,$=void 0;if(K){var J=K.color,Z=J.red,ee=J.green,te=J.blue,re=J.alpha,ne="vec4(".concat(Z.toFixed(6),", ").concat(ee.toFixed(6),", ").concat(te.toFixed(6),", ").concat(re.toFixed(6),")");$="const vec4 xbsjPickColor220823 = ".concat(ne,"; \n")}else $="";C&&(a=f.ShaderProgram.fromCache({context:y,vertexShaderSource:new f.ShaderSource({sources:[r.vertexShaderSource]}),fragmentShaderSource:new f.ShaderSource({sources:[$,r.fragmentShaderSource]}),attributeLocations:C}),s?s.shaderProgram=a:w=!0)}w&&(w=!1,s||i&&a&&(s=new f.DrawCommand({vertexArray:i,primitiveType:r.primitiveType,renderState:f.RenderState.fromCache(r.renderState),shaderProgram:a,owner:r,uniformMap:r.uniformMap,pass:r.pass,modelMatrix:r.modelMatrix,boundingVolume:r.boundingVolume,cull:r.cull,occlude:r.occlude,count:r.count,offset:r.offset,instanceCount:r.instanceCount,castShadows:r.castShadows,receiveShadows:r.receiveShadows,pickId:r.allowPicking?"xbsjPickColor220823":void 0,pickOnly:r.pickOnly,debugShowBoundingVolume:r.debugShowBoundingVolume,depthForTranslucentClassification:r.depthForTranslucentClassification}),r._drawCommand=s,s.debugOverlappingFrustums=r.debugOverlappingFrustums,s.executeInClosestFrustum=r.executeInClosestFrustum)),s&&e.commandList.push(s)}))),r}return o(t,e),Object.defineProperty(t.prototype,"drawCommand",{get:function(){return this._drawCommand},enumerable:!1,configurable:!0}),t.prototype.update=function(e){this.show&&this._updateEvent.emit(e)},t}(r(5692).CzmBasePrimitive);t.CzmCustomPrimitive=y,function(e){e.createDefaultProps=function(){return{modelMatrix:(0,p.react)(new f.Matrix4,f.Matrix4.equals,f.Matrix4.clone),boundingVolume:void 0,pass:7,attributes:{},cull:!0,occlude:!0,count:void 0,offset:0,indexTypedArray:void 0,instanceCount:0,vertexShaderSource:"",fragmentShaderSource:"",castShadows:!1,receiveShadows:!1,uniformMap:{},renderState:{},primitiveType:f.PrimitiveType.TRIANGLES,executeInClosestFrustum:!1,owner:void 0,debugShowBoundingVolume:!1,debugOverlappingFrustums:0,allowPicking:void 0,pickOnly:!1,depthForTranslucentClassification:!1}}}(y=t.CzmCustomPrimitive||(t.CzmCustomPrimitive={})),t.CzmCustomPrimitive=y,(0,p.extendClassProps)(y.prototype,y.createDefaultProps)},2360:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBasePoi=void 0;var u=r(9675),c=r(9675),l=s(r(1557)),f=r(6062),p=function(e){function t(t,r){var n=e.call(this)||this;n._czmPoisContext=t,n._show=n.disposeVar((0,u.react)(!0)),n._near=n.disposeVar((0,u.react)(0)),n._far=n.disposeVar((0,u.react)(Number.POSITIVE_INFINITY)),n._actualShow=n.disposeVar((0,u.react)(!1));var o=n._czmPoisContext,i=o.viewer,a=o.cameraChanged;n._winPosFromCartesian=r||n.disposeVar(new f.WinPosFromCartesian(i,!0,a));var s=0,c=Number.POSITIVE_INFINITY;n.dispose(n._near.changed.disposableOn((function(e){return s=e*e}))),n.dispose(n._far.changed.disposableOn((function(e){return c=e*e})));var p=n.disposeVar((0,u.createNextMicroTaskEvent)(n._near.changed,n._far.changed,n._show.changed,n._winPosFromCartesian.changed,a.changed));return n.dispose(p.disposableOn((function(){if(n.show){var e=l.Cartesian3.distanceSquared(i.camera.positionWC,n._winPosFromCartesian.cartesian),t=e>=s&&e<=c;n._actualShow.value=t&&n._winPosFromCartesian.winPosValid&&!n._czmPoisContext.isPointOccludedByEarth(n._winPosFromCartesian.cartesian)}else n._actualShow.value=!1}))),n}return o(t,e),Object.defineProperty(t.prototype,"actualShowChanged",{get:function(){return this._actualShow.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualShow",{get:function(){return this._actualShow.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cartesian",{get:function(){return this._winPosFromCartesian.cartesian},set:function(e){this._winPosFromCartesian.cartesian=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosFromCartesian",{get:function(){return this._winPosFromCartesian},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"near",{get:function(){return this._near.value},set:function(e){this._near.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"far",{get:function(){return this._far.value},set:function(e){this._far.value=e},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.CzmBasePoi=p},3032:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCanvasAndDivSwitchPoi=void 0;var i=r(1901),a=r(9675),s=r(6062),u=r(164),c=r(1779),l=function(e){function t(t,r,n,o){var a=e.call(this)||this;a._czmPoisContext=n,a._show=!0,a._status="Canvas";var l=a._czmPoisContext,f=l.viewer,p=l.cameraChanged;return a._winPosFromCartesian=o||a.disposeVar(new s.WinPosFromCartesian(f,!0,p)),a._czmCanvasPoi=new u.CzmCanvasPoi(t,a._czmPoisContext,a._winPosFromCartesian),a.dispose((function(){return a._czmCanvasPoi.destroy()})),a._czmDivPoi=new c.CzmDivPoi(r,a._czmPoisContext,a._winPosFromCartesian),a.dispose((function(){return a._czmDivPoi.destroy()})),a._switchTransition=new i.Transition(300),a.dispose(a._switchTransition.currentChanged.disposableOn((function(e,t){a._updateShow(),a._czmCanvasPoi.canvasPoi.opacity=1-t,a._czmDivPoi.divPoi.floatDiv.opacity=t}))),a._updateShow(),a}return o(t,e),t.prototype._updateShow=function(){this._czmCanvasPoi.show=this._show&&this._switchTransition.current<1,this._czmDivPoi.show=this._show&&this._switchTransition.current>0},Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._updateShow())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cartesian",{get:function(){return this._winPosFromCartesian.cartesian},set:function(e){this._winPosFromCartesian.cartesian=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosFromCartesian",{get:function(){return this._winPosFromCartesian},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},set:function(e){this._status!==e&&(this._status=e,this._switchTransition.target="Canvas"===this._status?0:1,this._statusChanged&&this._statusChanged.emit(this._status))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusChanged",{get:function(){return this._statusChanged||(this._statusChanged=new a.Event),this._statusChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCanvasPoi",{get:function(){return this._czmCanvasPoi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmDivPoi",{get:function(){return this._czmDivPoi},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.CzmCanvasAndDivSwitchPoi=l},164:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCanvasPoi=void 0;var i=function(e){function t(t,r,n){var o=e.call(this,r,n)||this,i=o._czmPoisContext.canvasPrimitivesContext;o._canvasPoi=o.disposeVar(new t(i));var a=function(){if(o.actualShow&&o.winPosFromCartesian.winPosValid){var e=o.winPosFromCartesian.winPos,t=e.left,r=e.top,n=e.depth;o._canvasPoi.winPos=[t,r],o._canvasPoi.depth=n,o._canvasPoi.show=!0}else o._canvasPoi.show=!1};return o.dispose(o.winPosFromCartesian.changed.disposableOn((function(){a()}))),o.dispose(o.actualShowChanged.disposableOn((function(e){o._canvasPoi.show=e,a()}))),o}return o(t,e),Object.defineProperty(t.prototype,"canvasPoi",{get:function(){return this._canvasPoi},enumerable:!1,configurable:!0}),t}(r(2360).CzmBasePoi);t.CzmCanvasPoi=i},1779:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmDivPoi=void 0;var i=r(1901),a=r(9675),s=r(6062),u=function(e){function t(t,r,n){var o=e.call(this)||this;o._czmPoisContext=r,o._show=!0,o._occludedByEarth=!0;var a=o._czmPoisContext,u=a.viewer,c=a.divContainer,l=a.cameraChanged;return o._winPosFromCartesian=n||o.disposeVar(new s.WinPosFromCartesian(u,!0,l)),o._divPoi=new i.DivPoi(t,c),o.dispose((function(){return o._divPoi.destroy()})),o.dispose(o._winPosFromCartesian.changed.disposableOn((function(e,t){o._occludedByEarth=!e||o._czmPoisContext.isPointOccludedByEarth(o._winPosFromCartesian.cartesian);var r=t.left,n=t.top,i=t.depth,a=o._divPoi.floatDiv;a.winPos=[r,n],a.element.style.zIndex="".concat(Math.round(1e11*(1-i))),o._updateShow()}))),o}return o(t,e),Object.defineProperty(t.prototype,"divPoi",{get:function(){return this._divPoi},enumerable:!1,configurable:!0}),t.prototype._updateShow=function(){this._divPoi.show=this._show&&!this._occludedByEarth&&this._winPosFromCartesian.winPosValid},Object.defineProperty(t.prototype,"cartesian",{get:function(){return this._winPosFromCartesian.cartesian},set:function(e){this._winPosFromCartesian.cartesian=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosFromCartesian",{get:function(){return this._winPosFromCartesian},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._updateShow())},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.CzmDivPoi=u},1400:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPoisContext=void 0;var f=r(9675),p=r(1901),d=s(r(1557)),h=r(6795),m=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this)||this;n._viewer=t,n._useInnerInteraction=r,n._clickEvent=n.disposeVar(new f.Event),n._dbclickEvent=n.disposeVar(new f.Event),n._downEvent=n.disposeVar(new f.Event),n._upEvent=n.disposeVar(new f.Event),n._moveEvent=n.disposeVar(new f.Event),n._outEvent=n.disposeVar(new f.Event),n._cameraChanged=new h.CzmCameraChanged(n._viewer.scene);var o=n._viewer.canvas.parentElement;n._divContainer=o;var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width="100%",i.style.height="100%",i.style.pointerEvents="none",o.appendChild(i),n.dispose((function(){o.removeChild(i)}));var a=new p.CanvasPrimitivesContext;n._canvasPrimitivesContext=a,n.dispose((function(){n._canvasPrimitivesContext.destroy()})),i.appendChild(a.element);var s=new d.EllipsoidalOccluder(d.Ellipsoid.WGS84,new d.Cartesian3),l=new h.CzmCameraChanged(n._viewer.scene);n.dispose((function(){return l.destroy()}));var m,y,v=function(){return s.cameraPosition=n._viewer.camera.positionWC};function g(e){y!==e&&(y&&(y.hovered=!1),(y=e)&&(y.hovered=!0))}n.dispose(l.changed.disposableOn(v)),v(),n._isPointOccludedByEarth=function(e){return!s.isPointVisible(e)},n.dispose(n._clickEvent.disposableOn((function(e,t,r){var o,i,s,c,l=a.pick(e,t,1,1);if(l.length>0){n._poiClickedEvent&&n._poiClickedEvent.emit(!0);var f=l[0],p=f.poi,d=f.tag;try{for(var h=u(a.pois),m=h.next();!m.done;m=h.next())(g=m.value)===p?g.hasClickEvent()&&g.clickEvent.emit(e,t,d,g,r):g.hasClickOutEvent()&&g.clickOutEvent.emit(e,t,"",g,r)}catch(e){o={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}}else{n._poiClickedEvent&&n._poiClickedEvent.emit(!1);try{for(var y=u(a.pois),v=y.next();!v.done;v=y.next()){var g;(g=v.value).hasClickOutEvent()&&g.clickOutEvent.emit(e,t,"",g,r)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}}}))),n.dispose(n._dbclickEvent.disposableOn((function(e,t,r){var o,i,s,c,l=a.pick(e,t,1,1);if(l.length>0){n._poiClickedEvent&&n._poiClickedEvent.emit(!0);var f=l[0],p=f.poi,d=f.tag;try{for(var h=u(a.pois),m=h.next();!m.done;m=h.next())(g=m.value)===p?g.hasDbclickEvent()&&g.dbclickEvent.emit(e,t,d,g,r):g.hasDbclickOutEvent()&&g.dbclickOutEvent.emit(e,t,"",g,r)}catch(e){o={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}}else{n._poiClickedEvent&&n._poiClickedEvent.emit(!1);try{for(var y=u(a.pois),v=y.next();!v.done;v=y.next()){var g;(g=v.value).hasDbclickOutEvent()&&g.dbclickOutEvent.emit(e,t,"",g,r)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}}}))),n.dispose(n._downEvent.disposableOn((function(e,t){m&&(m.actived=!1);var r=a.pick(e,t,1,1);if(r.length>0){var n=r[0],o=n.poi;n.tag,o instanceof p.CanvasPoi&&(o.actived=!0,m=o)}}))),n.dispose(n._upEvent.disposableOn((function(){m&&(m.actived=!1,m=void 0)})));var _=n._moveEvent.disposableOn((function(e,t){var r,n=a.pick(e,t,1,1);if(n.length>0){var o=n[0].poi;o instanceof p.CanvasPrimitive&&(r=o)}g(r)}));if(n.dispose(_),n.dispose(n._outEvent.disposableOn((function(e,t,r){g(void 0)}))),n._useInnerInteraction){var b=n._viewer.canvas.parentElement,w=n.disposeVar(p.DomElementEvent.create(b,"pointerdown")),C=n.disposeVar(p.DomElementEvent.create(b,"pointermove")),x=n.disposeVar(p.DomElementEvent.create(b,"pointerup")),P=n.disposeVar(p.DomElementEvent.create(b,"pointerout")),O=n.disposeVar(new p.PointerClick),M=n.disposeVar(new p.PointerHover);n.dispose(w.disposableOn((function(e){return O.pointerDown(e)}))),n.dispose(C.disposableOn((function(e){return O.pointerMove(e)}))),n.dispose(x.disposableOn((function(e){return O.pointerUp(e)}))),n.dispose(P.disposableOn((function(e){return O.pointerOut(e)}))),n.dispose(w.disposableOn((function(e){return M.pointerDown(e)}))),n.dispose(C.disposableOn((function(e){return M.pointerMove(e)}))),n.dispose(x.disposableOn((function(e){return M.pointerUp(e)}))),n.dispose(P.disposableOn((function(e){return M.pointerOut(e)}))),n.dispose(O.clickEvent.disposableOn((function(e){var t=c((0,p.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];(0===e.button||2===e.button)&&n._clickEvent.emit(r,o,e)}))),n.dispose(O.dbclickEvent.disposableOn((function(e){var t=c((0,p.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];0===e.button&&n._dbclickEvent.emit(r,o,e)}))),n.dispose(w.disposableOn((function(e){var t=c((0,p.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];0===e.button&&n._downEvent.emit(r,o,e)}))),n.dispose(x.disposableOn((function(e){var t=c((0,p.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];0===e.button&&n._upEvent.emit(r,o,e)}))),n.dispose(C.disposableOn((function(e){var t=c((0,p.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];n._moveEvent.emit(r,o,e)}))),n.dispose(P.disposableOn((function(e){var t=c((0,p.getDomEventCurrentTargetPos)(e),2),r=t[0],o=t[1];n._outEvent.emit(r,o,e)})))}return n}return o(t,e),Object.defineProperty(t.prototype,"useInnerInteraction",{get:function(){return this._useInnerInteraction},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"divContainer",{get:function(){return this._divContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasPrimitivesContext",{get:function(){return this._canvasPrimitivesContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraChanged",{get:function(){return this._cameraChanged},enumerable:!1,configurable:!0}),t.prototype.isPointOccludedByEarth=function(e){return this._isPointOccludedByEarth(e)},Object.defineProperty(t.prototype,"poiClickedEvent",{get:function(){return this._poiClickedEvent||(this._poiClickedEvent=new f.Event),this._poiClickedEvent},enumerable:!1,configurable:!0}),t.prototype.pointerClick=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._useInnerInteraction?console.warn("(useInnerInteractiontrue)"):(e=this._clickEvent).emit.apply(e,l([],c(t),!1))},t.prototype.pointerDbclick=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._useInnerInteraction?console.warn("(useInnerInteractiontrue)"):(e=this._dbclickEvent).emit.apply(e,l([],c(t),!1))},t.prototype.pointerDown=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._useInnerInteraction?console.warn("(useInnerInteractiontrue)"):(e=this._downEvent).emit.apply(e,l([],c(t),!1))},t.prototype.pointerUp=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._useInnerInteraction?console.warn("(useInnerInteractiontrue)"):(e=this._upEvent).emit.apply(e,l([],c(t),!1))},t.prototype.pointerMove=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._useInnerInteraction?console.warn("(useInnerInteractiontrue)"):(e=this._moveEvent).emit.apply(e,l([],c(t),!1))},t}(f.Destroyable);t.CzmPoisContext=m},5222:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(164),t),o(r(1779),t),o(r(3032),t),o(r(1400),t)},110:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSmartCommand=void 0;var l=r(9675),f=s(r(1557));function p(e){if(e instanceof Float32Array)return f.ComponentDatatype.FLOAT;if(e instanceof Int8Array)return f.ComponentDatatype.BYTE;if(e instanceof Uint8Array)return f.ComponentDatatype.UNSIGNED_BYTE;if(e instanceof Int16Array)return f.ComponentDatatype.SHORT;if(e instanceof Uint16Array)return f.ComponentDatatype.UNSIGNED_SHORT;if(e instanceof Int32Array)return f.ComponentDatatype.INT;if(e instanceof Uint32Array)return f.ComponentDatatype.UNSIGNED_INT;throw e instanceof Float64Array?(console.error("Float64Array"),new Error("Float64Array")):(console.error("TypedArray"),new Error("TypedArray"))}function d(e){if(e instanceof Uint8Array)return f.IndexDatatype.UNSIGNED_BYTE;if(e instanceof Uint16Array)return f.IndexDatatype.UNSIGNED_SHORT;if(e instanceof Uint32Array)return f.IndexDatatype.UNSIGNED_INT;throw console.error("TypedArray"),new Error("TypedArray")}var h=function(e){function t(t){var r,n,o=e.call(this)||this;o._attributeBuffers={};var i=t.context,a=t.modelMatrix,s=t.attributes,l=t.indexTypedArray,h=t.vertexShaderSource,m=t.vertexShaderDefines,y=t.fragmentShaderSource,v=t.fragmentSahderDefines,g=t.uniformMap,_=t.renderState,b=void 0===_?f.Appearance.getDefaultRenderState(!1,!0):_,w=t.pass,C=void 0===w?7:w,x=t.primitiveType,P=void 0===x?f.PrimitiveType.TRIANGLES:x,O=t.boundingVolume;o._context=i;var M={};o._attributeLocations=M;var S=[],j=0;try{for(var E=u(Object.entries(s)),A=E.next();!A.done;A=E.next()){var T=c(A.value,2),I=T[0],D=T[1],F=j++,R=D.typedArray,B=D.componentsPerAttribute,k=D.usage,z=void 0===k?35044:k,V=D.normalize,L=void 0!==V&&V;M[I]=F;var N=f.Buffer.createVertexBuffer({context:i,typedArray:R,usage:z});o._attributeBuffers[I]=N,S.push({index:F,vertexBuffer:N,componentsPerAttribute:B,normalize:L,componentDatatype:p(R)})}}catch(e){r={error:e}}finally{try{A&&!A.done&&(n=E.return)&&n.call(E)}finally{if(r)throw r.error}}var U=f.Buffer.createIndexBuffer({context:i,typedArray:l,usage:35044,indexDatatype:d(l)});o._indexBuffer=U;var G=new f.VertexArray({context:i,attributes:S,attributeLocations:M,bufferUsage:35044,indexBuffer:U});o.dispose((function(){return G.destroy()}));var W=f.ShaderProgram.fromCache({context:i,vertexShaderSource:new f.ShaderSource({sources:[h],defines:m}),fragmentShaderSource:new f.ShaderSource({sources:[y],defines:v}),attributeLocations:M});o._shaderProgram=W,o.dispose((function(){return o._shaderProgram.destroy()}));var H=new f.DrawCommand({vertexArray:G,primitiveType:P,renderState:f.RenderState.fromCache(b),shaderProgram:W,owner:o,uniformMap:g,pass:C,modelMatrix:a,boundingVolume:O});return o._command=H,o}return o(t,e),Object.defineProperty(t.prototype,"vertexBuffers",{get:function(){return this._attributeBuffers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexBuffer",{get:function(){return this._indexBuffer},enumerable:!1,configurable:!0}),t.prototype.setShader=function(e){var t=e.vertexShaderSource,r=e.fragmentShaderSource,n=e.vertexShaderDefines,o=e.fragmentSahderDefines,i=f.ShaderProgram.fromCache({context:this._context,vertexShaderSource:new f.ShaderSource({sources:[t],defines:n}),fragmentShaderSource:new f.ShaderSource({sources:[r],defines:o}),attributeLocations:this._attributeLocations});i&&(this._shaderProgram.destroy(),this._shaderProgram=i,this._command.shaderProgram=i)},Object.defineProperty(t.prototype,"command",{get:function(){return this._command},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.CzmSmartCommand=h},2090:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmTexture=void 0;var c=r(9675),l=r(1901),f=s(r(1557)),p=function(e){function t(t,r){var n=e.call(this)||this;return n._czmViewer=t,n._comlexImage=r,n._nativeTextureResetting=n.disposeVar(new l.ObjResettingWithEvent(n.comlexImage.createNativeTextureEvent,(function(){if(n.comlexImage.enabled&&n.comlexImage.size){var e=n.comlexImage,t=e.flipY,r=e.size,o=u(r,2),i=o[0],a=o[1];return new f.Texture({context:n.czmViewer.scene.context,pixelFormat:f.PixelFormat[n.pixelFormat],width:i,height:a,flipY:t})}}))),n._copyTexture=n.dispose(n.comlexImage.copyTextureEvent.disposableOn((function(e){n.copyTexture(e)}))),n}return o(t,e),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"comlexImage",{get:function(){return this._comlexImage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeTextureResetting",{get:function(){return this._nativeTextureResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeTextureChanged",{get:function(){return this._nativeTextureResetting.objChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeTexture",{get:function(){return this._nativeTextureResetting.obj},enumerable:!1,configurable:!0}),t.prototype.copyTexture=function(e){if(!this.nativeTexture)throw new Error("copyTexture error: !this.nativeTexture");this.nativeTexture.copyFrom(e)},t}(c.Destroyable);t.CzmTexture=p},527:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FirstPersonController=void 0;var i=r(9675),a=r(559),s=r(3011),u=function(e){function t(t){var r=e.call(this)||this;return r._viewer=t,r._mouseCameraController=r.disposeVar(new s.MouseCameraController(r)),r._keyboardCameraController=r.disposeVar(new a.KeyboardCameraController(r)),r}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseCameraController",{get:function(){return this._mouseCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseEnabled",{get:function(){return this.mouseCameraController.enabled},set:function(e){this.mouseCameraController.enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseEnabledChanged",{get:function(){return this.mouseCameraController.enabledChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyboardCameraController",{get:function(){return this._keyboardCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyboardEnabled",{get:function(){return this.keyboardCameraController.enabled},set:function(e){this.keyboardCameraController.enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyboardEnabledChanged",{get:function(){return this.keyboardCameraController.enabledChanged},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FirstPersonController=u},7954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},439:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CameraOp=void 0;var a=r(9675),s=r(3599),u=r(7563),c=function(e){function t(t){var r=e.call(this)||this;r._running=t,r._actions={MoveForward:!1,MoveBackword:!1,MoveLeft:!1,MoveRight:!1};var n=r.controller.firstPersonController.viewer,o=n.camera;r.dispose(r.running.keyStatus.currentKeyIdsChanged.disposableOn((function(){r._updateActions()}))),r.dispose(r.controller.keyDownEvent.disposableOn((function(e){var t=r.running.keyboardCameraController.keyStatusMap;"SpeedUp"===t[e.code]?r.controller.speed=2*r.controller.speed:"SpeedDown"===t[e.code]&&(r.controller.speed=.5*r.controller.speed)}))),r.dispose(r.controller.keyDownEvent.disposableOn((function(e){"SwitchAlwaysWithCamera"===r.running.keyboardCameraController.keyStatusMap[e.code]&&(r.controller.alwaysWithCamera=!r.controller.alwaysWithCamera)})));var i=r.actions,a=Date.now(),c=function(){var e=Date.now(),t=e-a;a=e;var n=r.controller.speed;i.WithCamera||r.controller.alwaysWithCamera?(i.MoveForward&&o.moveForward(t*n),i.MoveBackword&&o.moveBackward(t*n),i.MoveLeft&&o.moveLeft(t*n),i.MoveRight&&o.moveRight(t*n)):(i.MoveForward&&(0,s.moveForward)(o,t*n),i.MoveBackword&&(0,s.moveForward)(o,-t*n),i.MoveLeft&&(0,u.moveRight)(o,-t*n),i.MoveRight&&(0,u.moveRight)(o,t*n))};return n.scene.preUpdate.addEventListener(c),r.dispose((function(){return n.scene.preUpdate.removeEventListener(c)})),r}return o(t,e),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controller",{get:function(){return this.running.keyboardCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},enumerable:!1,configurable:!0}),t.prototype._resetActions=function(){var e,t,r=Object.keys(this._actions);try{for(var n=i(r),o=n.next();!o.done;o=n.next()){var a=o.value;this._actions[a]=!1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype._updateActions=function(){var e,t,r=this.running.keyStatus,n=this.actions;this._resetActions();var o=this.running.keyboardCameraController.keyStatusMap;try{for(var a=i(r.currentKeyIds),s=a.next();!s.done;s=a.next())n[o[s.value]]=!0}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}},t}(a.Destroyable);t.CameraOp=c},8322:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStatus=void 0;var s=r(9675),u=r(1901),c=function(e){function t(r){var n=e.call(this)||this;n._keyboardCameraControllerRunning=r,n._currentKeyIds=new Set,n._currentKeyIdsChanged=n.disposeVar(new s.Event),n._debug=n.disposeVar((0,s.react)(!1)),n._debugResetting=n.disposeVar(new u.ObjResettingWithEvent(n.debugChanged,(function(){if(n.debug)return new(function(e){function t(t){var r=e.call(this)||this,n=function(){console.log(a([],i(t.currentKeyIds),!1).join("\n"))};return n(),r.dispose(t.currentKeyIdsChanged.disposableOn(n)),r}return o(t,e),t}(s.Destroyable))(n)})));var c=n._keyboardCameraControllerRunning.keyboardCameraController;return n.dispose(c.keyDownEvent.disposableOn((function(e){var r=t.getKeyId(e);n._currentKeyIds.has(r)||(n._currentKeyIds.add(r),n._currentKeyIdsChanged.emit())}))),n.dispose(c.keyUpEvent.disposableOn((function(e){var r=t.getKeyId(e);n._currentKeyIds.has(r)&&(n._currentKeyIds.delete(r),n._currentKeyIdsChanged.emit())}))),n.dispose(c.abortEvent.disposableOn((function(){console.log("canvas blur!"),n._currentKeyIds.clear(),n._currentKeyIdsChanged.emit()}))),n}return o(t,e),t.getKeyId=function(e){return e.code},Object.defineProperty(t.prototype,"currentKeyIds",{get:function(){return this._currentKeyIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentKeyIdsChanged",{get:function(){return this._currentKeyIdsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug.value},set:function(e){this._debug.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugChanged",{get:function(){return this._debug.changed},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.KeyStatus=c},9729:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardCameraController=void 0;var i=r(9675),a=r(1901),s=r(4518),u=function(e){function t(r){var n=e.call(this)||this;return n._firstPersonController=r,n._enabled=n.disposeVar((0,i.react)(!1)),n._keyStatusMap=n.disposeVar((0,i.react)(t.defaultKeyStatusMap)),n._speed=n.disposeVar((0,i.react)(1)),n._alwaysWithCamera=n.disposeVar((0,i.react)(!1)),n._keyDownEvent=n.disposeVar(new i.Event),n._keyUpEvent=n.disposeVar(new i.Event),n._abortEvent=n.disposeVar(new i.Event),n._keyboardResetting=n.disposeVar(new a.ObjResettingWithEvent(n.enabledChanged,(function(){if(n.enabled)return new s.KeyboardCameraControllerRunning(n)}))),n}return o(t,e),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this._firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatusMap",{get:function(){return this._keyStatusMap.value},set:function(e){this._keyStatusMap.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatusMapChanged",{get:function(){return this._keyStatusMap.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed.value},set:function(e){this._speed.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speedChanged",{get:function(){return this._speed.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alwaysWithCamera",{get:function(){return this._alwaysWithCamera.value},set:function(e){this._alwaysWithCamera.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alwaysWithCameraChanged",{get:function(){return this._alwaysWithCamera.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDownEvent",{get:function(){return this._keyDownEvent},enumerable:!1,configurable:!0}),t.prototype.keyDown=function(e){this._keyDownEvent.emit(e)},Object.defineProperty(t.prototype,"keyUpEvent",{get:function(){return this._keyUpEvent},enumerable:!1,configurable:!0}),t.prototype.keyUp=function(e){this._keyUpEvent.emit(e)},Object.defineProperty(t.prototype,"abortEvent",{get:function(){return this._abortEvent},enumerable:!1,configurable:!0}),t.prototype.abort=function(){this._abortEvent.emit()},Object.defineProperty(t.prototype,"keyboardResetting",{get:function(){return this._keyboardResetting},enumerable:!1,configurable:!0}),t.defaultKeyStatusMap={ShiftLeft:"WithCamera",ShiftRight:"WithCamera",KeyW:"MoveForward",KeyS:"MoveBackword",KeyA:"MoveLeft",KeyD:"MoveRight",ArrowUp:"MoveForward",ArrowDown:"MoveBackword",ArrowLeft:"MoveLeft",ArrowRight:"MoveRight",KeyR:"SpeedUp",KeyF:"SpeedDown",KeyQ:"SwitchAlwaysWithCamera"},t}(i.Destroyable);t.KeyboardCameraController=u},4518:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardCameraControllerRunning=void 0;var i=r(9675),a=r(8322),s=r(439),u=function(e){function t(t){var r=e.call(this)||this;return r._keyboardCameraController=t,r._keyStatus=r.disposeVar(new a.KeyStatus(r)),r._cameraOp=r.disposeVar(new s.CameraOp(r)),r}return o(t,e),Object.defineProperty(t.prototype,"keyboardCameraController",{get:function(){return this._keyboardCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatus",{get:function(){return this._keyStatus},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraOp",{get:function(){return this._cameraOp},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.KeyboardCameraControllerRunning=u},559:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7954),t),o(r(439),t),o(r(8322),t),o(r(9729),t)},3103:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseCameraController=void 0;var i=r(9675),a=r(1901),s=r(2348),u=function(e){function t(t){var r=e.call(this)||this;return r._firstPersonController=t,r._enabled=r.disposeVar((0,i.react)(!1)),r.enableViewerOriginInputs=function(e){r.firstPersonController.viewer.scene.screenSpaceCameraController.enableInputs=e},r._mouseResetting=r.disposeVar(new a.ObjResettingWithEvent(r.enabledChanged,(function(){if(r.enabled)return new s.MouseCameraControllerRunning(r)}))),r}return o(t,e),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this._firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseResetting",{get:function(){return this._mouseResetting},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.MouseCameraController=u},2348:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseCameraControllerRunning=void 0;var i=r(9675),a=r(8422),s=function(e){function t(r){var n=e.call(this)||this;n._mouseCameraController=r,n._mouseMoving=n.disposeVar(new a.MouseMoving(n.firstPersonController,n.mouseCameraController));var o=n.firstPersonController.viewer;n.mouseCameraController.enableViewerOriginInputs(!1),n.dispose((function(){return n.mouseCameraController.enableViewerOriginInputs(!0)})),Element.prototype.setPointerCapture=function(){},n.dispose((function(){return Element.prototype.setPointerCapture=t.origin_setPointerCapture}));var i=o.canvas;i.requestPointerLock(),n.dispose((function(){return document.exitPointerLock()}));var s=function(){document.pointerLockElement!==i&&(n.firstPersonController.mouseEnabled=!1)};return document.addEventListener("pointerlockchange",s,!1),n.dispose((function(){return document.removeEventListener("pointerlockchange",s,!1)})),document.addEventListener("pointerlockerror",(function(){n.firstPersonController.mouseEnabled=!1,console.log("Error locking pointer")})),n}return o(t,e),Object.defineProperty(t.prototype,"mouseCameraController",{get:function(){return this._mouseCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this.mouseCameraController.firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseMoving",{get:function(){return this._mouseMoving},enumerable:!1,configurable:!0}),t.origin_setPointerCapture=Element.prototype.setPointerCapture,t}(i.Destroyable);t.MouseCameraControllerRunning=s},8422:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseMoving=void 0;var u=r(9675),c=s(r(1557)),l=function(e){function t(t,r){var n=e.call(this)||this;n._firstPersonController=t,n._mouseCameraController=r;var o=n._firstPersonController.viewer.canvas,i=function(e){!function(e,t){e.lookRight(.1*c.Math.toRadians(t.movementX)),e.lookDown(.1*c.Math.toRadians(t.movementY));var r=e.pitch,n=c.Math.clamp(r,-c.Math.PI_OVER_TWO,c.Math.PI_OVER_TWO);n!==r&&e.setView({destination:e.positionWC,orientation:{heading:e.heading,pitch:n,roll:e.roll}})}(n._firstPersonController.viewer.scene.camera,e)};return o.addEventListener("pointermove",i),n.dispose((function(){return o.removeEventListener("pointermove",i)})),n}return o(t,e),t}(u.Destroyable);t.MouseMoving=l},3011:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3103),t)},3599:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.moveUp=t.moveRight=t.moveForward=void 0;var a=i(r(1557)),s=new a.Cartesian3,u=new a.Cartesian3;function c(e,t,r){var n=a.Matrix4.clone(e.transform);e.lookAtTransform(a.Matrix4.IDENTITY);var o=e.positionCartographic.height,i=e.positionWC,c=a.Cartesian3.normalize(i,s),l=a.Cartesian3.dot(e.direction,c);if(l>-.9&&l<.9)var f=a.Cartesian3.cross(e.direction,c,u);else f=a.Cartesian3.cross(e.up,c,u);var p=f;r&&(p=a.Cartesian3.cross(c,f,s));var d=a.Cartesian3.magnitude(i);e.rotate(p,t/d);var h=e.positionCartographic,m=h.longitude,y=h.latitude;a.Cartesian3.fromRadians(m,y,o,void 0,e.position),e.lookAtTransform(n)}t.moveForward=function(e,t){c(e,t,!1)},t.moveRight=function(e,t){c(e,-t,!0)},t.moveUp=function(e,t){e.positionWC;var r=a.Matrix4.clone(e.transform);e.lookAtTransform(a.Matrix4.IDENTITY);var n=e.positionCartographic;a.Cartesian3.fromRadians(n.longitude,n.latitude,n.height+t,void 0,e.position),e.lookAtTransform(r)}},3884:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(527),t),o(r(559),t),o(r(3011),t)},4300:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(1557)),s=a.combine,u=a.ShaderDestination,c={name:"FlattenedPipelineStage",process:function(e,t,r){if(t.xbsjFlattened){var n=e.shaderBuilder;n.addDefine("XBSJ_FLATTERN",void 0,u.BOTH),n.addUniform("sampler2D","u_flattenedPolygonTexture",u.BOTH),n.addUniform("vec4","u_flattenedBound",u.BOTH),n.addUniform("bool","u_flattened",u.BOTH),n.addUniform("mat4","u_inverseModelElevationMatrix",u.BOTH),n.addUniform("mat4","u_inverseElevationModelMatrix",u.BOTH),n.addUniform("bool","u_flattenDiscard",u.BOTH);var o={u_flattenedBound:function(){var e;return null!==(e=t.xbsjFlattenedBound)&&void 0!==e?e:a.Cartesian4.ZERO},u_flattened:function(){return t.xbsjFlattened},u_inverseModelElevationMatrix:function(){var e,n,o,i=null!==(e=r.context.uniformState.inverseModel)&&void 0!==e?e:a.Matrix4.IDENTITY;return t._uniformElevationInverseModelMatrix=a.Matrix4.multiply(i,null!==(n=t.xbsjElevationMatrix)&&void 0!==n?n:a.Matrix4.IDENTITY,null!==(o=t._uniformElevationInverseModelMatrix)&&void 0!==o?o:new a.Matrix4),t._uniformElevationInverseModelMatrix},u_inverseElevationModelMatrix:function(){var e,n,o,i=null!==(e=r.context.uniformState.model)&&void 0!==e?e:a.Matrix4.IDENTITY;return t._uniformInverseElevationModelMatrix=a.Matrix4.multiply(null!==(n=t.xbsjElevationMatrixInv)&&void 0!==n?n:a.Matrix4.IDENTITY,i,null!==(o=t._uniformInverseElevationModelMatrix)&&void 0!==o?o:new a.Matrix4),t._uniformInverseElevationModelMatrix},u_flattenedPolygonTexture:function(){var e;return t.xbsjGetFlattenedTextureFunc&&null!==(e=t.xbsjGetFlattenedTextureFunc())&&void 0!==e?e:r.context.defaultTexture}};e.uniformMap=s(o,e.uniformMap)}}};t.default=c},1572:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hackModelSceneGraph=t.hackCzmModel3DTileContent=t.hackCesium3DTileset=t.hackModel=void 0;var c=i(r(1557)),l=u(r(4300));function f(){Object.defineProperties(c.Model.prototype,{xbsjFlattened:{get:function(){var e;return null!==(e=this._xbsjFlattened)&&void 0!==e&&e},set:function(e){e!==this._xbsjFlattened&&this.resetDrawCommands(),this._xbsjFlattened=e}},xbsjElevationMatrix:{get:function(){return this._xbsjElevationMatrix},set:function(e){e!==this._xbsjElevationMatrix&&this.resetDrawCommands(),this._xbsjElevationMatrix=e,this._xbsjElevationMatrixInv=this._xbsjElevationMatrix&&c.Matrix4.inverseTransformation(this._xbsjElevationMatrix,new c.Matrix4)}},xbsjElevationMatrixInv:{get:function(){return this._xbsjElevationMatrixInv}},xbsjFlattenedBound:{get:function(){return this._xbsjFlattenedBound},set:function(e){e!==this._xbsjFlattenedBound&&this.resetDrawCommands(),this._xbsjFlattenedBound=e}},xbsjGetFlattenedTextureFunc:{get:function(){return this._xbsjGetFlattenedTextureFunc},set:function(e){e!==this._xbsjGetFlattenedTextureFunc&&this.resetDrawCommands(),this._xbsjGetFlattenedTextureFunc=e}}})}function p(){Object.defineProperties(c.Cesium3DTileset.prototype,{xbsjFlattened:{get:function(){var e;return null!==(e=this._xbsjFlattened)&&void 0!==e&&e},set:function(e){this._xbsjFlattened=e}},xbsjElevationMatrix:{get:function(){return this._xbsjElevationMatrix},set:function(e){this._xbsjElevationMatrix=e}},xbsjFlattenedBound:{get:function(){return this._xbsjFlattenedBound},set:function(e){this._xbsjFlattenedBound=e}},xbsjGetFlattenedTextureFunc:{get:function(){return this._xbsjGetFlattenedTextureFunc},set:function(e){this._xbsjGetFlattenedTextureFunc=e}}})}function d(){var e=c.Model3DTileContent.prototype.update;c.Model3DTileContent.prototype.update=function(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=this._model;return i.xbsjFlattened=t.xbsjFlattened,i.xbsjElevationMatrix=t.xbsjElevationMatrix,i.xbsjFlattenedBound=t.xbsjFlattenedBound,i.xbsjGetFlattenedTextureFunc=t.xbsjGetFlattenedTextureFunc,e.call.apply(e,s([this,t,r],a(n),!1))}}function h(){var e=c.ModelSceneGraph.prototype.configurePipeline;c.ModelSceneGraph.prototype.configurePipeline=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=e.call.apply(e,s([this,t],a(r),!1)),i=this._model,u=this.modelPipelineStages;return i.xbsjFlattened&&u.push(l.default),o}}t.hackModel=f,t.hackCesium3DTileset=p,t.hackCzmModel3DTileContent=d,t.hackModelSceneGraph=h,f(),p(),d(),h()},7713:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4120),t),o(r(1572),t),o(r(4300),t)},4120:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getElevationMatrix=void 0;var a=i(r(1557));t.getElevationMatrix=function(e,t){try{var r=a.Ellipsoid.WGS84,n=r.scaleToGeodeticSurface(e);return a.Transforms.eastNorthUpToFixedFrame(n,r,t)}catch(e){return a.Matrix4.clone(a.Matrix4.IDENTITY,t)}}},5068:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.globeLevelSource=t.fixCesiumForGlobelLevel=t.czmInitGlobelLevelOnViewerCreating=void 0;var a=i(r(1557));t.czmInitGlobelLevelOnViewerCreating=function(e){var t=e.scene.globe._surfaceShaderSet.baseFragmentShaderSource.sources,r=t.length-1;t[r]=t[r].replace("materialInput.aspect = v_aspect;","materialInput.aspect = v_aspect;materialInput.color = color;")},t.fixCesiumForGlobelLevel=function(){var e=a.ShaderSource._czmBuiltinsAndUniforms;-1===e.czm_materialInput.indexOf("vec4 color")&&(e.czm_materialInput=e.czm_materialInput.replace("float aspect;","float aspect; vec4 color;"))},t.globeLevelSource="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec3 input_shadows;\nuniform vec3 input_highlights;\nuniform vec3 midtones;\nuniform vec3 output_shadows;\nuniform vec3 output_highlights;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\nczm_material material = czm_getDefaultMaterial(materialInput);\n\nvec3 c = materialInput.color.rgb;\n\n// \nc = (c - input_shadows) / (input_highlights - input_shadows);\nc = clamp(c, vec3(0), vec3(1.0));\n\n// \nc = pow(c, 1.0 / midtones);\n\n// \nc = c * (output_highlights - output_shadows) + output_shadows;\nc = clamp(c, vec3(0), vec3(1.0));\n\n//material.diffuse = materialInput.color.rgb * vec3(1.0, 1.0, 0.0);\n//material.alpha = materialInput.color.a;\nmaterial.diffuse = c;\nmaterial.alpha = materialInput.color.a;\n\nreturn material;\n}\n",a.Material.GlobeLevelMaterialType="GlobelLevel",a.Material._materialCache.addMaterial(a.Material.GlobeLevelMaterialType,{fabric:{type:a.Material.GlobeLevelMaterialType,uniforms:{input_shadows:new a.Cartesian3(0,0,0),input_highlights:new a.Cartesian3(1,1,1),midtones:new a.Cartesian3(.5,.5,.5),output_shadows:new a.Cartesian3(0,0,0),output_highlights:new a.Cartesian3(1,1,1)},source:t.globeLevelSource},translucent:!1})},214:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SkyAtmosphere=void 0;var o=n(r(8259));t.SkyAtmosphere=o.default},2619:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OffsetPositionProperty=void 0;var a=i(r(1557)),s=function(){function e(e,t,r){this._definitionChanged=new a.Event;var n=new a.Cartesian3(1,1,1),o=new a.Cartesian3,i=new a.Cartesian3,s=new a.Cartesian3,u=new a.Quaternion;this._getValue=function(c,l){l=l||new a.Cartesian3,l=t.getValue(c,l);var f=r.getValue(c,u);if(l){var p=a.Matrix4.fromTranslationQuaternionRotationScale(l,f,n),d=a.Cartesian3.fromElements(p[0],p[1],p[2],o),h=a.Cartesian3.fromElements(p[8],p[9],p[10],i),m=a.Cartesian3.cross(d,h,s),y=a.Cartesian3.multiplyByScalar(h,e.up,h),v=a.Cartesian3.multiplyByScalar(d,e.direction,d),g=a.Cartesian3.multiplyByScalar(m,e.right,m);return a.Cartesian3.add(l,y,l),a.Cartesian3.add(l,v,l),a.Cartesian3.add(l,g,l),l}}}return Object.defineProperty(e.prototype,"isConstant",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definitionChanged",{get:function(){return this._definitionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"referenceFrame",{get:function(){return a.ReferenceFrame.FIXED},enumerable:!1,configurable:!0}),e.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,a.ReferenceFrame.FIXED,t)},e.prototype.getValueInReferenceFrame=function(e,t,r){var n=this._getValue(e,r);return a.PositionProperty.convertToReferenceFrame(e,n,this.referenceFrame,t,r)},e.prototype.equals=function(e){return this===e},e}();t.OffsetPositionProperty=s},2640:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7012:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeRendering=void 0;var i=r(9675),a=r(3840),s=function(e){function t(t,r){var n=e.call(this)||this;return n._scene=t,n._blendAlpha=n.disposeVar((0,i.react)(1)),n._primitive=new a.VolumeRenderingPrimitive(n._scene,r),n._scene.primitives.add(n._primitive),n.dispose((function(){return n._scene.primitives.remove(n._primitive)})),n.dispose(n._blendAlpha.changed.disposableOn((function(){n._primitive.fragColorFunctionString="gl_FragColor.a *= float(".concat(n._blendAlpha.value,"); ")}))),n}return o(t,e),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendAlpha",{get:function(){return this._blendAlpha.value},set:function(e){this._blendAlpha.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendAlphaChanged",{get:function(){return this._blendAlpha.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.VolumeRendering=s},1569:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createCzmCommand=void 0;var u=r(110),c=i(r(1557)),l=r(9675),f=[.5,-.5,.5],p=[-.5,-.5,.5],d=[-.5,-.5,-.5],h=[.5,-.5,-.5],m=[.5,.5,-.5],y=[.5,.5,.5],v=[-.5,.5,.5],g=[-.5,.5,-.5],_=s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s([],a(g),!1),a(m),!1),a(h),!1),a(d),!1),a(d),!1),a(h),!1),a(f),!1),a(p),!1),a(m),!1),a(g),!1),a(v),!1),a(y),!1),a(g),!1),a(d),!1),a(p),!1),a(v),!1),a(h),!1),a(m),!1),a(y),!1),a(f),!1),a(p),!1),a(f),!1),a(y),!1),a(v),!1),b=new Float32Array(_),w=[1,0,0],C=[-1,0,0],x=[0,1,0],P=[0,-1,0],O=[0,0,1],M=[0,0,-1],S=new Float32Array(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s([],a(M),!1),a(M),!1),a(M),!1),a(M),!1),a(P),!1),a(P),!1),a(P),!1),a(P),!1),a(x),!1),a(x),!1),a(x),!1),a(x),!1),a(C),!1),a(C),!1),a(C),!1),a(C),!1),a(w),!1),a(w),!1),a(w),!1),a(w),!1),a(O),!1),a(O),!1),a(O),!1),a(O),!1)),j=new Float32Array([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1]),E=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]);t.createCzmCommand=function(e,t,r){var n=c.Appearance.getDefaultRenderState(!0,!0,void 0);n.cull.face=c.WebGLConstants.BACK,n.depthTest.enabled=!1;var o=c.RenderState.fromCache(n),i={u_volumeTexture:function(){return t._volumeTexture||e.defaultTexture},u_volumeTextureSize:function(){return t.volumeTextureSize},u_xyClipBox:function(){return t.xyClipBox},u_zClipBoxAndIntensityThreshold:function(){return t.zClipBoxAndIntensityThreshold},u_gradientTexture:function(){return t._gradientTexture||e.defaultTexture},u_depthTexture:function(){return r._xbsjSceneDepthTextureForVolumeR||(0,l.oneTimeWarning)("scene._xbsjSceneDepthTextureForVolumeR is undefined"),r._xbsjSceneDepthTextureForVolumeR||e.defaultTexture}};return new u.CzmSmartCommand({context:e,modelMatrix:t.finalModelMatrix,pass:7,boundingVolume:t.boundingVolume,attributes:{position:{typedArray:b,componentsPerAttribute:3},normal:{typedArray:S,componentsPerAttribute:3},textureCoordinates:{typedArray:j,componentsPerAttribute:2}},indexTypedArray:E,vertexShaderSource:"",fragmentShaderSource:"",renderState:o,uniformMap:i})}},3840:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeRenderingPrimitive=void 0;var u=r(9675),c=s(r(1557)),l=r(5692),f=r(1901),p=r(3143),d=r(1569),h=r(7175);function m(e){return void 0===e&&(e=[0,0,0,0]),(0,u.react)(c.Cartesian4.fromArray(e),c.Cartesian4.equals,c.Cartesian4.clone)}function y(e){return void 0===e&&(e=[0,0,0]),(0,u.react)(c.Cartesian3.fromArray(e),c.Cartesian3.equals,c.Cartesian3.clone)}var v=function(e){function t(t,r){var n,o=e.call(this)||this;o._scene=t,o._volumeTextureSize=o.disposeVar(m()),o._colorStops=new f.ColorStops,o._gradientTexture=o.disposeVar(new c.Texture({context:o._scene.context,width:1024,height:1})),o._modelMatrix=o.disposeVar((void 0===n&&(n=c.Matrix4.IDENTITY),(0,u.react)(c.Matrix4.clone(n),c.Matrix4.equals,c.Matrix4.clone))),o._minCartesian=o.disposeVar(y([-.5,-.5,-.5])),o._maxCartesian=o.disposeVar(y([.5,.5,.5])),o._offsetCartesian=o.disposeVar(y([0,0,0])),o._scaleCartesian=o.disposeVar(y([1,1,1])),o._modelMatrixDirty=!0,o._finalModeMatrix=new c.Matrix4,o._boundingVolume=new c.OrientedBoundingBox,o._boundingSphere=new c.BoundingSphere,o._fragColorFunctionString=o.disposeVar((0,u.react)("")),o._minIntensity=o.disposeVar((0,u.react)(0)),o._maxIntensity=o.disposeVar((0,u.react)(1)),o._mode=o.disposeVar((0,u.react)("accumColor")),o._shaded=o.disposeVar((0,u.react)(!1)),o._stepSize=o.disposeVar((0,u.react)(.1)),o._maxSteps=o.disposeVar((0,u.react)(1e4)),o._stpProperty=o.disposeVar((0,u.react)("stp")),o._alphaRatio=o.disposeVar((0,u.react)(.03)),o._accumFunctionString=o.disposeVar((0,u.react)("")),o._shaderProgramDirty=!0,o._xyClipBox=o.disposeVar(m([0,0,1,1])),o._zClipBoxAndIntensityThreshold=o.disposeVar(m([0,1,0,0])),o._czmSmartCommand=o.disposeVar((0,d.createCzmCommand)(o._scene.context,o,o._scene)),(0,p.mixinSceneRender)(o._scene);var i=r.volumeTextureSize;o.dispose(o._volumeTextureSize.changed.disposableOn((function(e){o._volumeTexture&&o._volumeTexture.destroy();var t=e.x,r=t;o._volumeTexture=new c.Texture({context:o._scene.context,width:t,height:r,flipY:!1})})));var a=new Uint8Array(4096);return o.dispose(o._colorStops.valueChanged.disposableOn((function(){var e=o._colorStops.getColorsInUint8(a);e&&o._gradientTexture.copyFrom({source:{width:1024,height:1,arrayBufferView:e}})}))),o.dispose(o._modelMatrix.changed.disposableOn((function(){return o._modelMatrixDirty=!0}))),o.dispose(o._minCartesian.changed.disposableOn((function(){return o._modelMatrixDirty=!0}))),o.dispose(o._maxCartesian.changed.disposableOn((function(){return o._modelMatrixDirty=!0}))),o.dispose(o._offsetCartesian.changed.disposableOn((function(){return o._modelMatrixDirty=!0}))),o.dispose(o._scaleCartesian.changed.disposableOn((function(){return o._modelMatrixDirty=!0}))),o.dispose(o._fragColorFunctionString.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._minIntensity.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._maxIntensity.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._mode.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._shaded.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._stepSize.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._maxSteps.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._stpProperty.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._alphaRatio.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o.dispose(o._accumFunctionString.changed.disposableOn((function(){return o._shaderProgramDirty=!0}))),o._colorStops.value=[{ratio:.1,rgba:[0,0,1,1]},{ratio:.3,rgba:[0,1,0,1]},{ratio:.6,rgba:[1,1,0,1]},{ratio:.9,rgba:[1,0,0,1]}],o.volumeTextureSize=i,o}return o(t,e),Object.defineProperty(t.prototype,"colorStops",{get:function(){return this._colorStops.value},set:function(e){this._colorStops.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colorStopsChanged",{get:function(){return this._colorStops.valueChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeTextureSize",{get:function(){return this._volumeTextureSize.value},set:function(e){this._volumeTextureSize.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeTextureSizeChanged",{get:function(){return this._volumeTextureSize.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelMatrix",{get:function(){return this._modelMatrix.value},set:function(e){this._modelMatrix.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelMatrixChanged",{get:function(){return this._modelMatrix.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minCartesian",{get:function(){return this._minCartesian.value},set:function(e){this._minCartesian.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minCartesianChanged",{get:function(){return this._minCartesian.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCartesian",{get:function(){return this._maxCartesian.value},set:function(e){this._maxCartesian.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCartesianChanged",{get:function(){return this._maxCartesian.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetCartesian",{get:function(){return this._offsetCartesian.value},set:function(e){this._offsetCartesian.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetCartesianChanged",{get:function(){return this._offsetCartesian.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleCartesian",{get:function(){return this._scaleCartesian.value},set:function(e){this._scaleCartesian.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleCartesianChanged",{get:function(){return this._scaleCartesian.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragColorFunctionString",{get:function(){return this._fragColorFunctionString.value},set:function(e){this._fragColorFunctionString.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragColorFunctionStringChanged",{get:function(){return this._fragColorFunctionString.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minIntensity",{get:function(){return this._minIntensity.value},set:function(e){this._minIntensity.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minIntensityChanged",{get:function(){return this._minIntensity.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxIntensity",{get:function(){return this._maxIntensity.value},set:function(e){this._maxIntensity.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxIntensityChanged",{get:function(){return this._maxIntensity.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode.value},set:function(e){this._mode.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modeChanged",{get:function(){return this._mode.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shaded",{get:function(){return this._shaded.value},set:function(e){this._shaded.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadedChanged",{get:function(){return this._shaded.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stepSize",{get:function(){return this._stepSize.value},set:function(e){this._stepSize.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stepSizeChanged",{get:function(){return this._stepSize.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSteps",{get:function(){return this._maxSteps.value},set:function(e){this._maxSteps.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxStepsChanged",{get:function(){return this._maxSteps.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stpProperty",{get:function(){return this._stpProperty.value},set:function(e){this._stpProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stpPropertyChanged",{get:function(){return this._stpProperty.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alphaRatio",{get:function(){return this._alphaRatio.value},set:function(e){this._alphaRatio.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alphaRatioChanged",{get:function(){return this._alphaRatio.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accumFunctionString",{get:function(){return this._accumFunctionString.value},set:function(e){this._accumFunctionString.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accumFunctionStringChanged",{get:function(){return this._accumFunctionString.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalModelMatrix",{get:function(){return this._finalModeMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundingVolume",{get:function(){return this._boundingVolume},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xyClipBox",{get:function(){return this._xyClipBox.value},set:function(e){this._xyClipBox.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xyClipBoxChanged",{get:function(){return this._xyClipBox.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zClipBoxAndIntensityThreshold",{get:function(){return this._zClipBoxAndIntensityThreshold.value},set:function(e){this._zClipBoxAndIntensityThreshold.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zClipBoxAndIntensityThresholdChanged",{get:function(){return this._zClipBoxAndIntensityThreshold.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeTexture",{get:function(){return this._volumeTexture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundingSphere",{get:function(){return this._updateModelMatrixAndBS(),this._boundingSphere},enumerable:!1,configurable:!0}),t.prototype.setImageOrBuffer=function(e){this._textureCopy(e)},t.prototype._updateModelMatrixAndBS=function(){if(this._modelMatrixDirty){this._modelMatrixDirty=!1,c.Cartesian3.midpoint(this.minCartesian,this.maxCartesian,this.offsetCartesian),c.Cartesian3.subtract(this.maxCartesian,this.minCartesian,this.scaleCartesian);var e=c.Matrix4.multiplyByTranslation(this.modelMatrix,this.offsetCartesian,this._finalModeMatrix);this._finalModeMatrix=c.Matrix4.multiplyByScale(e,this.scaleCartesian,e),c.Matrix4.getTranslation(this._finalModeMatrix,this._boundingVolume.center),c.Matrix4.getMatrix3(this._finalModeMatrix,this._boundingVolume.halfAxes),c.BoundingSphere.fromOrientedBoundingBox(this._boundingVolume,this._boundingSphere)}},t.prototype._textureCopy=function(e){var t=this.volumeTextureSize.x,r=e instanceof Uint8Array,n=e instanceof HTMLImageElement&&t===e.naturalWidth&&t===e.naturalHeight;n||r?n?this.volumeTexture.copyFrom({source:e}):r&&this.volumeTexture.copyFrom({source:{width:t,height:t,arrayBufferView:e}}):console.warn("_textureCopy error buffer")},t.prototype._updateShaderProgram=function(){if(this._shaderProgramDirty){this._shaderProgramDirty=!1;var e=h.vertexShaderString,t=(0,h.getFragmentShaderString)(this);this._czmSmartCommand.setShader({vertexShaderSource:e,fragmentShaderSource:t,vertexShaderDefines:[],fragmentSahderDefines:[]})}},t.prototype.update=function(e){this.show&&(this._updateShaderProgram(),this._updateModelMatrixAndBS(),this._czmSmartCommand&&this._finalModeMatrix&&e.commandList.push(this._czmSmartCommand.command))},t}(l.CzmBasePrimitive);t.VolumeRenderingPrimitive=v},7175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFragmentShaderString=t.vertexShaderString=void 0,t.vertexShaderString="\n    attribute vec3 position;\n    attribute vec3 normal;\n    attribute vec2 st;\n    attribute float batchId;\n    varying vec3 v_positionEC;\n    varying vec3 v_normalEC;\n    varying vec2 v_st;\n    void main() {\n        v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz; \n        v_normalEC = czm_normal * normal; \n        v_st = st;\n        gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n    }\n    ",t.getFragmentShaderString=function(e){var t,r=e.mode,n=e.shaded,o=e.minIntensity,i=e.maxIntensity,a=e.fragColorFunctionString,s=e.stepSize,u=e.maxSteps,c=e.stpProperty,l=e.alphaRatio,f=void 0===l?.01:l,p=1/(i-o);return t="opaque"===r?"\n        alphaAccumIntensity = 1.;\n        if (intensity >= intensityThreshold) { accumIntenstiy = intensity; break; }\n        ":"max"===r?"\n        accumIntenstiy = max(intensity, accumIntenstiy);\n        float c01 = clamp((accumIntenstiy - float(".concat(o,")) * float(").concat(p,"), 0.0, 1.0);\n        float currentAlpha = texture2D(u_gradientTexture, vec2(c01, 0.5)).a;\n        alphaAccumIntensity = currentAlpha;\n        "):"accum"===r?"\n            float c01 = clamp((intensity - float(".concat(o,")) * float(").concat(p,"), 0.0, 1.0);\n            float currentAlpha = (1. - alphaAccumIntensity) * texture2D(u_gradientTexture, vec2(c01, 0.5)).a * float(").concat(f,");\n            accumIntenstiy += (intensity - float(").concat(o,")) * currentAlpha;\n            alphaAccumIntensity += currentAlpha;\n        "):"","\n    #extension GL_OES_standard_derivatives : enable // warning if not available\n\n    ".concat("\n\n#define SHIFT_RIGHT_8 0.00390625 //1.0 / 256.0\n#define SHIFT_RIGHT_16 0.00001525878 //1.0 / 65536.0\n#define SHIFT_RIGHT_24 5.960464477539063e-8//1.0 / 16777216.0\n\n#define BIAS 38.0\n\n/**\n * Unpacks a vec4 value containing values expressable as uint8 to an arbitrary float.\n *\n * @name czm_unpackFloat\n * @glslFunction\n *\n * @param {vec4} packedFloat The packed float.\n *\n * @returns {float} The floating-point depth in arbitrary range.\n */\n float czm_unpackFloat_beforeCesium166(vec4 packedFloat)\n{\n    packedFloat *= 255.0;\n    float temp = packedFloat.w / 2.0;\n    float exponent = floor(temp);\n    float sign = (temp - exponent) * 2.0;\n    exponent = exponent - float(BIAS);\n    sign = sign * 2.0 - 1.0;\n    sign = -sign;\n    float unpacked = sign * packedFloat.x * float(SHIFT_RIGHT_8);\n    unpacked += sign * packedFloat.y * float(SHIFT_RIGHT_16);\n    unpacked += sign * packedFloat.z * float(SHIFT_RIGHT_24);\n    return unpacked * pow(10.0, exponent);\n}\n\n//  vec2([0, subWidth - 1] [0, subWidth - 1]) 1\n// TODO subWidth_1\nvec2 floatTexturCoord(float subWidth, float subWidth_1, float s) {\n    float s0 = floor(s * subWidth - .5); // [-1, subWidth - 1] \n    float s1 = s0 + 1.; // [0, subWidth] \n    s0 = max(s0, 0.); // [0, subWidth - 1]\n    s1 = min(s1, subWidth - 1.); // [0, subWidth - 1]\n    // s0 *= subWidth_1; \n    // s1 *= subWidth_1;\n\n    // TODO ratio\n    float ratio = s * subWidth - s0;\n\n    return vec2(s0, s1);\n}\n\n// stp[0, subWidth - 1]\n//  [0, volumeTextureSize.x - 1] 1\nvec2 tex3dTo2d(vec3 stp, float numberInRow, float subWidth, float subHeight) {\n    float x = mod(stp.p, numberInRow) * subWidth;\n    float y = floor(stp.p / numberInRow) * subHeight;\n    return vec2(x + stp.s, y + stp.t);\n}\n\n// stp0-1\nfloat tex3d(sampler2D volumeTexture, vec4 volumeTextureSize, vec3 stp) {\n    float width = volumeTextureSize.x; \n    float height = width; \n    float subWidth = volumeTextureSize.y; \n    float subHeight = volumeTextureSize.z; \n    float subDepth = volumeTextureSize.w; \n    float subWidth_1 = 1. / volumeTextureSize.y; \n    float subHeight_1 = 1. / volumeTextureSize.z; \n    float subDepth_1 = 1. / volumeTextureSize.w; \n\n    vec2 s01 = floatTexturCoord(subWidth, subWidth_1, stp.x);\n    vec2 t01 = floatTexturCoord(subHeight, subHeight_1, stp.y);\n    vec2 p01 = floatTexturCoord(subDepth, subDepth_1, stp.z);\n\n    float numberInRow = width * subWidth_1; \n    float numberInCol = height * subHeight_1; \n    float numberInRow_1 = 1.0 / numberInRow;\n    float numberInCol_1 = 1.0 / numberInCol;\n    vec2 rc_1 = vec2(1./width);\n\n    // .5\n    vec2 st000 = tex3dTo2d(vec3(s01.x, t01.x, p01.x), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st001 = tex3dTo2d(vec3(s01.x, t01.x, p01.y), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st010 = tex3dTo2d(vec3(s01.x, t01.y, p01.x), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st011 = tex3dTo2d(vec3(s01.x, t01.y, p01.y), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st100 = tex3dTo2d(vec3(s01.y, t01.x, p01.x), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st101 = tex3dTo2d(vec3(s01.y, t01.x, p01.y), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st110 = tex3dTo2d(vec3(s01.y, t01.y, p01.x), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n    vec2 st111 = tex3dTo2d(vec3(s01.y, t01.y, p01.y), numberInRow, subWidth, subHeight) * rc_1 + vec2(.5) * rc_1;\n\n    float v000 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st000));\n    float v001 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st001));\n    float v010 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st010));\n    float v011 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st011));\n    float v100 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st100));\n    float v101 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st101));\n    float v110 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st110));\n    float v111 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, st111));\n\n    return (v000 + v001 + v010 + v011 + v100 + v101 + v110 + v111) / 8.;\n}\n\n// float tex3d(sampler2D volumeTexture, vec4 volumeTextureSize, vec3 stp) {\n//     float width = volumeTextureSize.x; \n//     float height = width; \n//     float subWidth = volumeTextureSize.y; \n//     float subHeight = volumeTextureSize.z; \n//     float subDepth = volumeTextureSize.w; \n\n//     float d0 = floor((subDepth - 1.0) * stp.z); \n//     float d1 = d0 + 1.0; \n//     if (d0 < 0.0) d0 = 0.0;\n//     if (d1 >= subDepth) d1 = subDepth - 1.0;\n//     float dr = subDepth * stp.z - d0; \n\n//     float numberInRow = width / subWidth; \n//     float numberInCol = width / subHeight; \n//     float numberInRow_1 = 1.0 / numberInRow;\n//     float numberInCol_1 = 1.0 / numberInCol;\n\n//     float fixS = stp.s * (subWidth - 2.0) / subWidth + (1.0 / subWidth);\n//     float fixT = stp.t * (subHeight - 2.0) / subHeight + (1.0 / subHeight);\n//     fixS *= numberInRow_1;\n//     fixT *= numberInCol_1;\n\n//     float r0x = mod(d0, numberInRow); \n//     float r0y = floor(d0 / numberInRow); \n//     float s0 = r0x * numberInRow_1 + fixS;\n//     float t0 = r0y * numberInCol_1 + fixT;\n//     float r1x = mod(d1, numberInRow); \n//     float r1y = floor(d1 / numberInRow); \n//     float s1 = r1x * numberInRow_1 + fixS;\n//     float t1 = r1y * numberInCol_1 + fixT;\n\n//     s0 = (floor(s0 * width) + .5) / width;\n//     t0 = (floor(t0 * height) + .5) / height;\n//     s1 = (floor(s1 * width) + .5) / width;\n//     t1 = (floor(t1 * height) + .5) / height;\n    \n//     float v0 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, vec2(s0, t0)));\n//     float v1 = czm_unpackFloat_beforeCesium166(texture2D(volumeTexture, vec2(s1, t1)));\n//     float v = v0 * (1.0 - dr) + v1 * dr;\n\n//     return v;\n// }\n","\n\n    varying vec3 v_positionEC;\n    varying vec3 v_normalEC;\n    varying vec2 v_st;\n\n    uniform sampler2D u_volumeTexture;\n    uniform vec4 u_volumeTextureSize;\n    uniform vec4 u_xyClipBox;\n    uniform vec4 u_zClipBoxAndIntensityThreshold;\n\n    uniform sampler2D u_gradientTexture;\n    uniform sampler2D u_depthTexture;\n\n    float getSceneDepthEC(vec2 fragCoord) {\n        vec2 dst = fragCoord / czm_viewport.zw;\n        float logDepthOrDepth = czm_unpackDepth(texture2D(u_depthTexture, dst));\n\n        if (logDepthOrDepth == 0.0) {\n            logDepthOrDepth = 1.0;\n        }\n\n        float sceneDepthEC = 0.0;\n        if (logDepthOrDepth != 0.0) {\n            vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord, logDepthOrDepth);\n            sceneDepthEC = eyeCoordinate.z / eyeCoordinate.w;\n        }\n\n        return sceneDepthEC;\n    }\n\n    //  vec4(vec3 position, float intensity) intensity-1\n    vec4 getFinalIntensity(vec2 fragCoord, vec3 positionEC, float intensityThreshold, out float alphaAccumIntensity) {\n        float sceneDepthEC = getSceneDepthEC(fragCoord);\n\n        vec3 forwardDir = normalize(positionEC);\n        float stepSize = float(").concat(s,");\n        forwardDir *= stepSize;\n        const int maxSteps = int(").concat(u,");\n        vec3 dest = positionEC;\n        float accumIntenstiy = float(").concat(o,");\n        alphaAccumIntensity = 0.0;\n        for (int i = 0; i < maxSteps; i++) {\n            dest += forwardDir;\n\n            // dest.z>=0.0\n            if (dest.z >= 0.0) {\n                continue;\n            }\n\n            // dest.zsceneDepthEC\n            if (dest.z < sceneDepthEC) {\n                break;\n            }\n\n            vec3 mp = (czm_inverseModelView * vec4(dest, 1.0)).xyz;\n\n            bvec3 lt = lessThan(mp, vec3(0.5));\n            bvec3 gt = greaterThan(mp, vec3(-0.5));\n            if (!(all(lt) && all(gt))) {\n                break;\n            }\n\n            vec3 mstp = mp + vec3(0.5, 0.5, 0.5);\n            float intensity = tex3d(u_volumeTexture, u_volumeTextureSize, mstp.").concat(c,");\n            if (intensity < -1000.) continue; // <-1000.0Nan\n            vec4 xyc = u_xyClipBox - vec4(.5);\n            vec2 zc = u_zClipBoxAndIntensityThreshold.xy - vec2(.5);\n            if (mp.x >= xyc.x && mp.x <= xyc.z && mp.y >= xyc.y && mp.y <= xyc.w && mp.z >= zc.x && mp.z <= zc.y) {\n                ").concat(t,"\n            }\n        }\n\n        return vec4(dest, accumIntenstiy);\n    }\n\n    vec4 getFinalIntensityColor(vec2 fragCoord, vec3 positionEC, float intensityThreshold) {\n        float sceneDepthEC = getSceneDepthEC(fragCoord);\n\n        vec3 forwardDir = normalize(positionEC);\n        float stepSize = float(").concat(s,");\n        forwardDir *= stepSize;\n        const int maxSteps = int(").concat(u,");\n        vec3 dest = positionEC;\n        vec4 accumIntenstiyColor = vec4(.0);\n        for (int i = 0; i < maxSteps; i++) {\n            dest += forwardDir;\n\n            // dest.z>=0.0\n            if (dest.z >= 0.0) {\n                continue;\n            }\n\n            // dest.zsceneDepthEC\n            if (dest.z < sceneDepthEC) {\n                break;\n            }\n\n            vec3 mp = (czm_inverseModelView * vec4(dest, 1.0)).xyz;\n\n            bvec3 lt = lessThan(mp, vec3(0.5));\n            bvec3 gt = greaterThan(mp, vec3(-0.5));\n            if (!(all(lt) && all(gt))) {\n                break;\n            }\n\n            vec3 mstp = mp + vec3(0.5, 0.5, 0.5);\n            float intensity = tex3d(u_volumeTexture, u_volumeTextureSize, mstp.").concat(c,");\n            if (intensity < -1000.) continue; // <-1000.0Nan\n            vec4 xyc = u_xyClipBox - vec4(.5);\n            vec2 zc = u_zClipBoxAndIntensityThreshold.xy - vec2(.5);\n  \n            if (mp.x >= xyc.x && mp.x <= xyc.z && mp.y >= xyc.y && mp.y <= xyc.w && mp.z >= zc.x && mp.z <= zc.y) {\n                float c01 = clamp((intensity - float(").concat(o,")) * float(").concat(p,"), 0.0, 1.0);\n                vec4 intensityColor = texture2D(u_gradientTexture, vec2(c01, 0.5));\n                intensityColor = clamp(intensityColor, 0.0, 1.0);\n                intensityColor.a *= float(").concat(f,");\n                // accumIntenstiyColor.rgb = (1. - accumIntenstiyColor.a) * intensityColor.rgb * intensityColor.a + accumIntenstiyColor.rgb;\n                // accumIntenstiyColor.a = (1. - accumIntenstiyColor.a) * intensityColor.a + accumIntenstiyColor.a;\n                float currentAlpha = (1. - accumIntenstiyColor.a) * intensityColor.a;\n                accumIntenstiyColor.rgb += currentAlpha * intensityColor.rgb;\n                accumIntenstiyColor.a += currentAlpha;\n            }\n        }\n\n        return accumIntenstiyColor;\n    }\n\n    void intensityMain() {\n        float intensityThreshold = u_zClipBoxAndIntensityThreshold.z;\n        float alphaAccumIntensity = 0.0;\n        vec4 finalIntensityResult = getFinalIntensity(gl_FragCoord.xy, v_positionEC, intensityThreshold, alphaAccumIntensity);\n        ").concat(n?"vec4 finalIntensityResultXP = getFinalIntensity(gl_FragCoord.xy + vec2(1., 0.), v_positionEC + dFdx(v_positionEC), intensityThreshold, alphaAccumIntensity);":"","\n        ").concat(n?"vec4 finalIntensityResultYP = getFinalIntensity(gl_FragCoord.xy + vec2(0., 1.), v_positionEC + dFdy(v_positionEC), intensityThreshold, alphaAccumIntensity);":"","\n\n        ").concat(n?"vec3 pforward = normalize(v_positionEC.xyz);":"","\n        ").concat(n?"vec3 pnormal = normalize(cross((finalIntensityResultYP.xyz - finalIntensityResult.xyz), (finalIntensityResultXP.xyz - finalIntensityResult.xyz)));":"","\n        ").concat(n?"float grey = dot(pforward, pnormal) * .5 + .5;":"","\n\n        float accumIntenstiy = finalIntensityResult.w;\n        if (alphaAccumIntensity <= .0) {\n            discard;\n        }\n\n        if (accumIntenstiy <= intensityThreshold) {\n            discard;\n        }\n\n        // float c01 = clamp(accumIntenstiy / 16., 0., 1.);\n        float c01 = clamp((accumIntenstiy - float(").concat(o,")) * float(").concat(p,"), 0.0, 1.0);\n\n        vec4 mappedColor = texture2D(u_gradientTexture, vec2(c01, 0.5));\n        ").concat(n?"gl_FragColor = vec4(mappedColor.rgb * grey, alphaAccumIntensity);":"gl_FragColor = vec4(mappedColor.rgb, alphaAccumIntensity);","\n    }\n\n    void colorMain() {\n        float intensityThreshold = u_zClipBoxAndIntensityThreshold.z;\n        gl_FragColor = getFinalIntensityColor(gl_FragCoord.xy, v_positionEC, intensityThreshold);\n    }\n\n    void main()\n    {\n        ").concat("accumColor"===r?"colorMain();":"intensityMain();","\n        ").concat(a,"\n    }\n    ")}},8666:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7012),t),o(r(3840),t),o(r(2640),t)},3143:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mixinSceneRender=void 0;var a=i(r(1557)),s=!1;t.mixinSceneRender=function(e){s||(s=!0,e.context._us.updateCamera,e.context._us.updateCamera=function(e){this._originUpdateCamera?this._originUpdateCamera.bind(this)(e):a.UniformState.prototype.updateCamera.bind(this)(e),this._xbsjScene=e._scene},e.context._us.updatePass=function(e){if(this._originUpdatePass?this._originUpdatePass.call(this,e):a.UniformState.prototype.updatePass.call(this,e),8===e){var t=this._xbsjScene;if(t&&!t._frameState.passes.pick){var r=t._passState||t._defaultView.passState,n=t._context,o=function(e,t){var r=e._pickDepths||e._defaultView&&e._defaultView.pickDepths,n=r[1];return a.defined(n)||(n=new a.PickDepth,r[1]=n),n}(t);r.framebuffer&&r.framebuffer.depthStencilTexture&&(o.update(n,r.framebuffer.depthStencilTexture),o.executeCopyDepth(n,r),t._xbsjSceneDepthTextureForVolumeR=o._depthTexture)}}})}},3184:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7666),t)},1614:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.XbsjGroundPolylinePrimitive=void 0;var o=n(r(7710));t.XbsjGroundPolylinePrimitive=o.default},3962:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.xbsjCreateODLinesPrimitive=void 0;var o=n(r(7816));t.xbsjCreateODLinesPrimitive=o.default},7221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XbsjViewshed=void 0;var n=r(7112);Object.defineProperty(t,"XbsjViewshed",{enumerable:!0,get:function(){return n.XbsjViewshed}})},1936:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getCameraRotation=t.getCameraPosition=t.getCameraTargetPos=void 0;var u=i(r(1557)),c=new u.Cartesian3,l=new u.HeadingPitchRoll,f=new u.Matrix4,p=new u.Cartesian3,d=new u.Cartographic;t.getCameraTargetPos=function(e,t,r,n){for(var o=a(e,3),i=o[0],h=o[1],m=o[2],y=u.Cartesian3.fromDegrees(i,h,m,void 0,c),v=s([],a(t),!1),g=0;g<3;++g)v[g]=u.Math.RADIANS_PER_DEGREE*v[g];if(0!==r){l.heading=v[0],l.pitch=v[1],l.roll=v[2],l.heading-=u.Math.PI_OVER_TWO;var _=u.Transforms.headingPitchRollToFixedFrame(y,l,void 0,void 0,f),b=u.Matrix4.multiplyByPointAsVector(_,u.Cartesian3.UNIT_X,p);u.Cartesian3.multiplyByScalar(b,r,b),u.Cartesian3.subtract(y,b,y)}var w=u.Cartographic.fromCartesian(y,void 0,d);return w?((n=n||[0,0,0])[0]=180*w.longitude/Math.PI,n[1]=180*w.latitude/Math.PI,n[2]=w.height,n):void 0};var h=u.Math.toDegrees;t.getCameraPosition=function(e,t){var r=e.positionCartographic,n=r.longitude,o=r.latitude,i=r.height;return t?(t[0]=h(n),t[1]=h(o),t[2]=i,t):[h(n),h(o),i]},t.getCameraRotation=function(e,t){var r=e.heading,n=e.pitch,o=e.roll;return t?(t[0]=h(r),t[1]=h(n),t[2]=h(o),t):[r,n,o].map(h)}},2330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capture=void 0,t.capture=function(e,t,r,n){void 0===t&&(t=128),void 0===r&&(r=128),void 0===n&&(n="image/jpeg");var o=void 0;return new Promise((function(i,a){var s=e._postRender.addEventListener((function(){var u,c,l,f,p=e.canvas,d=p.width,h=p.height;o||(o=document.createElement("canvas")),o.setAttribute("width","".concat(t)),o.setAttribute("height","".concat(r)),d/t<h/r?(u=0,l=d,c=.5*(h-(f=r*d/t))):(c=0,f=h,u=.5*(d-(l=t*h/r)));var m=o.getContext("2d");if(!m)return s(),void a(new Error("captureScreenCanvas.getContext('2d') error!"));m.drawImage(p,u,c,l,f,0,0,t,r);var y=o.toDataURL(n);s(),i(y)}),null)}))}},98:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createOffsetOrientationProp=void 0;var a=i(r(1557));t.createOffsetOrientationProp=function(e,t){var r=a.Quaternion.fromHeadingPitchRoll(e);return new a.CallbackProperty((function(e,n){return(n=t.getValue(e,n))&&a.Quaternion.multiply(n,r,n),n}),!1)}},4826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.czmSubscribeAndEvaluate=void 0,t.czmSubscribeAndEvaluate=function(e,t,r,n,o){var i=Cesium.subscribeAndEvaluate(e,t,r,n,o);return function(){return i.dispose()}}},2317:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.moveUp=t.moveRight=t.moveForward=void 0;var a=i(r(1557)),s=new a.Cartesian3,u=new a.Cartesian3,c=new a.Matrix4;function l(e,t,r){a.Matrix4.clone(e.transform,c),e.lookAtTransform(a.Matrix4.IDENTITY);var n=e.positionCartographic.height,o=e.positionWC,i=a.Cartesian3.normalize(o,s),l=a.Cartesian3.dot(e.direction,i);if(l>-.9&&l<.9)var f=a.Cartesian3.cross(e.direction,i,u);else f=a.Cartesian3.cross(e.up,i,u);var p=f;r&&(p=a.Cartesian3.cross(i,f,s));var d=a.Cartesian3.magnitude(o);e.rotate(p,t/d);var h=e.positionCartographic,m=h.longitude,y=h.latitude;a.Cartesian3.fromRadians(m,y,n,void 0,e.position),e.lookAtTransform(c)}t.moveForward=function(e,t){l(e,t,!1)},t.moveRight=function(e,t){l(e,-t,!0)},t.moveUp=function(e,t){e.positionWC,a.Matrix4.clone(e.transform,c),e.lookAtTransform(a.Matrix4.IDENTITY);var r=e.positionCartographic;a.Cartesian3.fromRadians(r.longitude,r.latitude,r.height+t,void 0,e.position),e.lookAtTransform(c)}},1977:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fixCameraFlight=void 0;var a=i(r(1557));t.fixCameraFlight=function(){Reflect.getOwnPropertyDescriptor(a.Camera.prototype,"_currentFlight")||Object.defineProperties(a.Camera.prototype,{_currentFlight:{get:function(){return this._vtxf_currentFlight},set:function(e){if(this._vtxf_currentFlight!==e){this._vtxf_currentFlight=e;var t=this._vtxf_currentFlight,r=e;this.currentFlightEvent.raiseEvent(r,t)}}},currentFlightEvent:{get:function(){return void 0===this._vtxf_currentFlightEvent&&(this._vtxf_currentFlightEvent=new a.Event),this._vtxf_currentFlightEvent}}})}},7184:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fixCameraLook=void 0;var a=i(r(1557));t.fixCameraLook=function(){var e=new a.Matrix4,t=Math.PI/60;a.Camera.prototype.lookLeft=function(r){var n,o,i;r=a.defaultValue(r,t),this._mode!==a.SceneMode.SCENE2D&&(o=-r,i=(n=this).positionWC,a.Matrix4.clone(n.transform,e),n.lookAtTransform(a.Matrix4.IDENTITY),n.look(i,o),n.lookAtTransform(e))},a.Camera.prototype.lookRight=function(e){this.lookLeft(-e)}}},7563:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(1977),t),o(r(7184),t),o(r(2317),t)},3902:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.fixDepthPlane=void 0;var u=i(r(1557));t.fixDepthPlane=function(){if(!u.DepthPlane.xbsjFixed){u.DepthPlane.xbsjFixed=!0;var e=u.DepthPlane.prototype.update;u.DepthPlane.prototype.update=function(){e.bind(this).apply(void 0,s([],a(arguments),!1));var t=arguments[0];if(!this.hasXbsjIndexBuffer&&this._va){this.hasXbsjIndexBuffer=!0;var r=t.context,n=new u.Geometry({attributes:{position:new u.GeometryAttribute({componentDatatype:u.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:new Float32Array(15)})},indices:[0,1,4,1,3,4,3,2,4,2,0,4],primitiveType:u.PrimitiveType.TRIANGLES});this._va=u.VertexArray.fromGeometry({context:r,geometry:n,attributeLocations:{position:0},bufferUsage:35048}),this._command.vertexArray=this._va}}}}},5581:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fixGoogleEarth=void 0;var a=i(r(1557)),s=r(1684),u=r(7495);t.fixGoogleEarth=function(){var e=(0,s.getCesiumVersion)();1===e[0]&&e[1]>=92?(0,u.cesiumFixGoogleEarth)(a):console.warn("don't need to fixGoogleEarth, cesium version is ".concat(e.join(".")))}},8514:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.fixLocalFile=void 0;var u=r(1901),c=i(r(1557));t.fixLocalFile=function(){var e=c.Resource.prototype.fetchJson,t=c.Resource.prototype.fetchArrayBuffer;c.Resource.prototype.fetchJson=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.url.startsWith("https://".concat(u.defaultLocalFileServer.prefix))){var n=this.url.substring(8);return u.defaultLocalFileServer.getJson(n)}return e.call.apply(e,s([this],a(t),!1))},c.Resource.prototype.fetchArrayBuffer=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.url.startsWith("https://".concat(u.defaultLocalFileServer.prefix))){var n=this.url.substring(8);return u.defaultLocalFileServer.getArrayBuffer(n).then((function(e){if(!e)throw new Error("result is undefined!");return e}))}return t.call.apply(t,s([this],a(e),!1))}}},3246:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.fixModelInitialRadius=void 0;var u=i(r(1557));t.fixModelInitialRadius=function(){var e=u.ModelSceneGraph.prototype.buildDrawCommands;u.ModelSceneGraph.prototype.buildDrawCommands=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this._model,o=n.modelMatrix;n.modelMatrix=u.Matrix4.IDENTITY;var i=e.call.apply(e,s([this],a(t),!1));return n.modelMatrix=o,i}}},9488:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3246),t)},1880:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.flyAround=void 0;var s=r(1901),u=i(r(1557));new u.Cartesian3,new u.Cartesian3;var c=new u.Cartesian3,l=new u.Quaternion,f=new u.Matrix3;new u.Matrix4,new u.Cartesian3,new u.Cartesian3,t.flyAround=function(e,t,r,n,o,i,p){var d;void 0===o&&(o=.018),void 0===i&&(i=!0);var h=new Promise((function(s,h){var m=a(t,3),y=m[0],v=m[1],g=m[2],_=u.Cartesian3.fromDegrees(y,v,g);!function(e,t,r,n,o,i,a){void 0===n&&(n=3),void 0===o&&(o=.314),void 0===i&&(i=!0),e.cancelFlight();var s=e._scene;s.screenSpaceCameraController.enableInputs=!1;var p=u.Matrix4.clone(e.transform,new u.Matrix4),d=u.Transforms.eastNorthUpToFixedFrame(t,void 0,new u.Matrix4);e.lookAtTransform(d);var h=u.Cartesian3.clone(e.position,new u.Cartesian3),m=u.Cartesian3.clone(e.direction,new u.Cartesian3),y=u.Cartesian3.clone(e.up,new u.Cartesian3),v=e.position.z>0&&0!==e.direction.z,g=new u.Cartesian3,_=i&&v?u.Cartesian3.multiplyByScalar(e.direction,e.position.z/e.direction.z,g):u.Cartesian3.clone(h,g),b=u.Cartesian3.magnitude(_);b>0&&u.Cartesian3.multiplyByScalar(_,void 0===r?1:r/b,_);var w=1e8,C=o*w,x=s.tweens.add({duration:w,easingFunction:function(e){return e},startObject:{angle:0,xbsjTime:0},stopObject:{angle:C,xbsjTime:w},update:function(t){var r;if(t.xbsjTime<2)r=.5*o/2*t.xbsjTime*t.xbsjTime;else if(t.xbsjTime<99999998)r=.5*o*2+o*(t.xbsjTime-2);else{var i=2-(w-t.xbsjTime);r=.5*o*2+o*(t.xbsjTime-2)+(.5*o*2-.5*o/2*i*i)}var a=u.Quaternion.fromAxisAngle(u.Cartesian3.UNIT_Z,r,l),s=u.Matrix3.fromQuaternion(a,f);u.Cartesian3.clone(m,e.direction),u.Cartesian3.clone(y,e.up);var p=t.xbsjTime/n;p=u.Math.clamp(p,0,1),p=u.EasingFunction.QUARTIC_IN_OUT(p);var d=u.Cartesian3.lerp(h,_,p,c),v=u.Cartesian3.subtract(d,e.position,d);e.move(v,1),u.Matrix3.multiplyByVector(s,e.position,e.position),u.Matrix3.multiplyByVector(s,e.direction,e.direction),u.Matrix3.multiplyByVector(s,e.up,e.up),u.Cartesian3.cross(e.direction,e.up,e.right),u.Cartesian3.cross(e.right,e.direction,e.up),e._adjustOrthographicFrustum(!1)},complete:function(){s.screenSpaceCameraController.enableInputs=!0,x.cancelTween(),e.lookAtTransform(p)},cancel:function(){s.screenSpaceCameraController.enableInputs=!0,e.lookAtTransform(p),a()}});e._currentFlight=x}(e,_,r,.001*n,1e3*u.Math.toRadians(o),i,(function(){p&&p(),h("")}));var b=e._currentFlight;d=function(){b===e._currentFlight&&(e.cancelFlight(),e._currentFlight&&(console.error("cancelFlight_currentFlight"),h("cancelFlight_currentFlight")))}}));return(0,s.pairToPromise)([d,h])}},904:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.flyTo=t.czmFlyTo=void 0;var u=i(r(1557)),c=r(1901),l=new u.Cartesian3,f=new u.HeadingPitchRoll,p=new u.Matrix4,d=new u.Cartesian3,h=[0,0,0];function m(e,t){var r=t.position,n=t.viewDistance,o=t.rotation,i=t.duration,m=t.cancelCallback,y=t.hdelta,v=t.pdelta;if(r||void 0!==n||o){var g,_,b=a(null!=r?r:(g=e.positionCartographic,(_=(_=h)||[0,0,0])[0]=u.Math.toDegrees(g.longitude),_[1]=u.Math.toDegrees(g.latitude),_[2]=g.height,_),3),w=b[0],C=b[1],x=b[2],P=u.Cartesian3.fromDegrees(w,C,x,void 0,l),O=o&&s([],a(o),!1).map(u.Math.toRadians)||[e.heading,e.pitch,e.roll],M={heading:O[0],pitch:O[1],roll:O[2]};if(n){f.heading=O[0],f.pitch=O[1],f.roll=O[2],f.heading-=u.Math.PI_OVER_TWO;var S=u.Transforms.headingPitchRollToFixedFrame(P,f,void 0,void 0,p),j=u.Matrix4.multiplyByPointAsVector(S,u.Cartesian3.UNIT_X,d);u.Cartesian3.multiplyByScalar(j,n,j),u.Cartesian3.subtract(P,j,P)}if(y&&(M.heading-=u.Math.toRadians(y)),v&&(M.pitch+=u.Math.toRadians(v)),0!==i){var E,A=new Promise((function(t,r){e.flyTo({destination:P,orientation:M,duration:.001*(null!=i?i:1e3),complete:function(){t(!0)},cancel:function(){m&&m(),t(!1)}});var n=e._currentFlight;E=function(){n===e._currentFlight&&(e.cancelFlight(),e._currentFlight&&(console.error("cancelFlight_currentFlight"),r("cancelFlight_currentFlight")))}}));return(0,c.pairToPromise)([E,A])}e.setView({destination:P,orientation:M})}}t.czmFlyTo=m,t.flyTo=function(e,t,r,n,o,i){return m(e,{position:t,viewDistance:r,rotation:n,duration:o,cancelCallback:i})}},1684:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCesiumVersion=t._getCesiumVersion=void 0;var a,s=i(r(1557));function u(){return s.VERSION.split(".").map((function(e){return parseInt(e)}))}t._getCesiumVersion=u,t.getCesiumVersion=function(){return a||(a=u()),a}},6083:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getGeoQuaternion=void 0;var s=i(r(1557)),u=new s.Cartesian3(1,0,0),c=new s.Cartesian3(0,1,0),l=new s.Cartesian3(0,0,1);t.getGeoQuaternion=function(e,t){var r=a(e,3),n=r[0],o=r[1],i=r[2],f=s.Quaternion.fromAxisAngle(l,s.Math.toRadians(90-n)),p=s.Quaternion.fromAxisAngle(c,s.Math.toRadians(-o)),d=s.Quaternion.fromAxisAngle(u,s.Math.toRadians(i)),h=s.Quaternion.clone(s.Quaternion.IDENTITY,t);return s.Quaternion.multiply(d,h,h),s.Quaternion.multiply(p,h,h),s.Quaternion.multiply(f,h,h),h}},1537:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalQuaternion=void 0;var s=i(r(1557)),u=new s.Cartesian3(1,0,0),c=new s.Cartesian3(0,1,0),l=new s.Cartesian3(0,0,1);t.getLocalQuaternion=function(e,t){var r=a(e,3),n=r[0],o=r[1],i=r[2],f=s.Quaternion.fromAxisAngle(l,s.Math.toRadians(-n)),p=s.Quaternion.fromAxisAngle(c,s.Math.toRadians(-o)),d=s.Quaternion.fromAxisAngle(u,s.Math.toRadians(i)),h=s.Quaternion.clone(s.Quaternion.IDENTITY,t);return s.Quaternion.multiply(d,h,h),s.Quaternion.multiply(p,h,h),s.Quaternion.multiply(f,h,h),h}},1134:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getSceneScaleForScreenPixelSize=void 0;var a=i(r(1557)),s=new a.BoundingSphere(a.Cartesian3.ZERO,0);t.getSceneScaleForScreenPixelSize=function(e,t,r){var n=s;a.Cartesian3.clone(t,n.center);var o=e.camera.getPixelSize(n,e.drawingBufferWidth,e.drawingBufferHeight);if(!(o<=0)){var i=r*o;return Number.isFinite(i)&&i>0?i:void 0}}},9491:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getSurfaceAxisClosestPoint=void 0;var a=i(r(1557)),s=new a.Cartesian3,u=new a.Cartesian3,c=new a.Cartesian3,l=new a.Cartesian3,f=new a.Cartesian3,p=new a.Cartesian3;t.getSurfaceAxisClosestPoint=function(e,t,r,n){var o=a.Cartesian3.clone(e,s);a.Cartesian3.normalize(o,o);var i=a.Cartesian3.clone(t,u);a.Cartesian3.normalize(i,i);var d=a.Cartesian3.cross(o,i,l);a.Cartesian3.normalize(d,d);var h=a.Cartesian3.clone(r,c),m=a.Cartesian3.magnitude(h);a.Cartesian3.normalize(h,h);var y=a.Cartesian3.cross(h,d,f),v=a.Cartesian3.cross(d,y,p);return n=n||new a.Cartesian3,a.Cartesian3.multiplyByScalar(v,m,n)}},1416:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),(0,r(1901).registerScript)(),o(r(8753),t),o(r(5692),t),o(r(1598),t),o(r(5222),t),o(r(110),t),o(r(2090),t),o(r(7713),t),o(r(5068),t),o(r(2619),t),o(r(8666),t),o(r(3184),t),o(r(1614),t),o(r(3962),t),o(r(7221),t),o(r(4868),t),o(r(1936),t),o(r(2330),t),o(r(98),t),o(r(4826),t),o(r(7563),t),o(r(3902),t),o(r(5581),t),o(r(8514),t),o(r(9488),t),o(r(1880),t),o(r(904),t),o(r(1684),t),o(r(6083),t),o(r(1537),t),o(r(1134),t),o(r(9491),t),o(r(6755),t),o(r(3312),t),o(r(5398),t),o(r(2276),t),o(r(4039),t),o(r(214),t),o(r(2806),t),o(r(3884),t)},6755:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickHeightPosition=void 0;var a=i(r(1557)),s=new a.Cartesian3,u=new a.Ray,c=new a.Plane(a.Cartesian3.UNIT_X,0);t.pickHeightPosition=function(e,t,r,n){var o=a.Cartesian3.normalize(t,s),i=a.Cartesian3.cross(e.camera.right,o,s);a.Cartesian3.normalize(i,i);var l=a.Plane.fromPointNormal(t,i,c),f=e.camera.getPickRay(r,u);if(f)return a.IntersectionTests.rayPlane(f,l,n)}},3312:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickPosition=t.globePickPosition=void 0;var a=i(r(1557)),s=new a.Ray;function u(e,t,r){if(e.mode!==a.SceneMode.MORPHING){var n;if(e.terrainProvider instanceof a.EllipsoidTerrainProvider)n=e.camera.pickEllipsoid(t,e.globe.ellipsoid,r);else{var o=e.camera.getPickRay(t,s);o&&(n=e.globe.pick(o,e,r))}return n}}t.globePickPosition=u,t.pickPosition=function(e,t,r){var n;if(e.mode!==a.SceneMode.MORPHING){e.pickPositionSupported&&(n=e.pickPosition(t,r));var o=void 0;n&&(o=a.Cartographic.fromCartesian(n)),(!o||o.height<-3e3)&&(n=u(e,t,r))}return n}},5398:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickVirtualEarth=void 0;var a=i(r(1557)),s=new a.Cartesian3,u=new a.Ray,c=new a.Cartographic,l=new a.Ellipsoid;t.pickVirtualEarth=function(e,t,r,n){var o=e.camera.getPickRay(t,u);if(o){var i=a.Cartesian3.fromElements(r,r,r,s),f=a.Cartesian3.add(i,a.Ellipsoid.WGS84.radii,s),p=a.Ellipsoid.fromCartesian3(f,l),d=a.IntersectionTests.rayEllipsoid(o,p);if(d){var h=d.start>0?d.start:d.stop;if(h){var m=a.Ray.getPoint(o,h,s),y=a.Cartographic.fromCartesian(m,void 0,c);return(n=n||new a.Cartographic).longitude=y.longitude,n.latitude=y.latitude,n.height=r,n}}}}},6795:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCameraChanged=void 0;var u=s(r(1557)),c=r(9675),l=function(e){function t(t){var r=e.call(this)||this;r._scene=t,r._originViewMatrix=new u.Matrix4,r._originProjMatrix=new u.Matrix4,r._changed=new c.Event;var n=r._scene.camera;return u.Matrix4.clone(n.viewMatrix,r._originViewMatrix),u.Matrix4.clone(n.frustum.projectionMatrix,r._originViewMatrix),r.dispose(r._scene.preUpdate.addEventListener((function(){r._update()}))),r}return o(t,e),t.prototype._update=function(){u.Matrix4.equals(this._scene.camera.viewMatrix,this._originViewMatrix)||(u.Matrix4.clone(this._scene.camera.viewMatrix,this._originViewMatrix),this._changed.emit()),u.Matrix4.equals(this._scene.camera.frustum.projectionMatrix,this._originProjMatrix)||(u.Matrix4.clone(this._scene.camera.frustum.projectionMatrix,this._originProjMatrix),this._changed.emit())},Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.CzmCameraChanged=l},6062:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WinPosFromCartesian=void 0;var u=r(9675),c=s(r(1557)),l=r(6795),f=r(728),p={left:0,top:0,right:0,bottom:0,depth:0},d=function(e){function t(t,r,n){void 0===r&&(r=!0);var o=e.call(this)||this;return o._viewer=t,o._cartesian=new c.Cartesian3,o._winPos={left:0,top:0,right:0,bottom:0,depth:0},o._winPosValid=!1,o._changedEvent=new u.Event,o._enabled=!0,n=n||o.disposeVar(new l.CzmCameraChanged(o._viewer.scene)),o.dispose(n.changed.disposableOn((function(){return o._updateWinPos()}))),o.dispose((function(){o._changedEvent.empty||console.warn("WinPosFromCartesianchanged")})),o.enabled=r,o}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,e&&this._updateWinPos())},enumerable:!1,configurable:!0}),t.prototype._updateWinPos=function(){if(this._enabled){var e=!1,t=(0,f.getWinPos)(this._viewer,this._cartesian,p);!!t!==this._winPosValid&&(e=!0,this._winPosValid=!!t),this._winPosValid?(0,f.winPosAndDepthEqual)(this._winPos,p)||(e=!0,this._winPos.left=p.left,this._winPos.top=p.top,this._winPos.right=p.right,this._winPos.bottom=p.bottom,this._winPos.depth=p.depth):(e=!0,this._winPos.left=Number.NaN,this._winPos.top=Number.NaN,this._winPos.right=Number.NaN,this._winPos.bottom=Number.NaN,this._winPos.depth=Number.NaN),e&&this._changedEvent.emit(this._winPosValid,this._winPos)}},Object.defineProperty(t.prototype,"cartesian",{get:function(){return this._cartesian},set:function(e){c.Cartesian3.equals(this._cartesian,e)||(c.Cartesian3.clone(e,this._cartesian),this._updateWinPos())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosValid",{get:function(){return this._winPosValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPos",{get:function(){return this._winPos},enumerable:!1,configurable:!0}),t}(u.Destroyable);t.WinPosFromCartesian=d},728:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getWinPos=t.winPosAndDepthEqual=t.getDefaultWinPosAndDepth=void 0;var a=i(r(1557)),s=new a.Cartesian4,u=new a.Matrix4;t.getDefaultWinPosAndDepth=function(){return{left:0,top:0,right:0,bottom:0,depth:0}},t.winPosAndDepthEqual=function(e,t){return e.left===t.left&&e.right===t.right&&e.bottom===t.bottom&&e.top===t.top&&e.depth===t.depth},t.getWinPos=function(e,t,r){if(e.scene.mode===a.SceneMode.SCENE3D){var n=e.canvas.clientHeight,o=e.canvas.clientWidth,i=e.camera.viewMatrix,c=e.camera.frustum.projectionMatrix,l=a.Matrix4.multiply(c,i,u),f=a.Matrix4.multiplyByVector(l,a.Cartesian4.fromElements(t.x,t.y,t.z,1,s),s);f.x/=f.w,f.y/=f.w,f.z/=f.w,f.w=1;var p=o*(.5*f.x+.5),d=n*(.5*f.y+.5),h=o-p,m=n-d,y=f.z;if(!(p<0||d<0||h<0||m<0||y<0||y>1))return r?(r.left=p,r.top=m,r.right=h,r.bottom=d,r.depth=y):r={left:p,top:m,right:h,bottom:d,depth:y},r}}},2276:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6795),t),o(r(728),t),o(r(6062),t)},4605:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.computePickingInfoWithCoordinates=void 0;var s=i(r(1557)),u=r(1901),c=r(1134),l=r(6755),f=r(5398),p=r(6231),d=r(1815),h=r(7837);function m(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2]}function y(e){var t=s.Ellipsoid.WGS84.minimumRadius;return(e+t)/t}var v=new s.Cartographic,g=new s.Cartesian3,_=[0,0,0],b=[0,0,0],w=new s.Cartesian2,C=new s.Cartesian3;t.computePickingInfoWithCoordinates=function(e,t,r,n,o,i){o.constraintMode="none",m([0,0,0],o.startDragPos),i=i||{},(0,p.toCartesian)((0,u.getDomEventCurrentTargetPos)(e),w);var s=r.position;if((0,p.positionToCartesian)(s,C)){var x=(0,c.getSceneScaleForScreenPixelSize)(t,C,n);if(void 0!==x&&(0,l.pickHeightPosition)(t,C,w,g)&&(0,p.positionFromCartesian)(g,_)){var P=y(_[2])*(0,d.geoDistance)(s,_);if(!i.z&&P<x&&Math.abs(s[2]-_[2])<r.dimensions[0]&&_[2]>s[2])return o.constraintMode="z",m(_,o.startDragPos),!0;if((0,f.pickVirtualEarth)(t,w,s[2],v)&&(0,p.fromCartographic)(v,_)){var O=y(s[2])*(0,d.geoDistance)(s,_),M=r.dimensions[0];if(!(O>1.05*M)){if(!i.zAxis&&O>.95*M&&O<=1.05*M)return o.constraintMode="zAxis",void m(_,o.startDragPos);var S=a((0,h.geoNeareastPointOnRhumbLine)(s,r.heading+90,_,b),2),j=S[0],E=S[1];if(!i.x&&j>0&&E&&(b[2]=s[2],(0,d.geoDistance)(b,_)<x))return o.constraintMode="x",void m(b,o.startDragPos);var A=a((0,h.geoNeareastPointOnRhumbLine)(s,r.heading,_,b),2);if(j=A[0],E=A[1],!i.y&&j>0&&E&&(b[2]=s[2],(0,d.geoDistance)(b,_)<x))return o.constraintMode="y",void m(b,o.startDragPos);i.xy||(o.constraintMode="xy",m(_,o.startDragPos))}}}}}},7837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geoNeareastPointOnRhumbLine2=t.createHelperLine=t.geoNeareastPointOnRhumbLine=void 0;var n=r(1815);t.geoNeareastPointOnRhumbLine=function(e,t,r,o){var i=(0,n.geoRhumbDistance)(e,r),a=(0,n.geoRhumbHeading)(e,r),s=Math.cos(a*Math.PI/180)*Math.cos(t*Math.PI/180)+Math.sin(a*Math.PI/180)*Math.sin(t*Math.PI/180);return s>0?(0,n.geoRhumbDestination)(e,i,t,o):(0,n.geoRhumbDestination)(e,i,t+180,o),[s>0?i:-i,o]},t.createHelperLine=function(e,t,r){for(var o=.1*r,i=[],a=-9;a<10;++a){var s=(0,n.geoRhumbDestination)(e,o*a,t);s&&i.push(s)}return i},t.geoNeareastPointOnRhumbLine2=function(e,t){return(0,n.geoNearestPointOnLine)(e,t).geometry.coordinates}},3570:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4605),t),o(r(7837),t)},382:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceHandler=void 0;var i=function(e){function t(t){var r=e.call(this)||this;return t&&(r._resouceRef={resouce:t,ref:1}),r.dispose((function(){return r.reset()})),r}return o(t,e),Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._resouceRef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"raw",{get:function(){var e;return null===(e=this._resouceRef)||void 0===e?void 0:e.resouce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){var e;return null===(e=this._resouceRef)||void 0===e?void 0:e.ref},enumerable:!1,configurable:!0}),t.prototype.getRef=function(e){return(e=null!=e?e:new t).reset(this),e},t.prototype.equal=function(e){return e._resouceRef===this._resouceRef},t.prototype.reset=function(e){if(this._resouceRef){if(this._resouceRef.ref<=0)throw new Error("ref <= 0!");--this._resouceRef.ref,0===this._resouceRef.ref&&this._resouceRef.resouce.destroy(),this._resouceRef=void 0}if(e){if(!e._resouceRef)throw new Error("handler._resouceRef is undefined!");e._resouceRef.ref+=1,this._resouceRef=e._resouceRef}return this},t}(r(9675).Destroyable);t.ResourceHandler=i},964:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureFromImage=void 0;var a=i(r(1557));t.createTextureFromImage=function(e,t){var r;return a.defined(t.internalFormat)?r=new a.Texture({context:e,pixelFormat:t.internalFormat,width:t.width,height:t.height,source:{arrayBufferView:t.bufferView}}):(r=new a.Texture({context:e,source:t}),a.Math.isPowerOfTwo(r.width)&&a.Math.isPowerOfTwo(r.height)&&(r.generateMipmap(),r.sampler=new a.Sampler({wrapS:a.TextureWrap.REPEAT,wrapT:a.TextureWrap.REPEAT,minificationFilter:a.TextureMinificationFilter.LINEAR_MIPMAP_LINEAR,magnificationFilter:a.TextureMagnificationFilter.LINEAR_MIPMAP_LINEAR}))),r}},4689:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedTexturePool=t.SharedTexturePool=void 0;var c=i(r(1557)),l=r(964),f=r(382),p=function(){function e(e){this._context=e,this._map=new Map,this._loadingMap=new Map}return e.prototype.getTextureHandler=function(e){var t,r=this;if(this._map.has(e)){var n=this._map.get(e);if(n&&n.valid)return n;this._map.delete(e)}return this._loadingMap.has(e)?t=this._loadingMap.get(e):(t=new Promise((function(t,n){c.Resource.createIfNeeded(e).fetchImage().then((function(n){var o=(0,l.createTextureFromImage)(r._context,n),i=new f.ResourceHandler(o);r._map.set(e,i),r._loadingMap.delete(e),t(i)})).catch((function(){console.error("loading image error!"),r._loadingMap.delete(e),n()}))})),this._loadingMap.set(e,t)),t},e.prototype.clearUnused=function(){var e,t,r,n,o=[];try{for(var i=s(this._map),a=i.next();!a.done;a=i.next()){var c=u(a.value,2),l=c[0];1===c[1].ref&&o.push(l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}try{for(var f=s(o),p=f.next();!p.done;p=f.next())l=p.value,this._map.get(l).reset(),this._map.delete(l)}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}},e}();t.SharedTexturePool=p;var d=new Map;t.getSharedTexturePool=function(e){return d.has(e)||d.set(e,new p(e)),d.get(e)},a(r(382),t)},5847:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.computeBoundingSphere=void 0;var a=r(7946),s=i(r(1557)),u=r(6231),c=new s.BoundingSphere;t.computeBoundingSphere=function(e){var t=(0,a.positionsToUniqueCartesians)(e);if(!(t.length<2)){var r=s.BoundingSphere.fromPoints(t,c);if(r){var n=(0,u.positionFromCartesian)(r.center);if(n)return[n,r.radius]}}}},7358:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.computeCzmModelMatrix=void 0;var u=i(r(1557)),c=r(3399);function l(e,t){return Array.isArray(e)?e.length!==t?(console.warn("array.length !== ".concat(t)),!1):!!e.every((function(e){return Number.isFinite(e)}))||(console.warn("!array.every(v => Number.isFinite(v))"),!1):(console.warn("!Array.isArray(array)"),!1)}function f(e){return!e.some((function(e){return 0===e}))||(console.warn("array.some(e => e === 0)"),!1)}t.computeCzmModelMatrix=function(e,t){var r,n,o,i;if((!e.localScale||l(e.localScale,3))&&(!e.localRotation||l(e.localRotation,3))&&(!e.localPosition||l(e.localPosition,3))&&(!e.localModelMatrix||l(e.localModelMatrix,16))&&(!e.scale||l(e.scale,3))&&(!e.rotation||l(e.rotation,3))&&(!e.position||l(e.position,3))&&(!e.modelMatrix||l(e.modelMatrix,16))&&(!e.localScale||f(e.localScale))&&(!e.scale||f(e.scale))){if(e.sceneScaleFromPixelSize){if(!Number.isFinite(e.sceneScaleFromPixelSize))return void console.warn("!Number.isFinite(options.sceneScaleFromPixelSize)");if(0===e.sceneScaleFromPixelSize)return void console.warn("options.sceneScaleFromPixelSize === 0")}var p=null!=t?t:u.Matrix4.clone(u.Matrix4.IDENTITY);if(e.localScale){var d=a(null!==(n=e.localScale)&&void 0!==n?n:[1,1,1],3),h=d[0],m=d[1],y=d[2],v=u.Matrix4.fromScale(u.Cartesian3.fromElements(h,m,y),new u.Matrix4);u.Matrix4.multiply(v,p,p)}if("xForwardzUp"===(null!==(o=e.initialRotation)&&void 0!==o?o:"yForwardzUp")){var g=u.Quaternion.fromAxisAngle(u.Cartesian3.UNIT_Z,u.Math.toRadians(90)),_=u.Matrix3.fromQuaternion(g);u.Matrix4.multiply(u.Matrix4.fromRotationTranslation(_),p,p)}if(e.localRotation&&(g=(0,c.getQuaternionWithYForwardZUp)(e.localRotation),_=u.Matrix3.fromQuaternion(g),u.Matrix4.multiply(u.Matrix4.fromRotationTranslation(_),p,p)),e.localPosition){var b=u.Matrix4.fromTranslation(u.Cartesian3.fromArray(e.localPosition));u.Matrix4.multiply(b,p,p)}if(e.localModelMatrix){var w=u.Matrix4.fromArray(e.localModelMatrix);u.Matrix4.multiply(w,p,p)}if(void 0!==e.sceneScaleFromPixelSize&&Number.isFinite(e.sceneScaleFromPixelSize)){var C=e.sceneScaleFromPixelSize;v=u.Matrix4.fromScale(u.Cartesian3.fromElements(C,C,C),new u.Matrix4),u.Matrix4.multiply(v,p,p)}if(e.scale){var x=a(null!==(i=e.scale)&&void 0!==i?i:[1,1,1],3);h=x[0],m=x[1],y=x[2],v=u.Matrix4.fromScale(u.Cartesian3.fromElements(h,m,y),new u.Matrix4),u.Matrix4.multiply(v,p,p)}if(e.rotation&&(g=(0,c.getQuaternionWithYForwardZUp)(e.rotation),_=u.Matrix3.fromQuaternion(g),u.Matrix4.multiply(u.Matrix4.fromRotationTranslation(_),p,p)),e.position){var P=(r=u.Cartesian3).fromDegrees.apply(r,s([],a(e.position),!1)),O=u.Transforms.eastNorthUpToFixedFrame(P);u.Matrix4.multiply(O,p,p)}if(e.modelMatrix){var M=u.Matrix4.fromArray(e.modelMatrix);u.Matrix4.multiply(M,p,p)}return p}}},6231:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEllipsoid=t.toEllipsoid=t.fromRectangle=t.toRectangle=t.positionAndRotationToQuaternion=t.fromQuaternion=t.toQuaternion=t.fromDistanceDisplayCondition=t.toDistanceDisplayCondition=t.fromHeadingPitchRoll=t.toHeadingPitchRoll=t.fromNearFarScalar=t.toNearFarScalar=t.fromColor=t.toColor=t.fromCartographic=t.toCartographic=t.fromCartesian=t.toCartesian=t.fromCartesian4=t.toCartesian4=t.fromCartesian3=t.toCartesian3=t.fromCartesian2=t.toCartesian2=t.positionFromCartesian=t.positionToCartesian=void 0;var u=i(r(1557));function c(e,t){var r;return(r=u.Cartesian3).fromDegrees.apply(r,s(s([],a(e),!1),[void 0,t],!1))}t.positionToCartesian=c;var l=new u.Cartographic;function f(e,t){return(t=t||new u.Cartesian2).x=e[0],t.y=e[1],t}function p(e,t){return(t=t||[0,0])[0]=e.x,t[1]=e.y,t}function d(e,t){return(t=t||new u.Cartesian3).x=e[0],t.y=e[1],t.z=e[2],t}function h(e,t){return(t=t||[0,0,0])[0]=e.x,t[1]=e.y,t[2]=e.z,t}function m(e,t){return(t=t||new u.Cartesian4).x=e[0],t.y=e[1],t.z=e[2],t.w=e[3],t}function y(e,t){return(t=t||[0,0,0,0])[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w,t}function v(e,t){return(t=t||new u.HeadingPitchRoll).heading=u.Math.toRadians(e[0]-90),t.pitch=u.Math.toRadians(e[1]),t.roll=u.Math.toRadians(e[2]),t}t.positionFromCartesian=function(e,t){var r=u.Cartographic.fromCartesian(e,void 0,l);if(r)return(t=t||[0,0,0])[0]=u.Math.toDegrees(r.longitude),t[1]=u.Math.toDegrees(r.latitude),t[2]=r.height,t},t.toCartesian2=f,t.fromCartesian2=p,t.toCartesian3=d,t.fromCartesian3=h,t.toCartesian4=m,t.fromCartesian4=y,t.toCartesian=function(e,t){if(4===e.length)return m(e,t);if(3===e.length)return d(e,t);if(2===e.length)return f(e,t);throw new Error("toCartesian error: should not be here!")},t.fromCartesian=function(e,t){if(e instanceof u.Cartesian2)return p(e,t);if(e instanceof u.Cartesian3)return h(e,t);if(e instanceof u.Cartesian4)return y(e,t);throw new Error("fromCartesian error: should not be here!")},t.toCartographic=function(e,t){return(t=t||new u.Cartographic).longitude=u.Math.toRadians(e[0]),t.latitude=u.Math.toRadians(e[1]),t.height=e[2],t},t.fromCartographic=function(e,t){return(t=t||[0,0,0])[0]=u.Math.toDegrees(e.longitude),t[1]=u.Math.toDegrees(e.latitude),t[2]=e.height,t},t.toColor=function(e,t){return(t=t||new u.Color).red=e[0],t.green=e[1],t.blue=e[2],t.alpha=e[3],t},t.fromColor=function(e,t){return(t=t||[0,0,0,0])[0]=e.red,t[1]=e.green,t[2]=e.blue,t[3]=e.alpha,t},t.toNearFarScalar=function(e,t){return(t=t||new u.NearFarScalar).near=e[0],t.nearValue=e[1],t.far=e[2],t.farValue=e[3],t},t.fromNearFarScalar=function(e,t){return(t=t||[0,0,0,0])[0]=e.near,t[1]=e.nearValue,t[2]=e.far,t[3]=e.farValue,t},t.toHeadingPitchRoll=v,t.fromHeadingPitchRoll=function(e,t){return(t=t||[0,0,0])[0]=u.Math.toDegrees(e.heading+u.Math.PI_OVER_TWO),t[1]=u.Math.toDegrees(e.pitch),t[2]=u.Math.toDegrees(e.roll),t},t.toDistanceDisplayCondition=function(e,t){return(t=t||new u.DistanceDisplayCondition).near=e[0],t.far=e[1],t},t.fromDistanceDisplayCondition=function(e,t){return(t=t||[0,0])[0]=e.near,t[1]=e.far,t},t.toQuaternion=function(e,t){return(t=t||new u.Quaternion).x=e[0],t.y=e[1],t.z=e[2],t.w=e[3],t},t.fromQuaternion=function(e,t){return(t=t||[0,0,0,0])[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w,t};var g=new u.HeadingPitchRoll,_=new u.Cartesian3;t.positionAndRotationToQuaternion=function(e,t,r){var n=v(t,g),o=c(e,_);return u.Transforms.headingPitchRollQuaternion(o,n,void 0,void 0,r)},t.toRectangle=function(e,t){return(t=t||new u.Rectangle).west=e[0]*Math.PI/180,t.south=e[1]*Math.PI/180,t.east=e[2]*Math.PI/180,t.north=e[3]*Math.PI/180,t},t.fromRectangle=function(e,t){return(t=t||[0,0,0,0])[0]=e.west,t[1]=e.south,t[2]=e.east,t[3]=e.north,t};var b=new u.Cartesian3;t.toEllipsoid=function(e,t){return t=t||new u.Ellipsoid,u.Ellipsoid.fromCartesian3(u.Cartesian3.fromArray(e,void 0,b),t)},t.fromEllipsoid=function(e,t){return(t=t||[0,0,0])[0]=e.radii.x,t[1]=e.radii.y,t[2]=e.radii.z,t}},3052:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.czmGetQuatFromDirs=void 0;var a=i(r(1557)),s=new a.Cartesian3;t.czmGetQuatFromDirs=function(e,t,r){r=r||a.Quaternion.clone(a.Quaternion.IDENTITY);var n=a.Cartesian3.angleBetween(e,t);if(n<=0)return r;var o=a.Cartesian3.cross(e,t,s);return a.Cartesian3.normalize(o,o),a.Quaternion.fromAxisAngle(o,n,r)}},2985:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.czmRotateDir=void 0;var a=i(r(1557)),s=new a.Matrix3;t.czmRotateDir=function(e,t,r){var n=a.Matrix3.fromQuaternion(t,s);return a.Matrix3.multiplyByVector(n,e,r)}},3407:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.czmSurfaceDistance=void 0;var a=i(r(1557));t.czmSurfaceDistance=function(e,t){return.5*(a.Cartesian3.magnitude(e)+a.Cartesian3.magnitude(t))*a.Cartesian3.angleBetween(e,t)}},3399:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuaternion=t.getQuaternionWithYForwardZUp=void 0;var s=i(r(1557));function u(e,t,r,n,o){var i=a(e,3),u=i[0],c=i[1],l=i[2],f=s.Quaternion.fromAxisAngle(r,s.Math.toRadians(-u)),p=s.Quaternion.fromAxisAngle(n,s.Math.toRadians(c)),d=s.Quaternion.fromAxisAngle(t,s.Math.toRadians(l)),h=s.Quaternion.clone(s.Quaternion.IDENTITY,o);return s.Quaternion.multiply(d,h,h),s.Quaternion.multiply(p,h,h),s.Quaternion.multiply(f,h,h),h}t.getQuaternionWithYForwardZUp=function(e,t){return u(e,s.Cartesian3.UNIT_Y,s.Cartesian3.UNIT_Z,s.Cartesian3.UNIT_X,t)},t.getQuaternion=u},4039:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5847),t),o(r(7358),t),o(r(6231),t),o(r(3052),t),o(r(2985),t),o(r(3407),t),o(r(3399),t),o(r(7946),t),o(r(1815),t),o(r(4689),t),o(r(3570),t)},7946:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.positionsToUniqueCartesians=void 0;var s=i(r(1557));t.positionsToUniqueCartesians=function(e){for(var t,r=e.length,n=[],o=0;o<r;++o){var i=a(e[o],3),u=i[0],c=i[1],l=i[2],f=s.Cartesian3.fromDegrees(u,c,l);f&&[f.x,f.y,f.z].every(Number.isFinite)&&(t&&s.Cartesian3.equals(t,f)||(t=f,n.push(t)))}return n}},7737:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoAlong=void 0;var o=n(r(9399)),i=r(8967);t.geoAlong=function(e,t){var r=(0,i.lineString)(e);return(0,o.default)(r,t,{units:"meters"}).geometry.coordinates}},6440:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoDestination=void 0;var i=o(r(4202)),a=r(8967);t.geoDestination=function(e,t,r,o){var s=n(e,3),u=s[0],c=s[1],l=s[2],f=(0,i.default)((0,a.point)([u,c]),t,r,{units:"meters"});if(f&&f.geometry&&f.geometry.coordinates)return(o=o||[0,0,0])[0]=f.geometry.coordinates[0],o[1]=f.geometry.coordinates[1],o[2]=l,o}},3253:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoDistance=void 0;var o=n(r(9391)),i=r(8967);t.geoDistance=function(e,t){return(0,o.default)((0,i.point)(e),(0,i.point)(t),{units:"meters"})}},6678:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoHeading=void 0;var o=n(r(1288)),i=r(8967);t.geoHeading=function(e,t){return(0,o.default)((0,i.point)(e),(0,i.point)(t))}},938:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoLength=void 0;var o=n(r(8840)),i=r(8967);t.geoLength=function(e){var t=(0,i.lineString)(e);return(0,o.default)(t,{units:"meters"})}},75:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoLineIntersect=void 0;var o=n(r(3154)),i=r(8967);t.geoLineIntersect=function(e,t){return(0,o.default)((0,i.lineString)(e),(0,i.lineString)(t))}},5873:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoNearestPointOnLine=void 0;var o=r(8967),i=n(r(7696));t.geoNearestPointOnLine=function(e,t){var r=(0,o.point)(t),n=(0,o.lineString)(e);return(0,i.default)(n,r,{units:"meters"})}},4038:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoPointToLineDistance=void 0;var o=r(8967),i=n(r(3183));t.geoPointToLineDistance=function(e,t){var r=(0,o.point)(e),n=(0,o.lineString)(t);return(0,i.default)(r,n,{units:"meters"})}},6555:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoRhumbDestination=void 0;var i=o(r(7153)),a=r(8967);t.geoRhumbDestination=function(e,t,r,o){var s=n(e,3),u=s[0],c=s[1],l=s[2],f=(0,i.default)((0,a.point)([u,c]),t,r,{units:"meters"});if(f&&f.geometry&&f.geometry.coordinates)return(o=o||[0,0,0])[0]=f.geometry.coordinates[0],o[1]=f.geometry.coordinates[1],o[2]=l,o}},7733:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoRhumbDistance=void 0;var o=n(r(7397)),i=r(8967);t.geoRhumbDistance=function(e,t){return(0,o.default)((0,i.point)(e),(0,i.point)(t),{units:"meters"})}},8294:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.geoRhumbHeading=void 0;var o=n(r(2307)),i=r(8967);t.geoRhumbHeading=function(e,t){return(0,o.default)((0,i.point)(e),(0,i.point)(t))}},1815:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7737),t),o(r(6440),t),o(r(3253),t),o(r(6678),t),o(r(938),t),o(r(75),t),o(r(5873),t),o(r(4038),t),o(r(6555),t),o(r(7733),t),o(r(8294),t)},1557:e=>{"use strict";e.exports=Cesium},9675:e=>{"use strict";e.exports=vtxf["xr-base-utils"]},1901:e=>{"use strict";e.exports=vtxf["xr-utils"]},2634:()=>{},5368:(e,t,r)=>{"use strict";var n=Object.defineProperty,o=r(3861);function i(e,t={}){if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return o.coordEach.call(void 0,e,(e=>{r[0]>e[0]&&(r[0]=e[0]),r[1]>e[1]&&(r[1]=e[1]),r[2]<e[0]&&(r[2]=e[0]),r[3]<e[1]&&(r[3]=e[1])})),r}n(i,"name",{value:"bbox",configurable:!0});var a=i;t.Ay=a},1772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.defineProperty,i=(e,t)=>o(e,"name",{value:t,configurable:!0}),a=(n=r(4982))&&n.__esModule?n:{default:n},s=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!c(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=l(e),n=l(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!c(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return c(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||a.default.call(void 0,e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return c(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};i(s,"GeojsonEquality");var u=s;function c(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function l(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}i(c,"sameLength"),i(l,"explode");var f=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*f,kilometers:6371.0088,kilometres:6371.0088,meters:f,metres:f,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:f/1852,radians:1,yards:6967335.223679999},d={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function m(e,t,r={}){switch(e){case"Point":return y(t).geometry;case"LineString":return b(t).geometry;case"Polygon":return g(t).geometry;case"MultiPoint":return P(t).geometry;case"MultiLineString":return x(t).geometry;case"MultiPolygon":return O(t).geometry;default:throw new Error(e+" is invalid")}}function y(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!B(e[0])||!B(e[1]))throw new Error("coordinates must contain numbers");return h({type:"Point",coordinates:e},t,r)}function v(e,t,r={}){return C(e.map((e=>y(e,t))),r)}function g(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return h({type:"Polygon",coordinates:e},t,r)}function _(e,t,r={}){return C(e.map((e=>g(e,t))),r)}function b(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return h({type:"LineString",coordinates:e},t,r)}function w(e,t,r={}){return C(e.map((e=>b(e,t))),r)}function C(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function x(e,t,r={}){return h({type:"MultiLineString",coordinates:e},t,r)}function P(e,t,r={}){return h({type:"MultiPoint",coordinates:e},t,r)}function O(e,t,r={}){return h({type:"MultiPolygon",coordinates:e},t,r)}function M(e,t,r={}){return h({type:"GeometryCollection",geometries:e},t,r)}function S(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}function j(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e*r}function E(e,t="kilometers"){const r=p[t];if(!r)throw new Error(t+" units is invalid");return e/r}function A(e,t){return I(E(e,t))}function T(e){let t=e%360;return t<0&&(t+=360),t}function I(e){return e%(2*Math.PI)*180/Math.PI}function D(e){return e%360*Math.PI/180}function F(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return j(E(e,t),r)}function R(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=d[t];if(!n)throw new Error("invalid original units");const o=d[r];if(!o)throw new Error("invalid final units");return e/n*o}function B(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function k(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function z(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!B(e))throw new Error("bbox must only contain numbers")}))}function V(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}i(h,"feature"),i(m,"geometry"),i(y,"point"),i(v,"points"),i(g,"polygon"),i(_,"polygons"),i(b,"lineString"),i(w,"lineStrings"),i(C,"featureCollection"),i(x,"multiLineString"),i(P,"multiPoint"),i(O,"multiPolygon"),i(M,"geometryCollection"),i(S,"round"),i(j,"radiansToLength"),i(E,"lengthToRadians"),i(A,"lengthToDegrees"),i(T,"bearingToAzimuth"),i(I,"radiansToDegrees"),i(D,"degreesToRadians"),i(F,"convertLength"),i(R,"convertArea"),i(B,"isNumber"),i(k,"isObject"),i(z,"validateBBox"),i(V,"validateId"),t.GeojsonEquality=u,t.areaFactors=d,t.bearingToAzimuth=T,t.convertArea=R,t.convertLength=F,t.degreesToRadians=D,t.earthRadius=f,t.factors=p,t.feature=h,t.featureCollection=C,t.geometry=m,t.geometryCollection=M,t.isNumber=B,t.isObject=k,t.lengthToDegrees=A,t.lengthToRadians=E,t.lineString=b,t.lineStrings=w,t.multiLineString=x,t.multiPoint=P,t.multiPolygon=O,t.point=y,t.points=v,t.polygon=g,t.polygons=_,t.radiansToDegrees=I,t.radiansToLength=j,t.round=S,t.validateBBox=z,t.validateId=V},3861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.defineProperty,o=(e,t)=>n(e,"name",{value:t,configurable:!0}),i=r(1772);function a(e,t,r){if(null!==e)for(var n,o,i,s,u,c,l,f,p=0,d=0,h=e.type,m="FeatureCollection"===h,y="Feature"===h,v=m?e.features.length:1,g=0;g<v;g++){u=(f=!!(l=m?e.features[g].geometry:y?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<u;_++){var b=0,w=0;if(null!==(s=f?l.geometries[_]:l)){c=s.coordinates;var C=s.type;switch(p=!r||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===t(c,d,g,b,w))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(!1===t(c[n],d,g,b,w))return!1;d++,"MultiPoint"===C&&b++}"LineString"===C&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(o=0;o<c[n].length-p;o++){if(!1===t(c[n][o],d,g,b,w))return!1;d++}"MultiLineString"===C&&b++,"Polygon"===C&&w++}"Polygon"===C&&b++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(w=0,o=0;o<c[n].length;o++){for(i=0;i<c[n][o].length-p;i++){if(!1===t(c[n][o][i],d,g,b,w))return!1;d++}w++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===a(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(e,t,r,n){var o=r;return a(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}function u(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function c(e,t,r){var n=r;return u(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function l(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function f(e,t,r){var n=r;return l(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}function p(e){var t=[];return a(e,(function(e){t.push(e)})),t}function d(e,t){var r,n,o,i,a,s,u,c,l,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,m=d?e.features.length:1;for(r=0;r<m;r++){for(s=d?e.features[r].geometry:h?e.geometry:e,c=d?e.features[r].properties:h?e.properties:{},l=d?e.features[r].bbox:h?e.bbox:void 0,f=d?e.features[r].id:h?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,c,l,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,c,l,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,c,l,f))return!1;p++}}function h(e,t,r){var n=r;return d(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function m(e,t){d(e,(function(e,r,n,o,a){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(i.feature.call(void 0,e,n,{bbox:o,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var c=0;c<e.coordinates.length;c++){var l={type:s,coordinates:e.coordinates[c]};if(!1===t(i.feature.call(void 0,l,n),r,c))return!1}}))}function y(e,t,r){var n=r;return m(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}function v(e,t){m(e,(function(e,r,n){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,c=0,l=0,f=0;return!1!==a(e,(function(a,s,p,d,h){if(void 0===u||r>c||d>l||h>f)return u=a,c=r,l=d,f=h,void(o=0);var m=i.lineString.call(void 0,[u,a],e.properties);if(!1===t(m,r,n,h,o))return!1;o++,u=a}))&&void 0}}}))}function g(e,t,r){var n=r,o=!1;return v(e,(function(e,i,a,s,u){n=!1===o&&void 0===r?e:t(n,e,i,a,s,u),o=!0})),n}function _(e,t){if(!e)throw new Error("geojson is required");m(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(i.lineString.call(void 0,a[s],e.properties),r,n,s))return!1}}}))}function b(e,t,r){var n=r;return _(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}function w(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),u=u||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":u=u||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=c.length+s-1),i.lineString.call(void 0,[c[s],c[s+1]],u,t);case"Polygon":return a<0&&(a=c.length+a),s<0&&(s=c[a].length+s-1),i.lineString.call(void 0,[c[a][s],c[a][s+1]],u,t);case"MultiLineString":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s-1),i.lineString.call(void 0,[c[o][s],c[o][s+1]],u,t);case"MultiPolygon":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),s<0&&(s=c[o][a].length-s-1),i.lineString.call(void 0,[c[o][a][s],c[o][a][s+1]],u,t)}throw new Error("geojson is invalid")}function C(e,t){if(t=t||{},!i.isObject.call(void 0,t))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),u=u||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":u=u||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return i.point.call(void 0,c,u,t);case"MultiPoint":return o<0&&(o=c.length+o),i.point.call(void 0,c[o],u,t);case"LineString":return s<0&&(s=c.length+s),i.point.call(void 0,c[s],u,t);case"Polygon":return a<0&&(a=c.length+a),s<0&&(s=c[a].length+s),i.point.call(void 0,c[a][s],u,t);case"MultiLineString":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),i.point.call(void 0,c[o][s],u,t);case"MultiPolygon":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),s<0&&(s=c[o][a].length-s),i.point.call(void 0,c[o][a][s],u,t)}throw new Error("geojson is invalid")}o(a,"coordEach"),o(s,"coordReduce"),o(u,"propEach"),o(c,"propReduce"),o(l,"featureEach"),o(f,"featureReduce"),o(p,"coordAll"),o(d,"geomEach"),o(h,"geomReduce"),o(m,"flattenEach"),o(y,"flattenReduce"),o(v,"segmentEach"),o(g,"segmentReduce"),o(_,"lineEach"),o(b,"lineReduce"),o(w,"findSegment"),o(C,"findPoint"),t.coordAll=p,t.coordEach=a,t.coordReduce=s,t.featureEach=l,t.featureReduce=f,t.findPoint=C,t.findSegment=w,t.flattenEach=m,t.flattenReduce=y,t.geomEach=d,t.geomReduce=h,t.lineEach=_,t.lineReduce=b,t.propEach=u,t.propReduce=c,t.segmentEach=v,t.segmentReduce=g},9209:(e,t,r)=>{"use strict";var n=r(6578),o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},4552:(e,t,r)=>{"use strict";var n=r(7244),o=r(9439);if(r(6420)()||r(1333)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():n(e)?Array.prototype[i].call(e):void 0}}else{var a=r(7738),s=r(4761),u=r(2834),c=u("%Map%",!0),l=u("%Set%",!0),f=r(8075),p=f("Array.prototype.push"),d=f("String.prototype.charCodeAt"),h=f("String.prototype.slice"),m=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(a(e)||n(e))return m(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=d(e,t);if(r<55296||r>56319)return t+1;var n=d(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=h(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(c||l){var v=r(3802),g=r(256),_=f("Map.prototype.forEach",!0),b=f("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var w=f("Map.prototype.iterator",!0),C=f("Set.prototype.iterator",!0);var x=f("Map.prototype.@@iterator",!0)||f("Map.prototype._es6-shim iterator_",!0),P=f("Set.prototype.@@iterator",!0)||f("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(v(e)){if(w)return o(w(e));if(x)return x(e);if(_){var t=[];return _(e,(function(e,r){p(t,[r,e])})),m(t)}}if(g(e)){if(C)return o(C(e));if(P)return P(e);if(b){var r=[];return b(e,(function(e){p(r,e)})),m(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=880;var n=r(1416);(vtxf=void 0===vtxf?{}:vtxf)["xr-cesium"]=n})();