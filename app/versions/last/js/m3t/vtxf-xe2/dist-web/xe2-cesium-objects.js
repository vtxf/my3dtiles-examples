/*! For license information please see xe2-cesium-objects.js.LICENSE.txt */
var XE2;(()=>{var e={89399:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51288)),i=r(n(24202)),a=r(n(9391)),s=n(88967),l=n(78506);t.default=function(e,t,n){void 0===n&&(n={});for(var r=l.getGeom(e).coordinates,c=0,u=0;u<r.length&&!(t>=c&&u===r.length-1);u++){if(c>=t){var p=t-c;if(p){var f=o.default(r[u],r[u-1])-180;return i.default(r[u],p,f,n)}return s.point(r[u])}c+=a.default(r[u],r[u+1],n)}return s.point(r[r.length-1])}},24309:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51288)),i=n(88967),a=r(n(92307));t.default=function(e,t,n,r){if(void 0===r&&(r={}),!i.isObject(r))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var s=e,l=t,c=n,u=i.bearingToAzimuth(!0!==r.mercator?o.default(s,l):a.default(s,l)),p=i.bearingToAzimuth(!0!==r.mercator?o.default(c,l):a.default(c,l)),f=Math.abs(u-p);return!0===r.explementary?360-f:f}},17849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58421),o=6378137;function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(a(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(a(e[n]))}return t}function a(e){var t,n,r,i,a,l,c=0,u=e.length;if(u>2){for(l=0;l<u;l++)l===u-2?(r=u-2,i=u-1,a=0):l===u-1?(r=u-1,i=0,a=1):(r=l,i=l+1,a=l+2),t=e[r],n=e[i],c+=(s(e[a][0])-s(t[0]))*Math.sin(s(n[1]));c=c*o*o/2}return c}function s(e){return e*Math.PI/180}t.default=function(e){return r.geomReduce(e,(function(e,t){return e+function(e){var t,n=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=i(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}),0)}},23574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506),i=n(24828);function a(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r],s=i.polygonclip(a,t);s.length>0&&(s[0][0]===s[s.length-1][0]&&s[0][1]===s[s.length-1][1]||s.push(s[0]),s.length>=4&&n.push(s))}return n}t.default=function(e,t){var n=o.getGeom(e),s=n.type,l="Feature"===e.type?e.properties:{},c=n.coordinates;switch(s){case"LineString":case"MultiLineString":var u=[];return"LineString"===s&&(c=[c]),c.forEach((function(e){i.lineclip(e,t,u)})),1===u.length?r.lineString(u[0],l):r.multiLineString(u,l);case"Polygon":return r.polygon(a(c,t),l);case"MultiPolygon":return r.multiPolygon(c.map((function(e){return a(e,t)})),l);default:throw new Error("geometry "+s+" not supported")}}},24828:(e,t)=>{"use strict";function n(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function r(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}Object.defineProperty(t,"__esModule",{value:!0}),t.lineclip=function(e,t,o){var i,a,s,l,c,u=e.length,p=r(e[0],t),f=[];for(o||(o=[]),i=1;i<u;i++){for(l=e[i-1],a=s=r(c=e[i],t);;){if(!(p|a)){f.push(l),a!==s?(f.push(c),i<u-1&&(o.push(f),f=[])):i===u-1&&f.push(c);break}if(p&a)break;p?p=r(l=n(l,c,p,t),t):a=r(c=n(l,c,a,t),t)}p=s}return f.length&&o.push(f),o},t.polygonclip=function(e,t){var o,i,a,s,l,c,u;for(i=1;i<=8;i*=2){for(o=[],s=!(r(a=e[e.length-1],t)&i),l=0;l<e.length;l++)(u=!(r(c=e[l],t)&i))!==s&&o.push(n(a,c,i,t)),u&&o.push(c),a=c,s=u;if(!(e=o).length)break}return o}},13932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967);t.default=function(e,t){void 0===t&&(t={});var n=Number(e[0]),o=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,o],l=[n,a],c=[i,a],u=[i,o];return r.polygon([[s,u,c,l,s]],t.properties,{bbox:e,id:t.id})}},44383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58421);function o(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}o.default=o,t.default=o},51288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);t.default=function e(t,n,i){if(void 0===i&&(i={}),!0===i.final)return function(t,n){var r=e(n,t);return(r+180)%360}(t,n);var a=o.getCoord(t),s=o.getCoord(n),l=r.degreesToRadians(a[0]),c=r.degreesToRadians(s[0]),u=r.degreesToRadians(a[1]),p=r.degreesToRadians(s[1]),f=Math.sin(c-l)*Math.cos(p),d=Math.cos(u)*Math.sin(p)-Math.sin(u)*Math.cos(p)*Math.cos(c-l);return r.radiansToDegrees(Math.atan2(f,d))}},70301:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88967),i=n(78506),a=r(n(39164));t.default=function(e,t){void 0===t&&(t={});for(var n=t.resolution||1e4,r=t.sharpness||.85,s=[],l=i.getGeom(e).coordinates.map((function(e){return{x:e[0],y:e[1]}})),c=new a.default({duration:n,points:l,sharpness:r}),u=function(e){var t=c.pos(e);Math.floor(e/100)%2==0&&s.push([t.x,t.y])},p=0;p<c.duration;p+=10)u(p);return u(c.duration),o.lineString(s,t.properties)}},39164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var n=this.points[t],r=this.points[t+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,i=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,a=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+i),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+a)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+i),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(e){var t=[],n=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)+(o.z-n.z)*(o.z-n.z))>e&&(t.push(r),n=o)}return t},e.prototype.vector=function(e){var t=this.pos(e+10),n=this.pos(e-10);return{angle:180*Math.atan2(t.y-n.y,t.x-n.x)/3.14,speed:Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)+(n.z-t.z)*(n.z-t.z))}},e.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var n=t/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(e,t,n,r,o){var i=function(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:o.x*i[0]+r.x*i[1]+n.x*i[2]+t.x*i[3],y:o.y*i[0]+r.y*i[1]+n.y*i[2]+t.y*i[3],z:o.z*i[0]+r.z*i[1]+n.z*i[2]+t.z*i[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},e}();t.default=n},17333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78506);t.default=function(e){for(var t,n,o=r.getCoords(e),i=0,a=1;a<o.length;)t=n||o[0],i+=((n=o[a])[0]-t[0])*(n[1]+t[1]),a++;return i>0}},13974:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(44383)),i=r(n(82446)),a=r(n(85378)),s=n(78506);function l(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(g(e.coordinates[n],t.coordinates)){r=!0;break}return r}function c(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){for(var o=r[n],i=!1,a=0,s=e.coordinates;a<s.length;a++)if(g(o,s[a])){i=!0;break}if(!i)return!1}return!0}function u(e,t){for(var n=!1,r=0,o=t.coordinates;r<o.length;r++){var i=o[r];if(a.default(i,e,{ignoreEndVertices:!0})&&(n=!0),!a.default(i,e))return!1}return!!n}function p(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var o=r[n];if(!i.default(o,e,{ignoreBoundary:!0}))return!1}return!0}function f(e,t){for(var n=!1,r=0,o=t.coordinates;r<o.length;r++){var i=o[r];if(a.default({type:"Point",coordinates:i},e,{ignoreEndVertices:!0})&&(n=!0),!a.default({type:"Point",coordinates:i},e,{ignoreEndVertices:!1}))return!1}return n}function d(e,t){var n=!1,r=0;if(!y(o.default(e),o.default(t)))return!1;for(;r<t.coordinates.length-1;r++){var a=m(t.coordinates[r],t.coordinates[r+1]);if(i.default({type:"Point",coordinates:a},e,{ignoreBoundary:!0})){n=!0;break}}return n}function h(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!y(o.default(e),o.default(t)))return!1;for(var n=0,r=s.getGeom(t).coordinates;n<r.length;n++)for(var a=0,l=r[n];a<l.length;a++){var c=l[a];if(!i.default(c,e))return!1}return!0}function y(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function g(e,t){return e[0]===t[0]&&e[1]===t[1]}function m(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),o=n.type,y=r.type,m=n.coordinates,v=r.coordinates;switch(o){case"Point":if("Point"===y)return g(m,v);throw new Error("feature2 "+y+" geometry not supported");case"MultiPoint":switch(y){case"Point":return l(n,r);case"MultiPoint":return c(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"LineString":switch(y){case"Point":return a.default(r,n,{ignoreEndVertices:!0});case"LineString":return f(n,r);case"MultiPoint":return u(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"Polygon":switch(y){case"Point":return i.default(r,n,{ignoreBoundary:!0});case"LineString":return d(n,r);case"Polygon":return h(n,r);case"MultiPoint":return p(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}},t.isPointInMultiPoint=l,t.isMultiPointInMultiPoint=c,t.isMultiPointOnLine=u,t.isMultiPointInPoly=p,t.isLineOnLine=f,t.isLineInPoly=d,t.isPolyInPoly=h,t.doBBoxOverlap=y,t.compareCoords=g,t.getMidpoint=m},97971:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23154)),i=n(24527),a=r(n(82446)),s=n(78506),l=n(88967);function c(e,t){for(var n=!1,r=!1,o=e.coordinates.length,i=0;i<o&&!n&&!r;){for(var a=0;a<t.coordinates.length-1;a++){var s=!0;0!==a&&a!==t.coordinates.length-2||(s=!1),f(t.coordinates[a],t.coordinates[a+1],e.coordinates[i],s)?n=!0:r=!0}i++}return n&&r}function u(e,t){var n=i.polygonToLine(t);return o.default(e,n).features.length>0}function p(e,t){for(var n=!1,r=!1,o=e.coordinates.length,i=0;i<o&&(!n||!r);i++)a.default(l.point(e.coordinates[i]),t)?n=!0:r=!0;return r&&n}function f(e,t,n,r){var o=n[0]-e[0],i=n[1]-e[1],a=t[0]-e[0],s=t[1]-e[1];return 0==o*s-i*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:s>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]:Math.abs(a)>=Math.abs(s)?a>0?e[0]<n[0]&&n[0]<t[0]:t[0]<n[0]&&n[0]<e[0]:s>0?e[1]<n[1]&&n[1]<t[1]:t[1]<n[1]&&n[1]<e[1])}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),i=n.type,a=r.type;switch(i){case"MultiPoint":switch(a){case"LineString":return c(n,r);case"Polygon":return p(n,r);default:throw new Error("feature2 "+a+" geometry not supported")}case"LineString":switch(a){case"MultiPoint":return c(r,n);case"LineString":return function(e,t){if(o.default(e,t).features.length>0)for(var n=0;n<e.coordinates.length-1;n++)for(var r=0;r<t.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==t.coordinates.length-2||(i=!1),f(e.coordinates[n],e.coordinates[n+1],t.coordinates[r],i))return!0}return!1}(n,r);case"Polygon":return u(n,r);default:throw new Error("feature2 "+a+" geometry not supported")}case"Polygon":switch(a){case"MultiPoint":return p(r,n);case"LineString":return u(r,n);default:throw new Error("feature2 "+a+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}},61323:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(82446)),i=r(n(23154)),a=n(58421),s=r(n(24527));function l(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(u(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function c(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var a=r[n];if(o.default(a,e))return!0}return i.default(t,s.default(e)).features.length>0}function u(e,t,n){var r=n[0]-e[0],o=n[1]-e[1],i=t[0]-e[0],a=t[1]-e[1];return 0==r*a-o*i&&(Math.abs(i)>=Math.abs(a)?i>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1])}t.default=function(e,t){var n=!0;return a.flattenEach(e,(function(e){a.flattenEach(t,(function(t){if(!1===n)return!1;n=function(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return a=e.coordinates,u=t.coordinates,!(a[0]===u[0]&&a[1]===u[1]);case"LineString":return!l(t,e);case"Polygon":return!o.default(e,t)}break;case"LineString":switch(t.type){case"Point":return!l(e,t);case"LineString":return n=e,r=t,!(i.default(n,r).features.length>0);case"Polygon":return!c(t,e)}break;case"Polygon":switch(t.type){case"Point":return!o.default(t,e);case"LineString":return!c(e,t);case"Polygon":return!function(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++){var a=r[n];if(o.default(a,t))return!0}for(var l=0,c=t.coordinates[0];l<c.length;l++){var u=c[l];if(o.default(u,e))return!0}return i.default(s.default(e),s.default(t)).features.length>0}(t,e)}}var n,r,a,u;return!1}(e.geometry,t.geometry)}))})),n}},97447:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(88635)),i=r(n(22086)),a=n(78506);t.default=function(e,t){return a.getGeom(e).type===a.getGeom(t).type&&new o.default({precision:6}).compare(i.default(e),i.default(t))}},69353:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(61323)),i=n(58421);t.default=function(e,t){var n=!1;return i.flattenEach(e,(function(e){i.flattenEach(t,(function(t){if(!0===n)return!0;n=!o.default(e.geometry,t.geometry)}))})),n}},8436:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(58421),i=n(78506),a=r(n(4300)),s=r(n(23154)),l=r(n(88635));t.default=function(e,t){var n=i.getGeom(e),r=i.getGeom(t),c=n.type,u=r.type;if("MultiPoint"===c&&"MultiPoint"!==u||("LineString"===c||"MultiLineString"===c)&&"LineString"!==u&&"MultiLineString"!==u||("Polygon"===c||"MultiPolygon"===c)&&"Polygon"!==u&&"MultiPolygon"!==u)throw new Error("features must be of the same type");if("Point"===c)throw new Error("Point geometry not supported");if(new l.default({precision:6}).compare(e,t))return!1;var p=0;switch(c){case"MultiPoint":for(var f=0;f<n.coordinates.length;f++)for(var d=0;d<r.coordinates.length;d++){var h=n.coordinates[f],y=r.coordinates[d];if(h[0]===y[0]&&h[1]===y[1])return!0}return!1;case"LineString":case"MultiLineString":o.segmentEach(e,(function(e){o.segmentEach(t,(function(t){a.default(e,t).features.length&&p++}))}));break;case"Polygon":case"MultiPolygon":o.segmentEach(e,(function(e){o.segmentEach(t,(function(t){s.default(e,t).features.length&&p++}))}))}return p>0}},83980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(22086)),i=r(n(97042)),a=r(n(92307)),s=n(88967);function l(e,t){return s.bearingToAzimuth(a.default(e[0],e[1]))===s.bearingToAzimuth(a.default(t[0],t[1]))}function c(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}t.default=function(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==c(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==c(t,"line2"))throw new Error("line2 must be a LineString");for(var n=i.default(o.default(e)).features,r=i.default(o.default(t)).features,a=0;a<n.length;a++){var s=n[a].geometry.coordinates;if(!r[a])break;if(!l(s,r[a].geometry.coordinates))return!1}return!0}},82446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78506);function o(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var o=0,i=t.length-1;o<t.length;i=o++){var a=t[o][0],s=t[o][1],l=t[i][0],c=t[i][1];if(e[1]*(a-l)+s*(l-e[0])+c*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(c-e[1])<=0)return!n;s>e[1]!=c>e[1]&&e[0]<(l-a)*(e[1]-s)/(c-s)+a&&(r=!r)}return r}t.default=function(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i=r.getCoord(e),a=r.getGeom(t),s=a.type,l=t.bbox,c=a.coordinates;if(l&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,l))return!1;"Polygon"===s&&(c=[c]);for(var u=!1,p=0;p<c.length&&!u;p++)if(o(i,c[p][0],n.ignoreBoundary)){for(var f=!1,d=1;d<c[p].length&&!f;)o(i,c[p][d],!n.ignoreBoundary)&&(f=!0),d++;f||(u=!0)}return u}},85378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78506);function o(e,t,n,r,o){var i=n[0],a=n[1],s=e[0],l=e[1],c=t[0],u=t[1],p=c-s,f=u-l,d=(n[0]-s)*f-(n[1]-l)*p;if(null!==o){if(Math.abs(d)>o)return!1}else if(0!==d)return!1;return r?"start"===r?Math.abs(p)>=Math.abs(f)?p>0?s<i&&i<=c:c<=i&&i<s:f>0?l<a&&a<=u:u<=a&&a<l:"end"===r?Math.abs(p)>=Math.abs(f)?p>0?s<=i&&i<c:c<i&&i<=s:f>0?l<=a&&a<u:u<a&&a<=l:"both"===r&&(Math.abs(p)>=Math.abs(f)?p>0?s<i&&i<c:c<i&&i<s:f>0?l<a&&a<u:u<a&&a<l):Math.abs(p)>=Math.abs(f)?p>0?s<=i&&i<=c:c<=i&&i<=s:f>0?l<=a&&a<=u:u<=a&&a<=l}t.default=function(e,t,n){void 0===n&&(n={});for(var i=r.getCoord(e),a=r.getCoords(t),s=0;s<a.length-1;s++){var l=!1;if(n.ignoreEndVertices&&(0===s&&(l="start"),s===a.length-2&&(l="end"),0===s&&s+1===a.length-1&&(l="both")),o(a[s],a[s+1],i,l,void 0===n.epsilon?null:n.epsilon))return!0}return!1}},74960:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(44383)),i=r(n(85378)),a=r(n(82446)),s=n(78506);function l(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function c(e,t){return e[0]===t[0]&&e[1]===t[1]}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),u=n.type,p=r.type;switch(u){case"Point":switch(p){case"MultiPoint":return function(e,t){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(c(t.coordinates[n],e.coordinates)){r=!0;break}return r}(n,r);case"LineString":return i.default(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return a.default(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+p+" geometry not supported")}case"MultiPoint":switch(p){case"MultiPoint":return function(e,t){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,o=0;o<t.coordinates.length;o++)c(e.coordinates[n],t.coordinates[o])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(e,t){for(var n=!1,r=0;r<e.coordinates.length;r++){if(!i.default(e.coordinates[r],t))return!1;n||(n=i.default(e.coordinates[r],t,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(e,t){for(var n=!0,r=!1,o=0;o<e.coordinates.length;o++){if(!(r=a.default(e.coordinates[1],t))){n=!1;break}r=a.default(e.coordinates[1],t,{ignoreBoundary:!0})}return n&&r}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}case"LineString":switch(p){case"LineString":return function(e,t){for(var n=0;n<e.coordinates.length;n++)if(!i.default(e.coordinates[n],t))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(e,t){var n,r;if(!l(o.default(t),o.default(e)))return!1;for(var i=!1,s=0;s<e.coordinates.length-1;s++){if(!a.default(e.coordinates[s],t))return!1;if(i||(i=a.default(e.coordinates[s],t,{ignoreBoundary:!0})),!i){var c=(n=e.coordinates[s],r=e.coordinates[s+1],[(n[0]+r[0])/2,(n[1]+r[1])/2]);i=a.default(c,t,{ignoreBoundary:!0})}}return i}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}case"Polygon":switch(p){case"Polygon":case"MultiPolygon":return function(e,t){var n=o.default(e);if(!l(o.default(t),n))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!a.default(e.coordinates[0][r],t))return!1;return!0}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}default:throw new Error("feature1 "+u+" geometry not supported")}}},37262:(e,t,n)=>{"use strict";var r=n(66649),o=n(50039),i=n(58421),a=n(51715),s=n(88967);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r);function u(e,t,n){var r=(n=n||{}).units||"kilometers",o=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var a=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){var n=p(e,t,r,o);n&&a.push(n)})),s.featureCollection(a);case"FeatureCollection":return i.featureEach(e,(function(e){var n=p(e,t,r,o);n&&i.featureEach(n,(function(e){e&&a.push(e)}))})),s.featureCollection(a)}return p(e,t,r,o)}function p(e,t,n,r){var l=e.properties||{},u="Feature"===e.type?e.geometry:e;if("GeometryCollection"===u.type){var y=[];return i.geomEach(e,(function(e){var o=p(e,t,n,r);o&&y.push(o)})),s.featureCollection(y)}var g=function(e){var t=c.default(e).geometry.coordinates,n=[-t[0],-t[1]];return a.geoAzimuthalEquidistant().rotate(n).scale(s.earthRadius)}(u),m={type:u.type,coordinates:d(u.coordinates,g)},v=(new o.GeoJSONReader).read(m),b=s.radiansToLength(s.lengthToRadians(t,n),"meters"),_=o.BufferOp.bufferOp(v,b,r);if(!f((_=(new o.GeoJSONWriter).write(_)).coordinates)){var w={type:_.type,coordinates:h(_.coordinates,g)};return s.feature(w,l)}}function f(e){return Array.isArray(e[0])?f(e[0]):isNaN(e[0])}function d(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return d(e,t)}))}function h(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return h(e,t)}))}e.exports=u,e.exports.default=u},52779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58421),o=n(88967);t.default=function(e,t){void 0===t&&(t={});var n=0,i=0,a=0;return r.geomEach(e,(function(e,s,l){var c=t.weight?null==l?void 0:l[t.weight]:void 0;if(c=null==c?1:c,!o.isNumber(c))throw new Error("weight value must be a number for feature index "+s);(c=Number(c))>0&&r.coordEach(e,(function(e){n+=e[0]*c,i+=e[1]*c,a+=c}))})),o.point([n/a,i/a],t.properties,t)}},76724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(52779)),i=r(n(9391)),a=r(n(44408)),s=n(88967),l=n(58421);function c(e,t,n,r,o){var a=r.tolerance||.001,u=0,p=0,f=0,d=0;if(l.featureEach(n,(function(t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.weight,o=null==r?1:r;if(o=Number(o),!s.isNumber(o))throw new Error("weight value must be a number");if(o>0){d+=1;var a=o*i.default(t,e);0===a&&(a=1);var l=o/a;u+=t.geometry.coordinates[0]*l,p+=t.geometry.coordinates[1]*l,f+=l}})),d<1)throw new Error("no features to measure");var h=u/f,y=p/f;return 1===d||0===o||Math.abs(h-t[0])<a&&Math.abs(y-t[1])<a?s.point([h,y],{medianCandidates:r.medianCandidates}):(r.medianCandidates.push([h,y]),c([h,y],e,n,r,o-1))}t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!s.isObject(t))throw new Error("options is invalid");var n=t.counter||10;if(!s.isNumber(n))throw new Error("counter must be a number");var r=t.weight,i=o.default(e,{weight:t.weight}),u=s.featureCollection([]);l.featureEach(e,(function(e){var t;u.features.push(a.default(e,{properties:{weight:null===(t=e.properties)||void 0===t?void 0:t[r]}}))}));var p={tolerance:t.tolerance,medianCandidates:[]};return c(i.geometry.coordinates,[0,0],u,p,n)}},56320:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(91207)),i=r(n(44408)),a=n(88967),s=n(78506),l=n(58421);t.default=function e(t,n){switch(void 0===n&&(n={}),s.getType(t)){case"Point":return a.point(s.getCoord(t),n.properties);case"Polygon":var r=[];l.coordEach(t,(function(e){r.push(e)}));var c,u,p,f,d,h,y,g,m=i.default(t,{properties:n.properties}),v=m.geometry.coordinates,b=0,_=0,w=0,P=r.map((function(e){return[e[0]-v[0],e[1]-v[1]]}));for(c=0;c<r.length-1;c++)f=(u=P[c])[0],h=u[1],d=(p=P[c+1])[0],w+=g=f*(y=p[1])-d*h,b+=(f+d)*g,_+=(h+y)*g;if(0===w)return m;var C=1/(.5*w*6);return a.point([v[0]+C*b,v[1]+C*_],n.properties);default:var O=o.default(t);return O?e(O,{properties:n.properties}):i.default(t,{properties:n.properties})}}},66649:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(44383)),i=n(88967);t.default=function(e,t){void 0===t&&(t={});var n=o.default(e),r=(n[0]+n[2])/2,a=(n[1]+n[3])/2;return i.point([r,a],t.properties,t)}},44408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58421),o=n(88967);t.default=function(e,t){void 0===t&&(t={});var n=0,i=0,a=0;return r.coordEach(e,(function(e){n+=e[0],i+=e[1],a++}),!0),o.point([n/a,i/a],t.properties)}},45764:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(24202)),i=n(88967);t.default=function(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,a=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},s=[],l=0;l<r;l++)s.push(o.default(e,t,-360*l/r,n).geometry.coordinates);return s.push(s[0]),i.polygon([s],a)}},22086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);function i(e){var t=o.getCoords(e);if(2===t.length&&!a(t[0],t[1]))return t;var n=[],r=t.length-1,i=n.length;n.push(t[0]);for(var l=1;l<r;l++){var c=n[n.length-1];t[l][0]===c[0]&&t[l][1]===c[1]||(n.push(t[l]),(i=n.length)>2&&s(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(t[t.length-1]),i=n.length,a(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return s(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function a(e,t){return e[0]===t[0]&&e[1]===t[1]}function s(e,t,n){var r=n[0],o=n[1],i=e[0],a=e[1],s=t[0],l=t[1],c=s-i,u=l-a;return 0==(r-i)*u-(o-a)*c&&(Math.abs(c)>=Math.abs(u)?c>0?i<=r&&r<=s:s<=r&&r<=i:u>0?a<=o&&o<=l:l<=o&&o<=a)}t.default=function(e,t){void 0===t&&(t={});var n="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var a=o.getType(e),s=[];switch(a){case"LineString":s=i(e);break;case"MultiLineString":case"Polygon":o.getCoords(e).forEach((function(e){s.push(i(e))}));break;case"MultiPolygon":o.getCoords(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(i(e))})),s.push(t)}));break;case"Point":return e;case"MultiPoint":var l={};o.getCoords(e).forEach((function(e){var t=e.join("-");Object.prototype.hasOwnProperty.call(l,t)||(s.push(e),l[t]=!0)}));break;default:throw new Error(a+" geometry not supported")}return e.coordinates?!0===n?(e.coordinates=s,e):{type:a,coordinates:s}:!0===n?(e.geometry.coordinates=s,e):r.feature({type:a,coordinates:s},e.properties,{bbox:e.bbox,id:e.id})}},53711:(e,t)=>{"use strict";function n(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=r(e.properties),t.geometry=o(e.geometry),t}function r(e){var t={};return e?(Object.keys(e).forEach((function(n){var o=e[n];"object"==typeof o?null===o?t[n]=null:Array.isArray(o)?t[n]=o.map((function(e){return e})):t[n]=r(o):t[n]=o})),t):t}function o(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return o(e)})),t):(t.coordinates=i(e.coordinates),t)}function i(e){var t=e;return"object"!=typeof t[0]?t.slice():t.map((function(e){return i(e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return n(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return n(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return o(e);default:throw new Error("unknown GeoJSON type")}}},68703:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(53711)),i=r(n(9391)),a=n(58421),s=n(88967),l=r(n(36112));t.default=function(e,t,n){void 0===n&&(n={}),!0!==n.mutate&&(e=o.default(e)),n.minPoints=n.minPoints||3;var r=new l.default.DBSCAN,c=r.run(a.coordAll(e),s.convertLength(t,n.units),n.minPoints,i.default),u=-1;return c.forEach((function(t){u++,t.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster=u,n.properties.dbscan="core"}))})),r.noise.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),e}},87521:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(53711)),i=n(58421),a=r(n(61756));t.default=function(e,t){void 0===t&&(t={});var n=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(n/2)),t.numberOfClusters>n&&(t.numberOfClusters=n),!0!==t.mutate&&(e=o.default(e));var r=i.coordAll(e),s=r.slice(0,t.numberOfClusters),l=a.default(r,t.numberOfClusters,s),c={};return l.centroids.forEach((function(e,t){c[t]=e})),i.featureEach(e,(function(e,t){var n=l.idxs[t];e.properties.cluster=n,e.properties.centroid=c[n]})),e}},15943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58421),o=n(88967);function i(e,t,n){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var r=a(e,t),i=Object.keys(r),s=0;s<i.length;s++){for(var l=i[s],c=r[l],u=[],p=0;p<c.length;p++)u.push(e.features[c[p]]);n(o.featureCollection(u),l,s)}}function a(e,t){var n={};return r.featureEach(e,(function(e,r){var o=e.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(t))){var i=o[t];Object.prototype.hasOwnProperty.call(n,i)?n[i].push(r):n[i]=[r]}})),n}function s(e,t){if(void 0===e)return!1;var n=typeof t;if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(!s(e,t[r]))return!1;return!0}return l(e,t)}function l(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];if(e[o]!==t[o])return!1}return!0}t.getCluster=function(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var n=[];return r.featureEach(e,(function(e){s(e.properties,t)&&n.push(e)})),o.featureCollection(n)},t.clusterEach=i,t.clusterReduce=function(e,t,n,r){var o=r;return i(e,t,(function(e,t,i){o=0===i&&void 0===r?e:n(o,e,t,i)})),o},t.createBins=a,t.applyFilter=s,t.propertiesContainsFilter=l,t.filterProperties=function(e,t){if(!t)return{};if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var o=t[r];Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}},41484:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(44383)),i=r(n(82446)),a=r(n(72519));t.default=function(e,t,n,r){var s=a.default(6),l=t.features.map((function(e){var t;return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:null===(t=e.properties)||void 0===t?void 0:t[n]}}));return s.load(l),e.features.forEach((function(e){e.properties||(e.properties={});var t=o.default(e),n=s.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}),a=[];n.forEach((function(t){i.default([t.minX,t.minY],e)&&a.push(t.property)})),e.properties[r]=a})),e}},82583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(58421);t.default=function(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return o.featureEach(e,(function(e){var n,r,o,i;switch(null===(i=e.geometry)||void 0===i?void 0:i.type){case"Point":t.MultiPoint.coordinates.push(e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"MultiPoint":(n=t.MultiPoint.coordinates).push.apply(n,e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"LineString":t.MultiLineString.coordinates.push(e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"MultiLineString":(r=t.MultiLineString.coordinates).push.apply(r,e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties);break;case"MultiPolygon":(o=t.MultiPolygon.coordinates).push.apply(o,e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties)}})),r.featureCollection(Object.keys(t).filter((function(e){return t[e].coordinates.length})).sort().map((function(e){var n={type:e,coordinates:t[e].coordinates},o={collectedProperties:t[e].properties};return r.feature(n,o)})))}},30347:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9391)),i=n(88967),a=n(58421),s=r(n(92141)),l=r(n(28118));t.default=function(e,t){void 0===t&&(t={});var n=t.maxEdge||1/0,r=function(e){var t=[],n={};return a.featureEach(e,(function(e){if(e.geometry){var r=e.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,r)||(t.push(e),n[r]=!0)}})),i.featureCollection(t)}(e),c=s.default(r);if(c.features=c.features.filter((function(e){var r=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],a=e.geometry.coordinates[0][2],s=o.default(r,i,t),l=o.default(i,a,t),c=o.default(r,a,t);return s<=n&&l<=n&&c<=n})),c.features.length<1)return null;var u=l.default(c);return 1===u.coordinates.length&&(u.coordinates=u.coordinates[0],u.type="Polygon"),i.feature(u)}},28118:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(53711)),i=n(88967),a=n(78506),s=n(58421),l=r(n(85335)),c=r(n(9099));t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!i.isObject(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==a.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=o.default(e));var r=function(e){var t={};s.flattenEach(e,(function(e){t[e.geometry.type]=!0}));var n=Object.keys(t);return 1===n.length?n[0]:null}(e);if(!r)throw new Error("geojson must be homogenous");var u=e;switch(r){case"LineString":return l.default(u,t);case"Polygon":return c.default(u,t);default:throw new Error(r+" is not supported")}}},85335:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(53711)),i=n(88967),a=n(78506),s=n(58421);function l(e){return e[0].toString()+","+e[1].toString()}t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!i.isObject(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==a.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=o.default(e));var r=[],c=s.lineReduce(e,(function(e,t){return function(e,t){var n,r=e.geometry.coordinates,o=t.geometry.coordinates,a=l(r[0]),s=l(r[r.length-1]),c=l(o[0]),u=l(o[o.length-1]);if(a===u)n=o.concat(r.slice(1));else if(c===s)n=r.concat(o.slice(1));else if(a===c)n=r.slice(1).reverse().concat(o);else{if(s!==u)return null;n=r.concat(o.reverse().slice(1))}return i.lineString(n)}(e,t)||(r.push(e),t)}));return c&&r.push(c),r.length?1===r.length?r[0]:i.multiLineString(r.map((function(e){return e.coordinates}))):null}},9099:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(53711)),i=n(88967),a=n(78506),s=n(58421),l=n(85681),c=n(16888);t.default=function(e,t){if(void 0===t&&(t={}),"FeatureCollection"!==a.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==t.mutate&&void 0!==t.mutate||(e=o.default(e));var n=[];s.flattenEach(e,(function(e){n.push(e.geometry)}));var r=c.topology({geoms:i.geometryCollection(n).geometry});return l.merge(r,r.objects.geoms.geometries)}},91207:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88967),i=n(58421),a=r(n(71582));t.default=function(e,t){void 0===t&&(t={}),t.concavity=t.concavity||1/0;var n=[];if(i.coordEach(e,(function(e){n.push([e[0],e[1]])})),!n.length)return null;var r=a.default(n,t.concavity);return r.length>3?o.polygon([r]):null}},24202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);t.default=function(e,t,n,i){void 0===i&&(i={});var a=o.getCoord(e),s=r.degreesToRadians(a[0]),l=r.degreesToRadians(a[1]),c=r.degreesToRadians(n),u=r.lengthToRadians(t,i.units),p=Math.asin(Math.sin(l)*Math.cos(u)+Math.cos(l)*Math.sin(u)*Math.cos(c)),f=s+Math.atan2(Math.sin(c)*Math.sin(u)*Math.cos(l),Math.cos(u)-Math.sin(l)*Math.sin(p)),d=r.radiansToDegrees(f),h=r.radiansToDegrees(p);return r.point([d,h],i.properties)}},74927:(e,t,n)=>{"use strict";var r=n(59004),o=n(88967),i=n(78506);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r);function l(e,t){var n=i.getGeom(e),r=i.getGeom(t),a=e.properties||{},l=s.default.difference(n.coordinates,r.coordinates);return 0===l.length?null:1===l.length?o.polygon(l[0],a):o.multiPolygon(l,a)}e.exports=l,e.exports.default=l},27095:(e,t,n)=>{"use strict";var r=n(88967),o=n(78506),i=n(58421),a=n(4036),s=n(59004);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(a),u=l(s);function p(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n=t.propertyName;o.collectionOf(e,"Polygon","dissolve");var a=[];if(!t.propertyName)return c.default(r.multiPolygon(u.default.union.apply(null,e.features.map((function(e){return e.geometry.coordinates})))));var s={};i.featureEach(e,(function(e){Object.prototype.hasOwnProperty.call(s,e.properties[n])||(s[e.properties[n]]=[]),s[e.properties[n]].push(e)}));for(var l=Object.keys(s),p=0;p<l.length;p++){var f=r.multiPolygon(u.default.union.apply(null,s[l[p]].map((function(e){return e.geometry.coordinates}))));f.properties[n]=l[p],a.push(f)}return c.default(r.featureCollection(a))}e.exports=p,e.exports.default=p},17484:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(44408)),i=n(78506),a=n(58421);function s(e,t,n){void 0===n&&(n=2);var r=i.getCoord(e),o=i.getCoord(t),a=r[0]-o[0],s=r[1]-o[1];return 1===n?Math.abs(a)+Math.abs(s):Math.pow(Math.pow(a,n)+Math.pow(s,n),1/n)}t.pNormDistance=s,t.default=function(e,t){var n=(t=t||{}).threshold||1e4,r=t.p||2,i=t.binary||!1,l=t.alpha||-1,c=t.standardization||!1,u=[];a.featureEach(e,(function(e){u.push(o.default(e))}));for(var p=[],f=0;f<u.length;f++)p[f]=[];for(f=0;f<u.length;f++)for(var d=f;d<u.length;d++){f===d&&(p[f][d]=0);var h=s(u[f],u[d],r);p[f][d]=h,p[d][f]=h}for(f=0;f<u.length;f++)for(d=0;d<u.length;d++)0!==(h=p[f][d])&&(p[f][d]=i?h<=n?1:0:h<=n?Math.pow(h,l):0);if(c)for(f=0;f<u.length;f++){var y=p[f].reduce((function(e,t){return e+t}),0);for(d=0;d<u.length;d++)p[f][d]=p[f][d]/y}return p}},9391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78506),o=n(88967);t.default=function(e,t,n){void 0===n&&(n={});var i=r.getCoord(e),a=r.getCoord(t),s=o.degreesToRadians(a[1]-i[1]),l=o.degreesToRadians(a[0]-i[0]),c=o.degreesToRadians(i[1]),u=o.degreesToRadians(a[1]),p=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(u);return o.radiansToLength(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),n.units)}},17420:(e,t,n)=>{"use strict";var r=n(88967),o=n(37153),i=n(87948),a=n(78506);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(o),c=s(i);function u(e,t,n,o){var i=(o=o||{}).steps||64,s=o.units||"kilometers",u=o.angle||0,f=o.pivot||e,d=o.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!r.isObject(o))throw new Error("options must be an object");if(!r.isNumber(i))throw new Error("steps must be a number");if(!r.isNumber(u))throw new Error("angle must be a number");var h=a.getCoord(e);if("degrees"===s)var y=r.degreesToRadians(u);else t=l.default(e,t,90,{units:s}),n=l.default(e,n,0,{units:s}),t=a.getCoord(t)[0]-h[0],n=a.getCoord(n)[1]-h[1];for(var g=[],m=0;m<i;m+=1){var v=-360*m/i,b=t*n/Math.sqrt(Math.pow(n,2)+Math.pow(t,2)*Math.pow(p(v),2)),_=t*n/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)/Math.pow(p(v),2));if(v<-90&&v>=-270&&(b=-b),v<-180&&v>=-360&&(_=-_),"degrees"===s){var w=b*Math.cos(y)+_*Math.sin(y),P=_*Math.cos(y)-b*Math.sin(y);b=w,_=P}g.push([b+h[0],_+h[1]])}return g.push(g[0]),"degrees"===s?r.polygon([g],d):c.default(r.polygon([g],d),u,{pivot:f})}function p(e){var t=e*Math.PI/180;return Math.tan(t)}e.exports=u,e.exports.default=u},2120:(e,t,n)=>{"use strict";var r=n(44383),o=n(13932);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(r),s=i(o);function l(e){return s.default(a.default(e))}e.exports=l,e.exports.default=l},83707:(e,t,n)=>{"use strict";var r=n(58421),o=n(88967);function i(e){var t=[];return"FeatureCollection"===e.type?r.featureEach(e,(function(e){r.coordEach(e,(function(n){t.push(o.point(n,e.properties))}))})):r.coordEach(e,(function(n){t.push(o.point(n,e.properties))})),o.featureCollection(t)}e.exports=i,e.exports.default=i},4036:(e,t,n)=>{"use strict";var r=n(58421),o=n(88967);function i(e){if(!e)throw new Error("geojson is required");var t=[];return r.flattenEach(e,(function(e){t.push(e)})),o.featureCollection(t)}e.exports=i,e.exports.default=i},79387:(e,t,n)=>{"use strict";var r=n(58421),o=n(88967);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n(53711));function s(e,t){if(t=t||{},!o.isObject(t))throw new Error("options is invalid");var n=t.mutate;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=a.default(e)),r.coordEach(e,(function(e){var t=e[0],n=e[1];e[0]=n,e[1]=t})),e}e.exports=s,e.exports.default=s},22352:(e,t,n)=>{"use strict";var r=n(78506),o=Math.PI/180,i=180/Math.PI,a=function(e,t){this.lon=e,this.lat=t,this.x=o*e,this.y=o*t};a.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},a.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new a(t,e)};var s=function(){this.coords=[],this.length=0};s.prototype.move_to=function(e){this.length++,this.coords.push(e)};var l=function(e){this.properties=e||{},this.geometries=[]};l.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},l.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var c=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new a(e.x,e.y),this.end=new a(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};function u(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var o=n.properties,i=n.npoints,a=n.offset;return e=r.getCoord(e),t=r.getCoord(t),o=o||{},i=i||100,a=a||10,new c({x:e[0],y:e[1]},{x:t[0],y:t[1]},o).Arc(i,{offset:a}).json()}c.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),a=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=i*Math.atan2(a,Math.sqrt(Math.pow(r,2)+Math.pow(o,2)));return[i*Math.atan2(o,r),s]},c.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),o=0;o<e;++o){var i=r*o,a=this.interpolate(i);n.push(a)}for(var c=!1,u=0,p=t&&t.offset?t.offset:10,f=180-p,d=-180+p,h=360-p,y=1;y<n.length;++y){var g=n[y-1][0],m=n[y][0],v=Math.abs(m-g);v>h&&(m>f&&g<d||g>f&&m<d)?c=!0:v>u&&(u=v)}var b=[];if(c&&u<p){var _=[];b.push(_);for(var w=0;w<n.length;++w){var P=parseFloat(n[w][0]);if(w>0&&Math.abs(P-n[w-1][0])>h){var C=parseFloat(n[w-1][0]),O=parseFloat(n[w-1][1]),x=parseFloat(n[w][0]),S=parseFloat(n[w][1]);if(C>-180&&C<d&&180===x&&w+1<n.length&&n[w-1][0]>-180&&n[w-1][0]<d){_.push([-180,n[w][1]]),w++,_.push([n[w][0],n[w][1]]);continue}if(C>f&&C<180&&-180===x&&w+1<n.length&&n[w-1][0]>f&&n[w-1][0]<180){_.push([180,n[w][1]]),w++,_.push([n[w][0],n[w][1]]);continue}if(C<d&&x>f){var E=C;C=x,x=E;var j=O;O=S,S=j}if(C>f&&x<d&&(x+=360),C<=180&&x>=180&&C<x){var T=(180-C)/(x-C),M=T*S+(1-T)*O;_.push([n[w-1][0]>f?180:-180,M]),(_=[]).push([n[w-1][0]>f?-180:180,M]),b.push(_)}else _=[],b.push(_);_.push([P,n[w][1]])}else _.push([n[w][0],n[w][1]])}}else{var A=[];b.push(A);for(var I=0;I<n.length;++I)A.push([n[I][0],n[I][1]])}for(var z=new l(this.properties),D=0;D<b.length;++D){var N=new s;z.geometries.push(N);for(var R=b[D],k=0;k<R.length;++k)N.move_to(R[k])}return z},e.exports=u,e.exports.default=u},88967:(e,t)=>{"use strict";function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function o(e,t,r){void 0===r&&(r={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function i(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function c(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function u(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function p(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function f(e){return e%(2*Math.PI)*180/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return r(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return l(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return c(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=o,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.lineString=i,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=l,t.multiPolygon=c,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=u,t.lengthToRadians=p,t.lengthToDegrees=function(e,t){return f(p(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=f,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return u(p(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[n];if(!o)throw new Error("invalid original units");var i=t.areaFactors[r];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},7564:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9391)),i=r(n(49627)),a=n(88967);function s(e,t,n,r,o,i){for(var s=[],l=0;l<6;l++){var c=e[0]+t*o[l],u=e[1]+n*i[l];s.push([c,u])}return s.push(s[0].slice()),a.polygon([s],r)}function l(e,t,n,r,o,i){for(var s=[],l=0;l<6;l++){var c=[];c.push(e),c.push([e[0]+t*o[l],e[1]+n*i[l]]),c.push([e[0]+t*o[(l+1)%6],e[1]+n*i[(l+1)%6]]),c.push(e),s.push(a.polygon([c],r))}return s}t.default=function(e,t,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),c=e[0],u=e[1],p=e[2],f=e[3],d=(u+f)/2,h=(c+p)/2,y=2*t/o.default([c,d],[p,d],n)*(p-c),g=2*t/o.default([h,u],[h,f],n)*(f-u),m=y/2,v=2*m,b=Math.sqrt(3)/2*g,_=p-c,w=f-u,P=3/4*v,C=b,O=(_-v)/(v-m/2),x=Math.floor(O),S=(x*P-m/2-_)/2-m/2+P/2,E=Math.floor((w-b)/b),j=(w-E*b)/2,T=E*b-w>b/2;T&&(j-=b/4);for(var M=[],A=[],I=0;I<6;I++){var z=2*Math.PI/6*I;M.push(Math.cos(z)),A.push(Math.sin(z))}for(var D=[],N=0;N<=x;N++)for(var R=0;R<=E;R++){var k=N%2==1;if(!(0===R&&k||0===R&&T)){var L=N*P+c-S,F=R*C+u+j;if(k&&(F-=b/2),!0===n.triangles)l([L,F],y/2,g/2,JSON.parse(r),M,A).forEach((function(e){n.mask?i.default(n.mask,e)&&D.push(e):D.push(e)}));else{var B=s([L,F],y/2,g/2,JSON.parse(r),M,A);n.mask?i.default(n.mask,B)&&D.push(B):D.push(B)}}}return a.featureCollection(D)}},49933:(e,t,n)=>{"use strict";var r=n(44383),o=n(7564),i=n(7497),a=n(9391),s=n(44408),l=n(24512),c=n(49269),u=n(53711),p=n(88967),f=n(58421),d=n(78506);function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var y=h(r),g=h(o),m=h(i),v=h(a),b=h(s),_=h(l),w=h(c),P=h(u);function C(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,o=n.property,i=n.weight;if(!e)throw new Error("points is required");if(d.collectionOf(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==i&&"number"!=typeof i)throw new Error("weight must be a number");o=o||"elevation",r=r||"square",i=i||1;var a,s=y.default(e);switch(r){case"point":case"points":a=m.default(s,t,n);break;case"square":case"squares":a=_.default(s,t,n);break;case"hex":case"hexes":a=g.default(s,t,n);break;case"triangle":case"triangles":a=w.default(s,t,n);break;default:throw new Error("invalid gridType")}var l=[];return f.featureEach(a,(function(t){var a=0,s=0;f.featureEach(e,(function(e){var l,c="point"===r?t:b.default(t),u=v.default(c,e,n);if(void 0!==o&&(l=e.properties[o]),void 0===l&&(l=e.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(a=l);var p=1/Math.pow(u,i);s+=p,a+=p*l}));var c=P.default(t);c.properties[o]=a/s,l.push(c)})),p.featureCollection(l)}e.exports=C,e.exports.default=C},49627:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88967),i=n(78506),a=r(n(59004));t.default=function(e,t,n){void 0===n&&(n={});var r=i.getGeom(e),s=i.getGeom(t),l=a.default.intersection(r.coordinates,s.coordinates);return 0===l.length?null:1===l.length?o.polygon(l[0],n.properties):o.multiPolygon(l,n.properties)}},78506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&r.isNumber(t[0])&&r.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,o=e.features;r<o.length;r++){var i=o[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},71279:(e,t,n)=>{"use strict";var r=n(44383),o=n(17849),i=n(82446),a=n(83707),s=n(78506),l=n(88967),c=n(45228),u=n(58421);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(r),d=p(o),h=p(i),y=p(a),g=p(c);var m={successCallback:null,verbose:!1,polygons:!1},v={};function b(e,t,n,r){r=r||{};for(var o=Object.keys(m),i=0;i<o.length;i++){var a=o[i],s=r[a];s=null!=s?s:m[a],v[a]=s}v.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n)+"]");var l,c=function(e,t,n){for(var r=e.length-1,o=e[0].length-1,i={rows:r,cols:o,cells:[]},a=t+Math.abs(n),s=0;s<r;++s){i.cells[s]=[];for(var l=0;l<o;++l){var c=0,u=e[s+1][l],p=e[s+1][l+1],f=e[s][l+1],d=e[s][l];if(!(isNaN(u)||isNaN(p)||isNaN(f)||isNaN(d))){c|=u<t?0:u>a?128:64,c|=p<t?0:p>a?32:16,c|=f<t?0:f>a?8:4;var h=+(c|=d<t?0:d>a?2:1),y=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var g=(u+p+f+d)/4;y=g>a?2:g<t?0:1,34===c?1===y?c=35:0===y&&(c=136):136===c?1===y?(c=35,y=4):0===y&&(c=34):17===c?1===y?(c=155,y=4):0===y&&(c=153):68===c?1===y?(c=103,y=4):0===y&&(c=102):153===c?1===y&&(c=155):102===c?1===y&&(c=103):152===c?y<2&&(c=156,y=1):137===c?y<2&&(c=139,y=1):98===c?y<2&&(c=99,y=1):38===c?y<2&&(c=39,y=1):18===c?y>0?(c=156,y=4):c=152:33===c?y>0?(c=139,y=4):c=137:72===c?y>0?(c=99,y=4):c=98:132===c&&(y>0?(c=39,y=4):c=38)}if(0!=c&&170!=c){var m,v,b,_,w,P,C,O;m=v=b=_=w=P=C=O=.5;var x=[];1===c?(b=1-pe(t,f,d),O=1-pe(t,u,d),x.push(ie[c])):169===c?(b=pe(a,d,f),O=pe(a,d,u),x.push(ie[c])):4===c?(P=1-pe(t,p,f),_=pe(t,d,f),x.push(re[c])):166===c?(P=pe(a,f,p),_=1-pe(a,f,d),x.push(re[c])):16===c?(w=pe(t,f,p),v=pe(t,u,p),x.push(ne[c])):154===c?(w=1-pe(a,p,f),v=1-pe(a,p,u),x.push(ne[c])):64===c?(C=pe(t,d,u),m=1-pe(t,p,u),x.push(se[c])):106===c?(C=1-pe(a,u,d),m=pe(a,u,p),x.push(se[c])):168===c?(_=pe(a,d,f),b=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),x.push(oe[c]),x.push(ie[c])):2===c?(_=1-pe(t,f,d),b=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),x.push(oe[c]),x.push(ie[c])):162===c?(w=pe(a,f,p),P=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),x.push(oe[c]),x.push(ie[c])):8===c?(w=1-pe(t,p,f),P=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),x.push(ne[c]),x.push(re[c])):138===c?(w=1-pe(t,p,f),P=1-pe(a,p,f),m=1-pe(a,p,u),v=1-pe(t,p,u),x.push(ne[c]),x.push(re[c])):32===c?(w=pe(a,f,p),P=pe(t,f,p),m=pe(t,u,p),v=pe(a,u,p),x.push(ne[c]),x.push(re[c])):42===c?(O=1-pe(a,u,d),C=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p),x.push(ae[c]),x.push(se[c])):128===c&&(O=pe(t,d,u),C=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u),x.push(ae[c]),x.push(se[c])),5===c?(P=1-pe(t,p,f),O=1-pe(t,u,d),x.push(re[c])):165===c?(P=pe(a,f,p),O=pe(a,d,u),x.push(re[c])):20===c?(_=pe(t,d,f),v=pe(t,u,p),x.push(oe[c])):150===c?(_=1-pe(a,f,d),v=1-pe(a,p,u),x.push(oe[c])):80===c?(w=pe(t,f,p),C=pe(t,d,u),x.push(ne[c])):90===c?(w=1-pe(a,p,f),C=1-pe(a,u,d),x.push(ne[c])):65===c?(b=1-pe(t,f,d),m=1-pe(t,p,u),x.push(ie[c])):105===c?(b=pe(a,d,f),m=pe(a,u,p),x.push(ie[c])):160===c?(w=pe(a,f,p),P=pe(t,f,p),O=pe(t,d,u),C=pe(a,d,u),x.push(ne[c]),x.push(re[c])):10===c?(w=1-pe(t,p,f),P=1-pe(a,p,f),O=1-pe(a,u,d),C=1-pe(t,u,d),x.push(ne[c]),x.push(re[c])):130===c?(_=1-pe(t,f,d),b=1-pe(a,f,d),m=1-pe(a,p,u),v=1-pe(t,p,u),x.push(oe[c]),x.push(ie[c])):40===c?(_=pe(a,d,f),b=pe(t,d,f),m=pe(t,u,p),v=pe(a,u,p),x.push(oe[c]),x.push(ie[c])):101===c?(P=pe(a,f,p),m=pe(a,u,p),x.push(re[c])):69===c?(P=1-pe(t,p,f),m=1-pe(t,p,u),x.push(re[c])):149===c?(O=pe(a,d,u),v=1-pe(a,p,u),x.push(ae[c])):21===c?(O=1-pe(t,u,d),v=pe(t,u,p),x.push(ae[c])):86===c?(_=1-pe(a,f,d),C=1-pe(a,u,d),x.push(oe[c])):84===c?(_=pe(t,d,f),C=pe(t,d,u),x.push(oe[c])):89===c?(w=1-pe(a,p,f),b=pe(a,d,f),x.push(ie[c])):81===c?(w=pe(t,f,p),b=1-pe(t,f,d),x.push(ie[c])):96===c?(w=pe(a,f,p),P=pe(t,f,p),C=pe(t,d,u),m=pe(a,u,p),x.push(ne[c]),x.push(re[c])):74===c?(w=1-pe(t,p,f),P=1-pe(a,p,f),C=1-pe(a,u,d),m=1-pe(t,p,u),x.push(ne[c]),x.push(re[c])):24===c?(w=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),v=pe(t,u,p),x.push(ne[c]),x.push(ie[c])):146===c?(w=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),v=1-pe(a,p,u),x.push(ne[c]),x.push(ie[c])):6===c?(P=1-pe(t,p,f),_=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),x.push(re[c]),x.push(oe[c])):164===c?(P=pe(a,f,p),_=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),x.push(re[c]),x.push(oe[c])):129===c?(b=1-pe(t,f,d),O=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u),x.push(ie[c]),x.push(ae[c])):41===c?(b=pe(a,d,f),O=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p),x.push(ie[c]),x.push(ae[c])):66===c?(_=1-pe(t,f,d),b=1-pe(a,f,d),C=1-pe(a,u,d),m=1-pe(t,p,u),x.push(oe[c]),x.push(ie[c])):104===c?(_=pe(a,d,f),b=pe(t,d,f),C=pe(t,d,u),m=pe(a,u,p),x.push(ie[c]),x.push(le[c])):144===c?(w=pe(t,f,p),O=pe(t,d,u),C=pe(a,d,u),v=1-pe(a,p,u),x.push(ne[c]),x.push(se[c])):26===c?(w=1-pe(a,p,f),O=1-pe(a,u,d),C=1-pe(t,u,d),v=pe(t,u,p),x.push(ne[c]),x.push(se[c])):36===c?(P=pe(a,f,p),_=pe(t,d,f),m=pe(t,u,p),v=pe(a,u,p),x.push(re[c]),x.push(oe[c])):134===c?(P=1-pe(t,p,f),_=1-pe(a,f,d),m=1-pe(a,p,u),v=1-pe(t,p,u),x.push(re[c]),x.push(oe[c])):9===c?(w=1-pe(t,p,f),P=1-pe(a,p,f),b=pe(a,d,f),O=1-pe(t,u,d),x.push(ne[c]),x.push(re[c])):161===c?(w=pe(a,f,p),P=pe(t,f,p),b=1-pe(t,f,d),O=pe(a,d,u),x.push(ne[c]),x.push(re[c])):37===c?(P=pe(a,f,p),O=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p),x.push(re[c]),x.push(ae[c])):133===c?(P=1-pe(t,p,f),O=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u),x.push(re[c]),x.push(ae[c])):148===c?(_=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),v=1-pe(a,p,u),x.push(oe[c]),x.push(se[c])):22===c?(_=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),v=pe(t,u,p),x.push(oe[c]),x.push(se[c])):82===c?(w=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),C=1-pe(a,u,d),x.push(ne[c]),x.push(ie[c])):88===c?(w=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),C=pe(t,d,u),x.push(ne[c]),x.push(ie[c])):73===c?(w=1-pe(t,p,f),P=1-pe(a,p,f),b=pe(a,d,f),m=1-pe(t,p,u),x.push(ne[c]),x.push(re[c])):97===c?(w=pe(a,f,p),P=pe(t,f,p),b=1-pe(t,f,d),m=pe(a,u,p),x.push(ne[c]),x.push(re[c])):145===c?(w=pe(t,f,p),b=1-pe(t,f,d),O=pe(a,d,u),v=1-pe(a,p,u),x.push(ne[c]),x.push(ae[c])):25===c?(w=1-pe(a,p,f),b=pe(a,d,f),O=1-pe(t,u,d),v=pe(t,u,p),x.push(ne[c]),x.push(ae[c])):70===c?(P=1-pe(t,p,f),_=1-pe(a,f,d),C=1-pe(a,u,d),m=1-pe(t,p,u),x.push(re[c]),x.push(oe[c])):100===c?(P=pe(a,f,p),_=pe(t,d,f),C=pe(t,d,u),m=pe(a,u,p),x.push(re[c]),x.push(oe[c])):34===c?(0===y?(w=1-pe(t,p,f),P=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)):(w=pe(a,f,p),P=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)),x.push(ne[c]),x.push(re[c]),x.push(ae[c]),x.push(se[c])):35===c?(4===y?(w=1-pe(t,p,f),P=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)):(w=pe(a,f,p),P=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)),x.push(ne[c]),x.push(re[c]),x.push(ie[c]),x.push(se[c])):136===c?(0===y?(w=pe(a,f,p),P=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)):(w=1-pe(t,p,f),P=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)),x.push(ne[c]),x.push(re[c]),x.push(ae[c]),x.push(se[c])):153===c?(0===y?(w=pe(t,f,p),b=1-pe(t,f,d),O=1-pe(t,u,d),v=pe(t,u,p)):(w=1-pe(a,p,f),b=pe(a,d,f),O=pe(a,d,u),v=1-pe(a,p,u)),x.push(ne[c]),x.push(ie[c])):102===c?(0===y?(P=1-pe(t,p,f),_=pe(t,d,f),C=pe(t,d,u),m=1-pe(t,p,u)):(P=pe(a,f,p),_=1-pe(a,f,d),C=1-pe(a,u,d),m=pe(a,u,p)),x.push(re[c]),x.push(se[c])):155===c?(4===y?(w=pe(t,f,p),b=1-pe(t,f,d),O=1-pe(t,u,d),v=pe(t,u,p)):(w=1-pe(a,p,f),b=pe(a,d,f),O=pe(a,d,u),v=1-pe(a,p,u)),x.push(ne[c]),x.push(ae[c])):103===c?(4===y?(P=1-pe(t,p,f),_=pe(t,d,f),C=pe(t,d,u),m=1-pe(t,p,u)):(P=pe(a,f,p),_=1-pe(a,f,d),C=1-pe(a,u,d),m=pe(a,u,p)),x.push(re[c]),x.push(oe[c])):152===c?(0===y?(w=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),v=pe(t,u,p)):(w=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),v=1-pe(a,p,u)),x.push(ne[c]),x.push(oe[c]),x.push(ie[c])):156===c?(4===y?(w=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),v=pe(t,u,p)):(w=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),v=1-pe(a,p,u)),x.push(ne[c]),x.push(ie[c]),x.push(se[c])):137===c?(0===y?(w=pe(a,f,p),P=pe(t,f,p),b=1-pe(t,f,d),O=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)):(w=1-pe(t,p,f),P=1-pe(a,p,f),b=pe(a,d,f),O=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)),x.push(ne[c]),x.push(re[c]),x.push(ie[c])):139===c?(4===y?(w=pe(a,f,p),P=pe(t,f,p),b=1-pe(t,f,d),O=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)):(w=1-pe(t,p,f),P=1-pe(a,p,f),b=pe(a,d,f),O=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)),x.push(ne[c]),x.push(re[c]),x.push(ae[c])):98===c?(0===y?(w=1-pe(t,p,f),P=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),C=pe(t,d,u),m=1-pe(t,p,u)):(w=pe(a,f,p),P=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),C=1-pe(a,u,d),m=pe(a,u,p)),x.push(ne[c]),x.push(re[c]),x.push(se[c])):99===c?(4===y?(w=1-pe(t,p,f),P=1-pe(a,p,f),_=pe(a,d,f),b=pe(t,d,f),C=pe(t,d,u),m=1-pe(t,p,u)):(w=pe(a,f,p),P=pe(t,f,p),_=1-pe(t,f,d),b=1-pe(a,f,d),C=1-pe(a,u,d),m=pe(a,u,p)),x.push(ne[c]),x.push(re[c]),x.push(ie[c])):38===c?(0===y?(P=1-pe(t,p,f),_=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)):(P=pe(a,f,p),_=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)),x.push(re[c]),x.push(ae[c]),x.push(se[c])):39===c?(4===y?(P=1-pe(t,p,f),_=pe(t,d,f),O=pe(t,d,u),C=pe(a,d,u),m=1-pe(a,p,u),v=1-pe(t,p,u)):(P=pe(a,f,p),_=1-pe(a,f,d),O=1-pe(a,u,d),C=1-pe(t,u,d),m=pe(t,u,p),v=pe(a,u,p)),x.push(re[c]),x.push(oe[c]),x.push(se[c])):85===c&&(w=1,P=0,_=1,b=0,O=0,C=1,m=0,v=1),(m<0||m>1||v<0||v>1||w<0||w>1||_<0||_>1||O<0||O>1||C<0||C>1)&&console.log("MarchingSquaresJS-isoBands: "+c+" "+h+" "+u+","+p+","+f+","+d+" "+y+" "+m+" "+v+" "+w+" "+P+" "+_+" "+b+" "+O+" "+C),i.cells[s][l]={cval:c,cval_real:h,flipped:y,topleft:m,topright:v,righttop:w,rightbottom:P,bottomright:_,bottomleft:b,leftbottom:O,lefttop:C,edges:x}}}}}return i}(e,t,n);return v.polygons?(v.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(e){var t=[],n=0;return e.cells.forEach((function(e,r){e.forEach((function(e,o){if(void 0!==e){var i=ue[e.cval](e);"object"==typeof i&&fe(i)?"object"==typeof i[0]&&fe(i[0])?"object"==typeof i[0][0]&&fe(i[0][0])?i.forEach((function(e){e.forEach((function(e){e[0]+=o,e[1]+=r})),t[n++]=e})):(i.forEach((function(e){e[0]+=o,e[1]+=r})),t[n++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),t}(c)):(v.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(e){for(var t=[],n=e.rows,r=e.cols,o=[],i=0;i<n;i++)for(var a=0;a<r;a++)if(void 0!==e.cells[i][a]&&e.cells[i][a].edges.length>0){var s=he(e.cells[i][a]),l=null,c=a,u=i;null!==s&&o.push([s.p[0]+c,s.p[1]+u]);do{if(null===(l=ye(e.cells[u][c],s.x,s.y,s.o)))break;if(o.push([l.p[0]+c,l.p[1]+u]),c+=l.x,s=l,(u+=l.y)<0||u>=n||c<0||c>=r||void 0===e.cells[u][c]){var p=de(e,c-=l.x,u-=l.y,l.x,l.y,l.o);if(null===p)break;p.path.forEach((function(e){o.push(e)})),c=p.i,u=p.j,s=p}}while(void 0!==e.cells[u][c]&&e.cells[u][c].edges.length>0);t.push(o),o=[],e.cells[i][a].edges.length>0&&a--}return t}(c)),"function"==typeof v.successCallback&&v.successCallback(l),l}var _=64,w=16,P=4,C=1,O=[],x=[],S=[],E=[],j=[],T=[],M=[],A=[],I=[],z=[],D=[],N=[],R=[],k=[],L=[],F=[],B=[],V=[],G=[],U=[],W=[],H=[],J=[],q=[];M[85]=z[85]=-1,A[85]=D[85]=0,I[85]=N[85]=1,G[85]=H[85]=1,U[85]=J[85]=0,W[85]=q[85]=1,O[85]=E[85]=0,x[85]=j[85]=-1,S[85]=L[85]=0,F[85]=R[85]=0,B[85]=k[85]=1,T[85]=V[85]=1,H[1]=H[169]=0,J[1]=J[169]=-1,q[1]=q[169]=0,R[1]=R[169]=-1,k[1]=k[169]=0,L[1]=L[169]=0,z[4]=z[166]=0,D[4]=D[166]=-1,N[4]=N[166]=1,F[4]=F[166]=1,B[4]=B[166]=0,V[4]=V[166]=0,M[16]=M[154]=0,A[16]=A[154]=1,I[16]=I[154]=1,E[16]=E[154]=1,j[16]=j[154]=0,T[16]=T[154]=1,G[64]=G[106]=0,U[64]=U[106]=1,W[64]=W[106]=0,O[64]=O[106]=-1,x[64]=x[106]=0,S[64]=S[106]=1,G[2]=G[168]=0,U[2]=U[168]=-1,W[2]=W[168]=1,H[2]=H[168]=0,J[2]=J[168]=-1,q[2]=q[168]=0,R[2]=R[168]=-1,k[2]=k[168]=0,L[2]=L[168]=0,F[2]=F[168]=-1,B[2]=B[168]=0,V[2]=V[168]=1,M[8]=M[162]=0,A[8]=A[162]=-1,I[8]=I[162]=0,z[8]=z[162]=0,D[8]=D[162]=-1,N[8]=N[162]=1,R[8]=R[162]=1,k[8]=k[162]=0,L[8]=L[162]=1,F[8]=F[162]=1,B[8]=B[162]=0,V[8]=V[162]=0,M[32]=M[138]=0,A[32]=A[138]=1,I[32]=I[138]=1,z[32]=z[138]=0,D[32]=D[138]=1,N[32]=N[138]=0,O[32]=O[138]=1,x[32]=x[138]=0,S[32]=S[138]=0,E[32]=E[138]=1,j[32]=j[138]=0,T[32]=T[138]=1,H[128]=H[42]=0,J[128]=J[42]=1,q[128]=q[42]=1,G[128]=G[42]=0,U[128]=U[42]=1,W[128]=W[42]=0,O[128]=O[42]=-1,x[128]=x[42]=0,S[128]=S[42]=1,E[128]=E[42]=-1,j[128]=j[42]=0,T[128]=T[42]=0,z[5]=z[165]=-1,D[5]=D[165]=0,N[5]=N[165]=0,H[5]=H[165]=1,J[5]=J[165]=0,q[5]=q[165]=0,F[20]=F[150]=0,B[20]=B[150]=1,V[20]=V[150]=1,E[20]=E[150]=0,j[20]=j[150]=-1,T[20]=T[150]=1,M[80]=M[90]=-1,A[80]=A[90]=0,I[80]=I[90]=1,G[80]=G[90]=1,U[80]=U[90]=0,W[80]=W[90]=1,R[65]=R[105]=0,k[65]=k[105]=1,L[65]=L[105]=0,O[65]=O[105]=0,x[65]=x[105]=-1,S[65]=S[105]=0,M[160]=M[10]=-1,A[160]=A[10]=0,I[160]=I[10]=1,z[160]=z[10]=-1,D[160]=D[10]=0,N[160]=N[10]=0,H[160]=H[10]=1,J[160]=J[10]=0,q[160]=q[10]=0,G[160]=G[10]=1,U[160]=U[10]=0,W[160]=W[10]=1,F[130]=F[40]=0,B[130]=B[40]=1,V[130]=V[40]=1,R[130]=R[40]=0,k[130]=k[40]=1,L[130]=L[40]=0,O[130]=O[40]=0,x[130]=x[40]=-1,S[130]=S[40]=0,E[130]=E[40]=0,j[130]=j[40]=-1,T[130]=T[40]=1,z[37]=z[133]=0,D[37]=D[133]=1,N[37]=N[133]=1,H[37]=H[133]=0,J[37]=J[133]=1,q[37]=q[133]=0,O[37]=O[133]=-1,x[37]=x[133]=0,S[37]=S[133]=0,E[37]=E[133]=1,j[37]=j[133]=0,T[37]=T[133]=0,F[148]=F[22]=-1,B[148]=B[22]=0,V[148]=V[22]=0,H[148]=H[22]=0,J[148]=J[22]=-1,q[148]=q[22]=1,G[148]=G[22]=0,U[148]=U[22]=1,W[148]=W[22]=1,E[148]=E[22]=-1,j[148]=j[22]=0,T[148]=T[22]=1,M[82]=M[88]=0,A[82]=A[88]=-1,I[82]=I[88]=1,F[82]=F[88]=1,B[82]=B[88]=0,V[82]=V[88]=1,R[82]=R[88]=-1,k[82]=k[88]=0,L[82]=L[88]=1,G[82]=G[88]=0,U[82]=U[88]=-1,W[82]=W[88]=0,M[73]=M[97]=0,A[73]=A[97]=1,I[73]=I[97]=0,z[73]=z[97]=0,D[73]=D[97]=-1,N[73]=N[97]=0,R[73]=R[97]=1,k[73]=k[97]=0,L[73]=L[97]=0,O[73]=O[97]=1,x[73]=x[97]=0,S[73]=S[97]=1,M[145]=M[25]=0,A[145]=A[25]=-1,I[145]=I[25]=0,R[145]=R[25]=1,k[145]=k[25]=0,L[145]=L[25]=1,H[145]=H[25]=0,J[145]=J[25]=1,q[145]=q[25]=1,E[145]=E[25]=-1,j[145]=j[25]=0,T[145]=T[25]=0,z[70]=z[100]=0,D[70]=D[100]=1,N[70]=N[100]=0,F[70]=F[100]=-1,B[70]=B[100]=0,V[70]=V[100]=1,G[70]=G[100]=0,U[70]=U[100]=-1,W[70]=W[100]=1,O[70]=O[100]=1,x[70]=x[100]=0,S[70]=S[100]=0,z[101]=z[69]=0,D[101]=D[69]=1,N[101]=N[69]=0,O[101]=O[69]=1,x[101]=x[69]=0,S[101]=S[69]=0,H[149]=H[21]=0,J[149]=J[21]=1,q[149]=q[21]=1,E[149]=E[21]=-1,j[149]=j[21]=0,T[149]=T[21]=0,F[86]=F[84]=-1,B[86]=B[84]=0,V[86]=V[84]=1,G[86]=G[84]=0,U[86]=U[84]=-1,W[86]=W[84]=1,M[89]=M[81]=0,A[89]=A[81]=-1,I[89]=I[81]=0,R[89]=R[81]=1,k[89]=k[81]=0,L[89]=L[81]=1,M[96]=M[74]=0,A[96]=A[74]=1,I[96]=I[74]=0,z[96]=z[74]=-1,D[96]=D[74]=0,N[96]=N[74]=1,G[96]=G[74]=1,U[96]=U[74]=0,W[96]=W[74]=0,O[96]=O[74]=1,x[96]=x[74]=0,S[96]=S[74]=1,M[24]=M[146]=0,A[24]=A[146]=-1,I[24]=I[146]=1,F[24]=F[146]=1,B[24]=B[146]=0,V[24]=V[146]=1,R[24]=R[146]=0,k[24]=k[146]=1,L[24]=L[146]=1,E[24]=E[146]=0,j[24]=j[146]=-1,T[24]=T[146]=0,z[6]=z[164]=-1,D[6]=D[164]=0,N[6]=N[164]=1,F[6]=F[164]=-1,B[6]=B[164]=0,V[6]=V[164]=0,H[6]=H[164]=0,J[6]=J[164]=-1,q[6]=q[164]=1,G[6]=G[164]=1,U[6]=U[164]=0,W[6]=W[164]=0,R[129]=R[41]=0,k[129]=k[41]=1,L[129]=L[41]=1,H[129]=H[41]=0,J[129]=J[41]=1,q[129]=q[41]=0,O[129]=O[41]=-1,x[129]=x[41]=0,S[129]=S[41]=0,E[129]=E[41]=0,j[129]=j[41]=-1,T[129]=T[41]=0,F[66]=F[104]=0,B[66]=B[104]=1,V[66]=V[104]=0,R[66]=R[104]=-1,k[66]=k[104]=0,L[66]=L[104]=1,G[66]=G[104]=0,U[66]=U[104]=-1,W[66]=W[104]=0,O[66]=O[104]=0,x[66]=x[104]=-1,S[66]=S[104]=1,M[144]=M[26]=-1,A[144]=A[26]=0,I[144]=I[26]=0,H[144]=H[26]=1,J[144]=J[26]=0,q[144]=q[26]=1,G[144]=G[26]=0,U[144]=U[26]=1,W[144]=W[26]=1,E[144]=E[26]=-1,j[144]=j[26]=0,T[144]=T[26]=1,z[36]=z[134]=0,D[36]=D[134]=1,N[36]=N[134]=1,F[36]=F[134]=0,B[36]=B[134]=1,V[36]=V[134]=0,O[36]=O[134]=0,x[36]=x[134]=-1,S[36]=S[134]=1,E[36]=E[134]=1,j[36]=j[134]=0,T[36]=T[134]=0,M[9]=M[161]=-1,A[9]=A[161]=0,I[9]=I[161]=0,z[9]=z[161]=0,D[9]=D[161]=-1,N[9]=N[161]=0,R[9]=R[161]=1,k[9]=k[161]=0,L[9]=L[161]=0,H[9]=H[161]=1,J[9]=J[161]=0,q[9]=q[161]=1,M[136]=0,A[136]=1,I[136]=1,z[136]=0,D[136]=1,N[136]=0,F[136]=-1,B[136]=0,V[136]=1,R[136]=-1,k[136]=0,L[136]=0,H[136]=0,J[136]=-1,q[136]=0,G[136]=0,U[136]=-1,W[136]=1,O[136]=1,x[136]=0,S[136]=0,E[136]=1,j[136]=0,T[136]=1,M[34]=0,A[34]=-1,I[34]=0,z[34]=0,D[34]=-1,N[34]=1,F[34]=1,B[34]=0,V[34]=0,R[34]=1,k[34]=0,L[34]=1,H[34]=0,J[34]=1,q[34]=1,G[34]=0,U[34]=1,W[34]=0,O[34]=-1,x[34]=0,S[34]=1,E[34]=-1,j[34]=0,T[34]=0,M[35]=0,A[35]=1,I[35]=1,z[35]=0,D[35]=-1,N[35]=1,F[35]=1,B[35]=0,V[35]=0,R[35]=-1,k[35]=0,L[35]=0,H[35]=0,J[35]=-1,q[35]=0,G[35]=0,U[35]=1,W[35]=0,O[35]=-1,x[35]=0,S[35]=1,E[35]=1,j[35]=0,T[35]=1,M[153]=0,A[153]=1,I[153]=1,R[153]=-1,k[153]=0,L[153]=0,H[153]=0,J[153]=-1,q[153]=0,E[153]=1,j[153]=0,T[153]=1,z[102]=0,D[102]=-1,N[102]=1,F[102]=1,B[102]=0,V[102]=0,G[102]=0,U[102]=1,W[102]=0,O[102]=-1,x[102]=0,S[102]=1,M[155]=0,A[155]=-1,I[155]=0,R[155]=1,k[155]=0,L[155]=1,H[155]=0,J[155]=1,q[155]=1,E[155]=-1,j[155]=0,T[155]=0,z[103]=0,D[103]=1,N[103]=0,F[103]=-1,B[103]=0,V[103]=1,G[103]=0,U[103]=-1,W[103]=1,O[103]=1,x[103]=0,S[103]=0,M[152]=0,A[152]=1,I[152]=1,F[152]=-1,B[152]=0,V[152]=1,R[152]=-1,k[152]=0,L[152]=0,H[152]=0,J[152]=-1,q[152]=0,G[152]=0,U[152]=-1,W[152]=1,E[152]=1,j[152]=0,T[152]=1,M[156]=0,A[156]=-1,I[156]=1,F[156]=1,B[156]=0,V[156]=1,R[156]=-1,k[156]=0,L[156]=0,H[156]=0,J[156]=-1,q[156]=0,G[156]=0,U[156]=1,W[156]=1,E[156]=-1,j[156]=0,T[156]=1,M[137]=0,A[137]=1,I[137]=1,z[137]=0,D[137]=1,N[137]=0,R[137]=-1,k[137]=0,L[137]=0,H[137]=0,J[137]=-1,q[137]=0,O[137]=1,x[137]=0,S[137]=0,E[137]=1,j[137]=0,T[137]=1,M[139]=0,A[139]=1,I[139]=1,z[139]=0,D[139]=-1,N[139]=0,R[139]=1,k[139]=0,L[139]=0,H[139]=0,J[139]=1,q[139]=0,O[139]=-1,x[139]=0,S[139]=0,E[139]=1,j[139]=0,T[139]=1,M[98]=0,A[98]=-1,I[98]=0,z[98]=0,D[98]=-1,N[98]=1,F[98]=1,B[98]=0,V[98]=0,R[98]=1,k[98]=0,L[98]=1,G[98]=0,U[98]=1,W[98]=0,O[98]=-1,x[98]=0,S[98]=1,M[99]=0,A[99]=1,I[99]=0,z[99]=0,D[99]=-1,N[99]=1,F[99]=1,B[99]=0,V[99]=0,R[99]=-1,k[99]=0,L[99]=1,G[99]=0,U[99]=-1,W[99]=0,O[99]=1,x[99]=0,S[99]=1,z[38]=0,D[38]=-1,N[38]=1,F[38]=1,B[38]=0,V[38]=0,H[38]=0,J[38]=1,q[38]=1,G[38]=0,U[38]=1,W[38]=0,O[38]=-1,x[38]=0,S[38]=1,E[38]=-1,j[38]=0,T[38]=0,z[39]=0,D[39]=1,N[39]=1,F[39]=-1,B[39]=0,V[39]=0,H[39]=0,J[39]=-1,q[39]=1,G[39]=0,U[39]=1,W[39]=0,O[39]=-1,x[39]=0,S[39]=1,E[39]=1,j[39]=0,T[39]=0;var Y=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},X=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},Z=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},K=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},Q=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},$=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},ee=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},te=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ne=[],re=[],oe=[],ie=[],ae=[],se=[],le=[],ce=[];ie[1]=ae[1]=18,ie[169]=ae[169]=18,oe[4]=re[4]=12,oe[166]=re[166]=12,ne[16]=ce[16]=4,ne[154]=ce[154]=4,se[64]=le[64]=22,se[106]=le[106]=22,oe[2]=se[2]=17,ie[2]=ae[2]=18,oe[168]=se[168]=17,ie[168]=ae[168]=18,ne[8]=ie[8]=9,re[8]=oe[8]=12,ne[162]=ie[162]=9,re[162]=oe[162]=12,ne[32]=ce[32]=4,re[32]=le[32]=1,ne[138]=ce[138]=4,re[138]=le[138]=1,ae[128]=ce[128]=21,se[128]=le[128]=22,ae[42]=ce[42]=21,se[42]=le[42]=22,re[5]=ae[5]=14,re[165]=ae[165]=14,oe[20]=ce[20]=6,oe[150]=ce[150]=6,ne[80]=se[80]=11,ne[90]=se[90]=11,ie[65]=le[65]=3,ie[105]=le[105]=3,ne[160]=se[160]=11,re[160]=ae[160]=14,ne[10]=se[10]=11,re[10]=ae[10]=14,oe[130]=ce[130]=6,ie[130]=le[130]=3,oe[40]=ce[40]=6,ie[40]=le[40]=3,re[101]=le[101]=1,re[69]=le[69]=1,ae[149]=ce[149]=21,ae[21]=ce[21]=21,oe[86]=se[86]=17,oe[84]=se[84]=17,ne[89]=ie[89]=9,ne[81]=ie[81]=9,ne[96]=le[96]=0,re[96]=se[96]=15,ne[74]=le[74]=0,re[74]=se[74]=15,ne[24]=oe[24]=8,ie[24]=ce[24]=7,ne[146]=oe[146]=8,ie[146]=ce[146]=7,re[6]=se[6]=15,oe[6]=ae[6]=16,re[164]=se[164]=15,oe[164]=ae[164]=16,ie[129]=ce[129]=7,ae[129]=le[129]=20,ie[41]=ce[41]=7,ae[41]=le[41]=20,oe[66]=le[66]=2,ie[66]=se[66]=19,oe[104]=le[104]=2,ie[104]=se[104]=19,ne[144]=ae[144]=10,se[144]=ce[144]=23,ne[26]=ae[26]=10,se[26]=ce[26]=23,re[36]=ce[36]=5,oe[36]=le[36]=2,re[134]=ce[134]=5,oe[134]=le[134]=2,ne[9]=ae[9]=10,re[9]=ie[9]=13,ne[161]=ae[161]=10,re[161]=ie[161]=13,re[37]=ce[37]=5,ae[37]=le[37]=20,re[133]=ce[133]=5,ae[133]=le[133]=20,oe[148]=ae[148]=16,se[148]=ce[148]=23,oe[22]=ae[22]=16,se[22]=ce[22]=23,ne[82]=oe[82]=8,ie[82]=se[82]=19,ne[88]=oe[88]=8,ie[88]=se[88]=19,ne[73]=le[73]=0,re[73]=ie[73]=13,ne[97]=le[97]=0,re[97]=ie[97]=13,ne[145]=ie[145]=9,ae[145]=ce[145]=21,ne[25]=ie[25]=9,ae[25]=ce[25]=21,re[70]=le[70]=1,oe[70]=se[70]=17,re[100]=le[100]=1,oe[100]=se[100]=17,ne[34]=ie[34]=9,re[34]=oe[34]=12,ae[34]=ce[34]=21,se[34]=le[34]=22,ne[136]=ce[136]=4,re[136]=le[136]=1,oe[136]=se[136]=17,ie[136]=ae[136]=18,ne[35]=ce[35]=4,re[35]=oe[35]=12,ie[35]=ae[35]=18,se[35]=le[35]=22,ne[153]=ce[153]=4,ie[153]=ae[153]=18,re[102]=oe[102]=12,se[102]=le[102]=22,ne[155]=ie[155]=9,ae[155]=ce[155]=23,re[103]=le[103]=1,oe[103]=se[103]=17,ne[152]=ce[152]=4,oe[152]=se[152]=17,ie[152]=ae[152]=18,ne[156]=oe[156]=8,ie[156]=ae[156]=18,se[156]=ce[156]=23,ne[137]=ce[137]=4,re[137]=le[137]=1,ie[137]=ae[137]=18,ne[139]=ce[139]=4,re[139]=ie[139]=13,ae[139]=le[139]=20,ne[98]=ie[98]=9,re[98]=oe[98]=12,se[98]=le[98]=22,ne[99]=le[99]=0,re[99]=oe[99]=12,ie[99]=se[99]=19,re[38]=oe[38]=12,ae[38]=ce[38]=21,se[38]=le[38]=22,re[39]=ce[39]=5,oe[39]=ae[39]=16,se[39]=le[39]=22;var ue=[];function pe(e,t,n){return(e-t)/(n-t)}function fe(e){return e.constructor.toString().indexOf("Array")>-1}function de(e,t,n,r,o,i){for(var a=e.cells[n][t],s=a.cval_real,l=t+r,c=n+o,u=[],p=!1;!p;){if(void 0===e.cells[c]||void 0===e.cells[c][l])if(c-=o,l-=r,s=(a=e.cells[c][l]).cval_real,-1===o)if(0===i)if(s&C)u.push([l,c]),r=-1,o=0,i=0;else{if(!(s&P)){u.push([l+a.bottomright,c]),r=0,o=1,i=1,p=!0;break}u.push([l+1,c]),r=1,o=0,i=0}else{if(!(s&C)){if(s&P){u.push([l+a.bottomright,c]),r=0,o=1,i=1,p=!0;break}u.push([l+a.bottomleft,c]),r=0,o=1,i=0,p=!0;break}u.push([l,c]),r=-1,o=0,i=0}else if(1===o)if(0===i){if(!(s&w)){if(s&_){u.push([l+a.topleft,c+1]),r=0,o=-1,i=0,p=!0;break}u.push([l+a.topright,c+1]),r=0,o=-1,i=1,p=!0;break}u.push([l+1,c+1]),r=1,o=0,i=1}else u.push([l+1,c+1]),r=1,o=0,i=1;else if(-1===r)if(0===i){if(!(s&_)){if(s&C){u.push([l,c+a.leftbottom]),r=1,o=0,i=0,p=!0;break}u.push([l,c+a.lefttop]),r=1,o=0,i=1,p=!0;break}u.push([l,c+1]),r=0,o=1,i=0}else{if(!(s&_)){console.log("MarchingSquaresJS-isoBands: wtf");break}u.push([l,c+1]),r=0,o=1,i=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===i){if(!(s&P)){u.push([l+1,c+a.rightbottom]),r=-1,o=0,i=0,p=!0;break}u.push([l+1,c]),r=0,o=-1,i=1}else{if(!(s&P)){if(s&w){u.push([l+1,c+a.righttop]),r=-1,o=0,i=1;break}u.push([l+1,c+a.rightbottom]),r=-1,o=0,i=0,p=!0;break}u.push([l+1,c]),r=0,o=-1,i=1}}else if(s=(a=e.cells[c][l]).cval_real,-1===r)if(0===i)if(void 0!==e.cells[c-1]&&void 0!==e.cells[c-1][l])r=0,o=-1,i=1;else{if(!(s&C)){u.push([l+a.bottomright,c]),r=0,o=1,i=1,p=!0;break}u.push([l,c])}else{if(!(s&_)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+c);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[c+1]&&void 0!==e.cells[c+1][l])r=0,o=1,i=0;else{if(!(s&w)){u.push([l+a.topleft,c+1]),r=0,o=-1,i=0,p=!0;break}u.push([l+1,c+1]),r=1,o=0,i=1}}else if(-1===o){if(1!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[c][l+1])r=1,o=0,i=1;else{if(!(s&P)){u.push([l+1,c+a.righttop]),r=-1,o=0,i=1,p=!0;break}u.push([l+1,c]),r=0,o=-1,i=1}}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[c][l-1])r=-1,o=0,i=0;else{if(!(s&_)){u.push([l,c+a.leftbottom]),r=1,o=0,i=0,p=!0;break}u.push([l,c+1]),r=0,o=1,i=0}}if(c+=o,(l+=r)===t&&c===n)break}return{path:u,i:l,j:c,x:r,y:o,o:i}}function he(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],n=e.cval_real;switch(t){case 0:return n&w?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return n&P?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return n&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return n&C?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return n&w?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return n&P?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return n&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return n&C?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return n&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return n&C?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return n&C?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return n&_?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return n&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return n&C?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return n&C?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return n&_?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return n&P?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return n&_?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return n&C?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return n&_?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return n&_?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return n&w?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return n&_?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return n&w?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function ye(e,t,n,r){var o,i,a,s,l,c=e.cval;switch(t){case-1:0===r?(o=re[c],a=z[c],s=D[c],l=N[c]):(o=ne[c],a=M[c],s=A[c],l=I[c]);break;case 1:0===r?(o=ae[c],a=H[c],s=J[c],l=q[c]):(o=se[c],a=G[c],s=U[c],l=W[c]);break;default:switch(n){case-1:0===r?(o=le[c],a=O[c],s=x[c],l=S[c]):(o=ce[c],a=E[c],s=j[c],l=T[c]);break;case 1:0===r?(o=ie[c],a=R[c],s=k[c],l=L[c]):(o=oe[c],a=F[c],s=B[c],l=V[c])}}if(i=e.edges.indexOf(o),void 0===e.edges[i])return null;switch(function(e,t){delete e.edges[t];for(var n=t+1;n<e.edges.length;n++)e.edges[n-1]=e.edges[n];e.edges.pop()}(e,i),c=e.cval_real,o){case 0:c&w?(t=e.topleft,n=1):(t=1,n=e.righttop);break;case 1:c&P?(t=1,n=e.rightbottom):(t=e.topleft,n=1);break;case 2:c&P?(t=e.topleft,n=1):(t=e.bottomright,n=0);break;case 3:c&C?(t=e.bottomleft,n=0):(t=e.topleft,n=1);break;case 4:c&w?(t=e.topright,n=1):(t=1,n=e.righttop);break;case 5:c&P?(t=1,n=e.rightbottom):(t=e.topright,n=1);break;case 6:c&P?(t=e.topright,n=1):(t=e.bottomright,n=0);break;case 7:c&C?(t=e.bottomleft,n=0):(t=e.topright,n=1);break;case 8:c&P?(t=1,n=e.righttop):(t=e.bottomright,n=0);break;case 9:c&C?(t=e.bottomleft,n=0):(t=1,n=e.righttop);break;case 10:c&C?(t=1,n=e.righttop):(t=0,n=e.leftbottom);break;case 11:c&_?(t=0,n=e.lefttop):(t=1,n=e.righttop);break;case 12:c&P?(t=1,n=e.rightbottom):(t=e.bottomright,n=0);break;case 13:c&C?(t=e.bottomleft,n=0):(t=1,n=e.rightbottom);break;case 14:c&C?(t=1,n=e.rightbottom):(t=0,n=e.leftbottom);break;case 15:c&_?(t=0,n=e.lefttop):(t=1,n=e.rightbottom);break;case 16:c&P?(t=0,n=e.leftbottom):(t=e.bottomright,n=0);break;case 17:c&_?(t=0,n=e.lefttop):(t=e.bottomright,n=0);break;case 18:c&C?(t=e.bottomleft,n=0):(t=0,n=e.leftbottom);break;case 19:c&_?(t=0,n=e.lefttop):(t=e.bottomleft,n=0);break;case 20:c&_?(t=0,n=e.leftbottom):(t=e.topleft,n=1);break;case 21:c&w?(t=e.topright,n=1):(t=0,n=e.leftbottom);break;case 22:c&_?(t=0,n=e.lefttop):(t=e.topleft,n=1);break;case 23:c&w?(t=e.topright,n=1):(t=0,n=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+n+" "+a+" "+s+" "+l)),{p:[t,n],x:a,y:s,o:l}}function ge(e,t,n){if(n=n||{},!l.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",o=n.commonProperties||{},i=n.breaksProperties||[];if(s.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!l.isObject(o))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");var a=function(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,o=t.flags;s.collectionOf(e,"Point","input must contain Points");for(var i=function(e,t){var n={};return u.featureEach(e,(function(e){var t=s.getCoords(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){return n[e].sort((function(e,t){return s.getCoords(e)[0]-s.getCoords(t)[0]}))})).sort((function(e,n){return t?s.getCoords(e[0])[1]-s.getCoords(n[0])[1]:s.getCoords(n[0])[1]-s.getCoords(e[0])[1]}))}(e,r),a=[],c=0;c<i.length;c++){for(var p=i[c],f=[],d=0;d<p.length;d++){var h=p[d];h.properties[n]?f.push(h.properties[n]):f.push(0),!0===o&&(h.properties.matrixPosition=[c,d])}a.push(f)}return a}(e,{zProperty:r,flip:!0}),c=function(e,t,n){for(var r=[],o=1;o<t.length;o++){var i=+t[o-1],a=+t[o],s=ve(me(b(e,i,a-i))),l={};l.groupedRings=s,l[n]=i+"-"+a,r.push(l)}return r}(a,t,r);c=function(e,t,n){var r=f.default(n),o=r[2]-r[0],i=r[3]-r[1],a=r[0],s=r[1],l=t[0].length-1,c=t.length-1,u=o/l,p=i/c,d=function(e){e[0]=e[0]*u+a,e[1]=e[1]*p+s};return e.forEach((function(e){e.groupedRings.forEach((function(e){e.forEach((function(e){e.forEach(d)}))}))})),e}(c,a,e);var p=c.map((function(e,t){if(i[t]&&!l.isObject(i[t]))throw new Error("Each mappedProperty is required to be an Object");var n=g.default({},o,i[t]);return n[r]=e[r],l.multiPolygon(e.groupedRings,n)}));return l.featureCollection(p)}function me(e){var t=[],n=[];e.forEach((function(e){var r=d.default(l.polygon([e]));n.push(r),t.push({ring:e,area:r})})),n.sort((function(e,t){return t-e}));var r=[];return n.forEach((function(e){for(var n=0;n<t.length;n++)if(t[n].area===e){r.push(t[n].ring),t.splice(n,1);break}})),r}function ve(e){for(var t=e.map((function(e){return{lrCoordinates:e,grouped:!1}})),n=[];!_e(t);)for(var r=0;r<t.length;r++)if(!t[r].grouped){var o=[];o.push(t[r].lrCoordinates),t[r].grouped=!0;for(var i=l.polygon([t[r].lrCoordinates]),a=r+1;a<t.length;a++)t[a].grouped||be(l.polygon([t[a].lrCoordinates]),i)&&(o.push(t[a].lrCoordinates),t[a].grouped=!0);n.push(o)}return n}function be(e,t){for(var n=y.default(e),r=0;r<n.features.length;r++)if(!h.default(n.features[r],t))return!1;return!0}function _e(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}ue[1]=ue[169]=Y,ue[4]=ue[166]=X,ue[16]=ue[154]=Z,ue[64]=ue[106]=K,ue[168]=ue[2]=Q,ue[162]=ue[8]=$,ue[138]=ue[32]=ee,ue[42]=ue[128]=te,ue[5]=ue[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ue[20]=ue[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},ue[80]=ue[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},ue[65]=ue[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ue[160]=ue[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},ue[130]=ue[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},ue[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ue[101]=ue[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},ue[149]=ue[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},ue[86]=ue[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},ue[89]=ue[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},ue[96]=ue[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[24]=ue[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},ue[6]=ue[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},ue[129]=ue[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},ue[66]=ue[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[144]=ue[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ue[36]=ue[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},ue[9]=ue[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ue[37]=ue[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ue[148]=ue[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ue[82]=ue[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},ue[73]=ue[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ue[145]=ue[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ue[70]=ue[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[34]=function(e){return[te(e),$(e)]},ue[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ue[136]=function(e){return[ee(e),Q(e)]},ue[153]=function(e){return[Z(e),Y(e)]},ue[102]=function(e){return[X(e),K(e)]},ue[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ue[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[152]=function(e){return[Z(e),Q(e)]},ue[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ue[137]=function(e){return[ee(e),Y(e)]},ue[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ue[98]=function(e){return[$(e),K(e)]},ue[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ue[38]=function(e){return[X(e),te(e)]},ue[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},e.exports=ge,e.exports.default=ge},75784:(e,t,n)=>{"use strict";var r=n(44383),o=n(58421),i=n(78506),a=n(88967),s=n(45228);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),u=l(s),p={successCallback:null,verbose:!1},f={};function d(e,t,n){n=n||{};for(var r=Object.keys(p),o=0;o<r.length;o++){var i=r[o],a=n[i];a=null!=a?a:p[i],f[i]=a}f.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var s,l,c,u=(s=function(e,t){for(var n=e.length-1,r=e[0].length-1,o={rows:n,cols:r,cells:[]},i=0;i<n;++i){o.cells[i]=[];for(var a=0;a<r;++a){var s=0,l=e[i+1][a],c=e[i+1][a+1],u=e[i][a+1],p=e[i][a];if(!(isNaN(l)||isNaN(c)||isNaN(u)||isNaN(p))){s|=l>=t?8:0,s|=c>=t?4:0,s|=u>=t?2:0;var f,d,y,g,m=!1;if(5==(s|=p>=t?1:0)||10===s){var v=(l+c+u+p)/4;5===s&&v<t?(s=10,m=!0):10===s&&v<t&&(s=5,m=!0)}0!==s&&15!==s&&(f=d=y=g=.5,1===s?(y=1-h(t,l,p),d=1-h(t,u,p)):2===s?(d=h(t,p,u),g=1-h(t,c,u)):3===s?(y=1-h(t,l,p),g=1-h(t,c,u)):4===s?(f=h(t,l,c),g=h(t,u,c)):5===s?(f=h(t,l,c),g=h(t,u,c),d=1-h(t,u,p),y=1-h(t,l,p)):6===s?(d=h(t,p,u),f=h(t,l,c)):7===s?(y=1-h(t,l,p),f=h(t,l,c)):8===s?(y=h(t,p,l),f=1-h(t,c,l)):9===s?(d=1-h(t,u,p),f=1-h(t,c,l)):10===s?(f=1-h(t,c,l),g=1-h(t,c,u),d=h(t,p,u),y=h(t,p,l)):11===s?(f=1-h(t,c,l),g=1-h(t,c,u)):12===s?(y=h(t,p,l),g=h(t,u,c)):13===s?(d=1-h(t,u,p),g=h(t,u,c)):14===s?(y=h(t,p,l),d=h(t,p,u)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),o.cells[i][a]={cval:s,flipped:m,top:f,right:g,bottom:d,left:y})}}}return o}(e,t),l=[],c=0,s.cells.forEach((function(e,t){e.forEach((function(e,n){if(void 0!==e&&5!==(f=e).cval&&10!==f.cval&&!y(e)){var r=function(e,t,n){var r,o,i=e.length,a=[],s=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],u=e[t][n],p=u.cval,f=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][p],d=m(u,f);a.push([n+d[0],t+d[1]]),d=m(u,f=c[p]),a.push([n+d[0],t+d[1]]),g(u);for(var h=n+s[p],y=t+l[p],v=p;h>=0&&y>=0&&y<i&&(h!=n||y!=t)&&void 0!==(u=e[y][h]);){if(0===(p=u.cval)||15===p)return{path:a,info:"mergeable"};f=c[p],r=s[p],o=l[p],5!==p&&10!==p||(5===p?u.flipped?-1===l[v]?(f="left",r=-1,o=0):(f="right",r=1,o=0):-1===s[v]&&(f="bottom",r=0,o=-1):10===p&&(u.flipped?-1===s[v]?(f="top",r=0,o=1):(f="bottom",r=0,o=-1):1===l[v]&&(f="left",r=-1,o=0))),d=m(u,f),a.push([h+d[0],y+d[1]]),g(u),h+=r,y+=o,v=p}return{path:a,info:"closed"}}(s.cells,t,n),o=!1;if("mergeable"===r.info)for(var i=r.path[r.path.length-1][0],a=r.path[r.path.length-1][1],u=c-1;u>=0;u--)if(Math.abs(l[u][0][0]-i)<=1e-7&&Math.abs(l[u][0][1]-a)<=1e-7){for(var p=r.path.length-2;p>=0;--p)l[u].unshift(r.path[p]);o=!0;break}o||(l[c++]=r.path)}var f}))})),l);return"function"==typeof f.successCallback&&f.successCallback(u),u}function h(e,t,n){return(e-t)/(n-t)}function y(e){return 0===e.cval||15===e.cval}function g(e){y(e)||5===e.cval||10===e.cval||(e.cval=15)}function m(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function v(e,t,n){if(n=n||{},!a.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",s=n.commonProperties||{},l=n.breaksProperties||[];if(i.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!a.isObject(s))throw new Error("commonProperties must be an Object");if(!Array.isArray(l))throw new Error("breaksProperties must be an Array");var p=function(e,t){if(t=t||{},!a.isObject(t))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,s=t.flags;i.collectionOf(e,"Point","input must contain Points");for(var l=function(e,t){var n={};return o.featureEach(e,(function(e){var t=i.getCoords(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){return n[e].sort((function(e,t){return i.getCoords(e)[0]-i.getCoords(t)[0]}))})).sort((function(e,n){return t?i.getCoords(e[0])[1]-i.getCoords(n[0])[1]:i.getCoords(n[0])[1]-i.getCoords(e[0])[1]}))}(e,r),c=[],u=0;u<l.length;u++){for(var p=l[u],f=[],d=0;d<p.length;d++){var h=p[d];h.properties[n]?f.push(h.properties[n]):f.push(0),!0===s&&(h.properties.matrixPosition=[u,d])}c.push(f)}return c}(e,{zProperty:r,flip:!0}),f=function(e,t,n,r,o){for(var i=[],s=1;s<t.length;s++){var l=+t[s],c=u.default({},r,o[s]);c[n]=l;var p=a.multiLineString(d(e,l),c);i.push(p)}return i}(p,t,r,s,l),h=function(e,t,n){var r=c.default(n),i=r[2]-r[0],a=r[3]-r[1],s=r[0],l=r[1],u=t[0].length-1,p=t.length-1,f=i/u,d=a/p,h=function(e){e[0]=e[0]*f+s,e[1]=e[1]*d+l};return e.forEach((function(e){o.coordEach(e,h)})),e}(f,p,e);return a.featureCollection(h)}e.exports=v,e.exports.default=v},35518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967);t.default=function(e){var t,n,o={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===e.type?e.geometry:e).type)t=[n.coordinates];else if("MultiLineString"===n.type)t=n.coordinates;else if("MultiPolygon"===n.type)t=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=n.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var n=0;n<e.length-1;n++)for(var i=n;i<t.length-1;i++){if(e===t){if(1===Math.abs(n-i))continue;if(0===n&&i===e.length-2&&e[n][0]===e[e.length-1][0]&&e[n][1]===e[e.length-1][1])continue}var a=(s=e[n][0],l=e[n][1],c=e[n+1][0],u=e[n+1][1],p=t[i][0],f=t[i][1],d=t[i+1][0],h=t[i+1][1],y=void 0,g=void 0,m=void 0,v=void 0,b=void 0,b={x:null,y:null,onLine1:!1,onLine2:!1},0==(y=(h-f)*(c-s)-(d-p)*(u-l))?null!==b.x&&null!==b.y&&b:(v=(c-s)*(g=l-f)-(u-l)*(m=s-p),g=((d-p)*g-(h-f)*m)/y,m=v/y,b.x=s+g*(c-s),b.y=l+g*(u-l),g>=0&&g<=1&&(b.onLine1=!0),m>=0&&m<=1&&(b.onLine2=!0),!(!b.onLine1||!b.onLine2)&&[b.x,b.y]));a&&o.features.push(r.point([a[0],a[1]]))}var s,l,c,u,p,f,d,h,y,g,m,v,b}))})),o}},88840:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9391)),i=n(58421);t.default=function(e,t){return void 0===t&&(t={}),i.segmentReduce(e,(function(e,n){var r=n.geometry.coordinates;return e+o.default(r[0],r[1],t)}),0)}},375:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(45764)),i=r(n(24202)),a=n(88967);function s(e){var t=e%360;return t<0&&(t+=360),t}t.default=function(e,t,n,r,l){void 0===l&&(l={});var c=l.steps||64,u=s(n),p=s(r),f=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(u===p)return a.lineString(o.default(e,t,l).geometry.coordinates[0],f);for(var d=u,h=u<p?p:p+360,y=d,g=[],m=0;y<h;)g.push(i.default(e,t,y,l).geometry.coordinates),y=d+360*++m/c;return y>h&&g.push(i.default(e,t,h,l).geometry.coordinates),a.lineString(g,f)}},12222:(e,t,n)=>{"use strict";var r=n(88840),o=n(4957),i=n(58421),a=n(88967);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),c=s(o);function u(e,t,n){if(n=n||{},!a.isObject(n))throw new Error("options is invalid");var r=n.units,o=n.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var s=[];return i.flattenEach(e,(function(e){o&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,n,r){var o=l.default(e,{units:n});if(o<=t)return r(e);var i=o/t;Number.isInteger(i)||(i=Math.floor(i)+1);for(var a=0;a<i;a++)r(c.default(e,t*a,t*(a+1),{units:n}))}(e,t,r,(function(e){s.push(e)}))})),a.featureCollection(s)}e.exports=u,e.exports.default=u},23154:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88967),i=n(78506),a=r(n(97042)),s=n(58421),l=r(n(4945));function c(e,t){var n=i.getCoords(e),r=i.getCoords(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var a=n[0][0],s=n[0][1],l=n[1][0],c=n[1][1],u=r[0][0],p=r[0][1],f=r[1][0],d=r[1][1],h=(d-p)*(l-a)-(f-u)*(c-s);if(0===h)return null;var y=((f-u)*(s-p)-(d-p)*(a-u))/h,g=((l-a)*(s-p)-(c-s)*(a-u))/h;if(y>=0&&y<=1&&g>=0&&g<=1){var m=a+y*(l-a),v=s+y*(c-s);return o.point([m,v])}return null}t.default=function(e,t){var n={},r=[];if("LineString"===e.type&&(e=o.feature(e)),"LineString"===t.type&&(t=o.feature(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var u=c(e,t);return u&&r.push(u),o.featureCollection(r)}var p=l.default();return p.load(a.default(t)),s.featureEach(a.default(e),(function(e){s.featureEach(p.search(e),(function(t){var o=c(e,t);if(o){var a=i.getCoords(o).join(",");n[a]||(n[a]=!0,r.push(o))}}))})),o.featureCollection(r)}},31972:(e,t,n)=>{"use strict";var r=n(58421),o=n(78506),i=n(88967);function a(e){var t=e[0],n=e[1];return[n[0]-t[0],n[1]-t[1]]}function s(e,t){return e[0]*t[1]-t[0]*e[1]}function l(e,t,n){if(n=n||{},!i.isObject(n))throw new Error("options is invalid");var a=n.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var s=o.getType(e),l=e.properties;switch(s){case"LineString":return c(e,t,a);case"MultiLineString":var u=[];return r.flattenEach(e,(function(e){u.push(c(e,t,a).geometry.coordinates)})),i.multiLineString(u,l);default:throw new Error("geometry "+s+" is not supported")}}function c(e,t,n){var r=[],l=i.lengthToDegrees(t,n),c=o.getCoords(e),u=[];return c.forEach((function(e,t){if(t!==c.length-1){var n=(d=e,h=c[t+1],y=l,g=Math.sqrt((d[0]-h[0])*(d[0]-h[0])+(d[1]-h[1])*(d[1]-h[1])),m=d[0]+y*(h[1]-d[1])/g,v=h[0]+y*(h[1]-d[1])/g,[[m,d[1]+y*(d[0]-h[0])/g],[v,h[1]+y*(d[0]-h[0])/g]]);if(r.push(n),t>0){var o=r[t-1],i=!function(e,t){return 0===s(a(e),a(t))}(p=n,f=o)&&function(e,t){var n,r,o=e[0],i=a(e),l=t[0],c=a(t),u=s(i,c),p=function(e,t){return[e[0]+t[0],e[1]+t[1]]}(o,function(e,t){return[e*t[0],e*t[1]]}(s((r=o,[(n=l)[0]-r[0],n[1]-r[1]]),c)/u,i));return p}(p,f);!1!==i&&(o[1]=i,n[0]=i),u.push(o[0]),t===c.length-2&&(u.push(n[0]),u.push(n[1]))}2===c.length&&(u.push(n[0]),u.push(n[1]))}var p,f,d,h,y,g,m,v})),i.lineString(u,e.properties)}e.exports=l,e.exports.default=l},4300:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(4945)),i=r(n(97042)),a=r(n(17696)),s=r(n(85378)),l=n(78506),c=n(58421),u=n(88967),p=r(n(4982));function f(e,t){var n=l.getCoords(t),r=l.getCoords(e),o=r[0],i=r[r.length-1],a=e.geometry.coordinates;return p.default(n[0],o)?a.unshift(n[1]):p.default(n[0],i)?a.push(n[1]):p.default(n[1],o)?a.unshift(n[0]):p.default(n[1],i)&&a.push(n[0]),e}t.default=function(e,t,n){if(void 0===n&&(n={}),n=n||{},!u.isObject(n))throw new Error("options is invalid");var r,d=n.tolerance||0,h=[],y=o.default(),g=i.default(e);return y.load(g),c.segmentEach(t,(function(e){var t=!1;e&&(c.featureEach(y.search(e),(function(n){if(!1===t){var o=l.getCoords(e).sort(),i=l.getCoords(n).sort();p.default(o,i)||(0===d?s.default(o[0],n)&&s.default(o[1],n):a.default(n,o[0]).properties.dist<=d&&a.default(n,o[1]).properties.dist<=d)?(t=!0,r=r?f(r,e):e):(0===d?s.default(i[0],e)&&s.default(i[1],e):a.default(e,i[0]).properties.dist<=d&&a.default(e,i[1]).properties.dist<=d)&&(r=r?f(r,n):n)}})),!1===t&&r&&(h.push(r),r=void 0))})),r&&h.push(r),u.featureCollection(h)}},97042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506),i=n(58421);t.default=function(e){if(!e)throw new Error("geojson is required");var t=[];return i.flattenEach(e,(function(e){!function(e,t){var n=[],i=e.geometry;if(null!==i){switch(i.type){case"Polygon":n=o.getCoords(i);break;case"LineString":n=[o.getCoords(i)]}n.forEach((function(n){var o=function(e,t){var n=[];return e.reduce((function(e,o){var i,a,s,l,c,u,p=r.lineString([e,o],t);return p.bbox=(a=o,s=(i=e)[0],l=i[1],[s<(c=a[0])?s:c,l<(u=a[1])?l:u,s>c?s:c,l>u?l:u]),n.push(p),o})),n}(n,e.properties);o.forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),r.featureCollection(t)}},4957:(e,t,n)=>{"use strict";var r=n(51288),o=n(9391),i=n(24202),a=n(88967);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),c=s(o),u=s(i);function p(e,t,n,r){if(r=r||{},!a.isObject(r))throw new Error("options is invalid");var o,i=[];if("Feature"===e.type)o=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");o=e.coordinates}for(var s,p,f,d=o.length,h=0,y=0;y<o.length&&!(t>=h&&y===o.length-1);y++){if(h>t&&0===i.length){if(!(s=t-h))return i.push(o[y]),a.lineString(i);p=l.default(o[y],o[y-1])-180,f=u.default(o[y],s,p,r),i.push(f.geometry.coordinates)}if(h>=n)return(s=n-h)?(p=l.default(o[y],o[y-1])-180,f=u.default(o[y],s,p,r),i.push(f.geometry.coordinates),a.lineString(i)):(i.push(o[y]),a.lineString(i));if(h>=t&&i.push(o[y]),y===o.length-1)return a.lineString(i);h+=c.default(o[y],o[y+1],r)}if(h<t&&o.length===d)throw new Error("Start position is beyond line");var g=o[o.length-1];return a.lineString([g,g])}e.exports=p,e.exports.default=p},67969:(e,t,n)=>{"use strict";var r=n(78506),o=n(88967);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n(17696));function s(e,t,n){var i=r.getCoords(n);if("LineString"!==r.getType(n))throw new Error("line must be a LineString");for(var s,l=a.default(n,e),c=a.default(n,t),u=[(s=l.properties.index<=c.properties.index?[l,c]:[c,l])[0].geometry.coordinates],p=s[0].properties.index+1;p<s[1].properties.index+1;p++)u.push(i[p]);return u.push(s[1].geometry.coordinates),o.lineString(u,n.properties)}e.exports=s,e.exports.default=s},23467:(e,t,n)=>{"use strict";var r=n(4945),o=n(62363),i=n(44383),a=n(56834),s=n(97042),l=n(23154),c=n(17696),u=n(78506),p=n(58421),f=n(88967);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=d(r),y=d(o),g=d(i),m=d(a),v=d(s),b=d(l),_=d(c);function w(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=u.getType(e),r=u.getType(t);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var o=m.default(t,{precision:7});switch(r){case"Point":return C(e,o);case"MultiPoint":return P(e,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return P(e,b.default(e,o))}}function P(e,t){var n=[],r=h.default();return p.flattenEach(t,(function(t){if(n.forEach((function(e,t){e.id=t})),n.length){var o=r.search(t);if(o.features.length){var i=O(t,o);n=n.filter((function(e){return e.id!==i.id})),r.remove(i),p.featureEach(C(i,t),(function(e){n.push(e),r.insert(e)}))}}else(n=C(e,t).features).forEach((function(e){e.bbox||(e.bbox=y.default(g.default(e)))})),r.load(f.featureCollection(n))})),f.featureCollection(n)}function C(e,t){var n=[],r=u.getCoords(e)[0],o=u.getCoords(e)[e.geometry.coordinates.length-1];if(x(r,u.getCoord(t))||x(o,u.getCoord(t)))return f.featureCollection([e]);var i=h.default(),a=v.default(e);i.load(a);var s=i.search(t);if(!s.features.length)return f.featureCollection([e]);var l=O(t,s),c=[r],d=p.featureReduce(a,(function(e,r,o){var i=u.getCoords(r)[1],a=u.getCoord(t);return o===l.id?(e.push(a),n.push(f.lineString(e)),x(a,i)?[a]:[a,i]):(e.push(i),e)}),c);return d.length>1&&n.push(f.lineString(d)),f.featureCollection(n)}function O(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var n,r=1/0;return p.featureEach(t,(function(t){var o=_.default(t,e).properties.dist;o<r&&(n=t,r=o)})),n}function x(e,t){return e[0]===t[0]&&e[1]===t[1]}e.exports=w,e.exports.default=w},78785:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(44383)),i=n(78506),a=n(88967),s=r(n(53711));function l(e,t,n,r){t=t||("Feature"===e.type?e.properties:{});var s=i.getGeom(e),l=s.coordinates,u=s.type;if(!l.length)throw new Error("line must contain coordinates");switch(u){case"LineString":return n&&(l=c(l)),a.polygon([l],t);case"MultiLineString":var p=[],f=0;return l.forEach((function(e){if(n&&(e=c(e)),r){var t=(s=(i=o.default(a.lineString(e)))[0],l=i[1],u=i[2],d=i[3],Math.abs(s-u)*Math.abs(l-d));t>f?(p.unshift(e),f=t):p.push(e)}else p.push(e);var i,s,l,u,d})),a.polygon(p,t);default:throw new Error("geometry type "+u+" is not supported")}}function c(e){var t=e[0],n=t[0],r=t[1],o=e[e.length-1],i=o[0],a=o[1];return n===i&&r===a||e.push(t),e}t.default=function(e,t){var n,r,o;void 0===t&&(t={});var c=t.properties,u=null===(n=t.autoComplete)||void 0===n||n,p=null===(r=t.orderCoords)||void 0===r||r;if(null!==(o=t.mutate)&&void 0!==o&&o||(e=s.default(e)),"FeatureCollection"===e.type){var f=[];return e.features.forEach((function(e){f.push(i.getCoords(l(e,{},u,p)))})),a.multiPolygon(f,c)}return l(e,c,u,p)}},47300:(e,t,n)=>{"use strict";var r=n(88967);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(n(59004));function a(e,t){var n,o=function(e){var t=e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return r.polygon(t)}(t);return("FeatureCollection"===e.type?s(2===(n=e).features.length?i.default.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):i.default.union.apply(i.default,n.features.map((function(e){return e.geometry.coordinates})))):s(i.default.union(e.geometry.coordinates))).geometry.coordinates.forEach((function(e){o.geometry.coordinates.push(e[0])})),o}function s(e){return r.multiPolygon(e)}e.exports=a,e.exports.default=a},58421:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967);function o(e,t,n){if(null!==e)for(var r,i,a,s,l,c,u,p,f=0,d=0,h=e.type,y="FeatureCollection"===h,g="Feature"===h,m=y?e.features.length:1,v=0;v<m;v++){l=(p=!!(u=y?e.features[v].geometry:g?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<l;b++){var _=0,w=0;if(null!==(s=p?u.geometries[b]:u)){c=s.coordinates;var P=s.type;switch(f=!n||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(c,d,v,_,w))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(!1===t(c[r],d,v,_,w))return!1;d++,"MultiPoint"===P&&_++}"LineString"===P&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-f;i++){if(!1===t(c[r][i],d,v,_,w))return!1;d++}"MultiLineString"===P&&_++,"Polygon"===P&&w++}"Polygon"===P&&_++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(w=0,i=0;i<c[r].length;i++){for(a=0;a<c[r][i].length-f;a++){if(!1===t(c[r][i][a],d,v,_,w))return!1;d++}w++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===o(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function s(e,t){var n,r,o,i,a,s,l,c,u,p,f=0,d="FeatureCollection"===e.type,h="Feature"===e.type,y=d?e.features.length:1;for(n=0;n<y;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,c=d?e.features[n].properties:h?e.properties:{},u=d?e.features[n].bbox:h?e.bbox:void 0,p=d?e.features[n].id:h?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,c,u,p))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],f,c,u,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,u,p))return!1;f++}}function l(e,t){s(e,(function(e,n,o,i,a){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,o,{bbox:i,id:a}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var c=0;c<e.coordinates.length;c++){var u={type:s,coordinates:e.coordinates[c]};if(!1===t(r.feature(u,o),n,c))return!1}}))}function c(e,t){l(e,(function(e,n,i){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,c=0,u=0,p=0;return!1!==o(e,(function(o,s,f,d,h){if(void 0===l||n>c||d>u||h>p)return l=o,c=n,u=d,p=h,void(a=0);var y=r.lineString([l,o],e.properties);if(!1===t(y,n,i,h,a))return!1;a++,l=o}))&&void 0}}}))}function u(e,t){if(!e)throw new Error("geojson is required");l(e,(function(e,n,o){if(null!==e.geometry){var i=e.geometry.type,a=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,n,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(r.lineString(a[s],e.properties),n,o,s))return!1}}}))}t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.coordEach=o,t.coordReduce=function(e,t,n,r){var i=n;return o(e,(function(e,r,o,a,s){i=0===r&&void 0===n?e:t(i,e,r,o,a,s)}),r),i},t.featureEach=a,t.featureReduce=function(e,t,n){var r=n;return a(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":return r.point(c,l,t);case"MultiPoint":return i<0&&(i=c.length+i),r.point(c[i],l,t);case"LineString":return s<0&&(s=c.length+s),r.point(c[s],l,t);case"Polygon":return a<0&&(a=c.length+a),s<0&&(s=c[a].length+s),r.point(c[a][s],l,t);case"MultiLineString":return i<0&&(i=c.length+i),s<0&&(s=c[i].length+s),r.point(c[i][s],l,t);case"MultiPolygon":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),s<0&&(s=c[i][a].length-s),r.point(c[i][a][s],l,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=c.length+s-1),r.lineString([c[s],c[s+1]],l,t);case"Polygon":return a<0&&(a=c.length+a),s<0&&(s=c[a].length+s-1),r.lineString([c[a][s],c[a][s+1]],l,t);case"MultiLineString":return i<0&&(i=c.length+i),s<0&&(s=c[i].length+s-1),r.lineString([c[i][s],c[i][s+1]],l,t);case"MultiPolygon":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),s<0&&(s=c[i][a].length-s-1),r.lineString([c[i][a][s],c[i][a][s+1]],l,t)}throw new Error("geojson is invalid")},t.flattenEach=l,t.flattenReduce=function(e,t,n){var r=n;return l(e,(function(e,o,i){r=0===o&&0===i&&void 0===n?e:t(r,e,o,i)})),r},t.geomEach=s,t.geomReduce=function(e,t,n){var r=n;return s(e,(function(e,o,i,a,s){r=0===o&&void 0===n?e:t(r,e,o,i,a,s)})),r},t.lineEach=u,t.lineReduce=function(e,t,n){var r=n;return u(e,(function(e,o,i,a){r=0===o&&void 0===n?e:t(r,e,o,i,a)})),r},t.propEach=i,t.propReduce=function(e,t,n){var r=n;return i(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.segmentEach=c,t.segmentReduce=function(e,t,n){var r=n,o=!1;return c(e,(function(e,i,a,s,l){r=!1===o&&void 0===n?e:t(r,e,i,a,s,l),o=!0})),r}},88748:(e,t,n)=>{"use strict";var r=n(51288),o=n(24202),i=n(9391);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r),l=a(o),c=a(i);function u(e,t){var n=c.default(e,t),r=s.default(e,t);return l.default(e,n/2,r)}e.exports=u,e.exports.default=u},37938:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(17484)),i=n(58421);function a(e){for(var t=0,n=0,r=e;n<r.length;n++)t+=r[n];return t/e.length}t.default=function(e,t){var n=t.inputField,r=t.threshold||1e5,s=t.p||2,l=t.binary||!1,c=t.alpha||-1,u=t.standardization||!0,p=o.default(e,{alpha:c,binary:l,p:s,standardization:u,threshold:r}),f=[];i.featureEach(e,(function(e){var t=e.properties||{};f.push(t[n])}));for(var d=a(f),h=function(e){for(var t=a(e),n=0,r=0,o=e;r<o.length;r++){var i=o[r];n+=Math.pow(i-t,2)}return n/e.length}(f),y=0,g=0,m=0,v=0,b=p.length,_=0;_<b;_++){for(var w=0,P=0;P<b;P++)y+=p[_][P]*(f[_]-d)*(f[P]-d),g+=p[_][P],m+=Math.pow(p[_][P]+p[P][_],2),w+=p[_][P]+p[P][_];v+=Math.pow(w,2)}var C=y/g/h,O=-1/(b-1),x=(b*b*(m*=.5)-b*v+g*g*3)/((b-1)*(b+1)*(g*g))-O*O,S=Math.sqrt(x);return{expectedMoranIndex:O,moranIndex:C,stdNorm:S,zNorm:(C-O)/S}}},17696:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51288)),i=r(n(9391)),a=r(n(24202)),s=r(n(23154)),l=n(58421),c=n(88967),u=n(78506);t.default=function(e,t,n){void 0===n&&(n={});var r=c.point([1/0,1/0],{dist:1/0}),p=0;return l.flattenEach(e,(function(e){for(var l=u.getCoords(e),f=0;f<l.length-1;f++){var d=c.point(l[f]);d.properties.dist=i.default(t,d,n);var h=c.point(l[f+1]);h.properties.dist=i.default(t,h,n);var y=i.default(d,h,n),g=Math.max(d.properties.dist,h.properties.dist),m=o.default(d,h),v=a.default(t,g,m+90,n),b=a.default(t,g,m-90,n),_=s.default(c.lineString([v.geometry.coordinates,b.geometry.coordinates]),c.lineString([d.geometry.coordinates,h.geometry.coordinates])),w=null;_.features.length>0&&((w=_.features[0]).properties.dist=i.default(t,w,n),w.properties.location=p+i.default(d,w,n)),d.properties.dist<r.properties.dist&&((r=d).properties.index=f,r.properties.location=p),h.properties.dist<r.properties.dist&&((r=h).properties.index=f+1,r.properties.location=p+y),w&&w.properties.dist<r.properties.dist&&((r=w).properties.index=f),p+=y}})),r}},33284:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(78506),i=n(58421),a=r(n(83183)),s=r(n(45228));t.default=function(e,t,n){void 0===n&&(n={});var r=n.units,l=n.properties||{},c=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((function(e){return"Point"===e.geometry.type})),e;default:throw new Error("points must be a Point Collection")}}(e);if(!c.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==o.getType(t))throw new Error("line must be a LineString");var u=1/0,p=null;return i.featureEach(c,(function(e){var n=a.default(e,t,{units:r});n<u&&(u=n,p=e)})),p&&(p.properties=s.default({dist:u},p.properties,l)),p}},69791:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(53711)),i=r(n(9391)),a=n(58421);t.default=function(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,s=0;return a.featureEach(t,(function(t,n){var o=i.default(e,t);o<r&&(s=n,r=o)})),(n=o.default(t.features[s])).properties.featureIndex=s,n.properties.distanceToPoint=r,n}},8220:(e,t,n)=>{"use strict";var r=n(78506);function o(e,t){var n=r.getCoord(e),o=r.getGeom(t).coordinates[0];if(o.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},a=i.a,s=i.b,l=i.c,c=n[0],u=n[1],p=o[0][0],f=o[0][1],d=void 0!==a?a:o[0][2],h=o[1][0],y=o[1][1],g=void 0!==s?s:o[1][2],m=o[2][0],v=o[2][1],b=void 0!==l?l:o[2][2];return(b*(c-p)*(u-y)+d*(c-h)*(u-v)+g*(c-m)*(u-f)-g*(c-p)*(u-v)-b*(c-h)*(u-f)-d*(c-m)*(u-y))/((c-p)*(u-y)+(c-h)*(u-v)+(c-m)*(u-f)-(c-p)*(u-v)-(c-h)*(u-f)-(c-m)*(u-y))}e.exports=o,e.exports.default=o},7497:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(74960)),i=r(n(9391)),a=n(88967);t.default=function(e,t,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var r=[],s=e[0],l=e[1],c=e[2],u=e[3],p=t/i.default([s,l],[c,l],n)*(c-s),f=t/i.default([s,l],[s,u],n)*(u-l),d=c-s,h=u-l,y=Math.floor(d/p),g=(h-Math.floor(h/f)*f)/2,m=s+(d-y*p)/2;m<=c;){for(var v=l+g;v<=u;){var b=a.point([m,v],n.properties);n.mask?o.default(b,n.mask)&&r.push(b):r.push(b),v+=f}m+=p}return a.featureCollection(r)}},16979:(e,t,n)=>{"use strict";var r=n(83707),o=n(66649),i=n(69791),a=n(82446),s=n(88967);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),u=l(o),p=l(i),f=l(a);function d(e){for(var t=function(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?s.featureCollection([s.feature(e)]):s.featureCollection([e]):e}(e),n=u.default(t),r=!1,o=0;!r&&o<t.features.length;){var i,a=t.features[o].geometry,l=!1;if("Point"===a.type)n.geometry.coordinates[0]===a.coordinates[0]&&n.geometry.coordinates[1]===a.coordinates[1]&&(r=!0);else if("MultiPoint"===a.type){var d=!1;for(i=0;!d&&i<a.coordinates.length;)n.geometry.coordinates[0]===a.coordinates[i][0]&&n.geometry.coordinates[1]===a.coordinates[i][1]&&(r=!0,d=!0),i++}else if("LineString"===a.type)for(i=0;!l&&i<a.coordinates.length-1;)h(n.geometry.coordinates[0],n.geometry.coordinates[1],a.coordinates[i][0],a.coordinates[i][1],a.coordinates[i+1][0],a.coordinates[i+1][1])&&(l=!0,r=!0),i++;else if("MultiLineString"===a.type)for(var y=0;y<a.coordinates.length;){l=!1,i=0;for(var g=a.coordinates[y];!l&&i<g.length-1;)h(n.geometry.coordinates[0],n.geometry.coordinates[1],g[i][0],g[i][1],g[i+1][0],g[i+1][1])&&(l=!0,r=!0),i++;y++}else"Polygon"!==a.type&&"MultiPolygon"!==a.type||f.default(n,a)&&(r=!0);o++}if(r)return n;var m=s.featureCollection([]);for(o=0;o<t.features.length;o++)m.features=m.features.concat(c.default(t.features[o]).features);return s.point(p.default(n,m).geometry.coordinates)}function h(e,t,n,r,o,i){return Math.sqrt((o-n)*(o-n)+(i-r)*(i-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t))}e.exports=d,e.exports.default=d},83183:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9391)),i=n(88967),a=n(78506),s=n(58421),l=r(n(9778));function c(e,t){return e[0]*t[0]+e[1]*t[1]}function u(e,t,n){return"planar"===n.method?l.default(e,t,n):o.default(e,t,n)}t.default=function(e,t,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=i.point(e):"Point"===e.type?e=i.feature(e):a.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=i.lineString(t):"LineString"===t.type?t=i.feature(t):a.featureOf(t,"LineString","line");var r=1/0,o=e.geometry.coordinates;return s.segmentEach(t,(function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],a=function(e,t,n,r){var o=[n[0]-t[0],n[1]-t[1]],i=c([e[0]-t[0],e[1]-t[1]],o);if(i<=0)return u(e,t,{method:r.method,units:"degrees"});var a=c(o,o);if(a<=i)return u(e,n,{method:r.method,units:"degrees"});var s=i/a;return u(e,[t[0]+s*o[0],t[1]+s*o[1]],{method:r.method,units:"degrees"})}(o,t,i,n);a<r&&(r=a)})),i.convertLength(r,"degrees",n.units)}},26432:(e,t,n)=>{"use strict";var r=n(82446),o=n(88967),i=n(58421);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r);function l(e,t){var n=[];return i.featureEach(e,(function(e){var r=!1;if("Point"===e.geometry.type)i.geomEach(t,(function(t){s.default(e,t)&&(r=!0)})),r&&n.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var a=[];i.geomEach(t,(function(t){i.coordEach(e,(function(e){s.default(e,t)&&(r=!0,a.push(e))}))})),r&&n.push(o.multiPoint(a))}})),o.featureCollection(n)}e.exports=l,e.exports.default=l},26775:(e,t,n)=>{"use strict";var r=n(58421),o=n(88967);function i(e,t){var n=[],i=t.iterations||1;if(!e)throw new Error("inputPolys is required");return r.geomEach(e,(function(e,t,r){var l,c,u;switch(e.type){case"Polygon":l=[[]];for(var p=0;p<i;p++)u=[[]],c=e,p>0&&(c=o.polygon(l).geometry),a(c,u),l=u.slice(0);n.push(o.polygon(l,r));break;case"MultiPolygon":l=[[[]]];for(var f=0;f<i;f++)u=[[[]]],c=e,f>0&&(c=o.multiPolygon(l).geometry),s(c,u),l=u.slice(0);n.push(o.multiPolygon(l,r));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),o.featureCollection(n)}function a(e,t){var n=0,o=0;r.coordEach(e,(function(r,i,a,s,l){l>n&&(n=l,o=i,t.push([]));var c=i-o,u=e.coordinates[l][c+1],p=r[0],f=r[1],d=u[0],h=u[1];t[l].push([.75*p+.25*d,.75*f+.25*h]),t[l].push([.25*p+.75*d,.25*f+.75*h])}),!0),t.forEach((function(e){e.push(e[0])}))}function s(e,t){var n=0,o=0,i=0;r.coordEach(e,(function(r,a,s,l,c){l>i&&(i=l,o=a,t.push([[]])),c>n&&(n=c,o=a,t[l].push([]));var u=a-o,p=e.coordinates[l][c][u+1],f=r[0],d=r[1],h=p[0],y=p[1];t[l][c].push([.75*f+.25*h,.75*d+.25*y]),t[l][c].push([.25*f+.75*h,.25*d+.75*y])}),!0),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}e.exports=i,e.exports.default=i},24951:(e,t,n)=>{"use strict";var r=n(78506),o=n(88967),i=n(44383),a=n(83707),s=n(69791);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(i),u=l(a),p=l(s);function f(e,t){var n,i,a,s,l=r.getCoords(e),f=r.getCoords(t),y=c.default(t),g=0,m=null;switch(l[0]>y[0]&&l[0]<y[2]&&l[1]>y[1]&&l[1]<y[3]&&(g=(m=p.default(e,u.default(t))).properties.featureIndex),r.getType(t)){case"Polygon":n=f[0][g],i=f[0][0],null!==m&&m.geometry.coordinates[1]<l[1]&&(i=f[0][g]),s=h(f[0][0],f[0][f[0].length-1],l);var v=d(f[0],l,s,a,n,i);n=v[0],i=v[1];break;case"MultiPolygon":for(var b=0,_=0,w=0,P=0;P<f[0].length;P++){b=P;for(var C=!1,O=0;O<f[0][P].length;O++){if(_=O,w===g){C=!0;break}w++}if(C)break}n=f[0][b][_],i=f[0][b][_],s=h(f[0][0][0],f[0][0][f[0][0].length-1],l),f.forEach((function(e){var t=d(e[0],l,s,a,n,i);n=t[0],i=t[1]}))}return o.featureCollection([o.point(n),o.point(i)])}function d(e,t,n,r,o,i){for(var a=0;a<e.length;a++){var s=e[a],l=e[a+1];a===e.length-1&&(l=e[0]),r=h(s,l,t),n<=0&&r>0?h(t,s,o)<0||(o=s):n>0&&r<=0&&(h(t,s,i)>0||(i=s)),n=r}return[o,i]}function h(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}e.exports=f,e.exports.default=f},24527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);function i(e,t){return void 0===t&&(t={}),s(o.getGeom(e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function a(e,t){void 0===t&&(t={});var n=o.getGeom(e).coordinates,i=t.properties?t.properties:"Feature"===e.type?e.properties:{},a=[];return n.forEach((function(e){a.push(s(e,i))})),r.featureCollection(a)}function s(e,t){return e.length>1?r.multiLineString(e,t):r.lineString(e[0],t)}t.default=function(e,t){void 0===t&&(t={});var n=o.getGeom(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),n.type){case"Polygon":return i(n,t);case"MultiPolygon":return a(n,t);default:throw new Error("invalid poly")}},t.polygonToLine=i,t.multiPolygonToLine=a,t.coordsToLine=s},57804:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88967),i=r(n(48828)),a=r(n(49977));t.default=function(e){var t=i.default.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var n=[],r=[];return t.getEdgeRings().filter((function(e){return e.isValid()})).forEach((function(e){e.isHole()?n.push(e):r.push(e)})),n.forEach((function(e){a.default.findEdgeRingContaining(e,r)&&r.push(e)})),o.featureCollection(r.map((function(e){return e.toPolygon()})))}},53707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(24898),i=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return r.lineString([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return o.orientationIndex(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}();t.default=i},49977:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(24898),i=n(88967),a=r(n(2120)),s=r(n(82446)),l=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,n,r){return n.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=r),t}),0),n=(0===t?this.length:t)-1,r=(t+1)%this.length,i=o.orientationIndex(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},e.prototype.toMultiPoint=function(){return i.multiPoint(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=i.polygon([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=a.default(this.toPolygon())},e.findEdgeRingContaining=function(e,t){var n,r,a=e.getEnvelope();return t.forEach((function(t){var s=t.getEnvelope();if(r&&(n=r.getEnvelope()),!o.envelopeIsEqual(s,a)&&o.envelopeContains(s,a)){for(var l=e.map((function(e){return e.from.coordinates})),c=void 0,u=function(e){t.some((function(t){return o.coordinatesEqual(e,t.from.coordinates)}))||(c=e)},p=0,f=l;p<f.length;p++)u(f[p]);c&&t.inside(i.point(c))&&(r&&!o.envelopeContains(n,s)||(r=t))}})),r},e.prototype.inside=function(e){return s.default(e,this.toPolygon())},e}();t.default=l},48828:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(96518)),i=r(n(53707)),a=r(n(49977)),s=n(58421),l=n(78506),c=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var n=new e;return s.flattenEach(t,(function(e){l.featureOf(e,"LineString","Graph::fromGeoJson"),s.coordReduce(e,(function(e,t){if(e){var r=n.getNode(e),o=n.getNode(t);n.addEdge(r,o)}return t}))})),n},e.prototype.getNode=function(e){var t=o.default.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new o.default(e)),n},e.prototype.addEdge=function(e,t){var n=new i.default(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),n.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var n,r,o=e.getOuterEdges(),i=o.length-1;i>=0;--i){var a=o[i],s=a.symetric,l=void 0,c=void 0;a.label===t&&(l=a),s.label===t&&(c=s),l&&c&&(c&&(r=c),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(n){e._computeNextCCWEdges(n,t.label)}))}));var t=[];return this.edges.forEach((function(n){n.ring||t.push(e._findEdgeRing(n))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],n=e,r=function(){var r=0;n.from.getOuterEdges().forEach((function(t){t.label===e.label&&++r})),r>1&&t.push(n.from),n=n.next};do{r()}while(!e.isEqual(n));return t},e.prototype._findEdgeRing=function(e){var t=e,n=new a.default;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()},e}();t.default=c},96518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24898),o=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,n){var o=t.to,i=n.to;if(o.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(o.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(o.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return o.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?o.coordinates[1]-i.coordinates[1]:i.coordinates[1]-o.coordinates[1];var a=r.orientationIndex(e.coordinates,o.coordinates,i.coordinates);return a<0?1:a>0?-1:Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}();t.default=o},24898:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(82446)),i=n(88967);t.orientationIndex=function(e,t,n){var r,o=t[0]-e[0],i=t[1]-e[1],a=n[0]-t[0];return((r=o*(n[1]-t[1])-a*i)>0)-(r<0)||+r},t.envelopeIsEqual=function(e,t){var n=e.geometry.coordinates[0].map((function(e){return e[0]})),r=e.geometry.coordinates[0].map((function(e){return e[1]})),o=t.geometry.coordinates[0].map((function(e){return e[0]})),i=t.geometry.coordinates[0].map((function(e){return e[1]}));return Math.max.apply(null,n)===Math.max.apply(null,o)&&Math.max.apply(null,r)===Math.max.apply(null,i)&&Math.min.apply(null,n)===Math.min.apply(null,o)&&Math.min.apply(null,r)===Math.min.apply(null,i)},t.envelopeContains=function(e,t){return t.geometry.coordinates[0].every((function(t){return o.default(i.point(t),e)}))},t.coordinatesEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},31101:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(58421),i=n(88967),a=r(n(53711));function s(e,t,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&i.isNumber(e[0])?e="mercator"===t?l(e):c(e):(!0!==r&&(e=a.default(e)),o.coordEach(e,(function(e){var n="mercator"===t?l(e):c(e);e[0]=n[0],e[1]=n[1]}))),e}function l(e){var t,n=Math.PI/180,r=6378137,o=20037508.342789244,i=[r*(Math.abs(e[0])<=180?e[0]:e[0]-360*((t=e[0])<0?-1:t>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*e[1]*n))];return i[0]>o&&(i[0]=o),i[0]<-o&&(i[0]=-o),i[1]>o&&(i[1]=o),i[1]<-o&&(i[1]=-o),i}function c(e){var t=180/Math.PI,n=6378137;return[e[0]*t/n,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/n)))*t]}t.toMercator=function(e,t){return void 0===t&&(t={}),s(e,"mercator",t)},t.toWgs84=function(e,t){return void 0===t&&(t={}),s(e,"wgs84",t)}},94575:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(88967);function i(e){return Array.isArray(e)?s(e):e&&e.bbox?s(e.bbox):[360*a(),180*a()]}function a(){return Math.random()-.5}function s(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}t.randomPosition=i,t.randomPoint=function(e,t){void 0===t&&(t={}),null==e&&(e=1);for(var n=[],r=0;r<e;r++)n.push(o.point(i(t.bbox)));return o.featureCollection(n)},t.randomPolygon=function(e,t){void 0===t&&(t={}),null==e&&(e=1),o.isNumber(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),o.isNumber(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);for(var n=[],a=function(e){var a,s=[],l=r(Array(t.num_vertices+1)).map(Math.random);l.forEach((function(e,t,n){n[t]=t>0?e+n[t-1]:e})),l.forEach((function(e){e=2*e*Math.PI/l[l.length-1];var n=Math.random();s.push([n*(t.max_radial_length||10)*Math.sin(e),n*(t.max_radial_length||10)*Math.cos(e)])})),s[s.length-1]=s[0],s=s.map((a=i(t.bbox),function(e){return[e[0]+a[0],e[1]+a[1]]})),n.push(o.polygon([s]))},s=0;s<e;s++)a();return o.featureCollection(n)},t.randomLineString=function(e,t){if(void 0===t&&(t={}),t=t||{},!o.isObject(t))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,a=t.max_length,s=t.max_rotation;null==e&&(e=1),(!o.isNumber(r)||void 0===r||r<2)&&(r=10),o.isNumber(a)&&void 0!==a||(a=1e-4),o.isNumber(s)&&void 0!==s||(s=Math.PI/8);for(var l=[],c=0;c<e;c++){for(var u=[i(n)],p=0;p<r-1;p++){var f=(0===p?2*Math.random()*Math.PI:Math.tan((u[p][1]-u[p-1][1])/(u[p][0]-u[p-1][0])))+(Math.random()-.5)*s*2,d=Math.random()*a;u.push([u[p][0]+d*Math.cos(f),u[p][1]+d*Math.sin(f)])}l.push(o.lineString(u))}return o.featureCollection(l)}},37112:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(69353)),i=r(n(9391)),a=n(88967);t.default=function(e,t,n,r){void 0===r&&(r={});for(var s=[],l=e[0],c=e[1],u=e[2],p=e[3],f=t/i.default([l,c],[u,c],r)*(u-l),d=n/i.default([l,c],[l,p],r)*(p-c),h=u-l,y=p-c,g=Math.floor(h/f),m=Math.floor(y/d),v=(y-m*d)/2,b=l+(h-g*f)/2,_=0;_<g;_++){for(var w=c+v,P=0;P<m;P++){var C=a.polygon([[[b,w],[b,w+d],[b+f,w+d],[b+f,w],[b,w]]],r.properties);r.mask?o.default(r.mask,C)&&s.push(C):s.push(C),w+=d}b+=f}return a.featureCollection(s)}},12163:(e,t,n)=>{"use strict";var r=n(53711),o=n(17333),i=n(58421),a=n(78506),s=n(88967);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),u=l(o);function p(e,t){if(t=t||{},!s.isObject(t))throw new Error("options is invalid");var n=t.reverse||!1,r=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(e=c.default(e));var o=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){f(e,n)})),e;case"FeatureCollection":return i.featureEach(e,(function(e){i.featureEach(f(e,n),(function(e){o.push(e)}))})),s.featureCollection(o)}return f(e,n)}function f(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){f(e,t)})),e;case"LineString":return d(a.getCoords(e),t),e;case"Polygon":return h(a.getCoords(e),t),e;case"MultiLineString":return a.getCoords(e).forEach((function(e){d(e,t)})),e;case"MultiPolygon":return a.getCoords(e).forEach((function(e){h(e,t)})),e;case"Point":case"MultiPoint":return e}}function d(e,t){u.default(e)===t&&e.reverse()}function h(e,t){u.default(e[0])!==t&&e[0].reverse();for(var n=1;n<e.length;n++)u.default(e[n])===t&&e[n].reverse()}e.exports=p,e.exports.default=p},92307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);function i(e,t){var n=r.degreesToRadians(e[1]),o=r.degreesToRadians(t[1]),i=r.degreesToRadians(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var a=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),s=Math.atan2(i,a);return(r.radiansToDegrees(s)+360)%360}t.default=function(e,t,n){var r;return void 0===n&&(n={}),(r=n.final?i(o.getCoord(t),o.getCoord(e)):i(o.getCoord(e),o.getCoord(t)))>180?-(360-r):r}},37153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);t.default=function(e,t,n,i){void 0===i&&(i={});var a=t<0,s=r.convertLength(Math.abs(t),i.units,"meters");a&&(s=-Math.abs(s));var l=o.getCoord(e),c=function(e,t,n,o){var i=t/(o=void 0===o?r.earthRadius:Number(o)),a=e[0]*Math.PI/180,s=r.degreesToRadians(e[1]),l=r.degreesToRadians(n),c=i*Math.cos(l),u=s+c;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var p=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),f=Math.abs(p)>1e-11?c/p:Math.cos(s);return[(180*(a+i*Math.sin(l)/f)/Math.PI+540)%360-180,180*u/Math.PI]}(l,s,n);return c[0]+=c[0]-l[0]>180?-360:l[0]-c[0]>180?360:0,r.point(c,i.properties)}},9778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967),o=n(78506);t.default=function(e,t,n){void 0===n&&(n={});var i=o.getCoord(e),a=o.getCoord(t);a[0]+=a[0]-i[0]>180?-360:i[0]-a[0]>180?360:0;var s=function(e,t,n){var o=n=void 0===n?r.earthRadius:Number(n),i=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-i,l=Math.abs(t[0]-e[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var c=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),u=Math.abs(c)>1e-11?s/c:Math.cos(i);return Math.sqrt(s*s+u*u*l*l)*o}(i,a);return r.convertLength(s,"meters",n.units)}},99730:(e,t,n)=>{"use strict";var r=n(88967);function o(e,t){if(!e)throw new Error("featurecollection is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return r.featureCollection(function(e,t){for(var n,r,o=e.slice(0),i=e.length,a=i-t;i-- >a;)n=o[r=Math.floor((i+1)*Math.random())],o[r]=o[i],o[i]=n;return o.slice(a)}(e.features,t))}e.exports=o,e.exports.default=o},1786:(e,t,n)=>{"use strict";var r=n(45764),o=n(375),i=n(58421),a=n(88967),s=n(78506);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),u=l(o);function p(e,t,n,r,o){if(o=o||{},!a.isObject(o))throw new Error("options is invalid");var l=o.properties;if(!e)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof o)throw new Error("options must be an object");if(f(n)===f(r))return c.default(e,t,o);var p=s.getCoords(e),d=u.default(e,t,n,r,o),h=[[p]];return i.coordEach(d,(function(e){h[0].push(e)})),h[0].push(p),a.polygon(h,l)}function f(e){var t=e%360;return t<0&&(t+=360),t}e.exports=p,e.exports.default=p},39736:(e,t,n)=>{"use strict";var r=n(44383),o=n(82446),i=n(9391),a=n(31925),s=n(22086),l=n(13932),c=n(78506),u=n(88967);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(r),d=p(o),h=p(i),y=p(a),g=p(s),m=p(l);function v(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}var b={search:function(e,t,n,r){e.cleanDirty();var o=(r=r||{}).heuristic||b.heuristics.manhattan,i=r.closest||!1,a=new P((function(e){return e.f})),s=t;for(t.h=o(t,n),a.push(t);a.size()>0;){var l=a.pop();if(l===n)return v(l);l.closed=!0;for(var c=e.neighbors(l),u=0,p=c.length;u<p;++u){var f=c[u];if(!f.closed&&!f.isWall()){var d=l.g+f.getCost(l),h=f.visited;(!h||d<f.g)&&(f.visited=!0,f.parent=l,f.h=f.h||o(f,n),f.g=d,f.f=f.g+f.h,e.markDirty(f),i&&(f.h<s.h||f.h===s.h&&f.g<s.g)&&(s=f),h?a.rescoreElement(f):a.push(f))}}}return i?v(s):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var n=Math.sqrt(2),r=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return 1*(r+o)+(n-2)*Math.min(r,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function _(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,o=e[n];r<o.length;r++){var i=new w(n,r,o[r]);this.grid[n][r]=i,this.nodes.push(i)}}this.init()}function w(e,t,n){this.x=e,this.y=t,this.weight=n}function P(e){this.content=[],this.scoreFunction=e}function C(e,t,n){if(n=n||{},!u.isObject(n))throw new Error("options is invalid");var r=n.resolution,o=n.minDistance,i=n.obstacles||u.featureCollection([]);if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(r&&!u.isNumber(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var a=c.getCoord(e),s=c.getCoord(t);switch(e=u.point(a),t=u.point(s),c.getType(i)){case"FeatureCollection":if(0===i.features.length)return u.lineString([a,s]);break;case"Polygon":i=u.featureCollection([u.feature(c.getGeom(i))]);break;default:throw new Error("invalid obstacles")}var l=i;l.features.push(e),l.features.push(t);var p=f.default(y.default(m.default(f.default(l)),1.15));r||(r=h.default([p[0],p[1]],[p[2],p[1]],n)/100),l.features.pop(),l.features.pop();for(var d=p[0],v=p[1],w=p[2],P=p[3],C=r/h.default([d,v],[w,v],n)*(w-d),x=r/h.default([d,v],[d,P],n)*(P-v),S=w-d,E=P-v,j=Math.floor(S/C),T=Math.floor(E/x),M=(S-j*C)/2,A=[],I=[],z=[],D=[],N=1/0,R=1/0,k=P-(E-T*x)/2,L=0;k>=v;){for(var F=[],B=[],V=d+M,G=0;V<=w;){var U=u.point([V,k]),W=O(U,i);F.push(W?0:1),B.push(V+"|"+k);var H=h.default(U,e);!W&&H<N&&(N=H,z={x:G,y:L});var J=h.default(U,t);!W&&J<R&&(R=J,D={x:G,y:L}),V+=C,G++}I.push(F),A.push(B),k-=x,L++}var q=new _(I,{diagonal:!0}),Y=q.grid[z.y][z.x],X=q.grid[D.y][D.x],Z=b.search(q,Y,X),K=[a];return Z.forEach((function(e){var t=A[e.x][e.y].split("|");K.push([+t[0],+t[1]])})),K.push(s),g.default(u.lineString(K))}function O(e,t){for(var n=0;n<t.features.length;n++)if(d.default(e,t.features[n]))return!0;return!1}_.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)b.cleanNode(this.nodes[e])},_.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)b.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},_.prototype.markDirty=function(e){this.dirtyNodes.push(e)},_.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,o=this.grid;return o[n-1]&&o[n-1][r]&&t.push(o[n-1][r]),o[n+1]&&o[n+1][r]&&t.push(o[n+1][r]),o[n]&&o[n][r-1]&&t.push(o[n][r-1]),o[n]&&o[n][r+1]&&t.push(o[n][r+1]),this.diagonal&&(o[n-1]&&o[n-1][r-1]&&t.push(o[n-1][r-1]),o[n+1]&&o[n+1][r-1]&&t.push(o[n+1][r-1]),o[n-1]&&o[n-1][r+1]&&t.push(o[n-1][r+1]),o[n+1]&&o[n+1][r+1]&&t.push(o[n+1][r+1])),t},_.prototype.toString=function(){for(var e,t,n,r,o=[],i=this.grid,a=0,s=i.length;a<s;a++){for(e=[],n=0,r=(t=i[a]).length;n<r;n++)e.push(t[n].weight);o.push(e.join(" "))}return o.join("\n")},w.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},w.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},w.prototype.isWall=function(){return 0===this.weight},P.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var o,i=e+1<<1,a=i-1,s=null;if(a<t){var l=this.content[a];(o=this.scoreFunction(l))<r&&(s=a)}if(i<t){var c=this.content[i];this.scoreFunction(c)<(null===s?r:o)&&(s=i)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}},e.exports=C,e.exports.default=C},1111:(e,t,n)=>{"use strict";var r=n(22086),o=n(53711),i=n(58421),a=n(88967);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),c=s(o);function u(e,t,n){var r=t.x,o=t.y,i=n.x-r,a=n.y-o;if(0!==i||0!==a){var s=((e.x-r)*i+(e.y-o)*a)/(i*i+a*a);s>1?(r=n.x,o=n.y):s>0&&(r+=i*s,o+=a*s)}return(i=e.x-r)*i+(a=e.y-o)*a}function p(e,t,n,r,o){for(var i,a=r,s=t+1;s<n;s++){var l=u(e[s],e[t],e[n]);l>a&&(i=s,a=l)}a>r&&(i-t>1&&p(e,t,i,r,o),o.push(e[i]),n-i>1&&p(e,i,n,r,o))}function f(e,t){var n=e.length-1,r=[e[0]];return p(e,0,n,t,r),r.push(e[n]),r}function d(e,t,n){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return e=n?e:function(e,t){for(var n,r,o,i,a,s=e[0],l=[s],c=1,u=e.length;c<u;c++)o=s,void 0,void 0,(i=(r=n=e[c]).x-o.x)*i+(a=r.y-o.y)*a>t&&(l.push(n),s=n);return s!==n&&l.push(n),l}(e,r),f(e,r)}function h(e,t){if(t=t||{},!a.isObject(t))throw new Error("options is invalid");var n=void 0!==t.tolerance?t.tolerance:1,r=t.highQuality||!1,o=t.mutate||!1;if(!e)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==o&&(e=c.default(e)),i.geomEach(e,(function(e){!function(e,t,n){var r=e.type;if("Point"===r||"MultiPoint"===r)return e;l.default(e,!0);var o=e.coordinates;switch(r){case"LineString":e.coordinates=y(o,t,n);break;case"MultiLineString":e.coordinates=o.map((function(e){return y(e,t,n)}));break;case"Polygon":e.coordinates=g(o,t,n);break;case"MultiPolygon":e.coordinates=o.map((function(e){return g(e,t,n)}))}}(e,n,r)})),e}function y(e,t,n){return d(e.map((function(e){return{x:e[0],y:e[1],z:e[2]}})),t,n).map((function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]}))}function g(e,t,n){return e.map((function(e){var r=e.map((function(e){return{x:e[0],y:e[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var o=d(r,t,n).map((function(e){return[e.x,e.y]}));!m(o);)o=d(r,t-=.01*t,n).map((function(e){return[e.x,e.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function m(e){return!(e.length<3||3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}e.exports=h,e.exports.default=h},24512:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(37112));t.default=function(e,t,n){return void 0===n&&(n={}),o.default(e,t,t,n)}},62363:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(n(9391));function i(e){var t=e[0],n=e[1],r=e[2],i=e[3];if(o.default(e.slice(0,2),[r,n])>=o.default(e.slice(0,2),[t,i])){var a=(n+i)/2;return[t,a-(r-t)/2,r,a+(r-t)/2]}var s=(t+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}e.exports=i,e.exports.default=i},84333:(e,t,n)=>{"use strict";var r=n(58421),o=n(78506),i=n(88967),a=n(52779),s=n(26432),l=n(17420);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=c(a),p=c(s),f=c(l);function d(e,t){if(t=t||{},!i.isObject(t))throw new Error("options is invalid");var n=t.steps||64,a=t.weight,s=t.properties||{};if(!i.isNumber(n))throw new Error("steps must be a number");if(!i.isObject(s))throw new Error("properties must be a number");var l=r.coordAll(e).length,c=u.default(e,{weight:a}),d=0,y=0,g=0;r.featureEach(e,(function(e){var t=e.properties[a]||1,n=h(o.getCoords(e),o.getCoords(c));d+=Math.pow(n.x,2)*t,y+=Math.pow(n.y,2)*t,g+=n.x*n.y*t}));var m=d-y,v=Math.sqrt(Math.pow(m,2)+4*Math.pow(g,2)),b=2*g,_=Math.atan((m+v)/b),w=180*_/Math.PI,P=0,C=0,O=0;r.featureEach(e,(function(e){var t=e.properties[a]||1,n=h(o.getCoords(e),o.getCoords(c));P+=Math.pow(n.x*Math.cos(_)-n.y*Math.sin(_),2)*t,C+=Math.pow(n.x*Math.sin(_)+n.y*Math.cos(_),2)*t,O+=t}));var x=Math.sqrt(2*P/O),S=Math.sqrt(2*C/O),E=f.default(c,x,S,{units:"degrees",angle:w,steps:n,properties:s}),j=p.default(e,i.featureCollection([E])),T={meanCenterCoordinates:o.getCoords(c),semiMajorAxis:x,semiMinorAxis:S,numberOfFeatures:l,angle:w,percentageWithinEllipse:100*r.coordAll(j).length/l};return E.properties.standardDeviationalEllipse=T,E}function h(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}e.exports=d,e.exports.default=d},47974:(e,t,n)=>{"use strict";var r=n(82446),o=n(53711),i=n(58421);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r),l=a(o);function c(e,t,n,r){return e=l.default(e),t=l.default(t),i.featureEach(e,(function(e){e.properties||(e.properties={}),i.featureEach(t,(function(t){void 0===e.properties[r]&&s.default(e,t)&&(e.properties[r]=t.properties[n])}))})),e}e.exports=c,e.exports.default=c},53414:(e,t,n)=>{"use strict";var r=n(66570),o=n(88967);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(r);function s(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=l(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(l(e))})),t}function l(e){var t=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}(e),n=a.default(t.vertices,t.holes,2),r=[],i=[];n.forEach((function(e,r){var o=n[r];i.push([t.vertices[2*o],t.vertices[2*o+1]])}));for(var s=0;s<i.length;s+=3){var l=i.slice(s,s+3);l.push(i[s]),r.push(o.polygon([l]))}return r}e.exports=s,e.exports.default=s},92141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88967);t.default=function(e,t){var n=!1;return r.featureCollection(function(e){if(e.length<3)return[];e.sort(i);for(var t,n,r,s,l,c,u=e.length-1,p=e[u].x,f=e[0].x,d=e[u].y,h=d;u--;)e[u].y<d&&(d=e[u].y),e[u].y>h&&(h=e[u].y);var y,g=f-p,m=h-d,v=g>m?g:m,b=.5*(f+p),_=.5*(h+d),w=[new o({__sentinel:!0,x:b-20*v,y:_-v},{__sentinel:!0,x:b,y:_+20*v},{__sentinel:!0,x:b+20*v,y:_-v})],P=[],C=[];for(u=e.length;u--;){for(C.length=0,y=w.length;y--;)(g=e[u].x-w[y].x)>0&&g*g>w[y].r?(P.push(w[y]),w.splice(y,1)):g*g+(m=e[u].y-w[y].y)*m>w[y].r||(C.push(w[y].a,w[y].b,w[y].b,w[y].c,w[y].c,w[y].a),w.splice(y,1));for(a(C),y=C.length;y;)n=C[--y],t=C[--y],r=e[u],s=n.x-t.x,l=n.y-t.y,c=2*(s*(r.y-n.y)-l*(r.x-n.x)),Math.abs(c)>1e-12&&w.push(new o(t,n,r))}for(Array.prototype.push.apply(P,w),u=P.length;u--;)(P[u].a.__sentinel||P[u].b.__sentinel||P[u].c.__sentinel)&&P.splice(u,1);return P}(e.features.map((function(e){var r={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?r.z=e.properties[t]:3===e.geometry.coordinates.length&&(n=!0,r.z=e.geometry.coordinates[2]),r}))).map((function(e){var t=[e.a.x,e.a.y],o=[e.b.x,e.b.y],i=[e.c.x,e.c.y],a={};return n?(t.push(e.a.z),o.push(e.b.z),i.push(e.c.z)):a={a:e.a.z,b:e.b.z,c:e.c.z},r.polygon([[t,o,i,t]],a)})))};var o=function(e,t,n){this.a=e,this.b=t,this.c=n;var r,o,i=t.x-e.x,a=t.y-e.y,s=n.x-e.x,l=n.y-e.y,c=i*(e.x+t.x)+a*(e.y+t.y),u=s*(e.x+n.x)+l*(e.y+n.y),p=2*(i*(n.y-t.y)-a*(n.x-t.x));this.x=(l*c-a*u)/p,this.y=(i*u-s*c)/p,r=this.x-e.x,o=this.y-e.y,this.r=r*r+o*o};function i(e,t){return t.x-e.x}function a(e){var t,n,r,o,i,a=e.length;e:for(;a;)for(n=e[--a],t=e[--a],r=a;r;)if(i=e[--r],t===(o=e[--r])&&n===i||t===i&&n===o){e.splice(a,2),e.splice(r,2),a-=2;continue e}}},87948:(e,t,n)=>{"use strict";var r=n(44408),o=n(92307),i=n(9778),a=n(37153),s=n(53711),l=n(58421),c=n(78506),u=n(88967);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(r),d=p(o),h=p(i),y=p(a),g=p(s);function m(e,t,n){if(n=n||{},!u.isObject(n))throw new Error("options is invalid");var r=n.pivot,o=n.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(r||(r=f.default(e)),!1!==o&&void 0!==o||(e=g.default(e)),l.coordEach(e,(function(e){var n=d.default(r,e)+t,o=h.default(r,e),i=c.getCoords(y.default(r,o,n));e[0]=i[0],e[1]=i[1]}))),e}e.exports=m,e.exports.default=m},31925:(e,t,n)=>{"use strict";var r=n(53711),o=n(66649),i=n(44408),a=n(44383),s=n(92307),l=n(9778),c=n(37153),u=n(58421),p=n(88967),f=n(78506);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=d(r),y=d(o),g=d(i),m=d(a),v=d(s),b=d(l),_=d(c);function w(e,t,n){if(n=n||{},!p.isObject(n))throw new Error("options is invalid");var r=n.origin,o=n.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var i=Array.isArray(r)||"object"==typeof r;return!0!==o&&(e=h.default(e)),"FeatureCollection"!==e.type||i?P(e,t,r):(u.featureEach(e,(function(n,o){e.features[o]=P(n,t,r)})),e)}function P(e,t,n){var r="Point"===f.getType(e);return n=function(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return f.getCoord(t);var n=e.bbox?e.bbox:m.default(e),r=n[0],o=n[1],i=n[2],a=n[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return p.point([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return p.point([i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return p.point([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return p.point([i,a]);case"center":return y.default(e);case void 0:case null:case"centroid":return g.default(e);default:throw new Error("invalid origin")}}(e,n),1===t||r||u.coordEach(e,(function(e){var r=b.default(n,e),o=v.default(n,e),i=r*t,a=f.getCoords(_.default(n,i,o));e[0]=a[0],e[1]=a[1],3===e.length&&(e[2]*=t)})),e}e.exports=w,e.exports.default=w},8509:(e,t,n)=>{"use strict";var r=n(58421),o=n(88967),i=n(78506),a=n(53711),s=n(37153);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(a),u=l(s);function p(e,t,n,a){if(a=a||{},!o.isObject(a))throw new Error("options is invalid");var s=a.units,l=a.zTranslation,p=a.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(l&&"number"!=typeof l&&isNaN(l))throw new Error("zTranslation is not a number");if(l=void 0!==l?l:0,0===t&&0===l)return e;if(null==n||isNaN(n))throw new Error("direction is required");return t<0&&(t=-t,n+=180),!1!==p&&void 0!==p||(e=c.default(e)),r.coordEach(e,(function(e){var r=i.getCoords(u.default(e,t,n,{units:s}));e[0]=r[0],e[1]=r[1],l&&3===e.length&&(e[2]+=l)})),e}e.exports=p,e.exports.default=p},49269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9391)),i=r(n(49627)),a=n(88967);t.default=function(e,t,n){void 0===n&&(n={});for(var r=[],s=t/o.default([e[0],e[1]],[e[2],e[1]],n)*(e[2]-e[0]),l=t/o.default([e[0],e[1]],[e[0],e[3]],n)*(e[3]-e[1]),c=0,u=e[0];u<=e[2];){for(var p=0,f=e[1];f<=e[3];){var d=null,h=null;c%2==0&&p%2==0?(d=a.polygon([[[u,f],[u,f+l],[u+s,f],[u,f]]],n.properties),h=a.polygon([[[u,f+l],[u+s,f+l],[u+s,f],[u,f+l]]],n.properties)):c%2==0&&p%2==1?(d=a.polygon([[[u,f],[u+s,f+l],[u+s,f],[u,f]]],n.properties),h=a.polygon([[[u,f],[u,f+l],[u+s,f+l],[u,f]]],n.properties)):p%2==0&&c%2==1?(d=a.polygon([[[u,f],[u,f+l],[u+s,f+l],[u,f]]],n.properties),h=a.polygon([[[u,f],[u+s,f+l],[u+s,f],[u,f]]],n.properties)):p%2==1&&c%2==1&&(d=a.polygon([[[u,f],[u,f+l],[u+s,f],[u,f]]],n.properties),h=a.polygon([[[u,f+l],[u+s,f+l],[u+s,f],[u,f+l]]],n.properties)),n.mask?(i.default(n.mask,d)&&r.push(d),i.default(n.mask,h)&&r.push(h)):(r.push(d),r.push(h)),f+=l,p++}c++,u+=s}return a.featureCollection(r)}},56834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58421);t.default=function(e,t){void 0===t&&(t={});var n=t.precision,o=t.coordinates,i=t.mutate;if(n=null==n||isNaN(n)?6:n,o=null==o||isNaN(o)?3:o,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof o)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var a=Math.pow(10,n);return r.coordEach(e,(function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,a,o)})),e}},83855:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75784),o=n(91207),i=n(26432),a=n(30347),s=n(41484),l=n(79387),c=n(1111),u=n(70301),p=n(47974),f=n(99730),d=n(2120),h=n(62363),y=n(45764),g=n(88748),m=n(66649),v=n(56320),b=n(44408),_=n(82583),w=n(9391),P=n(83707),C=n(44383),O=n(53414),x=n(13932),S=n(82446),E=n(69791),j=n(17696),T=n(33284),M=n(8220),A=n(92141),I=n(51288),z=n(24202),D=n(35518),N=n(16979),R=n(17849),k=n(89399),L=n(88840),F=n(67969),B=n(4957),V=n(7497),G=n(56834),U=n(4036),W=n(23154),H=n(12222),J=n(37911),q=n(22352),Y=n(97042),X=n(23467),Z=n(375),K=n(24527),Q=n(78785),$=n(23574),ee=n(4300),te=n(1786),ne=n(92307),re=n(9778),oe=n(37153),ie=n(24951),ae=n(12163),se=n(71279),le=n(87948),ce=n(31925),ue=n(8509),pe=n(31972),fe=n(57804),de=n(61323),he=n(13974),ye=n(97971),ge=n(17333),me=n(8436),ve=n(85378),be=n(97447),_e=n(74960),we=n(69353),Pe=n(53711),Ce=n(22086),Oe=n(68703),xe=n(87521),Se=n(83183),Ee=n(83980),je=n(39736),Te=n(91356),Me=n(17420),Ae=n(52779),Ie=n(76724),ze=n(84333),De=n(24309),Ne=n(26775),Re=n(37938),ke=n(17484),Le=n(31101),Fe=n(94575),Be=n(15943),Ve=n(88967),Ge=n(78506),Ue=n(58421),We=n(74927),He=n(37262),Je=n(42057),qe=n(49627),Ye=n(27095),Xe=n(7564),Ze=n(47300),Ke=n(24512),Qe=n(49269),$e=n(49933);function et(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function tt(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var nt=et(r),rt=et(o),ot=et(i),it=et(a),at=et(s),st=et(l),lt=et(c),ct=et(u),ut=et(p),pt=et(f),ft=et(d),dt=et(h),ht=et(y),yt=et(g),gt=et(m),mt=et(v),vt=et(b),bt=et(_),_t=et(w),wt=et(P),Pt=et(C),Ct=et(O),Ot=et(x),xt=et(S),St=et(E),Et=et(j),jt=et(T),Tt=et(M),Mt=et(A),At=et(I),It=et(z),zt=et(D),Dt=et(N),Nt=et(R),Rt=et(k),kt=et(L),Lt=et(F),Ft=et(B),Bt=et(V),Vt=et(G),Gt=et(U),Ut=et(W),Wt=et(H),Ht=et(J),Jt=et(q),qt=et(Y),Yt=et(X),Xt=et(Z),Zt=et(K),Kt=et(Q),Qt=et($),$t=et(ee),en=et(te),tn=et(ne),nn=et(re),rn=et(oe),on=et(ie),an=et(ae),sn=et(se),ln=et(le),cn=et(ce),un=et(ue),pn=et(pe),fn=et(fe),dn=et(de),hn=et(he),yn=et(ye),gn=et(ge),mn=et(me),vn=et(ve),bn=et(be),_n=et(_e),wn=et(we),Pn=et(Pe),Cn=et(Ce),On=et(Oe),xn=et(xe),Sn=et(Se),En=et(Ee),jn=et(je),Tn=et(Te),Mn=et(Me),An=et(Ae),In=et(Ie),zn=et(ze),Dn=et(De),Nn=et(Ne),Rn=et(Re),kn=et(ke),Ln=tt(Le),Fn=tt(Fe),Bn=tt(Be),Vn=tt(Ve),Gn=tt(Ge),Un=tt(Ue),Wn=et(We),Hn=et(He),Jn=et(Je),qn=et(qe),Yn=et(Ye),Xn=et(Xe),Zn=et(Ze),Kn=et(Ke),Qn=et(Qe),$n=et($e);Object.keys(Le).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Le[e]}})})),Object.keys(Fe).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Fe[e]}})})),Object.keys(Be).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Be[e]}})})),Object.keys(Ve).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ve[e]}})})),Object.keys(Ge).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ge[e]}})})),Object.keys(Ue).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ue[e]}})})),Object.defineProperty(t,"isolines",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(t,"convex",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(t,"pointsWithinPolygon",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"within",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"concave",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(t,"collect",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(t,"flip",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(t,"simplify",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(t,"bezier",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"bezierSpline",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"tag",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(t,"envelope",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(t,"square",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(t,"circle",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(t,"midpoint",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(t,"center",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(t,"centerOfMass",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(t,"centroid",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(t,"combine",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(t,"distance",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(t,"explode",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(t,"bbox",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(t,"tesselate",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(t,"bboxPolygon",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(t,"booleanPointInPolygon",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"inside",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"nearest",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"nearestPoint",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"nearestPointOnLine",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"pointOnLine",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"nearestPointToLine",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"planepoint",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(t,"tin",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(t,"bearing",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(t,"destination",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(t,"kinks",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(t,"pointOnFeature",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"pointOnSurface",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"area",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(t,"along",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"lineDistance",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"lineSlice",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(t,"lineSliceAlong",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(t,"pointGrid",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(t,"truncate",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(t,"lineIntersect",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(t,"lineChunk",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(t,"unkinkPolygon",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(t,"greatCircle",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(t,"lineSegment",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(t,"lineSplit",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(t,"lineArc",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(t,"polygonToLine",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"polygonToLineString",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"lineStringToPolygon",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"lineToPolygon",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"bboxClip",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(t,"lineOverlap",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(t,"sector",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(t,"rhumbBearing",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(t,"rhumbDistance",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(t,"rhumbDestination",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(t,"polygonTangents",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(t,"rewind",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(t,"isobands",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(t,"transformRotate",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(t,"transformScale",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(t,"transformTranslate",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(t,"lineOffset",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(t,"polygonize",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(t,"booleanDisjoint",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(t,"booleanContains",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(t,"booleanCrosses",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(t,"booleanClockwise",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(t,"booleanOverlap",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(t,"booleanPointOnLine",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(t,"booleanEqual",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(t,"booleanWithin",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(t,"booleanIntersects",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return Pn.default}}),Object.defineProperty(t,"cleanCoords",{enumerable:!0,get:function(){return Cn.default}}),Object.defineProperty(t,"clustersDbscan",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(t,"clustersKmeans",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(t,"pointToLineDistance",{enumerable:!0,get:function(){return Sn.default}}),Object.defineProperty(t,"booleanParallel",{enumerable:!0,get:function(){return En.default}}),Object.defineProperty(t,"shortestPath",{enumerable:!0,get:function(){return jn.default}}),Object.defineProperty(t,"voronoi",{enumerable:!0,get:function(){return Tn.default}}),Object.defineProperty(t,"ellipse",{enumerable:!0,get:function(){return Mn.default}}),Object.defineProperty(t,"centerMean",{enumerable:!0,get:function(){return An.default}}),Object.defineProperty(t,"centerMedian",{enumerable:!0,get:function(){return In.default}}),Object.defineProperty(t,"standardDeviationalEllipse",{enumerable:!0,get:function(){return zn.default}}),Object.defineProperty(t,"angle",{enumerable:!0,get:function(){return Dn.default}}),Object.defineProperty(t,"polygonSmooth",{enumerable:!0,get:function(){return Nn.default}}),Object.defineProperty(t,"moranIndex",{enumerable:!0,get:function(){return Rn.default}}),Object.defineProperty(t,"distanceWeight",{enumerable:!0,get:function(){return kn.default}}),t.projection=Ln,t.random=Fn,t.clusters=Bn,Object.defineProperty(t,"bearingToAngle",{enumerable:!0,get:function(){return Ve.bearingToAzimuth}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return Ve.convertLength}}),Object.defineProperty(t,"degrees2radians",{enumerable:!0,get:function(){return Ve.degreesToRadians}}),Object.defineProperty(t,"distanceToDegrees",{enumerable:!0,get:function(){return Ve.lengthToDegrees}}),Object.defineProperty(t,"distanceToRadians",{enumerable:!0,get:function(){return Ve.lengthToRadians}}),t.helpers=Vn,Object.defineProperty(t,"radians2degrees",{enumerable:!0,get:function(){return Ve.radiansToDegrees}}),Object.defineProperty(t,"radiansToDistance",{enumerable:!0,get:function(){return Ve.radiansToLength}}),t.invariant=Gn,t.meta=Un,Object.defineProperty(t,"difference",{enumerable:!0,get:function(){return Wn.default}}),Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return Hn.default}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(t,"intersect",{enumerable:!0,get:function(){return qn.default}}),Object.defineProperty(t,"dissolve",{enumerable:!0,get:function(){return Yn.default}}),Object.defineProperty(t,"hexGrid",{enumerable:!0,get:function(){return Xn.default}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return Zn.default}}),Object.defineProperty(t,"squareGrid",{enumerable:!0,get:function(){return Kn.default}}),Object.defineProperty(t,"triangleGrid",{enumerable:!0,get:function(){return Qn.default}}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return $n.default}})},42057:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(59004)),i=n(78506),a=n(88967);t.default=function(e,t,n){void 0===n&&(n={});var r=i.getGeom(e),s=i.getGeom(t),l=o.default.union(r.coordinates,s.coordinates);return 0===l.length?null:1===l.length?a.polygon(l[0],n.properties):a.multiPolygon(l,n.properties)}},37911:(e,t,n)=>{"use strict";var r=n(58421),o=n(88967),i=n(72519),a=n(17849),s=n(82446);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(i),u=l(a),p=l(s);function f(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!f(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function d(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,n=[],r=0;r<t;r++){var i=e.geometry.coordinates[r];v(i[0],i[i.length-1])||i.push(i[0]),n.push.apply(n,i.slice(0,i.length-1))}if(!function(e){for(var t={},n=1,r=0,o=e.length;r<o;++r){if(Object.prototype.hasOwnProperty.call(t,e[r])){n=0;break}t[e[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var a=n.length,s=function(e,t,n){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=e.geometry.coordinates,o=[],i={};if(n){for(var a=[],s=0;s<r.length;s++)for(var l=0;l<r[s].length-1;l++)a.push(m(s,l));var u=c.default();u.load(a)}for(var p=0;p<r.length;p++)for(var d=0;d<r[p].length-1;d++)if(n)u.search(m(p,d)).forEach((function(e){var t=e.ring,n=e.edge;g(p,d,t,n)}));else for(var h=0;h<r.length;h++)for(var y=0;y<r[h].length-1;y++)g(p,d,h,y);return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function g(e,n,a,s){var l,c,u=r[e][n],p=r[e][n+1],d=r[a][s],h=r[a][s+1],y=function(e,t,n,r){if(f(e,n)||f(e,r)||f(t,n)||f(r,n))return null;var o=e[0],i=e[1],a=t[0],s=t[1],l=n[0],c=n[1],u=r[0],p=r[1],d=(o-a)*(c-p)-(i-s)*(l-u);return 0===d?null:[((o*s-i*a)*(l-u)-(o-a)*(l*p-c*u))/d,((o*s-i*a)*(c-p)-(i-s)*(l*p-c*u))/d]}(u,p,d,h);if(null!==y&&(l=p[0]!==u[0]?(y[0]-u[0])/(p[0]-u[0]):(y[1]-u[1])/(p[1]-u[1]),c=h[0]!==d[0]?(y[0]-d[0])/(h[0]-d[0]):(y[1]-d[1])/(h[1]-d[1]),!(l>=1||l<=0||c>=1||c<=0))){var g=y,m=!i[g];m&&(i[g]=!0),t?o.push(t(y,e,n,u,p,l,a,s,d,h,c,m)):o.push(y)}}function m(e,t){var n,o,i,a,s=r[e][t],l=r[e][t+1];return s[0]<l[0]?(n=s[0],o=l[0]):(n=l[0],o=s[0]),s[1]<l[1]?(i=s[1],a=l[1]):(i=l[1],a=s[1]),{minX:n,minY:i,maxX:o,maxY:a,ring:e,edge:t}}}(e,(function(e,t,n,r,o,i,a,s,l,c,u,p){return[e,t,n,r,o,i,a,s,l,c,u,p]})),l=s.length;if(0==l){var d=[];for(r=0;r<t;r++)d.push(o.polygon([e.geometry.coordinates[r]],{parent:-1,winding:m(e.geometry.coordinates[r])}));var _=o.featureCollection(d);return q(),Y(),_}var w=[],P=[];for(r=0;r<t;r++){w.push([]);for(var C=0;C<e.geometry.coordinates[r].length-1;C++)w[r].push([new h(e.geometry.coordinates[r][b(C+1,e.geometry.coordinates[r].length-1)],1,[r,C],[r,b(C+1,e.geometry.coordinates[r].length-1)],void 0)]),P.push(new y(e.geometry.coordinates[r][C],[r,b(C-1,e.geometry.coordinates[r].length-1)],[r,C],void 0,void 0,!1,!0))}for(r=0;r<l;r++)w[s[r][1]][s[r][2]].push(new h(s[r][0],s[r][5],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0)),s[r][11]&&P.push(new y(s[r][0],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0,void 0,!0,!0));var O=P.length;for(r=0;r<w.length;r++)for(C=0;C<w[r].length;C++)w[r][C].sort((function(e,t){return e.param<t.param?-1:1}));var x=[];for(r=0;r<O;r++)x.push({minX:P[r].coord[0],minY:P[r].coord[1],maxX:P[r].coord[0],maxY:P[r].coord[1],index:r});var S=c.default();for(S.load(x),r=0;r<w.length;r++)for(C=0;C<w[r].length;C++)for(var E=0;E<w[r][C].length;E++){T=E==w[r][C].length-1?w[r][b(C+1,e.geometry.coordinates[r].length-1)][0].coord:w[r][C][E+1].coord;var j=S.search({minX:T[0],minY:T[1],maxX:T[0],maxY:T[1]})[0];w[r][C][E].nxtIsectAlongEdgeIn=j.index}for(r=0;r<w.length;r++)for(C=0;C<w[r].length;C++)for(E=0;E<w[r][C].length;E++){var T=w[r][C][E].coord,M=(j=S.search({minX:T[0],minY:T[1],maxX:T[0],maxY:T[1]})[0]).index;M<a?P[M].nxtIsectAlongRingAndEdge2=w[r][C][E].nxtIsectAlongEdgeIn:v(P[M].ringAndEdge1,w[r][C][E].ringAndEdgeIn)?P[M].nxtIsectAlongRingAndEdge1=w[r][C][E].nxtIsectAlongEdgeIn:P[M].nxtIsectAlongRingAndEdge2=w[r][C][E].nxtIsectAlongEdgeIn}var A=[];for(r=0,C=0;C<t;C++){var I=r;for(E=0;E<e.geometry.coordinates[C].length-1;E++)P[r].coord[0]<P[I].coord[0]&&(I=r),r++;var z=P[I].nxtIsectAlongRingAndEdge2;for(E=0;E<P.length;E++)if(P[E].nxtIsectAlongRingAndEdge1==I||P[E].nxtIsectAlongRingAndEdge2==I){var D=E;break}var N=g([P[D].coord,P[I].coord,P[z].coord],!0)?1:-1;A.push({isect:I,parent:-1,winding:N})}for(A.sort((function(e,t){return P[e.isect].coord>P[t.isect].coord?-1:1})),d=[];A.length>0;){var R=A.pop(),k=R.isect,L=R.parent,F=R.winding,B=d.length,V=[P[k].coord],G=k;if(P[k].ringAndEdge1Walkable)var U=P[k].ringAndEdge1,W=P[k].nxtIsectAlongRingAndEdge1;else U=P[k].ringAndEdge2,W=P[k].nxtIsectAlongRingAndEdge2;for(;!v(P[k].coord,P[W].coord);){V.push(P[W].coord);var H=void 0;for(r=0;r<A.length;r++)if(A[r].isect==W){H=r;break}if(null!=H&&A.splice(H,1),v(U,P[W].ringAndEdge1)){if(U=P[W].ringAndEdge2,P[W].ringAndEdge2Walkable=!1,P[W].ringAndEdge1Walkable){var J={isect:W};g([P[G].coord,P[W].coord,P[P[W].nxtIsectAlongRingAndEdge2].coord],1==F)?(J.parent=L,J.winding=-F):(J.parent=B,J.winding=F),A.push(J)}G=W,W=P[W].nxtIsectAlongRingAndEdge2}else U=P[W].ringAndEdge1,P[W].ringAndEdge1Walkable=!1,P[W].ringAndEdge2Walkable&&(J={isect:W},g([P[G].coord,P[W].coord,P[P[W].nxtIsectAlongRingAndEdge1].coord],1==F)?(J.parent=L,J.winding=-F):(J.parent=B,J.winding=F),A.push(J)),G=W,W=P[W].nxtIsectAlongRingAndEdge1}V.push(P[W].coord),d.push(o.polygon([V],{index:B,parent:L,winding:F,netWinding:void 0}))}function q(){for(var e=[],t=0;t<_.features.length;t++)-1==_.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var n=-1,r=1/0,o=0;o<_.features.length;o++)e[t]!=o&&p.default(_.features[e[t]].geometry.coordinates[0][0],_.features[o],{ignoreBoundary:!0})&&u.default(_.features[o])<r&&(n=o);_.features[e[t]].properties.parent=n}}function Y(){for(var e=0;e<_.features.length;e++)if(-1==_.features[e].properties.parent){var t=_.features[e].properties.winding;_.features[e].properties.netWinding=t,X(e,t)}}function X(e,t){for(var n=0;n<_.features.length;n++)if(_.features[n].properties.parent==e){var r=t+_.features[n].properties.winding;_.features[n].properties.netWinding=r,X(n,r)}}return _=o.featureCollection(d),q(),Y(),_}var h=function(e,t,n,r,o){this.coord=e,this.param=t,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=o},y=function(e,t,n,r,o,i,a){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=a};function g(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function m(e){for(var t=0,n=0;n<e.length-1;n++)e[n][0]<e[t][0]&&(t=n);if(g([e[b(t-1,e.length-1)],e[t],e[b(t+1,e.length-1)]],!0))var r=1;else r=-1;return r}function v(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!v(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function b(e,t){return(e%t+t)%t}function _(e){var t=[];return r.flattenEach(e,(function(e){"Polygon"===e.geometry.type&&r.featureEach(d(e),(function(n){t.push(o.polygon(n.geometry.coordinates,e.properties))}))})),o.featureCollection(t)}e.exports=_,e.exports.default=_},91356:(e,t,n)=>{"use strict";var r=n(88967),o=n(78506),i=n(3227);function a(e){return(e=e.slice()).push(e[0]),r.polygon([e])}function s(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return o.collectionOf(e,"Point","points"),r.featureCollection(i.voronoi().x((function(e){return e.geometry.coordinates[0]})).y((function(e){return e.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(e.features).map(a))}e.exports=s,e.exports.default=s},38075:(e,t,n)=>{"use strict";var r=n(70453),o=n(10487),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},10487:(e,t,n)=>{"use strict";var r=n(66743),o=n(70453),i=n(96897),a=n(69675),s=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||r.call(l,s),u=n(30655),p=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=c(r,l,arguments);return i(t,1+p(0,e.length-(arguments.length-1)),!0)};var f=function(){return c(r,s,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},71582:(e,t,n)=>{"use strict";var r=n(9248),o=n(44262),i=n(51476),a=n(53467).orient2d;function s(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;var o=function(e){for(var t=e[0],n=e[0],r=e[0],o=e[0],a=0;a<e.length;a++){var s=e[a];s[0]<t[0]&&(t=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>o[1]&&(o=s)}var l=[t,n,r,o],c=l.slice();for(a=0;a<e.length;a++)i(e[a],l)||c.push(e[a]);return function(e){e.sort(b);for(var t=[],n=0;n<e.length;n++){for(;t.length>=2&&d(t[t.length-2],t[t.length-1],e[n])<=0;)t.pop();t.push(e[n])}for(var r=[],o=e.length-1;o>=0;o--){for(;r.length>=2&&d(r[r.length-2],r[r.length-1],e[o])<=0;)r.pop();r.push(e[o])}return r.pop(),t.pop(),t.concat(r)}(c)}(e),a=new r(16);a.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},a.compareMinX=function(e,t){return e[0]-t[0]},a.compareMinY=function(e,t){return e[1]-t[1]},a.load(e);for(var s,c=[],u=0;u<o.length;u++){var p=o[u];a.remove(p),s=y(p,s),c.push(s)}var f=new r(16);for(u=0;u<c.length;u++)f.insert(h(c[u]));for(var m=t*t,v=n*n;c.length;){var _=c.shift(),w=_.p,P=_.next.p,C=g(w,P);if(!(C<v)){var O=C/m;(p=l(a,_.prev.p,w,P,_.next.next.p,O,f))&&Math.min(g(p,w),g(p,P))<=O&&(c.push(_),c.push(y(p,_)),a.remove(p),f.remove(_),f.insert(h(_)),f.insert(h(_.next)))}}_=s;var x=[];do{x.push(_.p),_=_.next}while(_!==s);return x.push(_.p),x}function l(e,t,n,r,i,a,s){for(var l=new o([],c),p=e.data;p;){for(var d=0;d<p.children.length;d++){var h=p.children[d],y=p.leaf?m(h,n,r):u(n,r,h);y>a||l.push({node:h,dist:y})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),v=g.node,b=m(v,t,n),_=m(v,r,i);if(g.dist<b&&g.dist<_&&f(n,v,s)&&f(r,v,s))return v}(p=l.pop())&&(p=p.node)}return null}function c(e,t){return e.dist-t.dist}function u(e,t,n){if(p(e,n)||p(t,n))return 0;var r=v(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var o=v(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===o)return 0;var i=v(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===i)return 0;var a=v(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,o,i,a)}function p(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function f(e,t,n){for(var r,o,i,a,s=Math.min(e[0],t[0]),l=Math.min(e[1],t[1]),c=Math.max(e[0],t[0]),u=Math.max(e[1],t[1]),p=n.search({minX:s,minY:l,maxX:c,maxY:u}),f=0;f<p.length;f++)if(r=p[f].p,o=p[f].next.p,i=e,r!==(a=t)&&o!==i&&d(r,o,i)>0!=d(r,o,a)>0&&d(i,a,r)>0!=d(i,a,o)>0)return!1;return!0}function d(e,t,n){return a(e[0],e[1],t[0],t[1],n[0],n[1])}function h(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function y(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function g(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function m(e,t,n){var r=t[0],o=t[1],i=n[0]-r,a=n[1]-o;if(0!==i||0!==a){var s=((e[0]-r)*i+(e[1]-o)*a)/(i*i+a*a);s>1?(r=n[0],o=n[1]):s>0&&(r+=i*s,o+=a*s)}return(i=e[0]-r)*i+(a=e[1]-o)*a}function v(e,t,n,r,o,i,a,s){var l,c,u,p,f=n-e,d=r-t,h=a-o,y=s-i,g=e-o,m=t-i,v=f*f+d*d,b=f*h+d*y,_=h*h+y*y,w=f*g+d*m,P=h*g+y*m,C=v*_-b*b,O=C,x=C;0===C?(c=0,O=1,p=P,x=_):(p=v*P-b*w,(c=b*P-_*w)<0?(c=0,p=P,x=_):c>O&&(c=O,p=P+b,x=_)),p<0?(p=0,-w<0?c=0:-w>v?c=O:(c=-w,O=v)):p>x&&(p=x,-w+b<0?c=0:-w+b>v?c=O:(c=-w+b,O=v));var S=(1-(u=0===p?0:p/x))*o+u*a-((1-(l=0===c?0:c/O))*e+l*n),E=(1-u)*i+u*s-((1-l)*t+l*r);return S*S+E*E}function b(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}o.default&&(o=o.default),e.exports=s,e.exports.default=s},9248:function(e){e.exports=function(){"use strict";function e(e,r,o,i,a){!function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,c=Math.log(s),u=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-l*u/s+p)),Math.min(i,Math.floor(r+(s-l)*u/s+p)),a)}var f=n[r],d=o,h=i;for(t(n,o,r),a(n[i],f)>0&&t(n,o,i);d<h;){for(t(n,d,h),d++,h--;a(n[d],f)<0;)d++;for(;a(n[h],f)>0;)h--}0===a(n[o],f)?t(n,o,h):t(n,++h,i),h<=r&&(o=h+1),r<=h&&(i=h-1)}}(e,r,o||0,i||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,o){o||(o=h(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<n;i++){var a=e.children[i];s(o,e.leaf?r(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;e(t,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!d(e,t))return n;for(var r=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?r(a):a;d(e,s)&&(t.leaf?n.push(a):f(e,s)?this._all(a,n):o.push(a))}t=o.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var o=t.children[r],i=t.leaf?this.toBBox(o):o;if(d(e,i)){if(t.leaf||f(e,i))return!0;n.push(o)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=h([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,s=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=o(e,a.children,t);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!f(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var o,a=n-t+1,s=this._maxEntries;if(a<=s)return i(o=h(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=h([])).leaf=!1,o.height=r;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));y(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var p=Math.min(u+c-1,n);y(e,u,p,l,this.compareMinY);for(var f=u;f<=p;f+=l){var d=Math.min(f+l-1,p);o.children.push(this._build(e,f,d,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],c=u(l),p=(f=e,d=l,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-c);p<i?(i=p,o=c<o?c:o,a=l):p===i&&c<o&&(o=c,a=l)}t=a||t.children[0]}var f,d;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),s(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=h(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,o,i,s,l,c,p,f=1/0,d=1/0,h=t;h<=n-t;h++){var y=a(e,0,h,this.toBBox),g=a(e,h,n,this.toBBox),m=(o=y,i=g,void 0,void 0,void 0,void 0,s=Math.max(o.minX,i.minX),l=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),p=Math.min(o.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,p-l)),v=u(y)+u(g);m<f?(f=m,r=h,d=v<d?v:d):m===f&&v<d&&(d=v,r=h)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var o=this.toBBox,i=a(e,0,t,o),l=a(e,n-t,n,o),c=p(i)+p(l),u=t;u<n-t;u++){var f=e.children[u];s(i,e.leaf?o(f):f),c+=p(i)}for(var d=n-t-1;d>=t;d--){var h=e.children[d];s(l,e.leaf?o(h):h),c+=p(l)}return c},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},r}()},51715:(e,t,n)=>{"use strict";function r(){return new o}function o(){this.reset()}n.r(t),n.d(t,{geoAlbers:()=>Pr,geoAlbersUsa:()=>Cr,geoArea:()=>X,geoAzimuthalEqualArea:()=>Er,geoAzimuthalEqualAreaRaw:()=>Sr,geoAzimuthalEquidistant:()=>Tr,geoAzimuthalEquidistantRaw:()=>jr,geoBounds:()=>Ve,geoCentroid:()=>tt,geoCircle:()=>ft,geoClipExtent:()=>xt,geoConicConformal:()=>Nr,geoConicConformalRaw:()=>Dr,geoConicEqualArea:()=>wr,geoConicEqualAreaRaw:()=>_r,geoConicEquidistant:()=>Fr,geoConicEquidistantRaw:()=>Lr,geoContains:()=>Yt,geoDistance:()=>Ft,geoEquirectangular:()=>kr,geoEquirectangularRaw:()=>Rr,geoGnomonic:()=>Vr,geoGnomonicRaw:()=>Br,geoGraticule:()=>Kt,geoGraticule10:()=>Qt,geoIdentity:()=>Ur,geoInterpolate:()=>$t,geoLength:()=>Rt,geoMercator:()=>Ar,geoMercatorRaw:()=>Mr,geoNaturalEarth1:()=>Hr,geoNaturalEarth1Raw:()=>Wr,geoOrthographic:()=>qr,geoOrthographicRaw:()=>Jr,geoPath:()=>rr,geoProjection:()=>mr,geoProjectionMutator:()=>vr,geoRotation:()=>ct,geoStereographic:()=>Xr,geoStereographicRaw:()=>Yr,geoStream:()=>R,geoTransform:()=>lr,geoTransverseMercator:()=>Kr,geoTransverseMercatorRaw:()=>Zr}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(e){a(i,e,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function a(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var s=1e-6,l=1e-12,c=Math.PI,u=c/2,p=c/4,f=2*c,d=180/c,h=c/180,y=Math.abs,g=Math.atan,m=Math.atan2,v=Math.cos,b=Math.ceil,_=Math.exp,w=(Math.floor,Math.log),P=Math.pow,C=Math.sin,O=Math.sign||function(e){return e>0?1:e<0?-1:0},x=Math.sqrt,S=Math.tan;function E(e){return e>1?0:e<-1?c:Math.acos(e)}function j(e){return e>1?u:e<-1?-u:Math.asin(e)}function T(e){return(e=C(e/2))*e}function M(){}function A(e,t){e&&z.hasOwnProperty(e.type)&&z[e.type](e,t)}var I={Feature:function(e,t){A(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)A(n[r].geometry,t)}},z={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){D(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)D(n[r],t,0)},Polygon:function(e,t){N(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)N(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)A(n[r],t)}};function D(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function N(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)D(e[n],t,1);t.polygonEnd()}function R(e,t){e&&I.hasOwnProperty(e.type)?I[e.type](e,t):A(e,t)}var k,L,F,B,V,G=r(),U=r(),W={point:M,lineStart:M,lineEnd:M,polygonStart:function(){G.reset(),W.lineStart=H,W.lineEnd=J},polygonEnd:function(){var e=+G;U.add(e<0?f+e:e),this.lineStart=this.lineEnd=this.point=M},sphere:function(){U.add(f)}};function H(){W.point=q}function J(){Y(k,L)}function q(e,t){W.point=Y,k=e,L=t,F=e*=h,B=v(t=(t*=h)/2+p),V=C(t)}function Y(e,t){var n=(e*=h)-F,r=n>=0?1:-1,o=r*n,i=v(t=(t*=h)/2+p),a=C(t),s=V*a,l=B*i+s*v(o),c=s*r*C(o);G.add(m(c,l)),F=e,B=i,V=a}function X(e){return U.reset(),R(e,W),2*U}function Z(e){return[m(e[1],e[0]),j(e[2])]}function K(e){var t=e[0],n=e[1],r=v(n);return[r*v(t),r*C(t),C(n)]}function Q(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ee(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function te(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ne(e){var t=x(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var re,oe,ie,ae,se,le,ce,ue,pe,fe,de,he,ye,ge,me,ve,be,_e,we,Pe,Ce,Oe,xe,Se,Ee,je,Te=r(),Me={point:Ae,lineStart:ze,lineEnd:De,polygonStart:function(){Me.point=Ne,Me.lineStart=Re,Me.lineEnd=ke,Te.reset(),W.polygonStart()},polygonEnd:function(){W.polygonEnd(),Me.point=Ae,Me.lineStart=ze,Me.lineEnd=De,G<0?(re=-(ie=180),oe=-(ae=90)):Te>s?ae=90:Te<-s&&(oe=-90),fe[0]=re,fe[1]=ie}};function Ae(e,t){pe.push(fe=[re=e,ie=e]),t<oe&&(oe=t),t>ae&&(ae=t)}function Ie(e,t){var n=K([e*h,t*h]);if(ue){var r=$(ue,n),o=$([r[1],-r[0],0],r);ne(o),o=Z(o);var i,a=e-se,s=a>0?1:-1,l=o[0]*d*s,c=y(a)>180;c^(s*se<l&&l<s*e)?(i=o[1]*d)>ae&&(ae=i):c^(s*se<(l=(l+360)%360-180)&&l<s*e)?(i=-o[1]*d)<oe&&(oe=i):(t<oe&&(oe=t),t>ae&&(ae=t)),c?e<se?Le(re,e)>Le(re,ie)&&(ie=e):Le(e,ie)>Le(re,ie)&&(re=e):ie>=re?(e<re&&(re=e),e>ie&&(ie=e)):e>se?Le(re,e)>Le(re,ie)&&(ie=e):Le(e,ie)>Le(re,ie)&&(re=e)}else pe.push(fe=[re=e,ie=e]);t<oe&&(oe=t),t>ae&&(ae=t),ue=n,se=e}function ze(){Me.point=Ie}function De(){fe[0]=re,fe[1]=ie,Me.point=Ae,ue=null}function Ne(e,t){if(ue){var n=e-se;Te.add(y(n)>180?n+(n>0?360:-360):n)}else le=e,ce=t;W.point(e,t),Ie(e,t)}function Re(){W.lineStart()}function ke(){Ne(le,ce),W.lineEnd(),y(Te)>s&&(re=-(ie=180)),fe[0]=re,fe[1]=ie,ue=null}function Le(e,t){return(t-=e)<0?t+360:t}function Fe(e,t){return e[0]-t[0]}function Be(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Ve(e){var t,n,r,o,i,a,s;if(ae=ie=-(re=oe=1/0),pe=[],R(e,Me),n=pe.length){for(pe.sort(Fe),t=1,i=[r=pe[0]];t<n;++t)Be(r,(o=pe[t])[0])||Be(r,o[1])?(Le(r[0],o[1])>Le(r[0],r[1])&&(r[1]=o[1]),Le(o[0],r[1])>Le(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,t=0,r=i[n=i.length-1];t<=n;r=o,++t)o=i[t],(s=Le(r[1],o[0]))>a&&(a=s,re=o[0],ie=r[1])}return pe=fe=null,re===1/0||oe===1/0?[[NaN,NaN],[NaN,NaN]]:[[re,oe],[ie,ae]]}var Ge,Ue,We={sphere:M,point:He,lineStart:qe,lineEnd:Ze,polygonStart:function(){We.lineStart=Ke,We.lineEnd=Qe},polygonEnd:function(){We.lineStart=qe,We.lineEnd=Ze}};function He(e,t){e*=h;var n=v(t*=h);Je(n*v(e),n*C(e),C(t))}function Je(e,t,n){++de,ye+=(e-ye)/de,ge+=(t-ge)/de,me+=(n-me)/de}function qe(){We.point=Ye}function Ye(e,t){e*=h;var n=v(t*=h);Se=n*v(e),Ee=n*C(e),je=C(t),We.point=Xe,Je(Se,Ee,je)}function Xe(e,t){e*=h;var n=v(t*=h),r=n*v(e),o=n*C(e),i=C(t),a=m(x((a=Ee*i-je*o)*a+(a=je*r-Se*i)*a+(a=Se*o-Ee*r)*a),Se*r+Ee*o+je*i);he+=a,ve+=a*(Se+(Se=r)),be+=a*(Ee+(Ee=o)),_e+=a*(je+(je=i)),Je(Se,Ee,je)}function Ze(){We.point=He}function Ke(){We.point=$e}function Qe(){et(Oe,xe),We.point=He}function $e(e,t){Oe=e,xe=t,e*=h,t*=h,We.point=et;var n=v(t);Se=n*v(e),Ee=n*C(e),je=C(t),Je(Se,Ee,je)}function et(e,t){e*=h;var n=v(t*=h),r=n*v(e),o=n*C(e),i=C(t),a=Ee*i-je*o,s=je*r-Se*i,l=Se*o-Ee*r,c=x(a*a+s*s+l*l),u=j(c),p=c&&-u/c;we+=p*a,Pe+=p*s,Ce+=p*l,he+=u,ve+=u*(Se+(Se=r)),be+=u*(Ee+(Ee=o)),_e+=u*(je+(je=i)),Je(Se,Ee,je)}function tt(e){de=he=ye=ge=me=ve=be=_e=we=Pe=Ce=0,R(e,We);var t=we,n=Pe,r=Ce,o=t*t+n*n+r*r;return o<l&&(t=ve,n=be,r=_e,he<s&&(t=ye,n=ge,r=me),(o=t*t+n*n+r*r)<l)?[NaN,NaN]:[m(n,t)*d,j(r/x(o))*d]}function nt(e){return function(){return e}}function rt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function ot(e,t){return[e>c?e-f:e<-c?e+f:e,t]}function it(e,t,n){return(e%=f)?t||n?rt(st(e),lt(t,n)):st(e):t||n?lt(t,n):ot}function at(e){return function(t,n){return[(t+=e)>c?t-f:t<-c?t+f:t,n]}}function st(e){var t=at(e);return t.invert=at(-e),t}function lt(e,t){var n=v(e),r=C(e),o=v(t),i=C(t);function a(e,t){var a=v(t),s=v(e)*a,l=C(e)*a,c=C(t),u=c*n+s*r;return[m(l*o-u*i,s*n-c*r),j(u*o+l*i)]}return a.invert=function(e,t){var a=v(t),s=v(e)*a,l=C(e)*a,c=C(t),u=c*o-l*i;return[m(l*o+c*i,s*n+u*r),j(u*n-s*r)]},a}function ct(e){function t(t){return(t=e(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t}return e=it(e[0]*h,e[1]*h,e.length>2?e[2]*h:0),t.invert=function(t){return(t=e.invert(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t},t}function ut(e,t,n,r,o,i){if(n){var a=v(t),s=C(t),l=r*n;null==o?(o=t+r*f,i=t-l/2):(o=pt(a,o),i=pt(a,i),(r>0?o<i:o>i)&&(o+=r*f));for(var c,u=o;r>0?u>i:u<i;u-=l)c=Z([a,-s*v(u),-s*C(u)]),e.point(c[0],c[1])}}function pt(e,t){(t=K(t))[0]-=e,ne(t);var n=E(-t[1]);return((-t[2]<0?-n:n)+f-s)%f}function ft(){var e,t,n=nt([0,0]),r=nt(90),o=nt(6),i={point:function(n,r){e.push(n=t(n,r)),n[0]*=d,n[1]*=d}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*h,l=o.apply(this,arguments)*h;return e=[],t=it(-a[0]*h,-a[1]*h,0).invert,ut(i,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:nt([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),a):r},a.precision=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),a):o},a}function dt(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:M,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ht(e,t){return y(e[0]-t[0])<s&&y(e[1]-t[1])<s}function yt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gt(e,t,n,r,o){var i,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(ht(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd()}else s.push(n=new yt(r,e,null,!0)),l.push(n.o=new yt(r,null,n,!1)),s.push(n=new yt(a,e,null,!1)),l.push(n.o=new yt(a,null,n,!0))}})),s.length){for(l.sort(t),mt(s),mt(l),i=0,a=l.length;i<a;++i)l[i].e=n=!n;for(var c,u,p=s[0];;){for(var f=p,d=!0;f.v;)if((f=f.n)===p)return;c=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(i=0,a=c.length;i<a;++i)o.point((u=c[i])[0],u[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(d)for(c=f.p.z,i=c.length-1;i>=0;--i)o.point((u=c[i])[0],u[1]);else r(f.x,f.p.x,-1,o);f=f.p}c=(f=f.o).z,d=!d}while(!f.v);o.lineEnd()}}}function mt(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function vt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}ot.invert=ot,1===(Ge=vt).length&&(Ue=Ge,Ge=function(e,t){return vt(Ue(e),t)});var bt=Array.prototype;function _t(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(t=(r=e[o]).length;--t>=0;)n[--a]=r[t];return n}function wt(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}bt.slice,bt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Pt=1e9,Ct=-Pt;function Ot(e,t,n,r){function o(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function i(o,i,s,l){var u=0,p=0;if(null==o||(u=a(o,s))!==(p=a(i,s))||c(o,i)<0^s>0)do{l.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==p);else l.point(i[0],i[1])}function a(r,o){return y(r[0]-e)<s?o>0?0:3:y(r[0]-n)<s?o>0?2:1:y(r[1]-t)<s?o>0?1:0:o>0?3:2}function l(e,t){return c(e.x,t.x)}function c(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,c,u,p,f,d,h,y,g,m,v,b=a,_=dt(),w={point:P,lineStart:function(){w.point=C,c&&c.push(u=[]),m=!0,g=!1,h=y=NaN},lineEnd:function(){s&&(C(p,f),d&&g&&_.rejoin(),s.push(_.result())),w.point=P,g&&b.lineEnd()},polygonStart:function(){b=_,s=[],c=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=c.length;n<o;++n)for(var i,a,s=c[n],l=1,u=s.length,p=s[0],f=p[0],d=p[1];l<u;++l)i=f,a=d,f=(p=s[l])[0],d=p[1],a<=r?d>r&&(f-i)*(r-a)>(d-a)*(e-i)&&++t:d<=r&&(f-i)*(r-a)<(d-a)*(e-i)&&--t;return t}(),n=v&&t,o=(s=_t(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&gt(s,l,t,i,a),a.polygonEnd()),b=a,s=c=u=null}};function P(e,t){o(e,t)&&b.point(e,t)}function C(i,a){var s=o(i,a);if(c&&u.push([i,a]),m)p=i,f=a,d=s,m=!1,s&&(b.lineStart(),b.point(i,a));else if(s&&g)b.point(i,a);else{var l=[h=Math.max(Ct,Math.min(Pt,h)),y=Math.max(Ct,Math.min(Pt,y))],_=[i=Math.max(Ct,Math.min(Pt,i)),a=Math.max(Ct,Math.min(Pt,a))];!function(e,t,n,r,o,i){var a,s=e[0],l=e[1],c=0,u=1,p=t[0]-s,f=t[1]-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<u&&(u=a)}else if(p>0){if(a>u)return;a>c&&(c=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>u)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=i-l,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}return c>0&&(e[0]=s+c*p,e[1]=l+c*f),u<1&&(t[0]=s+u*p,t[1]=l+u*f),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(i,a),v=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),v=!1)}h=i,y=a,g=s}return w}}function xt(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Ot(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}}var St=r();function Et(e,t){var n=t[0],r=t[1],o=[C(n),-v(n),0],i=0,a=0;St.reset();for(var l=0,u=e.length;l<u;++l)if(h=(d=e[l]).length)for(var d,h,y=d[h-1],g=y[0],b=y[1]/2+p,_=C(b),w=v(b),P=0;P<h;++P,g=x,_=E,w=T,y=O){var O=d[P],x=O[0],S=O[1]/2+p,E=C(S),T=v(S),M=x-g,A=M>=0?1:-1,I=A*M,z=I>c,D=_*E;if(St.add(m(D*A*C(I),w*T+D*v(I))),i+=z?M+A*f:M,z^g>=n^x>=n){var N=$(K(y),K(O));ne(N);var R=$(o,N);ne(R);var k=(z^M>=0?-1:1)*j(R[2]);(r>k||r===k&&(N[0]||N[1]))&&(a+=z^M>=0?1:-1)}}return(i<-s||i<s&&St<-s)^1&a}var jt,Tt,Mt,At=r(),It={sphere:M,point:M,lineStart:function(){It.point=Dt,It.lineEnd=zt},lineEnd:M,polygonStart:M,polygonEnd:M};function zt(){It.point=It.lineEnd=M}function Dt(e,t){jt=e*=h,Tt=C(t*=h),Mt=v(t),It.point=Nt}function Nt(e,t){e*=h;var n=C(t*=h),r=v(t),o=y(e-jt),i=v(o),a=r*C(o),s=Mt*n-Tt*r*i,l=Tt*n+Mt*r*i;At.add(m(x(a*a+s*s),l)),jt=e,Tt=n,Mt=r}function Rt(e){return At.reset(),R(e,It),+At}var kt=[null,null],Lt={type:"LineString",coordinates:kt};function Ft(e,t){return kt[0]=e,kt[1]=t,Rt(Lt)}var Bt={Feature:function(e,t){return Gt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)if(Gt(n[r].geometry,t))return!0;return!1}},Vt={Sphere:function(){return!0},Point:function(e,t){return Ut(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Ut(n[r],t))return!0;return!1},LineString:function(e,t){return Wt(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Wt(n[r],t))return!0;return!1},Polygon:function(e,t){return Ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Ht(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)if(Gt(n[r],t))return!0;return!1}};function Gt(e,t){return!(!e||!Vt.hasOwnProperty(e.type))&&Vt[e.type](e,t)}function Ut(e,t){return 0===Ft(e,t)}function Wt(e,t){var n=Ft(e[0],e[1]);return Ft(e[0],t)+Ft(t,e[1])<=n+s}function Ht(e,t){return!!Et(e.map(Jt),qt(t))}function Jt(e){return(e=e.map(qt)).pop(),e}function qt(e){return[e[0]*h,e[1]*h]}function Yt(e,t){return(e&&Bt.hasOwnProperty(e.type)?Bt[e.type]:Gt)(e,t)}function Xt(e,t,n){var r=wt(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Zt(e,t,n){var r=wt(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Kt(){var e,t,n,r,o,i,a,l,c,u,p,f,d=10,h=d,g=90,m=360,v=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return wt(b(r/g)*g,n,g).map(p).concat(wt(b(l/m)*m,a,m).map(f)).concat(wt(b(t/d)*d,e,d).filter((function(e){return y(e%g)>s})).map(c)).concat(wt(b(i/h)*h,o,h).filter((function(e){return y(e%m)>s})).map(u))}return _.lines=function(){return w().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(f(a).slice(1),p(n).reverse().slice(1),f(l).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.extentMajor(e).extentMinor(e):_.extentMinor()},_.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),_.precision(v)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),i>o&&(n=i,i=o,o=n),_.precision(v)):[[t,i],[e,o]]},_.step=function(e){return arguments.length?_.stepMajor(e).stepMinor(e):_.stepMinor()},_.stepMajor=function(e){return arguments.length?(g=+e[0],m=+e[1],_):[g,m]},_.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],_):[d,h]},_.precision=function(s){return arguments.length?(v=+s,c=Xt(i,o,90),u=Zt(t,e,v),p=Xt(l,a,90),f=Zt(r,n,v),_):v},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function Qt(){return Kt()()}function $t(e,t){var n=e[0]*h,r=e[1]*h,o=t[0]*h,i=t[1]*h,a=v(r),s=C(r),l=v(i),c=C(i),u=a*v(n),p=a*C(n),f=l*v(o),y=l*C(o),g=2*j(x(T(i-r)+a*l*T(o-n))),b=C(g),_=g?function(e){var t=C(e*=g)/b,n=C(g-e)/b,r=n*u+t*f,o=n*p+t*y,i=n*s+t*c;return[m(o,r)*d,m(i,x(r*r+o*o))*d]}:function(){return[n*d,r*d]};return _.distance=g,_}function en(e){return e}var tn,nn,rn,on,an=r(),sn=r(),ln={point:M,lineStart:M,lineEnd:M,polygonStart:function(){ln.lineStart=cn,ln.lineEnd=fn},polygonEnd:function(){ln.lineStart=ln.lineEnd=ln.point=M,an.add(y(sn)),sn.reset()},result:function(){var e=an/2;return an.reset(),e}};function cn(){ln.point=un}function un(e,t){ln.point=pn,tn=rn=e,nn=on=t}function pn(e,t){sn.add(on*e-rn*t),rn=e,on=t}function fn(){pn(tn,nn)}const dn=ln;var hn=1/0,yn=hn,gn=-hn,mn=gn,vn={point:function(e,t){e<hn&&(hn=e),e>gn&&(gn=e),t<yn&&(yn=t),t>mn&&(mn=t)},lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M,result:function(){var e=[[hn,yn],[gn,mn]];return gn=mn=-(yn=hn=1/0),e}};const bn=vn;var _n,wn,Pn,Cn,On=0,xn=0,Sn=0,En=0,jn=0,Tn=0,Mn=0,An=0,In=0,zn={point:Dn,lineStart:Nn,lineEnd:Ln,polygonStart:function(){zn.lineStart=Fn,zn.lineEnd=Bn},polygonEnd:function(){zn.point=Dn,zn.lineStart=Nn,zn.lineEnd=Ln},result:function(){var e=In?[Mn/In,An/In]:Tn?[En/Tn,jn/Tn]:Sn?[On/Sn,xn/Sn]:[NaN,NaN];return On=xn=Sn=En=jn=Tn=Mn=An=In=0,e}};function Dn(e,t){On+=e,xn+=t,++Sn}function Nn(){zn.point=Rn}function Rn(e,t){zn.point=kn,Dn(Pn=e,Cn=t)}function kn(e,t){var n=e-Pn,r=t-Cn,o=x(n*n+r*r);En+=o*(Pn+e)/2,jn+=o*(Cn+t)/2,Tn+=o,Dn(Pn=e,Cn=t)}function Ln(){zn.point=Dn}function Fn(){zn.point=Vn}function Bn(){Gn(_n,wn)}function Vn(e,t){zn.point=Gn,Dn(_n=Pn=e,wn=Cn=t)}function Gn(e,t){var n=e-Pn,r=t-Cn,o=x(n*n+r*r);En+=o*(Pn+e)/2,jn+=o*(Cn+t)/2,Tn+=o,Mn+=(o=Cn*e-Pn*t)*(Pn+e),An+=o*(Cn+t),In+=3*o,Dn(Pn=e,Cn=t)}const Un=zn;function Wn(e){this._context=e}Wn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,f)}},result:M};var Hn,Jn,qn,Yn,Xn,Zn=r(),Kn={point:M,lineStart:function(){Kn.point=Qn},lineEnd:function(){Hn&&$n(Jn,qn),Kn.point=M},polygonStart:function(){Hn=!0},polygonEnd:function(){Hn=null},result:function(){var e=+Zn;return Zn.reset(),e}};function Qn(e,t){Kn.point=$n,Jn=Yn=e,qn=Xn=t}function $n(e,t){Yn-=e,Xn-=t,Zn.add(x(Yn*Yn+Xn*Xn)),Yn=e,Xn=t}const er=Kn;function tr(){this._string=[]}function nr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function rr(e,t){var n,r,o=4.5;function i(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),R(e,n(r))),r.result()}return i.area=function(e){return R(e,n(dn)),dn.result()},i.measure=function(e){return R(e,n(er)),er.result()},i.bounds=function(e){return R(e,n(bn)),bn.result()},i.centroid=function(e){return R(e,n(Un)),Un.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,en):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new tr):new Wn(t=e),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)}function or(e,t,n,r){return function(o,i){var a,s,l,c=t(i),u=o.invert(r[0],r[1]),p=dt(),f=t(p),d=!1,h={point:y,lineStart:m,lineEnd:v,polygonStart:function(){h.point=b,h.lineStart=_,h.lineEnd=w,s=[],a=[]},polygonEnd:function(){h.point=y,h.lineStart=m,h.lineEnd=v,s=_t(s);var e=Et(a,u);s.length?(d||(i.polygonStart(),d=!0),gt(s,ar,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function g(e,t){var n=o(e,t);c.point(n[0],n[1])}function m(){h.point=g,c.lineStart()}function v(){h.point=y,c.lineEnd()}function b(e,t){l.push([e,t]);var n=o(e,t);f.point(n[0],n[1])}function _(){f.lineStart(),l=[]}function w(){b(l[0][0],l[0][1]),f.lineEnd();var e,t,n,r,o=f.clean(),c=p.result(),u=c.length;if(l.pop(),a.push(l),l=null,u)if(1&o){if((t=(n=c[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else u>1&&2&o&&c.push(c.pop().concat(c.shift())),s.push(c.filter(ir))}return h}}function ir(e){return e.length>1}function ar(e,t){return((e=e.x)[0]<0?e[1]-u-s:u-e[1])-((t=t.x)[0]<0?t[1]-u-s:u-t[1])}tr.prototype={_radius:4.5,_circle:nr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=nr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const sr=or((function(){return!0}),(function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var l=i>0?c:-c,p=y(i-n);y(p-c)<s?(e.point(n,r=(r+a)/2>0?u:-u),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(i,r),t=0):o!==l&&p>=c&&(y(n-o)<s&&(n-=o*s),y(i-l)<s&&(i-=l*s),r=function(e,t,n,r){var o,i,a=C(e-n);return y(a)>s?g((C(t)*(i=v(r))*C(n)-C(r)*(o=v(t))*C(e))/(o*i*a)):(t+r)/2}(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=i,r=a),o=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var o;if(null==e)o=n*u,r.point(-c,o),r.point(0,o),r.point(c,o),r.point(c,0),r.point(c,-o),r.point(0,-o),r.point(-c,-o),r.point(-c,0),r.point(-c,o);else if(y(e[0]-t[0])>s){var i=e[0]<t[0]?c:-c;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-c,-u]);function lr(e){return{stream:cr(e)}}function cr(e){return function(t){var n=new ur;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ur(){}function pr(e,t,n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),R(n,e.stream(bn));var a=bn.result(),s=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),l=+t[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+t[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&e.clipExtent(i),e.scale(150*s).translate([l,c])}function fr(e,t,n){return pr(e,[[0,0],t],n)}ur.prototype={constructor:ur,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dr=16,hr=v(30*h);function yr(e,t){return+t?function(e,t){function n(r,o,i,a,l,c,u,p,f,d,h,g,v,b){var _=u-r,w=p-o,P=_*_+w*w;if(P>4*t&&v--){var C=a+d,O=l+h,S=c+g,E=x(C*C+O*O+S*S),T=j(S/=E),M=y(y(S)-1)<s||y(i-f)<s?(i+f)/2:m(O,C),A=e(M,T),I=A[0],z=A[1],D=I-r,N=z-o,R=w*D-_*N;(R*R/P>t||y((_*D+w*N)/P-.5)>.3||a*d+l*h+c*g<hr)&&(n(r,o,i,a,l,c,I,z,M,C/=E,O/=E,S,v,b),b.point(I,z),n(I,z,M,C,O,S,u,p,f,d,h,g,v,b))}}return function(t){var r,o,i,a,s,l,c,u,p,f,d,h,y={point:g,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),y.lineStart=_},polygonEnd:function(){t.polygonEnd(),y.lineStart=m}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){u=NaN,y.point=v,t.lineStart()}function v(r,o){var i=K([r,o]),a=e(r,o);n(u,p,c,f,d,h,u=a[0],p=a[1],c=r,f=i[0],d=i[1],h=i[2],dr,t),t.point(u,p)}function b(){y.point=g,t.lineEnd()}function _(){m(),y.point=w,y.lineEnd=P}function w(e,t){v(r=e,t),o=u,i=p,a=f,s=d,l=h,y.point=v}function P(){n(u,p,c,f,d,h,o,i,r,a,s,l,dr,t),y.lineEnd=b,b()}return y}}(e,t):function(e){return cr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var gr=cr({point:function(e,t){this.stream.point(e*h,t*h)}});function mr(e){return vr((function(){return e}))()}function vr(e){var t,n,r,o,i,a,l,u,p,f,g=150,m=480,b=250,_=0,w=0,P=0,C=0,O=0,S=null,E=sr,j=null,T=en,M=.5,A=yr(D,M);function I(e){return[(e=i(e[0]*h,e[1]*h))[0]*g+n,r-e[1]*g]}function z(e){return(e=i.invert((e[0]-n)/g,(r-e[1])/g))&&[e[0]*d,e[1]*d]}function D(e,o){return[(e=t(e,o))[0]*g+n,r-e[1]*g]}function N(){i=rt(o=it(P,C,O),t);var e=t(_,w);return n=m-e[0]*g,r=b+e[1]*g,R()}function R(){return p=f=null,I}return I.stream=function(e){return p&&f===e?p:p=gr(E(o,A(T(f=e))))},I.clipAngle=function(e){return arguments.length?(E=+e?function(e,t){var n=v(e),r=n>0,o=y(n)>s;function i(e,t){return v(e)*v(t)>n}function a(e,t,r){var o=[1,0,0],i=$(K(e),K(t)),a=Q(i,i),l=i[0],u=a-l*l;if(!u)return!r&&e;var p=n*a/u,f=-n*l/u,d=$(o,i),h=te(o,p);ee(h,te(i,f));var g=d,m=Q(h,g),v=Q(g,g),b=m*m-v*(Q(h,h)-1);if(!(b<0)){var _=x(b),w=te(g,(-m-_)/v);if(ee(w,h),w=Z(w),!r)return w;var P,C=e[0],O=t[0],S=e[1],E=t[1];O<C&&(P=C,C=O,O=P);var j=O-C,T=y(j-c)<s;if(!T&&E<S&&(P=S,S=E,E=P),T||j<s?T?S+E>0^w[1]<(y(w[0]-C)<s?S:E):S<=w[1]&&w[1]<=E:j>c^(C<=w[0]&&w[0]<=O)){var M=te(g,(-m+_)/v);return ee(M,h),[w,Z(M)]}}}function l(t,n){var o=r?e:c-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return or(i,(function(e){var t,n,u,p,f;return{lineStart:function(){p=u=!1,f=1},point:function(d,h){var y,g=[d,h],m=i(d,h),v=r?m?0:l(d,h):m?l(d+(d<0?c:-c),h):0;if(!t&&(p=u=m)&&e.lineStart(),m!==u&&(!(y=a(t,g))||ht(t,y)||ht(g,y))&&(g[0]+=s,g[1]+=s,m=i(g[0],g[1])),m!==u)f=0,m?(e.lineStart(),y=a(g,t),e.point(y[0],y[1])):(y=a(t,g),e.point(y[0],y[1]),e.lineEnd()),t=y;else if(o&&t&&r^m){var b;v&n||!(b=a(g,t,!0))||(f=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!m||t&&ht(t,g)||e.point(g[0],g[1]),t=g,u=m,n=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return f|(p&&u)<<1}}}),(function(n,r,o,i){ut(i,e,t,o,n,r)}),r?[0,-e]:[-c,e-c])}(S=e*h,6*h):(S=null,sr),R()):S*d},I.clipExtent=function(e){return arguments.length?(T=null==e?(j=a=l=u=null,en):Ot(j=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1]),R()):null==j?null:[[j,a],[l,u]]},I.scale=function(e){return arguments.length?(g=+e,N()):g},I.translate=function(e){return arguments.length?(m=+e[0],b=+e[1],N()):[m,b]},I.center=function(e){return arguments.length?(_=e[0]%360*h,w=e[1]%360*h,N()):[_*d,w*d]},I.rotate=function(e){return arguments.length?(P=e[0]%360*h,C=e[1]%360*h,O=e.length>2?e[2]%360*h:0,N()):[P*d,C*d,O*d]},I.precision=function(e){return arguments.length?(A=yr(D,M=e*e),R()):x(M)},I.fitExtent=function(e,t){return pr(I,e,t)},I.fitSize=function(e,t){return fr(I,e,t)},function(){return t=e.apply(this,arguments),I.invert=t.invert&&z,N()}}function br(e){var t=0,n=c/3,r=vr(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*h,n=e[1]*h):[t*d,n*d]},o}function _r(e,t){var n=C(e),r=(n+C(t))/2;if(y(r)<s)return function(e){var t=v(e);function n(e,n){return[e*t,C(n)/t]}return n.invert=function(e,n){return[e/t,j(n*t)]},n}(e);var o=1+n*(2*r-n),i=x(o)/r;function a(e,t){var n=x(o-2*r*C(t))/r;return[n*C(e*=r),i-n*v(e)]}return a.invert=function(e,t){var n=i-t;return[m(e,y(n))/r*O(n),j((o-(e*e+n*n)*r*r)/(2*r))]},a}function wr(){return br(_r).scale(155.424).center([0,33.6442])}function Pr(){return wr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Cr(){var e,t,n,r,o,i,a=Pr(),l=wr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=wr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){i=[e,t]}};function p(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function f(){return e=t=null,p}return p.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(e)},p.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),l.stream(n),c.stream(n)],o=r.length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}});var r,o},p.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),c.precision(e),f()):a.precision()},p.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),c.scale(e),p.translate(a.translate())):a.scale()},p.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),i=+e[0],p=+e[1];return n=a.translate(e).clipExtent([[i-.455*t,p-.238*t],[i+.455*t,p+.238*t]]).stream(u),r=l.translate([i-.307*t,p+.201*t]).clipExtent([[i-.425*t+s,p+.12*t+s],[i-.214*t-s,p+.234*t-s]]).stream(u),o=c.translate([i-.205*t,p+.212*t]).clipExtent([[i-.214*t+s,p+.166*t+s],[i-.115*t-s,p+.234*t-s]]).stream(u),f()},p.fitExtent=function(e,t){return pr(p,e,t)},p.fitSize=function(e,t){return fr(p,e,t)},p.scale(1070)}function Or(e){return function(t,n){var r=v(t),o=v(n),i=e(r*o);return[i*o*C(t),i*C(n)]}}function xr(e){return function(t,n){var r=x(t*t+n*n),o=e(r),i=C(o),a=v(o);return[m(t*i,r*a),j(r&&n*i/r)]}}var Sr=Or((function(e){return x(2/(1+e))}));function Er(){return mr(Sr).scale(124.75).clipAngle(179.999)}Sr.invert=xr((function(e){return 2*j(e/2)}));var jr=Or((function(e){return(e=E(e))&&e/C(e)}));function Tr(){return mr(jr).scale(79.4188).clipAngle(179.999)}function Mr(e,t){return[e,w(S((u+t)/2))]}function Ar(){return Ir(Mr).scale(961/f)}function Ir(e){var t,n,r,o=mr(e),i=o.center,a=o.scale,s=o.translate,l=o.clipExtent,u=null;function p(){var i=c*a(),s=o(ct(o.rotate()).invert([0,0]));return l(null==u?[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]:e===Mr?[[Math.max(s[0]-i,u),t],[Math.min(s[0]+i,n),r]]:[[u,Math.max(s[1]-i,t)],[n,Math.min(s[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),p()):a()},o.translate=function(e){return arguments.length?(s(e),p()):s()},o.center=function(e){return arguments.length?(i(e),p()):i()},o.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),p()):null==u?null:[[u,t],[n,r]]},p()}function zr(e){return S((u+e)/2)}function Dr(e,t){var n=v(e),r=e===t?C(e):w(n/v(t))/w(zr(t)/zr(e)),o=n*P(zr(e),r)/r;if(!r)return Mr;function i(e,t){o>0?t<-u+s&&(t=-u+s):t>u-s&&(t=u-s);var n=o/P(zr(t),r);return[n*C(r*e),o-n*v(r*e)]}return i.invert=function(e,t){var n=o-t,i=O(r)*x(e*e+n*n);return[m(e,y(n))/r*O(n),2*g(P(o/i,1/r))-u]},i}function Nr(){return br(Dr).scale(109.5).parallels([30,30])}function Rr(e,t){return[e,t]}function kr(){return mr(Rr).scale(152.63)}function Lr(e,t){var n=v(e),r=e===t?C(e):(n-v(t))/(t-e),o=n/r+e;if(y(r)<s)return Rr;function i(e,t){var n=o-t,i=r*e;return[n*C(i),o-n*v(i)]}return i.invert=function(e,t){var n=o-t;return[m(e,y(n))/r*O(n),o-O(r)*x(e*e+n*n)]},i}function Fr(){return br(Lr).scale(131.154).center([0,13.9389])}function Br(e,t){var n=v(t),r=v(e)*n;return[n*C(e)/r,C(t)/r]}function Vr(){return mr(Br).scale(144.049).clipAngle(60)}function Gr(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?en:cr({point:function(o,i){this.stream.point(o*e+n,i*t+r)}})}function Ur(){var e,t,n,r,o,i,a=1,s=0,l=0,c=1,u=1,p=en,f=null,d=en;function h(){return r=o=null,i}return i={stream:function(e){return r&&o===e?r:r=p(d(o=e))},clipExtent:function(r){return arguments.length?(d=null==r?(f=e=t=n=null,en):Ot(f=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),h()):null==f?null:[[f,e],[t,n]]},scale:function(e){return arguments.length?(p=Gr((a=+e)*c,a*u,s,l),h()):a},translate:function(e){return arguments.length?(p=Gr(a*c,a*u,s=+e[0],l=+e[1]),h()):[s,l]},reflectX:function(e){return arguments.length?(p=Gr(a*(c=e?-1:1),a*u,s,l),h()):c<0},reflectY:function(e){return arguments.length?(p=Gr(a*c,a*(u=e?-1:1),s,l),h()):u<0},fitExtent:function(e,t){return pr(i,e,t)},fitSize:function(e,t){return fr(i,e,t)}}}function Wr(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Hr(){return mr(Wr).scale(175.295)}function Jr(e,t){return[v(t)*C(e),C(t)]}function qr(){return mr(Jr).scale(249.5).clipAngle(90+s)}function Yr(e,t){var n=v(t),r=1+v(e)*n;return[n*C(e)/r,C(t)/r]}function Xr(){return mr(Yr).scale(250).clipAngle(142)}function Zr(e,t){return[w(S((u+t)/2)),-e]}function Kr(){var e=Ir(Zr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}jr.invert=xr((function(e){return e})),Mr.invert=function(e,t){return[e,2*g(_(t))-u]},Rr.invert=Rr,Br.invert=xr(g),Wr.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(y(n)>s&&--o>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},Jr.invert=xr(j),Yr.invert=xr((function(e){return 2*g(e)})),Zr.invert=function(e,t){return[-t,2*g(_(e))-u]}},3227:(e,t,n)=>{"use strict";function r(e){return function(){return e}}function o(e){return e[0]}function i(e){return e[1]}function a(){this._=null}function s(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function l(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function c(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function u(e){for(;e.L;)e=e.L;return e}n.r(t),n.d(t,{voronoi:()=>V}),a.prototype={constructor:a,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=u(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(l(this,n),n=(e=n).U),n.C=!1,r.C=!0,c(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(c(this,n),n=(e=n).U),n.C=!1,r.C=!0,l(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?u(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,l(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,c(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,l(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,c(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,l(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,c(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};const p=a;function f(e,t,n,r){var o=[null,null],i=R.push(o)-1;return o.left=e,o.right=t,n&&h(o,e,t,n),r&&h(o,t,e,r),D[e.index].halfedges.push(i),D[t.index].halfedges.push(i),o}function d(e,t,n){var r=[t,n];return r.left=e,r}function h(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function y(e,t,n,r,o){var i,a=e[0],s=e[1],l=a[0],c=a[1],u=0,p=1,f=s[0]-l,d=s[1]-c;if(i=t-l,f||!(i>0)){if(i/=f,f<0){if(i<u)return;i<p&&(p=i)}else if(f>0){if(i>p)return;i>u&&(u=i)}if(i=r-l,f||!(i<0)){if(i/=f,f<0){if(i>p)return;i>u&&(u=i)}else if(f>0){if(i<u)return;i<p&&(p=i)}if(i=n-c,d||!(i>0)){if(i/=d,d<0){if(i<u)return;i<p&&(p=i)}else if(d>0){if(i>p)return;i>u&&(u=i)}if(i=o-c,d||!(i<0)){if(i/=d,d<0){if(i>p)return;i>u&&(u=i)}else if(d>0){if(i<u)return;i<p&&(p=i)}return!(u>0||p<1)||(u>0&&(e[0]=[l+u*f,c+u*d]),p<1&&(e[1]=[l+p*f,c+p*d]),!0)}}}}}function g(e,t,n,r,o){var i=e[1];if(i)return!0;var a,s,l=e[0],c=e.left,u=e.right,p=c[0],f=c[1],d=u[0],h=u[1],y=(p+d)/2,g=(f+h)/2;if(h===f){if(y<t||y>=r)return;if(p>d){if(l){if(l[1]>=o)return}else l=[y,n];i=[y,o]}else{if(l){if(l[1]<n)return}else l=[y,o];i=[y,n]}}else if(s=g-(a=(p-d)/(h-f))*y,a<-1||a>1)if(p>d){if(l){if(l[1]>=o)return}else l=[(n-s)/a,n];i=[(o-s)/a,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/a,o];i=[(n-s)/a,n]}else if(f<h){if(l){if(l[0]>=r)return}else l=[t,a*t+s];i=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];i=[t,a*t+s]}return e[0]=l,e[1]=i,!0}function m(e,t){var n=e.site,r=t.left,o=t.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function v(e,t){return t[+(t.left!==e.site)]}function b(e,t){return t[+(t.left===e.site)]}var _,w=[];function P(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}function C(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o[0],s=o[1],l=r[0]-a,c=r[1]-s,u=i[0]-a,p=i[1]-s,f=2*(l*p-c*u);if(!(f>=-L)){var d=l*l+c*c,h=u*u+p*p,y=(p*d-c*h)/f,g=(l*h-u*d)/f,m=w.pop()||new P;m.arc=e,m.site=o,m.x=y+a,m.y=(m.cy=g+s)+Math.sqrt(y*y+g*g),e.circle=m;for(var v=null,b=N._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}N.insert(v,m),v||(_=m)}}}}function O(e){var t=e.circle;t&&(t.P||(_=t.N),N.remove(t),w.push(t),s(t),e.circle=null)}var x=[];function S(){s(this),this.edge=this.site=this.circle=null}function E(e){var t=x.pop()||new S;return t.site=e,t}function j(e){O(e),z.remove(e),x.push(e),s(e)}function T(e){var t=e.circle,n=t.x,r=t.cy,o=[n,r],i=e.P,a=e.N,s=[e];j(e);for(var l=i;l.circle&&Math.abs(n-l.circle.x)<k&&Math.abs(r-l.circle.cy)<k;)i=l.P,s.unshift(l),j(l),l=i;s.unshift(l),O(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<k&&Math.abs(r-c.circle.cy)<k;)a=c.N,s.push(c),j(c),c=a;s.push(c),O(c);var u,p=s.length;for(u=1;u<p;++u)c=s[u],l=s[u-1],h(c.edge,l.site,c.site,o);l=s[0],(c=s[p-1]).edge=f(l.site,c.site,null,o),C(l),C(c)}function M(e){for(var t,n,r,o,i=e[0],a=e[1],s=z._;s;)if((r=A(s,a)-i)>k)s=s.L;else{if(!((o=i-I(s,a))>k)){r>-k?(t=s.P,n=s):o>-k?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){D[e.index]={site:e,halfedges:[]}}(e);var l=E(e);if(z.insert(t,l),t||n){if(t===n)return O(t),n=E(t.site),z.insert(l,n),l.edge=n.edge=f(t.site,l.site),C(t),void C(n);if(n){O(t),O(n);var c=t.site,u=c[0],p=c[1],d=e[0]-u,y=e[1]-p,g=n.site,m=g[0]-u,v=g[1]-p,b=2*(d*v-y*m),_=d*d+y*y,w=m*m+v*v,P=[(v*_-y*w)/b+u,(d*w-m*_)/b+p];h(n.edge,c,g,P),l.edge=f(c,e,null,P),n.edge=f(e,g,null,P),C(t),C(n)}else l.edge=f(t.site,l.site)}}function A(e,t){var n=e.site,r=n[0],o=n[1],i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-t;if(!c)return s;var u=s-r,p=1/i-1/c,f=u/c;return p?(-f+Math.sqrt(f*f-2*p*(u*u/(-2*c)-l+c/2+o-i/2)))/p+r:(r+s)/2}function I(e,t){var n=e.N;if(n)return A(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var z,D,N,R,k=1e-6,L=1e-12;function F(e,t){return t[1]-e[1]||t[0]-e[0]}function B(e,t){var n,r,o,i=e.sort(F).pop();for(R=[],D=new Array(e.length),z=new p,N=new p;;)if(o=_,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===n&&i[1]===r||(M(i),n=i[0],r=i[1]),i=e.pop();else{if(!o)break;T(o.arc)}if(function(){for(var e,t,n,r,o=0,i=D.length;o<i;++o)if((e=D[o])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=m(e,R[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],c=+t[1][1];!function(e,t,n,r){for(var o,i=R.length;i--;)g(o=R[i],e,t,n,r)&&y(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>k||Math.abs(o[0][1]-o[1][1])>k)||delete R[i]}(a,s,l,c),function(e,t,n,r){var o,i,a,s,l,c,u,p,f,h,y,g,m=D.length,_=!0;for(o=0;o<m;++o)if(i=D[o]){for(a=i.site,s=(l=i.halfedges).length;s--;)R[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)y=(h=b(i,R[l[s]]))[0],g=h[1],p=(u=v(i,R[l[++s%c]]))[0],f=u[1],(Math.abs(y-p)>k||Math.abs(g-f)>k)&&(l.splice(s,0,R.push(d(a,h,Math.abs(y-e)<k&&r-g>k?[e,Math.abs(p-e)<k?f:r]:Math.abs(g-r)<k&&n-y>k?[Math.abs(f-r)<k?p:n,r]:Math.abs(y-n)<k&&g-t>k?[n,Math.abs(p-n)<k?f:t]:Math.abs(g-t)<k&&y-e>k?[Math.abs(f-t)<k?p:e,t]:null))-1),++c);c&&(_=!1)}if(_){var w,P,C,O=1/0;for(o=0,_=null;o<m;++o)(i=D[o])&&(C=(w=(a=i.site)[0]-e)*w+(P=a[1]-t)*P)<O&&(O=C,_=i);if(_){var x=[e,t],S=[e,r],E=[n,r],j=[n,t];_.halfedges.push(R.push(d(a=_.site,x,S))-1,R.push(d(a,S,E))-1,R.push(d(a,E,j))-1,R.push(d(a,j,x))-1)}}for(o=0;o<m;++o)(i=D[o])&&(i.halfedges.length||delete D[o])}(a,s,l,c)}this.edges=R,this.cells=D,z=N=R=D=null}function V(){var e=o,t=i,n=null;function a(r){return new B(r.map((function(n,o){var i=[Math.round(e(n,o,r)/k)*k,Math.round(t(n,o,r)/k)*k];return i.index=o,i.data=n,i})),n)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),a):t},a.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},a.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],a):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},a}B.prototype={constructor:B,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return v(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(i=(o=n.halfedges).length)for(var o,i,a,s,l,c,u=n.site,p=-1,f=t[o[i-1]],d=f.left===u?f.right:f.left;++p<i;)a=d,d=(f=t[o[p]]).left===u?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(l=a,c=d,((s=u)[0]-c[0])*(l[1]-s[1])-(s[0]-l[0])*(c[1]-s[1])<0)&&e.push([u.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var l=e-o.site[0],c=t-o.site[1],u=l*l+c*c;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(n){var r=i.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var l=e-s[0],c=t-s[1],p=l*l+c*c;p<u&&(u=p,a=s.index)}}))}while(null!==a);return i._found=r,null==n||u<=n*n?o.site:null}}},4982:(e,t,n)=>{var r=n(1189),o=n(47244),i=n(37653),a=n(14035),s=n(71589),l=n(62120),c=Date.prototype.getTime;function u(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}e.exports=function e(t,n,f){var d=f||{};return!!(d.strict?i(t,n):t===n)||(!t||!n||"object"!=typeof t&&"object"!=typeof n?d.strict?i(t,n):t==n:function(t,n,i){var f,d;if(typeof t!=typeof n)return!1;if(u(t)||u(n))return!1;if(t.prototype!==n.prototype)return!1;if(o(t)!==o(n))return!1;var h=a(t),y=a(n);if(h!==y)return!1;if(h||y)return t.source===n.source&&s(t)===s(n);if(l(t)&&l(n))return c.call(t)===c.call(n);var g=p(t),m=p(n);if(g!==m)return!1;if(g||m){if(t.length!==n.length)return!1;for(f=0;f<t.length;f++)if(t[f]!==n[f])return!1;return!0}if(typeof t!=typeof n)return!1;try{var v=r(t),b=r(n)}catch(e){return!1}if(v.length!==b.length)return!1;for(v.sort(),b.sort(),f=v.length-1;f>=0;f--)if(v[f]!=b[f])return!1;for(f=v.length-1;f>=0;f--)if(!e(t[d=v[f]],n[d],i))return!1;return!0}(t,n,d))}},30041:(e,t,n)=>{"use strict";var r=n(30655),o=n(58068),i=n(69675),a=n(75795);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(r)r(e,t,{configurable:null===c&&p?p.configurable:!c,enumerable:null===s&&p?p.enumerable:!s,value:n,writable:null===l&&p?p.writable:!l});else{if(!u&&(s||l||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},38452:(e,t,n)=>{"use strict";var r=n(1189),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=n(30041),l=n(30592)(),c=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;l?s(e,t,n,!0):s(e,t,n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],n[i[s]])};u.supportsDescriptors=!!l,e.exports=u},53509:e=>{function t(e,t,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,r)}t.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(o,a),this._expandCluster(a,i)}}return this.clusters},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);o.length>=this.minPts&&(t=this._mergeArrays(t,o))}1!==this._assigned[r]&&this._addToCluster(r,e)}},t.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},t.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n);return t},t.prototype._mergeArrays=function(e,t){for(var n=t.length,r=0;r<n;r++){var o=t[r];e.indexOf(o)<0&&e.push(o)}return e},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)},32347:e=>{function t(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}t.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},t.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var a=new Array(u),s=0,l=0;l<u;l++)a[l]=0;for(var c=0;c<n;c++){var u=this.dataset[c].length;if(i===this.assignments[c]){for(l=0;l<u;l++)a[l]+=this.dataset[c][l];s++}}if(s>0){for(l=0;l<u;l++)a[l]/=s;this.centroids[i]=a}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},t.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,r=0;r<n;r++)(e=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=e,t=!0);return t},t.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},t.prototype.argmin=function(e,t,n){for(var r,o=Number.MAX_VALUE,i=0,a=t.length,s=0;s<a;s++)(r=n(e,t[s]))<o&&(o=r,i=s);return i},t.prototype.distance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;){var o=e[r]-t[r];n+=o*o}return Math.sqrt(n)},e.exports&&(e.exports=t)},75172:(e,t,n)=>{if(e.exports)var r=n(1283);function o(e,t,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,r)}o.prototype.run=function(e,t,n,o){this._init(e,t,n,o);for(var i=0,a=this.dataset.length;i<a;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var s=this.clusters.length-1;this._orderedList.push(i);var l=new r(null,null,"asc"),c=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,c,l),this._expandCluster(s,l))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var r=this._orderedList[t],o=this._reachability[r];e.push([r,o])}return e},o.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},o.prototype._updateQueue=function(e,t,n){var r=this;this._coreDistance=this._distanceToCore(e),t.forEach((function(t){if(void 0===r._processed[t]){var o=r.distance(r.dataset[e],r.dataset[t]),i=Math.max(r._coreDistance,o);void 0===r._reachability[t]?(r._reachability[t]=i,n.insert(t,i)):i<r._reachability[t]&&(r._reachability[t]=i,n.remove(t),n.insert(t,i))}}))},o.prototype._expandCluster=function(e,t){for(var n=t.getElements(),r=0,o=n.length;r<o;r++){var i=n[r];if(void 0===this._processed[i]){var a=this._regionQuery(i);this._processed[i]=1,this.clusters[e].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,a,t),this._expandCluster(e,t))}}},o.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++)if(this._regionQuery(e,n).length>=this.minPts)return n},o.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],r=0,o=this.dataset.length;r<o;r++)this.distance(this.dataset[e],this.dataset[r])<t&&n.push(r);return n},o.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=o)},1283:e=>{function t(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}t.prototype.insert=function(e,t){for(var n=this._queue.length,r=n;r--;){var o=this._priorities[r];"desc"===this._sorting?t>o&&(n=r):t<o&&(n=r)}this._insertAt(e,t,n)},t.prototype.remove=function(e){for(var t=this._queue.length;t--;)if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}},t.prototype.forEach=function(e){this._queue.forEach(e)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(e){return this._priorities[e]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},t.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var r=0;r<e.length;r++)this.insert(e[r],t[r])}n&&(this._sorting=n)},t.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=t)},36112:(e,t,n)=>{e.exports&&(e.exports={DBSCAN:n(53509),KMEANS:n(32347),OPTICS:n(75172),PriorityQueue:n(1283)})},66570:e=>{"use strict";function t(e,t,r){r=r||2;var i,a,s,l,p,f,h,y=t&&t.length,g=y?t[0]*r:e.length,m=n(e,0,g,r,!0),v=[];if(!m||m.next===m.prev)return v;if(y&&(m=function(e,t,r,o){var i,a,s,l=[];for(i=0,a=t.length;i<a;i++)(s=n(e,t[i]*o,i<a-1?t[i+1]*o:e.length,o,!1))===s.next&&(s.steiner=!0),l.push(d(s));for(l.sort(c),i=0;i<l.length;i++)r=u(l[i],r);return r}(e,t,m,r)),e.length>80*r){i=s=e[0],a=l=e[1];for(var b=r;b<g;b+=r)(p=e[b])<i&&(i=p),(f=e[b+1])<a&&(a=f),p>s&&(s=p),f>l&&(l=f);h=0!==(h=Math.max(s-i,l-a))?32767/h:0}return o(m,v,r,i,a,h,0),v}function n(e,t,n,r,o){var i,a;if(o===S(e,t,n,r)>0)for(i=t;i<n;i+=r)a=C(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=C(i,e[i],e[i+1],a);return a&&m(a,a.next)&&(O(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(O(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function o(e,t,n,c,u,p,d){if(e){!d&&p&&function(e,t,n,r){var o=e;do{0===o.z&&(o.z=f(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,a,s,l,c=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(a>1)}(o)}(e,c,u,p);for(var h,y,g=e;e.prev!==e.next;)if(h=e.prev,y=e.next,p?a(e,c,u,p):i(e))t.push(h.i/n|0),t.push(e.i/n|0),t.push(y.i/n|0),O(e),e=y.next,g=y.next;else if((e=y)===g){d?1===d?o(e=s(r(e),t,n),t,n,c,u,p,2):2===d&&l(e,t,n,c,u,p):o(r(e),t,n,c,u,p,1);break}}}function i(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var o=t.x,i=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=o<i?o<a?o:a:i<a?i:a,p=s<l?s<c?s:c:l<c?l:c,f=o>i?o>a?o:a:i>a?i:a,d=s>l?s>c?s:c:l>c?l:c,y=r.next;y!==t;){if(y.x>=u&&y.x<=f&&y.y>=p&&y.y<=d&&h(o,s,i,l,a,c,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function a(e,t,n,r){var o=e.prev,i=e,a=e.next;if(g(o,i,a)>=0)return!1;for(var s=o.x,l=i.x,c=a.x,u=o.y,p=i.y,d=a.y,y=s<l?s<c?s:c:l<c?l:c,m=u<p?u<d?u:d:p<d?p:d,v=s>l?s>c?s:c:l>c?l:c,b=u>p?u>d?u:d:p>d?p:d,_=f(y,m,t,n,r),w=f(v,b,t,n,r),P=e.prevZ,C=e.nextZ;P&&P.z>=_&&C&&C.z<=w;){if(P.x>=y&&P.x<=v&&P.y>=m&&P.y<=b&&P!==o&&P!==a&&h(s,u,l,p,c,d,P.x,P.y)&&g(P.prev,P,P.next)>=0)return!1;if(P=P.prevZ,C.x>=y&&C.x<=v&&C.y>=m&&C.y<=b&&C!==o&&C!==a&&h(s,u,l,p,c,d,C.x,C.y)&&g(C.prev,C,C.next)>=0)return!1;C=C.nextZ}for(;P&&P.z>=_;){if(P.x>=y&&P.x<=v&&P.y>=m&&P.y<=b&&P!==o&&P!==a&&h(s,u,l,p,c,d,P.x,P.y)&&g(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;C&&C.z<=w;){if(C.x>=y&&C.x<=v&&C.y>=m&&C.y<=b&&C!==o&&C!==a&&h(s,u,l,p,c,d,C.x,C.y)&&g(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function s(e,t,n){var o=e;do{var i=o.prev,a=o.next.next;!m(i,a)&&v(i,o,o.next,a)&&w(i,a)&&w(a,i)&&(t.push(i.i/n|0),t.push(o.i/n|0),t.push(a.i/n|0),O(o),O(o.next),o=e=a),o=o.next}while(o!==e);return r(o)}function l(e,t,n,i,a,s){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&y(l,c)){var u=P(l,c);return l=r(l,l.next),u=r(u,u.next),o(l,t,n,i,a,s,0),void o(u,t,n,i,a,s,0)}c=c.next}l=l.next}while(l!==e)}function c(e,t){return e.x-t.x}function u(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===o))return n}r=r.next}while(r!==t);if(!n)return null;var l,c=n,u=n.x,f=n.y,d=1/0;r=n;do{o>=r.x&&r.x>=u&&o!==r.x&&h(i<f?o:a,i,u,f,i<f?a:o,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(o-r.x),w(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,d=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var o=P(n,e);return r(o,o.next),r(n,n.next)}function p(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function f(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function h(e,t,n,r,o,i,a,s){return(o-a)*(t-s)>=(e-a)*(i-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(i-s)>=(o-a)*(r-s)}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&v(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||m(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,n,r){var o=_(g(e,t,n)),i=_(g(e,t,r)),a=_(g(n,r,e)),s=_(g(n,r,t));return o!==i&&a!==s||!(0!==o||!b(e,n,t))||!(0!==i||!b(e,r,t))||!(0!==a||!b(n,e,r))||!(0!==s||!b(n,t,r))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function w(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function P(e,t){var n=new x(e.i,e.x,e.y),r=new x(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function C(e,t,n,r){var o=new x(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function O(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function x(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,n,r){for(var o=0,i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,a=Math.abs(S(e,0,i,n));if(o)for(var s=0,l=t.length;s<l;s++){var c=t[s]*n,u=s<l-1?t[s+1]*n:e.length;a-=Math.abs(S(e,c,u,n))}var p=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;p+=Math.abs((e[f]-e[h])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[h+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}},30655:(e,t,n)=>{"use strict";var r=n(70453)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},89353:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var n=[],r=1,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n}(arguments),s=n(0,o.length-a.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=",");return n}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,r(a,arguments));return Object(t)===t?t:this}return o.apply(e,r(a,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},66743:(e,t,n)=>{"use strict";var r=n(89353);e.exports=Function.prototype.bind||r},74462:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(e){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof r&&""!==function(){}.bind().name},e.exports=t},88635:(e,t,n)=>{var r=n(4982),o=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:s};function i(e){return e.coordinates.map((function(t){return{type:e.type.replace("Multi",""),coordinates:t}}))}function a(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function s(e,t){return r(e,t,{strict:!0})}o.prototype.compare=function(e,t){if(e.type!==t.type||!a(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=i(e),o=i(t);return r.every((function(e){return this.some((function(t){return n.compare(e,t)}))}),o)}}return!1},o.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(e,t,n,r){if(!a(e,t))return!1;var o=this.pseudoNode?e:this.removePseudo(e),i=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var s=this.compareCoord(o[n],i[n]);return this.direction||s?this.comparePath(o,i):!!this.compareCoord(o[n],i[i.length-(1+n)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(e,t){for(var n,r=-1,o=0;o<e.length;o++)if(this.compareCoord(e[o],t[0])){r=o;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},o.prototype.comparePath=function(e,t){var n=this;return e.every((function(e,t){return n.compareCoord(e,this[t])}),t)},o.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),o=this;return n.every((function(e){return this.some((function(t){return o.compareLine(e,t,1,!0)}))}),r)}return!1},o.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},o.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},o.prototype.removePseudo=function(e){return e},e.exports=o},4945:(e,t,n)=>{var r=n(93385),o=n(88967),i=n(58421),a=n(44383).default,s=i.featureEach,l=(i.coordEach,o.polygon,o.featureCollection);function c(e){var t=new r(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})):s(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})),r.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.remove.call(this,e,t)},t.clear=function(){return r.prototype.clear.call(this)},t.search=function(e){var t=r.prototype.search.call(this,this.toBBox(e));return l(t)},t.collides=function(e){return r.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=r.prototype.all.call(this);return l(e)},t.toJSON=function(){return r.prototype.toJSON.call(this)},t.fromJSON=function(e){return r.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=a(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=a(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}e.exports=c,e.exports.default=c},93385:function(e){e.exports=function(){"use strict";function e(e,r,o,i,a){!function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,c=Math.log(s),u=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-l*u/s+p)),Math.min(i,Math.floor(r+(s-l)*u/s+p)),a)}var f=n[r],d=o,h=i;for(t(n,o,r),a(n[i],f)>0&&t(n,o,i);d<h;){for(t(n,d,h),d++,h--;a(n[d],f)<0;)d++;for(;a(n[h],f)>0;)h--}0===a(n[o],f)?t(n,o,h):t(n,++h,i),h<=r&&(o=h+1),r<=h&&(i=h-1)}}(e,r,o||0,i||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,o){o||(o=h(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<n;i++){var a=e.children[i];s(o,e.leaf?r(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;e(t,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!d(e,t))return n;for(var r=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?r(a):a;d(e,s)&&(t.leaf?n.push(a):f(e,s)?this._all(a,n):o.push(a))}t=o.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var o=t.children[r],i=t.leaf?this.toBBox(o):o;if(d(e,i)){if(t.leaf||f(e,i))return!0;n.push(o)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=h([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,s=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=o(e,a.children,t);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!f(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var o,a=n-t+1,s=this._maxEntries;if(a<=s)return i(o=h(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=h([])).leaf=!1,o.height=r;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));y(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var p=Math.min(u+c-1,n);y(e,u,p,l,this.compareMinY);for(var f=u;f<=p;f+=l){var d=Math.min(f+l-1,p);o.children.push(this._build(e,f,d,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],c=u(l),p=(f=e,d=l,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-c);p<i?(i=p,o=c<o?c:o,a=l):p===i&&c<o&&(o=c,a=l)}t=a||t.children[0]}var f,d;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),s(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=h(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,o,i,s,l,c,p,f=1/0,d=1/0,h=t;h<=n-t;h++){var y=a(e,0,h,this.toBBox),g=a(e,h,n,this.toBBox),m=(o=y,i=g,void 0,void 0,void 0,void 0,s=Math.max(o.minX,i.minX),l=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),p=Math.min(o.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,p-l)),v=u(y)+u(g);m<f?(f=m,r=h,d=v<d?v:d):m===f&&v<d&&(d=v,r=h)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var o=this.toBBox,i=a(e,0,t,o),l=a(e,n-t,n,o),c=p(i)+p(l),u=t;u<n-t;u++){var f=e.children[u];s(i,e.leaf?o(f):f),c+=p(i)}for(var d=n-t-1;d>=t;d--){var h=e.children[d];s(l,e.leaf?o(h):h),c+=p(l)}return c},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},r}()},70453:(e,t,n)=>{"use strict";var r,o=n(69383),i=n(41237),a=n(79290),s=n(79538),l=n(58068),c=n(69675),u=n(35345),p=Function,f=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var h=function(){throw new c},y=d?function(){try{return h}catch(e){try{return d(arguments,"callee").get}catch(e){return h}}}():h,g=n(64039)(),m=n(80024)(),v=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),b={},_="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":_,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(e){var P=v(v(e));w["%Error.prototype%"]=P}var C=function e(t){var n;if("%AsyncFunction%"===t)n=f("async function () {}");else if("%GeneratorFunction%"===t)n=f("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=f("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return w[t]=n,n},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=n(66743),S=n(9957),E=x.call(Function.call,Array.prototype.concat),j=x.call(Function.apply,Array.prototype.splice),T=x.call(Function.call,String.prototype.replace),M=x.call(Function.call,String.prototype.slice),A=x.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,D=function(e,t){var n,r=e;if(S(O,r)&&(r="%"+(n=O[r])[0]+"%"),S(w,r)){var o=w[r];if(o===b&&(o=C(r)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=M(e,0,1),n=M(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return T(e,I,(function(e,t,n,o){r[r.length]=n?T(o,z,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=D("%"+r+"%",t),i=o.name,a=o.value,s=!1,u=o.alias;u&&(r=u[0],j(n,E([0,1],u)));for(var p=1,f=!0;p<n.length;p+=1){var h=n[p],y=M(h,0,1),g=M(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==h&&f||(s=!0),S(w,i="%"+(r+="."+h)+"%"))a=w[i];else if(null!=a){if(!(h in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&p+1>=n.length){var m=d(a,h);a=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[h]}else f=S(a,h),a=a[h];f&&!s&&(w[i]=a)}}return a}},75795:(e,t,n)=>{"use strict";var r=n(70453)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},30592:(e,t,n)=>{"use strict";var r=n(30655),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},80024:e=>{"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},64039:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(41333);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},49092:(e,t,n)=>{"use strict";var r=n(41333);e.exports=function(){return r()&&!!Symbol.toStringTag}},9957:(e,t,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(66743);e.exports=i.call(r,o)},47244:(e,t,n)=>{"use strict";var r=n(49092)(),o=n(38075)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},62120:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(49092)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},14035:(e,t,n)=>{"use strict";var r,o,i,a,s=n(38075),l=n(49092)();if(l){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var u=s("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!t||!r(t,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},45228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(s[c]=i[c]);if(t){a=t(i);for(var u=0;u<a.length;u++)r.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},89211:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},37653:(e,t,n)=>{"use strict";var r=n(38452),o=n(10487),i=n(89211),a=n(9394),s=n(36576),l=o(a(),Object);r(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},9394:(e,t,n)=>{"use strict";var r=n(89211);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},36576:(e,t,n)=>{"use strict";var r=n(9394),o=n(38452);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},28875:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(1093),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(r&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var m in e)h&&"prototype"===m||!o.call(e,m)||f.push(String(m));if(l)for(var v=function(e){if("undefined"==typeof window||!d)return p(e);try{return p(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)v&&"constructor"===u[b]||!o.call(e,u[b])||f.push(u[b]);return f}}e.exports=r},1189:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(1093),i=Object.keys,a=i?function(e){return i(e)}:n(28875),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},3841:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=(r-n)/2,l=0,c=s-1;l<s;c=l++){var u=t[n+2*l+0],p=t[n+2*l+1],f=t[n+2*c+0],d=t[n+2*c+1];p>i!=d>i&&o<(f-u)*(i-p)/(d-p)+u&&(a=!a)}return a}},51476:(e,t,n)=>{var r=n(3841),o=n(61137);e.exports=function(e,t,n,i){return t.length>0&&Array.isArray(t[0])?o(e,t,n,i):r(e,t,n,i)},e.exports.nested=o,e.exports.flat=r},61137:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=r-n,l=0,c=s-1;l<s;c=l++){var u=t[l+n][0],p=t[l+n][1],f=t[c+n][0],d=t[c+n][1];p>i!=d>i&&o<(f-u)*(i-p)/(d-p)+u&&(a=!a)}return a}},59004:function(e){e.exports=function(){"use strict";function e(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var t=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function n(e,t){return e>t?1:e<t?-1:0}function r(e,n,r){for(var o=new t(null,null),i=o,a=o;;){var s=r(e,n.key);if(s<0){if(null===n.left)break;if(r(e,n.left.key)<0){var l=n.left;if(n.left=l.right,l.right=n,null===(n=l).left)break}a.left=n,a=n,n=n.left}else{if(!(s>0))break;if(null===n.right)break;if(r(e,n.right.key)>0&&(l=n.right,n.right=l.left,l.left=n,null===(n=l).right))break;i.right=n,i=n,n=n.right}}return i.right=n.left,a.left=n.right,n.left=o.right,n.right=o.left,n}function o(e,n,o,i){var a=new t(e,n);if(null===o)return a.left=a.right=null,a;var s=i(e,(o=r(e,o,i)).key);return s<0?(a.left=o.left,a.right=o,o.left=null):s>=0&&(a.right=o.right,a.left=o,o.right=null),a}function i(e,t,n){var o=null,i=null;if(t){var a=n((t=r(e,t,n)).key,e);0===a?(o=t.left,i=t.right):a<0?(i=t.right,t.right=null,o=t):(o=t.left,t.left=null,i=t)}return{left:o,right:i}}function a(e,t,n,r,o){if(e){r(t+(n?"└── ":"├── ")+o(e)+"\n");var i=t+(n?"    ":"│   ");e.left&&a(e.left,i,!1,r,o),e.right&&a(e.right,i,!0,r,o)}}var s=function(){function s(e){void 0===e&&(e=n),this._root=null,this._size=0,this._comparator=e}return s.prototype.insert=function(e,t){return this._size++,this._root=o(e,t,this._root,this._comparator)},s.prototype.add=function(e,n){var o=new t(e,n);null===this._root&&(o.left=o.right=null,this._size++,this._root=o);var i=this._comparator,a=r(e,this._root,i),s=i(e,a.key);return 0===s?this._root=a:(s<0?(o.left=a.left,o.right=a,a.left=null):s>0&&(o.right=a.right,o.left=a,a.right=null),this._size++,this._root=o),this._root},s.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},s.prototype._remove=function(e,t,n){var o;return null===t?null:0===n(e,(t=r(e,t,n)).key)?(null===t.left?o=t.right:(o=r(e,t.left,n)).right=t.right,this._size--,o):t},s.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=r(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},s.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},s.prototype.find=function(e){return this._root&&(this._root=r(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},s.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},s.prototype.forEach=function(e,t){for(var n=this._root,r=[],o=!1;!o;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):o=!0;return this},s.prototype.range=function(e,t,n,r){for(var o=[],i=this._comparator,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(i((a=o.pop()).key,t)>0)break;if(i(a.key,e)>=0&&n.call(r,a))return this;a=a.right}return this},s.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},s.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},s.prototype.min=function(){return this._root?this.minNode(this._root).key:null},s.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},s.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},s.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},s.prototype.at=function(e){for(var t=this._root,n=!1,r=0,o=[];!n;)if(t)o.push(t),t=t.left;else if(o.length>0){if(t=o.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},s.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(0===o)break;o<0?(n=t,t=t.left):t=t.right}return n},s.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(0===o)break;o<0?t=t.left:(n=t,t=t.right)}return n},s.prototype.clear=function(){return this._root=null,this._size=0,this},s.prototype.toList=function(){return function(e){for(var n=e,r=[],o=!1,i=new t(null,null),a=i;!o;)n?(r.push(n),n=n.left):r.length>0?n=(n=a=a.next=r.pop()).right:o=!0;return a.next=null,i.next}(this._root)},s.prototype.load=function(e,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);var o=e.length,i=this._comparator;if(r&&u(e,n,0,o-1,i),null===this._root)this._root=l(e,n,0,o),this._size=o;else{var a=function(e,n,r){for(var o=new t(null,null),i=o,a=e,s=n;null!==a&&null!==s;)r(a.key,s.key)<0?(i.next=a,a=a.next):(i.next=s,s=s.next),i=i.next;return null!==a?i.next=a:null!==s&&(i.next=s),o.next}(this.toList(),function(e,n){for(var r=new t(null,null),o=r,i=0;i<e.length;i++)o=o.next=new t(e[i],n[i]);return o.next=null,r.next}(e,n),i);o=this._size+o,this._root=c({head:a},0,o)}return this},s.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),s.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return a(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},s.prototype.update=function(e,t,n){var a=this._comparator,s=i(e,this._root,a),l=s.left,c=s.right;a(e,t)<0?c=o(t,n,c,a):l=o(t,n,l,a),this._root=function(e,t,n){return null===t?e:(null===e||((t=r(e.key,t,n)).left=e),t)}(l,c,a)},s.prototype.split=function(e){return i(e,this._root,this._comparator)},s.prototype[Symbol.iterator]=function(){var t,n,r;return e(this,(function(e){switch(e.label){case 0:t=this._root,n=[],r=!1,e.label=1;case 1:return r?[3,6]:null===t?[3,2]:(n.push(t),t=t.left,[3,5]);case 2:return 0===n.length?[3,4]:[4,t=n.pop()];case 3:return e.sent(),t=t.right,[3,5];case 4:r=!0,e.label=5;case 5:return[3,1];case 6:return[2]}}))},s}();function l(e,n,r,o){var i=o-r;if(i>0){var a=r+Math.floor(i/2),s=e[a],c=n[a],u=new t(s,c);return u.left=l(e,n,r,a),u.right=l(e,n,a+1,o),u}return null}function c(e,t,n){var r=n-t;if(r>0){var o=t+Math.floor(r/2),i=c(e,t,o),a=e.head;return a.left=i,e.head=e.head.next,a.right=c(e,o+1,n),a}return null}function u(e,t,n,r,o){if(!(n>=r)){for(var i=e[n+r>>1],a=n-1,s=r+1;;){do{a++}while(o(e[a],i)<0);do{s--}while(o(e[s],i)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}u(e,t,n,s,o),u(e,t,s+1,r,o)}}const p=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,f=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}};let d=Number.EPSILON;void 0===d&&(d=Math.pow(2,-52));const h=d*d,y=(e,t)=>{if(-d<e&&e<d&&-d<t&&t<d)return 0;const n=e-t;return n*n<h*e*t?0:e<t?-1:1};class g{constructor(){this.tree=new s,this.round(0)}round(e){const t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===y(t.key,n.key))return this.tree.remove(e),n.key;const r=this.tree.next(t);return null!==r&&0===y(t.key,r.key)?(this.tree.remove(e),r.key):e}}const m=new class{constructor(){this.reset()}reset(){this.xRounder=new g,this.yRounder=new g}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}},v=11102230246251565e-32,b=134217729,_=(3+8*v)*v;function w(e,t,n,r,o){let i,a,s,l,c=t[0],u=r[0],p=0,f=0;u>c==u>-c?(i=c,c=t[++p]):(i=u,u=r[++f]);let d=0;if(p<e&&f<n)for(u>c==u>-c?(a=c+i,s=i-(a-c),c=t[++p]):(a=u+i,s=i-(a-u),u=r[++f]),i=a,0!==s&&(o[d++]=s);p<e&&f<n;)u>c==u>-c?(a=i+c,l=a-i,s=i-(a-l)+(c-l),c=t[++p]):(a=i+u,l=a-i,s=i-(a-l)+(u-l),u=r[++f]),i=a,0!==s&&(o[d++]=s);for(;p<e;)a=i+c,l=a-i,s=i-(a-l)+(c-l),c=t[++p],i=a,0!==s&&(o[d++]=s);for(;f<n;)a=i+u,l=a-i,s=i-(a-l)+(u-l),u=r[++f],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function P(e){return new Float64Array(e)}const C=22204460492503146e-32,O=11093356479670487e-47,x=P(4),S=P(8),E=P(12),j=P(16),T=P(4);function M(e,t,n,r,o,i){const a=(t-i)*(n-o),s=(e-o)*(r-i),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(e,t,n,r,o,i,a){let s,l,c,u,p,f,d,h,y,g,m,v,P,M,A,I,z,D;const N=e-o,R=n-o,k=t-i,L=r-i;M=N*L,f=b*N,d=f-(f-N),h=N-d,f=b*L,y=f-(f-L),g=L-y,A=h*g-(M-d*y-h*y-d*g),I=k*R,f=b*k,d=f-(f-k),h=k-d,f=b*R,y=f-(f-R),g=R-y,z=h*g-(I-d*y-h*y-d*g),m=A-z,p=A-m,x[0]=A-(m+p)+(p-z),v=M+m,p=v-M,P=M-(v-p)+(m-p),m=P-I,p=P-m,x[1]=P-(m+p)+(p-I),D=v+m,p=D-v,x[2]=v-(D-p)+(m-p),x[3]=D;let F=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,x),B=C*a;if(F>=B||-F>=B)return F;if(p=e-N,s=e-(N+p)+(p-o),p=n-R,c=n-(R+p)+(p-o),p=t-k,l=t-(k+p)+(p-i),p=r-L,u=r-(L+p)+(p-i),0===s&&0===l&&0===c&&0===u)return F;if(B=O*a+_*Math.abs(F),F+=N*u+L*s-(k*c+R*l),F>=B||-F>=B)return F;M=s*L,f=b*s,d=f-(f-s),h=s-d,f=b*L,y=f-(f-L),g=L-y,A=h*g-(M-d*y-h*y-d*g),I=l*R,f=b*l,d=f-(f-l),h=l-d,f=b*R,y=f-(f-R),g=R-y,z=h*g-(I-d*y-h*y-d*g),m=A-z,p=A-m,T[0]=A-(m+p)+(p-z),v=M+m,p=v-M,P=M-(v-p)+(m-p),m=P-I,p=P-m,T[1]=P-(m+p)+(p-I),D=v+m,p=D-v,T[2]=v-(D-p)+(m-p),T[3]=D;const V=w(4,x,4,T,S);M=N*u,f=b*N,d=f-(f-N),h=N-d,f=b*u,y=f-(f-u),g=u-y,A=h*g-(M-d*y-h*y-d*g),I=k*c,f=b*k,d=f-(f-k),h=k-d,f=b*c,y=f-(f-c),g=c-y,z=h*g-(I-d*y-h*y-d*g),m=A-z,p=A-m,T[0]=A-(m+p)+(p-z),v=M+m,p=v-M,P=M-(v-p)+(m-p),m=P-I,p=P-m,T[1]=P-(m+p)+(p-I),D=v+m,p=D-v,T[2]=v-(D-p)+(m-p),T[3]=D;const G=w(V,S,4,T,E);M=s*u,f=b*s,d=f-(f-s),h=s-d,f=b*u,y=f-(f-u),g=u-y,A=h*g-(M-d*y-h*y-d*g),I=l*c,f=b*l,d=f-(f-l),h=l-d,f=b*c,y=f-(f-c),g=c-y,z=h*g-(I-d*y-h*y-d*g),m=A-z,p=A-m,T[0]=A-(m+p)+(p-z),v=M+m,p=v-M,P=M-(v-p)+(m-p),m=P-I,p=P-m,T[1]=P-(m+p)+(p-I),D=v+m,p=D-v,T[2]=v-(D-p)+(m-p),T[3]=D;const U=w(G,E,4,T,j);return j[U-1]}(e,t,n,r,o,i,c)}const A=(e,t)=>e.x*t.y-e.y*t.x,I=(e,t)=>e.x*t.x+e.y*t.y,z=(e,t,n)=>{const r=M(e.x,e.y,t.x,t.y,n.x,n.y);return r>0?-1:r<0?1:0},D=e=>Math.sqrt(I(e,e)),N=(e,t,n)=>{const r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y};return A(o,r)/D(o)/D(r)},R=(e,t,n)=>{const r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y};return I(o,r)/D(o)/D(r)},k=(e,t,n)=>0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n},L=(e,t,n)=>0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)};class F{static compare(e,t){const n=F.comparePoints(e.point,t.point);return 0!==n?n:(e.point!==t.point&&e.link(t),e.isLeft!==t.isLeft?e.isLeft?1:-1:V.compare(e.segment,t.segment))}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.point.events.push(n),n.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const n=this.point.events[t];if(void 0===n.segment.consumedBy)for(let r=t+1;r<e;r++){const e=this.point.events[r];void 0===e.consumedBy&&n.otherSE.point.events===e.otherSE.point.events&&n.segment.consume(e.segment)}}}getAvailableLinkedEvents(){const e=[];for(let t=0,n=this.point.events.length;t<n;t++){const n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}getLeftmostComparator(e){const t=new Map,n=n=>{const r=n.otherSE;t.set(n,{sine:N(this.point,e.point,r.point),cosine:R(this.point,e.point,r.point)})};return(e,r)=>{t.has(e)||n(e),t.has(r)||n(r);const{sine:o,cosine:i}=t.get(e),{sine:a,cosine:s}=t.get(r);return o>=0&&a>=0?i<s?1:i>s?-1:0:o<0&&a<0?i<s?-1:i>s?1:0:a<o?-1:a>o?1:0}}}let B=0;class V{static compare(e,t){const n=e.leftSE.point.x,r=t.leftSE.point.x,o=e.rightSE.point.x,i=t.rightSE.point.x;if(i<n)return 1;if(o<r)return-1;const a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,c=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;const n=e.comparePoint(t.leftSE.point);if(n<0)return 1;if(n>0)return-1;const r=t.comparePoint(e.rightSE.point);return 0!==r?r:-1}if(n>r){if(a<s&&a<c)return-1;if(a>s&&a>c)return 1;const n=t.comparePoint(e.leftSE.point);if(0!==n)return n;const r=e.comparePoint(t.rightSE.point);return r<0?1:r>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(o<i){const n=t.comparePoint(e.rightSE.point);if(0!==n)return n}if(o>i){const n=e.comparePoint(t.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(o!==i){const e=l-a,t=o-n,u=c-s,p=i-r;if(e>t&&u<p)return 1;if(e<t&&u>p)return-1}return o>i?1:o<i||l<c?-1:l>c?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,n,r){this.id=++B,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=r}static fromRing(e,t,n){let r,o,i;const a=F.comparePoints(e,t);if(a<0)r=e,o=t,i=1;else{if(!(a>0))throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);r=t,o=e,i=-1}const s=new F(r,!0),l=new F(o,!1);return new V(s,l,[n],[i])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;const t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;const o=(e.y-t.y)/r.y,i=t.x+o*r.x;if(e.x===i)return 0;const a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}getIntersection(e){const t=this.bbox(),n=e.bbox(),r=f(t,n);if(null===r)return null;const o=this.leftSE.point,i=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=p(t,a)&&0===this.comparePoint(a),c=p(n,o)&&0===e.comparePoint(o),u=p(t,s)&&0===this.comparePoint(s),d=p(n,i)&&0===e.comparePoint(i);if(c&&l)return d&&!u?i:!d&&u?s:null;if(c)return u&&o.x===s.x&&o.y===s.y?null:o;if(l)return d&&i.x===a.x&&i.y===a.y?null:a;if(d&&u)return null;if(d)return i;if(u)return s;const h=((e,t,n,r)=>{if(0===t.x)return L(n,r,e.x);if(0===r.x)return L(e,t,n.x);if(0===t.y)return k(n,r,e.y);if(0===r.y)return k(e,t,n.y);const o=A(t,r);if(0==o)return null;const i={x:n.x-e.x,y:n.y-e.y},a=A(i,t)/o,s=A(i,r)/o;return{x:(e.x+s*t.x+(n.x+a*r.x))/2,y:(e.y+s*t.y+(n.y+a*r.y))/2}})(o,this.vector(),a,e.vector());return null===h?null:p(r,h)?m.round(h.x,h.y):null}split(e){const t=[],n=void 0!==e.events,r=new F(e,!0),o=new F(e,!1),i=this.rightSE;this.replaceRightSE(o),t.push(o),t.push(r);const a=new V(r,i,this.rings.slice(),this.windings.slice());return F.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),F.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),o.checkForConsuming()),t}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(e){let t=this,n=e;for(;t.consumedBy;)t=t.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const r=V.compare(t,n);if(0!==r){if(r>0){const e=t;t=n,n=e}if(t.prev===n){const e=t;t=n,n=e}for(let e=0,r=n.rings.length;e<r;e++){const r=n.rings[e],o=n.windings[e],i=t.rings.indexOf(r);-1===i?(t.rings.push(r),t.windings.push(o)):t.windings[i]+=o}n.rings=null,n.windings=null,n.consumedBy=t,n.leftSE.consumedBy=t.leftSE,n.rightSE.consumedBy=t.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let e=0,r=this.rings.length;e<r;e++){const r=this.rings[e],o=this.windings[e],i=t.indexOf(r);-1===i?(t.push(r),n.push(o)):n[i]+=o}const o=[],i=[];for(let e=0,r=t.length;e<r;e++){if(0===n[e])continue;const r=t[e],a=r.poly;if(-1===i.indexOf(a))if(r.isExterior)o.push(a);else{-1===i.indexOf(a)&&i.push(a);const e=o.indexOf(r.poly);-1!==e&&o.splice(e,1)}}for(let e=0,t=o.length;e<t;e++){const t=o[e].multiPoly;-1===r.indexOf(t)&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(K.type){case"union":{const n=0===e.length,r=0===t.length;this._isInResult=n!==r;break}case"intersection":{let n,r;e.length<t.length?(n=e.length,r=t.length):(n=t.length,r=e.length),this._isInResult=r===K.numMultiPolys&&n<r;break}case"xor":{const n=Math.abs(e.length-t.length);this._isInResult=n%2==1;break}case"difference":{const n=e=>1===e.length&&e[0].isSubject;this._isInResult=n(e)!==n(t);break}default:throw new Error(`Unrecognized operation type found ${K.type}`)}return this._isInResult}}class G{constructor(e,t,n){if(!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=m.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let o=r;for(let t=1,n=e.length;t<n;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let n=m.round(e[t][0],e[t][1]);n.x===o.x&&n.y===o.y||(this.segments.push(V.fromRing(o,n,this)),n.x<this.bbox.ll.x&&(this.bbox.ll.x=n.x),n.y<this.bbox.ll.y&&(this.bbox.ll.y=n.y),n.x>this.bbox.ur.x&&(this.bbox.ur.x=n.x),n.y>this.bbox.ur.y&&(this.bbox.ur.y=n.y),o=n)}r.x===o.x&&r.y===o.y||this.segments.push(V.fromRing(o,r,this))}getSweepEvents(){const e=[];for(let t=0,n=this.segments.length;t<n;t++){const n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}}class U{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new G(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,n=e.length;t<n;t++){const n=new G(e[t],this,!1);n.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=n.bbox.ur.y),this.interiorRings.push(n)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){const n=this.interiorRings[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}}class W{constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let t=0,n=e.length;t<n;t++){const n=new U(e[t],this);n.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=n.bbox.ur.y),this.polys.push(n)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}}class H{static factory(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(!r.isInResult()||r.ringOut)continue;let o=null,i=r.leftSE,a=r.rightSE;const s=[i],l=i.point,c=[];for(;o=i,i=a,s.push(i),i.point!==l;)for(;;){const e=i.getAvailableLinkedEvents();if(0===e.length){const e=s[0].point,t=s[s.length-1].point;throw new Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===e.length){a=e[0].otherSE;break}let n=null;for(let e=0,t=c.length;e<t;e++)if(c[e].point===i.point){n=e;break}if(null!==n){const e=c.splice(n)[0],r=s.splice(e.index);r.unshift(r[0].otherSE),t.push(new H(r.reverse()));continue}c.push({index:s.length,point:i.point});const r=i.getLeftmostComparator(o);a=e.sort(r)[0].otherSE;break}t.push(new H(s))}return t}constructor(e){this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let n=1,r=this.events.length-1;n<r;n++){const r=this.events[n].point,o=this.events[n+1].point;0!==z(r,e,o)&&(t.push(r),e=r)}if(1===t.length)return null;const n=t[0],r=t[1];0===z(n,e,r)&&t.shift(),t.push(t[0]);const o=this.isExteriorRing()?1:-1,i=this.isExteriorRing()?0:t.length-1,a=this.isExteriorRing()?t.length:-1,s=[];for(let e=i;e!=a;e+=o)s.push([t[e].x,t[e].y]);return s}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,n=this.events.length;t<n;t++){const n=this.events[t];F.compare(e,n)>0&&(e=n)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;if(n.ringOut!==t.ringOut)return n.ringOut.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut.enclosingRing();t=n.prevInResult(),n=t?t.prevInResult():null}}}class J{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(let t=0,n=this.interiorRings.length;t<n;t++){const n=this.interiorRings[t].getGeom();null!==n&&e.push(n)}return e}}class q{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getGeom();null!==n&&e.push(n)}return e}_composePolys(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(!r.poly)if(r.isExteriorRing())t.push(new J(r));else{const e=r.enclosingRing();e.poly||t.push(new J(e)),e.poly.addInterior(r)}}return t}}class Y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V.compare;this.queue=e,this.tree=new s(t),this.segments=[]}process(e){const t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;const r=e.isLeft?this.tree.add(t):this.tree.find(t);if(!r)throw new Error(`Unable to find segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] in SweepLine tree.`);let o,i,a=r,s=r;for(;void 0===o;)a=this.tree.prev(a),null===a?o=null:void 0===a.key.consumedBy&&(o=a.key);for(;void 0===i;)s=this.tree.next(s),null===s?i=null:void 0===s.key.consumedBy&&(i=s.key);if(e.isLeft){let r=null;if(o){const e=o.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(r=e),!o.isAnEndpoint(e))){const t=this._splitSafely(o,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}let a=null;if(i){const e=i.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(a=e),!i.isAnEndpoint(e))){const t=this._splitSafely(i,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}if(null!==r||null!==a){let e=null;e=null===r?a:null===a||F.comparePoints(r,a)<=0?r:a,this.queue.remove(t.rightSE),n.push(t.rightSE);const o=t.split(e);for(let e=0,t=o.length;e<t;e++)n.push(o[e])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=o)}else{if(o&&i){const e=o.getIntersection(i);if(null!==e){if(!o.isAnEndpoint(e)){const t=this._splitSafely(o,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}if(!i.isAnEndpoint(e)){const t=this._splitSafely(i,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}}this.tree.remove(t)}return n}_splitSafely(e,t){this.tree.remove(e);const n=e.rightSE;this.queue.remove(n);const r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.add(e),r}}const X="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Z="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const K=new class{run(e,t,n){K.type=e,m.reset();const r=[new W(t,!0)];for(let e=0,t=n.length;e<t;e++)r.push(new W(n[e],!1));if(K.numMultiPolys=r.length,"difference"===K.type){const e=r[0];let t=1;for(;t<r.length;)null!==f(r[t].bbox,e.bbox)?t++:r.splice(t,1)}if("intersection"===K.type)for(let e=0,t=r.length;e<t;e++){const t=r[e];for(let n=e+1,o=r.length;n<o;n++)if(null===f(t.bbox,r[n].bbox))return[]}const o=new s(F.compare);for(let e=0,t=r.length;e<t;e++){const t=r[e].getSweepEvents();for(let e=0,n=t.length;e<n;e++)if(o.insert(t[e]),o.size>X)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const i=new Y(o);let a=o.size,l=o.pop();for(;l;){const e=l.key;if(o.size===a){const t=e.segment;throw new Error(`Unable to pop() ${e.isLeft?"left":"right"} SweepEvent [${e.point.x}, ${e.point.y}] from segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] from queue.`)}if(o.size>X)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(i.segments.length>Z)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const t=i.process(e);for(let e=0,n=t.length;e<n;e++){const n=t[e];void 0===n.consumedBy&&o.insert(n)}a=o.size,l=o.pop()}m.reset();const c=H.factory(i.segments);return new q(c).getGeom()}};return{union:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K.run("difference",e,n)}}}()},49399:function(e){e.exports=function(){"use strict";function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,c=Math.log(s),u=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-l*u/s+p)),Math.min(i,Math.floor(r+(s-l)*u/s+p)),a)}var f=n[r],d=o,h=i;for(t(n,o,r),a(n[i],f)>0&&t(n,o,i);d<h;){for(t(n,d,h),d++,h--;a(n[d],f)<0;)d++;for(;a(n[h],f)>0;)h--}0===a(n[o],f)?t(n,o,h):t(n,++h,i),h<=r&&(o=h+1),r<=h&&(i=h-1)}}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,o,i,a){e(t,r,o||0,i||t.length-1,a||n)}}()},72519:(e,t,n)=>{"use strict";e.exports=o,e.exports.default=o;var r=n(49399);function o(e,t){if(!(this instanceof o))return new o(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=t;a<n;a++)i=e.children[a],l(o,e.leaf?r(i):i);return o}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,n,o,i){for(var a,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=o||(a=t+Math.ceil((n-t)/o/2)*o,r(e,a,t,n,i),s.push(t,a,a,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!h(e,t))return n;for(var o,i,a,s,l=[];t;){for(o=0,i=t.children.length;o<i;o++)a=t.children[o],h(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!h(e,t))return!1;for(var r,o,i,a,s=[];t;){for(r=0,o=t.children.length;r<o;r++)if(i=t.children[r],h(e,a=t.leaf?n(i):i)){if(t.leaf||d(e,a))return!0;s.push(i)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this;for(var n,r,o,a,s=this.data,l=this.toBBox(e),c=[],u=[];s||c.length;){if(s||(s=c.pop(),r=c[c.length-1],n=u.pop(),a=!0),s.leaf&&-1!==(o=i(e,s.children,t)))return s.children.splice(o,1),c.push(s),this._condense(c),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(c.push(s),u.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var o,i=n-t+1,s=this._maxEntries;if(i<=s)return a(o=y(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),(o=y([])).leaf=!1,o.height=r;var l,c,u,p,f=Math.ceil(i/s),d=f*Math.ceil(Math.sqrt(s));for(g(e,t,n,d,this.compareMinX),l=t;l<=n;l+=d)for(g(e,l,u=Math.min(l+d-1,n),f,this.compareMinY),c=l;c<=u;c+=f)p=Math.min(c+f-1,u),o.children.push(this._build(e,c,p,r-1));return a(o,this.toBBox),o},_chooseSubtree:function(e,t,n,r){for(var o,i,a,s,l,c,u,f,d,h;r.push(t),!t.leaf&&r.length-1!==n;){for(u=f=1/0,o=0,i=t.children.length;o<i;o++)l=p(a=t.children[o]),d=e,h=a,(c=(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l)<f?(f=c,u=l<u?l:u,s=a):c===f&&l<u&&(u=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,o=n?e:r(e),i=[],a=this._chooseSubtree(o,this.data,t,i);for(a.children.push(e),l(a,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),s=y(n.children.splice(i,n.children.length-i));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,o,i,a,l,c,u,f,d,h,y,g,m,v;for(c=u=1/0,r=t;r<=n-t;r++)d=o=s(e,0,r,this.toBBox),h=i=s(e,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(d.minX,h.minX),g=Math.max(d.minY,h.minY),m=Math.min(d.maxX,h.maxX),v=Math.min(d.maxY,h.maxY),a=Math.max(0,m-y)*Math.max(0,v-g),l=p(o)+p(i),a<c?(c=a,f=r,u=l<u?l:u):a===c&&l<u&&(u=l,f=r);return f},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:c,o=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var o,i,a=this.toBBox,c=s(e,0,t,a),u=s(e,n-t,n,a),p=f(c)+f(u);for(o=t;o<n-t;o++)i=e.children[o],l(c,e.leaf?a(i):i),p+=f(c);for(o=n-t-1;o>=t;o--)i=e.children[o],l(u,e.leaf?a(i):i),p+=f(u);return p},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},77675:(e,t,n)=>{"use strict";var r=n(43206),o=n(69675),i=Object;e.exports=r((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},71589:(e,t,n)=>{"use strict";var r=n(38452),o=n(10487),i=n(77675),a=n(15330),s=n(43984),l=o(a());r(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},15330:(e,t,n)=>{"use strict";var r=n(77675),o=n(38452).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},43984:(e,t,n)=>{"use strict";var r=n(38452).supportsDescriptors,o=n(15330),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(c),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},53467:function(e,t){!function(e){"use strict";const t=134217729;function n(e,t,n,r,o){let i,a,s,l,c=t[0],u=r[0],p=0,f=0;u>c==u>-c?(i=c,c=t[++p]):(i=u,u=r[++f]);let d=0;if(p<e&&f<n)for(u>c==u>-c?(s=i-((a=c+i)-c),c=t[++p]):(s=i-((a=u+i)-u),u=r[++f]),i=a,0!==s&&(o[d++]=s);p<e&&f<n;)u>c==u>-c?(s=i-((a=i+c)-(l=a-i))+(c-l),c=t[++p]):(s=i-((a=i+u)-(l=a-i))+(u-l),u=r[++f]),i=a,0!==s&&(o[d++]=s);for(;p<e;)s=i-((a=i+c)-(l=a-i))+(c-l),c=t[++p],i=a,0!==s&&(o[d++]=s);for(;f<n;)s=i-((a=i+u)-(l=a-i))+(u-l),u=r[++f],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function r(e){return new Float64Array(e)}const o=r(4),i=r(8),a=r(12),s=r(16),l=r(4);e.orient2d=function(e,r,c,u,p,f){const d=(r-f)*(c-p),h=(e-p)*(u-f),y=d-h;if(0===d||0===h||d>0!=h>0)return y;const g=Math.abs(d+h);return Math.abs(y)>=33306690738754716e-32*g?y:-function(e,r,c,u,p,f,d){let h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A;const I=e-p,z=c-p,D=r-f,N=u-f;v=(j=(w=I-(_=(b=t*I)-(b-I)))*(C=N-(P=(b=t*N)-(b-N)))-((E=I*N)-_*P-w*P-_*C))-(O=j-(M=(w=D-(_=(b=t*D)-(b-D)))*(C=z-(P=(b=t*z)-(b-z)))-((T=D*z)-_*P-w*P-_*C))),o[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),o[1]=S-(O+v)+(v-T),v=(A=x+O)-x,o[2]=x-(A-v)+(O-v),o[3]=A;let R=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,o),k=22204460492503146e-32*d;if(R>=k||-R>=k)return R;if(h=e-(I+(v=e-I))+(v-p),g=c-(z+(v=c-z))+(v-p),y=r-(D+(v=r-D))+(v-f),m=u-(N+(v=u-N))+(v-f),0===h&&0===y&&0===g&&0===m)return R;if(k=11093356479670487e-47*d+33306690738754706e-32*Math.abs(R),(R+=I*m+N*h-(D*g+z*y))>=k||-R>=k)return R;v=(j=(w=h-(_=(b=t*h)-(b-h)))*(C=N-(P=(b=t*N)-(b-N)))-((E=h*N)-_*P-w*P-_*C))-(O=j-(M=(w=y-(_=(b=t*y)-(b-y)))*(C=z-(P=(b=t*z)-(b-z)))-((T=y*z)-_*P-w*P-_*C))),l[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),l[1]=S-(O+v)+(v-T),v=(A=x+O)-x,l[2]=x-(A-v)+(O-v),l[3]=A;const L=n(4,o,4,l,i);v=(j=(w=I-(_=(b=t*I)-(b-I)))*(C=m-(P=(b=t*m)-(b-m)))-((E=I*m)-_*P-w*P-_*C))-(O=j-(M=(w=D-(_=(b=t*D)-(b-D)))*(C=g-(P=(b=t*g)-(b-g)))-((T=D*g)-_*P-w*P-_*C))),l[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),l[1]=S-(O+v)+(v-T),v=(A=x+O)-x,l[2]=x-(A-v)+(O-v),l[3]=A;const F=n(L,i,4,l,a);v=(j=(w=h-(_=(b=t*h)-(b-h)))*(C=m-(P=(b=t*m)-(b-m)))-((E=h*m)-_*P-w*P-_*C))-(O=j-(M=(w=y-(_=(b=t*y)-(b-y)))*(C=g-(P=(b=t*g)-(b-g)))-((T=y*g)-_*P-w*P-_*C))),l[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),l[1]=S-(O+v)+(v-T),v=(A=x+O)-x,l[2]=x-(A-v)+(O-v),l[3]=A;const B=n(F,a,4,l,s);return s[B-1]}(e,r,c,u,p,f,g)},e.orient2dfast=function(e,t,n,r,o,i){return(t-i)*(n-o)-(e-o)*(r-i)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},96897:(e,t,n)=>{"use strict";var r=n(70453),o=n(30041),i=n(30592)(),a=n(75795),s=n(69675),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},43206:(e,t,n)=>{"use strict";var r=n(30041),o=n(30592)(),i=n(74462).functionsHaveConfigurableNames(),a=n(69675);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?r(e,"name",t,!0,!0):r(e,"name",t)),e}},96766:e=>{"use strict";e.exports={eudist:function(e,t,n){for(var r=e.length,o=0,i=0;i<r;i++){var a=(e[i]||0)-(t[i]||0);o+=a*a}return n?Math.sqrt(o):o},mandist:function(e,t,n){for(var r=e.length,o=0,i=0;i<r;i++)o+=Math.abs((e[i]||0)-(t[i]||0));return n?Math.sqrt(o):o},dist:function(e,t,n){var r=Math.abs(e-t);return n?r:r*r}}},5810:(e,t,n)=>{"use strict";var r=n(96766),o=r.eudist,i=r.dist;e.exports={kmrand:function(e,t){for(var n={},r=[],o=t<<2,i=e.length,a=e[0].length>0;r.length<t&&o-- >0;){var s=e[Math.floor(Math.random()*i)],l=a?s.join("_"):""+s;n[l]||(n[l]=!0,r.push(s))}if(r.length<t)throw new Error("Error initializating clusters");return r},kmpp:function(e,t){var n=e[0].length?o:i,r=[],a=e.length,s=e[0].length>0,l=e[Math.floor(Math.random()*a)];for(s&&l.join("_"),r.push(l);r.length<t;){for(var c=[],u=r.length,p=0,f=[],d=0;d<a;d++){for(var h=1/0,y=0;y<u;y++){var g=n(e[d],r[y]);g<=h&&(h=g)}c[d]=h}for(var m=0;m<a;m++)p+=c[m];for(var v=0;v<a;v++)f[v]={i:v,v:e[v],pr:c[v]/p,cs:0};f.sort((function(e,t){return e.pr-t.pr})),f[0].cs=f[0].pr;for(var b=1;b<a;b++)f[b].cs=f[b-1].cs+f[b].pr;for(var _=Math.random(),w=0;w<a-1&&f[w++].cs<_;);r.push(f[w-1].v)}return r}}},61756:(e,t,n)=>{"use strict";var r=n(96766),o=n(5810),i=r.eudist,a=(r.mandist,r.dist,o.kmrand),s=o.kmpp;function l(e,t,n){n=n||[];for(var r=0;r<e;r++)n[r]=t;return n}e.exports=function(e,t,n,r){var o=[],c=[],u=[],p=[],f=!1,d=r||1e4,h=e.length,y=e[0].length,g=y>0,m=[];if(n)o="kmrand"==n?a(e,t):"kmpp"==n?s(e,t):n;else for(var v={};o.length<t;){var b=Math.floor(Math.random()*h);v[b]||(v[b]=!0,o.push(e[b]))}do{l(t,0,m);for(var _=0;_<h;_++){for(var w=1/0,P=0,C=0;C<t;C++)(p=g?i(e[_],o[C]):Math.abs(e[_]-o[C]))<=w&&(w=p,P=C);u[_]=P,m[P]++}for(var O=[],x=(c=[],0);x<t;x++)O[x]=g?l(y,0,O[x]):0,c[x]=o[x];if(g){for(var S=0;S<t;S++)o[S]=[];for(var E=0;E<h;E++)for(var j=O[u[E]],T=e[E],M=0;M<y;M++)j[M]+=T[M];f=!0;for(var A=0;A<t;A++){for(var I=o[A],z=O[A],D=c[A],N=m[A],R=0;R<y;R++)I[R]=z[R]/N||0;if(f)for(var k=0;k<y;k++)if(D[k]!=I[k]){f=!1;break}}}else{for(var L=0;L<h;L++)O[u[L]]+=e[L];for(var F=0;F<t;F++)o[F]=O[F]/m[F]||0;f=!0;for(var B=0;B<t;B++)if(c[B]!=o[B]){f=!1;break}}f=f||--d<=0}while(!f);return{it:1e4-d,k:t,idxs:u,centroids:o}}},44262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(e=[],t=o){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(n(r,i)>=0)break;t[e]=i,e=o}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,o=t[e];for(;e<r;){let r=1+(e<<1),i=t[r];const a=r+1;if(a<this.length&&n(t[a],i)<0&&(r=a,i=t[a]),n(i,o)>=0)break;t[e]=i,e=r}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}},85681:(e,t,n)=>{"use strict";function r(e){return e}function o(e){if(null==e)return r;var t,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,r){r||(t=n=0);var l=2,c=e.length,u=new Array(c);for(u[0]=(t+=e[0])*o+a,u[1]=(n+=e[1])*i+s;l<c;)u[l]=e[l],++l;return u}}function i(e){var t,n=o(e.transform),r=1/0,i=r,a=-r,s=-r;function l(e){(e=n(e))[0]<r&&(r=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}function c(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(c);break;case"Point":l(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(l)}}for(t in e.arcs.forEach((function(e){for(var t,o=-1,l=e.length;++o<l;)(t=n(e[o],o))[0]<r&&(r=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])})),e.objects)c(e.objects[t]);return[r,i,a,s]}function a(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return s(e,t)}))}:s(e,t)}function s(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=l(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function l(e,t){var n=o(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var o=r[e<0?~e:e],i=0,a=o.length;i<a;++i)t.push(n(o[i],i));e<0&&function(e,t){for(var n,r=e.length,o=r-t;o<--r;)n=e[o],e[o++]=e[r],e[r]=n}(t,a)}function a(e){return n(e)}function s(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(l)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=s(t.arcs);break;case"MultiLineString":n=t.arcs.map(s);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(t)}function c(e,t){var n={},r={},o={},i=[],a=-1;function s(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(e){n[e<0?~e:e]=1})),i.push(o)}}return t.forEach((function(n,r){var o,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=n,t[r]=o)})),t.forEach((function(t){var n,i,a=function(t){var n,r=e.arcs[t<0?~t:t],o=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,o]:[o,n]}(t),s=a[0],l=a[1];if(n=o[s])if(delete o[n.end],n.push(t),n.end=l,i=r[l]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=o[c.end=i.end]=c}else r[n.start]=o[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(t),n.start=s,i=o[s]){delete o[i.end];var u=i===n?n:i.concat(n);r[u.start=i.start]=o[u.end=n.end]=u}else r[n.start]=o[n.end]=n;else r[(n=[t]).start=s]=o[n.end=l]=n})),s(o,r),s(r,o),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i}function u(e){return l(e,p.apply(this,arguments))}function p(e,t,n){var r,o,i;if(arguments.length>1)r=function(e,t,n){var r,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(l)}(t.arcs)}}(t),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}(0,t,n);else for(o=0,r=new Array(i=e.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:c(e,r)}}function f(e){return l(e,d.apply(this,arguments))}function d(e,t){var n={},r=[],o=[];function i(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),r.push(e)}function a(t){return function(e){for(var t,n=-1,r=e.length,o=e[r-1],i=0;++n<r;)t=o,o=e[n],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}(l(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":i(t.arcs);break;case"MultiPolygon":t.arcs.forEach(i)}})),r.forEach((function(e){if(!e._){var t=[],r=[e];for(e._=1,o.push(t);e=r.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),r.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&o.push(e)}))}))})),(r=(o=c(e,o)).length)>1)for(var i,s,l=1,u=a(o[0]);l<r;++l)(i=a(o[l]))>u&&(s=o[0],o[0]=o[l],o[l]=s,u=i);return o})).filter((function(e){return e.length>0}))}}function h(e,t){for(var n=0,r=e.length;n<r;){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}function y(e){var t={},n=e.map((function(){return[]}));function r(e,n){e.forEach((function(e){e<0&&(e=~e);var r=t[e];r?r.push(n):t[e]=[n]}))}function o(e,t){e.forEach((function(e){r(e,t)}))}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach((function(e){o(e,t)}))}};for(var a in e.forEach((function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,n)})):t.type in i&&i[t.type](t.arcs,n)})),t)for(var s=t[a],l=s.length,c=0;c<l;++c)for(var u=c+1;u<l;++u){var p,f=s[c],d=s[u];(p=n[f])[a=h(p,d)]!==d&&p.splice(a,0,d),(p=n[d])[a=h(p,f)]!==f&&p.splice(a,0,f)}return n}function g(e){if(null==e)return r;var t,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,r){r||(t=n=0);var l=2,c=e.length,u=new Array(c),p=Math.round((e[0]-a)/o),f=Math.round((e[1]-s)/i);for(u[0]=p-t,t=p,u[1]=f-n,n=f;l<c;)u[l]=e[l],++l;return u}}function m(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)l=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be ≥2");var n,r=(l=e.bbox||i(e))[0],o=l[1],a=l[2],s=l[3];t={scale:[a-r?(a-r)/(n-1):1,s-o?(s-o)/(n-1):1],translate:[r,o]}}var l,c,u=g(t),p=e.objects,f={};function d(e){return u(e)}function h(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(h)};break;case"Point":t={type:"Point",coordinates:d(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(d)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(c in p)f[c]=h(p[c]);return{type:"Topology",bbox:l,transform:t,objects:f,arcs:e.arcs.map((function(e){var t,n=0,r=1,o=e.length,i=new Array(o);for(i[0]=u(e[0],0);++n<o;)((t=u(e[n],n))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}))}}n.r(t),n.d(t,{bbox:()=>i,feature:()=>a,merge:()=>f,mergeArcs:()=>d,mesh:()=>u,meshArcs:()=>p,neighbors:()=>y,quantize:()=>m,transform:()=>o,untransform:()=>g})},16888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{topology:()=>h});var r=Object.prototype.hasOwnProperty;function o(e,t,n,r,o,i){3===arguments.length&&(r=i=Array,o=null);for(var a=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new i(e),l=e-1,c=0;c<e;++c)a[c]=o;return{set:function(r,i){for(var c=t(r)&l,u=a[c],p=0;u!=o;){if(n(u,r))return s[c]=i;if(++p>=e)throw new Error("full hashmap");u=a[c=c+1&l]}return a[c]=r,s[c]=i,i},maybeSet:function(r,i){for(var c=t(r)&l,u=a[c],p=0;u!=o;){if(n(u,r))return s[c];if(++p>=e)throw new Error("full hashmap");u=a[c=c+1&l]}return a[c]=r,s[c]=i,i},get:function(r,i){for(var c=t(r)&l,u=a[c],p=0;u!=o;){if(n(u,r))return s[c];if(++p>=e)break;u=a[c=c+1&l]}return i},keys:function(){for(var e=[],t=0,n=a.length;t<n;++t){var r=a[t];r!=o&&e.push(r)}return e}}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}var a=new ArrayBuffer(16),s=new Float64Array(a),l=new Uint32Array(a);function c(e){s[0]=e[0],s[1]=e[1];var t=l[0]^l[1];return 2147483647&(t<<5^t>>7^l[2]^l[3])}function u(e,t,n){for(var r,o=t+(n---t>>1);t<o;++t,--n)r=e[t],e[t]=e[n],e[n]=r}function p(e){var t={type:"GeometryCollection",geometries:e.features.map(f)};return null!=e.bbox&&(t.bbox=e.bbox),t}function f(e){var t,n=d(e.geometry);for(t in null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),e.properties){n.properties=e.properties;break}return n}function d(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(d)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function h(e,t){var n=function(e){var t=1/0,n=1/0,o=-1/0,i=-1/0;function a(e){null!=e&&r.call(s,e.type)&&s[e.type](e)}var s={GeometryCollection:function(e){e.geometries.forEach(a)},Point:function(e){l(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(l)},LineString:function(e){c(e.arcs)},MultiLineString:function(e){e.arcs.forEach(c)},Polygon:function(e){e.arcs.forEach(c)},MultiPolygon:function(e){e.arcs.forEach(u)}};function l(e){var r=e[0],a=e[1];r<t&&(t=r),r>o&&(o=r),a<n&&(n=a),a>i&&(i=a)}function c(e){e.forEach(l)}function u(e){e.forEach(c)}for(var p in e)a(e[p]);return o>=t&&i>=n?[t,n,o,i]:void 0}(e=function(e){var t,n,r={};for(t in e)r[t]=null==(n=e[t])?{type:null}:("FeatureCollection"===n.type?p:"Feature"===n.type?f:d)(n);return r}(e)),a=t>0&&n&&function(e,t,n){var o=t[0],i=t[1],a=t[2],s=t[3],l=a-o?(n-1)/(a-o):1,c=s-i?(n-1)/(s-i):1;function u(e){return[Math.round((e[0]-o)*l),Math.round((e[1]-i)*c)]}function p(e,t){for(var n,r,a,s,u,p=-1,f=0,d=e.length,h=new Array(d);++p<d;)n=e[p],s=Math.round((n[0]-o)*l),u=Math.round((n[1]-i)*c),s===r&&u===a||(h[f++]=[r=s,a=u]);for(h.length=f;f<t;)f=h.push([h[0][0],h[0][1]]);return h}function f(e){return p(e,2)}function d(e){return p(e,4)}function h(e){return e.map(d)}function y(e){null!=e&&r.call(g,e.type)&&g[e.type](e)}var g={GeometryCollection:function(e){e.geometries.forEach(y)},Point:function(e){e.coordinates=u(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(u)},LineString:function(e){e.arcs=f(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(f)},Polygon:function(e){e.arcs=h(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(h)}};for(var m in e)y(e[m]);return{scale:[1/l,1/c],translate:[o,i]}}(e,n,t),s=function(e){var t,n,r,a,s=e.coordinates,l=e.lines,u=e.rings,p=l.length+u.length;for(delete e.lines,delete e.rings,r=0,a=l.length;r<a;++r)for(t=l[r];t=t.next;)++p;for(r=0,a=u.length;r<a;++r)for(n=u[r];n=n.next;)++p;var f=o(2*p*1.4,c,i),d=e.arcs=[];for(r=0,a=l.length;r<a;++r){t=l[r];do{h(t)}while(t=t.next)}for(r=0,a=u.length;r<a;++r)if((n=u[r]).next)do{h(n)}while(n=n.next);else y(n);function h(e){var t,n,r,o,i,a,l,c;if(r=f.get(t=s[e[0]]))for(l=0,c=r.length;l<c;++l)if(g(o=r[l],e))return e[0]=o[0],void(e[1]=o[1]);if(i=f.get(n=s[e[1]]))for(l=0,c=i.length;l<c;++l)if(m(a=i[l],e))return e[1]=a[0],void(e[0]=a[1]);r?r.push(e):f.set(t,[e]),i?i.push(e):f.set(n,[e]),d.push(e)}function y(e){var t,n,r,o,i;if(n=f.get(s[e[0]]))for(o=0,i=n.length;o<i;++o){if(v(r=n[o],e))return e[0]=r[0],void(e[1]=r[1]);if(b(r,e))return e[0]=r[1],void(e[1]=r[0])}if(n=f.get(t=s[e[0]+_(e)]))for(o=0,i=n.length;o<i;++o){if(v(r=n[o],e))return e[0]=r[0],void(e[1]=r[1]);if(b(r,e))return e[0]=r[1],void(e[1]=r[0])}n?n.push(e):f.set(t,[e]),d.push(e)}function g(e,t){var n=e[0],r=t[0],o=e[1];if(n-o!=r-t[1])return!1;for(;n<=o;++n,++r)if(!i(s[n],s[r]))return!1;return!0}function m(e,t){var n=e[0],r=t[0],o=e[1],a=t[1];if(n-o!=r-a)return!1;for(;n<=o;++n,--a)if(!i(s[n],s[a]))return!1;return!0}function v(e,t){var n=e[0],r=t[0],o=e[1]-n;if(o!==t[1]-r)return!1;for(var a=_(e),l=_(t),c=0;c<o;++c)if(!i(s[n+(c+a)%o],s[r+(c+l)%o]))return!1;return!0}function b(e,t){var n=e[0],r=t[0],o=e[1],a=t[1],l=o-n;if(l!==a-r)return!1;for(var c=_(e),u=l-_(t),p=0;p<l;++p)if(!i(s[n+(p+c)%l],s[a-(p+u)%l]))return!1;return!0}function _(e){for(var t=e[0],n=e[1],r=t,o=r,i=s[r];++r<n;){var a=s[r];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=r,i=a)}return o-t}return e}(function(e){var t,n,r,a,s,l,p,f=function(e){var t,n,r,a,s=e.coordinates,l=e.lines,u=e.rings,p=function(){for(var e=o(1.4*s.length,O,x,Int32Array,-1,Int32Array),t=new Int32Array(s.length),n=0,r=s.length;n<r;++n)t[n]=e.maybeSet(n,n);return t}(),f=new Int32Array(s.length),d=new Int32Array(s.length),h=new Int32Array(s.length),y=new Int8Array(s.length),g=0;for(t=0,n=s.length;t<n;++t)f[t]=d[t]=h[t]=-1;for(t=0,n=l.length;t<n;++t){var m=l[t],v=m[0],b=m[1];for(r=p[v],a=p[++v],++g,y[r]=1;++v<=b;)C(t,r,r=a,a=p[v]);++g,y[a]=1}for(t=0,n=s.length;t<n;++t)f[t]=-1;for(t=0,n=u.length;t<n;++t){var _=u[t],w=_[0]+1,P=_[1];for(C(t,p[P-1],r=p[w-1],a=p[w]);++w<=P;)C(t,r,r=a,a=p[w])}function C(e,t,n,r){if(f[n]!==e){f[n]=e;var o=d[n];if(o>=0){var i=h[n];o===t&&i===r||o===r&&i===t||(++g,y[n]=1)}else d[n]=t,h[n]=r}}function O(e){return c(s[e])}function x(e,t){return i(s[e],s[t])}f=d=h=null;var S,E=function(e,t,n,r,o){3===arguments.length&&(r=Array,o=null);for(var i=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,s=0;s<e;++s)i[s]=o;return{add:function(r){for(var s=t(r)&a,l=i[s],c=0;l!=o;){if(n(l,r))return!0;if(++c>=e)throw new Error("full hashset");l=i[s=s+1&a]}return i[s]=r,!0},has:function(r){for(var s=t(r)&a,l=i[s],c=0;l!=o;){if(n(l,r))return!0;if(++c>=e)break;l=i[s=s+1&a]}return!1},values:function(){for(var e=[],t=0,n=i.length;t<n;++t){var r=i[t];r!=o&&e.push(r)}return e}}}(1.4*g,c,i);for(t=0,n=s.length;t<n;++t)y[S=p[t]]&&E.add(s[S]);return E}(e),d=e.coordinates,h=e.lines,y=e.rings;for(n=0,r=h.length;n<r;++n)for(var g=h[n],m=g[0],v=g[1];++m<v;)f.has(d[m])&&(t={0:m,1:g[1]},g[1]=m,g=g.next=t);for(n=0,r=y.length;n<r;++n)for(var b=y[n],_=b[0],w=_,P=b[1],C=f.has(d[_]);++w<P;)f.has(d[w])&&(C?(t={0:w,1:b[1]},b[1]=w,b=b.next=t):(p=P-w,u(a=d,s=_,l=P),u(a,s,s+p),u(a,s+p,l),d[P]=d[_],C=!0,w=_));return e}(function(e){var t=-1,n=[],o=[],i=[];function a(e){e&&r.call(s,e.type)&&s[e.type](e)}var s={GeometryCollection:function(e){e.geometries.forEach(a)},LineString:function(e){e.arcs=l(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(l)},Polygon:function(e){e.arcs=e.arcs.map(c)},MultiPolygon:function(e){e.arcs=e.arcs.map(u)}};function l(e){for(var r=0,o=e.length;r<o;++r)i[++t]=e[r];var a={0:t-o+1,1:t};return n.push(a),a}function c(e){for(var n=0,r=e.length;n<r;++n)i[++t]=e[n];var a={0:t-r+1,1:t};return o.push(a),a}function u(e){return e.map(c)}for(var p in e)a(e[p]);return{type:"Topology",coordinates:i,lines:n,rings:o,objects:e}}(e))),l=s.coordinates,h=o(1.4*s.arcs.length,y,g);function m(e){e&&r.call(v,e.type)&&v[e.type](e)}e=s.objects,s.bbox=n,s.arcs=s.arcs.map((function(e,t){return h.set(e,t),l.slice(e[0],e[1]+1)})),delete s.coordinates,l=null;var v={GeometryCollection:function(e){e.geometries.forEach(m)},LineString:function(e){e.arcs=b(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(b)},Polygon:function(e){e.arcs=e.arcs.map(b)},MultiPolygon:function(e){e.arcs=e.arcs.map(_)}};function b(e){var t=[];do{var n=h.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function _(e){return e.map(b)}for(var w in e)m(e[w]);return a&&(s.transform=a,s.arcs=function(e){for(var t=-1,n=e.length;++t<n;){for(var r,o,i=e[t],a=0,s=1,l=i.length,c=i[0],u=c[0],p=c[1];++a<l;)r=(c=i[a])[0],o=c[1],r===u&&o===p||(i[s++]=[r-u,o-p],u=r,p=o);1===s&&(i[s++]=[0,0]),i.length=s}return e}(s.arcs)),s}function y(e){var t,n=e[0],r=e[1];return r<n&&(t=n,n=r,r=t),n+31*r}function g(e,t){var n,r=e[0],o=e[1],i=t[0],a=t[1];return o<r&&(n=r,r=o,o=n),a<i&&(n=i,i=a,a=n),r===i&&o===a}},50039:function(e,t){!function(e){"use strict";function t(){}function n(e){this.message=e||""}function r(e){this.message=e||""}function o(e){this.message=e||""}function i(){}function a(e){return null===e?De:e.color}function s(e){return null===e?null:e.parent}function l(e,t){null!==e&&(e.color=t)}function c(e){return null===e?null:e.left}function u(e){return null===e?null:e.right}function p(){this.root_=null,this.size_=0}function f(){}function d(){this.array_=[],arguments[0]instanceof _e&&this.addAll(arguments[0])}function h(){}function y(e){this.message=e||""}function g(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(null==this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var o=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(o=o<0?Math.max(n+arguments[2],0):Math.min(o,n);r<o;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var v=function(e){function t(t){e.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),b=function(){},_={MAX_VALUE:{configurable:!0}};b.isNaN=function(e){return Number.isNaN(e)},b.doubleToLongBits=function(e){return e},b.longBitsToDouble=function(e){return e},b.isInfinite=function(e){return!Number.isFinite(e)},_.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(b,_);var w=function(){},P=function(){},C=function(){},O=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},x={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};O.prototype.setOrdinate=function(e,t){switch(e){case O.X:this.x=t;break;case O.Y:this.y=t;break;case O.Z:this.z=t;break;default:throw new v("Invalid ordinate index: "+e)}},O.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!m.equalsWithTolerance(this.x,t.x,n)&&!!m.equalsWithTolerance(this.y,t.y,n)}},O.prototype.getOrdinate=function(e){switch(e){case O.X:return this.x;case O.Y:return this.y;case O.Z:return this.z}throw new v("Invalid ordinate index: "+e)},O.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||b.isNaN(this.z))&&b.isNaN(e.z)},O.prototype.equals=function(e){return e instanceof O&&this.equals2D(e)},O.prototype.equalInZ=function(e,t){return m.equalsWithTolerance(this.z,e.z,t)},O.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},O.prototype.clone=function(){},O.prototype.copy=function(){return new O(this)},O.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},O.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},O.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},O.prototype.hashCode=function(){var e=17;return 37*(e=37*e+O.hashCode(this.x))+O.hashCode(this.y)},O.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},O.prototype.interfaces_=function(){return[w,P,t]},O.prototype.getClass=function(){return O},O.hashCode=function(){if(1===arguments.length)return b.doubleToLongBits(arguments[0]),Math.trunc(0)},x.DimensionalComparator.get=function(){return S},x.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},x.NULL_ORDINATE.get=function(){return b.NaN},x.X.get=function(){return 0},x.Y.get=function(){return 1},x.Z.get=function(){return 2},Object.defineProperties(O,x);var S=function(e){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};S.prototype.compare=function(e,t){var n=e,r=t,o=S.compare(n.x,r.x);if(0!==o)return o;var i=S.compare(n.y,r.y);return 0!==i?i:this._dimensionsToTest<=2?0:S.compare(n.z,r.z)},S.prototype.interfaces_=function(){return[C]},S.prototype.getClass=function(){return S},S.compare=function(e,t){return e<t?-1:e>t?1:b.isNaN(e)?b.isNaN(t)?0:-1:b.isNaN(t)?1:0};var E=function(){};E.prototype.create=function(){},E.prototype.interfaces_=function(){return[]},E.prototype.getClass=function(){return E};var j=function(){},T={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};j.prototype.interfaces_=function(){return[]},j.prototype.getClass=function(){return j},j.toLocationSymbol=function(e){switch(e){case j.EXTERIOR:return"e";case j.BOUNDARY:return"b";case j.INTERIOR:return"i";case j.NONE:return"-"}throw new v("Unknown location value: "+e)},T.INTERIOR.get=function(){return 0},T.BOUNDARY.get=function(){return 1},T.EXTERIOR.get=function(){return 2},T.NONE.get=function(){return-1},Object.defineProperties(j,T);var M=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},A=function(){},I={LOG_10:{configurable:!0}};A.prototype.interfaces_=function(){return[]},A.prototype.getClass=function(){return A},A.log10=function(e){var t=Math.log(e);return b.isInfinite(t)||b.isNaN(t)?t:t/A.LOG_10},A.min=function(e,t,n,r){var o=e;return t<o&&(o=t),n<o&&(o=n),r<o&&(o=r),o},A.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1],i=arguments[2];return r<o?o:r>i?i:r}},A.wrap=function(e,t){return e<0?t- -e%t:e%t},A.max=function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var r=arguments[1],o=arguments[2],i=arguments[3],a=arguments[0];return r>a&&(a=r),o>a&&(a=o),i>a&&(a=i),a}},A.average=function(e,t){return(e+t)/2},I.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(A,I);var z=function(e){this.str=e};z.prototype.append=function(e){this.str+=e},z.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},z.prototype.toString=function(e){return this.str};var D=function(e){this.value=e};D.prototype.intValue=function(){return this.value},D.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},D.isNaN=function(e){return Number.isNaN(e)};var N=function(){};N.isWhitespace=function(e){return e<=32&&e>=0||127===e},N.toUpperCase=function(e){return e.toUpperCase()};var R=function e(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&e.call(this,e.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},k={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};R.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},R.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=R.magnitude(n._hi),o=R.TEN.pow(r);(n=n.divide(o)).gt(R.TEN)?(n=n.divide(R.TEN),r+=1):n.lt(R.ONE)&&(n=n.multiply(R.TEN),r-=1);for(var i=r+1,a=new z,s=R.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){e&&l===i&&a.append(".");var c=Math.trunc(n._hi);if(c<0)break;var u=!1,p=0;c>9?(u=!0,p="9"):p="0"+c,a.append(p),n=n.subtract(R.valueOf(c)).multiply(R.TEN),u&&n.selfAdd(R.TEN);var f=!0,d=R.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(f=!1),!f)break}return t[0]=r,a.toString()},R.prototype.sqr=function(){return this.multiply(this)},R.prototype.doubleValue=function(){return this._hi+this._lo},R.prototype.subtract=function(){if(arguments[0]instanceof R){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},R.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},R.prototype.isZero=function(){return 0===this._hi&&0===this._lo},R.prototype.selfSubtract=function(){if(arguments[0]instanceof R){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},R.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},R.prototype.min=function(e){return this.le(e)?this:e},R.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof R){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n,r,o,i,a=arguments[0],s=arguments[1],l=null,c=null,u=null,p=null;return o=this._hi/a,p=(l=(u=R.SPLIT*o)-(l=u-o))*(c=(p=R.SPLIT*a)-(c=p-a))-(i=o*a)+l*(r=a-c)+(n=o-l)*c+n*r,p=o+(u=(this._hi-i-p+this._lo-o*s)/a),this._hi=p,this._lo=o-p+u,this}},R.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},R.prototype.divide=function(){if(arguments[0]instanceof R){var e,t,n,r,o=arguments[0],i=null,a=null,s=null,l=null;return e=(n=this._hi/o._hi)-(i=(s=R.SPLIT*n)-(i=s-n)),l=i*(a=(l=R.SPLIT*o._hi)-(a=l-o._hi))-(r=n*o._hi)+i*(t=o._hi-a)+e*a+e*t,s=(this._hi-r-l+this._lo-n*o._lo)/o._hi,new R(l=n+s,n-l+s)}if("number"==typeof arguments[0]){var c=arguments[0];return b.isNaN(c)?R.createNaN():R.copy(this).selfDivide(c,0)}},R.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},R.prototype.pow=function(e){if(0===e)return R.valueOf(1);var t=new R(this),n=R.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},R.prototype.ceil=function(){if(this.isNaN())return R.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new R(e,t)},R.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},R.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},R.prototype.setValue=function(){if(arguments[0]instanceof R){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},R.prototype.max=function(e){return this.ge(e)?this:e},R.prototype.sqrt=function(){if(this.isZero())return R.valueOf(0);if(this.isNegative())return R.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=R.valueOf(t),r=this.subtract(n.sqr())._hi*(.5*e);return n.add(r)},R.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof R){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t,n,r,o,i,a=arguments[0],s=null;return s=(r=this._hi+a)-(o=r-this._hi),n=(i=(s=a-o+(this._hi-s))+this._lo)+(r-(t=r+i)),this._hi=t+n,this._lo=n+(t-this._hi),this}}else if(2===arguments.length){var l,c,u,p,f=arguments[0],d=arguments[1],h=null,y=null,g=null;u=this._hi+f,c=this._lo+d,y=u-(g=u-this._hi),h=c-(p=c-this._lo);var m=(l=u+(g=(y=f-g+(this._hi-y))+c))+(g=(h=d-p+(this._lo-h))+(g+(u-l))),v=g+(l-m);return this._hi=m,this._lo=v,this}},R.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof R){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n,r,o=arguments[0],i=arguments[1],a=null,s=null,l=null,c=null;a=(l=R.SPLIT*this._hi)-this._hi,c=R.SPLIT*o,a=l-a,n=this._hi-a,s=c-o;var u=(l=this._hi*o)+(c=a*(s=c-s)-l+a*(r=o-s)+n*s+n*r+(this._hi*i+this._lo*o)),p=c+(a=l-u);return this._hi=u,this._lo=p,this}},R.prototype.selfSqr=function(){return this.selfMultiply(this)},R.prototype.floor=function(){if(this.isNaN())return R.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new R(e,t)},R.prototype.negate=function(){return this.isNaN()?this:new R(-this._hi,-this._lo)},R.prototype.clone=function(){},R.prototype.multiply=function(){if(arguments[0]instanceof R){var e=arguments[0];return e.isNaN()?R.createNaN():R.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return b.isNaN(t)?R.createNaN():R.copy(this).selfMultiply(t,0)}},R.prototype.isNaN=function(){return b.isNaN(this._hi)},R.prototype.intValue=function(){return Math.trunc(this._hi)},R.prototype.toString=function(){var e=R.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},R.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(r<0)o="0."+R.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var i=r-n.length;o=n+R.stringOfChar("0",i)+".0"}return this.isNegative()?"-"+o:o},R.prototype.reciprocal=function(){var e,t,n,r,o=null,i=null,a=null,s=null;e=(n=1/this._hi)-(o=(a=R.SPLIT*n)-(o=a-n)),i=(s=R.SPLIT*this._hi)-this._hi;var l=n+(a=(1-(r=n*this._hi)-(s=o*(i=s-i)-r+o*(t=this._hi-i)+e*i+e*t)-n*this._lo)/this._hi);return new R(l,n-l+a)},R.prototype.toSciNotation=function(){if(this.isZero())return R.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=R.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var i=n.charAt(0)+"."+o;return this.isNegative()?"-"+i+r:i+r},R.prototype.abs=function(){return this.isNaN()?R.NaN:this.isNegative()?this.negate():new R(this)},R.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},R.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},R.prototype.add=function(){if(arguments[0]instanceof R){var e=arguments[0];return R.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return R.copy(this).selfAdd(t)}},R.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof R){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},R.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},R.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},R.prototype.trunc=function(){return this.isNaN()?R.NaN:this.isPositive()?this.floor():this.ceil()},R.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},R.prototype.interfaces_=function(){return[t,w,P]},R.prototype.getClass=function(){return R},R.sqr=function(e){return R.valueOf(e).selfMultiply(e)},R.valueOf=function(){return"string"==typeof arguments[0]?R.parse(arguments[0]):"number"==typeof arguments[0]?new R(arguments[0]):void 0},R.sqrt=function(e){return R.valueOf(e).sqrt()},R.parse=function(e){for(var t=0,n=e.length;N.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var o=e.charAt(t);"-"!==o&&"+"!==o||(t++,"-"===o&&(r=!0))}for(var i=new R,a=0,s=0,l=0;!(t>=n);){var c=e.charAt(t);if(t++,N.isDigit(c)){var u=c-"0";i.selfMultiply(R.TEN),i.selfAdd(u),a++}else{if("."!==c){if("e"===c||"E"===c){var p=e.substring(t);try{l=D.parseInt(p)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+p+" in string "+e):t}break}throw new Error("Unexpected character '"+c+"' at position "+t+" in string "+e)}s=a}}var f=i,d=a-s-l;if(0===d)f=i;else if(d>0){var h=R.TEN.pow(d);f=i.divide(h)}else if(d<0){var y=R.TEN.pow(-d);f=i.multiply(y)}return r?f.negate():f},R.createNaN=function(){return new R(b.NaN,b.NaN)},R.copy=function(e){return new R(e)},R.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},R.stringOfChar=function(e,t){for(var n=new z,r=0;r<t;r++)n.append(e);return n.toString()},k.PI.get=function(){return new R(3.141592653589793,12246467991473532e-32)},k.TWO_PI.get=function(){return new R(6.283185307179586,24492935982947064e-32)},k.PI_2.get=function(){return new R(1.5707963267948966,6123233995736766e-32)},k.E.get=function(){return new R(2.718281828459045,14456468917292502e-32)},k.NaN.get=function(){return new R(b.NaN,b.NaN)},k.EPS.get=function(){return 123259516440783e-46},k.SPLIT.get=function(){return 134217729},k.MAX_PRINT_DIGITS.get=function(){return 32},k.TEN.get=function(){return R.valueOf(10)},k.ONE.get=function(){return R.valueOf(1)},k.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},k.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(R,k);var L=function(){},F={DP_SAFE_EPSILON:{configurable:!0}};L.prototype.interfaces_=function(){return[]},L.prototype.getClass=function(){return L},L.orientationIndex=function(e,t,n){var r=L.orientationIndexFilter(e,t,n);if(r<=1)return r;var o=R.valueOf(t.x).selfAdd(-e.x),i=R.valueOf(t.y).selfAdd(-e.y),a=R.valueOf(n.x).selfAdd(-t.x),s=R.valueOf(n.y).selfAdd(-t.y);return o.selfMultiply(s).selfSubtract(i.selfMultiply(a)).signum()},L.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},L.intersection=function(e,t,n,r){var o=R.valueOf(r.y).selfSubtract(n.y).selfMultiply(R.valueOf(t.x).selfSubtract(e.x)),i=R.valueOf(r.x).selfSubtract(n.x).selfMultiply(R.valueOf(t.y).selfSubtract(e.y)),a=o.subtract(i),s=R.valueOf(r.x).selfSubtract(n.x).selfMultiply(R.valueOf(e.y).selfSubtract(n.y)),l=R.valueOf(r.y).selfSubtract(n.y).selfMultiply(R.valueOf(e.x).selfSubtract(n.x)),c=s.subtract(l).selfDivide(a).doubleValue(),u=R.valueOf(e.x).selfAdd(R.valueOf(t.x).selfSubtract(e.x).selfMultiply(c)).doubleValue(),p=R.valueOf(t.x).selfSubtract(e.x).selfMultiply(R.valueOf(e.y).selfSubtract(n.y)),f=R.valueOf(t.y).selfSubtract(e.y).selfMultiply(R.valueOf(e.x).selfSubtract(n.x)),d=p.subtract(f).selfDivide(a).doubleValue(),h=R.valueOf(n.y).selfAdd(R.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new O(u,h)},L.orientationIndexFilter=function(e,t,n){var r=null,o=(e.x-n.x)*(t.y-n.y),i=(e.y-n.y)*(t.x-n.x),a=o-i;if(o>0){if(i<=0)return L.signum(a);r=o+i}else{if(!(o<0))return L.signum(a);if(i>=0)return L.signum(a);r=-o-i}var s=L.DP_SAFE_EPSILON*r;return a>=s||-a>=s?L.signum(a):2},L.signum=function(e){return e>0?1:e<0?-1:0},F.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(L,F);var B=function(){},V={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};V.X.get=function(){return 0},V.Y.get=function(){return 1},V.Z.get=function(){return 2},V.M.get=function(){return 3},B.prototype.setOrdinate=function(e,t,n){},B.prototype.size=function(){},B.prototype.getOrdinate=function(e,t){},B.prototype.getCoordinate=function(){},B.prototype.getCoordinateCopy=function(e){},B.prototype.getDimension=function(){},B.prototype.getX=function(e){},B.prototype.clone=function(){},B.prototype.expandEnvelope=function(e){},B.prototype.copy=function(){},B.prototype.getY=function(e){},B.prototype.toCoordinateArray=function(){},B.prototype.interfaces_=function(){return[P]},B.prototype.getClass=function(){return B},Object.defineProperties(B,V);var G=function(){},U=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(G),W=function(){};W.arraycopy=function(e,t,n,r,o){for(var i=0,a=t;a<t+o;a++)n[r+i]=e[a],i++},W.getProperty=function(e){return{"line.separator":"\n"}[e]};var H=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var o=arguments[0],i=arguments[1];this.x=o.y*i.w-i.y*o.w,this.y=i.x*o.w-o.x*i.w,this.w=o.x*i.y-i.x*o.y}else if(arguments[0]instanceof O&&arguments[1]instanceof O){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var l=arguments[0],c=arguments[1],u=arguments[2];this.x=l,this.y=c,this.w=u}else if(4===arguments.length){var p=arguments[0],f=arguments[1],d=arguments[2],h=arguments[3],y=p.y-f.y,g=f.x-p.x,m=p.x*f.y-f.x*p.y,v=d.y-h.y,b=h.x-d.x,_=d.x*h.y-h.x*d.y;this.x=g*_-b*m,this.y=v*m-y*_,this.w=y*b-v*g}};H.prototype.getY=function(){var e=this.y/this.w;if(b.isNaN(e)||b.isInfinite(e))throw new U;return e},H.prototype.getX=function(){var e=this.x/this.w;if(b.isNaN(e)||b.isInfinite(e))throw new U;return e},H.prototype.getCoordinate=function(){var e=new O;return e.x=this.getX(),e.y=this.getY(),e},H.prototype.interfaces_=function(){return[]},H.prototype.getClass=function(){return H},H.intersection=function(e,t,n,r){var o=e.y-t.y,i=t.x-e.x,a=e.x*t.y-t.x*e.y,s=n.y-r.y,l=r.x-n.x,c=n.x*r.y-r.x*n.y,u=o*l-s*i,p=(i*c-l*a)/u,f=(s*a-o*c)/u;if(b.isNaN(p)||b.isInfinite(p)||b.isNaN(f)||b.isInfinite(f))throw new U;return new O(p,f)};var J=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof O){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r.x,o.x,r.y,o.y)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this.init(i,a,s,l)}},q={serialVersionUID:{configurable:!0}};J.prototype.getArea=function(){return this.getWidth()*this.getHeight()},J.prototype.equals=function(e){if(!(e instanceof J))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},J.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new J;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,o=this._maxy<e._maxy?this._maxy:e._maxy;return new J(t,r,n,o)},J.prototype.isNull=function(){return this._maxx<this._minx},J.prototype.getMaxX=function(){return this._maxx},J.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof O){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof J){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},J.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof J){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof O){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},J.prototype.getMinY=function(){return this._miny},J.prototype.getMinX=function(){return this._minx},J.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof O){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof J){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},J.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},J.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},J.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},J.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},J.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},J.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},J.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},J.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},J.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},J.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof J){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof O){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},J.prototype.centre=function(){return this.isNull()?null:new O((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},J.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof O){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof J){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];o<i?(this._minx=o,this._maxx=i):(this._minx=i,this._maxx=o),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},J.prototype.getMaxY=function(){return this._maxy},J.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},J.prototype.hashCode=function(){var e=17;return 37*(e=37*(e=37*(e=37*e+O.hashCode(this._minx))+O.hashCode(this._maxx))+O.hashCode(this._miny))+O.hashCode(this._maxy)},J.prototype.interfaces_=function(){return[w,t]},J.prototype.getClass=function(){return J},J.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=Math.min(i.x,a.x),l=Math.max(i.x,a.x),c=Math.min(r.x,o.x),u=Math.max(r.x,o.x);return!(c>l||u<s||(s=Math.min(i.y,a.y),l=Math.max(i.y,a.y),c=Math.min(r.y,o.y),u=Math.max(r.y,o.y),c>l||u<s))}},q.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(J,q);var Y={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},X=function(e){this.geometryFactory=e||new mt};X.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var o=Y.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((o=Y.emptyTypeStr.exec(e))[2]=void 0),o&&(n=o[1].toLowerCase(),r=o[2],K[n]&&(t=K[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},X.prototype.write=function(e){return this.extractGeometry(e)},X.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Z[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+Z[t].apply(this,[e])+")"};var Z={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Z.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Z.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Z.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Z.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Z.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+Z.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+Z.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Z.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},K={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(Y.spaces);return this.geometryFactory.createPoint(new O(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){if(void 0===e)return this.geometryFactory.createMultiPoint();for(var t,n=e.trim().split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(Y.trimParens,"$1"),r.push(K.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].trim().split(Y.spaces),r.push(new O(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].trim().split(Y.spaces),r.push(new O(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){if(void 0===e)return this.geometryFactory.createMultiLineString();for(var t,n=e.trim().split(Y.parenComma),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(Y.trimParens,"$1"),r.push(K.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){if(void 0===e)return this.geometryFactory.createPolygon();for(var t,n,r,o,i=e.trim().split(Y.parenComma),a=[],s=0,l=i.length;s<l;++s)t=i[s].replace(Y.trimParens,"$1"),n=K.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===s?o=r:a.push(r);return this.geometryFactory.createPolygon(o,a)},multipolygon:function(e){if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var t,n=e.trim().split(Y.doubleParenComma),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(Y.trimParens,"$1"),r.push(K.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,o=t.length;r<o;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},Q=function(e){this.parser=new X(e)};Q.prototype.write=function(e){return this.parser.write(e)},Q.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var $=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ee=function(e){function t(){if(e.call(this),0===arguments.length)e.call(this);else if(1===arguments.length){var t=arguments[0];e.call(this,t)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}($),te=function(){};te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te},te.shouldNeverReachHere=function(){if(0===arguments.length)te.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new ee("Should never reach here"+(null!==e?": "+e:""))}},te.isTrue=function(){var e;if(1===arguments.length)te.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new ee:new ee(e)},te.equals=function(){var e,t,n;if(2===arguments.length)te.equals(e=arguments[0],t=arguments[1],null);else if(3===arguments.length&&(e=arguments[0],n=arguments[2],!(t=arguments[1]).equals(e)))throw new ee("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var ne=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new O,this._intPt[1]=new O,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},re={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ne.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},ne.prototype.getTopologySummary=function(){var e=new z;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},ne.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},ne.prototype.getIntersectionNum=function(){return this._result},ne.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},ne.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ne.prototype.setPrecisionModel=function(e){this._precisionModel=e},ne.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}},ne.prototype.getIntersection=function(e){return this._intPt[e]},ne.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ne.prototype.hasIntersection=function(){return this._result!==ne.NO_INTERSECTION},ne.prototype.getEdgeDistance=function(e,t){return ne.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},ne.prototype.isCollinear=function(){return this._result===ne.COLLINEAR_INTERSECTION},ne.prototype.toString=function(){return Q.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Q.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ne.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},ne.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},ne.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne},ne.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y),i=-1;if(e.equals(t))i=0;else if(e.equals(n))i=r>o?r:o;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(i=r>o?a:s)||e.equals(t)||(i=Math.max(a,s))}return te.isTrue(!(0===i&&!e.equals(t)),"Bad distance calculation"),i},ne.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,i=Math.sqrt(r*r+o*o);return te.isTrue(!(0===i&&!e.equals(t)),"Invalid distance calculation"),i},re.DONT_INTERSECT.get=function(){return 0},re.DO_INTERSECT.get=function(){return 1},re.COLLINEAR.get=function(){return 2},re.NO_INTERSECTION.get=function(){return 0},re.POINT_INTERSECTION.get=function(){return 1},re.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ne,re);var oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new J(this._inputLines[0][0],this._inputLines[0][1]),n=new J(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,J.intersects(n,r,t)&&0===se.orientationIndex(n,r,t)&&0===se.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,o){o.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),o.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=o.x,e.y-=o.y,t.x-=o.x,t.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,o){var i=null;try{i=H.intersection(e,n,r,o)}catch(a){if(!(a instanceof U))throw a;i=t.nearestEndpoint(e,n,r,o)}return i},t.prototype.intersection=function(e,n,r,o){var i=this.intersectionWithNormalization(e,n,r,o);return this.isInSegmentEnvelopes(i)||(i=new O(t.nearestEndpoint(e,n,r,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i},t.prototype.smallestInAbsValue=function(e,t,n,r){var o=e,i=Math.abs(o);return Math.abs(t)<i&&(o=t,i=Math.abs(t)),Math.abs(n)<i&&(o=n,i=Math.abs(n)),Math.abs(r)<i&&(o=r),o},t.prototype.checkDD=function(e,t,n,r,o){var i=L.intersection(e,t,n,r),a=this.isInSegmentEnvelopes(i);W.out.println("DD in env = "+a+"  --------------------- "+i),o.distance(i)>1e-4&&W.out.println("Distance = "+o.distance(i))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var o=new O(e),i=new O(t),a=new O(n),s=new O(r),l=new O;this.normalizeToEnvCentre(o,i,a,s,l);var c=this.safeHCoordinateIntersection(o,i,a,s);return c.x+=l.x,c.y+=l.y,c},t.prototype.computeCollinearIntersection=function(t,n,r,o){var i=J.intersects(t,n,r),a=J.intersects(t,n,o),s=J.intersects(r,o,t),l=J.intersects(r,o,n);return i&&a?(this._intPt[0]=r,this._intPt[1]=o,e.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):i&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||a||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):i&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&s?(this._intPt[0]=o,this._intPt[1]=t,!o.equals(t)||i||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&l?(this._intPt[0]=o,this._intPt[1]=n,!o.equals(n)||i||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,o){var i=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,c=n.x<r.x?n.x:r.x,u=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,d=((i>c?i:c)+(s<p?s:p))/2,h=((a>u?a:u)+(l<f?l:f))/2;o.x=d,o.y=h,e.x-=o.x,e.y-=o.y,t.x-=o.x,t.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},t.prototype.computeIntersect=function(t,n,r,o){if(this._isProper=!1,!J.intersects(t,n,r,o))return e.NO_INTERSECTION;var i=se.orientationIndex(t,n,r),a=se.orientationIndex(t,n,o);if(i>0&&a>0||i<0&&a<0)return e.NO_INTERSECTION;var s=se.orientationIndex(r,o,t),l=se.orientationIndex(r,o,n);return s>0&&l>0||s<0&&l<0?e.NO_INTERSECTION:0===i&&0===a&&0===s&&0===l?this.computeCollinearIntersection(t,n,r,o):(0===i||0===a||0===s||0===l?(this._isProper=!1,t.equals2D(r)||t.equals2D(o)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(o)?this._intPt[0]=n:0===i?this._intPt[0]=new O(r):0===a?this._intPt[0]=new O(o):0===s?this._intPt[0]=new O(t):0===l&&(this._intPt[0]=new O(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,o)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var o=e,i=se.distancePointLine(e,n,r),a=se.distancePointLine(t,n,r);return a<i&&(i=a,o=t),(a=se.distancePointLine(n,e,t))<i&&(i=a,o=n),(a=se.distancePointLine(r,e,t))<i&&(i=a,o=r),o},t}(ne),ie=function(){};ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.orientationIndex=function(e,t,n){var r=t.x-e.x,o=t.y-e.y,i=n.x-t.x,a=n.y-t.y;return ie.signOfDet2x2(r,o,i,a)},ie.signOfDet2x2=function(e,t,n,r){var o=null,i=null,a=null;if(o=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-o:o:n>0?o:-o;if(0===t||0===n)return r>0?e>0?o:-o:e>0?-o:o;if(t>0?r>0?t<=r||(o=-o,i=e,e=n,n=i,i=t,t=r,r=i):t<=-r?(o=-o,n=-n,r=-r):(i=e,e=-n,n=i,i=t,t=-r,r=i):r>0?-t<=r?(o=-o,e=-e,t=-t):(i=-e,e=n,n=i,i=-t,t=r,r=i):t>=r?(e=-e,t=-t,n=-n,r=-r):(o=-o,i=-e,e=-n,n=i,i=-t,t=-r,r=i),e>0){if(!(n>0))return o;if(!(e<=n))return o}else{if(n>0)return-o;if(!(e>=n))return-o;o=-o,e=-e,n=-n}for(;;){if((r-=(a=Math.floor(n/e))*t)<0)return-o;if(r>t)return o;if(e>(n-=a*e)+n){if(t<r+r)return o}else{if(t>r+r)return-o;n=e-n,r=t-r,o=-o}if(0===r)return 0===n?0:-o;if(0===n)return o;if((t-=(a=Math.floor(e/n))*r)<0)return o;if(t>r)return-o;if(n>(e-=a*n)+e){if(r<t+t)return-o}else{if(r>t+t)return o;e=n-e,t=r-t,o=-o}if(0===t)return 0===e?0:o;if(0===e)return-o}};var ae=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};ae.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var o=e.x-this._p.x,i=e.y-this._p.y,a=t.x-this._p.x,s=t.y-this._p.y,l=ie.signOfDet2x2(o,i,a,s);if(0===l)return this._isPointOnSegment=!0,null;s<i&&(l=-l),l>0&&this._crossingCount++}},ae.prototype.isPointInPolygon=function(){return this.getLocation()!==j.EXTERIOR},ae.prototype.getLocation=function(){return this._isPointOnSegment?j.BOUNDARY:this._crossingCount%2==1?j.INTERIOR:j.EXTERIOR},ae.prototype.isOnSegment=function(){return this._isPointOnSegment},ae.prototype.interfaces_=function(){return[]},ae.prototype.getClass=function(){return ae},ae.locatePointInRing=function(){if(arguments[0]instanceof O&&M(arguments[1],B)){for(var e=arguments[1],t=new ae(arguments[0]),n=new O,r=new O,o=1;o<e.size();o++)if(e.getCoordinate(o,n),e.getCoordinate(o-1,r),t.countSegment(n,r),t.isOnSegment())return t.getLocation();return t.getLocation()}if(arguments[0]instanceof O&&arguments[1]instanceof Array){for(var i=arguments[1],a=new ae(arguments[0]),s=1;s<i.length;s++){var l=i[s],c=i[s-1];if(a.countSegment(l,c),a.isOnSegment())return a.getLocation()}return a.getLocation()}};var se=function(){},le={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.orientationIndex=function(e,t,n){return L.orientationIndex(e,t,n)},se.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var o=e[r].x-n,i=e[r+1].y;t+=o*(e[r-1].y-i)}return t/2}if(M(arguments[0],B)){var a=arguments[0],s=a.size();if(s<3)return 0;var l=new O,c=new O,u=new O;a.getCoordinate(0,c),a.getCoordinate(1,u);var p=c.x;u.x-=p;for(var f=0,d=1;d<s-1;d++)l.y=c.y,c.x=u.x,c.y=u.y,a.getCoordinate(d+1,u),u.x-=p,f+=c.x*(l.y-u.y);return f/2}},se.distanceLineLine=function(e,t,n,r){if(e.equals(t))return se.distancePointLine(e,n,r);if(n.equals(r))return se.distancePointLine(r,e,t);var o=!1;if(J.intersects(e,t,n,r)){var i=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===i)o=!0;else{var a=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),s=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/i,l=a/i;(l<0||l>1||s<0||s>1)&&(o=!0)}}else o=!0;return o?A.min(se.distancePointLine(e,n,r),se.distancePointLine(t,n,r),se.distancePointLine(n,e,t),se.distancePointLine(r,e,t)):0},se.isPointInRing=function(e,t){return se.locatePointInRing(e,t)!==j.EXTERIOR},se.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new O;e.getCoordinate(0,r);for(var o=r.x,i=r.y,a=1;a<t;a++){e.getCoordinate(a,r);var s=r.x,l=r.y,c=s-o,u=l-i;n+=Math.sqrt(c*c+u*u),o=s,i=l}return n},se.isCCW=function(e){var t=e.length-1;if(t<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,o=1;o<=t;o++){var i=e[o];i.y>n.y&&(n=i,r=o)}var a=r;do{(a-=1)<0&&(a=t)}while(e[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%t}while(e[s].equals2D(n)&&s!==r);var l=e[a],c=e[s];if(l.equals2D(n)||c.equals2D(n)||l.equals2D(c))return!1;var u=se.computeOrientation(l,n,c);return 0===u?l.x>c.x:u>0},se.locatePointInRing=function(e,t){return ae.locatePointInRing(e,t)},se.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),o=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(o)*Math.sqrt(r)},se.computeOrientation=function(e,t,n){return se.orientationIndex(e,t,n)},se.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new v("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var o=se.distancePointLine(e,t[r],t[r+1]);o<n&&(n=o)}return n}if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return i.distance(a);var l=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),c=((i.x-a.x)*(s.x-a.x)+(i.y-a.y)*(s.y-a.y))/l;if(c<=0)return i.distance(a);if(c>=1)return i.distance(s);var u=((a.y-i.y)*(s.x-a.x)-(a.x-i.x)*(s.y-a.y))/l;return Math.abs(u)*Math.sqrt(l)}},se.isOnLine=function(e,t){for(var n=new oe,r=1;r<t.length;r++){var o=t[r-1],i=t[r];if(n.computeIntersection(e,o,i),n.hasIntersection())return!0}return!1},le.CLOCKWISE.get=function(){return-1},le.RIGHT.get=function(){return se.CLOCKWISE},le.COUNTERCLOCKWISE.get=function(){return 1},le.LEFT.get=function(){return se.COUNTERCLOCKWISE},le.COLLINEAR.get=function(){return 0},le.STRAIGHT.get=function(){return se.COLLINEAR},Object.defineProperties(se,le);var ce=function(){};ce.prototype.filter=function(e){},ce.prototype.interfaces_=function(){return[]},ce.prototype.getClass=function(){return ce};var ue=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},pe={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ue.prototype.isGeometryCollection=function(){return this.getSortIndex()===ue.SORTINDEX_GEOMETRYCOLLECTION},ue.prototype.getFactory=function(){return this._factory},ue.prototype.getGeometryN=function(e){return this},ue.prototype.getArea=function(){return 0},ue.prototype.isRectangle=function(){return!1},ue.prototype.equals=function(){if(arguments[0]instanceof ue){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof ue))return!1;var n=t;return this.equalsExact(n)}},ue.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},ue.prototype.geometryChanged=function(){this.apply(ue.geometryChangedFilter)},ue.prototype.geometryChangedAction=function(){this._envelope=null},ue.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},ue.prototype.getLength=function(){return 0},ue.prototype.getNumGeometries=function(){return 1},ue.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ue.prototype.getUserData=function(){return this._userData},ue.prototype.getSRID=function(){return this._SRID},ue.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ue.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===ue.SORTINDEX_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")},ue.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},ue.prototype.norm=function(){var e=this.copy();return e.normalize(),e},ue.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ue.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new J(this._envelope)},ue.prototype.setSRID=function(e){this._SRID=e},ue.prototype.setUserData=function(e){this._userData=e},ue.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var o=n.next(),i=r.next(),a=o.compareTo(i);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},ue.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ue.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ue.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ue.SORTINDEX_MULTIPOINT||this.getSortIndex()===ue.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ue.SORTINDEX_MULTIPOLYGON},ue.prototype.interfaces_=function(){return[P,w,t]},ue.prototype.getClass=function(){return ue},ue.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},ue.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},pe.serialVersionUID.get=function(){return 0x799ea46522854c00},pe.SORTINDEX_POINT.get=function(){return 0},pe.SORTINDEX_MULTIPOINT.get=function(){return 1},pe.SORTINDEX_LINESTRING.get=function(){return 2},pe.SORTINDEX_LINEARRING.get=function(){return 3},pe.SORTINDEX_MULTILINESTRING.get=function(){return 4},pe.SORTINDEX_POLYGON.get=function(){return 5},pe.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pe.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pe.geometryChangedFilter.get=function(){return fe},Object.defineProperties(ue,pe);var fe=function(){};fe.interfaces_=function(){return[ce]},fe.filter=function(e){e.geometryChangedAction()};var de=function(){};de.prototype.filter=function(e){},de.prototype.interfaces_=function(){return[]},de.prototype.getClass=function(){return de};var he=function(){},ye={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};he.prototype.isInBoundary=function(e){},he.prototype.interfaces_=function(){return[]},he.prototype.getClass=function(){return he},ye.Mod2BoundaryNodeRule.get=function(){return ge},ye.EndPointBoundaryNodeRule.get=function(){return me},ye.MultiValentEndPointBoundaryNodeRule.get=function(){return ve},ye.MonoValentEndPointBoundaryNodeRule.get=function(){return be},ye.MOD2_BOUNDARY_RULE.get=function(){return new ge},ye.ENDPOINT_BOUNDARY_RULE.get=function(){return new me},ye.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ve},ye.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new be},ye.OGC_SFS_BOUNDARY_RULE.get=function(){return he.MOD2_BOUNDARY_RULE},Object.defineProperties(he,ye);var ge=function(){};ge.prototype.isInBoundary=function(e){return e%2==1},ge.prototype.interfaces_=function(){return[he]},ge.prototype.getClass=function(){return ge};var me=function(){};me.prototype.isInBoundary=function(e){return e>0},me.prototype.interfaces_=function(){return[he]},me.prototype.getClass=function(){return me};var ve=function(){};ve.prototype.isInBoundary=function(e){return e>1},ve.prototype.interfaces_=function(){return[he]},ve.prototype.getClass=function(){return ve};var be=function(){};be.prototype.isInBoundary=function(e){return 1===e},be.prototype.interfaces_=function(){return[he]},be.prototype.getClass=function(){return be};var _e=function(){};_e.prototype.add=function(){},_e.prototype.addAll=function(){},_e.prototype.isEmpty=function(){},_e.prototype.iterator=function(){},_e.prototype.size=function(){},_e.prototype.toArray=function(){},_e.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var we=function(){};we.prototype.hasNext=function(){},we.prototype.next=function(){},we.prototype.remove=function(){};var Pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(_e);(r.prototype=new Error).name="NoSuchElementException";var Ce=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof _e&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,_e]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new Oe(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new n;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(Pe),Oe=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(we),xe=function(e){function t(){if(e.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){if(2===arguments.length){for(var t=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),t),n=!0;return n}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){if(1===arguments.length){var t=arguments[0];e.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof O&&"boolean"==typeof arguments[1]){var o=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(o))return null;e.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var i=arguments[0],a=arguments[1];return this.add(i,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],l=arguments[1];if(arguments[2])for(var c=0;c<s.length;c++)this.add(s[c],l);else for(var u=s.length-1;u>=0;u--)this.add(s[u],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof O){var p=arguments[0],f=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(p>0&&this.get(p-1).equals2D(f))return null;if(p<d&&this.get(p).equals2D(f))return null}}e.prototype.add.call(this,p,f)}}else if(4===arguments.length){var h=arguments[0],y=arguments[1],g=arguments[2],m=arguments[3],v=1;g>m&&(v=-1);for(var b=g;b!==m;b+=v)this.add(h[b],y);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new O(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(Ce),Se=function(){},Ee={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ee.ForwardComparator.get=function(){return je},Ee.BidirectionalComparator.get=function(){return Te},Ee.coordArrayType.get=function(){return new Array(0).fill(null)},Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))},Se.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(Se.indexOf(r,t)<0)return r}return null},Se.scroll=function(e,t){var n=Se.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);W.arraycopy(e,n,r,0,e.length-n),W.arraycopy(e,0,r,e.length-n,n),W.arraycopy(r,0,e,0,e.length)},Se.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];if(r===o)return!0;if(null===r||null===o)return!1;if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(0!==i.compare(r[a],o[a]))return!1;return!0}},Se.intersection=function(e,t){for(var n=new xe,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},Se.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},Se.removeRepeatedPoints=function(e){return Se.hasRepeatedPoints(e)?new xe(e,!1).toCoordinateArray():e},Se.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var o=e[r];e[r]=e[t-r],e[t-r]=o}},Se.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var o=0,i=0;i<e.length;i++)null!==e[i]&&(r[o++]=e[i]);return r},Se.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new O(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)i[a+l]=new O(r[o+l])},Se.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t[e.length-n-1];if(0!==r.compareTo(o))return!1}return!0},Se.envelope=function(e){for(var t=new J,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},Se.toCoordinateArray=function(e){return e.toArray(Se.coordArrayType)},Se.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},Se.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},Se.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},Se.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},Se.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},Se.extract=function(e,t,n){t=A.clamp(t,0,e.length);var r=(n=A.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var o=new Array(r).fill(null);if(0===r)return o;for(var i=0,a=t;a<=n;a++)o[i++]=e[a];return o},Object.defineProperties(Se,Ee);var je=function(){};je.prototype.compare=function(e,t){return Se.compare(e,t)},je.prototype.interfaces_=function(){return[C]},je.prototype.getClass=function(){return je};var Te=function(){};Te.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var o=Se.compare(n,r);return Se.isEqualReversed(n,r)?0:o},Te.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var o=Se.increasingDirection(n),i=Se.increasingDirection(r),a=o>0?0:n.length-1,s=i>0?0:n.length-1,l=0;l<n.length;l++){var c=n[a].compareTo(r[s]);if(0!==c)return c;a+=o,s+=i}return 0},Te.prototype.interfaces_=function(){return[C]},Te.prototype.getClass=function(){return Te};var Me=function(){};Me.prototype.get=function(){},Me.prototype.put=function(){},Me.prototype.size=function(){},Me.prototype.values=function(){},Me.prototype.entrySet=function(){};var Ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Me);(o.prototype=new Error).name="OperationNotSupported",(i.prototype=new _e).contains=function(){};var Ie=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof _e&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new ze(this)},t}(i),ze=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new o},t}(we),De=0;(p.prototype=new Ae).get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},p.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:De,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,o=this.root_;do{if(n=o,(r=e.compareTo(o.key))<0)o=o.left;else{if(!(r>0)){var i=o.value;return o.value=t,i}o=o.right}}while(null!==o);var a={key:e,left:null,right:null,value:t,parent:n,color:De,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},p.prototype.fixAfterInsertion=function(e){for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(s(e)===c(s(s(e)))){var t=u(s(s(e)));1===a(t)?(l(s(e),De),l(t,De),l(s(s(e)),1),e=s(s(e))):(e===u(s(e))&&(e=s(e),this.rotateLeft(e)),l(s(e),De),l(s(s(e)),1),this.rotateRight(s(s(e))))}else{var n=c(s(s(e)));1===a(n)?(l(s(e),De),l(n,De),l(s(s(e)),1),e=s(s(e))):(e===c(s(e))&&(e=s(e),this.rotateRight(e)),l(s(e),De),l(s(s(e)),1),this.rotateLeft(s(s(e))))}this.root_.color=De},p.prototype.values=function(){var e=new Ce,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=p.successor(t));)e.add(t.value);return e},p.prototype.entrySet=function(){var e=new Ie,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=p.successor(t));)e.add(t);return e},p.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},p.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},p.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},p.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},p.prototype.size=function(){return this.size_};var Ne=function(){};Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne},f.prototype=new i,(d.prototype=new f).contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},d.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},d.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},d.prototype.remove=function(e){throw new o},d.prototype.size=function(){return this.array_.length},d.prototype.isEmpty=function(){return 0===this.array_.length},d.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},d.prototype.iterator=function(){return new Re(this)};var Re=function(e){this.treeSet_=e,this.position_=0};Re.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},Re.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Re.prototype.remove=function(){throw new o};var ke=function(){};ke.sort=function(){var e,t,n,r,o=arguments[0];if(1===arguments.length)r=function(e,t){return e.compareTo(t)},o.sort(r);else if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},o.sort(r);else if(3===arguments.length){(t=o.slice(arguments[1],arguments[2])).sort();var i=o.slice(0,arguments[1]).concat(t,o.slice(arguments[2],o.length));for(o.splice(0,o.length),e=0;e<i.length;e++)o.push(i[e])}else if(4===arguments.length)for(t=o.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),i=o.slice(0,arguments[1]).concat(t,o.slice(arguments[2],o.length)),o.splice(0,o.length),e=0;e<i.length;e++)o.push(i[e])},ke.asList=function(e){for(var t=new Ce,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var Le=function(){},Fe={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Fe.P.get=function(){return 0},Fe.L.get=function(){return 1},Fe.A.get=function(){return 2},Fe.FALSE.get=function(){return-1},Fe.TRUE.get=function(){return-2},Fe.DONTCARE.get=function(){return-3},Fe.SYM_FALSE.get=function(){return"F"},Fe.SYM_TRUE.get=function(){return"T"},Fe.SYM_DONTCARE.get=function(){return"*"},Fe.SYM_P.get=function(){return"0"},Fe.SYM_L.get=function(){return"1"},Fe.SYM_A.get=function(){return"2"},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le},Le.toDimensionSymbol=function(e){switch(e){case Le.FALSE:return Le.SYM_FALSE;case Le.TRUE:return Le.SYM_TRUE;case Le.DONTCARE:return Le.SYM_DONTCARE;case Le.P:return Le.SYM_P;case Le.L:return Le.SYM_L;case Le.A:return Le.SYM_A}throw new v("Unknown dimension value: "+e)},Le.toDimensionValue=function(e){switch(N.toUpperCase(e)){case Le.SYM_FALSE:return Le.FALSE;case Le.SYM_TRUE:return Le.TRUE;case Le.SYM_DONTCARE:return Le.DONTCARE;case Le.SYM_P:return Le.P;case Le.SYM_L:return Le.L;case Le.SYM_A:return Le.A}throw new v("Unknown dimension symbol: "+e)},Object.defineProperties(Le,Fe);var Be=function(){};Be.prototype.filter=function(e){},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be};var Ve=function(){};Ve.prototype.filter=function(e,t){},Ve.prototype.isDone=function(){},Ve.prototype.isGeometryChanged=function(){},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var Ge=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new v("geometries must not contain null elements")}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new J,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),o=0;o<r.length;o++)e[++t]=r[o];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._geometries.length!==r._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].equalsExact(r._geometries[o],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();ke.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=Le.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=Le.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=new d(ke.asList(this._geometries)),n=new d(ke.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[1],o=arguments[0],i=this.getNumGeometries(),a=o.getNumGeometries(),s=0;s<i&&s<a;){var l=this.getGeometryN(s),c=o.getGeometryN(s),u=l.compareToSameClass(c,r);if(0!==u)return u;s++}return s<i?1:s<a?-1:0}},t.prototype.apply=function(){if(M(arguments[0],de))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(M(arguments[0],Ve)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(M(arguments[0],Be)){var o=arguments[0];o.filter(this);for(var i=0;i<this._geometries.length;i++)this._geometries[i].apply(o)}else if(M(arguments[0],ce)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),te.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(ue),Ue=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ue.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Le.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new We(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ne]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(Ge),We=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=he.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};We.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},We.prototype.getBoundary=function(){return this._geom instanceof Xe?this.boundaryLineString(this._geom):this._geom instanceof Ue?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},We.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},We.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},We.prototype.computeBoundaryCoordinates=function(e){var t=new Ce;this._endpointMap=new p;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var i=o.next(),a=i.getValue().count;this._bnRule.isInBoundary(a)&&t.add(i.getKey())}return Se.toCoordinateArray(t)},We.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new He,this._endpointMap.put(e,t)),t.count++},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We},We.getBoundary=function(){return 1===arguments.length?new We(arguments[0]).getBoundary():2===arguments.length?new We(arguments[0],arguments[1]).getBoundary():void 0};var He=function(){this.count=null};He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var Je=function(){},qe={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je},Je.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},Je.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new function(){},n=new function(){}(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[1],o="",i=new function(){}(new function(){}(Je.getStackTrace(arguments[0]))),a=0;a<r;a++)try{o+=i.readLine()+Je.NEWLINE}catch(e){if(!(e instanceof h))throw e;te.shouldNeverReachHere()}return o}},Je.split=function(e,t){for(var n=t.length,r=new Ce,o=""+e,i=o.indexOf(t);i>=0;){var a=o.substring(0,i);r.add(a),i=(o=o.substring(i+n)).indexOf(t)}o.length>0&&r.add(o);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},Je.toString=function(){if(1===arguments.length){var e=arguments[0];return Je.SIMPLE_ORDINATE_FORMAT.format(e)}},Je.spaces=function(e){return Je.chars(" ",e)},qe.NEWLINE.get=function(){return W.getProperty("line.separator")},qe.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Je,qe);var Ye=function(){};Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye},Ye.copyCoord=function(e,t,n,r){for(var o=Math.min(e.getDimension(),n.getDimension()),i=0;i<o;i++)n.setOrdinate(r,i,e.getOrdinate(t,i))},Ye.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,B.X)===e.getOrdinate(t-1,B.X)&&e.getOrdinate(0,B.Y)===e.getOrdinate(t-1,B.Y)},Ye.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),o=0;o<n;o++)for(var i=0;i<r;i++){var a=e.getOrdinate(o,i),s=t.getOrdinate(o,i);if(!(e.getOrdinate(o,i)===t.getOrdinate(o,i)||b.isNaN(a)&&b.isNaN(s)))return!1}return!0},Ye.extend=function(e,t,n){var r=e.create(n,t.getDimension()),o=t.size();if(Ye.copy(t,0,r,0,o),o>0)for(var i=o;i<n;i++)Ye.copy(t,o-1,r,i,1);return r},Ye.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Ye.swap(e,r,t-r)},Ye.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var o=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,o)}},Ye.copy=function(e,t,n,r,o){for(var i=0;i<o;i++)Ye.copyCoord(e,t+i,n,r+i)},Ye.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new z;r.append("(");for(var o=0;o<t;o++){o>0&&r.append(" ");for(var i=0;i<n;i++)i>0&&r.append(","),r.append(Je.toString(e.getOrdinate(o,i)))}return r.append(")"),r.toString()}},Ye.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?Ye.createClosedRing(e,t,4):t.getOrdinate(0,B.X)===t.getOrdinate(n-1,B.X)&&t.getOrdinate(0,B.Y)===t.getOrdinate(n-1,B.Y)?t:Ye.createClosedRing(e,t,n+1)},Ye.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),o=t.size();Ye.copy(t,0,r,0,o);for(var i=o;i<n;i++)Ye.copy(t,0,r,i,1);return r};var Xe=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new J:this._points.expandEnvelope(new J)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._points.size()!==r._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!this.equal(this._points.getCoordinate(o),r._points.getCoordinate(o),n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t)))return this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0&&Ye.reverse(this._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Le.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return se.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return Ye.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var r=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==r)return r;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var o=arguments[0];return arguments[1].compare(this._points,o._points)}},t.prototype.apply=function(){if(M(arguments[0],de))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(M(arguments[0],Ve)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(M(arguments[0],Be)||M(arguments[0],ce))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return new We(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new v("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[Ne]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(ue),Ze=function(){};Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Ke=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new J;var e=new J;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Le.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},t.prototype.apply=function(){if(M(arguments[0],de)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(M(arguments[0],Ve)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(M(arguments[0],Be)||M(arguments[0],ce))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),te.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Ze]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(ue),Qe=function(){};Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe};var $e=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new v("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new v("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var o=0;o<this._holes.length;o++)for(var i=this._holes[o].getCoordinates(),a=0;a<i.length;a++)e[++t]=i[a];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(se.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(se.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var o=e.getY(n);if(o!==t.getMinY()&&o!==t.getMaxY())return!1}for(var i=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var l=e.getX(s),c=e.getY(s);if(l!==i==(c!==a))return!1;i=l,a=c}return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t,o=this._shell,i=r._shell;if(!o.equalsExact(i,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);ke.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=new Array(t.getCoordinates().length-1).fill(null);W.arraycopy(t.getCoordinates(),0,r,0,r.length);var o=Se.minCoordinate(t.getCoordinates());Se.scroll(r,o),W.arraycopy(r,0,t.getCoordinates(),0,r.length),t.getCoordinates()[r.length]=r[0],se.isCCW(t.getCoordinates())===n&&Se.reverse(t.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],o=arguments[0],i=this._shell,a=o._shell,s=i.compareToSameClass(a,r);if(0!==s)return s;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),u=0;u<l&&u<c;){var p=this.getInteriorRingN(u),f=o.getInteriorRingN(u),d=p.compareToSameClass(f,r);if(0!==d)return d;u++}return u<l?1:u<c?-1:0}},t.prototype.apply=function(e){if(M(e,de)){this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(M(e,Ve)){if(this._shell.apply(e),!e.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(e),!e.isDone());n++);e.isGeometryChanged()&&this.geometryChanged()}else if(M(e,Be))e.filter(this);else if(M(e,ce)){e.filter(this),this._shell.apply(e);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[Qe]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(ue),et=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ue.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Le.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ze]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(Ge),tt=function(e){function t(t,n){t instanceof O&&n instanceof mt&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ue.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Le.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Ye.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Xe),nt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ue.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new Ce,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var o=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(o))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Qe]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(Ge),rt=function(e){this._factory=e||null,this._isUserDataCopied=!1},ot={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rt.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},rt.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},rt.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof Ge?this.editGeometryCollection(e,t):e instanceof $e?this.editPolygon(e,t):e instanceof Ke||e instanceof Xe?t.edit(e,this._factory):(te.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},rt.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new Ce,o=0;o<n.getNumGeometries();o++){var i=this.edit(n.getGeometryN(o),t);null===i||i.isEmpty()||r.add(i)}return n.getClass()===et?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Ue?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nt?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rt.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var o=new Ce,i=0;i<n.getNumInteriorRing();i++){var a=this.edit(n.getInteriorRingN(i),t);null===a||a.isEmpty()||o.add(a)}return this._factory.createPolygon(r,o.toArray([]))},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.GeometryEditorOperation=function(){},ot.NoOpGeometryOperation.get=function(){return it},ot.CoordinateOperation.get=function(){return at},ot.CoordinateSequenceOperation.get=function(){return st},Object.defineProperties(rt,ot);var it=function(){};it.prototype.edit=function(e,t){return e},it.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},it.prototype.getClass=function(){return it};var at=function(){};at.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof tt?t.createLinearRing(n):e instanceof Xe?t.createLineString(n):e instanceof Ke?n.length>0?t.createPoint(n[0]):t.createPoint():e},at.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},at.prototype.getClass=function(){return at};var st=function(){};st.prototype.edit=function(e,t){return e instanceof tt?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Xe?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof Ke?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},st.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},st.prototype.getClass=function(){return st};var lt=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var t=0;t<e;t++)this._coordinates[t]=new O}else if(M(arguments[0],B)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],i=arguments[1];this._coordinates=o,this._dimension=i,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var l=0;l<a;l++)this._coordinates[l]=new O}},ct={serialVersionUID:{configurable:!0}};lt.prototype.setOrdinate=function(e,t,n){switch(t){case B.X:this._coordinates[e].x=n;break;case B.Y:this._coordinates[e].y=n;break;case B.Z:this._coordinates[e].z=n;break;default:throw new v("invalid ordinateIndex")}},lt.prototype.size=function(){return this._coordinates.length},lt.prototype.getOrdinate=function(e,t){switch(t){case B.X:return this._coordinates[e].x;case B.Y:return this._coordinates[e].y;case B.Z:return this._coordinates[e].z}return b.NaN},lt.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}},lt.prototype.getCoordinateCopy=function(e){return new O(this._coordinates[e])},lt.prototype.getDimension=function(){return this._dimension},lt.prototype.getX=function(e){return this._coordinates[e].x},lt.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new lt(e,this._dimension)},lt.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},lt.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new lt(e,this._dimension)},lt.prototype.toString=function(){if(this._coordinates.length>0){var e=new z(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},lt.prototype.getY=function(e){return this._coordinates[e].y},lt.prototype.toCoordinateArray=function(){return this._coordinates},lt.prototype.interfaces_=function(){return[B,t]},lt.prototype.getClass=function(){return lt},ct.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(lt,ct);var ut=function(){},pt={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ut.prototype.readResolve=function(){return ut.instance()},ut.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new lt(arguments[0]);if(M(arguments[0],B))return new lt(arguments[0])}else if(2===arguments.length){var e=arguments[0],t=arguments[1];return t>3&&(t=3),t<2?new lt(e):new lt(e,t)}},ut.prototype.interfaces_=function(){return[E,t]},ut.prototype.getClass=function(){return ut},ut.instance=function(){return ut.instanceObject},pt.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pt.instanceObject.get=function(){return new ut},Object.defineProperties(ut,pt);var ft=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new Ce,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new Ie;return this.map_.entries().forEach((function(t){return e.add(t)})),e},t.prototype.size=function(){return this.map_.size()},t}(Me),dt=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof yt){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},ht={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};dt.prototype.equals=function(e){if(!(e instanceof dt))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale},dt.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new D(n).compareTo(new D(r))},dt.prototype.getScale=function(){return this._scale},dt.prototype.isFloating=function(){return this._modelType===dt.FLOATING||this._modelType===dt.FLOATING_SINGLE},dt.prototype.getType=function(){return this._modelType},dt.prototype.toString=function(){var e="UNKNOWN";return this._modelType===dt.FLOATING?e="Floating":this._modelType===dt.FLOATING_SINGLE?e="Floating-Single":this._modelType===dt.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},dt.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return b.isNaN(e)||this._modelType===dt.FLOATING_SINGLE?e:this._modelType===dt.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof O){var t=arguments[0];if(this._modelType===dt.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},dt.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===dt.FLOATING?e=16:this._modelType===dt.FLOATING_SINGLE?e=6:this._modelType===dt.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},dt.prototype.setScale=function(e){this._scale=Math.abs(e)},dt.prototype.interfaces_=function(){return[t,w]},dt.prototype.getClass=function(){return dt},dt.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},ht.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ht.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(dt,ht);var yt=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},gt={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yt.prototype.readResolve=function(){return yt.nameToTypeMap.get(this._name)},yt.prototype.toString=function(){return this._name},yt.prototype.interfaces_=function(){return[t]},yt.prototype.getClass=function(){return yt},gt.serialVersionUID.get=function(){return-552860263173159e4},gt.nameToTypeMap.get=function(){return new ft},Object.defineProperties(yt,gt),dt.Type=yt,dt.FIXED=new yt("FIXED"),dt.FLOATING=new yt("FLOATING"),dt.FLOATING_SINGLE=new yt("FLOATING SINGLE");var mt=function e(){this._precisionModel=new dt,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?M(arguments[0],E)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof dt&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},vt={serialVersionUID:{configurable:!0}};mt.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new O(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new O(e.getMinX(),e.getMinY()),new O(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new O(e.getMinX(),e.getMinY()),new O(e.getMinX(),e.getMaxY()),new O(e.getMaxX(),e.getMaxY()),new O(e.getMaxX(),e.getMinY()),new O(e.getMinX(),e.getMinY())]),null)},mt.prototype.createLineString=function(e){return e?e instanceof Array?new Xe(this.getCoordinateSequenceFactory().create(e),this):M(e,B)?new Xe(e,this):void 0:new Xe(this.getCoordinateSequenceFactory().create([]),this)},mt.prototype.createMultiLineString=function(){return 0===arguments.length?new Ue(null,this):1===arguments.length?new Ue(arguments[0],this):void 0},mt.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,o=e.iterator();o.hasNext();){var i=o.next(),a=i.getClass();null===t&&(t=a),a!==t&&(n=!0),i.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(mt.toGeometryArray(e));var s=e.iterator().next();if(e.size()>1){if(s instanceof $e)return this.createMultiPolygon(mt.toPolygonArray(e));if(s instanceof Xe)return this.createMultiLineString(mt.toLineStringArray(e));if(s instanceof Ke)return this.createMultiPoint(mt.toPointArray(e));te.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},mt.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},mt.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof O){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(M(arguments[0],B))return new Ke(arguments[0],this)}},mt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},mt.prototype.createPolygon=function(){if(0===arguments.length)return new $e(null,null,this);if(1===arguments.length){if(M(arguments[0],B)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof tt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new $e(arguments[0],arguments[1],this)},mt.prototype.getSRID=function(){return this._SRID},mt.prototype.createGeometryCollection=function(){return 0===arguments.length?new Ge(null,this):1===arguments.length?new Ge(arguments[0],this):void 0},mt.prototype.createGeometry=function(e){return new rt(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},mt.prototype.getPrecisionModel=function(){return this._precisionModel},mt.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(M(arguments[0],B))return new tt(arguments[0],this)}},mt.prototype.createMultiPolygon=function(){return 0===arguments.length?new nt(null,this):1===arguments.length?new nt(arguments[0],this):void 0},mt.prototype.createMultiPoint=function(){if(0===arguments.length)return new et(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new et(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(M(arguments[0],B)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(t.size()).fill(null),r=0;r<t.size();r++){var o=this.getCoordinateSequenceFactory().create(1,t.getDimension());Ye.copy(t,r,o,0,1),n[r]=this.createPoint(o)}return this.createMultiPoint(n)}}},mt.prototype.interfaces_=function(){return[t]},mt.prototype.getClass=function(){return mt},mt.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.getDefaultCoordinateSequenceFactory=function(){return ut.instance()},mt.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},mt.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},vt.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(mt,vt);var bt=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_t=function(e){this.geometryFactory=e||new mt};_t.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!wt[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==bt.indexOf(n)?wt[n].apply(this,[t.coordinates]):"GeometryCollection"===n?wt[n].apply(this,[t.geometries]):wt[n].apply(this,[t])},_t.prototype.write=function(e){var t=e.getGeometryType();if(!Pt[t])throw new Error("Geometry is not supported");return Pt[t].apply(this,[e])};var wt={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!wt[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=wt.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new O(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new O(e[0],e[1]),new O(e[2],e[1]),new O(e[2],e[3]),new O(e[0],e[3]),new O(e[0],e[1])])},Point:function(e){var t=new O(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(wt.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=wt.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(wt.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=wt.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],o=1;o<e.length;++o){var i=e[o],a=wt.coordinates.apply(this,[i]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(wt.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},Pt={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Pt.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=Pt.Point.apply(this,[r]);t.push(o.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var o=n[r];t.push(Pt.coordinate.apply(this,[o]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=Pt.LineString.apply(this,[r]);t.push(o.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=Pt.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var o=e._holes[r],i=Pt.LineString.apply(this,[o]);t.push(i.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=Pt.Polygon.apply(this,[r]);t.push(o.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=r.getGeometryType();t.push(Pt[o].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},Ct=function(e){this.geometryFactory=e||new mt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _t(this.geometryFactory)};Ct.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===dt.FIXED&&this.reducePrecision(t),t},Ct.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var Ot=function(){this.parser=new _t(this.geometryFactory)};Ot.prototype.write=function(e){return this.parser.write(e)};var xt=function(){},St={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};xt.prototype.interfaces_=function(){return[]},xt.prototype.getClass=function(){return xt},xt.opposite=function(e){return e===xt.LEFT?xt.RIGHT:e===xt.RIGHT?xt.LEFT:e},St.ON.get=function(){return 0},St.LEFT.get=function(){return 1},St.RIGHT.get=function(){return 2},Object.defineProperties(xt,St),(y.prototype=new Error).name="EmptyStackException",(g.prototype=new Pe).add=function(e){return this.array_.push(e),!0},g.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},g.prototype.push=function(e){return this.array_.push(e),e},g.prototype.pop=function(e){if(0===this.array_.length)throw new y;return this.array_.pop()},g.prototype.peek=function(){if(0===this.array_.length)throw new y;return this.array_[this.array_.length-1]},g.prototype.empty=function(){return 0===this.array_.length},g.prototype.isEmpty=function(){return this.empty()},g.prototype.search=function(e){return this.array_.indexOf(e)},g.prototype.size=function(){return this.array_.length},g.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var Et=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Et.prototype.getCoordinate=function(){return this._minCoord},Et.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},Et.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();te.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=se.computeOrientation(this._minCoord,n,t),o=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===se.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===se.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)},Et.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=xt.LEFT;return n[t].y<n[t+1].y&&(r=xt.RIGHT),r},Et.prototype.getEdge=function(){return this._orientedDe},Et.prototype.checkForRightmostCoordinate=function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])},Et.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Et.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}te.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===xt.LEFT&&(this._orientedDe=this._minDe.getSym())},Et.prototype.interfaces_=function(){return[]},Et.prototype.getClass=function(){return Et};var jt=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new O(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}($),Tt=function(){this.array_=[]};Tt.prototype.addLast=function(e){this.array_.push(e)},Tt.prototype.removeFirst=function(){return this.array_.shift()},Tt.prototype.isEmpty=function(){return 0===this.array_.length};var Mt=function(){this._finder=null,this._dirEdgeList=new Ce,this._nodes=new Ce,this._rightMostCoord=null,this._env=null,this._finder=new Et};Mt.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Mt.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Mt.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new jt("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var o=e.getEdges().iterator();o.hasNext();){var i=o.next();i.setVisited(!0),this.copySymDepths(i)}},Mt.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(xt.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},Mt.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Mt.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(xt.RIGHT)>=1&&t.getDepth(xt.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},Mt.prototype.computeDepths=function(e){var t=new Ie,n=new Tt,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var o=n.removeFirst();t.add(o),this.computeNodeDepth(o);for(var i=o.getEdges().iterator();i.hasNext();){var a=i.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}},Mt.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Mt.prototype.getEnvelope=function(){if(null===this._env){for(var e=new J,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},Mt.prototype.addReachable=function(e){var t=new g;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},Mt.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(xt.LEFT,e.getDepth(xt.RIGHT)),t.setDepth(xt.RIGHT,e.getDepth(xt.LEFT))},Mt.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var o=r.getSym().getNode();o.isVisited()||t.push(o)}},Mt.prototype.getNodes=function(){return this._nodes},Mt.prototype.getDirectedEdges=function(){return this._dirEdgeList},Mt.prototype.interfaces_=function(){return[w]},Mt.prototype.getClass=function(){return Mt};var At=function e(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[xt.ON]=n}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var o=0;o<this.location.length;o++)this.location[o]=r.location[o]}}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[xt.ON]=i,this.location[xt.LEFT]=a,this.location[xt.RIGHT]=s}};At.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},At.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==j.NONE)return!1;return!0},At.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===j.NONE&&(this.location[t]=e)},At.prototype.isLine=function(){return 1===this.location.length},At.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[xt.ON]=this.location[xt.ON],t[xt.LEFT]=j.NONE,t[xt.RIGHT]=j.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===j.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},At.prototype.getLocations=function(){return this.location},At.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[xt.LEFT];this.location[xt.LEFT]=this.location[xt.RIGHT],this.location[xt.RIGHT]=e},At.prototype.toString=function(){var e=new z;return this.location.length>1&&e.append(j.toLocationSymbol(this.location[xt.LEFT])),e.append(j.toLocationSymbol(this.location[xt.ON])),this.location.length>1&&e.append(j.toLocationSymbol(this.location[xt.RIGHT])),e.toString()},At.prototype.setLocations=function(e,t,n){this.location[xt.ON]=e,this.location[xt.LEFT]=t,this.location[xt.RIGHT]=n},At.prototype.get=function(e){return e<this.location.length?this.location[e]:j.NONE},At.prototype.isArea=function(){return this.location.length>1},At.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===j.NONE)return!0;return!1},At.prototype.setLocation=function(){if(1===arguments.length){var e=arguments[0];this.setLocation(xt.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},At.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(j.NONE)},At.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},At.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At};var It=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new At(t),this.elt[1]=new At(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new At(n.elt[0]),this.elt[1]=new At(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.elt[0]=new At(j.NONE),this.elt[1]=new At(j.NONE),this.elt[r].setLocation(o)}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new At(i,a,s),this.elt[1]=new At(i,a,s)}else if(4===arguments.length){var l=arguments[0],c=arguments[1],u=arguments[2],p=arguments[3];this.elt[0]=new At(j.NONE,j.NONE,j.NONE),this.elt[1]=new At(j.NONE,j.NONE,j.NONE),this.elt[l].setLocations(c,u,p)}};It.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},It.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},It.prototype.isNull=function(e){return this.elt[e].isNull()},It.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},It.prototype.isLine=function(e){return this.elt[e].isLine()},It.prototype.merge=function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new At(e.elt[t]):this.elt[t].merge(e.elt[t])},It.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},It.prototype.getLocation=function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(xt.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},It.prototype.toString=function(){var e=new z;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},It.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},It.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},It.prototype.setLocation=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(xt.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.elt[n].setLocation(r,o)}},It.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},It.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},It.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new At(this.elt[e].location[0]))},It.prototype.interfaces_=function(){return[]},It.prototype.getClass=function(){return It},It.toLineLabel=function(e){for(var t=new It(j.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var zt=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Ce,this._pts=new Ce,this._label=new It(j.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Ce,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};zt.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=se.isCCW(this._ring.getCoordinates())},zt.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},zt.prototype.computePoints=function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new jt("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new jt("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var r=t.getLabel();te.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)},zt.prototype.getLinearRing=function(){return this._ring},zt.prototype.getCoordinate=function(e){return this._pts.get(e)},zt.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},zt.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var o=1;n&&(o=0);for(var i=o;i<r.length;i++)this._pts.add(r[i])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},zt.prototype.isHole=function(){return this._isHole},zt.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},zt.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!se.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},zt.prototype.addHole=function(e){this._holes.add(e)},zt.prototype.isShell=function(){return null===this._shell},zt.prototype.getLabel=function(){return this._label},zt.prototype.getEdges=function(){return this._edges},zt.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},zt.prototype.getShell=function(){return this._shell},zt.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,xt.RIGHT);if(n===j.NONE)return null;if(this._label.getLocation(t)===j.NONE)return this._label.setLocation(t,n),null}},zt.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},zt.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt};var Dt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(zt),Nt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var e=new Ce,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Dt(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(zt),Rt=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};Rt.prototype.setVisited=function(e){this._isVisited=e},Rt.prototype.setInResult=function(e){this._isInResult=e},Rt.prototype.isCovered=function(){return this._isCovered},Rt.prototype.isCoveredSet=function(){return this._isCoveredSet},Rt.prototype.setLabel=function(e){this._label=e},Rt.prototype.getLabel=function(){return this._label},Rt.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},Rt.prototype.updateIM=function(e){te.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},Rt.prototype.isInResult=function(){return this._isInResult},Rt.prototype.isVisited=function(){return this._isVisited},Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt};var kt=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[0],n=arguments[1];this._coord=t,this._edges=n,this._label=new It(0,j.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=j.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==j.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new It(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){if(arguments[0]instanceof t){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof It)for(var n=arguments[0],r=0;r<2;r++){var o=this.computeMergedLocation(n,r);this._label.getLocation(r)===j.NONE&&this._label.setLocation(r,o)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=j.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;if(t===j.BOUNDARY)n=j.INTERIOR;else n=j.BOUNDARY;this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Rt),Lt=function(){this.nodeMap=new p,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Lt.prototype.find=function(e){return this.nodeMap.get(e)},Lt.prototype.addNode=function(){if(arguments[0]instanceof O){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof kt){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Lt.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},Lt.prototype.iterator=function(){return this.nodeMap.values().iterator()},Lt.prototype.values=function(){return this.nodeMap.values()},Lt.prototype.getBoundaryNodes=function(e){for(var t=new Ce,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===j.BOUNDARY&&t.add(r)}return t},Lt.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt};var Ft=function(){},Bt={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},Ft.isNorthern=function(e){return e===Ft.NE||e===Ft.NW},Ft.isOpposite=function(e,t){return e!==t&&2==(e-t+4)%4},Ft.commonHalfPlane=function(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},Ft.isInHalfPlane=function(e,t){return t===Ft.SE?e===Ft.SE||e===Ft.SW:e===t||e===t+1},Ft.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new v("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?Ft.NE:Ft.SE:t>=0?Ft.NW:Ft.SW}if(arguments[0]instanceof O&&arguments[1]instanceof O){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Ft.NE:Ft.SE:r.y>=n.y?Ft.NW:Ft.SW}},Bt.NE.get=function(){return 0},Bt.NW.get=function(){return 1},Bt.SW.get=function(){return 2},Bt.SE.get=function(){return 3},Object.defineProperties(Ft,Bt);var Vt=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._edge=t,this.init(n,r),this._label=null}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this._edge=o,this.init(i,a),this._label=s}};Vt.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:se.computeOrientation(e._p0,e._p1,this._p1)},Vt.prototype.getDy=function(){return this._dy},Vt.prototype.getCoordinate=function(){return this._p0},Vt.prototype.setNode=function(e){this._node=e},Vt.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),o=n.substring(r+1);e.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},Vt.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)},Vt.prototype.getDirectedCoordinate=function(){return this._p1},Vt.prototype.getDx=function(){return this._dx},Vt.prototype.getLabel=function(){return this._label},Vt.prototype.getEdge=function(){return this._edge},Vt.prototype.getQuadrant=function(){return this._quadrant},Vt.prototype.getNode=function(){return this._node},Vt.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Vt.prototype.computeLabel=function(e){},Vt.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Ft.quadrant(this._dx,this._dy),te.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Vt.prototype.interfaces_=function(){return[w]},Vt.prototype.getClass=function(){return Vt};var Gt=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new It(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new jt("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,xt.LEFT)===j.INTERIOR&&this._label.getLocation(t,xt.RIGHT)===j.INTERIOR||(e=!1);return e},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[xt.LEFT]+"/"+this._depth[xt.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,j.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,j.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===xt.LEFT&&(r=-1);var o=xt.opposite(e),i=t+n*r;this.setDepth(e,t),this.setDepth(o,i)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===j.EXTERIOR&&t===j.INTERIOR?1:e===j.INTERIOR&&t===j.EXTERIOR?-1:0},t}(Vt),Ut=function(){};Ut.prototype.createNode=function(e){return new kt(e,null)},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var Wt=function(){if(this._edges=new Ce,this._nodes=null,this._edgeEndList=new Ce,0===arguments.length)this._nodes=new Lt(new Ut);else if(1===arguments.length){var e=arguments[0];this._nodes=new Lt(e)}};Wt.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Wt.prototype.find=function(e){return this._nodes.find(e)},Wt.prototype.addNode=function(){if(arguments[0]instanceof kt){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof O){var t=arguments[0];return this._nodes.addNode(t)}},Wt.prototype.getNodeIterator=function(){return this._nodes.iterator()},Wt.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Wt.prototype.debugPrintln=function(e){W.out.println(e)},Wt.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===j.BOUNDARY},Wt.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Wt.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&se.computeOrientation(e,t,r)===se.COLLINEAR&&Ft.quadrant(e,t)===Ft.quadrant(n,r)},Wt.prototype.getEdgeEnds=function(){return this._edgeEndList},Wt.prototype.debugPrint=function(e){W.out.print(e)},Wt.prototype.getEdgeIterator=function(){return this._edges.iterator()},Wt.prototype.findEdgeInSameDirection=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(this.matchInSameDirection(e,t,o[0],o[1]))return r;if(this.matchInSameDirection(e,t,o[o.length-1],o[o.length-2]))return r}return null},Wt.prototype.insertEdge=function(e){this._edges.add(e)},Wt.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Wt.prototype.addEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var r=new Gt(n,!0),o=new Gt(n,!1);r.setSym(o),o.setSym(r),this.add(r),this.add(o)}},Wt.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Wt.prototype.getNodes=function(){return this._nodes.values()},Wt.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(e.equals(o[0])&&t.equals(o[1]))return r}return null},Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Ht=function(){this._geometryFactory=null,this._shellList=new Ce;var e=arguments[0];this._geometryFactory=e};Ht.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var o=r.next();o.isHole()?n.add(o):t.add(o)}},Ht.prototype.computePolygons=function(e){for(var t=new Ce,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},Ht.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var o=this.findEdgeRingContaining(r,e);if(null===o)throw new jt("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(o)}}},Ht.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new Ce,o=e.iterator();o.hasNext();){var i=o.next();if(i.getMaxNodeDegree()>2){i.linkDirectedEdgesForMinimalEdgeRings();var a=i.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):n.addAll(a)}else r.add(i)}return r},Ht.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},Ht.prototype.buildMaximalEdgeRings=function(e){for(var t=new Ce,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var o=new Nt(r,this._geometryFactory);t.add(o),o.setInResult()}}return t},Ht.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},Ht.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ht.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),o=n.getCoordinateN(0),i=null,a=null,s=t.iterator();s.hasNext();){var l=s.next(),c=l.getLinearRing(),u=c.getEnvelopeInternal();null!==i&&(a=i.getLinearRing().getEnvelopeInternal());var p=!1;u.contains(r)&&se.isPointInRing(o,c.getCoordinates())&&(p=!0),p&&(null===i||a.contains(u))&&(i=l)}return i},Ht.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var o=r.next();o.isHole()||(n=o,t++)}return te.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},Ht.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0];Wt.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(t),r=new Ce,o=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht};var Jt=function(){};Jt.prototype.getBounds=function(){},Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt};var qt=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};qt.prototype.getItem=function(){return this._item},qt.prototype.getBounds=function(){return this._bounds},qt.prototype.interfaces_=function(){return[Jt,t]},qt.prototype.getClass=function(){return qt};var Yt=function(){this._size=null,this._items=null,this._size=0,this._items=new Ce,this._items.add(null)};Yt.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Yt.prototype.size=function(){return this._size},Yt.prototype.reorder=function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)},Yt.prototype.clear=function(){this._size=0,this._items.clear()},Yt.prototype.isEmpty=function(){return 0===this._size},Yt.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var Xt=function(){};Xt.prototype.visitItem=function(e){},Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt};var Zt=function(){};Zt.prototype.insert=function(e,t){},Zt.prototype.remove=function(e,t){},Zt.prototype.query=function(){},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var Kt=function(){if(this._childBoundables=new Ce,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},Qt={serialVersionUID:{configurable:!0}};Kt.prototype.getLevel=function(){return this._level},Kt.prototype.size=function(){return this._childBoundables.size()},Kt.prototype.getChildBoundables=function(){return this._childBoundables},Kt.prototype.addChildBoundable=function(e){te.isTrue(null===this._bounds),this._childBoundables.add(e)},Kt.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Kt.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Kt.prototype.interfaces_=function(){return[Jt,t]},Kt.prototype.getClass=function(){return Kt},Qt.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Kt,Qt);var $t=function(){};$t.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},$t.min=function(e){return $t.sort(e),e.get(0)},$t.sort=function(e,t){var n=e.toArray();t?ke.sort(n,t):ke.sort(n);for(var r=e.iterator(),o=0,i=n.length;o<i;o++)r.next(),r.set(n[o])},$t.singletonList=function(e){var t=new Ce;return t.add(e),t};var en=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};en.prototype.expandToQueue=function(e,t){var n=en.isComposite(this._boundable1),r=en.isComposite(this._boundable2);if(n&&r)return en.area(this._boundable1)>en.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new v("neither boundable is composite")},en.prototype.isLeaves=function(){return!(en.isComposite(this._boundable1)||en.isComposite(this._boundable2))},en.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},en.prototype.expand=function(e,t,n,r){for(var o=e.getChildBoundables().iterator();o.hasNext();){var i=o.next(),a=new en(i,t,this._itemDistance);a.getDistance()<r&&n.add(a)}},en.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},en.prototype.getDistance=function(){return this._distance},en.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},en.prototype.interfaces_=function(){return[w]},en.prototype.getClass=function(){return en},en.area=function(e){return e.getBounds().getArea()},en.isComposite=function(e){return e instanceof Kt};var tn=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new Ce,this._nodeCapacity=null,0===arguments.length){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var n=arguments[0];te.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};tn.prototype.getNodeCapacity=function(){return this._nodeCapacity},tn.prototype.lastNode=function(e){return e.get(e.size()-1)},tn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof Kt?e+=this.size(n):n instanceof qt&&(e+=1)}return e}},tn.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var o=r.next();o instanceof qt&&o.getItem()===t&&(n=o)}return null!==n&&(e.getChildBoundables().remove(n),!0)},tn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new Ce:e}if(1===arguments.length){for(var t=arguments[0],n=new Ce,r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next();if(o instanceof Kt){var i=this.itemsTree(o);null!==i&&n.add(i)}else o instanceof qt?n.add(o.getItem()):te.shouldNeverReachHere()}return n.size()<=0?null:n}},tn.prototype.insert=function(e,t){te.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new qt(e,t))},tn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var e=arguments[0],t=new Ce;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if(te.isTrue(n>-2),r.getLevel()===n)return o.add(r),null;for(var i=r.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof Kt?this.boundablesAtLevel(n,a,o):(te.isTrue(a instanceof qt),-1===n&&o.add(a))}return null}},tn.prototype.query=function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new Ce;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(M(arguments[2],Xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt)for(var o=arguments[0],i=arguments[2],a=arguments[1].getChildBoundables(),s=0;s<a.size();s++){var l=a.get(s);this.getIntersectsOp().intersects(l.getBounds(),o)&&(l instanceof Kt?this.query(o,l,i):l instanceof qt?i.visitItem(l.getItem()):te.shouldNeverReachHere())}else if(M(arguments[2],Pe)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt)for(var c=arguments[0],u=arguments[2],p=arguments[1].getChildBoundables(),f=0;f<p.size();f++){var d=p.get(f);this.getIntersectsOp().intersects(d.getBounds(),c)&&(d instanceof Kt?this.query(c,d,u):d instanceof qt?u.add(d.getItem()):te.shouldNeverReachHere())}},tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},tn.prototype.getRoot=function(){return this.build(),this._root},tn.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=this.removeItem(r,o);if(i)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Kt&&(i=this.remove(n,l,o))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),i}},tn.prototype.createHigherLevels=function(e,t){te.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},tn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof Kt){var r=this.depth(n);r>e&&(e=r)}}return e+1}},tn.prototype.createParentBoundables=function(e,t){te.isTrue(!e.isEmpty());var n=new Ce;n.add(this.createNode(t));var r=new Ce(e);$t.sort(r,this.getComparator());for(var o=r.iterator();o.hasNext();){var i=o.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(i)}return n},tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},tn.prototype.interfaces_=function(){return[t]},tn.prototype.getClass=function(){return tn},tn.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(tn,nn);var rn=function(){},on=function(){};on.prototype.distance=function(e,t){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var an=function(e){function n(t){t=t||n.DEFAULT_NODE_CAPACITY,e.call(this,t)}e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(e,t){te.isTrue(e.length>0);for(var n=new Ce,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},n.prototype.createNode=function(e){return new sn(e)},n.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),o=e.iterator(),i=0;i<t;i++){r[i]=new Ce;for(var a=0;o.hasNext()&&a<n;){var s=o.next();r[i].add(s),a++}}return r},n.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return e.prototype.query.call(this,t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];e.prototype.query.call(this,n,r)}else if(3===arguments.length)if(M(arguments[2],Xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt){var o=arguments[0],i=arguments[1],a=arguments[2];e.prototype.query.call(this,o,i,a)}else if(M(arguments[2],Pe)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt){var s=arguments[0],l=arguments[1],c=arguments[2];e.prototype.query.call(this,s,l,c)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},n.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return e.prototype.remove.call(this,t,n)}return e.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(e,t){te.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),o=new Ce(e);$t.sort(o,n.xComparator);var i=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(i,t)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(M(arguments[0],on)){var e=arguments[0],t=new en(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof en){var r=arguments[0];return this.nearestNeighbour(r,b.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&M(arguments[1],on)){var o=arguments[0],i=arguments[1],a=new en(this.getRoot(),o.getRoot(),i);return this.nearestNeighbour(a)}if(arguments[0]instanceof en&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1],c=null,u=new Yt;for(u.add(s);!u.isEmpty()&&l>0;){var p=u.poll(),f=p.getDistance();if(f>=l)break;p.isLeaves()?(l=f,c=p):p.expandToQueue(u,l)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],h=new qt(arguments[0],arguments[1]),y=new en(this.getRoot(),h,d);return this.nearestNeighbour(y)[0]}},n.prototype.interfaces_=function(){return[Zt,t]},n.prototype.getClass=function(){return n},n.centreX=function(e){return n.avg(e.getMinX(),e.getMaxX())},n.avg=function(e,t){return(e+t)/2},n.centreY=function(e){return n.avg(e.getMinY(),e.getMaxY())},r.STRtreeNode.get=function(){return sn},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[C]},compare:function(t,r){return e.compareDoubles(n.centreX(t.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[C]},compare:function(t,r){return e.compareDoubles(n.centreY(t.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(tn),sn=function(e){function t(){var t=arguments[0];e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new J(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Kt),ln=function(){};ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.relativeSign=function(e,t){return e<t?-1:e>t?1:0},ln.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=ln.relativeSign(t.x,n.x),o=ln.relativeSign(t.y,n.y);switch(e){case 0:return ln.compareValue(r,o);case 1:return ln.compareValue(o,r);case 2:return ln.compareValue(o,-r);case 3:return ln.compareValue(-r,o);case 4:return ln.compareValue(-r,-o);case 5:return ln.compareValue(-o,-r);case 6:return ln.compareValue(-o,r);case 7:return ln.compareValue(r,-o)}return te.shouldNeverReachHere("invalid octant value"),0},ln.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var cn=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new O(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};cn.prototype.getCoordinate=function(){return this.coord},cn.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},cn.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:ln.compare(this._segmentOctant,this.coord,t.coord)},cn.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},cn.prototype.isInterior=function(){return this._isInterior},cn.prototype.interfaces_=function(){return[w]},cn.prototype.getClass=function(){return cn};var un=function(){this._nodeMap=new p,this._edge=null;var e=arguments[0];this._edge=e};un.prototype.getSplitCoordinates=function(){var e=new xe;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},un.prototype.addCollapsedNodes=function(){var e=new Ce;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},un.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},un.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new D(t+1))}},un.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(r);n.add(new O(e.coord),!1);for(var i=e.segmentIndex+1;i<=t.segmentIndex;i++)n.add(this._edge.getCoordinate(i));o&&n.add(new O(t.coord))},un.prototype.iterator=function(){return this._nodeMap.values().iterator()},un.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),o=this.createSplitEdge(n,r);e.add(o),n=r}},un.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},un.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var o=n.next();this.findCollapseIndex(r,o,t)&&e.add(new D(t[0])),r=o}},un.prototype.getEdge=function(){return this._edge},un.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},un.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),a=0;i[a++]=new O(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i[a++]=this._edge.getCoordinate(s);return o&&(i[a]=new O(t.coord)),new hn(i,this._edge.getData())},un.prototype.add=function(e,t){var n=new cn(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(te.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},un.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new $("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),o=r[r.length-1];if(!o.equals2D(t[t.length-1]))throw new $("bad split edge end point at "+o)},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un};var pn=function(){};pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new v("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof O&&arguments[1]instanceof O){var o=arguments[0],i=arguments[1],a=i.x-o.x,s=i.y-o.y;if(0===a&&0===s)throw new v("Cannot compute the octant for two identical points "+o);return pn.octant(a,s)}};var fn=function(){};fn.prototype.getCoordinates=function(){},fn.prototype.size=function(){},fn.prototype.getCoordinate=function(e){},fn.prototype.isClosed=function(){},fn.prototype.setData=function(e){},fn.prototype.getData=function(){},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn};var dn=function(){};dn.prototype.addIntersection=function(e,t){},dn.prototype.interfaces_=function(){return[fn]},dn.prototype.getClass=function(){return dn};var hn=function(){this._nodeList=new un(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};hn.prototype.getCoordinates=function(){return this._pts},hn.prototype.size=function(){return this._pts.length},hn.prototype.getCoordinate=function(e){return this._pts[e]},hn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},hn.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},hn.prototype.setData=function(e){this._data=e},hn.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:pn.octant(e,t)},hn.prototype.getData=function(){return this._data},hn.prototype.addIntersection=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],o=new O(arguments[0].getIntersection(r));this.addIntersection(o,n)}},hn.prototype.toString=function(){return Q.toLineString(new lt(this._pts))},hn.prototype.getNodeList=function(){return this._nodeList},hn.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var o=this._pts[r];e.equals2D(o)&&(n=r)}return this._nodeList.add(e,n)},hn.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},hn.prototype.interfaces_=function(){return[dn]},hn.prototype.getClass=function(){return hn},hn.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new Ce;return hn.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var yn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new O,this.p1=new O;else if(1===arguments.length){var e=arguments[0];this.p0=new O(e.p0),this.p1=new O(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];this.p0=new O(t,n),this.p1=new O(r,o)}},gn={serialVersionUID:{configurable:!0}};yn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},yn.prototype.orientationIndex=function(){if(arguments[0]instanceof yn){var e=arguments[0],t=se.orientationIndex(this.p0,this.p1,e.p0),n=se.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof O){var r=arguments[0];return se.orientationIndex(this.p0,this.p1,r)}},yn.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},yn.prototype.isVertical=function(){return this.p0.x===this.p1.x},yn.prototype.equals=function(e){if(!(e instanceof yn))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},yn.prototype.intersection=function(e){var t=new oe;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},yn.prototype.project=function(){if(arguments[0]instanceof O){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new O(e);var t=this.projectionFactor(e),n=new O;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof yn){var r=arguments[0],o=this.projectionFactor(r.p0),i=this.projectionFactor(r.p1);if(o>=1&&i>=1)return null;if(o<=0&&i<=0)return null;var a=this.project(r.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var s=this.project(r.p1);return i<0&&(s=this.p0),i>1&&(s=this.p1),new yn(a,s)}},yn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},yn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},yn.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},yn.prototype.distancePerpendicular=function(e){return se.distancePointLinePerpendicular(e,this.p0,this.p1)},yn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},yn.prototype.midPoint=function(){return yn.midPoint(this.p0,this.p1)},yn.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?b.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},yn.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=b.MAX_VALUE,o=null,i=this.closestPoint(e.p0);r=i.distance(e.p0),n[0]=i,n[1]=e.p0;var a=this.closestPoint(e.p1);(o=a.distance(e.p1))<r&&(r=o,n[0]=a,n[1]=e.p1);var s=e.closestPoint(this.p0);(o=s.distance(this.p0))<r&&(r=o,n[0]=this.p0,n[1]=s);var l=e.closestPoint(this.p1);return(o=l.distance(this.p1))<r&&(r=o,n[0]=this.p1,n[1]=l),n},yn.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},yn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},yn.prototype.getLength=function(){return this.p0.distance(this.p1)},yn.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},yn.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},yn.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},yn.prototype.lineIntersection=function(e){try{return H.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof U))throw e}return null},yn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},yn.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,a=Math.sqrt(o*o+i*i),s=0,l=0;if(0!==t){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=t*o/a,l=t*i/a}return new O(n-l,r+s)},yn.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},yn.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||b.isNaN(t))&&(t=1),t},yn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},yn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},yn.prototype.distance=function(){if(arguments[0]instanceof yn){var e=arguments[0];return se.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof O){var t=arguments[0];return se.distancePointLine(t,this.p0,this.p1)}},yn.prototype.pointAlong=function(e){var t=new O;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},yn.prototype.hashCode=function(){var e=b.doubleToLongBits(this.p0.x);e^=31*b.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=b.doubleToLongBits(this.p1.x);return n^=31*b.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},yn.prototype.interfaces_=function(){return[w,t]},yn.prototype.getClass=function(){return yn},yn.midPoint=function(e,t){return new O((e.x+t.x)/2,(e.y+t.y)/2)},gn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(yn,gn);var mn=function(){this.tempEnv1=new J,this.tempEnv2=new J,this._overlapSeg1=new yn,this._overlapSeg2=new yn};mn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};vn.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},vn.prototype.computeSelect=function(e,t,n,r){var o=this._pts[t],i=this._pts[n];if(r.tempEnv1.init(o,i),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var a=Math.trunc((t+n)/2);t<a&&this.computeSelect(e,t,a,r),a<n&&this.computeSelect(e,a,n,r)},vn.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},vn.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},vn.prototype.setId=function(e){this._id=e},vn.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},vn.prototype.getEnvelope=function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new J(e,t)}return this._env},vn.prototype.getEndIndex=function(){return this._end},vn.prototype.getStartIndex=function(){return this._start},vn.prototype.getContext=function(){return this._context},vn.prototype.getId=function(){return this._id},vn.prototype.computeOverlapsInternal=function(e,t,n,r,o,i){var a=this._pts[e],s=this._pts[t],l=n._pts[r],c=n._pts[o];if(t-e==1&&o-r==1)return i.overlap(this,e,n,r),null;if(i.tempEnv1.init(a,s),i.tempEnv2.init(l,c),!i.tempEnv1.intersects(i.tempEnv2))return null;var u=Math.trunc((e+t)/2),p=Math.trunc((r+o)/2);e<u&&(r<p&&this.computeOverlapsInternal(e,u,n,r,p,i),p<o&&this.computeOverlapsInternal(e,u,n,p,o,i)),u<t&&(r<p&&this.computeOverlapsInternal(u,t,n,r,p,i),p<o&&this.computeOverlapsInternal(u,t,n,p,o,i))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var bn=function(){};bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.getChainStartIndices=function(e){var t=0,n=new Ce;n.add(new D(t));do{var r=bn.findChainEnd(e,t);n.add(new D(r)),t=r}while(t<e.length-1);return bn.toIntArray(n)},bn.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=Ft.quadrant(e[n],e[n+1]),o=t+1;o<e.length&&(e[o-1].equals2D(e[o])||Ft.quadrant(e[o-1],e[o])===r);)o++;return o-1},bn.getChains=function(){if(1===arguments.length)return bn.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],t=arguments[1],n=new Ce,r=bn.getChainStartIndices(e),o=0;o<r.length-1;o++){var i=new vn(e,r[o],r[o+1],t);n.add(i)}return n}},bn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var _n=function(){};_n.prototype.computeNodes=function(e){},_n.prototype.getNodedSubstrings=function(){},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var wn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};wn.prototype.setSegmentIntersector=function(e){this._segInt=e},wn.prototype.interfaces_=function(){return[_n]},wn.prototype.getClass=function(){return wn};var Pn=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new Ce,this._index=new an,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return hn.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=bn.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=new Cn(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var o=r.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,e),this._nOverlaps++),this._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return Cn},Object.defineProperties(t,n),t}(wn),Cn=function(e){function t(){e.call(this),this._si=null;var t=arguments[0];this._si=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[1],n=arguments[2],r=arguments[3],o=arguments[0].getContext(),i=n.getContext();this._si.processIntersections(o,t,i,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(mn),On=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(i),this.setJoinStyle(a),this.setMitreLimit(s)}},xn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};On.prototype.getEndCapStyle=function(){return this._endCapStyle},On.prototype.isSingleSided=function(){return this._isSingleSided},On.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=On.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=On.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==On.JOIN_ROUND&&(this._quadrantSegments=On.DEFAULT_QUADRANT_SEGMENTS)},On.prototype.getJoinStyle=function(){return this._joinStyle},On.prototype.setJoinStyle=function(e){this._joinStyle=e},On.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},On.prototype.getSimplifyFactor=function(){return this._simplifyFactor},On.prototype.getQuadrantSegments=function(){return this._quadrantSegments},On.prototype.setEndCapStyle=function(e){this._endCapStyle=e},On.prototype.getMitreLimit=function(){return this._mitreLimit},On.prototype.setMitreLimit=function(e){this._mitreLimit=e},On.prototype.setSingleSided=function(e){this._isSingleSided=e},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},xn.CAP_ROUND.get=function(){return 1},xn.CAP_FLAT.get=function(){return 2},xn.CAP_SQUARE.get=function(){return 3},xn.JOIN_ROUND.get=function(){return 1},xn.JOIN_MITRE.get=function(){return 2},xn.JOIN_BEVEL.get=function(){return 3},xn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},xn.DEFAULT_MITRE_LIMIT.get=function(){return 5},xn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(On,xn);var Sn=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=se.COUNTERCLOCKWISE,this._inputLine=e||null},En={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Sn.prototype.isDeletable=function(e,t,n,r){var o=this._inputLine[e],i=this._inputLine[t],a=this._inputLine[n];return!!this.isConcave(o,i,a)&&!!this.isShallow(o,i,a,r)&&this.isShallowSampled(o,i,e,n,r)},Sn.prototype.deleteShallowConcavities=function(){for(var e=1,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t),r=!1;n<this._inputLine.length;){var o=!1;this.isDeletable(e,t,n,this._distanceTol)&&(this._isDeleted[t]=Sn.DELETE,o=!0,r=!0),e=o?n:t,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t)}return r},Sn.prototype.isShallowConcavity=function(e,t,n,r){return se.computeOrientation(e,t,n)===this._angleOrientation&&se.distancePointLine(t,e,n)<r},Sn.prototype.isShallowSampled=function(e,t,n,r,o){var i=Math.trunc((r-n)/Sn.NUM_PTS_TO_CHECK);i<=0&&(i=1);for(var a=n;a<r;a+=i)if(!this.isShallow(e,t,this._inputLine[a],o))return!1;return!0},Sn.prototype.isConcave=function(e,t,n){return se.computeOrientation(e,t,n)===this._angleOrientation},Sn.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=se.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},Sn.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Sn.DELETE;)t++;return t},Sn.prototype.isShallow=function(e,t,n,r){return se.distancePointLine(t,e,n)<r},Sn.prototype.collapseLine=function(){for(var e=new xe,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==Sn.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},Sn.simplify=function(e,t){return new Sn(e).simplify(t)},En.INIT.get=function(){return 0},En.DELETE.get=function(){return 1},En.KEEP.get=function(){return 1},En.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Sn,En);var jn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Ce},Tn={COORDINATE_ARRAY_TYPE:{configurable:!0}};jn.prototype.getCoordinates=function(){return this._ptList.toArray(jn.COORDINATE_ARRAY_TYPE)},jn.prototype.setPrecisionModel=function(e){this._precisionModel=e},jn.prototype.addPt=function(e){var t=new O(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},jn.prototype.revere=function(){},jn.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},jn.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},jn.prototype.toString=function(){return(new mt).createLineString(this.getCoordinates()).toString()},jn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new O(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},jn.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn},Tn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(jn,Tn);var Mn=function(){},An={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.toDegrees=function(e){return 180*e/Math.PI},Mn.normalize=function(e){for(;e>Math.PI;)e-=Mn.PI_TIMES_2;for(;e<=-Math.PI;)e+=Mn.PI_TIMES_2;return e},Mn.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,o=n.y-t.y;return Math.atan2(o,r)}},Mn.isAcute=function(e,t,n){var r=e.x-t.x,o=e.y-t.y;return r*(n.x-t.x)+o*(n.y-t.y)>0},Mn.isObtuse=function(e,t,n){var r=e.x-t.x,o=e.y-t.y;return r*(n.x-t.x)+o*(n.y-t.y)<0},Mn.interiorAngle=function(e,t,n){var r=Mn.angle(t,e),o=Mn.angle(t,n);return Math.abs(o-r)},Mn.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Mn.PI_TIMES_2;e>=Mn.PI_TIMES_2&&(e=0)}else{for(;e>=Mn.PI_TIMES_2;)e-=Mn.PI_TIMES_2;e<0&&(e=0)}return e},Mn.angleBetween=function(e,t,n){var r=Mn.angle(t,e),o=Mn.angle(t,n);return Mn.diff(r,o)},Mn.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},Mn.toRadians=function(e){return e*Math.PI/180},Mn.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Mn.COUNTERCLOCKWISE:n<0?Mn.CLOCKWISE:Mn.NONE},Mn.angleBetweenOriented=function(e,t,n){var r=Mn.angle(t,e),o=Mn.angle(t,n)-r;return o<=-Math.PI?o+Mn.PI_TIMES_2:o>Math.PI?o-Mn.PI_TIMES_2:o},An.PI_TIMES_2.get=function(){return 2*Math.PI},An.PI_OVER_2.get=function(){return Math.PI/2},An.PI_OVER_4.get=function(){return Math.PI/4},An.COUNTERCLOCKWISE.get=function(){return se.COUNTERCLOCKWISE},An.CLOCKWISE.get=function(){return se.CLOCKWISE},An.NONE.get=function(){return se.COLLINEAR},Object.defineProperties(Mn,An);var In=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new yn,this._seg1=new yn,this._offset0=new yn,this._offset1=new yn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new oe,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===On.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},zn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};In.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=se.computeOrientation(this._s0,this._s1,this._s2),r=n===se.CLOCKWISE&&this._side===xt.LEFT||n===se.COUNTERCLOCKWISE&&this._side===xt.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},In.prototype.addLineEndCap=function(e,t){var n=new yn(e,t),r=new yn;this.computeOffsetSegment(n,xt.LEFT,this._distance,r);var o=new yn;this.computeOffsetSegment(n,xt.RIGHT,this._distance,o);var i=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,i);switch(this._bufParams.getEndCapStyle()){case On.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,s+Math.PI/2,s-Math.PI/2,se.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case On.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(o.p1);break;case On.CAP_SQUARE:var l=new O;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var c=new O(r.p1.x+l.x,r.p1.y+l.y),u=new O(o.p1.x+l.x,o.p1.y+l.y);this._segList.addPt(c),this._segList.addPt(u)}},In.prototype.getCoordinates=function(){return this._segList.getCoordinates()},In.prototype.addMitreJoin=function(e,t,n,r){var o=!0,i=null;try{i=H.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:i.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(o=!1)}catch(e){if(!(e instanceof U))throw e;i=new O(0,0),o=!1}o?this._segList.addPt(i):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},In.prototype.addFilletCorner=function(e,t,n,r,o){var i=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,i),l=n.x-e.x,c=n.y-e.y,u=Math.atan2(c,l);r===se.CLOCKWISE?s<=u&&(s+=2*Math.PI):s>=u&&(s-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,s,u,r,o),this._segList.addPt(n)},In.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*In.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===On.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===On.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},In.prototype.createSquare=function(e){this._segList.addPt(new O(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new O(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new O(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new O(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},In.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},In.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},In.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},In.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},In.prototype.addLimitedMitreJoin=function(e,t,n,r){var o=this._seg0.p1,i=Mn.angle(o,this._seg0.p0),a=Mn.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,s=Mn.normalize(i+a),l=Mn.normalize(s+Math.PI),c=r*n,u=n-c*Math.abs(Math.sin(a)),p=o.x+c*Math.cos(l),f=o.y+c*Math.sin(l),d=new O(p,f),h=new yn(o,d),y=h.pointAlongOffset(1,u),g=h.pointAlongOffset(1,-u);this._side===xt.LEFT?(this._segList.addPt(y),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(y))},In.prototype.computeOffsetSegment=function(e,t,n,r){var o=t===xt.LEFT?1:-1,i=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(i*i+a*a),l=o*n*i/s,c=o*n*a/s;r.p0.x=e.p0.x-c,r.p0.y=e.p0.y+l,r.p1.x=e.p1.x-c,r.p1.y=e.p1.y+l},In.prototype.addFilletArc=function(e,t,n,r,o){var i=r===se.CLOCKWISE?-1:1,a=Math.abs(t-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,c=0,u=new O;c<a;){var p=t+i*c;u.x=e.x+o*Math.cos(p),u.y=e.y+o*Math.sin(p),this._segList.addPt(u),c+=l}},In.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*In.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new O((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new O((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},In.prototype.createCircle=function(e){var t=new O(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},In.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},In.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new jn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*In.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},In.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===On.JOIN_BEVEL||this._bufParams.getJoinStyle()===On.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,se.CLOCKWISE,this._distance))},In.prototype.closeRing=function(){this._segList.closeRing()},In.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},zn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},zn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},zn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},zn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(In,zn);var Dn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Dn.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),o=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],o):this.computeOffsetCurve(e,n,o);var i=o.getCoordinates();return n&&Se.reverse(i),i},Dn.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var o=Sn.simplify(e,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],xt.LEFT),n.addFirstSegment();for(var a=i-2;a>=0;a--)n.addNextSegment(o[a],!0)}else{n.addSegments(e,!1);var s=Sn.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],xt.LEFT),n.addFirstSegment();for(var c=2;c<=l;c++)n.addNextSegment(s[c],!0)}n.addLastSegment(),n.closeRing()},Dn.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===xt.RIGHT&&(r=-r);var o=Sn.simplify(e,r),i=o.length-1;n.initSideSegments(o[i-1],o[0],t);for(var a=1;a<=i;a++){var s=1!==a;n.addNextSegment(o[a],s)}n.closeRing()},Dn.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=Sn.simplify(e,n),o=r.length-1;t.initSideSegments(r[0],r[1],xt.LEFT);for(var i=2;i<=o;i++)t.addNextSegment(r[i],!0);t.addLastSegment(),t.addLineEndCap(r[o-1],r[o]);var a=Sn.simplify(e,-n),s=a.length-1;t.initSideSegments(a[s],a[s-1],xt.LEFT);for(var l=s-2;l>=0;l--)t.addNextSegment(a[l],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()},Dn.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case On.CAP_ROUND:t.createCircle(e);break;case On.CAP_SQUARE:t.createSquare(e)}},Dn.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var o=t<0;this.computeSingleSidedBufferCurve(e,o,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()},Dn.prototype.getBufferParameters=function(){return this._bufParams},Dn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Dn.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return Dn.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},Dn.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var o=Sn.simplify(e,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],xt.LEFT),n.addFirstSegment();for(var a=i-2;a>=0;a--)n.addNextSegment(o[a],!0)}else{var s=Sn.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],xt.LEFT),n.addFirstSegment();for(var c=2;c<=l;c++)n.addNextSegment(s[c],!0)}n.addLastSegment()},Dn.prototype.getSegGen=function(e){return new In(this._precisionModel,this._bufParams,e)},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new O(e[n]);return t};var Nn=function(){this._subgraphs=null,this._seg=new yn,this._cga=new se;var e=arguments[0];this._subgraphs=e},Rn={DepthSegment:{configurable:!0}};Nn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var e=arguments[0],t=new Ce,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),o=r.getEnvelope();e.y<o.getMinY()||e.y>o.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(M(arguments[2],Pe)&&arguments[0]instanceof O&&arguments[1]instanceof Gt){for(var i=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),c=0;c<l.length-1;c++)if(this._seg.p0=l[c],this._seg.p1=l[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<i.x||this._seg.isHorizontal()||i.y<this._seg.p0.y||i.y>this._seg.p1.y||se.computeOrientation(this._seg.p0,this._seg.p1,i)===se.RIGHT)){var u=a.getDepth(xt.LEFT);this._seg.p0.equals(l[c])||(u=a.getDepth(xt.RIGHT));var p=new kn(this._seg,u);s.add(p)}}else if(M(arguments[2],Pe)&&arguments[0]instanceof O&&M(arguments[1],Pe))for(var f=arguments[0],d=arguments[2],h=arguments[1].iterator();h.hasNext();){var y=h.next();y.isForward()&&this.findStabbedSegments(f,y,d)}},Nn.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:$t.min(t)._leftDepth},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Rn.DepthSegment.get=function(){return kn},Object.defineProperties(Nn,Rn);var kn=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new yn(e),this._leftDepth=t};kn.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!=(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},kn.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},kn.prototype.toString=function(){return this._upwardSeg.toString()},kn.prototype.interfaces_=function(){return[w]},kn.prototype.getClass=function(){return kn};var Ln=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};Ln.prototype.area=function(){return Ln.area(this.p0,this.p1,this.p2)},Ln.prototype.signedArea=function(){return Ln.signedArea(this.p0,this.p1,this.p2)},Ln.prototype.interpolateZ=function(e){if(null===e)throw new v("Supplied point is null.");return Ln.interpolateZ(e,this.p0,this.p1,this.p2)},Ln.prototype.longestSideLength=function(){return Ln.longestSideLength(this.p0,this.p1,this.p2)},Ln.prototype.isAcute=function(){return Ln.isAcute(this.p0,this.p1,this.p2)},Ln.prototype.circumcentre=function(){return Ln.circumcentre(this.p0,this.p1,this.p2)},Ln.prototype.area3D=function(){return Ln.area3D(this.p0,this.p1,this.p2)},Ln.prototype.centroid=function(){return Ln.centroid(this.p0,this.p1,this.p2)},Ln.prototype.inCentre=function(){return Ln.inCentre(this.p0,this.p1,this.p2)},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},Ln.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},Ln.det=function(e,t,n,r){return e*r-t*n},Ln.interpolateZ=function(e,t,n,r){var o=t.x,i=t.y,a=n.x-o,s=r.x-o,l=n.y-i,c=r.y-i,u=a*c-s*l,p=e.x-o,f=e.y-i,d=(c*p-s*f)/u,h=(-l*p+a*f)/u;return t.z+d*(n.z-t.z)+h*(r.z-t.z)},Ln.longestSideLength=function(e,t,n){var r=e.distance(t),o=t.distance(n),i=n.distance(e),a=r;return o>a&&(a=o),i>a&&(a=i),a},Ln.isAcute=function(e,t,n){return!!Mn.isAcute(e,t,n)&&!!Mn.isAcute(t,n,e)&&!!Mn.isAcute(n,e,t)},Ln.circumcentre=function(e,t,n){var r=n.x,o=n.y,i=e.x-r,a=e.y-o,s=t.x-r,l=t.y-o,c=2*Ln.det(i,a,s,l),u=Ln.det(a,i*i+a*a,l,s*s+l*l),p=Ln.det(i,i*i+a*a,s,s*s+l*l);return new O(r-u/c,o+p/c)},Ln.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=new H(e.x+n/2,e.y+r/2,1),i=new H(e.x-r+n/2,e.y+n+r/2,1);return new H(o,i)},Ln.angleBisector=function(e,t,n){var r=t.distance(e),o=r/(r+t.distance(n)),i=n.x-e.x,a=n.y-e.y;return new O(e.x+o*i,e.y+o*a)},Ln.area3D=function(e,t,n){var r=t.x-e.x,o=t.y-e.y,i=t.z-e.z,a=n.x-e.x,s=n.y-e.y,l=n.z-e.z,c=o*l-i*s,u=i*a-r*l,p=r*s-o*a,f=c*c+u*u+p*p;return Math.sqrt(f)/2},Ln.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,o=(e.y+t.y+n.y)/3;return new O(r,o)},Ln.inCentre=function(e,t,n){var r=t.distance(n),o=e.distance(n),i=e.distance(t),a=r+o+i,s=(r*e.x+o*t.x+i*n.x)/a,l=(r*e.y+o*t.y+i*n.y)/a;return new O(s,l)};var Fn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Ce;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};Fn.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,j.EXTERIOR,j.INTERIOR)},Fn.prototype.addPolygon=function(e){var t=this._distance,n=xt.LEFT;this._distance<0&&(t=-this._distance,n=xt.RIGHT);var r=e.getExteriorRing(),o=Se.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,t,n,j.EXTERIOR,j.INTERIOR);for(var i=0;i<e.getNumInteriorRing();i++){var a=e.getInteriorRingN(i),s=Se.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,t,xt.opposite(n),j.INTERIOR,j.EXTERIOR)}},Fn.prototype.isTriangleErodedCompletely=function(e,t){var n=new Ln(e[0],e[1],e[2]),r=n.inCentre();return se.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},Fn.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=Se.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,j.EXTERIOR,j.INTERIOR)},Fn.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new hn(e,new It(0,j.BOUNDARY,t,n));this._curveList.add(r)},Fn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Fn.prototype.addPolygonRing=function(e,t,n,r,o){if(0===t&&e.length<tt.MINIMUM_VALID_SIZE)return null;var i=r,a=o;e.length>=tt.MINIMUM_VALID_SIZE&&se.isCCW(e)&&(i=o,a=r,n=xt.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,i,a)},Fn.prototype.add=function(e){if(e.isEmpty())return null;e instanceof $e?this.addPolygon(e):e instanceof Xe?this.addLineString(e):e instanceof Ke?this.addPoint(e):(e instanceof et||e instanceof Ue||e instanceof nt||e instanceof Ge)&&this.addCollection(e)},Fn.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),o=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>o},Fn.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var Bn=function(){};Bn.prototype.locate=function(e){},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var Vn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};Vn.prototype.next=function(){if(this._atStart)return this._atStart=!1,Vn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var e=this._parent.getGeometryN(this._index++);return e instanceof Ge?(this._subcollectionIterator=new Vn(e),this._subcollectionIterator.next()):e},Vn.prototype.remove=function(){throw new Error(this.getClass().getName())},Vn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Vn.prototype.interfaces_=function(){return[we]},Vn.prototype.getClass=function(){return Vn},Vn.isAtomic=function(e){return!(e instanceof Ge)};var Gn=function(){this._geom=null;var e=arguments[0];this._geom=e};Gn.prototype.locate=function(e){return Gn.locate(e,this._geom)},Gn.prototype.interfaces_=function(){return[Bn]},Gn.prototype.getClass=function(){return Gn},Gn.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&se.isPointInRing(e,t.getCoordinates())},Gn.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!Gn.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r);if(Gn.isPointInRing(e,o))return!1}return!0},Gn.containsPoint=function(e,t){if(t instanceof $e)return Gn.containsPointInPolygon(e,t);if(t instanceof Ge)for(var n=new Vn(t);n.hasNext();){var r=n.next();if(r!==t&&Gn.containsPoint(e,r))return!0}return!1},Gn.locate=function(e,t){return t.isEmpty()?j.EXTERIOR:Gn.containsPoint(e,t)?j.INTERIOR:j.EXTERIOR};var Un=function(){this._edgeMap=new p,this._edgeList=null,this._ptInAreaLocation=[j.NONE,j.NONE]};Un.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Un.prototype.propagateSideLabels=function(e){for(var t=j.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,xt.LEFT)!==j.NONE&&(t=r.getLocation(e,xt.LEFT))}if(t===j.NONE)return null;for(var o=t,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getLabel();if(s.getLocation(e,xt.ON)===j.NONE&&s.setLocation(e,xt.ON,o),s.isArea(e)){var l=s.getLocation(e,xt.LEFT),c=s.getLocation(e,xt.RIGHT);if(c!==j.NONE){if(c!==o)throw new jt("side location conflict",a.getCoordinate());l===j.NONE&&te.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),o=l}else te.isTrue(s.getLocation(e,xt.LEFT)===j.NONE,"found single null side"),s.setLocation(e,xt.RIGHT,o),s.setLocation(e,xt.LEFT,o)}}},Un.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Un.prototype.print=function(e){W.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},Un.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Un.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,xt.LEFT);te.isTrue(r!==j.NONE,"Found unlabelled area edge");for(var o=r,i=this.iterator();i.hasNext();){var a=i.next().getLabel();te.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,xt.LEFT),l=a.getLocation(e,xt.RIGHT);if(s===l)return!1;if(l!==o)return!1;o=s}return!0},Un.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},Un.prototype.iterator=function(){return this.getEdges().iterator()},Un.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Ce(this._edgeMap.values())),this._edgeList},Un.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===j.NONE&&(this._ptInAreaLocation[e]=Gn.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},Un.prototype.toString=function(){var e=new z;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},Un.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},Un.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===j.BOUNDARY&&(t[o]=!0);for(var i=this.iterator();i.hasNext();)for(var a=i.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var c=j.NONE;if(t[l])c=j.EXTERIOR;else{var u=a.getCoordinate();c=this.getLocation(l,u,e)}s.setAllLocationsIfNull(l,c)}},Un.prototype.getDegree=function(){return this._edgeMap.size()},Un.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var Wn=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var o=this._resultAreaEdgeList.get(r),i=o.getSym();if(o.getLabel().isArea())switch(null===e&&o.isInResult()&&(e=o),n){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;t=i,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!o.isInResult())continue;t.setNext(o),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new jt("no outgoing dirEdge found",this.getCoordinate());te.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}},t.prototype.insert=function(e){var t=e;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),o=n.getQuadrant(),i=r.getQuadrant();return Ft.isNorthern(o)&&Ft.isNorthern(i)?n:Ft.isNorthern(o)||Ft.isNorthern(i)?0!==n.getDy()?n:0!==r.getDy()?r:(te.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){W.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Ce;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),o=r.getSym();null===t&&(t=o),null!==e&&o.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(xt.LEFT),r=e.getDepth(xt.RIGHT),o=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,o)!==r)throw new jt("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var i=arguments[1],a=arguments[2],s=arguments[0];s<i;s++){var l=this._edgeList.get(s);l.setEdgeDepths(xt.RIGHT,a),a=l.getDepth(xt.LEFT)}return a}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var i=this._resultAreaEdgeList.get(o),a=i.getSym();switch(null===t&&i.getEdgeRing()===e&&(t=i),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==e)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==e)continue;n.setNextMin(i),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(te.isTrue(null!==t,"found null for first outgoing dirEdge"),te.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],r=0,o=this.iterator();o.hasNext();)o.next().getEdgeRing()===n&&r++;return r}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=j.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=j.INTERIOR;break}if(r.isInResult()){e=j.EXTERIOR;break}}}if(e===j.NONE)return null;for(var o=e,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(o===j.INTERIOR):(a.isInResult()&&(o=j.EXTERIOR),s.isInResult()&&(o=j.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new It(j.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),o=0;o<2;o++){var i=r.getLocation(o);i!==j.INTERIOR&&i!==j.BOUNDARY||this._label.setLocation(o,j.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Un),Hn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new kt(e,new Wn)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ut),Jn=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Jn.prototype.compareTo=function(e){var t=e;return Jn.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Jn.prototype.interfaces_=function(){return[w]},Jn.prototype.getClass=function(){return Jn},Jn.orientation=function(e){return 1===Se.increasingDirection(e)},Jn.compareOriented=function(e,t,n,r){for(var o=t?1:-1,i=r?1:-1,a=t?e.length:-1,s=r?n.length:-1,l=t?0:e.length-1,c=r?0:n.length-1;;){var u=e[l].compareTo(n[c]);if(0!==u)return u;var p=(l+=o)===a,f=(c+=i)===s;if(p&&!f)return-1;if(!p&&f)return 1;if(p&&f)return 0}};var qn=function(){this._edges=new Ce,this._ocaMap=new p};qn.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),o=0;o<r.length;o++)o>0&&e.print(","),e.print(r[o].x+" "+r[o].y);e.println(")")}e.print(")  ")},qn.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},qn.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},qn.prototype.iterator=function(){return this._edges.iterator()},qn.prototype.getEdges=function(){return this._edges},qn.prototype.get=function(e){return this._edges.get(e)},qn.prototype.findEqualEdge=function(e){var t=new Jn(e.getCoordinates());return this._ocaMap.get(t)},qn.prototype.add=function(e){this._edges.add(e);var t=new Jn(e.getCoordinates());this._ocaMap.put(t,e)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn};var Yn=function(){};Yn.prototype.processIntersections=function(e,t,n,r){},Yn.prototype.isDone=function(){},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Xn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};Xn.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(Xn.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var o=e.size()-1;if(0===t&&r===o||0===r&&t===o)return!0}}return!1},Xn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Xn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Xn.prototype.getLineIntersector=function(){return this._li},Xn.prototype.hasProperIntersection=function(){return this._hasProper},Xn.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Xn.prototype.hasIntersection=function(){return this._hasIntersection},Xn.prototype.isDone=function(){return!1},Xn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Xn.prototype.interfaces_=function(){return[Yn]},Xn.prototype.getClass=function(){return Xn},Xn.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var Zn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new O(e),this.segmentIndex=t,this.dist=n};Zn.prototype.getSegmentIndex=function(){return this.segmentIndex},Zn.prototype.getCoordinate=function(){return this.coord},Zn.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Zn.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},Zn.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},Zn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zn.prototype.getDistance=function(){return this.dist},Zn.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},Zn.prototype.interfaces_=function(){return[w]},Zn.prototype.getClass=function(){return Zn};var Kn=function(){this._nodeMap=new p,this.edge=null;var e=arguments[0];this.edge=e};Kn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},Kn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Kn.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),o=this.createSplitEdge(n,r);e.add(o),n=r}},Kn.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},Kn.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],o=t.dist>0||!t.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),a=0;i[a++]=new O(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i[a++]=this.edge.pts[s];return o&&(i[a]=t.coord),new nr(i,new It(this.edge._label))},Kn.prototype.add=function(e,t,n){var r=new Zn(e,t,n),o=this._nodeMap.get(r);return null!==o?o:(this._nodeMap.put(r,r),r)},Kn.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var Qn=function(){};Qn.prototype.getChainStartIndices=function(e){var t=0,n=new Ce;n.add(new D(t));do{var r=this.findChainEnd(e,t);n.add(new D(r)),t=r}while(t<e.length-1);return Qn.toIntArray(n)},Qn.prototype.findChainEnd=function(e,t){for(var n=Ft.quadrant(e[t],e[t+1]),r=t+1;r<e.length&&Ft.quadrant(e[r-1],e[r])===n;)r++;return r-1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new J,this.env2=new J;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Qn;this.startIndex=t.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},$n.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],c=arguments[5],u=this.pts[o],p=this.pts[i],f=a.pts[s],d=a.pts[l];if(i-o==1&&l-s==1)return c.addIntersections(this.e,o,a.e,s),null;if(this.env1.init(u,p),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var h=Math.trunc((o+i)/2),y=Math.trunc((s+l)/2);o<h&&(s<y&&this.computeIntersectsForChain(o,h,a,s,y,c),y<l&&this.computeIntersectsForChain(o,h,a,y,l,c)),h<i&&(s<y&&this.computeIntersectsForChain(h,i,a,s,y,c),y<l&&this.computeIntersectsForChain(h,i,a,y,l,c))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var er=function e(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},tr={NULL_VALUE:{configurable:!0}};er.prototype.getDepth=function(e,t){return this._depth[e][t]},er.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},er.prototype.isNull=function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var t=0;t<3;t++)if(this._depth[e][t]!==er.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===er.NULL_VALUE}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._depth[r][o]===er.NULL_VALUE}},er.prototype.normalize=function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this._depth[e][n]>t&&(r=1),this._depth[e][n]=r}}},er.prototype.getDelta=function(e){return this._depth[e][xt.RIGHT]-this._depth[e][xt.LEFT]},er.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?j.EXTERIOR:j.INTERIOR},er.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},er.prototype.add=function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<2;t++)for(var n=1;n<3;n++){var r=e.getLocation(t,n);r!==j.EXTERIOR&&r!==j.INTERIOR||(this.isNull(t,n)?this._depth[t][n]=er.depthAtLocation(r):this._depth[t][n]+=er.depthAtLocation(r))}else if(3===arguments.length){var o=arguments[0],i=arguments[1];arguments[2]===j.INTERIOR&&this._depth[o][i]++}},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.depthAtLocation=function(e){return e===j.EXTERIOR?0:e===j.INTERIOR?1:er.NULL_VALUE},tr.NULL_VALUE.get=function(){return-1},Object.defineProperties(er,tr);var nr=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new Kn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new er,this._depthDelta=0,1===arguments.length){var n=arguments[0];t.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.pts=r,this._label=o}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,It.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,o=!0,i=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--i])||(o=!1),!r&&!o)return!1;return!0},t.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new J;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var o=new O(e.getIntersection(r)),i=t,a=e.getEdgeDistance(n,r),s=i+1;if(s<this.pts.length){var l=this.pts[s];o.equals2D(l)&&(i=s,a=0)}this.eiList.add(o,i,a)},t.prototype.toString=function(){var e=new z;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,xt.ON),t.getLocation(1,xt.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,xt.LEFT),t.getLocation(1,xt.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,xt.RIGHT),t.getLocation(1,xt.RIGHT),2))},t}(Rt),rr=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new qn,this._bufParams=e||null};rr.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},rr.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new It(e.getLabel())).flip(),n.merge(r);var o=rr.depthDelta(r),i=t.getDepthDelta()+o;t.setDepthDelta(i)}else this._edgeList.add(e),e.setDepthDelta(rr.depthDelta(e.getLabel()))},rr.prototype.buildSubgraphs=function(e,t){for(var n=new Ce,r=e.iterator();r.hasNext();){var o=r.next(),i=o.getRightmostCoordinate(),a=new Nn(n).getDepth(i);o.computeDepth(a),o.findResultEdges(),n.add(o),t.add(o.getDirectedEdges(),o.getNodes())}},rr.prototype.createSubgraphs=function(e){for(var t=new Ce,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var o=new Mt;o.create(r),t.add(o)}}return $t.sort(t,$t.reverseOrder()),t},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new Pn,n=new oe;return n.setPrecisionModel(e),t.setSegmentIntersector(new Xn(n)),t},rr.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Dn(n,this._bufParams),o=new Fn(e,t,r).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new Wt(new Hn),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),a=new Ht(this._geomFact);this.buildSubgraphs(i,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},rr.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var o=r.next(),i=o.getCoordinates();if(2!==i.length||!i[0].equals2D(i[1])){var a=o.getData(),s=new nr(o.getCoordinates(),new It(a));this.insertUniqueEdge(s)}}},rr.prototype.setNoder=function(e){this._workingNoder=e},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(e){var t=e.getLocation(0,xt.LEFT),n=e.getLocation(0,xt.RIGHT);return t===j.INTERIOR&&n===j.EXTERIOR?1:t===j.EXTERIOR&&n===j.INTERIOR?-1:0},rr.convertSegStrings=function(e){for(var t=new mt,n=new Ce;e.hasNext();){var r=e.next(),o=t.createLineString(r.getCoordinates());n.add(o)}return t.buildGeometry(n)};var or=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=o,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};or.prototype.rescale=function(){if(M(arguments[0],_e))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&W.out.println(n)}},or.prototype.scale=function(){if(M(arguments[0],_e)){for(var e=arguments[0],t=new Ce,n=e.iterator();n.hasNext();){var r=n.next();t.add(new hn(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var o=arguments[0],i=new Array(o.length).fill(null),a=0;a<o.length;a++)i[a]=new O(Math.round((o[a].x-this._offsetX)*this._scaleFactor),Math.round((o[a].y-this._offsetY)*this._scaleFactor),o[a].z);return Se.removeRepeatedPoints(i)}},or.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},or.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},or.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},or.prototype.interfaces_=function(){return[_n]},or.prototype.getClass=function(){return or};var ir=function(){this._li=new oe,this._segStrings=null;var e=arguments[0];this._segStrings=e},ar={fact:{configurable:!0}};ir.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var o=r.next().getCoordinates(),i=1;i<o.length-1;i++)if(o[i].equals(n))throw new $("found endpt/interior pt intersection at index "+i+" :pt "+n)},ir.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var o=arguments[0],i=arguments[1],a=o.getCoordinates(),s=i.getCoordinates(),l=0;l<a.length-1;l++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(o,l,i,c);else if(4===arguments.length){var u=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3];if(u===f&&p===d)return null;var h=u.getCoordinates()[p],y=u.getCoordinates()[p+1],g=f.getCoordinates()[d],m=f.getCoordinates()[d+1];if(this._li.computeIntersection(h,y,g,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,h,y)||this.hasInteriorIntersection(this._li,g,m)))throw new $("found non-noded intersection at "+h+"-"+y+" and "+g+"-"+m)}},ir.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ir.prototype.checkCollapses=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},ir.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var o=e.getIntersection(r);if(!o.equals(t)&&!o.equals(n))return!0}return!1},ir.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new $("found non-noded collapse at "+ir.fact.createLineString([e,t,n]))},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir},ar.fact.get=function(){return new mt},Object.defineProperties(ir,ar);var sr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new v("Scale factor must be non-zero");1!==t&&(this._pt=new O(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new O,this._p1Scaled=new O),this.initCorners(this._pt)},lr={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sr.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),o=Math.min(e.y,t.y),i=Math.max(e.y,t.y),a=this._maxx<n||this._minx>r||this._maxy<o||this._miny>i;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return te.isTrue(!(a&&s),"Found bad envelope test"),s},sr.prototype.initCorners=function(e){this._minx=e.x-.5,this._maxx=e.x+.5,this._miny=e.y-.5,this._maxy=e.y+.5,this._corner[0]=new O(this._maxx,this._maxy),this._corner[1]=new O(this._minx,this._maxy),this._corner[2]=new O(this._minx,this._miny),this._corner[3]=new O(this._maxx,this._miny)},sr.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sr.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},sr.prototype.getCoordinate=function(){return this._originalPt},sr.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},sr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=sr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new J(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},sr.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},sr.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||e.equals(this._pt)||t.equals(this._pt)))))},sr.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},lr.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sr,lr);var cr=function(){this.tempEnv1=new J,this.selectedSegment=new yn};cr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var ur=function(){this._index=null;var e=arguments[0];this._index=e},pr={HotPixelSnapAction:{configurable:!0}};ur.prototype.snap=function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],o=t.getSafeEnvelope(),i=new fr(t,n,r);return this._index.query(o,{interfaces_:function(){return[Xt]},visitItem:function(e){e.select(o,i)}}),i.isNodeAdded()}},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},pr.HotPixelSnapAction.get=function(){return fr},Object.defineProperties(ur,pr);var fr=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=n,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&t===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,t)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(cr),dr=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new Ce};dr.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},dr.prototype.isDone=function(){return!1},dr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},dr.prototype.interfaces_=function(){return[Yn]},dr.prototype.getClass=function(){return dr};var hr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new oe,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};hr.prototype.checkCorrectness=function(e){var t=hn.getNodedSubstrings(e),n=new ir(t);try{n.checkValid()}catch(e){if(!(e instanceof G))throw e;e.printStackTrace()}},hr.prototype.getNodedSubstrings=function(){return hn.getNodedSubstrings(this._nodedSegStrings)},hr.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},hr.prototype.findInteriorIntersections=function(e,t){var n=new dr(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},hr.prototype.computeVertexSnaps=function(){if(M(arguments[0],_e))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof hn)for(var n=arguments[0],r=n.getCoordinates(),o=0;o<r.length;o++){var i=new sr(r[o],this._scaleFactor,this._li);this._pointSnapper.snap(i,n,o)&&n.addIntersection(r[o],o)}},hr.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Pn,this._pointSnapper=new ur(this._noder.getIndex()),this.snapRound(e,this._li)},hr.prototype.computeIntersectionSnaps=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new sr(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},hr.prototype.interfaces_=function(){return[_n]},hr.prototype.getClass=function(){return hr};var yr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new On,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},gr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};yr.prototype.bufferFixedPrecision=function(e){var t=new or(new hr(new dt(1)),e.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},yr.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=yr.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(t){if(!(t instanceof jt))throw t;e._saveException=t}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=yr.precisionScaleFactor(this._argGeom,this._distance,n),o=new dt(r);this.bufferFixedPrecision(o)}},yr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===dt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},yr.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},yr.prototype.bufferOriginalPrecision=function(){try{var e=new rr(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof $))throw e;this._saveException=e}},yr.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},yr.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new yr(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ue&&"number"==typeof arguments[1]){var t=arguments[1],n=arguments[2],r=new yr(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(t)}if(arguments[2]instanceof On&&arguments[0]instanceof ue&&"number"==typeof arguments[1]){var o=arguments[1];return new yr(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var i=arguments[1],a=arguments[2],s=arguments[3],l=new yr(arguments[0]);return l.setQuadrantSegments(a),l.setEndCapStyle(s),l.getResultGeometry(i)}},yr.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),o=A.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),i=n-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,i)},gr.CAP_ROUND.get=function(){return On.CAP_ROUND},gr.CAP_BUTT.get=function(){return On.CAP_FLAT},gr.CAP_FLAT.get=function(){return On.CAP_FLAT},gr.CAP_SQUARE.get=function(){return On.CAP_SQUARE},gr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(yr,gr);var mr=function(){this._pt=[new O,new O],this._distance=b.NaN,this._isNull=!0};mr.prototype.getCoordinates=function(){return this._pt},mr.prototype.getCoordinate=function(e){return this._pt[e]},mr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},mr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},mr.prototype.getDistance=function(){return this._distance},mr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var vr=function(){};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.computeDistance=function(){if(arguments[2]instanceof mr&&arguments[0]instanceof Xe&&arguments[1]instanceof O)for(var e=arguments[1],t=arguments[2],n=arguments[0].getCoordinates(),r=new yn,o=0;o<n.length-1;o++){r.setCoordinates(n[o],n[o+1]);var i=r.closestPoint(e);t.setMinimum(i,e)}else if(arguments[2]instanceof mr&&arguments[0]instanceof $e&&arguments[1]instanceof O){var a=arguments[0],s=arguments[1],l=arguments[2];vr.computeDistance(a.getExteriorRing(),s,l);for(var c=0;c<a.getNumInteriorRing();c++)vr.computeDistance(a.getInteriorRingN(c),s,l)}else if(arguments[2]instanceof mr&&arguments[0]instanceof ue&&arguments[1]instanceof O){var u=arguments[0],p=arguments[1],f=arguments[2];if(u instanceof Xe)vr.computeDistance(u,p,f);else if(u instanceof $e)vr.computeDistance(u,p,f);else if(u instanceof Ge)for(var d=u,h=0;h<d.getNumGeometries();h++){var y=d.getGeometryN(h);vr.computeDistance(y,p,f)}else f.setMinimum(u.getCoordinate(),p)}else if(arguments[2]instanceof mr&&arguments[0]instanceof yn&&arguments[1]instanceof O){var g=arguments[1],m=arguments[2],v=arguments[0].closestPoint(g);m.setMinimum(v,g)}};var br=function(e){this._maxPtDist=new mr,this._inputGeom=e||null},_r={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};br.prototype.computeMaxMidpointDistance=function(e){var t=new Pr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},br.prototype.computeMaxVertexDistance=function(e){var t=new wr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},br.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},br.prototype.getDistancePoints=function(){return this._maxPtDist},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br},_r.MaxPointDistanceFilter.get=function(){return wr},_r.MaxMidpointDistanceFilter.get=function(){return Pr},Object.defineProperties(br,_r);var wr=function(e){this._maxPtDist=new mr,this._minPtDist=new mr,this._geom=e||null};wr.prototype.filter=function(e){this._minPtDist.initialize(),vr.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[de]},wr.prototype.getClass=function(){return wr};var Pr=function(e){this._maxPtDist=new mr,this._minPtDist=new mr,this._geom=e||null};Pr.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),o=new O((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),vr.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Pr.prototype.isDone=function(){return!1},Pr.prototype.isGeometryChanged=function(){return!1},Pr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Pr.prototype.interfaces_=function(){return[Ve]},Pr.prototype.getClass=function(){return Pr};var Cr=function(e){this._comps=e||null};Cr.prototype.filter=function(e){e instanceof $e&&this._comps.add(e)},Cr.prototype.interfaces_=function(){return[Be]},Cr.prototype.getClass=function(){return Cr},Cr.getPolygons=function(){if(1===arguments.length)return Cr.getPolygons(arguments[0],new Ce);if(2===arguments.length){var e=arguments[0],t=arguments[1];return e instanceof $e?t.add(e):e instanceof Ge&&e.apply(new Cr(t)),t}};var Or=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this._lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};Or.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof tt){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Xe&&this._lines.add(e)},Or.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},Or.prototype.interfaces_=function(){return[ce]},Or.prototype.getClass=function(){return Or},Or.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(Or.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Or.getLines(t,n))}},Or.getLines=function(){if(1===arguments.length)return Or.getLines(arguments[0],!1);if(2===arguments.length){if(M(arguments[0],_e)&&M(arguments[1],_e)){for(var e=arguments[1],t=arguments[0].iterator();t.hasNext();){var n=t.next();Or.getLines(n,e)}return e}if(arguments[0]instanceof ue&&"boolean"==typeof arguments[1]){var r=arguments[0],o=arguments[1],i=new Ce;return r.apply(new Or(i,o)),i}if(arguments[0]instanceof ue&&M(arguments[1],_e)){var a=arguments[0],s=arguments[1];return a instanceof Xe?s.add(a):a.apply(new Or(s)),s}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&M(arguments[0],_e)&&M(arguments[1],_e)){for(var l=arguments[1],c=arguments[2],u=arguments[0].iterator();u.hasNext();){var p=u.next();Or.getLines(p,l,c)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ue&&M(arguments[1],_e)){var f=arguments[1],d=arguments[2];return arguments[0].apply(new Or(f,d)),f}}};var xr=function(){if(this._boundaryRule=he.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new v("Rule must be non-null");this._boundaryRule=e}};xr.prototype.locateInternal=function(){if(arguments[0]instanceof O&&arguments[1]instanceof $e){var e=arguments[0],t=arguments[1];if(t.isEmpty())return j.EXTERIOR;var n=t.getExteriorRing(),r=this.locateInPolygonRing(e,n);if(r===j.EXTERIOR)return j.EXTERIOR;if(r===j.BOUNDARY)return j.BOUNDARY;for(var o=0;o<t.getNumInteriorRing();o++){var i=t.getInteriorRingN(o),a=this.locateInPolygonRing(e,i);if(a===j.INTERIOR)return j.EXTERIOR;if(a===j.BOUNDARY)return j.BOUNDARY}return j.INTERIOR}if(arguments[0]instanceof O&&arguments[1]instanceof Xe){var s=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(s))return j.EXTERIOR;var c=l.getCoordinates();return l.isClosed()||!s.equals(c[0])&&!s.equals(c[c.length-1])?se.isOnLine(s,c)?j.INTERIOR:j.EXTERIOR:j.BOUNDARY}if(arguments[0]instanceof O&&arguments[1]instanceof Ke){var u=arguments[0];return arguments[1].getCoordinate().equals2D(u)?j.INTERIOR:j.EXTERIOR}},xr.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?se.locatePointInRing(e,t.getCoordinates()):j.EXTERIOR},xr.prototype.intersects=function(e,t){return this.locate(e,t)!==j.EXTERIOR},xr.prototype.updateLocationInfo=function(e){e===j.INTERIOR&&(this._isIn=!0),e===j.BOUNDARY&&this._numBoundaries++},xr.prototype.computeLocation=function(e,t){if(t instanceof Ke&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Xe)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof $e)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Ue)for(var n=t,r=0;r<n.getNumGeometries();r++){var o=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,o))}else if(t instanceof nt)for(var i=t,a=0;a<i.getNumGeometries();a++){var s=i.getGeometryN(a);this.updateLocationInfo(this.locateInternal(e,s))}else if(t instanceof Ge)for(var l=new Vn(t);l.hasNext();){var c=l.next();c!==t&&this.computeLocation(e,c)}},xr.prototype.locate=function(e,t){return t.isEmpty()?j.EXTERIOR:t instanceof Xe||t instanceof $e?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?j.BOUNDARY:this._numBoundaries>0||this._isIn?j.INTERIOR:j.EXTERIOR)},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var Sr=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)e.call(this,arguments[0],e.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._component=t,this._segIndex=n,this._pt=r}},Er={INSIDE_AREA:{configurable:!0}};Sr.prototype.isInsideArea=function(){return this._segIndex===Sr.INSIDE_AREA},Sr.prototype.getCoordinate=function(){return this._pt},Sr.prototype.getGeometryComponent=function(){return this._component},Sr.prototype.getSegmentIndex=function(){return this._segIndex},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Er.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Sr,Er);var jr=function(e){this._pts=e||null};jr.prototype.filter=function(e){e instanceof Ke&&this._pts.add(e)},jr.prototype.interfaces_=function(){return[Be]},jr.prototype.getClass=function(){return jr},jr.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof Ke?$t.singletonList(e):jr.getPoints(e,new Ce)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Ke?n.add(t):t instanceof Ge&&t.apply(new jr(n)),n}};var Tr=function(){this._locations=null;var e=arguments[0];this._locations=e};Tr.prototype.filter=function(e){(e instanceof Ke||e instanceof Xe||e instanceof $e)&&this._locations.add(new Sr(e,0,e.getCoordinate()))},Tr.prototype.interfaces_=function(){return[Be]},Tr.prototype.getClass=function(){return Tr},Tr.getLocations=function(e){var t=new Ce;return e.apply(new Tr(t)),t};var Mr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new xr,this._minDistanceLocation=null,this._minDistance=b.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=o}};Mr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=1-t,o=Cr.getPolygons(this._geom[t]);if(o.size()>0){var i=Tr.getLocations(this._geom[r]);if(this.computeContainmentDistance(i,o,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[t]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&M(arguments[0],Pe)&&M(arguments[1],Pe)){for(var a=arguments[0],s=arguments[1],l=arguments[2],c=0;c<a.size();c++)for(var u=a.get(c),p=0;p<s.size();p++)if(this.computeContainmentDistance(u,s.get(p),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Sr&&arguments[1]instanceof $e){var f=arguments[0],d=arguments[1],h=arguments[2],y=f.getCoordinate();if(j.EXTERIOR!==this._ptLocator.locate(y,d))return this._minDistance=0,h[0]=f,h[1]=new Sr(d,y),null}},Mr.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var o=e.get(r),i=0;i<t.size();i++){var a=t.get(i);if(this.computeMinDistance(o,a,n),this._minDistance<=this._terminateDistance)return null}},Mr.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Or.getLines(this._geom[0]),n=Or.getLines(this._geom[1]),r=jr.getPoints(this._geom[0]),o=jr.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,o,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,o,e),void this.updateMinDistance(e,!1))))},Mr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Mr.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},Mr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Mr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Xe&&arguments[1]instanceof Ke){var e=arguments[0],t=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this._minDistance)return null;for(var r=e.getCoordinates(),o=t.getCoordinate(),i=0;i<r.length-1;i++){var a=se.distancePointLine(o,r[i],r[i+1]);if(a<this._minDistance){this._minDistance=a;var s=new yn(r[i],r[i+1]).closestPoint(o);n[0]=new Sr(e,i,s),n[1]=new Sr(t,0,o)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Xe&&arguments[1]instanceof Xe){var l=arguments[0],c=arguments[1],u=arguments[2];if(l.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var p=l.getCoordinates(),f=c.getCoordinates(),d=0;d<p.length-1;d++)for(var h=0;h<f.length-1;h++){var y=se.distanceLineLine(p[d],p[d+1],f[h],f[h+1]);if(y<this._minDistance){this._minDistance=y;var g=new yn(p[d],p[d+1]),m=new yn(f[h],f[h+1]),v=g.closestPoints(m);u[0]=new Sr(l,d,v[0]),u[1]=new Sr(c,h,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Mr.prototype.computeMinDistancePoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var o=e.get(r),i=0;i<t.size();i++){var a=t.get(i),s=o.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Sr(o,0,o.getCoordinate()),n[1]=new Sr(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Mr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new v("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Mr.prototype.computeMinDistanceLines=function(e,t,n){for(var r=0;r<e.size();r++)for(var o=e.get(r),i=0;i<t.size();i++){var a=t.get(i);if(this.computeMinDistance(o,a,n),this._minDistance<=this._terminateDistance)return null}},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Mr.distance=function(e,t){return new Mr(e,t).distance()},Mr.isWithinDistance=function(e,t,n){return new Mr(e,t,n).distance()<=n},Mr.nearestPoints=function(e,t){return new Mr(e,t).nearestPoints()};var Ar=function(){this._pt=[new O,new O],this._distance=b.NaN,this._isNull=!0};Ar.prototype.getCoordinates=function(){return this._pt},Ar.prototype.getCoordinate=function(e){return this._pt[e]},Ar.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Ar.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},Ar.prototype.toString=function(){return Q.toLineString(this._pt[0],this._pt[1])},Ar.prototype.getDistance=function(){return this._distance},Ar.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar};var Ir=function(){};Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.computeDistance=function(){if(arguments[2]instanceof Ar&&arguments[0]instanceof Xe&&arguments[1]instanceof O)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new yn,o=e.getCoordinates(),i=0;i<o.length-1;i++){r.setCoordinates(o[i],o[i+1]);var a=r.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof Ar&&arguments[0]instanceof $e&&arguments[1]instanceof O){var s=arguments[0],l=arguments[1],c=arguments[2];Ir.computeDistance(s.getExteriorRing(),l,c);for(var u=0;u<s.getNumInteriorRing();u++)Ir.computeDistance(s.getInteriorRingN(u),l,c)}else if(arguments[2]instanceof Ar&&arguments[0]instanceof ue&&arguments[1]instanceof O){var p=arguments[0],f=arguments[1],d=arguments[2];if(p instanceof Xe)Ir.computeDistance(p,f,d);else if(p instanceof $e)Ir.computeDistance(p,f,d);else if(p instanceof Ge)for(var h=p,y=0;y<h.getNumGeometries();y++){var g=h.getGeometryN(y);Ir.computeDistance(g,f,d)}else d.setMinimum(p.getCoordinate(),f)}else if(arguments[2]instanceof Ar&&arguments[0]instanceof yn&&arguments[1]instanceof O){var m=arguments[1],v=arguments[2],b=arguments[0].closestPoint(m);v.setMinimum(b,m)}};var zr=function(){this._g0=null,this._g1=null,this._ptDist=new Ar,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},Dr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};zr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},zr.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new v("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},zr.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},zr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},zr.prototype.computeOrientedDistance=function(e,t,n){var r=new Nr(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var o=new Rr(t,this._densifyFrac);e.apply(o),n.setMaximum(o.getMaxPointDistance())}},zr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr},zr.distance=function(){if(2===arguments.length)return new zr(arguments[0],arguments[1]).distance();if(3===arguments.length){var e=arguments[2],t=new zr(arguments[0],arguments[1]);return t.setDensifyFraction(e),t.distance()}},Dr.MaxPointDistanceFilter.get=function(){return Nr},Dr.MaxDensifiedByFractionDistanceFilter.get=function(){return Rr},Object.defineProperties(zr,Dr);var Nr=function(){this._maxPtDist=new Ar,this._minPtDist=new Ar,this._euclideanDist=new Ir,this._geom=null;var e=arguments[0];this._geom=e};Nr.prototype.filter=function(e){this._minPtDist.initialize(),Ir.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Nr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nr.prototype.interfaces_=function(){return[de]},Nr.prototype.getClass=function(){return Nr};var Rr=function(){this._maxPtDist=new Ar,this._minPtDist=new Ar,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Rr.prototype.filter=function(e,t){if(0===t)return null;for(var n=e.getCoordinate(t-1),r=e.getCoordinate(t),o=(r.x-n.x)/this._numSubSegs,i=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*o,l=n.y+a*i,c=new O(s,l);this._minPtDist.initialize(),Ir.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Rr.prototype.isDone=function(){return!1},Rr.prototype.isGeometryChanged=function(){return!1},Rr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Rr.prototype.interfaces_=function(){return[Ve]},Rr.prototype.getClass=function(){return Rr};var kr=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},Lr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};kr.prototype.checkMaximumDistance=function(e,t,n){var r=new zr(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var o=r.getCoordinates();this._errorLocation=o[1],this._errorIndicator=e.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Q.toLineString(o[0],o[1])+")"}},kr.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=kr.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),kr.VERBOSE&&W.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},kr.prototype.checkNegativeValid=function(){if(!(this._input instanceof $e||this._input instanceof nt||this._input instanceof Ge))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},kr.prototype.getErrorIndicator=function(){return this._errorIndicator},kr.prototype.checkMinimumDistance=function(e,t,n){var r=new Mr(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var o=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Q.toLineString(o[0],o[1])+" )"}},kr.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},kr.prototype.getErrorLocation=function(){return this._errorLocation},kr.prototype.getPolygonLines=function(e){for(var t=new Ce,n=new Or(t),r=Cr.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},kr.prototype.getErrorMessage=function(){return this._errMsg},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr},Lr.VERBOSE.get=function(){return!1},Lr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(kr,Lr);var Fr=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},Br={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Fr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Fr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Fr.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new J(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new J(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Fr.prototype.checkDistance=function(){var e=new kr(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},Fr.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Fr.prototype.checkPolygonal=function(){this._result instanceof $e||this._result instanceof nt||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Fr.prototype.getErrorIndicator=function(){return this._errorIndicator},Fr.prototype.getErrorLocation=function(){return this._errorLocation},Fr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Fr.prototype.report=function(e){if(!Fr.VERBOSE)return null;W.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},Fr.prototype.getErrorMessage=function(){return this._errorMsg},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},Fr.isValidMsg=function(e,t,n){var r=new Fr(e,t,n);return r.isValid()?null:r.getErrorMessage()},Fr.isValid=function(e,t,n){return!!new Fr(e,t,n).isValid()},Br.VERBOSE.get=function(){return!1},Br.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fr,Br);var Vr=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Vr.prototype.getCoordinates=function(){return this._pts},Vr.prototype.size=function(){return this._pts.length},Vr.prototype.getCoordinate=function(e){return this._pts[e]},Vr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Vr.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:pn.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Vr.prototype.setData=function(e){this._data=e},Vr.prototype.getData=function(){return this._data},Vr.prototype.toString=function(){return Q.toLineString(new lt(this._pts))},Vr.prototype.interfaces_=function(){return[fn]},Vr.prototype.getClass=function(){return Vr};var Gr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Ce,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Gr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Gr.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},Gr.prototype.getIntersectionSegments=function(){return this._intSegments},Gr.prototype.count=function(){return this._intersectionCount},Gr.prototype.getIntersections=function(){return this._intersections},Gr.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Gr.prototype.setKeepIntersections=function(e){this._keepIntersections=e},Gr.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=i,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Gr.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},Gr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Gr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Gr.prototype.interfaces_=function(){return[Yn]},Gr.prototype.getClass=function(){return Gr},Gr.createAllIntersectionsFinder=function(e){var t=new Gr(e);return t.setFindAllIntersections(!0),t},Gr.createAnyIntersectionFinder=function(e){return new Gr(e)},Gr.createIntersectionCounter=function(e){var t=new Gr(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var Ur=function(){this._li=new oe,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};Ur.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Ur.prototype.getIntersections=function(){return this._segInt.getIntersections()},Ur.prototype.isValid=function(){return this.execute(),this._isValid},Ur.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Ur.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Gr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Pn;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Ur.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new jt(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Ur.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Q.toLineString(e[0],e[1])+" and "+Q.toLineString(e[2],e[3])},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.computeIntersections=function(e){var t=new Ur(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Wr=function e(){this._nv=null;var t=arguments[0];this._nv=new Ur(e.toSegmentStrings(t))};Wr.prototype.checkValid=function(){this._nv.checkValid()},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr},Wr.toSegmentStrings=function(e){for(var t=new Ce,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Vr(r.getCoordinates(),r))}return t},Wr.checkValid=function(e){new Wr(e).checkValid()};var Hr=function(e){this._mapOp=e};Hr.prototype.map=function(e){for(var t=new Ce,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(mt.toGeometryArray(t))},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr},Hr.map=function(e,t){return new Hr(t).map(e)};var Jr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Ce,this._resultLineList=new Ce;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};Jr.prototype.collectLines=function(e){for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next();this.collectLineEdge(n,e,this._lineEdgesList),this.collectBoundaryTouchEdge(n,e,this._lineEdgesList)}},Jr.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Jr.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Jr.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),o=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Eo.isResultOfOp(r,t)||o.isCovered()||(n.add(o),e.setVisitedEdge(!0)))},Jr.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var o=this._op.isCoveredByA(n.getCoordinate());r.setCovered(o)}}},Jr.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Jr.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Jr.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(te.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Eo.isResultOfOp(r,t)&&t===Eo.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr};var qr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Ce;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};qr.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},qr.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&e!==Eo.INTERSECTION)){var r=n.getLabel();Eo.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},qr.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr};var Yr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Yr.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Yr.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof tt&&!r.isEmpty()||(n=!1);for(var o=new Ce,i=0;i<e.getNumInteriorRing();i++){var a=this.transformLinearRing(e.getInteriorRingN(i),e);null===a||a.isEmpty()||(a instanceof tt||(n=!1),o.add(a))}if(n)return this._factory.createPolygon(r,o.toArray([]));var s=new Ce;return null!==r&&s.add(r),s.addAll(o),this._factory.buildGeometry(s)},Yr.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Yr.prototype.getInputGeometry=function(){return this._inputGeom},Yr.prototype.transformMultiLineString=function(e,t){for(var n=new Ce,r=0;r<e.getNumGeometries();r++){var o=this.transformLineString(e.getGeometryN(r),e);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Yr.prototype.transformCoordinates=function(e,t){return this.copy(e)},Yr.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Yr.prototype.transformMultiPoint=function(e,t){for(var n=new Ce,r=0;r<e.getNumGeometries();r++){var o=this.transformPoint(e.getGeometryN(r),e);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Yr.prototype.transformMultiPolygon=function(e,t){for(var n=new Ce,r=0;r<e.getNumGeometries();r++){var o=this.transformPolygon(e.getGeometryN(r),e);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Yr.prototype.copy=function(e){return e.copy()},Yr.prototype.transformGeometryCollection=function(e,t){for(var n=new Ce,r=0;r<e.getNumGeometries();r++){var o=this.transform(e.getGeometryN(r));null!==o&&(this._pruneEmptyGeometry&&o.isEmpty()||n.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(mt.toGeometryArray(n)):this._factory.buildGeometry(n)},Yr.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Ke)return this.transformPoint(e,null);if(e instanceof et)return this.transformMultiPoint(e,null);if(e instanceof tt)return this.transformLinearRing(e,null);if(e instanceof Xe)return this.transformLineString(e,null);if(e instanceof Ue)return this.transformMultiLineString(e,null);if(e instanceof $e)return this.transformPolygon(e,null);if(e instanceof nt)return this.transformMultiPolygon(e,null);if(e instanceof Ge)return this.transformGeometryCollection(e,null);throw new v("Unknown Geometry subtype: "+e.getClass().getName())},Yr.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Xr=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new yn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Xe&&"number"==typeof arguments[1]){var t=arguments[1];e.call(this,arguments[0].getCoordinates(),t)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=e.isClosed(n),this._snapTolerance=r}};Xr.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var o=e.get(r),i=this.findSnapForVertex(o,t);null!==i&&(e.set(r,new O(i)),0===r&&this._isClosed&&e.set(e.size()-1,new O(i)))}},Xr.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},Xr.prototype.snapTo=function(e){var t=new xe(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},Xr.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var o=t[r],i=this.findSegmentIndexToSnap(o,e);i>=0&&e.add(i+1,new O(o),!1)}},Xr.prototype.findSegmentIndexToSnap=function(e,t){for(var n=b.MAX_VALUE,r=-1,o=0;o<t.size()-1;o++){if(this._seg.p0=t.get(o),this._seg.p1=t.get(o+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e)){if(this._allowSnappingToSourceVertices)continue;return-1}var i=this._seg.distance(e);i<this._snapTolerance&&i<n&&(n=i,r=o)}return r},Xr.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Zr=function(e){this._srcGeom=e||null},Kr={SNAP_PRECISION_FACTOR:{configurable:!0}};Zr.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new Qr(t,n).transform(this._srcGeom)},Zr.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new Qr(e,n,!0).transform(this._srcGeom),o=r;return t&&M(o,Qe)&&(o=r.buffer(0)),o},Zr.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Zr.prototype.extractTargetCoordinates=function(e){for(var t=new d,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},Zr.prototype.computeMinimumSegmentLength=function(e){for(var t=b.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},Zr.snap=function(e,t,n){var r=new Array(2).fill(null),o=new Zr(e);r[0]=o.snapTo(t,n);var i=new Zr(t);return r[1]=i.snapTo(r[0],n),r},Zr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=Zr.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===dt.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var o=arguments[0],i=arguments[1];return Math.min(Zr.computeOverlaySnapTolerance(o),Zr.computeOverlaySnapTolerance(i))}},Zr.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*Zr.SNAP_PRECISION_FACTOR},Zr.snapToSelf=function(e,t,n){return new Zr(e).snapToSelf(t,n)},Kr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Zr,Kr);var Qr=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(e,t){var n=new Xr(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Yr),$r=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$r.prototype.getCommon=function(){return b.longBitsToDouble(this._commonBits)},$r.prototype.add=function(e){var t=b.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=$r.signExpBits(this._commonBits),this._isFirst=!1,null):$r.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$r.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=$r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$r.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=b.longBitsToDouble(e),n="0000000000000000000000000000000000000000000000000000000000000000"+b.toBinaryString(e),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+t+" ]"}},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.getBit=function(e,t){return e&1<<t?1:0},$r.signExpBits=function(e){return e>>52},$r.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},$r.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if($r.getBit(e,r)!==$r.getBit(t,r))return n;n++}return 52};var eo=function(){this._commonCoord=null,this._ccFilter=new no},to={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};eo.prototype.addCommonBits=function(e){var t=new ro(this._commonCoord);e.apply(t),e.geometryChanged()},eo.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new O(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new ro(t);return e.apply(n),e.geometryChanged(),e},eo.prototype.getCommonCoordinate=function(){return this._commonCoord},eo.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},eo.prototype.interfaces_=function(){return[]},eo.prototype.getClass=function(){return eo},to.CommonCoordinateFilter.get=function(){return no},to.Translater.get=function(){return ro},Object.defineProperties(eo,to);var no=function(){this._commonBitsX=new $r,this._commonBitsY=new $r};no.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},no.prototype.getCommonCoordinate=function(){return new O(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},no.prototype.interfaces_=function(){return[de]},no.prototype.getClass=function(){return no};var ro=function(){this.trans=null;var e=arguments[0];this.trans=e};ro.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},ro.prototype.isDone=function(){return!1},ro.prototype.isGeometryChanged=function(){return!0},ro.prototype.interfaces_=function(){return[Ve]},ro.prototype.getClass=function(){return ro};var oo=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};oo.prototype.selfSnap=function(e){return new Zr(e).snapTo(e,this._snapTolerance)},oo.prototype.removeCommonBits=function(e){this._cbr=new eo,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},oo.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},oo.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=Eo.overlayOp(t[0],t[1],e);return this.prepareResult(n)},oo.prototype.checkValid=function(e){e.isValid()||W.out.println("Snapped geometry is invalid")},oo.prototype.computeSnapTolerance=function(){this._snapTolerance=Zr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},oo.prototype.snap=function(e){var t=this.removeCommonBits(e);return Zr.snap(t[0],t[1],this._snapTolerance)},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},oo.overlayOp=function(e,t,n){return new oo(e,t).getResultGeometry(n)},oo.union=function(e,t){return oo.overlayOp(e,t,Eo.UNION)},oo.intersection=function(e,t){return oo.overlayOp(e,t,Eo.INTERSECTION)},oo.symDifference=function(e,t){return oo.overlayOp(e,t,Eo.SYMDIFFERENCE)},oo.difference=function(e,t){return oo.overlayOp(e,t,Eo.DIFFERENCE)};var io=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};io.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=Eo.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(e){if(!(e instanceof $))throw e;r=e}if(!n)try{t=oo.overlayOp(this._geom[0],this._geom[1],e)}catch(e){throw e instanceof $?r:e}return t},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},io.overlayOp=function(e,t,n){return new io(e,t).getResultGeometry(n)},io.union=function(e,t){return io.overlayOp(e,t,Eo.UNION)},io.intersection=function(e,t){return io.overlayOp(e,t,Eo.INTERSECTION)},io.symDifference=function(e,t){return io.overlayOp(e,t,Eo.SYMDIFFERENCE)},io.difference=function(e,t){return io.overlayOp(e,t,Eo.DIFFERENCE)};var ao=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};ao.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao};var so=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=o,this._obj=i}},lo={INSERT:{configurable:!0},DELETE:{configurable:!0}};so.prototype.isDelete=function(){return this._eventType===so.DELETE},so.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},so.prototype.getObject=function(){return this._obj},so.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},so.prototype.getInsertEvent=function(){return this._insertEvent},so.prototype.isInsert=function(){return this._eventType===so.INSERT},so.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},so.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},so.prototype.interfaces_=function(){return[w]},so.prototype.getClass=function(){return so},lo.INSERT.get=function(){return 1},lo.DELETE.get=function(){return 2},Object.defineProperties(so,lo);var co=function(){};co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var uo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};uo.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(uo.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var o=e.getNumPoints()-1;if(0===t&&r===o||0===r&&t===o)return!0}}return!1},uo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},uo.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},uo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},uo.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},uo.prototype.hasProperIntersection=function(){return this._hasProper},uo.prototype.hasIntersection=function(){return this._hasIntersection},uo.prototype.isDone=function(){return this._isDone},uo.prototype.isBoundaryPoint=function(e,t){return!(null===t||!this.isBoundaryPointInternal(e,t[0])&&!this.isBoundaryPointInternal(e,t[1]))},uo.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},uo.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},uo.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var po=function(e){function t(){e.call(this),this.events=new Ce,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){$t.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0;t<this.events.size();t++){var n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof uo&&M(arguments[0],Pe)&&M(arguments[1],Pe)){var r=arguments[0],o=arguments[1],i=arguments[2];this.addEdges(r,r),this.addEdges(o,o),this.computeIntersections(i)}else if("boolean"==typeof arguments[2]&&M(arguments[0],Pe)&&arguments[1]instanceof uo){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),o=0;o<r.length-1;o++){var i=new ao(n,o),a=new so(t,n.getMinX(o),i);this.events.add(a),this.events.add(new so(n.getMaxX(o),a))}},t.prototype.processOverlaps=function(e,t,n,r){for(var o=n.getObject(),i=e;i<t;i++){var a=this.events.get(i);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(o.computeIntersections(s,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.addEdge(t,t)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var o=r.next();this.addEdge(o,n)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(co),fo=function(){this._min=b.POSITIVE_INFINITY,this._max=b.NEGATIVE_INFINITY},ho={NodeComparator:{configurable:!0}};fo.prototype.getMin=function(){return this._min},fo.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},fo.prototype.getMax=function(){return this._max},fo.prototype.toString=function(){return Q.toLineString(new O(this._min,0),new O(this._max,0))},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo},ho.NodeComparator.get=function(){return yo},Object.defineProperties(fo,ho);var yo=function(){};yo.prototype.compare=function(e,t){var n=e,r=t,o=(n._min+n._max)/2,i=(r._min+r._max)/2;return o<i?-1:o>i?1:0},yo.prototype.interfaces_=function(){return[C]},yo.prototype.getClass=function(){return yo};var go=function(e){function t(){e.call(this),this._item=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._min=t,this._max=n,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(fo),mo=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[0],n=arguments[1];this._node1=t,this._node2=n,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(fo),vo=function(){this._leaves=new Ce,this._root=null,this._level=0};vo.prototype.buildTree=function(){$t.sort(this._leaves,new fo.NodeComparator);for(var e=this._leaves,t=null,n=new Ce;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},vo.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new go(e,t,n))},vo.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},vo.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},vo.prototype.printNode=function(e){W.out.println(Q.toLineString(new O(e._min,this._level),new O(e._max,this._level)))},vo.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},vo.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var o=new mo(e.get(n),e.get(n+1));t.add(o)}}},vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo};var bo=function(){this._items=new Ce};bo.prototype.visitItem=function(e){this._items.add(e)},bo.prototype.getItems=function(){return this._items},bo.prototype.interfaces_=function(){return[Xt]},bo.prototype.getClass=function(){return bo};var _o=function(){this._index=null;var e=arguments[0];if(!M(e,Qe))throw new v("Argument must be Polygonal");this._index=new Co(e)},wo={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_o.prototype.locate=function(e){var t=new ae(e),n=new Po(t);return this._index.query(e.y,e.y,n),t.getLocation()},_o.prototype.interfaces_=function(){return[Bn]},_o.prototype.getClass=function(){return _o},wo.SegmentVisitor.get=function(){return Po},wo.IntervalIndexedGeometry.get=function(){return Co},Object.defineProperties(_o,wo);var Po=function(){this._counter=null;var e=arguments[0];this._counter=e};Po.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},Po.prototype.interfaces_=function(){return[Xt]},Po.prototype.getClass=function(){return Po};var Co=function(){this._index=new vo;var e=arguments[0];this.init(e)};Co.prototype.init=function(e){for(var t=Or.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},Co.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new yn(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),o=Math.max(n.p0.y,n.p1.y);this._index.insert(r,o,n)}},Co.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new bo;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._index.query(r,o,i)}},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co};var Oo=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new ft,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new xr,2===arguments.length){var t=arguments[0],n=arguments[1],r=he.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];this._argIndex=o,this._parentGeom=i,this._boundaryNodeRule=a,null!==i&&this.add(i)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),o=1;r.getLocation(e,xt.ON)===j.BOUNDARY&&o++;var i=t.determineBoundary(this._boundaryNodeRule,o);r.setLocation(e,i)},t.prototype.computeSelfNodes=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],o=new uo(arguments[0],!0,!1);o.setIsDoneIfProperInt(r);var i=this.createEdgeSetIntersector(),a=this._parentGeom instanceof tt||this._parentGeom instanceof $e||this._parentGeom instanceof nt,s=n||!a;return i.computeIntersections(this._edges,o,s),this.addSelfIntersectionNodes(this._argIndex),o}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new uo(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Ke){var e=arguments[0].getCoordinate();this.insertPoint(this._argIndex,e,j.INTERIOR)}else if(arguments[0]instanceof O){var t=arguments[0];this.insertPoint(this._argIndex,t,j.INTERIOR)}},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),j.EXTERIOR,j.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,j.INTERIOR,j.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],j.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],j.BOUNDARY)},t.prototype.addLineString=function(e){var t=Se.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new nr(t,new It(this._argIndex,j.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),te.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var o=r.next();t[n++]=o.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===j.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=Se.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var o=t,i=n;se.isCCW(r)&&(o=n,i=t);var a=new nr(r,new It(this._argIndex,j.BOUNDARY,o,i));this._lineEdgeMap.put(e,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],j.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),o=r.getLabel();null===o?r._label=new It(e,n):o.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new po},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),o=n.eiList.iterator();o.hasNext();){var i=o.next();this.addSelfIntersectionNode(e,i.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof nt&&(this._useBoundaryDeterminationRule=!1),t instanceof $e)this.addPolygon(t);else if(t instanceof Xe)this.addLineString(t);else if(t instanceof Ke)this.addPoint(t);else if(t instanceof et)this.addCollection(t);else if(t instanceof Ue)this.addCollection(t);else if(t instanceof nt)this.addCollection(t);else{if(!(t instanceof Ge))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return M(this._parentGeom,Qe)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _o(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?j.BOUNDARY:j.INTERIOR},t}(Wt),xo=function(){if(this._li=new oe,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Oo(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=he.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Oo(0,t,r),this._arg[1]=new Oo(1,n,r)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];o.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Oo(0,o,a),this._arg[1]=new Oo(1,i,a)}};xo.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},xo.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var So=function(){};So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.map=function(){if(arguments[0]instanceof ue&&M(arguments[1],So.MapOp)){for(var e=arguments[0],t=arguments[1],n=new Ce,r=0;r<e.getNumGeometries();r++){var o=t.map(e.getGeometryN(r));null!==o&&n.add(o)}return e.getFactory().buildGeometry(n)}if(M(arguments[0],_e)&&M(arguments[1],So.MapOp)){for(var i=arguments[0],a=arguments[1],s=new Ce,l=i.iterator();l.hasNext();){var c=l.next(),u=a.map(c);null!==u&&s.add(u)}return s}},So.MapOp=function(){};var Eo=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n),this._ptLocator=new xr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new qn,this._resultPolyList=new Ce,this._resultLineList=new Ce,this._resultPointList=new Ce,this._graph=new Wt(new Hn),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new It(e.getLabel())).flip();var o=t.getDepth();o.isNull()&&o.add(n),o.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,o){var i=new Ce;return i.addAll(e),i.addAll(n),i.addAll(r),i.isEmpty()?t.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(i)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==j.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new Ce,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new Ce;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Wr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Ht(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Jr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var o=new qr(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),o=r.getLabel();o.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(o.getLocation(0,xt.RIGHT),o.getLocation(1,xt.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var o=0;o<2;o++)n.isNull(o)||!n.isArea()||r.isNull(o)||(0===r.getDelta(o)?n.toLine(o):(te.isTrue(!r.isNull(o,xt.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(o,xt.LEFT,r.getLocation(o,xt.LEFT)),te.isTrue(!r.isNull(o,xt.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(o,xt.RIGHT,r.getLocation(o,xt.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(xo);Eo.overlayOp=function(e,t,n){return new Eo(e,t).getResultGeometry(n)},Eo.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return Eo.createEmptyResult(Eo.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Hr.map(e,{interfaces_:function(){return[So.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),io.overlayOp(e,t,Eo.INTERSECTION)},Eo.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Eo.createEmptyResult(Eo.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),io.overlayOp(e,t,Eo.SYMDIFFERENCE)},Eo.resultDimension=function(e,t,n){var r=t.getDimension(),o=n.getDimension(),i=-1;switch(e){case Eo.INTERSECTION:i=Math.min(r,o);break;case Eo.UNION:i=Math.max(r,o);break;case Eo.DIFFERENCE:i=r;break;case Eo.SYMDIFFERENCE:i=Math.max(r,o)}return i},Eo.createEmptyResult=function(e,t,n,r){var o=null;switch(Eo.resultDimension(e,t,n)){case-1:o=r.createGeometryCollection(new Array(0).fill(null));break;case 0:o=r.createPoint();break;case 1:o=r.createLineString();break;case 2:o=r.createPolygon()}return o},Eo.difference=function(e,t){return e.isEmpty()?Eo.createEmptyResult(Eo.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),io.overlayOp(e,t,Eo.DIFFERENCE))},Eo.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return Eo.isResultOfOp(n,r,t)}if(3===arguments.length){var o=arguments[0],i=arguments[1];switch(o===j.BOUNDARY&&(o=j.INTERIOR),i===j.BOUNDARY&&(i=j.INTERIOR),arguments[2]){case Eo.INTERSECTION:return o===j.INTERIOR&&i===j.INTERIOR;case Eo.UNION:return o===j.INTERIOR||i===j.INTERIOR;case Eo.DIFFERENCE:return o===j.INTERIOR&&i!==j.INTERIOR;case Eo.SYMDIFFERENCE:return o===j.INTERIOR&&i!==j.INTERIOR||o!==j.INTERIOR&&i===j.INTERIOR}return!1}},Eo.INTERSECTION=1,Eo.UNION=2,Eo.DIFFERENCE=3,Eo.SYMDIFFERENCE=4;var jo=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new xr,this._seg=new yn;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};jo.prototype.isWithinToleranceOfBoundary=function(e){for(var t=0;t<this._linework.getNumGeometries();t++)for(var n=this._linework.getGeometryN(t).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(e)<=this._boundaryDistanceTolerance)return!0;return!1},jo.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?j.BOUNDARY:this._ptLocator.locate(e,this._g)},jo.prototype.extractLinework=function(e){var t=new To;e.apply(t);var n=t.getLinework(),r=mt.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo};var To=function(){this._linework=null,this._linework=new Ce};To.prototype.getLinework=function(){return this._linework},To.prototype.filter=function(e){if(e instanceof $e){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},To.prototype.interfaces_=function(){return[Be]},To.prototype.getClass=function(){return To};var Mo=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Mo.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),o=0;o<r.length-1;o++)this.computeOffsetPoints(r[o],r[o+1],t,n)},Mo.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},Mo.prototype.getPoints=function(e){for(var t=new Ce,n=Or.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},Mo.prototype.computeOffsetPoints=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=Math.sqrt(o*o+i*i),s=n*o/a,l=n*i/a,c=(t.x+e.x)/2,u=(t.y+e.y)/2;if(this._doLeft){var p=new O(c-l,u+s);r.add(p)}if(this._doRight){var f=new O(c+l,u-s);r.add(f)}},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo};var Ao=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new Ce;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new jo(this._geom[0],this._boundaryDistanceTolerance),new jo(this._geom[1],this._boundaryDistanceTolerance),new jo(this._geom[2],this._boundaryDistanceTolerance)]},Io={TOLERANCE:{configurable:!0}};Ao.prototype.reportResult=function(e,t,n){W.out.println("Overlay result invalid - A:"+j.toLocationSymbol(t[0])+" B:"+j.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+j.toLocationSymbol(t[2]))},Ao.prototype.isValid=function(e){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(e)},Ao.prototype.checkValid=function(){if(1===arguments.length){for(var e=arguments[0],t=0;t<this._testCoords.size();t++){var n=this._testCoords.get(t);if(!this.checkValid(e,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Ao.hasLocation(this._location,j.BOUNDARY)||this.isValidResult(r,this._location)}},Ao.prototype.addTestPts=function(e){var t=new Mo(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},Ao.prototype.isValidResult=function(e,t){var n=Eo.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===j.INTERIOR);return r||this.reportResult(e,t,n),r},Ao.prototype.getInvalidLocation=function(){return this._invalidLocation},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao},Ao.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},Ao.computeBoundaryDistanceTolerance=function(e,t){return Math.min(Zr.computeSizeBasedSnapTolerance(e),Zr.computeSizeBasedSnapTolerance(t))},Ao.isValid=function(e,t,n,r){return new Ao(e,t,r).isValid(n)},Io.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Ao,Io);var zo=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};zo.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},zo.prototype.combine=function(){for(var e=new Ce,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},zo.prototype.interfaces_=function(){return[]},zo.prototype.getClass=function(){return zo},zo.combine=function(){return 1===arguments.length?new zo(arguments[0]).combine():2===arguments.length?new zo(zo.createList(arguments[0],arguments[1])).combine():3===arguments.length?new zo(zo.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},zo.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},zo.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Ce;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=new Ce;return a.add(r),a.add(o),a.add(i),a}};var Do=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new Ce)},No={STRTREE_NODE_CAPACITY:{configurable:!0}};Do.prototype.reduceToGeometries=function(e){for(var t=new Ce,n=e.iterator();n.hasNext();){var r=n.next(),o=null;M(r,Pe)?o=this.unionTree(r):r instanceof ue&&(o=r),t.add(o)}return t},Do.prototype.extractByEnvelope=function(e,t,n){for(var r=new Ce,o=0;o<t.getNumGeometries();o++){var i=t.getGeometryN(o);i.getEnvelopeInternal().intersects(e)?r.add(i):n.add(i)}return this._geomFactory.buildGeometry(r)},Do.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return zo.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,o)},Do.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new an(Do.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},Do.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var o=Do.getGeometry(t,n);return this.unionSafe(o,null)}if(r-n==2)return this.unionSafe(Do.getGeometry(t,n),Do.getGeometry(t,n+1));var i=Math.trunc((r+n)/2),a=this.binaryUnion(t,n,i),s=this.binaryUnion(t,i,r);return this.unionSafe(a,s)}},Do.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},Do.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},Do.prototype.unionActual=function(e,t){return Do.restrictToPolygons(e.union(t))},Do.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},Do.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new Ce,o=this.extractByEnvelope(n,e,r),i=this.extractByEnvelope(n,t,r),a=this.unionActual(o,i);return r.add(a),zo.combine(r)},Do.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0];return e.get(0).getFactory().buildGeometry(e).buffer(0)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().createGeometryCollection([t,n]).buffer(0)}},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Do.restrictToPolygons=function(e){if(M(e,Qe))return e;var t=Cr.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(mt.toPolygonArray(t))},Do.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},Do.union=function(e){return new Do(e).union()},No.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Do,No);var Ro=function(){};Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro},Ro.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Eo.createEmptyResult(Eo.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),io.overlayOp(e,t,Eo.UNION)},e.GeoJSONReader=Ct,e.GeoJSONWriter=Ot,e.OverlayOp=Eo,e.UnionOp=Ro,e.BufferOp=yr,Object.defineProperty(e,"__esModule",{value:!0})}(t)},31364:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BDImageryProvider:()=>l});var r=n(97968);function o(e,t){this.x=e||0,this.y=t||0,this.x=this.x,this.y=this.y}function i(e,t){isNaN(e)&&(e=decode64(e),e=isNaN(e)?0:e),"string"==typeof e&&(e=parseFloat(e)),isNaN(t)&&(t=decode64(t),t=isNaN(t)?0:t),"lat"==typeof e&&(t=parseFloat(t)),this.lng=e,this.lat=t}function a(){}function s(e){e=e||{},this._ellipsoid=Cesium.defaultValue(e.ellipsoid,Cesium.Ellipsoid.WGS84);var t=!0;Cesium.defined(e.wgs84)&&(t=e.wgs84),this._projection=new Cesium.WebMercatorProjection(this._ellipsoid);var n=new a;this._projection.project=function(e){var o={};return t?(o=r.wgs84togcj02(Cesium.Math.toDegrees(e.longitude),Cesium.Math.toDegrees(e.latitude)),o=r.gcj02tobd09(o[0],o[1])):o=r.gcj02tobd09(Cesium.Math.toDegrees(e.longitude),Cesium.Math.toDegrees(e.latitude)),o[0]=Math.min(o[0],180),o[0]=Math.max(o[0],-180),o[1]=Math.min(o[1],74.000022),o[1]=Math.max(o[1],-71.988531),o=n.lngLatToPoint(new i(o[0],o[1])),new Cesium.Cartesian2(o.x,o.y)},this._projection.unproject=function(e){var o=n.mercatorToLngLat(new i(e.x,e.y));return o[0]=(o[0]+180)%360-180,t?(o=r.bd09togcj02(o.lng,o.lat),o=r.gcj02towgs84(o[0],o[1])):o=r.bd09togcj02(o.lng,o.lat),new Cesium.Cartographic(Cesium.Math.toRadians(o[0]),Cesium.Math.toRadians(o[1]))},this._rectangleSouthwestInMeters=new Cesium.Cartesian2(-20037726.37,-11708041.66),this._rectangleNortheastInMeters=new Cesium.Cartesian2(20037726.37,12474104.17);var o=this._projection.unproject(this._rectangleSouthwestInMeters),s=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new Cesium.Rectangle(o.longitude,o.latitude,s.longitude,s.latitude),this.levelWidth=[];for(var l=0;l<19;l++)this.levelWidth[l]=256*Math.pow(2,18-l)}function l(e){this._url=e.url||"http://online2.map.bdimg.com/onlinelabel/?qt=tile&styles=pl&x={x}&y={y}&z={z}",this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._tilingScheme=new s(e),this._credit=void 0,this._rectangle=this._tilingScheme.rectangle,this._ready=!0}o.prototype.equals=function(e){return e&&e.x==this.x&&e.y==this.y},i.isInRange=function(e){return e&&e.lng<=180&&e.lng>=-180&&e.lat<=74&&e.lat>=-74},i.prototype.equals=function(e){return e&&this.lat==e.lat&&this.lng==e.lng},a.EARTHRADIUS=6370996.81,a.MCBAND=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],a.LLBAND=[75,60,45,30,15,0],a.MC2LL=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],a.LL2MC=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],a.getDistanceByMC=function(e,t){return e&&t&&(e=this.convertMC2LL(e))?(n=this.toRadians(e.lng),r=this.toRadians(e.lat),(t=this.convertMC2LL(t))?(o=this.toRadians(t.lng),i=this.toRadians(t.lat),this.getDistance(n,o,r,i)):0):0;var n,r,o,i},a.getDistanceByLL=function(e,t){return e&&t?(e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74),n=this.toRadians(e.lng),o=this.toRadians(e.lat),r=this.toRadians(t.lng),i=this.toRadians(t.lat),this.getDistance(n,r,o,i)):0;var n,r,o,i},a.convertMC2LL=function(e){var t,n;t=new i(Math.abs(e.lng),Math.abs(e.lat));for(var r=0;r<this.MCBAND.length;r++)if(t.lat>=this.MCBAND[r]){n=this.MC2LL[r];break}var o=this.convertor(e,n);return new i(o.lng.toFixed(6),o.lat.toFixed(6))},a.convertLL2MC=function(e){var t,n;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t=new i(e.lng,e.lat);for(var r=0;r<this.LLBAND.length;r++)if(t.lat>=this.LLBAND[r]){n=this.LL2MC[r];break}if(!n)for(r=this.LLBAND.length-1;r>=0;r--)if(t.lat<=-this.LLBAND[r]){n=this.LL2MC[r];break}var o=this.convertor(e,n);return new i(o.lng.toFixed(2),o.lat.toFixed(2))},a.convertor=function(e,t){if(e&&t){var n=t[0]+t[1]*Math.abs(e.lng),r=Math.abs(e.lat)/t[9],o=t[2]+t[3]*r+t[4]*r*r+t[5]*r*r*r+t[6]*r*r*r*r+t[7]*r*r*r*r*r+t[8]*r*r*r*r*r*r;return new i(n*=e.lng<0?-1:1,o*=e.lat<0?-1:1)}},a.getDistance=function(e,t,n,r){return this.EARTHRADIUS*Math.acos(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(t-e))},a.toRadians=function(e){return Math.PI*e/180},a.toDegrees=function(e){return 180*e/Math.PI},a.getRange=function(e,t,n){return null!=t&&(e=Math.max(e,t)),null!=n&&(e=Math.min(e,n)),e},a.getLoop=function(e,t,n){for(;e>n;)e-=n-t;for(;e<t;)e+=n-t;return e},a.prototype.lngLatToMercator=function(e){return a.convertLL2MC(e)},a.prototype.lngLatToPoint=function(e){var t=a.convertLL2MC(e);return new o(t.lng,t.lat)},a.prototype.mercatorToLngLat=function(e){return a.convertMC2LL(e)},a.prototype.PointToLngLat=function(e){var t=new i(e.x,e.y);return a.convertMC2LL(t)},a.prototype.PointToPixel=function(e,t,n,r,i){if(e){e=this.lngLatToMercator(e,i);var a=this.getZoomUnits(t);return new o(Math.round((e.lng-n.lng)/a+r[Twidth]/2),Math.round((n.lat-e.lat)/a+r[Theight]/2))}},a.prototype.PixelToPoint=function(e,t,n,r,o){if(e){var a=this.getZoomUnits(t),s=new i(n.lng+a*(e.x-r[Twidth]/2),n.lat-a*(e.y-r[Theight]/2));return this.mercatorToLngLat(s,o)}},a.prototype.getZoomUnits=function(e){return Math.pow(2,18-e)},Cesium.defineProperties(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),s.prototype.getNumberOfXTilesAtLevel=function(e){return.7*(1<<e)},s.prototype.getNumberOfYTilesAtLevel=function(e){return 1<<e},s.prototype.rectangleToNativeRectangle=function(e,t){var n=this._projection,r=n.project(Cesium.Rectangle.southwest(e)),o=n.project(Cesium.Rectangle.northeast(e));return Cesium.defined(t)?(t.west=r.x,t.south=r.y,t.east=o.x,t.north=o.y,t):new Cesium.Rectangle(r.x,r.y,o.x,o.y)},s.prototype.tileXYToNativeRectangle=function(e,t,n,r){var o=this.levelWidth[n],i=e*o,a=(e+1)*o,s=(1+(t=-t))*o,l=t*o;return Cesium.defined(r)?(r.west=i,r.south=l,r.east=a,r.north=s,r):new Cesium.Rectangle(i,l,a,s)},s.prototype.tileXYToRectangle=function(e,t,n,r){var o=this.tileXYToNativeRectangle(e,t,n,r),i=this._projection,a=i.unproject(new Cesium.Cartesian2(o.west,o.south)),s=i.unproject(new Cesium.Cartesian2(o.east,o.north));return o.west=a.longitude,o.south=a.latitude,o.east=s.longitude,o.north=s.latitude,o},s.prototype.positionToTileXY=function(e,t,n){var r=this._rectangle;if(Cesium.Rectangle.contains(r,e)){var o=this._projection.project(e);if(Cesium.defined(o)){var i=this.levelWidth[t],a=Math.floor(o.x/i),s=-Math.floor(o.y/i);return Cesium.defined(Cesium.result)?(n.x=a,n.y=s,n):new Cesium.Cartesian2(a,s)}}},Cesium.defineProperties(l.prototype,{url:{get:function(){return this._url}},token:{get:function(){return this._token}},proxy:{get:function(){return this._proxy}},tileWidth:{get:function(){if(!this._ready)throw new DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 3}},tilingScheme:{get:function(){if(!this._ready)throw new DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new DeveloperError("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}}}),l.prototype.getTileCredits=function(e,t,n){},l.prototype.requestImage=function(e,t,n){if(!this._ready)throw new DeveloperError("requestImage must not be called before the imagery provider is ready.");var r=function(e,t,n,r){return e._url.replace("{x}",t).replace("{y}",-n).replace("{z}",r)}(this,e,t,n);return Cesium.ImageryProvider.loadImage(this,r)}},97968:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bd09togcj02:()=>s,gcj02tobd09:()=>l,gcj02towgs84:()=>u,wgs84togcj02:()=>c});var r=52.35987755982988,o=3.141592653589793,i=6378245,a=.006693421622965943,s=function(e,t){var n=(e=+e)-.0065,o=(t=+t)-.006,i=Math.sqrt(n*n+o*o)-2e-5*Math.sin(o*r),a=Math.atan2(o,n)-3e-6*Math.cos(n*r);return[i*Math.cos(a),i*Math.sin(a)]},l=function(e,t){t=+t,e=+e;var n=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*r),o=Math.atan2(t,e)+3e-6*Math.cos(e*r);return[n*Math.cos(o)+.0065,n*Math.sin(o)+.006]},c=function(e,t){if(d(e=+e,t=+t))return[e,t];var n=p(e-105,t-35),r=f(e-105,t-35),s=t/180*o,l=Math.sin(s);l=1-a*l*l;var c=Math.sqrt(l);return n=180*n/(i*(1-a)/(l*c)*o),[e+(r=180*r/(i/c*Math.cos(s)*o)),t+n]},u=function(e,t){if(d(e=+e,t=+t))return[e,t];var n=p(e-105,t-35),r=f(e-105,t-35),s=t/180*o,l=Math.sin(s);l=1-a*l*l;var c=Math.sqrt(l);return n=180*n/(i*(1-a)/(l*c)*o),[2*e-(e+(r=180*r/(i/c*Math.cos(s)*o))),2*t-(t+n)]},p=function(e,t){var n=2*(e=+e)-100+3*(t=+t)+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(n+=2*(20*Math.sin(t*o)+40*Math.sin(t/3*o))/3)+2*(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))/3},f=function(e,t){var n=300+(e=+e)+2*(t=+t)+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(n+=2*(20*Math.sin(e*o)+40*Math.sin(e/3*o))/3)+2*(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))/3},d=function(e,t){return t=+t,!((e=+e)>73.66&&e<135.05&&t>3.86&&t<53.55)}},97339:function(e,t,n){var r,o,i;i=function(){var e,t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},n=function(){var e=function(e){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)},n=t.defaultRadius;return e.prototype={_organiseData:function(e,t){var r=e[this._xField],o=e[this._yField],i=this._radi,a=this._data,s=this._max,l=this._min,c=e[this._valueField]||1,u=e.radius||this._cfgRadius||n;a[r]||(a[r]=[],i[r]=[]),a[r][o]?a[r][o]+=c:(a[r][o]=c,i[r][o]=u);var p=a[r][o];return p>s?(t?this.setDataMax(p):this._max=p,!1):p<l?(t?this.setDataMin(p):this._min=p,!1):{x:r,y:o,value:c,radius:u,min:l,max:s}},_unOrganizeData:function(){var e=[],t=this._data,n=this._radi;for(var r in t)for(var o in t[r])e.push({x:r,y:o,radius:n[r][o],value:t[r][o]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var e=arguments[0],t=e.length;t--;)this.addData.call(this,e[t]);else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(e){var t=e.data,n=t.length;this._data=[],this._radi=[];for(var r=0;r<n;r++)this._organiseData(t[r],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),r=function(){var e=function(e){var t=e.gradient||e.defaultGradient,n=document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;var o=r.createLinearGradient(0,0,256,1);for(var i in t)o.addColorStop(i,t[i]);return r.fillStyle=o,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data},t=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=e,i=e;if(n.width=n.height=2*e,1==t)r.beginPath(),r.arc(o,i,e,0,2*Math.PI,!1),r.fillStyle="rgba(0,0,0,1)",r.fill();else{var a=r.createRadialGradient(o,i,e*t,o,i,e);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=a,r.fillRect(0,0,2*e,2*e)}return n};function n(t){var n=t.container,r=this.shadowCanvas=document.createElement("canvas"),o=this.canvas=t.canvas||document.createElement("canvas"),i=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(t.container)||{});o.className="heatmap-canvas",this._width=o.width=r.width=t.width||+i.width.replace(/px/,""),this._height=o.height=r.height=t.height||+i.height.replace(/px/,""),this.shadowCtx=r.getContext("2d"),this.ctx=o.getContext("2d"),o.style.cssText=r.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(o),this._palette=e(t),this._templates={},this._setStyles(t)}return n.prototype={renderPartial:function(e){e.data.length>0&&(this._drawAlpha(e),this._colorize())},renderAll:function(e){this._clear(),e.data.length>0&&(this._drawAlpha(function(e){for(var t=[],n=e.min,r=e.max,o=e.radi,i=(e=e.data,Object.keys(e)),a=i.length;a--;)for(var s=i[a],l=Object.keys(e[s]),c=l.length;c--;){var u=l[c],p=e[s][u],f=o[s][u];t.push({x:s,y:u,value:p,radius:f})}return{min:n,max:r,data:t}}(e)),this._colorize())},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(e){e.gradient&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,t){this._width=e,this._height=t,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=t},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=e.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=e.height||this._height,this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){for(var n=this._min=e.min,r=this._max=e.max,o=(e=e.data||[]).length,i=1-this._blur;o--;){var a,s=e[o],l=s.x,c=s.y,u=s.radius,p=Math.min(s.value,r),f=l-u,d=c-u,h=this.shadowCtx;this._templates[u]=a=t(u,i);var y=(p-n)/(r-n);h.globalAlpha=y<.01?.01:y,h.drawImage(a,f,d),f<this._renderBoundaries[0]&&(this._renderBoundaries[0]=f),d<this._renderBoundaries[1]&&(this._renderBoundaries[1]=d),f+2*u>this._renderBoundaries[2]&&(this._renderBoundaries[2]=f+2*u),d+2*u>this._renderBoundaries[3]&&(this._renderBoundaries[3]=d+2*u)}},_colorize:function(){var e=this._renderBoundaries[0],t=this._renderBoundaries[1],n=this._renderBoundaries[2]-e,r=this._renderBoundaries[3]-t,o=this._width,i=this._height,a=this._opacity,s=this._maxOpacity,l=this._minOpacity,c=this._useGradientOpacity;e<0&&(e=0),t<0&&(t=0),e+n>o&&(n=o-e),t+r>i&&(r=i-t);for(var u=this.shadowCtx.getImageData(e,t,n,r),p=u.data,f=p.length,d=this._palette,h=3;h<f;h+=4){var y,g=p[h],m=4*g;m&&(y=a>0?a:g<s?g<l?l:g:s,p[h-3]=d[m],p[h-2]=d[m+1],p[h-1]=d[m+2],p[h]=c?d[m+3]:y)}u.data=p,this.ctx.putImageData(u,e,t),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var t=this.shadowCtx.getImageData(e.x,e.y,1,1).data[3],n=this._max,r=this._min;return Math.abs(n-r)*(t/255)|0},getDataURL:function(){return this.canvas.toDataURL()}},n}(),o=(e=!1,"canvas2d"===t.defaultRenderer&&(e=r),e),i=function(){for(var e={},t=arguments.length,n=0;n<t;n++){var r=arguments[n];for(var o in r)e[o]=r[o]}return e},a=function(){var e=function(){function e(){this.cStore={}}return e.prototype={on:function(e,t,n){var r=this.cStore;r[e]||(r[e]=[]),r[e].push((function(e){return t.call(n,e)}))},emit:function(e,t){var n=this.cStore;if(n[e])for(var r=n[e].length,o=0;o<r;o++)(0,n[e][o])(t)}},e}();function r(){var r,a,s,l,c=this._config=i(t,arguments[0]||{});if(this._coordinator=new e,c.plugin){var u=c.plugin;if(!t.plugins[u])throw new Error("Plugin '"+u+"' not found. Maybe it was not registered.");var p=t.plugins[u];this._renderer=new p.renderer(c),this._store=new p.store(c)}else this._renderer=new o(c),this._store=new n(c);a=(r=this)._renderer,s=r._coordinator,l=r._store,s.on("renderpartial",a.renderPartial,a),s.on("renderall",a.renderAll,a),s.on("extremachange",(function(e){r._config.onExtremaChange&&r._config.onExtremaChange({min:e.min,max:e.max,gradient:r._config.gradient||r._config.defaultGradient})})),l.setCoordinator(s)}return r.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=i(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},r}();return{create:function(e){return new a(e)},register:function(e,n){t.plugins[e]=n}}},e.exports?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)},86966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(81557);const o=r.Cartesian3,i=r.defaultValue,a=r.defined,s=r.destroyObject,l=r.Ellipsoid,c=r.EllipsoidGeometry,u=r.GeometryPipeline,p=r.Math,f=r.Matrix4,d=r.VertexFormat,h=r.BufferUsage,y=r.DrawCommand,g=r.RenderState,m=r.ShaderProgram,v=r.ShaderSource,b=r.VertexArray,_=r._shadersAtmosphereCommon,w=r._shadersSkyAtmosphereCommon,P=r._shadersSkyAtmosphereVS,C=r.Axis,O=r.BlendingState,x=r.CullFace,S=r.SceneMode,E=r.Transforms,j=r.Matrix3,T=r.DeveloperError,M=r.loadCubeMap,A=r.CubeMap;function I(e,t){e=i(e,l.WGS84),this.show=!0,this.sources=t,this.perFragmentAtmosphere=!1,this._ellipsoid=e;const n=o.multiplyByScalar(e.radii,1.025,new o);this._scaleMatrix=f.fromScale(n),this._modelMatrix=new f,this._command=new y({owner:this,modelMatrix:this._modelMatrix}),this._spSkyFromSpace=void 0,this._spSkyFromAtmosphere=void 0,this._flags=void 0,this.atmosphereLightIntensity=50,this.atmosphereRayleighCoefficient=new o(55e-7,13e-6,284e-7),this.atmosphereMieCoefficient=new o(21e-6,21e-6,21e-6),this.atmosphereRayleighScaleHeight=1e4,this.atmosphereMieScaleHeight=3200,this.atmosphereMieAnisotropy=.9,this.hueShift=0,this.saturationShift=0,this.brightnessShift=0,this._hueSaturationBrightness=new o;const r=new o;r.x=1.025*e.maximumRadius,r.y=e.maximumRadius,r.z=0,this._radiiAndDynamicAtmosphereColor=r;const a=this;this._command.uniformMap={u_radiiAndDynamicAtmosphereColor:function(){return a._radiiAndDynamicAtmosphereColor},u_hsbShift:function(){return a._hueSaturationBrightness.x=a.hueShift,a._hueSaturationBrightness.y=a.saturationShift,a._hueSaturationBrightness.z=a.brightnessShift,a._hueSaturationBrightness},u_atmosphereLightIntensity:function(){return a.atmosphereLightIntensity},u_atmosphereRayleighCoefficient:function(){return a.atmosphereRayleighCoefficient},u_atmosphereMieCoefficient:function(){return a.atmosphereMieCoefficient},u_atmosphereRayleighScaleHeight:function(){return a.atmosphereRayleighScaleHeight},u_atmosphereMieScaleHeight:function(){return a.atmosphereMieScaleHeight},u_atmosphereMieAnisotropy:function(){return a.atmosphereMieAnisotropy},u_rotateMatrix:function(){return a._scratchRoateMatrix=a._scratchRoateMatrix||new j,f.getMatrix3(a._eunMatrix||f.IDENTITY,a._scratchRoateMatrix)},u_cubeMap:function(){return a._cubeMap}}}Object.defineProperties(I.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),I.prototype.setDynamicLighting=function(e){this._radiiAndDynamicAtmosphereColor.z=e};const z=new f;I.prototype.update=function(e,t){if(!this.show)return;const n=e.mode;if(n!==S.SCENE3D&&n!==S.MORPHING)return;if(!e.passes.render)return;if(this._sources!==this.sources){const t=e.context;var r=this;this._sources=this.sources;var i=this.sources;if(!(a(i.positiveX)&&a(i.negativeX)&&a(i.positiveY)&&a(i.negativeY)&&a(i.positiveZ)&&a(i.negativeZ)))throw new T("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");if(typeof i.positiveX!=typeof i.negativeX||typeof i.positiveX!=typeof i.positiveY||typeof i.positiveX!=typeof i.negativeY||typeof i.positiveX!=typeof i.positiveZ||typeof i.positiveX!=typeof i.negativeZ)throw new T("this.sources properties must all be the same type.");"string"==typeof i.positiveX?M(t,this._sources).then((function(e){r._cubeMap=r._cubeMap&&r._cubeMap.destroy(),r._cubeMap=e})):(this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),this._cubeMap=new A({context:t,source:i}))}const s=f.fromRotationTranslation(e.context.uniformState.inverseViewRotation,o.ZERO,z),l=f.multiplyTransformation(s,C.Y_UP_TO_Z_UP,z),y=f.multiply(this._scaleMatrix,l,z);f.clone(y,this._modelMatrix);const j=e.context,I=(D=this,!(p.equalsEpsilon(D.hueShift,0,p.EPSILON7)&&p.equalsEpsilon(D.saturationShift,0,p.EPSILON7)&&p.equalsEpsilon(D.brightnessShift,0,p.EPSILON7)));var D;const N=e.globeTranslucencyState.translucent,R=this.perFragmentAtmosphere||N||!a(t)||!t.show,k=this._command;if(E.eastUpNorthToFixedFrame=E.eastUpNorthToFixedFrame||E.localFrameToFixedFrameGenerator("east","up"),this._eunMatrix=E.eastUpNorthToFixedFrame(e.camera._positionWC,void 0,this._eunMatrix),!a(k.vertexArray)){const e=c.createGeometry(new c({radii:new o(1,1,1),slicePartitions:256,stackPartitions:256,vertexFormat:d.POSITION_ONLY}));k.vertexArray=b.fromGeometry({context:j,geometry:e,attributeLocations:u.createAttributeLocations(e),bufferUsage:h.STATIC_DRAW}),k.renderState=g.fromCache({cull:{enabled:!0,face:x.FRONT},blending:O.ALPHA_BLEND,depthMask:!1})}const L=I|R<<2|N<<3;if(L!==this._flags){this._flags=L;const e=[];I&&e.push("COLOR_CORRECT"),R&&e.push("PER_FRAGMENT_ATMOSPHERE"),N&&e.push("GLOBE_TRANSLUCENT");const t=new v({defines:e,sources:[_,w,P]}),n=new v({defines:e,sources:[_,w,"in vec3 v_outerPositionWC;\n\nuniform vec3 u_hsbShift;\n\n#ifndef PER_FRAGMENT_ATMOSPHERE\nin vec3 v_mieColor;\nin vec3 v_rayleighColor;\nin float v_opacity;\nin float v_translucent;\n#endif\n\nuniform samplerCube u_cubeMap; // vtxf \nuniform mat3 u_rotateMatrix; // vtxf\n\nvoid main (void)\n{\n    float lightEnum = u_radiiAndDynamicAtmosphereColor.z;\n    vec3 lightDirection = czm_getDynamicAtmosphereLightDirection(v_outerPositionWC, lightEnum);\n   \n    vec3 mieColor;\n    vec3 rayleighColor;\n    float opacity;\n    float translucent;\n\n    #ifdef PER_FRAGMENT_ATMOSPHERE\n        computeAtmosphereScattering(\n            v_outerPositionWC,\n            lightDirection,\n            rayleighColor,\n            mieColor,\n            opacity,\n            translucent\n        );\n    #else\n        mieColor = v_mieColor;\n        rayleighColor = v_rayleighColor;\n        opacity = v_opacity;\n        translucent = v_translucent;\n    #endif\n\n    vec4 color = computeAtmosphereColor(v_outerPositionWC, lightDirection, rayleighColor, mieColor, opacity);\n\n    #ifndef HDR\n        color.rgb = czm_acesTonemapping(color.rgb);\n        color.rgb = czm_inverseGamma(color.rgb);\n    #endif\n\n    #ifdef COLOR_CORRECT\n        // Convert rgb color to hsb\n        vec3 hsb = czm_RGBToHSB(color.rgb);\n        // Perform hsb shift\n        hsb.x += u_hsbShift.x; // hue\n        hsb.y = clamp(hsb.y + u_hsbShift.y, 0.0, 1.0); // saturation\n        hsb.z = hsb.z > czm_epsilon7 ? hsb.z + u_hsbShift.z : 0.0; // brightness\n        // Convert shifted hsb back to rgb\n        color.rgb = czm_HSBToRGB(hsb);\n    #endif\n\n    // For the parts of the sky atmosphere that are not behind a translucent globe,\n    // we mix in the default opacity so that the sky atmosphere still appears at distance.\n    // This is needed because the opacity in the sky atmosphere is initially adjusted based\n    // on the camera height.\n    if (translucent == 0.0) {\n        color.a = mix(color.b, 1.0, color.a) * smoothstep(0.0, 1.0, czm_morphTime);\n    }\n\n    // out_FragColor = color; // vtxf \n    // ------------------ skybox vtxf begin -------------------\n    vec4 positionEC = czm_windowToEyeCoordinates(gl_FragCoord);\n    vec3 me = positionEC.xyz * czm_viewRotation * u_rotateMatrix;\n    // webgl2需要将 textureCube -> texture \n    vec4 skyBoxColor = texture(u_cubeMap, normalize(vec3(me.x, -me.yz)));\n\n    float skyBoxAlpha = 1.0 - clamp((czm_eyeHeight - 2000.0) / (5000.0 - 2000.0), 0.0, 1.0);\n    color.rgb = color.rgb * (1.0 - skyBoxAlpha) + skyBoxColor.rgb * (skyBoxAlpha);\n    color.a = color.a;\n    out_FragColor = color;\n    // ------------------ skybox vtxf end -------------------\n}\n"]});this._spSkyAtmosphere=m.fromCache({context:j,vertexShaderSource:t,fragmentShaderSource:n}),k.shaderProgram=this._spSkyAtmosphere}return a(this._cubeMap)?k:void 0},I.prototype.isDestroyed=function(){return!1},I.prototype.destroy=function(){const e=this._command;return e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),this._spSkyAtmosphere=this._spSkyAtmosphere&&this._spSkyAtmosphere.destroy(),this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),s(this)};const D=I},35648:(e,t,n)=>{"use strict";async function r(e,t){const n=new Cesium.Viewer(e,{animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,scene3DOnly:!0,msaaSamples:t.msaaSamples});return n.imageryLayers.removeAll(),n.extend(Cesium.viewerCesiumInspectorMixin),n.cesiumInspector.container.style.display="none",n.extend(Cesium.viewerCesium3DTilesInspectorMixin),n.cesium3DTilesInspector.container.style.display="none",n.cesium3DTilesInspector.viewModel.picking=!1,n.clock.currentTime=Cesium.JulianDate.fromDate(new Date("2022-04-19T20:00:53.10067292911116965Z")),n.scene.screenSpaceCameraController.lookEventTypes=[{eventType:Cesium.CameraEventType.RIGHT_DRAG}],n.scene.screenSpaceCameraController.zoomEventTypes=[Cesium.CameraEventType.WHEEL,Cesium.CameraEventType.PINCH,{eventType:Cesium.CameraEventType.RIGHT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}],n.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),n.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),n._cesiumWidget._creditContainer.style.display="none",n}n.r(t),n.d(t,{defaultCreateCesiumViewerFunc:()=>r})},58753:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(r="".concat("vtxf-xe2","/").concat(n.j))&&void 0!==r?r:"-",i="vtxf-xe2",a=((Date.now()-1730881671e3)/36e5).toFixed(1),s="%c🌏 ".concat(o,"%c ").concat("0.2.52",".").concat("e47d74fc8cafbd49cd467d1f7fe26432a23a17a2".slice(0,8),".").concat("2024-11-06T08:27:51.000Z"," (距今").concat(a,"个小时)\n%c").concat(i?i+"\n":"","当前网站正在使用").concat(o,"，此软件版权归").concat("beijing jinfei technology co.,ltd","所有\n");t.copyright=Object.seal({get owner(){return"beijing jinfei technology co.,ltd"},get ownerlink(){return""},get gituri(){return""},get info(){return s},get date(){return"2024-11-06T08:27:51.000Z"},get author(){return"vtxf"},get version(){return"0.2.52"},get name(){return"vtxf-xe2"},get commitId(){return"e47d74fc8cafbd49cd467d1f7fe26432a23a17a2"},print:function(e){void 0===e&&(e=!1),!e&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},33804:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AbsoluteClippingPlaneCollectionUpdating=void 0;var l=n(51355),c=n(59645),u=s(n(81557)),p=n(44147),f=function(e){function t(t,n,r){var o=e.call(this)||this;o._tileset=t,o._czmCzm3DTiles=n,o._updateMatrixEvent=r;var i=o,a=i.tileset,s=i.czmCzm3DTiles,l=s.sceneObject,f=function(){var e,t=u.Matrix4.multiply(a.modelMatrix,a._root.transform,new u.Matrix4),n=u.Matrix4.inverseTransformation(t,new u.Matrix4);a.clippingPlanes?(0,p.setClippingPlaneCollection)(a.clippingPlanes,l.clippingPlanes,n):a.clippingPlanes=(0,p.createClippingPlaneCollection)(null!==(e=l.clippingPlanes)&&void 0!==e?e:{enabled:!1},n)};f();var d=o.disposeVar((0,c.createNextAnimateFrameEvent)(l.clippingPlanesChanged,s.originRootTransformInvChanged,o._updateMatrixEvent));return o.dispose(d.disposableOn(f)),o}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.AbsoluteClippingPlaneCollectionUpdating=f},59579:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Czm3DTilesFlattenedPlaneResetting=void 0;var u=n(51355),p=s(n(81557)),f=n(93442),d=n(73194),h=function(e){function t(t,n){var r=e.call(this)||this;r._nativeTilesetReadyResetting=t,r._czmFlattenedPlane=n;var o=r.tileset;r.setFlattened(!0),r.dispose((function(){r.setFlattened(!1)})),(i=function(){var e=r._czmFlattenedPlane.finalMatrix?p.Matrix4.toArray(r._czmFlattenedPlane.finalMatrix):[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];r.setElevationMatrix(e)})(),r.dispose(r._czmFlattenedPlane.finalMatrixChanged.disposableOn(i)),(i=function(){var e=c(c([],l(r._czmFlattenedPlane.minSize),!1),l(r._czmFlattenedPlane.maxSize),!1);r.setFlattenedBound(e)})();var i,a=r.disposeVar((0,u.createNextAnimateFrameEvent)(r._czmFlattenedPlane.minSizeChanged,r._czmFlattenedPlane.maxSizeChanged));return r.dispose(a.disposableOn(i)),o.xbsjGetFlattenedTextureFunc=function(){var e=r._czmFlattenedPlane.czmTextureWithId.sceneObject;if(e&&e instanceof f.CzmTexture){var t=e,n=r.czmCzm3DTiles.czmViewer.getCzmObject(t);if(n&&n instanceof d.CzmCzmTexture&&n.texture)return n.texture}},r.dispose((function(){return o.xbsjGetFlattenedTextureFunc=void 0})),(i=function(){var e=r._czmFlattenedPlane.computedCustomShader;r._nativeTilesetReadyResetting.flattenedCustomShader=e&&new e(r.czm3DTiles,r.czmCzm3DTiles.czmViewer)})(),r.dispose(r._czmFlattenedPlane.computedCustomShaderChanged.disposableOn(i)),r.dispose((function(){return r._nativeTilesetReadyResetting.flattenedCustomShader=void 0})),r}return o(t,e),Object.defineProperty(t.prototype,"czm3DTiles",{get:function(){return this._nativeTilesetReadyResetting.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._nativeTilesetReadyResetting.czmCzm3DTiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._nativeTilesetReadyResetting.tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmFlattenedPlane",{get:function(){return this._czmFlattenedPlane},enumerable:!1,configurable:!0}),t.prototype.setFlattened=function(e){this.tileset.xbsjFlattened=e},t.prototype.setFlattenedBound=function(e){this.tileset.xbsjFlattenedBound=p.Cartesian4.fromArray(e)},t.prototype.setElevationMatrix=function(e){this.tileset.xbsjElevationMatrix=p.Matrix4.fromArray(e)},t}(u.Destroyable);t.Czm3DTilesFlattenedPlaneResetting=h},52917:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzm3DTiles=void 0;var s=n(80468),l=n(51355),c=n(59645),u=n(58354),p=n(93442),f=n(30593),d=n(79289),h=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._customShaderInstance=r.disposeVar((0,l.react)(void 0)),r._originRootTransform=r.disposeVar((0,l.react)(void 0)),r._originRootTransformInv=r.disposeVar((0,l.react)(void 0)),r._urlReact=r.disposeVar(c.SceneObject.context.createEvnStrReact([r.sceneObject,"url"])),r._recreateEvent=r.disposeVar(c.createNextAnimateFrameEvent.apply(void 0,a([r._urlReact.changed],i((0,f.getRecreateEvents)(r.sceneObject)),!1))),r._nativeTilesetResetting=r.disposeVar(new c.ObjResettingWithEvent(r._recreateEvent,(function(){var e=r._urlReact.value;if(e)return new d.NativeTilesetResetting(e,r,r.czmViewer.viewer,r.czmViewer)}))),n.viewer?(0,u.getViewerExtensions)(n.viewer)?((0,s.registerEventUpdate)(r,t.customShaderInstanceClassChanged,(function(){var e=t.customShaderInstanceClass;r.customShaderInstance=e&&new e(t,n)})),r.dispose(t.updateCustomShaderEvent.disposableOn((function(e){r.customShaderInstance&&e(r.customShaderInstance,t,n)}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){if(e){var n=e.czmPickResult;n&&t.allowPicking&&r.tileset&&n.primitive===r.tileset&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}}))),r):r:(console.warn("viewer is undefined!"),r)}var n;return o(t,e),Object.defineProperty(t.prototype,"customShaderInstance",{get:function(){return this._customShaderInstance.value},set:function(e){this._customShaderInstance.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShaderInstanceChanged",{get:function(){return this._customShaderInstance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransform",{get:function(){return this._originRootTransform.value},set:function(e){this._originRootTransform.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransformChanged",{get:function(){return this._originRootTransform.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransformInv",{get:function(){return this._originRootTransformInv.value},set:function(e){this._originRootTransformInv.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransformInvChanged",{get:function(){return this._originRootTransformInv.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeTilesetResetting",{get:function(){return this._nativeTilesetResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileset",{get:function(){var e;return null===(e=this.nativeTilesetResetting.obj)||void 0===e?void 0:e.tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilesetChanged",{get:function(){return this.nativeTilesetResetting.objChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(p.Czm3DTiles.type,n),t}(u.CzmObject);t.CzmCzm3DTiles=h},12086:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTilesetReadyResetting=void 0;var u=n(80468),p=n(51355),f=n(59645),d=s(n(81557)),h=n(33804),y=n(59579),g=n(90715),m=n(6143),v=n(2446),b=n(42906),_=n(66030),w=n(14794),P=n(84811),C=function(e){function t(t,n,r,o){var i=e.call(this)||this;i._tileset=t,i._czmCzm3DTiles=n,i._czmNativeViewer=r,i._czmViewer=o,i._updateMatrixEvent=i.disposeVar((0,f.createNextAnimateFrameEvent)(i.sceneObject.positionChanged,i.sceneObject.rotationChanged,i.sceneObject.modelMatrixChanged)),i._updateMatrix=((0,v.updateModelMatrix)(i.tileset,i.czmCzm3DTiles),void i.dispose(i._updateMatrixEvent.disposableOn((function(){return(0,v.updateModelMatrix)(i.tileset,i.czmCzm3DTiles)})))),i._clippingPlanesCollectionResetting=i.disposeVar(new f.ObjResettingWithEvent(i.sceneObject.absoluteClippingPlanesChanged,(function(){return i.sceneObject.absoluteClippingPlanes?new h.AbsoluteClippingPlaneCollectionUpdating(i.tileset,i.czmCzm3DTiles,i._updateMatrixEvent):new g.RelativeClippingPlaneCollectionUpdating(i.tileset,i.czmCzm3DTiles)}))),i._flattenedCustomShader=i.disposeVar((0,p.react)(void 0)),i._czmFlattenedPlaneIdResetting=i.disposeVar(new f.ObjResettingWithEvent(i.sceneObject.czmFlattenedPlaneWithId.sceneObjectChanged,(function(){var e=i.sceneObject.czmFlattenedPlaneWithId.sceneObject;if(e)return new y.Czm3DTilesFlattenedPlaneResetting(i,e)}))),i._styleControl=i.disposeVar(new P.StyleControl(i.tileset,i.czmCzm3DTiles));var a=i,s=a.sceneObject,C=a.tileset,O=a.czmCzm3DTiles;C._vtxfCzmObj=O;var x=i.disposeVar(f.createNextAnimateFrameEvent.apply(void 0,c([],l((0,m.getSimpleUpdateEvents)(s)),!1)));(0,u.registerEventUpdate)(i,x,(function(){(0,b.updateSimpleProps)(C,s)})),(0,u.registerEventUpdate)(i,s.foveatedInterpolationCallbackChanged,(function(){C.foveatedInterpolationCallback=s.foveatedInterpolationCallback})),(0,u.registerEventUpdate)(i,s.pointCloudShadingChanged,(function(){!function(e,t){console.warn("Czm3DTiles暂不支持pointCloudShading属性"),e.pointCloudShading=new d.PointCloudShading(t.pointCloudShading)}(C,s)})),(0,u.registerEventUpdate)(i,s.imageBasedLightingChanged,(function(){!function(e,t){var n,r,o,i,a,s;e.imageBasedLighting.imageBasedLightingFactor=(0,_.toCartesian2)(null!==(r=null===(n=t.imageBasedLighting)||void 0===n?void 0:n.imageBasedLightingFactor)&&void 0!==r?r:[1,1]),e.imageBasedLighting.luminanceAtZenith=null!==(i=null===(o=t.imageBasedLighting)||void 0===o?void 0:o.luminanceAtZenith)&&void 0!==i?i:.2,e.imageBasedLighting.specularEnvironmentMaps=null===(a=t.imageBasedLighting)||void 0===a?void 0:a.specularEnvironmentMaps;var l=null===(s=t.imageBasedLighting)||void 0===s?void 0:s.sphericalHarmonicCoefficients;e.imageBasedLighting.sphericalHarmonicCoefficients=l&&(0,w.toCoefficients)(l)}(C,s)}));var S=function(){var e,t;if(i.flattenedCustomShader)return C.customShader=null===(e=i.flattenedCustomShader)||void 0===e?void 0:e.customShader,void(O.customShaderInstance&&console.warn("压平shader和Czm3DTiles的customShader冲突，优先使用压平shader！"));C.customShader=null===(t=O.customShaderInstance)||void 0===t?void 0:t.customShader};S();var E=i.disposeVar((0,f.createNextAnimateFrameEvent)(O.customShaderInstanceChanged,i.flattenedCustomShaderChanged));return i.dispose(E.disposableOn(S)),i.dispose(s.flyToEvent.disposableOn((function(e){O.czmViewer.actived&&i.tileset&&i._czmNativeViewer.camera.flyToBoundingSphere(i.tileset.boundingSphere,{duration:(null!=e?e:1e3)/1e3})}))),i}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmCzm3DTiles.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clippingPlanesCollectionResetting",{get:function(){return this._clippingPlanesCollectionResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flattenedCustomShader",{get:function(){return this._flattenedCustomShader.value},set:function(e){this._flattenedCustomShader.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flattenedCustomShaderChanged",{get:function(){return this._flattenedCustomShader.changed},enumerable:!1,configurable:!0}),t}(p.Destroyable);t.NativeTilesetReadyResetting=C},79289:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTilesetResetting=void 0;var s=n(51355),l=n(59645),c=n(72325),u=n(12086),p=function(e){function t(t,n,r,o){var p,f=this;if((f=e.call(this)||this)._url=t,f._czmCzm3DTiles=n,f._czmNativeViewer=r,f._czmViewer=o,f._tileset=f.disposeVar((0,s.react)(void 0)),f._readyResetting=f.disposeVar(new l.ObjResettingWithEvent(f.tilesetChanged,(function(){if(f.tileset)return new u.NativeTilesetReadyResetting(f.tileset,f.czmCzm3DTiles,f._czmNativeViewer,f._czmViewer)}))),!f.url)throw new Error("!url");var d=null===(p=f.czmCzm3DTiles.customShaderInstance)||void 0===p?void 0:p.customShader,h=f.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e){return i(f,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){switch(r.label){case 0:return[4,e.promise((0,c.createCzm3DTiles)(this.sceneObject,this.url,d))];case 1:return(t=r.sent())?(t.foveatedInterpolationCallback=this.sceneObject.foveatedInterpolationCallback,this._czmNativeViewer.scene.primitives.add(t),this.dispose((function(){return n._czmNativeViewer.scene.primitives.remove(t)})),this._tileset.value=t,this.sceneObject.notifyCzmTilesetReady(t,this.czmCzm3DTiles),[2]):[2]}}))}))})));return h.start(),f}return o(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmCzm3DTiles.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmCzm3DTiles.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset.value},set:function(e){this._tileset.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilesetChanged",{get:function(){return this._tileset.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyResetting",{get:function(){return this._readyResetting},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.NativeTilesetResetting=p},90715:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeClippingPlaneCollectionUpdating=void 0;var i=n(51355),a=n(44147),s=function(e){function t(t,n){var r=e.call(this)||this;r._tileset=t,r._czmCzm3DTiles=n;var o=r,i=o.tileset,s=o.czmCzm3DTiles.sceneObject,l=function(){var e;i.clippingPlanes?(0,a.setClippingPlaneCollection)(i.clippingPlanes,s.clippingPlanes):i.clippingPlanes=(0,a.createClippingPlaneCollection)(null!==(e=s.clippingPlanes)&&void 0!==e?e:{enabled:!1})};return l(),r.dispose(s.clippingPlanesChanged.disposableOn(l)),r}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.RelativeClippingPlaneCollectionUpdating=s},84811:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleControl=void 0;var c=n(51355),u=n(59645),p=s(n(81557)),f=n(6330),d=function(e){function t(t,n){var r=e.call(this)||this;r._tileset=t,r._czmCzmObj=n;var o=r.czmCzmObj.sceneObject,i=function(){r._tileset.style=(0,f.getStyleFromJson)(o.styleJson),r._tileset.makeStyleDirty()};return i(),r.dispose(o.styleJsonChanged.disposableOn(i)),r}return o(t,e),Object.defineProperty(t.prototype,"czmCzmObj",{get:function(){return this._czmCzmObj},enumerable:!1,configurable:!0}),t}(c.Destroyable),h=function(e){function t(t,n){var r=e.call(this)||this;r._tileset=t,r._czmCzmObj=n;var o=r.sceneObject,i=new p.Cesium3DTileStyle(o.styleJson);r._tileset.style=i;var a,s=void 0;return i.color={evaluateColor:function(e,t){var n,r;t=t||new p.Color(1,1,1,1),s&&s.color&&(t=s.color.evaluateColor(e,t));var i=o.styles;try{for(var a=l(i),c=a.next();!c.done;c=a.next()){var u=c.value;u.color&&(t=u.color.evaluateColor(e,t))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return t}},i.show={evaluate:function(e){var t,n,r=!0;s&&s.show&&(r=r&&!!s.show.evaluate(e));var i=o.styles;try{for(var a=l(i),c=a.next();!c.done;c=a.next()){var u=c.value;if(!r)break;void 0!==u.show&&u.show&&(r=!!u.show.evaluate(e))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}},(a=function(){var e=o.styleJson;s=(0,f.getStyleFromJson)(e),r.tileset.makeStyleDirty()})(),r.dispose(o.styleJsonChanged.disposableOn(a)),(a=function(){r.tileset.makeStyleDirty()})(),r.dispose(o.styles.changed.disposableOn(a)),r._tileset.makeStyleDirty(),r}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzmObj",{get:function(){return this._czmCzmObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._czmCzmObj.sceneObject},enumerable:!1,configurable:!0}),t}(c.Destroyable),y=function(e){function t(t,n){var r=e.call(this)||this;r._tileset=t,r._czmCzmObj=n,r._resetting=r.disposeVar(new u.ObjResettingWithEvent(r.sceneObject.onlyUseStyleJsonChanged,(function(){return r.sceneObject.onlyUseStyleJson?new d(r.tileset,r.czmCzmObj):new h(r.tileset,r.czmCzmObj)})));var o=function(){r.tileset.makeStyleDirty()};return o(),r.dispose(r.sceneObject.styleDirtyEvent.disposableOn(o)),r}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzmObj",{get:function(){return this._czmCzmObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._czmCzmObj.sceneObject},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.StyleControl=y},72325:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createCzm3DTiles=void 0;var l=i(n(81557)),c=n(61556),u=n(93442),p=n(95315),f=n(95315),d=n(91513);t.createCzm3DTiles=function(e,t,n){var r,o,i,h,y,g,m;return a(this,void 0,void 0,(function(){var a,v,b,_;return s(this,(function(s){switch(s.label){case 0:if(a=t,!t.startsWith("Ion("))return[3,5];if(!(v=/Ion\((\d+)/.exec(t)))return[3,5];b=v[1]&&+v[1],s.label=1;case 1:return s.trys.push([1,4,,5]),b?[4,l.IonResource.fromAssetId(b)]:[3,3];case 2:a=s.sent(),s.label=3;case 3:return[3,5];case 4:return _=s.sent(),console.error("Ion资源未能获取到 error: ".concat(_),_),[2];case 5:return[4,l.Cesium3DTileset.fromUrl(a,{show:e.show,shadows:e.shadows&&p.czmPropMaps.shadowPropsMap[e.shadows],maximumScreenSpaceError:e.maximumScreenSpaceError,maximumMemoryUsage:e.maximumMemoryUsage,cacheBytes:e.cacheBytes,maximumCacheOverflowBytes:e.maximumCacheOverflowBytes,cullWithChildrenBounds:e.cullWithChildrenBounds,cullRequestsWhileMoving:e.cullRequestsWhileMoving,cullRequestsWhileMovingMultiplier:e.cullRequestsWhileMovingMultiplier,preloadWhenHidden:e.preloadWhenHidden,preloadFlightDestinations:e.preloadFlightDestinations,preferLeaves:e.preferLeaves,dynamicScreenSpaceError:e.dynamicScreenSpaceError,dynamicScreenSpaceErrorDensity:e.dynamicScreenSpaceErrorDensity,dynamicScreenSpaceErrorFactor:e.dynamicScreenSpaceErrorFactor,dynamicScreenSpaceErrorHeightFalloff:e.dynamicScreenSpaceErrorHeightFalloff,progressiveResolutionHeightFraction:e.progressiveResolutionHeightFraction,foveatedScreenSpaceError:e.foveatedScreenSpaceError,foveatedConeSize:e.foveatedConeSize,foveatedMinimumScreenSpaceErrorRelaxation:e.foveatedMinimumScreenSpaceErrorRelaxation,foveatedInterpolationCallback:e.foveatedInterpolationCallbackStr&&Function('"use strict";return ('+e.foveatedInterpolationCallbackStr+")")(),foveatedTimeDelay:e.foveatedTimeDelay,skipLevelOfDetail:e.skipLevelOfDetail,baseScreenSpaceError:e.baseScreenSpaceError,skipScreenSpaceErrorFactor:e.skipScreenSpaceErrorFactor,skipLevels:e.skipLevels,immediatelyLoadDesiredLevelOfDetail:e.immediatelyLoadDesiredLevelOfDetail,loadSiblings:e.loadSiblings,classificationType:p.czmPropMaps.classificationTypeMap[null!==(r=e.classificationType)&&void 0!==r?r:u.Czm3DTiles.defaults.classificationType],lightColor:e.lightColor&&(0,c.toCartesian3)(e.lightColor),backFaceCulling:null!==(o=e.backFaceCulling)&&void 0!==o?o:u.Czm3DTiles.defaults.backFaceCulling,showOutline:null!==(i=e.showOutline)&&void 0!==i?i:u.Czm3DTiles.defaults.showOutline,debugHeatmapTilePropertyName:e.debugHeatmapTilePropertyName,debugFreezeFrame:e.debugFreezeFrame,debugColorizeTiles:e.debugColorizeTiles,debugWireframe:e.debugWireframe,debugShowBoundingVolume:e.debugShowBoundingVolume,debugShowContentBoundingVolume:e.debugShowContentBoundingVolume,debugShowViewerRequestVolume:e.debugShowViewerRequestVolume,debugShowGeometricError:e.debugShowGeometricError,debugShowRenderingStatistics:e.debugShowRenderingStatistics,debugShowMemoryUsage:e.debugShowMemoryUsage,debugShowUrl:e.debugShowUrl,customShader:n,ellipsoid:(0,c.toEllipsoid)(null!==(h=e.ellipsoid)&&void 0!==h?h:u.Czm3DTiles.defaults.ellipsoid),modelMatrix:e.modelMatrix&&l.Matrix4.fromArray(e.modelMatrix),clippingPlanes:e.clippingPlanes&&(0,f.createClippingPlaneCollection)(e.clippingPlanes),imageBasedLighting:e.imageBasedLighting&&(0,d.getImageBasedLighting)(e.imageBasedLighting),splitDirection:l.SplitDirection[null!==(y=e.splitDirection)&&void 0!==y?y:u.Czm3DTiles.defaults.splitDirection],modelUpAxis:e.modelUpAxis&&l.Axis[e.modelUpAxis],modelForwardAxis:e.modelForwardAxis&&l.Axis[e.modelForwardAxis],featureIdLabel:null!==(g=e.featureIdLabel)&&void 0!==g?g:u.Czm3DTiles.defaults.featureIdLabel,instanceFeatureIdLabel:null!==(m=e.instanceFeatureIdLabel)&&void 0!==m?m:u.Czm3DTiles.defaults.instanceFeatureIdLabel,outlineColor:e.outlineColor&&(0,c.toColor)(e.outlineColor),pointCloudShading:e.pointCloudShading,enableShowOutline:e.enableShowOutline,vectorClassificationOnly:e.vectorClassificationOnly,vectorKeepDecodedPositions:e.vectorKeepDecodedPositions,showCreditsOnScreen:e.showCreditsOnScreen,projectTo2D:e.projectTo2D,enableDebugWireframe:e.enableDebugWireframe})];case 6:return[2,s.sent()]}}))}))}},91513:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBasedLighting=void 0;var a=i(n(81557)),s=n(59645);t.getImageBasedLighting=function(e){var t=e.imageBasedLightingFactor,n=e.luminanceAtZenith,r=e.sphericalHarmonicCoefficients,o=e.specularEnvironmentMaps,i={imageBasedLightingFactor:t&&new a.Cartesian2(t[0],t[1]),luminanceAtZenith:n,sphericalHarmonicCoefficients:r&&r.map((function(e){return new a.Cartesian3(e[0],e[1],e[2])})),specularEnvironmentMaps:o&&s.SceneObject.context.getStrFromEnv(o)};return new a.ImageBasedLighting(i)}},30593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRecreateEvents=void 0,t.getRecreateEvents=function(e){return[e.classificationTypeChanged,e.ellipsoidChanged,e.modelUpAxisChanged,e.modelForwardAxisChanged,e.cullWithChildrenBoundsChanged,e.enableShowOutlineChanged,e.projectTo2DChanged,e.debugHeatmapTilePropertyNameChanged,e.enableDebugWireframeChanged,e.vectorClassificationOnlyChanged,e.vectorKeepDecodedPositionsChanged]}},6143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSimpleUpdateEvents=void 0,t.getSimpleUpdateEvents=function(e){return[e.showChanged,e.shadowsChanged,e.maximumScreenSpaceErrorChanged,e.maximumMemoryUsageChanged,e.cacheBytesChanged,e.maximumCacheOverflowBytesChanged,e.cullRequestsWhileMovingChanged,e.cullRequestsWhileMovingMultiplierChanged,e.preloadWhenHiddenChanged,e.preloadFlightDestinationsChanged,e.preferLeavesChanged,e.dynamicScreenSpaceErrorChanged,e.dynamicScreenSpaceErrorDensityChanged,e.dynamicScreenSpaceErrorFactorChanged,e.dynamicScreenSpaceErrorHeightFalloffChanged,e.progressiveResolutionHeightFractionChanged,e.foveatedScreenSpaceErrorChanged,e.foveatedConeSizeChanged,e.foveatedMinimumScreenSpaceErrorRelaxationChanged,e.foveatedTimeDelayChanged,e.skipLevelOfDetailChanged,e.baseScreenSpaceErrorChanged,e.skipScreenSpaceErrorFactorChanged,e.skipLevelsChanged,e.immediatelyLoadDesiredLevelOfDetailChanged,e.loadSiblingsChanged,e.lightColorChanged,e.backFaceCullingChanged,e.showOutlineChanged,e.outlineColorChanged,e.featureIdLabelChanged,e.instanceFeatureIdLabelChanged,e.showCreditsOnScreenChanged,e.splitDirectionChanged,e.debugFreezeFrameChanged,e.debugColorizeTilesChanged,e.debugWireframeChanged,e.debugShowBoundingVolumeChanged,e.debugShowContentBoundingVolumeChanged,e.debugShowViewerRequestVolumeChanged,e.debugShowGeometricErrorChanged,e.debugShowRenderingStatisticsChanged,e.debugShowMemoryUsageChanged,e.debugShowUrlChanged,e.enableShowOutlineChanged]}},6330:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleFromJson=void 0;var a=i(n(81557));t.getStyleFromJson=function(e){try{return new a.Cesium3DTileStyle(null!=e?e:{})}catch(e){return void console.error("Cesium3DTiles style error: ".concat(e),e)}}},51649:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(52917),t)},2446:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.updateModelMatrix=void 0;var a=n(61556),s=i(n(81557));t.updateModelMatrix=function(e,t){var n=t.sceneObject;if(n.modelMatrix)s.Matrix4.clone(s.Matrix4.fromArray(n.modelMatrix),e.modelMatrix);else if(n.position){var r=e._root.transform,o=(0,a.computeCzmModelMatrix)({initialRotation:"yForwardzUp",rotation:n.rotation,position:n.position});if(o){var i=s.Matrix4.inverseTransformation(r,new s.Matrix4);s.Matrix4.multiply(o,i,e.modelMatrix)}else console.warn("modelMatrix is undefined!")}else s.Matrix4.clone(s.Matrix4.IDENTITY,e.modelMatrix)}},42906:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSimpleProps=void 0;var a=i(n(81557)),s=n(61556),l=n(93442),c=n(95315);t.updateSimpleProps=function(e,t){var n,r,o,i,u,p,f,d,h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A,I,z,D,N,R,k,L,F,B,V,G,U,W,H,J,q,Y,X;e.show=null===(n=t.show)||void 0===n||n,e.shadows=null!==(r=t.shadows&&c.czmPropMaps.shadowPropsMap[t.shadows])&&void 0!==r?r:c.czmPropMaps.shadowPropsMap.ENABLED,e.maximumScreenSpaceError=null!==(o=t.maximumScreenSpaceError)&&void 0!==o?o:16,e.maximumMemoryUsage=null!==(i=t.maximumMemoryUsage)&&void 0!==i?i:l.Czm3DTiles.defaults.maximumMemoryUsage,e.cacheBytes=null!==(u=t.cacheBytes)&&void 0!==u?u:l.Czm3DTiles.defaults.cacheBytes,e.maximumCacheOverflowBytes=null!==(p=t.maximumCacheOverflowBytes)&&void 0!==p?p:l.Czm3DTiles.defaults.maximumCacheOverflowBytes,e.cullRequestsWhileMoving=null===(f=t.cullRequestsWhileMoving)||void 0===f||f,e.cullRequestsWhileMovingMultiplier=null!==(d=t.cullRequestsWhileMovingMultiplier)&&void 0!==d?d:60,e.preloadWhenHidden=null!==(h=t.preloadWhenHidden)&&void 0!==h&&h,e.preloadFlightDestinations=null===(y=t.preloadFlightDestinations)||void 0===y||y,e.preferLeaves=null!==(g=t.preferLeaves)&&void 0!==g&&g,e.dynamicScreenSpaceError=null!==(m=t.dynamicScreenSpaceError)&&void 0!==m&&m,e.dynamicScreenSpaceErrorDensity=null!==(v=t.dynamicScreenSpaceErrorDensity)&&void 0!==v?v:.00278,e.dynamicScreenSpaceErrorFactor=null!==(b=t.dynamicScreenSpaceErrorFactor)&&void 0!==b?b:4,e.dynamicScreenSpaceErrorHeightFalloff=null!==(_=t.dynamicScreenSpaceErrorHeightFalloff)&&void 0!==_?_:.25,e.progressiveResolutionHeightFraction=null!==(w=t.progressiveResolutionHeightFraction)&&void 0!==w?w:.3,e.foveatedScreenSpaceError=null===(P=t.foveatedScreenSpaceError)||void 0===P||P,e.foveatedConeSize=null!==(C=t.foveatedConeSize)&&void 0!==C?C:.1,e.foveatedMinimumScreenSpaceErrorRelaxation=null!==(O=t.foveatedMinimumScreenSpaceErrorRelaxation)&&void 0!==O?O:0,e.foveatedTimeDelay=null!==(x=t.foveatedTimeDelay)&&void 0!==x?x:.2,e.skipLevelOfDetail=null!==(S=t.skipLevelOfDetail)&&void 0!==S&&S,e.baseScreenSpaceError=null!==(E=t.baseScreenSpaceError)&&void 0!==E?E:1024,e.skipScreenSpaceErrorFactor=null!==(j=t.skipScreenSpaceErrorFactor)&&void 0!==j?j:16,e.skipLevels=null!==(T=t.skipLevels)&&void 0!==T?T:1,e.immediatelyLoadDesiredLevelOfDetail=null!==(M=t.immediatelyLoadDesiredLevelOfDetail)&&void 0!==M&&M,e.loadSiblings=null!==(A=t.loadSiblings)&&void 0!==A&&A,e.lightColor=null!==(I=t.lightColor&&(0,s.toCartesian)(t.lightColor))&&void 0!==I?I:(0,s.toCartesian)([1,1,1]),e.backFaceCulling=null===(z=t.backFaceCulling)||void 0===z||z,e.showOutline=null===(D=t.showOutline)||void 0===D||D,e.outlineColor=(0,s.toColor)(null!==(N=t.outlineColor)&&void 0!==N?N:[1,1,1,1]),e.featureIdLabel=null!==(R=t.featureIdLabel)&&void 0!==R?R:l.Czm3DTiles.defaults.featureIdLabel,e.instanceFeatureIdLabel=null!==(k=t.instanceFeatureIdLabel)&&void 0!==k?k:l.Czm3DTiles.defaults.instanceFeatureIdLabel,e.showCreditsOnScreen=null!==(L=t.showCreditsOnScreen)&&void 0!==L&&L,e.splitDirection=a.SplitDirection[null!==(F=t.splitDirection)&&void 0!==F?F:l.Czm3DTiles.defaults.splitDirection],e.debugFreezeFrame=null!==(B=t.debugFreezeFrame)&&void 0!==B&&B,e.debugColorizeTiles=null!==(V=t.debugColorizeTiles)&&void 0!==V&&V,e.debugWireframe=null!==(G=t.debugWireframe)&&void 0!==G&&G,e.debugShowBoundingVolume=null!==(U=t.debugShowBoundingVolume)&&void 0!==U&&U,e.debugShowContentBoundingVolume=null!==(W=t.debugShowContentBoundingVolume)&&void 0!==W&&W,e.debugShowViewerRequestVolume=null!==(H=t.debugShowViewerRequestVolume)&&void 0!==H&&H,e.debugShowGeometricError=null!==(J=t.debugShowGeometricError)&&void 0!==J&&J,e.debugShowRenderingStatistics=null!==(q=t.debugShowRenderingStatistics)&&void 0!==q&&q,e.debugShowMemoryUsage=null!==(Y=t.debugShowMemoryUsage)&&void 0!==Y&&Y,e.debugShowUrl=null!==(X=t.debugShowUrl)&&void 0!==X&&X}},82526:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmArcgisHistoryImagery=void 0;var s=n(59645),l=n(51355),c=n(58354),u=n(93442),p=n(61292),f=n(80468);var d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmImageery=void 0,r._customDiv=r.disposeVar(new f.CustomDiv);var c=n.viewer;if(!c)return console.warn("viewer is undefined!"),r;var d=function(){return i(r,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,(0,p.getCurrentTileCoordinates)(c)];case 1:return e=n.sent(),t.dates=e,t.datesEvent.emit(e,c),[2]}}))}))};d();var h=!1;r.dispose(c.camera.moveStart.addEventListener((function(){h=!0}))),r.dispose(c.camera.moveEnd.addEventListener((function(){return i(r,void 0,void 0,(function(){return a(this,(function(e){return h&&(h=!1,d()),[2]}))}))}))),r.disposeVar(new s.ObjResettingWithEvent(t.currentDateChanged,(function(){var e=function(e,n){if(t.dates){var r=t.dates.time.reduce((function(t,n,r){return t[n]=e.timeID[r],t}),{});return r[n]}}(t.dates,t.currentDate);r._czmImageery=new u.CzmImagery;var o=r._czmImageery;return n.add(o),o.dispose((function(){return n.delete(o)})),o.imageryProvider={type:"ArcgisHistoryImagery",indexTimeID:e||0},r.dispose((0,l.track)([o,"show"],[t,"show"])),o})));var y=r._customDiv;return n.add(y),r.dispose((function(){return n.delete(y)})),r.dispose((0,l.track)([y,"show"],[t,"showUI"])),r.dispose((0,l.bind)([y,"containerId"],[t,"containerId"])),y.instanceClass=function(e){return function(t){function n(n,r,o){var i,a=t.call(this)||this,l=document.createElement("select");n.appendChild(l),a.dispose((function(){return n.removeChild(l)})),(i=function(){var e;l.style.display=null===(e=r.show)||void 0===e||e?"block":"none"})(),a.dispose(r.showChanged.disposableOn(i)),(i=function(){var t=-1,n=1/0;l.innerHTML="",e.dates&&(e.dates.time.forEach((function(r,o){var i=document.createElement("option");i.value=r,i.textContent=r,l.appendChild(i);var a,s,c,u,p=(a=r,s=e.currentDate,c=new Date(a),u=new Date(s),Math.abs(u-c)/864e5);p<n&&(n=p,t=o)})),-1!==t&&(l.selectedIndex=t),l.addEventListener("change",(function(){e.currentDate=l.value})))})(),a.dispose(e.datesChanged.disposableOn(i)),(i=function(){var t;l.style.cssText=null!==(t=u.CzmArcgisHistoryImagery.defaults.cssText+e.cssText)&&void 0!==t?t:"",l.style.display=r.show?"block":"none"})();var c=a.disposeVar((0,s.createNextAnimateFrameEvent)(e.cssTextChanged,r.showChanged));return a.dispose(c.disposableOn(i)),a}return o(n,t),Object.defineProperty(n.prototype,"sceneTreeApp",{get:function(){return this._sceneTreeApp},enumerable:!1,configurable:!0}),n}(l.Destroyable)}(t),r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmImageery",{get:function(){return this._czmImageery},set:function(e){this._czmImageery=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),n=t,t.type=n.register(u.CzmArcgisHistoryImagery.type,n),t}(c.CzmObject);t.CzmCzmArcgisHistoryImagery=d},76254:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBackLayerCloudCollection=void 0;var c=s(n(81557)),u=n(61556),p=n(58354),f=n(93442),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)throw new Error("viewer is undefined!");var i=new c.CloudCollection;r._cloudCollection=i,o.scene.primitives.add(i),r.dispose((function(){return o.scene.primitives.remove(i)})),(a=function(){i.show=t.show})(),r.dispose(t.showChanged.disposableOn(a));var a,s=function(e){var t,n,r,o,i;return{slice:null!==(t=e.slice)&&void 0!==t?t:f.CzmBackLayerCloudCollection.defaults.slice,brightness:null!==(n=e.brightness)&&void 0!==n?n:f.CzmBackLayerCloudCollection.defaults.brightness,scale:(0,u.toCartesian2)(null!==(r=e.scale)&&void 0!==r?r:f.CzmBackLayerCloudCollection.defaults.scale),maximumSize:(0,u.toCartesian3)(null!==(o=e.maximumSize)&&void 0!==o?o:f.CzmBackLayerCloudCollection.defaults.maximumSize),color:(0,u.toColor)(null!==(i=e.color)&&void 0!==i?i:f.CzmBackLayerCloudCollection.defaults.color),position:(0,u.positionToCartesian)(e.position)}};return(a=function(){var e,n;i.removeAll();try{for(var r=l(t.option),o=r.next();!o.done;o=r.next()){var a=o.value;i.add(s(a))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})(),r.dispose(t.optionChanged.disposableOn(a)),r.dispose(t.flyToEvent.disposableOn((function(e){console.warn("当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"cloudCollection",{get:function(){return this._cloudCollection},enumerable:!1,configurable:!0}),n=t,t.type=n.register(f.CzmBackLayerCloudCollection.type,n),t}(p.CzmObject);t.CzmCzmBackLayerCloudCollection=d},59138:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBackLayerCloud=void 0;var l=n(59645),c=s(n(81557)),u=n(61556),p=n(58354),f=n(93442),d=n(86003),h=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){a.scene.primitives.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0};i.dispose(s),s(),r=new c.CloudCollection,o=r.add({}),a.scene.primitives.add(r);var p=i.disposeVar((0,l.createNextAnimateFrameEvent)(t.showChanged,t.positionChanged,t.scaleChanged,t.sliceChanged,t.brightnessChanged,t.maximumSizeChanged,t.colorChanged)),h=function(){var e,n,r,i,a,s;o&&(o.show=null===(e=t.show)||void 0===e||e,t.position&&(o.position=(0,u.positionToCartesian)(t.position)),o.scale=(0,u.toCartesian2)(null!==(n=t.scale)&&void 0!==n?n:f.CzmBackLayerCloud.defaults.scale),o.slice=null!==(r=t.slice)&&void 0!==r?r:f.CzmBackLayerCloud.defaults.slice,o.brightness=null!==(i=t.brightness)&&void 0!==i?i:f.CzmBackLayerCloud.defaults.brightness,o.maximumSize=(0,u.toCartesian3)(null!==(a=t.maximumSize)&&void 0!==a?a:f.CzmBackLayerCloud.defaults.maximumSize),o.color=(0,u.toColor)(null!==(s=t.color)&&void 0!==s?s:f.CzmBackLayerCloud.defaults.color))};return h(),i.dispose(p.disposableOn(h)),i.dispose(t.flyToEvent.disposableOn((function(e){t.position?(0,d.flyTo)(a.scene.camera,t.position,100,void 0,e):console.warn("当前没有位置信息，无法飞入！")}))),i}var n;return o(t,e),n=t,t.type=n.register(f.CzmBackLayerCloud.type,n),t}(p.CzmObject);t.CzmCzmBackLayerCloud=h},29011:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBillboardPrimitiveCollection=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,p.getViewerExtensions)(n.viewer))return o;var a=function(){r&&(r.removeAll(),i.scene.primitives.remove(r),r=void 0)};o.dispose(a);var s=function(){var e,n,o,s;a(),s=new l.BillboardCollection({show:null===(e=t.show)||void 0===e||e,debugShowBoundingVolume:null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,blendOption:null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT}),r=t.billboardPrimitiveOptions?(t.billboardPrimitiveOptions.forEach((function(e){var t;s.add({show:e.show,position:(0,c.positionToCartesian)(null!==(t=e.position)&&void 0!==t?t:[0,0,0]),color:e.color&&(0,c.toColor)(e.color),pixelOffset:e.pixelOffset&&(0,c.toCartesian2)(e.pixelOffset),eyeOffset:e.eyeOffset&&(0,c.toCartesian3)(e.eyeOffset),heightReference:e.heightReference&&d.czmPropMaps.heightReferencePropsMap[e.heightReference],horizontalOrigin:e.horizontalOrigin&&d.czmPropMaps.horizontalOriginType[e.horizontalOrigin],verticalOrigin:e.verticalOrigin&&d.czmPropMaps.verticalOriginOriginType[e.verticalOrigin],scale:e.scale,image:e.image&&u.SceneObject.context.getStrFromEnv(e.image),rotation:e.rotation,alignedAxis:e.alignedAxis&&(0,c.toCartesian3)(e.alignedAxis),width:e.width,height:e.height,scaleByDistance:e.scaleByDistance&&(0,c.toNearFarScalar)(e.scaleByDistance),translucencyByDistance:e.translucencyByDistance&&(0,c.toNearFarScalar)(e.translucencyByDistance),pixelOffsetScaleByDistance:e.pixelOffsetScaleByDistance&&(0,c.toNearFarScalar)(e.pixelOffsetScaleByDistance),sizeInMeters:e.sizeInMeters,distanceDisplayCondition:e.distanceDisplayCondition&&(0,c.toDistanceDisplayCondition)(e.distanceDisplayCondition)})})),s):s,i.scene.primitives.add(r)};s();var h=o.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged,t.debugShowBoundingVolumeChanged,t.blendOptionChanged));o.dispose(h.disposableOn((function(){var e,n,o;r&&(r.show=null!==(e=t.show)&&void 0!==e?e:f.CzmBillboardPrimitiveCollection.defaults.show,r.debugShowBoundingVolume=null!==(n=t.debugShowBoundingVolume)&&void 0!==n?n:f.CzmBillboardPrimitiveCollection.defaults.debugShowBoundingVolume,r.blendOption=null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT)})));var y=o.disposeVar((0,u.createNextAnimateFrameEvent)(t.billboardPrimitiveOptionsChanged));o.dispose(y.disposableOn((function(){s()})));var g=new l.BoundingSphere;return o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.billboardPrimitiveOptions)if(1===t.billboardPrimitiveOptions.length){var r=t.billboardPrimitiveOptions[0].position;if(!r)return;var o=i.scene.camera.positionCartographic.height;(0,c.flyTo)(i.scene.camera,r,o,void 0,e)}else{var a=t.billboardPrimitiveOptions,s=[];a.forEach((function(e){e.position&&s.push(e.position)}));var u=(0,c.positionsToUniqueCartesians)(s);if(l.BoundingSphere.fromPoints(u,g),g.radius>0){var p=(0,c.positionFromCartesian)(g.center);p&&(0,c.flyTo)(i.camera,p,4*g.radius,void 0,e)}}}))),o}var n;return o(t,e),n=t,t.type=n.register(f.CzmBillboardPrimitiveCollection.type,n),t}(p.CzmObject);t.CzmCzmBillboardPrimitiveCollection=h},37586:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBillboard=void 0;var l=n(80468),c=n(59645),u=s(n(81557)),p=n(61556),f=n(58354),d=n(93442),h=n(95315),y=n(86003),g=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){a.scene.primitives.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0};i.dispose(s),s(),r=new u.BillboardCollection({scene:a.scene}),o=r.add({position:(0,p.positionToCartesian)([0,0,0])}),a.scene.primitives.add(r);var g=i.disposeVar((0,c.createNextAnimateFrameEvent)(t.imageChanged,t.positionChanged,t.allowPickingChanged,t.showChanged,t.colorChanged,t.pixelOffsetChanged,t.eyeOffsetChanged,t.heightReferenceChanged,t.horizontalOriginChanged,t.verticalOriginChanged,t.scaleChanged,t.rotationChanged,t.alignedAxisChanged,t.sizeInMetersChanged,t.widthChanged,t.heightChanged,t.scaleByDistanceChanged,t.translucencyByDistanceChanged,t.pixelOffsetScaleByDistanceChanged,t.distanceDisplayConditionChanged)),m=function(){var e,n,r,i,a,s,l,f,y,g,m;o&&(o.show=null===(e=t.show)||void 0===e||e,o.image=c.SceneObject.context.getStrFromEnv(null!==(n=t.image)&&void 0!==n?n:d.CzmBillboard.defaults.image),t.position&&(o.position=(0,p.positionToCartesian)(t.position)),o.color=t.color&&(0,p.toColor)(t.color)||u.Color.WHITE,o.pixelOffset=null!==(r=t.pixelOffset&&(0,p.toCartesian2)(t.pixelOffset))&&void 0!==r?r:u.Cartesian2.ZERO,o.eyeOffset=null!==(i=t.eyeOffset&&(0,p.toCartesian3)(t.eyeOffset))&&void 0!==i?i:u.Cartesian3.ZERO,o.heightReference=null!==(a=t.heightReference&&h.czmPropMaps.heightReferencePropsMap[t.heightReference])&&void 0!==a?a:u.HeightReference.NONE,o.horizontalOrigin=null!==(s=t.horizontalOrigin&&h.czmPropMaps.horizontalOriginType[t.horizontalOrigin])&&void 0!==s?s:u.HorizontalOrigin.CENTER,o.verticalOrigin=null!==(l=t.verticalOrigin&&h.czmPropMaps.verticalOriginOriginType[t.verticalOrigin])&&void 0!==l?l:u.VerticalOrigin.BASELINE,o.scale=null!==(f=t.scale)&&void 0!==f?f:d.CzmBillboard.defaults.scale,o.rotation=null!==(y=t.rotation)&&void 0!==y?y:d.CzmBillboard.defaults.rotation,o.alignedAxis=null!==(g=t.alignedAxis&&(0,p.toCartesian3)(t.alignedAxis))&&void 0!==g?g:u.Cartesian3.ZERO,o.sizeInMeters=null!==(m=t.sizeInMeters)&&void 0!==m?m:d.CzmBillboard.defaults.sizeInMeters,t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.scaleByDistance&&(o.scaleByDistance=(0,p.toNearFarScalar)(t.scaleByDistance)),t.translucencyByDistance&&(o.translucencyByDistance=(0,p.toNearFarScalar)(t.translucencyByDistance)),t.pixelOffsetScaleByDistance&&(o.pixelOffsetScaleByDistance=(0,p.toNearFarScalar)(t.pixelOffsetScaleByDistance)),t.distanceDisplayCondition&&(o.distanceDisplayCondition=(0,p.toDistanceDisplayCondition)(t.distanceDisplayCondition)))};return m(),i.dispose(g.disposableOn(m)),i.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=a.scene.camera.positionCartographic.height;(0,y.flyTo)(a.scene.camera,t.position,e,void 0,1e3)}else console.warn("当前没有位置信息，无法飞入！")}))),(0,f.getViewerExtensions)(n.viewer)?(i.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&(null!==(n=t.allowPicking)&&void 0!==n?n:d.CzmBillboard.defaults.allowPicking)&&o&&r.primitive===o&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),i):i}var n;return o(t,e),n=t,t.type=n.register(d.CzmBillboard.type,n),t}(f.CzmObject);t.CzmCzmBillboard=g},1875:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBoxEntity=void 0;var l=n(80468),c=s(n(81557)),u=n(61556),p=n(58354),f=n(93442),d=n(95315),h=function(e){function t(t,n){var r,o=this;o=e.call(this,t,n)||this;var i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;var a=i.entities.add({position:void 0,orientation:void 0,box:{}});o.dispose((function(){return i.entities.remove(a)}));var s=new c.Cartesian3;(g=function(){var e=t.position&&(0,u.positionToCartesian)(t.position,s);a.position=e})(),o.dispose(t.positionChanged.disposableOn(g));var h=new c.Quaternion,y=null!==(r=t.rotation)&&void 0!==r?r:[0,0,0];(g=function(){var e=t.position&&(0,u.positionAndRotationToQuaternion)(t.position,y,h);a.orientation=e})(),o.dispose(t.rotationChanged.disposableOn(g)),o.dispose(t.positionChanged.disposableOn(g)),(g=function(){a.show=t.show})(),o.dispose(t.showChanged.disposableOn(g)),(g=function(){a.box.dimensions=t.dimensions&&c.Cartesian3.fromArray(t.dimensions)})(),o.dispose(t.dimensionsChanged.disposableOn(g));var g=function(){var e;null===(e=a.box)||void 0===e||(e.heightReference=t.heightReference&&d.czmPropMaps.heightReferencePropsMap[t.heightReference])};g(),o.dispose(t.heightReferenceChanged.disposableOn(g)),(g=function(){a.box.fill=t.fill})(),o.dispose(t.fillChanged.disposableOn(g));var m=new c.Color;(g=function(){a.box.material=t.material&&(0,u.toColor)(t.material,m)})(),o.dispose(t.materialChanged.disposableOn(g)),(g=function(){a.box.outline=t.outline})(),o.dispose(t.outlineChanged.disposableOn(g));var v=new c.Color;(g=function(){a.box.outlineColor=t.outlineColor&&(0,u.toColor)(t.outlineColor,v)})(),o.dispose(t.outlineColorChanged.disposableOn(g)),(g=function(){a.box.outlineWidth=t.outlineWidth})(),o.dispose(t.outlineWidthChanged.disposableOn(g)),(g=function(){a.box.shadows=t.shadows&&d.czmPropMaps.shadowPropsMap[t.shadows]})(),o.dispose(t.shadowsChanged.disposableOn(g));var b=new c.DistanceDisplayCondition;return(g=function(){a.box.distanceDisplayCondition=t.distanceDisplayCondition&&(0,u.toDistanceDisplayCondition)(t.distanceDisplayCondition,b)})(),o.dispose(t.shadowsChanged.disposableOn(g)),(0,p.getViewerExtensions)(n.viewer)?(o.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&(null!==(n=t.allowPicking)&&void 0!==n?n:f.CzmBoxEntity.defaults.allowPicking)&&a&&r.id===a&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),o.dispose(t.flyToEvent.disposableOn((function(){n.actived&&(console.log("flyToEvent",a,i),i.flyTo(a))}))),o):o}var n;return o(t,e),n=t,t.type=n.register(f.CzmBoxEntity.type,n),t}(p.CzmObject);t.CzmCzmBoxEntity=h},81463:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCameraVideo=void 0;var u=s(n(81557)),p=n(58354),f=n(93442),d=n(51355),h=n(61556),y=n(59645),g=n(73194),m=new u.Matrix3;!function(e){function t(t){var n,r,o=e.call(this)||this;return o._videoUrl=t,o._videoElement=(n=o._videoUrl,(r=document.createElement("video")).src=n,r.style.position="absolute",r.style.zIndex="-100",r.style.visibility="hidden",r.crossOrigin="",r.autoplay=!0,r.loop=!0,r.muted=!0,document.body.appendChild(r),r),o._videoElementD=o.dispose((function(){return function(e){document.body.removeChild(e)}(o._videoElement)})),o}o(t,e),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._videoElement},enumerable:!1,configurable:!0})}(d.Destroyable);var v=function(e){function t(t){var n,r=e.call(this)||this,o=t.sceneObject,i=t.czmViewer,a=i.viewer;if(!a)throw new Error("XbsjCameraVideoResetting error: !viewer");var s=o.position;if(!s)throw new Error("XbsjCameraVideoResetting error: !position");var p=l(o.rotation,3),d=p[0],y=p[1],v=p[2],b=u.Math.toRadians,_=function(e,t){var n=e.position,r=e.heading,o=e.pitch,i=e.roll,a=u.Transforms.eastNorthUpToFixedFrame(n,void 0,void 0),s=u.Matrix3.fromRotationX(u.Math.PI_OVER_TWO,m);return u.Matrix4.multiplyByMatrix3(a,s,a),s=u.Matrix3.fromRotationY(-r,m),u.Matrix4.multiplyByMatrix3(a,s,a),s=u.Matrix3.fromRotationX(o,m),u.Matrix4.multiplyByMatrix3(a,s,a),s=u.Matrix3.fromRotationZ(-i,m),u.Matrix4.multiplyByMatrix3(a,s,a),a}({position:(n=u.Cartesian3).fromDegrees.apply(n,c([],l(s),!1)),heading:b(d),pitch:b(y),roll:b(v)}),w=o.fov,P=o.aspectRatio,C=o.near,O=o.far,x=new u.PerspectiveFrustum({fov:b(w),aspectRatio:P,near:C,far:O}),S=new h.XbsjCameraVideo({inverseViewMatrix:_,frustum:x,showHelperPrimitive:!0});r._xbsjCameraVideo=S,r.dispose((function(){return S.destroy()})),a.scene.primitives.add(S),r.dispose((function(){return a.scene.primitives.remove(S)})),r.xbsjCameraVideo.videoTextureFunc=function(){var e=o.getCurrentCzmTexture();if(e&&e instanceof f.CzmTexture){var t=i.getCzmObject(e);if(t&&t instanceof g.CzmCzmTexture&&t.texture)return t.texture}};var E=function(){S.showHelperPrimitive=t.sceneObject.showHelperPrimitive};return E(),r.dispose(t.sceneObject.showHelperPrimitiveChanged.disposableOn(E)),r}return o(t,e),Object.defineProperty(t.prototype,"xbsjCameraVideo",{get:function(){return this._xbsjCameraVideo},enumerable:!1,configurable:!0}),t}(d.Destroyable),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._xbsjCameraVideoResettingEvent=r.disposeVar((0,d.createNextAnimateFrameEvent)(r.sceneObject.showChanged,r.sceneObject.positionChanged,r.sceneObject.rotationChanged,r.sceneObject.fovChanged,r.sceneObject.aspectRatioChanged,r.sceneObject.nearChanged,r.sceneObject.farChanged)),r._xbsjCameraVideoResetting=r.disposeVar(new y.ObjResettingWithEvent(r._xbsjCameraVideoResettingEvent,(function(){if(r.sceneObject.show&&r.sceneObject.position)return new v(r)}))),n.viewer?(r.dispose(t.resetWithCameraInfoEvent.disposableOn((function(){if(n.actived){var e=n.getCameraInfo();e&&(t.position=e.position,t.rotation=e.rotation)}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&(t.position?n.flyTo(t.position,0,t.rotation,e):console.warn("CzmCameraVideo无法飞入，因为没有位置：!sceneObject.position"))}))),r):(console.warn("viewer is undefined!"),r)}var n;return o(t,e),Object.defineProperty(t.prototype,"xbsjCameraVideoResetting",{get:function(){return this._xbsjCameraVideoResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xbsjCameraVideoChanged",{get:function(){return this._xbsjCameraVideoResetting.objChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xbsjCameraVideo",{get:function(){var e;return null===(e=this._xbsjCameraVideoResetting.obj)||void 0===e?void 0:e.xbsjCameraVideo},enumerable:!1,configurable:!0}),n=t,t.type=n.register(f.CzmCameraVideo.type,n),t}(p.CzmObject);t.CzmCzmCameraVideo=b},49617:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCircleGroundPrimitive=void 0;var l=n(61556),c=n(80468),u=n(51355),p=n(59645),f=s(n(81557)),d=n(58354),h=n(93442),y=n(95315),g=function(e){function t(t,n){var r=e.call(this)||this;return r._czmObj=t,r._cartesian=n,r._primitive=function(){var e=r.czmObj.materialRef.value,t=function(e,t,n,r){var o;if(e&&n.radius){var i=new f.MaterialAppearance({material:t}),a=[],s=new f.GeometryInstance({geometry:new f.CircleGeometry({center:e,radius:n.radius,stRotation:n.stRotation&&f.Math.toRadians(n.stRotation),granularity:function(){var e,t=null!==(e=n.granularity)&&void 0!==e?e:h.CzmCircleGroundPrimitive.defaults.granularity;return 0===n.granularity&&console.error("granularity不能设置为0"),t|=0,t=Math.max(1,t),f.Math.toRadians(t)}(),vertexFormat:f.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:n.ellipsoid&&(0,l.toEllipsoid)(n.ellipsoid)}),id:r});return a.push(s),new f.GroundPrimitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=n.allowPicking)&&void 0!==o?o:h.CzmCircleGroundPrimitive.defaults.allowPicking,compressVertices:!1})}}(r._cartesian,e,r.sceneObject,r.czmObj),n=r,o=n.viewer,i=n.sceneObject,a=n.czmViewer,s=function(){var e;t.show=null!==(e=r.sceneObject.show)&&void 0!==e?e:h.CzmCircleGroundPrimitive.defaults.show};if(s(),r.dispose(r.sceneObject.showChanged.disposableOn(s)),r.dispose(i.flyToEvent.disposableOn((function(){if(i.position)if(i.radius)(0,l.flyTo)(o.scene.camera,i.position,4*i.radius,void 0,1e3);else{var e=o.scene.camera.positionCartographic.height;(0,l.flyTo)(o.scene.camera,i.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),(0,d.getViewerExtensions)(o)){r.dispose(a.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&(null!==(n=i.allowPicking)&&void 0!==n?n:h.CzmCircleGroundPrimitive.defaults.allowPicking)&&t&&r.primitive===t&&(console.log("pickedResult",r,t),i.pickedEvent.emit(new c.SceneObjectPickedInfo(i,e)))}}))),r.disposeVar(new d.CzmViewer.ObjectsToExcludeWrapper(a,[t]));var u=a.viewerInstance.obj;if(!u)throw new Error("!viewerInstance");var p=u.groundPrimitivesMananger.createGroundPrimitiveWrapper(t);return(s=function(){return p.zIndex=i.zIndex})(),r.dispose(i.zIndexChanged.disposableOn(s)),r.dispose((function(){u.groundPrimitivesMananger.destroyGroundPrimitiveWrapper(p)})),t}}(),r}return o(t,e),Object.defineProperty(t.prototype,"czmObj",{get:function(){return this._czmObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cartesian",{get:function(){return this._cartesian},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmObj.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmObj.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),t}(u.Destroyable),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._materialRef=r.disposeVar((0,y.createMaterialRef)([r.sceneObject,"material"],h.CzmCircleGroundPrimitive.defaults.material));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.allowPickingChanged,t.positionChanged,t.radiusChanged,t.stRotationChanged,t.granularityChanged,t.ellipsoidChanged,t.materialChanged,r.materialRef.changed));return r.disposeVar(new p.ObjResettingWithEvent(i,(function(){if(t.position&&t.radius){var e=(0,l.positionToCartesian)(t.position);return new g(r,e)}}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"materialRef",{get:function(){return this._materialRef},enumerable:!1,configurable:!0}),n=t,t.type=n.register(h.CzmCircleGroundPrimitive.type,n),t}(d.CzmObject);t.CzmCzmCircleGroundPrimitive=m},60384:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCircleOutlinePrimitive=void 0;var l=s(n(81557)),c=n(59645),u=n(58354),p=n(93442),f=n(61556),d=n(80468),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=new l.Color,a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,f.positionToCartesian)(t.position);e&&(r._primitive=function(e){var n,o;if(e&&t.radius){var a=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(n=t.translucent)||void 0===n||n}),s=[],c=l.ColorGeometryInstanceAttribute.fromColor(l.Color.WHITE),u=new l.GeometryInstance({geometry:new l.CircleOutlineGeometry({center:e,radius:t.radius,height:t.height,extrudedHeight:t.extrudedHeight,ellipsoid:t.ellipsoid&&(0,f.toEllipsoid)(t.ellipsoid),granularity:function(){var e,n=null!==(e=t.granularity)&&void 0!==e?e:p.CzmCircleOutlinePrimitive.defaults.granularity;return 0===t.granularity&&console.error("granularity不能设置为0"),n|=0,n=Math.max(1,n),l.Math.toRadians(n)}(),numberOfVerticalLines:t.numberOfVerticalLines}),attributes:{color:t.outlineColor?l.ColorGeometryInstanceAttribute.fromColor((0,f.toColor)(t.outlineColor,i)):c},id:r});return s.push(u),new l.Primitive({geometryInstances:s,appearance:a,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o?o:p.CzmCircleOutlinePrimitive.defaults.allowPicking,compressVertices:!1})}}(e),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var u=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.allowPickingChanged,t.positionChanged,t.radiusChanged,t.extrudedHeightChanged,t.heightChanged,t.outlineColorChanged,t.translucentChanged,t.ellipsoidChanged,t.granularityChanged,t.numberOfVerticalLinesChanged));r.dispose(u.disposableOn((function(){a(),s()})));var h=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(h.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,f.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&(null!==(n=t.allowPicking)&&void 0!==n?n:p.CzmCircleOutlinePrimitive.defaults.allowPicking)&&o.primitive===r._primitive&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}}))),r}var n;return o(t,e),n=t,t.type=n.register(p.CzmCircleOutlinePrimitive.type,n),t}(u.CzmObject);t.CzmCzmCircleOutlinePrimitive=h},84456:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCirclePrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=n(80468),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"])),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,c.positionToCartesian)(t.position);e&&i.value&&(r._primitive=function(e,n){var o;if(e&&t.radius){var i=new l.MaterialAppearance({material:n}),a=[],s=new l.GeometryInstance({geometry:new l.CircleGeometry({center:e,height:t.height,extrudedHeight:t.extrudedHeight,radius:t.radius,stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,c.toEllipsoid)(t.ellipsoid),granularity:function(){var e,n=null!==(e=t.granularity)&&void 0!==e?e:f.CzmCirclePrimitive.defaults.granularity;return 0===t.granularity&&console.error("granularity不能设置为0"),n|=0,n=Math.max(1,n),l.Math.toRadians(n)}()}),id:r});return a.push(s),new l.Primitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o?o:f.CzmCirclePrimitive.defaults.allowPicking,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.allowPickingChanged,t.positionChanged,t.radiusChanged,t.materialChanged,t.extrudedHeightChanged,t.heightChanged,t.ellipsoidChanged,t.granularityChanged,t.stRotationChanged,i.changed));r.dispose(p.disposableOn((function(){a(),s()})));var y=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(y.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position)if(t.radius)(0,c.flyTo)(o.scene.camera,t.position,4*t.radius,void 0,1e3);else{var e=o.scene.camera.positionCartographic.height;(0,c.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;console.log("pickedResult",o,r._primitive),o&&(null!==(n=t.allowPicking)&&void 0!==n?n:f.CzmCirclePrimitive.defaults.allowPicking)&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new h.SceneObjectPickedInfo(t,e))}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmCirclePrimitive.type,n),t}(p.CzmObject);t.CzmCzmCirclePrimitive=y},19922:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmClassicNavigator=void 0;var s=n(51355),l=n(58354),c=n(93442);function u(e){return null==e||!("number"!=typeof e||!Number.isFinite(e))||void 0}var p=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var c=(0,l.getViewerExtensions)(o);if(!c)return r;c.needClassicNavigator();var p=!1,f=function(){var e,n=c.classicNavigator;n&&(p||(p=!0,r.dispose((0,s.bind)([n,"showCompass"],[t,"showCompass"])),(e=function(){var e=t.compassStyle;e&&Array.isArray(e)&&4===e.length&&e.every((function(e){return u(e)}))?n.compassStyle=a([],i(e),!1):console.warn("compassStyle格式错误！")})(),r.dispose(t.compassStyleChanged.disposableOn(e)),r.dispose((0,s.bind)([n,"showDistanceLegend"],[t,"showDistanceLegend"])),(e=function(){var e=t.distanceLegendStyle;e&&Array.isArray(e)&&4===e.length&&e.every((function(e){return u(e)}))?n.distanceLegendStyle=a([],i(e),!1):console.warn("distanceLegendStyle格式错误！")})(),r.dispose(t.distanceLegendStyleChanged.disposableOn(e))))};return f(),r.dispose(c.classicNavigatorChanged.disposableOn(f)),r.dispose((function(){var e=c.classicNavigator;e&&(e.showCompass=!1,e.showDistanceLegend=!1)})),r}var n;return o(t,e),n=t,t.type=n.register(c.CzmClassicNavigator.type,n),t}(l.CzmObject);t.CzmCzmClassicNavigator=p},99652:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmClassificationPolygonPrimitive=void 0;var u=n(80468),p=n(59645),f=s(n(81557)),d=n(61556),h=n(58354),y=n(93442),g=n(95315),m=function(e){function t(t){var n=e.call(this,t)||this;n._primitive=function(){var e,t,r=n.owner.sceneObject;if(!r.polygonHierarchy)throw new Error("polygonHierarchy is required");var o=[],i=new f.GeometryInstance({geometry:new f.PolygonGeometry({vertexFormat:f.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,g.createPolygonHierarchy)(r.polygonHierarchy),stRotation:r.stRotation&&f.Math.toRadians(r.stRotation),arcType:r.arcType&&f.ArcType[r.arcType],height:r.height,extrudedHeight:r.extrudedHeight,perPositionHeight:r.perPositionHeight,closeTop:r.closeTop,closeBottom:r.closeBottom,ellipsoid:r.ellipsoid&&(0,d.toEllipsoid)(r.ellipsoid),granularity:void 0!==r.granularity?f.Math.toRadians(r.granularity):void 0}),attributes:{color:f.ColorGeometryInstanceAttribute.fromColor(new((e=f.Color).bind.apply(e,c([void 0],l(null!==(t=r.color)&&void 0!==t?t:y.CzmClassificationPolygonPrimitive.defaults.color),!1)))),show:new f.ShowGeometryInstanceAttribute(!0)},id:n});o.push(i);var a=new f.ClassificationPrimitive({geometryInstances:o,asynchronous:!1,allowPicking:r.allowPicking,compressVertices:!1,classificationType:g.czmPropMaps.classificationTypeMap[r.classificationType]}),s=n.owner.czmViewer;if(!s)throw new Error("!this.owner.czmViewer");var u=s.viewer;if(!u)throw new Error("!czmViewer.viewer");u.scene.primitives.add(a),n.dispose((function(){return u.scene.primitives.remove(a)}));var p=function(){var e;a.show=null===(e=r.show)||void 0===e||e};return p(),n.dispose(r.showChanged.disposableOn(p)),a}(),n._objectsToExcludeWrapper=n.disposeVar(new h.CzmViewer.ObjectsToExcludeWrapper(n.owner.czmViewer,n._primitive));var r=n.owner.czmViewer;if(!r)throw new Error("!czmViewer");var o=n.owner.sceneObject;return n.dispose(r.czmPickedEvent.disposableOn((function(e){var t;if(e){var r=e.czmPickResult;r&&null!==(t=o.allowPicking)&&void 0!==t&&t&&n._primitive&&r.primitive===n._primitive&&o.pickedEvent.emit(new u.SceneObjectPickedInfo(o,e))}}))),n}return o(t,e),t}(n(9675).HasOwner),v=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,h.getViewerExtensions)(n.viewer))return r;var i=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.colorChanged,t.stRotationChanged,t.arcTypeChanged,t.heightChanged,t.extrudedHeightChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.ellipsoidChanged,t.granularityChanged,t.allowPickingChanged,t.classificationTypeChanged));r.disposeVar(new p.ObjResettingWithEvent(i,(function(){if(t.polygonHierarchy)return new m(r)})));var a=new f.BoundingSphere,s=function(){if(t.polygonHierarchy){var e=(0,d.positionsToUniqueCartesians)(t.polygonHierarchy.positions);e.length<3?a.radius=-1:f.BoundingSphere.fromPoints(e,a)}};return s(),t.polygonHierarchyChanged.disposableOn(s),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&a.radius>0){var t=(0,d.positionFromCartesian)(a.center);t&&(0,d.flyTo)(o.camera,t,4*a.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(y.CzmClassificationPolygonPrimitive.type,n),t}(h.CzmObject);t.CzmCzmClassificationPolygonPrimitive=v},13895:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmClock=void 0;var l=n(93442),c=s(n(81557)),u=n(58354),p=n(61556),f=n(51355),d=n(59645),h=n(80468);function y(e){return c.JulianDate.toDate(e).getTime()}function g(e){if(e===c.ClockRange.CLAMPED)return"CLAMPED";if(e===c.ClockRange.LOOP_STOP)return"LOOP_STOP";if(e===c.ClockRange.UNBOUNDED)return"UNBOUNDED";throw new Error("getClockRange error: ".concat(e))}function m(e){if(e===c.ClockStep.SYSTEM_CLOCK)return"SYSTEM_CLOCK";if(e===c.ClockStep.SYSTEM_CLOCK_MULTIPLIER)return"SYSTEM_CLOCK_MULTIPLIER";if(e===c.ClockStep.TICK_DEPENDENT)return"TICK_DEPENDENT";throw new Error("clockStep未知类型: ".concat(e))}var v=function(e){function t(t,n){var r=e.call(this)||this,o=n.viewer;if(!o)throw new Error("!viewer");var i,a=b.czmJulianDateToTimeStamp,s=b.getClockRange,u=b.getClockStep;return(i=function(){var e;return o.clockViewModel.startTime=c.JulianDate.fromDate(new Date(null!==(e=t.startTime)&&void 0!==e?e:(0,h.getDefaultValue)(l.CzmClock.defaults.startTime)))})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"startTime",(function(e){return t.startTime=a(e)}))),r.dispose(t.startTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.stopTime=c.JulianDate.fromDate(new Date(null!==(e=t.stopTime)&&void 0!==e?e:(0,h.getDefaultValue)(l.CzmClock.defaults.stopTime)))})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"stopTime",(function(e){return t.stopTime=a(e)}))),r.dispose(t.stopTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.currentTime=c.JulianDate.fromDate(new Date(null!==(e=t.currentTime)&&void 0!==e?e:(0,h.getDefaultValue)(l.CzmClock.defaults.currentTime)))})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"currentTime",(function(e){return t.currentTime=a(e)}))),r.dispose(t.currentTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.multiplier=null!==(e=t.multiplier)&&void 0!==e?e:l.CzmClock.defaults.multiplier})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"multiplier",(function(e){var n;(null!==(n=t.multiplier)&&void 0!==n?n:l.CzmClock.defaults.multiplier!==e)&&(t.multiplier=e)}))),r.dispose(t.currentTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.clockStep=c.ClockStep[null!==(e=t.clockStep)&&void 0!==e?e:l.CzmClock.defaults.clockStep]})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"clockStep",(function(e){var n,r=u(e);(null!==(n=t.clockStep)&&void 0!==n?n:l.CzmClock.defaults.clockStep!==r)&&(t.clockStep=r)}))),r.dispose(t.clockStepChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.clockRange=c.ClockRange[null!==(e=t.clockRange)&&void 0!==e?e:l.CzmClock.defaults.clockRange]})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"clockRange",(function(e){var n,r=s(e);(null!==(n=t.clockRange)&&void 0!==n?n:l.CzmClock.defaults.clockRange!==r)&&(t.clockRange=r)}))),r.dispose(t.clockRangeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.shouldAnimate=null!==(e=t.shouldAnimate)&&void 0!==e?e:l.CzmClock.defaults.shouldAnimate})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"shouldAnimate",(function(e){var n;(null!==(n=t.shouldAnimate)&&void 0!==n?n:l.CzmClock.defaults.shouldAnimate!==e)&&(t.shouldAnimate=e)}))),r.dispose(t.shouldAnimateChanged.disposableOn(i)),r}return o(t,e),t}(f.Destroyable),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.disposeVar(new d.ObjResettingWithEvent(t.enabledChanged,(function(){var e;return(null!==(e=t.enabled)&&void 0!==e?e:l.CzmClock.defaults.enabled)?new v(t,n):void 0}))),r}var n;return o(t,e),n=t,t.type=n.register(l.CzmClock.type,n),t.czmJulianDateToTimeStamp=y,t.getClockRange=g,t.getClockStep=m,t}(u.CzmObject);t.CzmCzmClock=b},54254:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmColumnar=void 0;var u=n(58354),p=s(n(81557)),f=n(93442),d=n(80468),h=n(9675),y=n(66030),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._geoPolyline=r.disposeVar(new d.GeoPolyline);var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=r.geoPolyline;n.add(i),r.dispose((function(){return n.delete(i)})),i.allowPicking=!1,r.dispose((0,h.track)([i,"show"],[t,"editing"]));var a=o.entities.add({wall:{}});r.dispose((function(){return o.entities.remove(a)})),r.dispose(n.czmPickedEvent.don((function(e){e&&e.czmPickResult.id===a&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.don((function(e){i.flyTo(e)}))),(s=function(){var e;a.show=null===(e=t.show)||void 0===e||e})(),r.dispose(t.showChanged.don(s)),(s=function(){var e,n,r;a.wall.outline=null!==(e=t.outline)&&void 0!==e?e:f.CzmColumnar.defaults.outline,a.wall.material=(0,y.toColor)(null!==(n=t.material)&&void 0!==n?n:f.CzmColumnar.defaults.material),a.wall.outlineColor=(0,y.toColor)(null!==(r=t.outlineColor)&&void 0!==r?r:f.CzmColumnar.defaults.outlineColor)})();var s,u=r.disposeVar((0,h.createNextAnimateFrameEvent)(t.outlineChanged,t.outlineColorChanged,t.materialChanged));return r.dispose(u.don(s)),(s=function(){var e,n=t.positions,r=null!==(e=t.height)&&void 0!==e?e:f.CzmColumnar.defaults.height;if(!n||n.length<3)return a.show=!1,void(i.positions=void 0);a.show=!0,n.push(n[0]),i.positions=c([],l(n),!1);for(var o=[],s=[],u=0;u<n.length;u++){var d=n[u];o.push(d[0],d[1]),s.push(d[2])}var h;h=r>=0?Math.max.apply(Math,c([],l(s),!1))+r:Math.min.apply(Math,c([],l(s),!1))+r;var y=o.flat();a.wall.positions=p.Cartesian3.fromDegreesArray(y),a.wall.minimumHeights=s,a.wall.maximumHeights=s.map((function(){return h}))})(),u=r.disposeVar((0,h.createNextAnimateFrameEvent)(t.positionsChanged,t.heightChanged)),r.dispose(u.don(s)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),n=t,t.type=n.register(f.CzmColumnar.type,n),t}(u.CzmObject);t.CzmCzmColumnar=g},86726:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCoplanarPolygonPrimitive=void 0;var l=s(n(81557)),c=n(80468),u=n(61556),p=n(59645),f=n(58354),d=n(93442),h=n(95315),y=n(86003),g=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,f.getViewerExtensions)(n.viewer))return o;o.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r&&o.primitive===r&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}})));var a=o.disposeVar((0,h.createMaterialRef)([t,"material"],d.CzmCoplanarPolygonPrimitive.defaluts.material)),s=new l.BoundingSphere,g=function(){r&&(i.scene.primitives.remove(r),r=void 0)};o.dispose(g);var m=function(){if(g(),t.polygonHierarchy){var e,n,c,p,f,y=(0,u.positionsToUniqueCartesians)(t.polygonHierarchy.positions);y.length<3||!a.value?s.radius=-1:(l.BoundingSphere.fromPoints(y,s),e=a.value,c=new l.MaterialAppearance({material:e,materialSupport:"Checkerboard"===e.type?l.MaterialAppearance.MaterialSupport.TEXTURED:void 0}),p=[],f=new l.CoplanarPolygonGeometry({vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,h.createPolygonHierarchy)(null!==(n=t.polygonHierarchy)&&void 0!==n?n:d.CzmCoplanarPolygonPrimitive.defaluts.polygonHierarchy),stRotation:t.stRotation}),p.push(new l.GeometryInstance({geometry:f,id:o})),(r=new l.Primitive({geometryInstances:p,appearance:c,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1}))&&i.scene.primitives.add(r))}},v=function(){var e;r&&(r.show=null===(e=t.show)||void 0===e||e)};m(),v();var b=o.disposeVar((0,p.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.stRotationChanged,t.allowPickingChanged,a.changed));o.dispose(b.disposableOn((function(){m(),v()})));var _=o.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return o.dispose(_.disposableOn((function(){v()}))),o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,u.positionFromCartesian)(s.center);t&&(0,y.flyTo)(i.camera,t,4*s.radius,void 0,e)}}))),o}var n;return o(t,e),n=t,t.type=n.register(d.CzmCoplanarPolygonPrimitive.type,n),t}(f.CzmObject);t.CzmCzmCoplanarPolygonPrimitive=g},74589:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCursorInfo=void 0;var i=n(93442),a=n(51355),s=n(58354),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,s.getViewerExtensions)(o);return i?(r.dispose((0,a.bind)([i.cursorPositionInfo,"enabled"],[t,"enabled"])),r.dispose((0,a.track)([t,"cursorPosition"],[i.cursorPositionInfo,"cursorPosition"])),r):r}var n;return o(t,e),n=t,t.type=n.register(i.CzmCursorInfo.type,n),t}(n(58354).CzmObject);t.CzmCzmCursorInfo=l},29152:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCustomGroundRectangle=void 0;var u=n(80468),p=n(51355),f=n(59645),d=s(n(81557)),h=n(58354),y=n(93442),g=n(73194),m=n(95315),v=function(e){function t(t,n){var r,o,i,a=this;if(a=e.call(this)||this,!n.viewer)return console.warn("viewer is undefined!"),a;var s=t.rectangle;if(!s)throw new Error("!rectangle");var p=new d.GroundPrimitive({geometryInstances:new d.GeometryInstance({geometry:new d.RectangleGeometry({rectangle:(r=d.Rectangle).fromDegrees.apply(r,c([],l(s),!1)),rotation:d.Math.toRadians(t.rotation),stRotation:d.Math.toRadians(t.stRotation),vertexFormat:d.EllipsoidSurfaceAppearance.VERTEX_FORMAT})}),asynchronous:!1,appearance:new d.EllipsoidSurfaceAppearance({aboveGround:!1}),classificationType:m.czmPropMaps.classificationTypeMap[t.classificationType]});p.appearance.material=new d.Material({fabric:{type:"Image",uniforms:{image:"",repeat:{x:1,y:1},color:new((o=d.Color).bind.apply(o,c([void 0],l(null!==(i=t.color)&&void 0!==i?i:y.CzmCustomGroundRectangle.defaults.color),!1)))}}});var f=p.appearance.material._uniforms.image_0;p.appearance.material._uniforms.image_0=function(){do{var e=t.getCurrentCzmTexture();if(!e)break;if(!(e instanceof y.CzmTexture))break;var r=n.getCzmObject(e);if(!r)break;if(!(r instanceof g.CzmCzmTexture))break;if(!r.texture)break;return r.texture}while(0);return f()},a.disposeVar(new h.CzmViewer.ObjectsToExcludeWrapper(n,[p]));var v=function(){var e;p.show=null!==(e=t.show)&&void 0!==e?e:y.CzmCustomGroundRectangle.defaults.show};v(),a.dispose(t.showChanged.disposableOn(v)),a.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r.primitive===p&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}})));var b=n.viewerInstance.obj;if(!b)throw new Error("!viewerInstance");var _=b.groundPrimitivesMananger.createGroundPrimitiveWrapper(p);return(v=function(){return _.zIndex=t.zIndex})(),a.dispose(t.zIndexChanged.disposableOn(v)),a.dispose((function(){b.groundPrimitivesMananger.destroyGroundPrimitiveWrapper(_)})),a}return o(t,e),t}(p.Destroyable),b=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)throw console.error("viewer is undefined!"),new Error("viewer is undefined!");if(!(0,h.getViewerExtensions)(o))throw console.error("!viewerExtensions"),new Error("!viewerExtensions");var i=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.rectangleChanged,t.rotationChanged,t.stRotationChanged,t.colorChanged,t.allowPickingChanged,t.classificationTypeChanged));return r.disposeVar(new f.ObjResettingWithEvent(i,(function(){if(t.rectangle){var e=t.rectangle;if(e[0]>=e[2]||e[1]>=e[3])console.warn("r[0] >= r[2] || r[1] >= r[3]");else{if(!e.some((function(e){return!Number.isFinite(e)})))return new v(t,n);console.warn("r.some(e => !Number.isFinite(e))")}}}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=t.rectangle;if(r){var o=.5*(r[0]+r[2]),i=.5*(r[1]+r[3]),a=n.getTerrainHeight([o,i]),s=(0,u.geoDistance)([r[0],r[1],0],[r[2],r[3],0]);n.flyTo([o,i,null!=a?a:0],s,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(y.CzmCustomGroundRectangle.type,n),t}(h.CzmObject);t.CzmCzmCustomGroundRectangle=b},16453:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCustomPrimitive=void 0;var d=n(80468),h=n(51355),y=n(59645),g=s(n(81557)),m=n(61556),v=n(61546),b=n(58354),_=n(93442),w=n(95315),P=n(86003),C=n(73194);function O(e){var t=g.Resource.fetchImage({url:e});return t instanceof Promise?t:t?new Promise((function(e,n){t.then(e).otherwise(n)})):Promise.reject("Cesium.Resource.fetchImage error, 可能是参数有问题！")}!function(e){function t(t,n,r){var o=e.call(this)||this;return o._context=t,o._imageUri=n,o._setTextureFunc=r,o._processing=o.disposeVar(function(e,t,n){var r=this;return(0,y.createProcessingFromAsyncFunc)((function(o){return l(r,void 0,void 0,(function(){var r,i,a;return c(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,o.promise((0,y.sleep)(1e3))];case 1:return s.sent(),[4,o.promise((0,y.createCancelablePromise)(O(t)))];case 2:return r=s.sent(),i=function(e,t){return void 0!==t.internalFormat?new g.Texture({context:e,pixelFormat:t.internalFormat,width:t.naturalWidth,height:t.naturalHeight,source:{arrayBufferView:t.bufferView}}):new g.Texture({context:e,source:t})}(e,r),n(i),[3,4];case 3:throw a=s.sent(),n(void 0),a;case 4:return[2]}}))}))}))}(o._context,o._imageUri,o._setTextureFunc)),o._processing.start(),o}o(t,e),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0})}(h.Destroyable);var x=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new P.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,h.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,b.getViewerExtensions)(o))return r;var i=o.scene.context,a=o.scene.primitives.add(new w.CzmCustomPrimitive(o.scene));r._nativePrimitive=a,r.dispose((function(){return o.scene.primitives.remove(a)}));var s=r.disposeVar((0,h.createNextAnimateFrameEvent)(t.sPositionEditing.pickingChanged,t.allowPickingDepthChanged));r.disposeVar(new y.ObjResettingWithEvent(s,(function(){if(!t.allowPickingDepth||t.sPositionEditing.picking)return new b.CzmViewer.ObjectsToExcludeWrapper(n,[a])}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r.primitive===a&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}})));var l,c=(0,h.react)(void 0);(l=function(){var e,n;do{if(!t.position||!t.pixelSize)break;var r=(e=g.Cartesian3).fromDegrees.apply(e,p([],u(t.position),!1));if(!r)break;if(void 0===(n=(0,m.getSceneScaleForScreenPixelSize)(o.scene,r,t.pixelSize)))break;void 0!==t.maximumScale&&n>t.maximumScale&&(n=t.maximumScale),void 0!==t.minimumScale&&n<t.minimumScale&&(n=t.minimumScale)}while(0);c.value=n})(),r.dispose(o.scene.preUpdate.addEventListener(l)),(l=function(){r.sceneObject.sceneScaleEvent.emit(c.value,r.czmViewer)})(),r.dispose(c.changed.disposableOn(l)),r.disposeVar(new w.CurrentSceneScalePoi(n,[t,"showSceneScale"],[t,"position"],c));var O=function(){var e;a.show=(null===(e=t.show)||void 0===e||e)&&r.visibleAlpha>0};O(),r.dispose(t.showChanged.disposableOn(O)),r.dispose(r.visibleAlphaChanged.disposableOn(O));var x=r.disposeVar((0,h.react)(void 0)),S=function(){var e=(0,m.computeCzmModelMatrix)({localScale:t.localScale,initialRotation:"yForwardzUp",localRotation:t.localRotation,localPosition:t.localPosition,localModelMatrix:t.localModelMatrix,sceneScaleFromPixelSize:c.value,scale:t.scale,rotation:t.rotation,position:t.position,modelMatrix:t.modelMatrix});e?(x.value=e,a.modelMatrix=e):console.warn("computeCzmModelMatrix error!")},E=!0;r.dispose(t.showChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localPositionChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localRotationChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localScaleChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localModelMatrixChanged.disposableOn((function(){return E=!0}))),r.dispose(t.positionChanged.disposableOn((function(){return E=!0}))),r.dispose(t.rotationChanged.disposableOn((function(){return E=!0}))),r.dispose(t.scaleChanged.disposableOn((function(){return E=!0}))),r.dispose(t.modelMatrixChanged.disposableOn((function(){return E=!0}))),r.dispose(c.changed.disposableOn((function(){return E=!0}))),S(),r.dispose(o.scene.preUpdate.addEventListener((function(){E&&(E&&(E=!1),S())})));var j=function(){var e,n,r=t.boundingVolume,o=void 0===r?_.CzmCustomPrimitive.defaultBoundingVolume:r;if(o)if("LocalBoundingSphere"!==o.type)if("LocalAxisedBoundingBox"!==o.type);else{h=null!==(n=x.value)&&void 0!==n?n:g.Matrix4.IDENTITY;var i=o.data,s=i.min,l=i.max,c=new g.Cartesian3(.5*(s[0]+l[0]),.5*(s[1]+l[1]),.5*(s[2]+l[2])),u=(y=g.Matrix4.multiplyByPoint(h,c,c),new g.Cartesian3(.5*(l[0]-s[0]),.5*(l[1]-s[1]),.5*(l[2]-s[2])));u.x=0===u.x?1:u.x,u.y=0===u.y?1:u.y,u.z=0===u.z?1:u.z;var p=new g.Matrix3(u.x,0,0,0,u.y,0,0,0,u.z),f=g.Matrix4.getMatrix3(h,new g.Matrix3),d=g.Matrix3.multiply(f,p,f);a.boundingVolume=new g.OrientedBoundingBox(y,d)}else{var h=null!==(e=x.value)&&void 0!==e?e:g.Matrix4.IDENTITY,y=g.Matrix4.multiplyByPoint(h,g.Cartesian3.fromArray(o.data.center),new g.Cartesian3);a.boundingVolume=new g.BoundingSphere(y,o.data.radius)}else a.boundingVolume=void 0},T=function(){var e,n,r,o;(o=void 0===(r=t.boundingVolume)?_.CzmCustomPrimitive.defaultBoundingVolume:r)?"BoundingRectangle"!==o.type?"BoundingSphere"!==o.type||(a.boundingVolume=new g.BoundingSphere((n=g.Cartesian3).fromDegrees.apply(n,p([],u(o.data.center),!1)),o.data.radius)):a.boundingVolume=g.BoundingRectangle.fromRectangle((e=g.Rectangle).fromDegrees.apply(e,p([],u(o.data),!1))):a.boundingVolume=void 0,j()};T(),r.dispose(t.boundingVolumeChanged.disposableOn(T)),r.dispose(x.changed.disposableOn(j)),r.dispose((0,h.track)([a,"allowPicking"],[t,"allowPicking"])),r.dispose((0,h.track)([a,"attributes"],[t,"attributes"])),r.dispose((0,h.track)([a,"indexTypedArray"],[t,"indexTypedArray"]));var M=function(){var e;a.attributes=null!==(e=t.attributes)&&void 0!==e?e:_.CzmCustomPrimitive.defaultAttribute};M(),r.dispose(t.attributesChanged.disposableOn(M));var A=function(){var e;a.renderState=null!==(e=t.renderState)&&void 0!==e?e:_.CzmCustomPrimitive.defaultRenderState};A(),r.dispose(t.renderStateChanged.disposableOn(A));var I=function(){var e;a.vertexShaderSource=null!==(e=t.vertexShaderSource)&&void 0!==e?e:_.CzmCustomPrimitive.defaultVertexShaderSource};I(),r.dispose(t.vertexShaderSourceChanged.disposableOn(I));var z=function(){var e;a.fragmentShaderSource=null!==(e=t.fragmentShaderSource)&&void 0!==e?e:_.CzmCustomPrimitive.defaultFragmentShaderSource};z(),r.dispose(t.fragmentShaderSourceChanged.disposableOn(z));var D=function(){var e;return a.cull=null===(e=t.cull)||void 0===e||e};D(),r.dispose(t.cullChanged.disposableOn(D));var N=function(){var e;return a.pass=g.Pass[null!==(e=t.pass)&&void 0!==e?e:"TRANSLUCENT"]};N(),r.dispose(t.passChanged.disposableOn(N));var R=function(){var e;return a.primitiveType=g.PrimitiveType[null!==(e=t.primitiveType)&&void 0!==e?e:"TRIANGLES"]};R(),r.dispose(t.primitiveTypeChanged.disposableOn(R));var k=function(){var e;return a.occlude=null===(e=t.occlude)||void 0===e||e},L=function(){return a.count=t.count},F=function(){var e;return a.offset=null!==(e=t.offset)&&void 0!==e?e:0},B=function(){var e;return a.instanceCount=null!==(e=t.instanceCount)&&void 0!==e?e:0},V=function(){var e;return a.castShadows=null!==(e=t.castShadows)&&void 0!==e&&e},G=function(){var e;return a.receiveShadows=null!==(e=t.receiveShadows)&&void 0!==e&&e};k(),L(),F(),B(),V(),G(),r.dispose(t.occludeChanged.disposableOn(k)),r.dispose(t.countChanged.disposableOn(L)),r.dispose(t.offsetChanged.disposableOn(F)),r.dispose(t.instanceCountChanged.disposableOn(B)),r.dispose(t.castShadowsChanged.disposableOn(V)),r.dispose(t.receiveShadowsChanged.disposableOn(G));var U=function(){var e;return a.executeInClosestFrustum=null!==(e=t.executeInClosestFrustum)&&void 0!==e&&e},W=function(){var e;return a.debugShowBoundingVolume=null!==(e=t.debugShowBoundingVolume)&&void 0!==e&&e},H=function(){var e;return a.debugOverlappingFrustums=null!==(e=t.debugOverlappingFrustums)&&void 0!==e?e:0},J=function(){var e;return a.pickOnly=null!==(e=t.pickOnly)&&void 0!==e&&e},q=function(){var e;return a.depthForTranslucentClassification=null!==(e=t.depthForTranslucentClassification)&&void 0!==e&&e};U(),W(),H(),J(),q(),r.dispose(t.executeInClosestFrustumChanged.disposableOn(U)),r.dispose(t.debugShowBoundingVolumeChanged.disposableOn(W)),r.dispose(t.debugOverlappingFrustumsChanged.disposableOn(H)),r.dispose(t.pickOnlyChanged.disposableOn(J)),r.dispose(t.depthForTranslucentClassificationChanged.disposableOn(q));var Y=new Map;r.dispose((function(){var e,t;try{for(var n=f(Y.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o&&o.destroy()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}Y.clear()}));var X,Z=new Map;r.dispose((function(){var e,t;try{for(var n=f(Z.values()),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}Z.clear()}));var K,Q=function(){var e,t;if(X){try{for(var n=f(Object.values(X)),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}X=void 0}};r.dispose(Q);var $=function(){var e,t;if(K){try{for(var r=f(Object.values(K)),o=r.next();!o.done;o=r.next()){var i=o.value;n.delete(i),i.destroy()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}K=void 0}};r.dispose($);var ee=function(){var e,o,s,l,c,u,p,d={},h=null!==(p=t.uniformMap)&&void 0!==p?p:_.CzmCustomPrimitive.defaultUniformMap;Q(),X={},$(),K={};var m=[],v=function(e){var t=h[e];if(null==t)return console.error("updateUniformMap [".concat(e,"] error: !uniformValue")),"continue";if(Array.isArray(t)){var r=t.length,o=(2===r?g.Cartesian2:3===r?g.Cartesian3:g.Cartesian4).fromArray(t);d[e]=function(){return o}}else if("number"==typeof t)d[e]=function(){return t};else if("type"in t&&"image"===t.type){var a=new _.CzmTexture;a.enabled=!0,a.uri=t.uri,a.uriType="img",n.add(a),K[e]=a,d[e]=function(){do{var e=n.getCzmObject(a);if(!e)break;if(!(e instanceof C.CzmCzmTexture))break;if(!e.texture)break;return e.texture}while(0);return i.defaultTexture}}else if("type"in t&&"texture"===t.type){var s=new y.SceneObjectWithId;t.id||console.warn("uniform变量设置错误：".concat(e," 的配置中id未设置或者无效！id为").concat(t.id)),s.id=t.id,d[e]=function(){do{var e=s.sceneObject;if(!e)break;if(!(e instanceof _.CzmTexture))break;var t=n.getCzmObject(e);if(!t)break;if(!(t instanceof C.CzmCzmTexture))break;if(!t.texture)break;return t.texture}while(0);return i.defaultTexture},X[e]=s}};try{for(var b=f(Object.keys(h)),w=b.next();!w.done;w=b.next())v(w.value)}catch(t){e={error:t}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(e)throw e.error}}d.u_xe2VisibleAlpha=function(){return r.visibleAlpha},a.uniformMap=d;try{for(var P=f(Y.keys()),O=P.next();!O.done;O=P.next()){var x=O.value;m.includes(x)||(null==(j=Y.get(x))||j.destroy(),Y.delete(x))}}catch(e){s={error:e}}finally{try{O&&!O.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}try{for(var S=f(Z.keys()),E=S.next();!E.done;E=S.next()){var j;x=E.value,m.includes(x)||(null==(j=Z.get(x))||j.destroy(),Z.delete(x))}}catch(e){c={error:e}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}};return ee(),r.dispose(t.uniformMapChanged.disposableOn(ee)),r.dispose(t.flyToEvent.disposableOn((function(e){if(a.boundingVolume){var t=function(e){var t,n;if(e instanceof g.BoundingSphere)n=(0,m.positionFromCartesian)(e.center),t=5*e.radius;else if(e instanceof g.BoundingRectangle){var r=e.x,o=e.y,i=e.width,a=e.height,s=g.Rectangle.fromRadians(r,o,r+i,o+a),l=g.BoundingSphere.fromRectangle2D(s);n=(0,m.positionFromCartesian)(l.center),t=5*l.radius}else if(e instanceof g.OrientedBoundingBox){n=(0,m.positionFromCartesian)(e.center);var c=e.halfAxes,u=v.Vector.magnitude([c[0],c[1],c[2]]),p=v.Vector.magnitude([c[3],c[4],c[5]]),f=v.Vector.magnitude([c[6],c[7],c[8]]);t=5*Math.max(u,p,f)}if(n&&void 0!==t)return[n,t]}(a.boundingVolume);if(t){var n=u(t,2),r=n[0],i=n[1];(0,m.flyTo)(o.scene.camera,r,i,void 0,e)}else console.warn("无法计算viewDistance！")}else console.warn("CzmCustomPrimitive没有设置boundingVolume属性，无法飞入(flyTo)！")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"nativePrimitive",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(_.CzmCustomPrimitive.type,n),t}(b.CzmObject);t.CzmCzmCustomPrimitive=x},98377:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCustomRectangle=void 0;var u=n(80468),p=n(51355),f=n(59645),d=s(n(81557)),h=n(58354),y=n(93442),g=n(73194),m=function(e){function t(t,n){var r,o,i,a=this;a=e.call(this)||this;var s=n.viewer;if(!s)return console.warn("viewer is undefined!"),a;var p=t.rectangle;if(!p)throw new Error("!rectangle");var f=s.scene.primitives.add(new d.Primitive({geometryInstances:new d.GeometryInstance({geometry:new d.RectangleGeometry({rectangle:(r=d.Rectangle).fromDegrees.apply(r,c([],l(p),!1)),rotation:d.Math.toRadians(t.rotation),stRotation:d.Math.toRadians(t.stRotation),vertexFormat:d.EllipsoidSurfaceAppearance.VERTEX_FORMAT,height:t.height})}),asynchronous:!1,appearance:new d.EllipsoidSurfaceAppearance({aboveGround:!1})}));f.appearance.material=new d.Material({fabric:{type:"Image",uniforms:{image:"",repeat:{x:1,y:1},color:new((o=d.Color).bind.apply(o,c([void 0],l(null!==(i=t.color)&&void 0!==i?i:y.CzmCustomRectangle.defaults.color),!1)))}}}),a.dispose((function(){return s.scene.primitives.remove(f)}));var m=f.appearance.material._uniforms.image_0;f.appearance.material._uniforms.image_0=function(){do{var e=t.getCurrentCzmTexture();if(!e)break;if(!(e instanceof y.CzmTexture))break;var r=n.getCzmObject(e);if(!r)break;if(!(r instanceof g.CzmCzmTexture))break;if(!r.texture)break;return r.texture}while(0);return m()},a.disposeVar(new h.CzmViewer.ObjectsToExcludeWrapper(n,[f]));var v=function(){var e;f.show=null!==(e=t.show)&&void 0!==e?e:y.CzmCustomRectangle.defaults.show};return v(),a.dispose(t.showChanged.disposableOn(v)),a.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r.primitive===f&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),a}return o(t,e),t}(p.Destroyable),v=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)throw console.error("viewer is undefined!"),new Error("viewer is undefined!");if(!(0,h.getViewerExtensions)(o))throw console.error("!viewerExtensions"),new Error("!viewerExtensions");var i=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.rectangleChanged,t.rotationChanged,t.stRotationChanged,t.colorChanged,t.allowPickingChanged,t.classificationTypeChanged,t.heightChanged));return r.disposeVar(new f.ObjResettingWithEvent(i,(function(){if(t.rectangle){var e=t.rectangle;if(e[0]>=e[2]||e[1]>=e[3])console.warn("r[0] >= r[2] || r[1] >= r[3]");else{if(!e.some((function(e){return!Number.isFinite(e)})))return new m(t,n);console.warn("r.some(e => !Number.isFinite(e))")}}}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=t.rectangle;if(r){var o=.5*(r[0]+r[2]),i=.5*(r[1]+r[3]),a=n.getTerrainHeight([o,i]),s=(0,u.geoDistance)([r[0],r[1],0],[r[2],r[3],0]);n.flyTo([o,i,null!=a?a:0],s,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(y.CzmCustomRectangle.type,n),t}(h.CzmObject);t.CzmCzmCustomRectangle=v},2862:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCylinderEntity=void 0;var l=s(n(81557)),c=n(61556),u=n(58354),p=n(93442),f=n(95315),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=o.entities.add({position:void 0,orientation:void 0,cylinder:{}});r.dispose((function(){return o.entities.remove(i)}));var a=new l.Cartesian3;(h=function(){i.position=t.position&&(0,c.positionToCartesian)(t.position,a)})(),r.dispose(t.positionChanged.disposableOn(h));var s=new l.Quaternion;(h=function(){i.orientation=t.position&&t.rotation&&(0,c.positionAndRotationToQuaternion)(t.position,t.rotation,s)})(),r.dispose(t.rotationChanged.disposableOn(h)),(h=function(){i.show=t.show})(),r.dispose(t.showChanged.disposableOn(h)),(h=function(){var e;null===(e=i.cylinder)||void 0===e||(e.heightReference=t.heightReference&&f.czmPropMaps.heightReferencePropsMap[t.heightReference])})(),r.dispose(t.heightReferenceChanged.disposableOn(h)),(h=function(){i.cylinder.fill=t.fill})(),r.dispose(t.fillChanged.disposableOn(h));var u=new l.Color;(h=function(){i.cylinder.material=t.material&&(0,c.toColor)(t.material,u)})(),r.dispose(t.materialChanged.disposableOn(h)),(h=function(){i.cylinder.outline=t.outline})(),r.dispose(t.outlineChanged.disposableOn(h));var d=new l.Color;(h=function(){i.cylinder.outlineColor=t.outlineColor&&(0,c.toColor)(t.outlineColor,d)})(),r.dispose(t.outlineColorChanged.disposableOn(h)),(h=function(){i.cylinder.outlineWidth=t.outlineWidth})(),r.dispose(t.outlineWidthChanged.disposableOn(h)),(h=function(){i.cylinder.numberOfVerticalLines=t.numberOfVerticalLines})(),r.dispose(t.numberOfVerticalLinesChanged.disposableOn(h)),(h=function(){var e,n=null!==(e=t.slices)&&void 0!==e?e:p.CzmCylinderEntity.defaults.slices;n|=0,n=Math.max(3,n),i.cylinder.slices=n})(),r.dispose(t.slicesChanged.disposableOn(h)),(h=function(){i.cylinder.length=t.length})(),r.dispose(t.lengthChanged.disposableOn(h)),(h=function(){i.cylinder.topRadius=t.topRadius})(),r.dispose(t.topRadiusChanged.disposableOn(h)),(h=function(){i.cylinder.bottomRadius=t.bottomRadius})(),r.dispose(t.bottomRadiusChanged.disposableOn(h)),(h=function(){i.cylinder.shadows=t.shadows&&f.czmPropMaps.shadowPropsMap[t.shadows]})(),r.dispose(t.shadowsChanged.disposableOn(h));var h,y=new l.DistanceDisplayCondition;return(h=function(){i.cylinder.distanceDisplayCondition=t.distanceDisplayCondition&&(0,c.toDistanceDisplayCondition)(t.distanceDisplayCondition,y)})(),r.dispose(t.shadowsChanged.disposableOn(h)),r.dispose(t.flyToEvent.disposableOn((function(){return n.actived&&o.flyTo(i)}))),r}var n;return o(t,e),n=t,t.type=n.register(p.CzmCylinderEntity.type,n),t}(u.CzmObject);t.CzmCzmCylinderEntity=d},70859:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCzml=void 0;var u=n(80468),p=n(51355),f=n(59645),d=s(n(81557)),h=n(58354),y=n(93442),g=n(13895),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._dataSource=r.disposeVar((0,p.react)(void 0));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(null!==(n=t.allowPicking)&&void 0!==n&&n){if(!e)return;if(!e.czmPickResult)return;if(!e.czmPickResult.id)return;e.czmPickResult.id.entityCollection._owner===r.dataSource&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.dataSource&&(void 0!==e?o.flyTo(r.dataSource,{duration:e/1e3}):o.flyTo(r.dataSource))})));var i=function(){r.dataSource&&(o.dataSources.remove(r.dataSource,!0),r._dataSource.value=void 0)};r.dispose(i);var a=function(){if(r.dataSource){var e=r.dataSource;t.startTime=d.JulianDate.toDate(e.clock.startTime).getTime(),t.stopTime=d.JulianDate.toDate(e.clock.stopTime).getTime(),t.currentTime=d.JulianDate.toDate(e.clock.currentTime).getTime(),t.multiplier=e.clock.multiplier,t.clockStep=g.CzmCzmClock.getClockStep(e.clock.clockStep),t.clockRange=g.CzmCzmClock.getClockRange(e.clock.clockRange)}else console.warn("resetClock warn: dataSource is undefined!")};r.dispose(t.resetClockEvent.disposableOn(a));var s=function(){var e;r.dataSource&&(r.dataSource.show=null!==(e=t.show)&&void 0!==e?e:y.CzmCzml.defaults.show)};s(),r.dispose(t.showChanged.disposableOn(s));var h=r.disposeVar((0,p.react)(void 0));(b=function(){var e;h.value=null!==(e=t.data)&&void 0!==e?e:t.uri&&f.SceneObject.context.getStrFromEnv(t.uri)})();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.uriChanged,t.dataChanged));r.dispose(m.disposableOn(b));var v=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,l;return c(this,(function(c){switch(c.label){case 0:if(i(),!h.value)return[2];n=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,d.CzmlDataSource.load(h.value)];case 2:return n=c.sent(),[3,4];case 3:return r=c.sent(),console.error("加载czml错误：".concat(r)),console.error(r),[3,4];case 4:if(!n)return[2];if(e.check(),o.dataSources.add(n),this._dataSource.value=n,s(),(null!==(l=t.autoResetClock)&&void 0!==l?l:y.CzmCzml.defaults.autoResetClock)&&a(),!t.loadFun)return[2];try{t.loadFun(n)}catch(e){console.error(e)}return[2]}}))}))})));(b=function(){v.isRunning&&v.cancel(),v.restart()})();var b,_=r.disposeVar((0,p.createNextAnimateFrameEvent)(h.changed,t.loadFunChanged));return r.dispose(_.disposableOn(b)),(b=function(){if(t.loadFuncStr)try{var e=Function('"use strict";return ('.concat(t.loadFuncStr,")"))();t.loadFun=e}catch(e){console.error(e),t.loadFun=void 0}else t.loadFun=void 0})(),r.dispose(t.loadFuncStrChanged.disposableOn(b)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource.value},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmCzml.type,n),t}(h.CzmObject);t.CzmCzmCzml=m},31130:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmDepthOfFieldPostProcess=void 0;var l=n(51355),c=n(59645),u=s(n(81557)),p=n(58354),f=n(93442),d=function(e){function t(t){var n=e.call(this)||this;n._czmCzmDepthOfFieldPostProcess=t,n._postProcessStage=n.viewer.scene.postProcessStages.add(u.PostProcessStageLibrary.createDepthOfFieldStage()),n._postProcessStageDestroy=n.dispose((function(){return n.viewer.scene.postProcessStages.remove(n.postProcessStage)}));var r,o=n._czmCzmDepthOfFieldPostProcess.sceneObject;return(r=function(){n.postProcessStage.uniforms.fogByDistance=o.focalDistance})(),n.dispose(o.focalDistanceChanged.disposableOn(r)),(r=function(){n.postProcessStage.uniforms.delta=o.delta})(),n.dispose(o.deltaChanged.disposableOn(r)),(r=function(){n.postProcessStage.uniforms.sigma=o.sigma})(),n.dispose(o.sigmaChanged.disposableOn(r)),(r=function(){n.postProcessStage.uniforms.stepSize=o.stepSize})(),n.dispose(o.stepSizeChanged.disposableOn(r)),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._czmCzmDepthOfFieldPostProcess.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postProcessStage",{get:function(){return this._postProcessStage},enumerable:!1,configurable:!0}),t}(l.Destroyable),h=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)throw new Error("viewer is undefined!");return r.disposeVar(new c.ObjResettingWithEvent(t.showChanged,(function(){if(t.show)return new d(r)}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmDepthOfFieldPostProcess.type,n),t}(p.CzmObject);t.CzmCzmDepthOfFieldPostProcess=h},28337:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipseGroundPrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"])),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,c.positionToCartesian)(t.position);e&&i.value&&(r._primitive=function(e,n){if(e&&void 0!==t.semiMinorAxis&&void 0!==t.semiMajorAxis&&!(t.semiMinorAxis>t.semiMajorAxis)){var o=new l.MaterialAppearance({material:n}),i=[],a=new l.GeometryInstance({geometry:new l.EllipseGeometry({center:e,semiMinorAxis:t.semiMinorAxis,semiMajorAxis:t.semiMajorAxis,rotation:t.rotation&&l.Math.toRadians(t.rotation),stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0,vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,c.toEllipsoid)(t.ellipsoid),height:t.height,extrudedHeight:t.extrudedHeight}),id:r});return i.push(a),new l.GroundPrimitive({geometryInstances:i,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.rotationChanged,t.stRotationChanged,t.materialChanged,t.granularityChanged,t.ellipsoidChanged,t.heightChanged,t.extrudedHeightChanged));r.dispose(p.disposableOn((function(){a(),s()})));var f=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(f.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,c.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmEllipseGroundPrimitive.type,n),t}(p.CzmObject);t.CzmCzmEllipseGroundPrimitive=h},58464:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipseOutlinePrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=new l.Color,a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,c.positionToCartesian)(t.position);e&&(r._primitive=function(e){var n;if(e&&void 0!==t.semiMinorAxis&&void 0!==t.semiMajorAxis&&!(t.semiMinorAxis>t.semiMajorAxis)){var o=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(n=t.translucent)||void 0===n||n}),a=[],s=new l.GeometryInstance({geometry:new l.EllipseOutlineGeometry({center:e,semiMinorAxis:t.semiMinorAxis,semiMajorAxis:t.semiMajorAxis,rotation:t.rotation&&l.Math.toRadians(t.rotation),height:t.height,extrudedHeight:t.extrudedHeight,granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0,numberOfVerticalLines:t.numberOfVerticalLines,ellipsoid:t.ellipsoid&&(0,c.toEllipsoid)(t.ellipsoid)}),attributes:{color:t.outlineColor?l.ColorGeometryInstanceAttribute.fromColor((0,c.toColor)(t.outlineColor,i)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))},id:r});return a.push(s),new l.Primitive({geometryInstances:a,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.rotationChanged,t.extrudedHeightChanged,t.heightChanged,t.translucentChanged,t.outlineColorChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.ellipsoidChanged));r.dispose(p.disposableOn((function(){a(),s()})));var f=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(f.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,c.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmEllipseOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmEllipseOutlinePrimitive=d},8776:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipsePrimitive=void 0;var l=s(n(81557)),c=n(59645),u=n(58354),p=n(93442),f=n(95315),d=n(61556),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,f.createMaterialRef)([t,"material"])),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,d.positionToCartesian)(t.position);e&&i.value&&(r._primitive=function(e,n){if(e&&void 0!==t.semiMinorAxis&&void 0!==t.semiMajorAxis&&!(t.semiMinorAxis>t.semiMajorAxis)){var o=new l.MaterialAppearance({material:n}),i=[],a=new l.GeometryInstance({geometry:new l.EllipseGeometry({center:e,semiMinorAxis:t.semiMinorAxis,semiMajorAxis:t.semiMajorAxis,rotation:t.rotation&&l.Math.toRadians(t.rotation),height:t.height,extrudedHeight:t.extrudedHeight,stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0,vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,d.toEllipsoid)(t.ellipsoid)}),id:r});return i.push(a),new l.Primitive({geometryInstances:i,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var u=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.rotationChanged,t.stRotationChanged,t.materialChanged,t.extrudedHeightChanged,t.heightChanged,t.granularityChanged,t.ellipsoidChanged));r.dispose(u.disposableOn((function(){a(),s()})));var p=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(p.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,d.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(p.CzmEllipsePrimitive.type,n),t}(u.CzmObject);t.CzmCzmEllipsePrimitive=h},55427:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipsoidOutlinePrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=new l.Color,a=function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position&&t.radii&&(r._primitive=function(){var e;if(t.position&&t.radii){var n=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(e=t.translucent)||void 0===e||e}),o=new l.EllipsoidOutlineGeometry({radii:t.radii&&(0,c.toCartesian)(t.radii),innerRadii:t.innerRadii&&(0,c.toCartesian)(t.innerRadii),minimumClock:t.minimumClock&&l.Math.toRadians(t.minimumClock),maximumClock:t.maximumClock&&l.Math.toRadians(t.maximumClock),minimumCone:t.minimumCone&&l.Math.toRadians(t.minimumCone),maximumCone:t.maximumCone&&l.Math.toRadians(t.maximumCone),stackPartitions:t.stackPartitions,slicePartitions:t.slicePartitions,subdivisions:t.subdivisions}),a=new l.GeometryInstance({geometry:o,id:r,modelMatrix:t.position&&l.Transforms.eastNorthUpToFixedFrame((0,c.positionToCartesian)(t.position)),attributes:{color:t.color?l.ColorGeometryInstanceAttribute.fromColor((0,c.toColor)(t.color,i)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))}});return new l.Primitive({geometryInstances:a,appearance:n,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(),r._primitive&&o.scene.primitives.add(r._primitive))},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.radiiChanged,t.positionChanged,t.radiiChanged,t.innerRadiiChanged,t.minimumClockChanged,t.maximumClockChanged,t.minimumConeChanged,t.maximumConeChanged,t.slicePartitionsChanged,t.slicePartitionsChanged,t.translucentChanged,t.subdivisionsChanged,t.colorChanged));r.dispose(p.disposableOn((function(){a(),s()})));var f=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(f.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,c.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmEllipsoidOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmEllipsoidOutlinePrimitive=d},25253:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipsoidPrimitive=void 0;var u=s(n(81557)),p=n(61556),f=n(59645),d=n(58354),h=n(93442),y=n(95315),g=n(86003),m=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,y.createMaterialRef)([t,"material"])),a=function(){var e,n,a,s;r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position&&t.radii&&i.value&&(r._primitive=(e=i.value,n=new u.MaterialAppearance({material:e}),a=new u.EllipsoidGeometry({vertexFormat:u.MaterialAppearance.MaterialSupport.ALL.vertexFormat,radii:t.radii&&(0,p.toCartesian)(t.radii),innerRadii:t.innerRadii&&(0,p.toCartesian)(t.innerRadii),minimumClock:t.minimumClock&&u.Math.toRadians(t.minimumClock),maximumClock:t.maximumClock&&u.Math.toRadians(t.maximumClock),minimumCone:t.minimumCone&&u.Math.toRadians(t.minimumCone),maximumCone:t.maximumCone&&u.Math.toRadians(t.maximumCone),stackPartitions:t.stackPartitions,slicePartitions:t.slicePartitions}),s=new u.GeometryInstance({geometry:a,id:r,modelMatrix:t.position&&u.Transforms.eastNorthUpToFixedFrame((0,p.positionToCartesian)(t.position))}),new u.Primitive({geometryInstances:s,appearance:n,asynchronous:!1,allowPicking:!1,compressVertices:!1})),r._primitive&&o.scene.primitives.add(r._primitive))},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var d=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.positionChanged,t.radiiChanged,t.innerRadiiChanged,t.minimumClockChanged,t.maximumClockChanged,t.minimumConeChanged,t.maximumConeChanged,t.slicePartitionsChanged,t.slicePartitionsChanged));r.dispose(d.disposableOn((function(){a(),s()})));var h=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(h.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=t.radii?3*Math.max.apply(Math,c([],l(t.radii),!1)):o.scene.camera.positionCartographic.height;(0,g.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmEllipsoidPrimitive.type,n),t}(d.CzmObject);t.CzmCzmEllipsoidPrimitive=m},75241:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmFlyAround=void 0;var u=n(61556),p=n(59645),f=s(n(81557)),d=n(58354),h=n(93442),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=o.camera,a=r.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,a,s,l,p,d,h,y,g,m,v,b,_;return c(this,(function(c){switch(c.label){case 0:return n=t.position,r=t.flyToDuration,a=void 0===r?1e3:r,s=t.aroundSpeed,l=void 0===s?.018:s,p=t.placeCenter,d=void 0===p||p,h=t.stopPitch,n?(y=f.Cartesian3.fromDegrees(n[0],n[1],n[2]),g=f.Cartesian3.distance(y,o.camera.positionWC),m=t.stopRadius,v=void 0===m?g:m,"number"!=typeof h?[3,2]:((b=(0,u.getCameraRotation)(i))[1]=h,b[2]=0,(_=(0,u.flyTo)(i,n,v,b,a,(function(){!0===t.enabled&&(t.enabled=!1)})))?[4,e.promise(_)]:[3,2])):[2];case 1:c.sent(),c.label=2;case 2:return[4,e.promise((0,u.flyAround)(i,n,v,a,l,d,(function(){!0===t.enabled&&(t.enabled=!1)})))];case 3:return c.sent(),!0===t.enabled&&(t.enabled=!1),[2]}}))}))}))),s=function(){a.isRunning&&a.cancel(),t.enabled&&n.actived&&a.restart()};return s(),r.dispose(t.enabledChanged.disposableOn(s)),r.dispose(t.applyCurrentEvent.disposableOn((function(e){var r,i;if(n.actived){if(null!==(r=e.distance)&&void 0!==r&&r){var a=t.position;if(!a)return void console.warn("应用视距之前，需要设置位置(position)！");var s=f.Cartesian3.fromDegrees(a[0],a[1],a[2]),l=f.Cartesian3.distance(s,o.camera.positionWC);t.stopRadius=l}if(null!==(i=e.pitch)&&void 0!==i&&i){var c=o.camera.pitch;t.stopPitch=f.Math.toDegrees(c)}}else console.info("当前视口(".concat(n.name,"-").concat(n.id,")没有激活，不能应用视距！"))}))),r.dispose(t.flyToEvent.disposableOn((function(e){t.enabled=!t.enabled}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmFlyAround.type,n),t}(d.CzmObject);t.CzmCzmFlyAround=y},50932:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmFogPostProcess=void 0;var u=n(51355),p=n(59645),f=s(n(81557)),d=n(58354),h=n(93442),y=function(e){function t(t){var n=e.call(this)||this;n._czmCzmFogPostProcess=t,n._postProcessStage=n.viewer.scene.postProcessStages.add(new f.PostProcessStage({fragmentShader:"float getDistance(sampler2D depthTexture, vec2 texCoords) \n{ \n    float depth = czm_unpackDepth(texture(depthTexture, texCoords)); \n    if (depth == 0.0) { \n        return czm_infinity; \n    } \n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depth); \n    return -eyeCoordinate.z / eyeCoordinate.w; \n} \nfloat interpolateByDistance(vec4 nearFarScalar, float distance) \n{ \n    float startDistance = nearFarScalar.x; \n    float startValue = nearFarScalar.y; \n    float endDistance = nearFarScalar.z; \n    float endValue = nearFarScalar.w; \n    float t = clamp((distance - startDistance) / (endDistance - startDistance), 0.0, 1.0); \n    return mix(startValue, endValue, t); \n} \nvec4 alphaBlend(vec4 sourceColor, vec4 destinationColor) \n{ \n    return sourceColor * vec4(sourceColor.aaa, 1.0) + destinationColor * (1.0 - sourceColor.a); \n} \nuniform sampler2D colorTexture; \nuniform sampler2D depthTexture; \nuniform vec4 fogByDistance; \nuniform vec4 fogColor; \nin vec2 v_textureCoordinates; \nvoid main(void) \n{ \n    float distance = getDistance(depthTexture, v_textureCoordinates); \n    vec4 sceneColor = texture(colorTexture, v_textureCoordinates); \n    float blendAmount = interpolateByDistance(fogByDistance, distance); \n    vec4 finalFogColor = vec4(fogColor.rgb, fogColor.a * blendAmount); \n    out_FragColor = alphaBlend(finalFogColor, sceneColor); \n}\n",uniforms:{fogByDistance:new f.Cartesian4(10,0,200,1),fogColor:f.Color.BLACK}})),n._postProcessStageDestroy=n.dispose((function(){return n.viewer.scene.postProcessStages.remove(n.postProcessStage)}));var r,o=n._czmCzmFogPostProcess.sceneObject;return(r=function(){var e;n.postProcessStage.uniforms.fogByDistance=(e=f.Cartesian4).fromElements.apply(e,c([],l(o.fogByDistance),!1))})(),n.dispose(o.fogByDistanceChanged.disposableOn(r)),(r=function(){var e;n.postProcessStage.uniforms.fogColor=new((e=f.Color).bind.apply(e,c([void 0],l(o.fogColor),!1)))})(),n.dispose(o.fogColorChanged.disposableOn(r)),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._czmCzmFogPostProcess.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postProcessStage",{get:function(){return this._postProcessStage},enumerable:!1,configurable:!0}),t}(u.Destroyable),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)throw new Error("viewer is undefined!");return r.disposeVar(new p.ObjResettingWithEvent(t.showChanged,(function(){if(t.show)return new y(r)}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmFogPostProcess.type,n),t}(d.CzmObject);t.CzmCzmFogPostProcess=g},15572:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGeHistoryImagery=void 0;var s=n(59645),l=n(51355),c=n(58354),u=n(93442),p=n(1887),f=n(80468);var d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmImagery=void 0,r._customDiv=r.disposeVar(new f.CustomDiv);var c=n.viewer;if(!c)return console.warn("viewer is undefined!"),r;var d=function(){return i(r,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,(0,p.getCurrentTileCoordinates)(c)];case 1:return e=n.sent(),t.dates=e,t.datesEvent.emit(e,c),[2]}}))}))};d();var h=!1;r.dispose(c.camera.moveStart.addEventListener((function(){h=!0}))),r.dispose(c.camera.moveEnd.addEventListener((function(){return i(r,void 0,void 0,(function(){return a(this,(function(e){return h&&(h=!1,d()),[2]}))}))}))),r.disposeVar(new s.ObjResettingWithEvent(t.currentDateChanged,(function(){r.czmImagery=new u.CzmImagery;var e=r.czmImagery;return n.add(e),e.dispose((function(){return n.delete(e)})),e.imageryProvider={type:"GeHistoryImagery",indexTime:t.currentDate?t.currentDate:0},r.dispose((0,l.track)([e,"show"],[t,"show"])),e})));var y=r._customDiv;return n.add(y),r.dispose((function(){return n.delete(y)})),r.dispose((0,l.track)([y,"show"],[t,"showUI"])),r.dispose((0,l.bind)([y,"containerId"],[t,"containerId"])),y.instanceClass=function(e){return function(t){function n(n,r,o){var i,a=t.call(this)||this,l=document.createElement("select");n.appendChild(l),a.dispose((function(){return n.removeChild(l)})),(i=function(){var e;l.style.display=null===(e=r.show)||void 0===e||e?"block":"none"})(),a.dispose(r.showChanged.disposableOn(i)),(i=function(){var t=-1,n=1/0;l.innerHTML="",e.dates.forEach((function(r,o){var i=document.createElement("option");i.value=r,i.textContent=r,l.appendChild(i);var a,s,c,u,p=(a=r,s=e.currentDate,c=new Date(a),u=new Date(s),Math.abs(u-c)/864e5);p<n&&(n=p,t=o)})),-1!==t&&(l.selectedIndex=t),l.addEventListener("change",(function(){e.currentDate=l.value}))})(),a.dispose(e.datesChanged.disposableOn(i)),(i=function(){var t;l.style.cssText=u.CzmGeHistoryImagery.defaults.cssText+(null!==(t=e.cssText)&&void 0!==t?t:""),l.style.display=r.show?"block":"none"})();var c=a.disposeVar((0,s.createNextAnimateFrameEvent)(e.cssTextChanged,r.showChanged));return a.dispose(c.disposableOn(i)),a}return o(n,t),Object.defineProperty(n.prototype,"sceneTreeApp",{get:function(){return this._sceneTreeApp},enumerable:!1,configurable:!0}),n}(l.Destroyable)}(t),r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmImagery",{get:function(){return this._czmImagery},set:function(e){this._czmImagery=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),n=t,t.type=n.register(u.CzmGeHistoryImagery.type,n),t}(c.CzmObject);t.CzmCzmGeHistoryImagery=d},43074:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGeoJson=void 0;var u=s(n(81557)),p=n(51355),f=n(61556),d=n(59645),h=n(58354),y=n(43891),g=n(80468),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._dataSource=r.disposeVar((0,p.react)(void 0));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(null!==(n=t.allowPicking)&&void 0!==n&&n){if(!e)return;if(!e.czmPickResult)return;if(!e.czmPickResult.id)return;var o=e.czmPickResult;if(!o.id)return;if(!o.id.entityCollection)return;o.id.entityCollection._owner===r.dataSource&&t.pickedEvent.emit(new g.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.dataSource&&(void 0!==e?o.flyTo(r.dataSource,{duration:e/1e3}):o.flyTo(r.dataSource))})));var i=function(){r.dataSource&&(o.dataSources.remove(r.dataSource),r._dataSource.value=void 0)};r.dispose(i);var a=r.disposeVar((0,d.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,a,s,l,p,h,g,m,v,b,_;return c(this,(function(c){switch(c.label){case 0:if(i(),!(n=null!==(s=t.data)&&void 0!==s?s:t.uri&&d.SceneObject.context.getStrFromEnv(t.uri)))return[2];r=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,u.GeoJsonDataSource.load(n,{fill:(0,f.toColor)(null!==(l=t.fill)&&void 0!==l?l:y.CzmGeoJson.defaults.fill),stroke:(0,f.toColor)(null!==(p=t.stroke)&&void 0!==p?p:y.CzmGeoJson.defaults.stroke),strokeWidth:null!==(h=t.strokeWidth)&&void 0!==h?h:y.CzmGeoJson.defaults.strokeWidth,markerSymbol:null!==(g=t.markerSymbol)&&void 0!==g?g:y.CzmGeoJson.defaults.markerSymbol,markerColor:(0,f.toColor)(null!==(m=t.markerColor)&&void 0!==m?m:y.CzmGeoJson.defaults.markerColor),markerSize:null!==(v=t.markerSize)&&void 0!==v?v:y.CzmGeoJson.defaults.markerSize,clampToGround:null!==(b=t.clampToGround)&&void 0!==b?b:y.CzmGeoJson.defaults.clampToGround})];case 2:return r=c.sent(),[3,4];case 3:return a=c.sent(),r=void 0,console.error("geojson数据加载失败！".concat(a)),console.error(a),[3,4];case 4:if(!r)return[2];if(e.check(),o.dataSources.add(r),this._dataSource.value=r,r.show=null!==(_=t.show)&&void 0!==_?_:y.CzmGeoJson.defaults.show,!t.loadFun)return[2];try{t.loadFun(r)}catch(e){console.error(e)}return[2]}}))}))})));(s=function(){a.isRunning&&a.cancel(),a.restart()})();var s,h=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.dataChanged,t.uriChanged,t.loadFunChanged,t.showChanged,t.fillChanged,t.strokeChanged,t.clampToGroundChanged,t.markerSymbolChanged,t.markerColorChanged,t.markerSizeChanged,t.strokeWidthChanged));return r.dispose(h.disposableOn(s)),(s=function(){if(t.loadFuncStr)try{var e=Function('"use strict";return ('.concat(t.loadFuncStr,")"))();t.loadFun=e}catch(e){console.error(e),t.loadFun=void 0}else t.loadFun=void 0})(),r.dispose(t.loadFuncStrChanged.disposableOn(s)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource.value},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmGeoJson.type,n),t}(h.CzmObject);t.CzmCzmGeoJson=m},66931:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGlobeLevelMaterial=void 0;var l=s(n(81557)),c=n(58354),u=n(93442),p=n(51355),f=n(61556),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=new l.Material({fabric:{type:"GlobelLevel"},translucent:!1});(a=function(){i.uniforms.input_shadows=l.Cartesian3.fromArray(t.inputShadows),i.uniforms.input_highlights=l.Cartesian3.fromArray(t.inputHighlights),i.uniforms.midtones=l.Cartesian3.fromArray(t.midtones),i.uniforms.output_shadows=l.Cartesian3.fromArray(t.outputShadows),i.uniforms.output_highlights=l.Cartesian3.fromArray(t.outputHighlights)})();var a,s=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.inputShadowsChanged,t.inputHighlightsChanged,t.midtonesChanged,t.outputShadowsChanged,t.outputHighlightsChanged));return r.dispose(s.disposableOn(a)),(a=function(){t.enabled?(o.scene.globe.material=i,(0,f.czmInitGlobelLevelOnViewerCreating)(o)):o.scene.globe.material=void 0})(),r.dispose(t.enabledChanged.disposableOn(a)),r}var n;return o(t,e),n=t,t.type=n.register(u.CzmGlobeLevelMaterial.type,n),t}(c.CzmObject);t.CzmCzmGlobeLevelMaterial=d},56969:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGlobeMaterial=void 0;var l=n(93442),c=n(58354),u=s(n(81557)),p=n(59645),f=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=o.scene.globe,a=u.Color.RED.clone(),s={};function l(){var e;if(o){var n;do{var r=t.shadingMode||"none";if(null!==(e=t.show)&&void 0!==e&&!e||"none"===r)break;var l=void 0;t.enableContour?("elevation"===r?((l=(n=new u.Material({fabric:{type:"ElevationColorContour",materials:{contourMaterial:{type:"ElevationContour"},elevationRampMaterial:{type:"ElevationRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? elevationRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, elevationRampMaterial.alpha)"}},translucent:!1})).materials.elevationRampMaterial.uniforms).minimumHeight=-414,l.maximumHeight=8777,s=n.materials.contourMaterial.uniforms):"slope"===r?(l=(n=new u.Material({fabric:{type:"SlopeColorContour",materials:{contourMaterial:{type:"ElevationContour"},slopeRampMaterial:{type:"SlopeRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? slopeRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, slopeRampMaterial.alpha)"}},translucent:!1})).materials.slopeRampMaterial.uniforms,s=n.materials.contourMaterial.uniforms):"aspect"===r?(l=(n=new u.Material({fabric:{type:"AspectColorContour",materials:{contourMaterial:{type:"ElevationContour"},aspectRampMaterial:{type:"AspectRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? aspectRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, aspectRampMaterial.alpha)"}},translucent:!1})).materials.aspectRampMaterial.uniforms,s=n.materials.contourMaterial.uniforms):(n=u.Material.fromType("ElevationContour"),s=n.uniforms),s.width=t.contourWidth,s.spacing=t.contourSpacing,s.color=a):"elevation"===r?((l=(n=u.Material.fromType("ElevationRamp")).uniforms).minimumHeight=-414,l.maximumHeight=8777):"slope"===r?l=(n=u.Material.fromType("SlopeRamp")).uniforms:"aspect"===r&&(l=(n=u.Material.fromType("AspectRamp")).uniforms),l.image=g(r)}while(0);i.material=n}}l();var c=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.contourSpacingChanged,t.contourWidthChanged,t.enableContourChanged,t.shadingModeChanged,t.showChanged));return r.dispose(c.disposableOn(l)),r.dispose((function(){return i.material=void 0})),r}var n;return o(t,e),n=t,t.type=n.register(l.CzmGlobeMaterial.type,n),t}(c.CzmObject);t.CzmCzmGlobeMaterial=f;var d=[0,.045,.1,.15,.37,.54,1],h=[0,.29,.5,Math.sqrt(2)/2,.87,.91,1],y=[0,.2,.4,.6,.8,.9,1];function g(e){var t=document.createElement("canvas");t.width=100,t.height=1;var n,r=t.getContext("2d");if("elevation"===e)n=d;else if("slope"===e)n=h;else{if("aspect"!==e)throw new Error("values未赋值！");n=y}var o=r.createLinearGradient(0,0,100,0);return o.addColorStop(n[0],"#000000"),o.addColorStop(n[1],"#2747E0"),o.addColorStop(n[2],"#D33B7D"),o.addColorStop(n[3],"#D33038"),o.addColorStop(n[4],"#FF9742"),o.addColorStop(n[5],"#ffd700"),o.addColorStop(n[6],"#ffffff"),r.fillStyle=o,r.fillRect(0,0,100,1),t}},90033:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmImageModel=void 0;var a=n(80468),s=n(51355),l=n(58354),c=n(93442),u=function(e){function t(t,n){var r=e.call(this)||this;r._czmCzmImageModel=t,r._rotationMode=n;var o=r._czmCzmImageModel,i=o.czmViewer,a=o.customPrimitive,l=o.sceneObject;if("WithProp"===r._rotationMode)r.dispose((0,s.track)([a,"rotation"],[l,"rotation"]));else if("WithCameraOnlyZ"===r._rotationMode)(c=function(){var e=l.rotation,t=i.getCameraInfo();t&&(a.rotation=[t.rotation[0],e[1],e[2]])})(),r.dispose(i.cameraChanged.disposableOn(c)),r.dispose(l.rotationChanged.disposableOn(c));else if("WithCamera"===r._rotationMode){var c;(c=function(){var e=i.getCameraInfo();if(e){var t=e.rotation;a.rotation=[t[0],t[1]+90,t[2]]}})(),r.dispose(i.cameraChanged.disposableOn(c)),r.dispose(l.rotationChanged.disposableOn(c))}return r}return o(t,e),t}(s.Destroyable),p=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._customPrimitive=r.disposeVar(new c.CzmCustomPrimitive),!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.customPrimitive;n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),o.attributes={position:{typedArray:new Float32Array([0,0,0,0,-1,0,1,-1,0,1,0,0,0,0,0,0,-1,0,1,-1,0,1,0,0]),componentsPerAttribute:3},normal:{typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1]),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array([0,1,0,0,1,0,1,1,1,1,1,0,0,0,0,1]),componentsPerAttribute:2}},o.indexTypedArray=new Uint16Array([0,1,2,0,2,3,6,5,4,7,6,4]),o.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:[0,-1,0],max:[1,0,0]}},o.pass="TRANSLUCENT",o.vertexShaderSource="\n        // vtxf 使用double类型的position进行计算\n        // in vec3 position3DHigh;\n        // in vec3 position3DLow;\n        in vec3 position;\n        in vec3 normal;\n        in vec2 st;\n        in float batchId;\n        out vec3 v_positionEC;\n        out vec3 v_normalEC;\n        out vec2 v_st;\n        void main()\n        {\n            // vtxf 使用double类型的position进行计算\n            // vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n            // v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n            // v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n            // v_st = st;\n            // gl_Position = czm_modelViewProjectionRelativeToEye * p;\n            v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n            v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n            v_st = st;\n            gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n        }\n        ",o.fragmentShaderSource="\n        in vec3 v_positionEC;\n        in vec3 v_normalEC;\n        in vec2 v_st;\n        uniform sampler2D myImage;\n        uniform vec4 myColor;\n        uniform float u_xe2VisibleAlpha;\n        void main()\n        {\n            vec3 positionToEyeEC = -v_positionEC;\n            vec3 normalEC = normalize(v_normalEC);\n        #ifdef FACE_FORWARD\n            normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n        #endif\n            czm_materialInput materialInput;\n            materialInput.normalEC = normalEC;\n            materialInput.positionToEyeEC = positionToEyeEC;\n            materialInput.st = v_st;\n            //czm_material material = czm_getMaterial(materialInput);\n            czm_material material = czm_getDefaultMaterial(materialInput);\n            vec4 imageColor = texture(myImage, materialInput.st);\n            material.diffuse = imageColor.rgb;\n            material.alpha = imageColor.a * u_xe2VisibleAlpha;\n        // #ifdef FLAT\n            out_FragColor = vec4(material.diffuse + material.emission, material.alpha) * myColor;\n        // #else\n            // out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n        // #endif\n        }\n        ",o.renderState={depthTest:{enabled:!0},cull:{enabled:!0,face:1029},blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}};var l=function(){var e,n,r;t.czmTextureId?o.uniformMap={myImage:{type:"texture",id:t.czmTextureId},myColor:null!==(e=t.color)&&void 0!==e?e:[1,1,1,1]}:o.uniformMap={myImage:{type:"image",uri:a.SceneObject.context.getStrFromEnv(null!==(n=t.uri)&&void 0!==n?n:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png")},myColor:null!==(r=t.color)&&void 0!==r?r:[1,1,1,1]}};l(),r.dispose(t.uriChanged.disposableOn(l)),r.dispose(t.czmTextureIdChanged.disposableOn(l)),r.dispose(t.colorChanged.disposableOn(l)),r.dispose((0,s.bind)([o,"show"],[t,"show"])),r.dispose((0,s.bind)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,s.bind)([o,"position"],[t,"position"]));var p=function(){o.pixelSize=t.pixelSize>0?t.pixelSize:void 0};p(),r.dispose(t.pixelSizeChanged.disposableOn(p)),r.dispose((0,s.track)([o,"maximumScale"],[t,"maximumScale"])),r.dispose((0,s.track)([o,"viewDistanceRange"],[t,"viewDistanceRange"])),r.dispose((0,s.track)([o,"viewDistanceDebug"],[t,"viewDistanceDebug"]));var f=function(){var e=t.scale,n=void 0===e?1:e;o.scale=[n,n,1]};f(),r.dispose(t.scaleChanged.disposableOn(f));var d=function(){var e,n,r=function(e,t,n){var r=i(e,4),o=r[0],a=r[1],s=r[2],l=r[3],c=i(t,2),u=c[0],p=c[1],f=-(u*o+s),d=p*a+l;return[u,0,0,0,0,p,0,0,0,0,1,0,f,d,0,1]}(null!==(e=t.originRatioAndOffset)&&void 0!==e?e:[.5,1,0,0],null!==(n=t.size)&&void 0!==n?n:[1,1]);o.localModelMatrix=r};return d(),r.dispose(t.originRatioAndOffsetChanged.disposableOn(d)),r.dispose(t.sizeChanged.disposableOn(d)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.disposeVar(new a.ObjResettingWithEvent(t.rotationModeChanged,(function(){return new u(r,t.rotationMode)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"customPrimitive",{get:function(){return this._customPrimitive},enumerable:!1,configurable:!0}),n=t,t.type=n.register(c.CzmImageModel.type,n),t}(l.CzmObject);t.CzmCzmImageModel=p},61292:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTileCoordinates=t.XbsjTileserArcgisHisImageryProvider=void 0;var p=s(n(81557)),f=function(e){function t(t){var n=this;return t.url="https://wayback.maptiles.arcgis.com/",t.minimumLevel=1,t.maximumLevel=18,(n=e.call(this,t)||this)._indexTimeID=0,n.indexTimeID=t.indexTimeID||0,n}return o(t,e),Object.defineProperty(t.prototype,"indexTimeID",{get:function(){return this._indexTimeID},set:function(e){this._indexTimeID=e},enumerable:!1,configurable:!0}),t.prototype.requestImage=function(e,t,n,r){return l(this,void 0,void 0,(function(){var r;return c(this,(function(o){try{return void 0,r=0!==this.indexTimeID?this.buildImageUrl(this.indexTimeID,e,t,n):"https://wayback.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/WMTS/1.0.0/default028mm/MapServer/tile/".concat(n,"/").concat(t,"/").concat(e),[2,p.ImageryProvider.loadImage(this,r)]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.buildImageUrl=function(e,t,n,r){return"https://wayback.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/WMTS/1.0.0/default028mm/MapServer/tile/".concat(e,"/").concat(r,"/").concat(n,"/").concat(t)},t}(p.UrlTemplateImageryProvider);function d(e,t,n){return l(this,void 0,void 0,(function(){return c(this,(function(r){switch(r.label){case 0:return[4,fetch("https://tileser.giiiis.com/arcgis/".concat(n,"/").concat(e,"/").concat(t))];case 1:return[2,r.sent().json()]}}))}))}t.XbsjTileserArcgisHisImageryProvider=f,t.getCurrentTileCoordinates=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,f,h;return c(this,(function(c){switch(c.label){case 0:return t=e.scene,n=t.globe.ellipsoid,r=t.camera,o=n.cartesianToCartographic(r.position),i=p.Math.toDegrees(o.longitude),a=p.Math.toDegrees(o.latitude),s=o.height,l=function(e){var t,n;try{for(var r=u([{maxAlt:25e7,level:0},{maxAlt:25e6,level:1},{maxAlt:9e6,level:2},{maxAlt:7e6,level:3},{maxAlt:44e5,level:4},{maxAlt:2e6,level:5},{maxAlt:1e6,level:6},{maxAlt:493977,level:7},{maxAlt:218047,level:8},{maxAlt:124961,level:9},{maxAlt:56110,level:10},{maxAlt:4e4,level:11},{maxAlt:13222,level:12},{maxAlt:7e3,level:13},{maxAlt:4e3,level:14},{maxAlt:2500,level:15},{maxAlt:1500,level:16},{maxAlt:600,level:17},{maxAlt:250,level:18},{maxAlt:150,level:19},{maxAlt:50,level:20}]),o=r.next();!o.done;o=r.next()){var i=o.value,a=i.maxAlt,s=i.level;if(e>=a)return s+1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return 20}(s),f=Math.floor((i+180)/360*Math.pow(2,l)),h=Math.floor((1-Math.log(Math.tan(a*Math.PI/180)+1/Math.cos(a*Math.PI/180))/Math.PI)/2*Math.pow(2,l)),[4,d(f,h,l)];case 1:return[2,c.sent()]}}))}))}},70415:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToWGS84WebMercatorTilingScheme=t.ToGCJ02WebMercatorTilingScheme=void 0;var l=s(n(81557)),c=s(n(97968)),u=function(e){function t(t){var n=e.call(this,t)||this,r=n._projection;r.s_project=r.project,r.project=function(e){var t;return t=c.gcj02towgs84(l.Math.toDegrees(e.longitude),l.Math.toDegrees(e.latitude)),r.s_project(new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1])))},r.s_unproject=r.unproject,r.unproject=function(e){var t,n=r.s_unproject(e);return t=c.wgs84togcj02(l.Math.toDegrees(n.longitude),l.Math.toDegrees(n.latitude)),new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1]))};var o=n._projection.unproject(n._rectangleSouthwestInMeters),i=n._projection.unproject(n._rectangleNortheastInMeters);return n._rectangle=new l.Rectangle(o.longitude,o.latitude,i.longitude,i.latitude),n}return o(t,e),t}(l.WebMercatorTilingScheme);t.ToGCJ02WebMercatorTilingScheme=u;var p=function(e){function t(t){var n=e.call(this,t)||this,r=n._projection;return r.s_project=r.project,r.project=function(e){var t;return t=c.wgs84togcj02(l.Math.toDegrees(e.longitude),l.Math.toDegrees(e.latitude)),r.s_project(new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1])))},r.s_unproject=r.unproject,r.unproject=function(e){var t,n=r.s_unproject(e);return t=c.gcj02towgs84(l.Math.toDegrees(n.longitude),l.Math.toDegrees(n.latitude)),new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1]))},n}return o(t,e),t}(l.WebMercatorTilingScheme);t.ToWGS84WebMercatorTilingScheme=p},90411:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.updateImageryProviderFromJson=t.createImageryProviderFromJson=t.needRecreate=void 0;var c=n(61556),u=n(80468),p=i(n(81557)),f=n(86003),d=n(31364),h=n(1887),y=n(61292);function g(e,t){return{Time:0===t?p.JulianDate.toIso8601(e.stop):p.JulianDate.toIso8601(e.start)}}function m(e){if("fromIso8601"===e.type)return p.TimeIntervalCollection.fromIso8601({iso8601:e.iso8601,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:g})}t.needRecreate=function(e,t){return!0};var v=u.SceneObject.context.getStrFromEnv;t.createImageryProviderFromJson=function(e,t){var n,r,o,i,u,g;return a(this,void 0,void 0,(function(){var a,b;return s(this,(function(s){switch(s.label){case 0:return"WebMapTileServiceImageryProvider"!==e.type?[3,1]:[2,new p.WebMapTileServiceImageryProvider({url:v(e.url),format:null!==(n=e.format)&&void 0!==n?n:"image/jpeg",layer:e.layer,style:e.style,tileMatrixSetID:e.tileMatrixSetID,tileMatrixLabels:e.tileMatrixLabels,clock:e.times&&(null===(r=t.viewer)||void 0===r?void 0:r.clock),times:e.times&&m(e.times),dimensions:e.dimensions,tileWidth:null!==(o=e.tileWidth)&&void 0!==o?o:256,tileHeight:null!==(i=e.tileHeight)&&void 0!==i?i:256,tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),minimumLevel:null!==(u=e.minimumLevel)&&void 0!==u?u:0,maximumLevel:e.maximumLevel,ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),credit:e.credit,subdomains:e.subdomains})];case 1:return"TileMapServiceImageryProvider"!==e.type?[3,3]:e.url?[4,p.TileMapServiceImageryProvider.fromUrl(v(e.url),{fileExtension:e.fileExtension,credit:e.credit,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),tileWidth:e.tileWidth,tileHeight:e.tileHeight,flipXY:e.flipXY})]:[2,void 0];case 2:return[2,s.sent()];case 3:return"UrlTemplateImageryProvider"!==e.type?[3,4]:(a=e.customTags&&(_=e.customTags,w=Object.entries(_).map((function(e){var t=l(e,2),n=t[0],r=t[1];try{return[n,r&&Function('"use strict";return ('.concat(r,")"))()]}catch(e){return void console.error("getCustomTagsFromJson error: ".concat(e),e)}})).filter((function(e){return!!e})),Object.fromEntries(w)),[2,new p.UrlTemplateImageryProvider({url:v(e.url),credit:e.credit,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),tileWidth:e.tileWidth,tileHeight:e.tileHeight,subdomains:e.subdomains,hasAlphaChannel:e.hasAlphaChannel,pickFeaturesUrl:e.pickFeaturesUrl,enablePickFeatures:e.enablePickFeatures,urlSchemeZeroPadding:e.urlSchemeZeroPadding,customTags:a})]);case 4:return"GridImageryProvider"!==e.type?[3,5]:[2,new p.GridImageryProvider({tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),tileWidth:e.tileWidth,tileHeight:e.tileHeight,cells:e.cells,color:e.color&&(0,c.toColor)(e.color),glowColor:e.glowColor&&(0,c.toColor)(e.glowColor),backgroundColor:e.backgroundColor&&(0,c.toColor)(e.backgroundColor),canvasSize:e.canvasSize,glowWidth:e.glowWidth})];case 5:return"ArcGisMapServerImageryProvider"!==e.type?[3,7]:e.url?[4,p.ArcGisMapServerImageryProvider.fromUrl(v(e.url),{token:e.token,usePreCachedTilesIfAvailable:e.usePreCachedTilesIfAvailable,layers:e.layers,enablePickFeatures:e.enablePickFeatures,rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),credit:e.credit,tileWidth:e.tileWidth,tileHeight:e.tileHeight,maximumLevel:e.maximumLevel})]:[2,void 0];case 6:return[2,s.sent()];case 7:return"BingMapsImageryProvider"!==e.type?[3,9]:e.url?[4,p.BingMapsImageryProvider.fromUrl(v(e.url),{key:e.key,tileProtocol:e.tileProtocol,mapStyle:e.mapStyle&&p.BingMapsStyle[e.mapStyle],culture:e.culture,ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid)})]:[2,void 0];case 8:return[2,s.sent()];case 9:return"GoogleEarthEnterpriseImageryProvider"!==e.type?[3,12]:e.url?[4,p.GoogleEarthEnterpriseMetadata.fromUrl(v(e.url))]:[2,void 0];case 10:return b=s.sent(),[4,p.GoogleEarthEnterpriseImageryProvider.fromMetadata(b,{ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),credit:e.credit})];case 11:return[2,s.sent()];case 12:return"IonImageryProvider"!==e.type?[3,14]:[4,p.IonImageryProvider.fromAssetId(e.assetId,{accessToken:e.accessToken,server:e.server})];case 13:return[2,s.sent()];case 14:if("MapboxImageryProvider"===e.type)return[2,new p.MapboxImageryProvider({url:e.url&&v(e.url),mapId:e.mapId,accessToken:e.accessToken,format:e.format,ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),credit:e.credit})];if("MapboxStyleImageryProvider"===e.type)return[2,new p.MapboxStyleImageryProvider({url:e.url&&v(e.url),username:e.username,styleId:e.styleId,accessToken:e.accessToken,tilesize:e.tilesize,scaleFactor:e.scaleFactor,rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),credit:e.credit,ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel})];if("OpenStreetMapImageryProvider"===e.type)return[2,new p.OpenStreetMapImageryProvider({url:v(e.url),rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),credit:e.credit,ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,fileExtension:e.fileExtension})];if("SingleTileImageryProvider"===e.type)return[2,new p.SingleTileImageryProvider({url:v(e.url),rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),credit:e.credit,ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid)})];if("TileCoordinatesImageryProvider"===e.type)return[2,new p.TileCoordinatesImageryProvider({tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),color:e.color&&(0,c.toColor)(e.color),tileWidth:e.tileWidth,tileHeight:e.tileHeight})];if("WebMapServiceImageryProvider"===e.type)return[2,new p.WebMapServiceImageryProvider({url:v(e.url),layers:e.layers,enablePickFeatures:e.enablePickFeatures,rectangle:e.rectangle&&(0,c.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,f.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,tileWidth:e.tileWidth,tileHeight:e.tileHeight,crs:e.crs,srs:e.srs,credit:e.credit,subdomains:e.subdomains,clock:e.times&&(null===(g=t.viewer)||void 0===g?void 0:g.clock),times:e.times&&m(e.times),parameters:e.parameters,getFeatureInfoParameters:e.getFeatureInfoParameters})];if("BDImageryProvider"===e.type)return[2,new d.BDImageryProvider({url:e.url&&v(e.url),ellipsoid:e.ellipsoid&&(0,c.toEllipsoid)(e.ellipsoid),wgs84:e.wgs84})];if("GeHistoryImagery"===e.type)return[2,new h.XbsjTileserHisImageryProvider({indexTime:e.indexTime})];if("ArcgisHistoryImagery"===e.type)return[2,new y.XbsjTileserArcgisHisImageryProvider({indexTimeID:e.indexTimeID})];s.label=15;case 15:return[2]}var _,w}))}))},t.updateImageryProviderFromJson=function(e,t){"WebMapTileServiceImageryProvider"===t.type&&p.WebMapTileServiceImageryProvider}},59517:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmImagery=void 0;var p=n(51355),f=n(59645),d=s(n(81557)),h=n(61556),y=n(58354),g=n(93442),m=n(90411);l(n(70415),t);var v=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._layer=r.disposeVar((0,p.react)(void 0));var o=n.viewer;if(!o)return r;var i=(0,y.getViewerExtensions)(o);if(!i)return r;var a=i.imageriesManager;a.add(r),r.dispose((function(){return a.delete(r)}));var s=function(){r.layer&&(r.layer=void 0)};r.dispose(s);var l=!1,g=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e,o){return c(r,void 0,void 0,(function(){var i;return u(this,(function(a){switch(a.label){case 0:return o?(l=!0,s(),t.imageryProvider?[4,e.promise((0,m.createImageryProviderFromJson)(t.imageryProvider,n))]:[2,void 0]):[3,2];case 1:if(!(i=a.sent()))return console.error("createImageryProviderFromJson error!"),[2,void 0];this.layer=new d.ImageryLayer(i),l=!1,a.label=2;case 2:return function(){var e,n,o,i,a,s,l,c,u,p;r.layer&&(r.layer.alpha=null!==(e=t.alpha)&&void 0!==e?e:1,r.layer.nightAlpha=null!==(n=t.nightAlpha)&&void 0!==n?n:1,r.layer.dayAlpha=null!==(o=t.dayAlpha)&&void 0!==o?o:1,r.layer.brightness=null!==(i=t.brightness)&&void 0!==i?i:1,r.layer.contrast=null!==(a=t.contrast)&&void 0!==a?a:1,r.layer.hue=null!==(s=t.hue)&&void 0!==s?s:0,r.layer.saturation=null!==(l=t.saturation)&&void 0!==l?l:1,r.layer.gamma=null!==(c=t.gamma)&&void 0!==c?c:1,r.layer.splitDirection=t.splitDirection&&d.SplitDirection[t.splitDirection]||d.SplitDirection.NONE,r.layer.minificationFilter=t.minificationFilter&&d.TextureMinificationFilter[t.minificationFilter]||d.TextureMinificationFilter.LINEAR,r.layer.magnificationFilter=t.magnificationFilter&&d.TextureMagnificationFilter[t.magnificationFilter]||d.TextureMagnificationFilter.LINEAR,r.layer.show=null===(u=t.show)||void 0===u||u,r.layer.maximumAnisotropy=t.maximumAnisotropy,r.layer.minimumTerrainLevel=t.minimumTerrainLevel,r.layer.maximumTerrainLevel=t.maximumTerrainLevel,r.layer.colorToAlpha=t.colorToAlpha&&(0,h.toColor)(t.colorToAlpha),r.layer.colorToAlphaThreshold=null!==(p=t.colorToAlphaThreshold)&&void 0!==p?p:.004,t.imageryProvider&&(0,m.updateImageryProviderFromJson)(r.layer.imageryProvider,t.imageryProvider))}(),[2]}}))}))})));g.restart(void 0,!0);var v=r.disposeVar(new p.Event),b=r.disposeVar(new p.Event);r.dispose(t.imageryProviderChanged.disposableOn((function(e,t){(0,m.needRecreate)(t,e)?v.emit():b.emit()}))),r.dispose(f.SceneObject.context.environmentVariablesChanged.disposableOn((function(){v.emit()})));var _=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.rectangleChanged,v));r.dispose(_.disposableOn((function(){g.restart(void 0,!0)})));var w=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.alphaChanged,t.nightAlphaChanged,t.dayAlphaChanged,t.brightnessChanged,t.contrastChanged,t.hueChanged,t.saturationChanged,t.gammaChanged,t.splitDirectionChanged,t.minificationFilterChanged,t.magnificationFilterChanged,t.showChanged,t.maximumAnisotropyChanged,t.minimumTerrainLevelChanged,t.maximumTerrainLevelChanged,t.cutoutRectangleChanged,t.colorToAlphaChanged,t.colorToAlphaThresholdChanged,b));return r.dispose(w.disposableOn((function(){l||g.restart(void 0,!1)}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=n.viewer;r&&(t.rectangle?r.camera.flyTo({destination:(0,h.toRectangle)(t.rectangle),duration:e}):console.warn("不能飞入，因为未设置rectangle属性！"))}}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer.value},set:function(e){this._layer.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerChanged",{get:function(){return this._layer.changed},enumerable:!1,configurable:!0}),n=t,t.type=n.register(g.CzmImagery.type,n),t}(y.CzmObject);t.CzmCzmImagery=v},1887:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTileCoordinates=t.XbsjTileserHisImageryProvider=void 0;var p=s(n(81557)),f=function(e){function t(t){var n=this;return t.url="https://tileser.giiiis.com/timetile/",t.minimumLevel=1,t.maximumLevel=18,t.tilingScheme=new p.GeographicTilingScheme,(n=e.call(this,t)||this)._indexTime=0,n.indexTime=t.indexTime||0,n}return o(t,e),Object.defineProperty(t.prototype,"indexTime",{get:function(){return this._indexTime},set:function(e){this._indexTime=e},enumerable:!1,configurable:!0}),t.prototype.requestImage=function(e,t,n,r){return l(this,void 0,void 0,(function(){var r;return c(this,(function(o){try{return r=this.buildImageUrl(this.indexTime,e,t,n),[2,p.ImageryProvider.loadImage(this,r)]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.buildImageUrl=function(e,t,n,r){return"https://tileser.giiiis.com/timetile/".concat(e,"/").concat(r,"/").concat(t,"/").concat(n,".jpg")},t}(p.UrlTemplateImageryProvider);function d(e,t,n){return l(this,void 0,void 0,(function(){return c(this,(function(r){switch(r.label){case 0:return[4,fetch("https://tileser.giiiis.com/xyzinfo/".concat(n,"/").concat(e,"/").concat(t))];case 1:return[2,r.sent().json()]}}))}))}t.XbsjTileserHisImageryProvider=f,t.getCurrentTileCoordinates=function(e){return l(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,f,h;return c(this,(function(c){switch(c.label){case 0:return t=e.scene,n=t.globe.ellipsoid,r=t.camera,o=n.cartesianToCartographic(r.position),i=p.Math.toDegrees(o.longitude),a=p.Math.toDegrees(o.latitude),s=o.height,l=function(e){var t,n;try{for(var r=u([{maxAlt:25e7,level:0},{maxAlt:25e6,level:1},{maxAlt:9e6,level:2},{maxAlt:7e6,level:3},{maxAlt:44e5,level:4},{maxAlt:2e6,level:5},{maxAlt:1e6,level:6},{maxAlt:493977,level:7},{maxAlt:218047,level:8},{maxAlt:124961,level:9},{maxAlt:56110,level:10},{maxAlt:4e4,level:11},{maxAlt:13222,level:12},{maxAlt:7e3,level:13},{maxAlt:4e3,level:14},{maxAlt:2500,level:15},{maxAlt:1500,level:16},{maxAlt:600,level:17},{maxAlt:250,level:18},{maxAlt:150,level:19},{maxAlt:50,level:20}]),o=r.next();!o.done;o=r.next()){var i=o.value,a=i.maxAlt,s=i.level;if(e>=a)return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return 20}(s),f=Math.floor((i+180)/360*Math.pow(2,l+1)),h=Math.floor((90-a)/180*Math.pow(2,l)),[4,d(f,h,l)];case 1:return[2,c.sent()]}}))}))}},81741:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmKml=void 0;var u=n(80468),p=n(51355),f=n(59645),d=s(n(81557)),h=n(58354),y=n(93442),g=n(13895),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._dataSource=r.disposeVar((0,p.react)(void 0));var o,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),r;o=document.createElement("div"),i.container.appendChild(o),o.style.pointerEvents="none",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",r.dispose((function(){i.container.removeChild(o)})),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(null!==(n=t.allowPicking)&&void 0!==n&&n){if(!e)return;if(!e.czmPickResult)return;if(!e.czmPickResult.id)return;e.czmPickResult.id.entityCollection._owner===r.dataSource&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.dataSource&&(void 0!==e?i.flyTo(r.dataSource,{duration:e/1e3}):i.flyTo(r.dataSource))})));var a=function(){r.dataSource&&(i.dataSources.remove(r.dataSource),r._dataSource.value=void 0)};r.dispose((function(){return a()}));var s=function(){if(r.dataSource){var e=r.dataSource;e.clock&&(t.startTime=d.JulianDate.toDate(e.clock.startTime).getTime(),t.stopTime=d.JulianDate.toDate(e.clock.stopTime).getTime(),t.currentTime=d.JulianDate.toDate(e.clock.currentTime).getTime(),t.multiplier=e.clock.multiplier,t.clockStep=g.CzmCzmClock.getClockStep(e.clock.clockStep),t.clockRange=g.CzmCzmClock.getClockRange(e.clock.clockRange))}else console.warn("resetClock warn: dataSource is undefined!")};r.dispose(t.resetClockEvent.disposableOn(s));var h=function(){var e,n;r.dataSource&&(r.dataSource.show=null!==(e=t.show)&&void 0!==e?e:y.CzmKml.defaults.show,o.style.display=(null!==(n=t.show)&&void 0!==n?n:y.CzmKml.defaults.show)?"block":"none")};h(),r.dispose(t.showChanged.disposableOn(h));var m=r.disposeVar((0,p.react)(void 0));(_=function(){var e,n;m.value=null!==(e=t.data&&(n=t.data,(new DOMParser).parseFromString(n,"application/xml")))&&void 0!==e?e:t.uri&&f.SceneObject.context.getStrFromEnv(t.uri)})();var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.uriChanged,t.dataChanged));r.dispose(v.disposableOn(_));var b=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,l;return c(this,(function(c){switch(c.label){case 0:if(a(),!m.value)return[2];n=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,d.KmlDataSource.load(m.value,{camera:i.scene.camera,canvas:i.scene.canvas,screenOverlayContainer:o})];case 2:return n=c.sent(),[3,4];case 3:return r=c.sent(),n=void 0,console.error("kml加载报错：".concat(r)),console.error(r),[3,4];case 4:if(!n)return[2];if(e.check(),i.dataSources.add(n),this._dataSource.value=n,h(),(null!==(l=t.autoResetClock)&&void 0!==l?l:y.CzmKml.defaults.autoResetClock)&&s(),!t.loadFun)return[2];try{t.loadFun(n,i)}catch(e){console.error(e)}return[2]}}))}))})));(_=function(){b.isRunning&&b.cancel(),b.restart()})();var _,w=r.disposeVar((0,p.createNextAnimateFrameEvent)(m.changed,t.loadFunChanged));return r.dispose(w.disposableOn(_)),(_=function(){if(t.loadFuncStr)try{var e=Function('"use strict";return ('.concat(t.loadFuncStr,")"))();t.loadFun=e}catch(e){console.error(e),t.loadFun=void 0}else t.loadFun=void 0})(),r.dispose(t.loadFuncStrChanged.disposableOn(_)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource.value},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmKml.type,n),t}(h.CzmObject);t.CzmCzmKml=m},61236:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmLabelPrimitiveCollection=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,p.getViewerExtensions)(n.viewer))return o;var a=function(){r&&(r.removeAll(),i.scene.primitives.remove(r),r=void 0)};o.dispose(a);var s=function(){var e,o,s,u,p;a(),p=new l.LabelCollection({scene:null===(e=n.viewer)||void 0===e?void 0:e.scene,show:null===(o=t.show)||void 0===o||o,debugShowBoundingVolume:null!==(s=t.debugShowBoundingVolume)&&void 0!==s&&s,blendOption:null!==(u=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==u?u:l.BlendOption.OPAQUE_AND_TRANSLUCENT}),r=t.labelPrimitiveOptions?(t.labelPrimitiveOptions.forEach((function(e){var t;p.add({fillColor:e.fillColor&&(0,c.toColor)(e.fillColor),show:e.show,position:(0,c.positionToCartesian)(null!==(t=e.position)&&void 0!==t?t:[0,0,0]),pixelOffset:e.pixelOffset&&(0,c.toCartesian2)(e.pixelOffset),eyeOffset:e.eyeOffset&&(0,c.toCartesian3)(e.eyeOffset),heightReference:e.heightReference&&d.czmPropMaps.heightReferencePropsMap[e.heightReference],horizontalOrigin:e.horizontalOrigin&&d.czmPropMaps.horizontalOriginType[e.horizontalOrigin],verticalOrigin:e.verticalOrigin&&d.czmPropMaps.verticalOriginOriginType[e.verticalOrigin],scale:e.scale,translucencyByDistance:e.translucencyByDistance&&(0,c.toNearFarScalar)(e.translucencyByDistance),pixelOffsetScaleByDistance:e.pixelOffsetScaleByDistance&&(0,c.toNearFarScalar)(e.pixelOffsetScaleByDistance),distanceDisplayCondition:e.distanceDisplayCondition&&(0,c.toDistanceDisplayCondition)(e.distanceDisplayCondition),scaleByDistance:e.scaleByDistance&&(0,c.toNearFarScalar)(e.scaleByDistance),style:e.style&&d.czmPropMaps.labelStyleType[e.style],backgroundPadding:e.backgroundPadding&&(0,c.toCartesian2)(e.backgroundPadding),backgroundColor:e.backgroundColor&&(0,c.toColor)(e.backgroundColor),outlineColor:e.outlineColor&&(0,c.toColor)(e.outlineColor),showBackground:e.showBackground,text:e.text,font:e.font,outlineWidth:e.outlineWidth})})),p):p,i.scene.primitives.add(r)};s();var f=o.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged,t.debugShowBoundingVolumeChanged,t.blendOptionChanged));o.dispose(f.disposableOn((function(){var e,n,o;r&&(r.show=null===(e=t.show)||void 0===e||e,r.debugShowBoundingVolume=null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,r.blendOption=null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT)})));var h=o.disposeVar((0,u.createNextAnimateFrameEvent)(t.labelPrimitiveOptionsChanged));o.dispose(h.disposableOn((function(){s()})));var y=new l.BoundingSphere;return o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.labelPrimitiveOptions)if(1===t.labelPrimitiveOptions.length){var r=t.labelPrimitiveOptions[0].position;if(!r)return;var o=i.scene.camera.positionCartographic.height;(0,c.flyTo)(i.scene.camera,r,o,void 0,e)}else{var a=t.labelPrimitiveOptions,s=[];a.forEach((function(e){e.position&&s.push(e.position)}));var u=(0,c.positionsToUniqueCartesians)(s);if(l.BoundingSphere.fromPoints(u,y),y.radius>0){var p=(0,c.positionFromCartesian)(y.center);p&&(0,c.flyTo)(i.camera,p,4*y.radius,void 0,e)}}}))),o}var n;return o(t,e),n=t,t.type=n.register(f.CzmLabelPrimitiveCollection.type,n),t}(p.CzmObject);t.CzmCzmLabelPrimitiveCollection=h},74767:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmLabel=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(95315),y=n(86003),g=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){r&&(a.scene.primitives.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0)};i.dispose(s),s(),r=new p.LabelCollection,o=r.add({position:(0,l.positionToCartesian)([0,0,0])}),a.scene.primitives.add(r);var f=i.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.showChanged,t.fillColorChanged,t.pixelOffsetChanged,t.eyeOffsetChanged,t.heightReferenceChanged,t.horizontalOriginChanged,t.verticalOriginChanged,t.scaleChanged,t.scaleByDistanceChanged,t.translucencyByDistanceChanged,t.pixelOffsetScaleByDistanceChanged,t.distanceDisplayConditionChanged,t.textChanged,t.fontChanged,t.outlineColorChanged,t.outlineWidthChanged,t.showBackgroundChanged,t.backgroundColorChanged,t.backgroundPaddingChanged,t.styleChanged)),d=function(){var e,n,r,i,a,s,c,u,f,d,y,g,m,v,b;o&&(o.show=null===(e=t.show)||void 0===e||e,t.position&&(o.position=(0,l.positionToCartesian)(t.position)),o.fillColor=t.fillColor&&(0,l.toColor)(t.fillColor)||p.Color.WHITE,o.pixelOffset=null!==(n=t.pixelOffset&&(0,l.toCartesian2)(t.pixelOffset))&&void 0!==n?n:p.Cartesian2.ZERO,o.eyeOffset=null!==(r=t.eyeOffset&&(0,l.toCartesian3)(t.eyeOffset))&&void 0!==r?r:p.Cartesian3.ZERO,o.heightReference=null!==(i=t.heightReference&&h.czmPropMaps.heightReferencePropsMap[t.heightReference])&&void 0!==i?i:p.HeightReference.NONE,o.horizontalOrigin=null!==(a=t.horizontalOrigin&&h.czmPropMaps.horizontalOriginType[t.horizontalOrigin])&&void 0!==a?a:p.HorizontalOrigin.CENTER,o.verticalOrigin=null!==(s=t.verticalOrigin&&h.czmPropMaps.verticalOriginOriginType[t.verticalOrigin])&&void 0!==s?s:p.VerticalOrigin.CENTER,o.scale=null!==(c=t.scale)&&void 0!==c?c:1,t.scaleByDistance&&(o.scaleByDistance=(0,l.toNearFarScalar)(t.scaleByDistance)),t.translucencyByDistance&&(o.translucencyByDistance=(0,l.toNearFarScalar)(t.translucencyByDistance)),t.pixelOffsetScaleByDistance&&(o.pixelOffsetScaleByDistance=(0,l.toNearFarScalar)(t.pixelOffsetScaleByDistance)),t.distanceDisplayCondition&&(o.distanceDisplayCondition=(0,l.toDistanceDisplayCondition)(t.distanceDisplayCondition)),o.text=null!==(u=t.text)&&void 0!==u?u:"请输入文字",o.font=null!==(f=t.font)&&void 0!==f?f:"30px sans-serif",o.outlineColor=null!==(d=t.outlineColor&&(0,l.toColor)(t.outlineColor))&&void 0!==d?d:p.Color.BLACK,o.outlineWidth=null!==(y=t.outlineWidth)&&void 0!==y?y:1,o.showBackground=null!==(g=t.showBackground)&&void 0!==g&&g,o.backgroundColor=null!==(m=t.backgroundColor&&(0,l.toColor)(t.backgroundColor))&&void 0!==m?m:(0,l.toColor)([.165,.165,.165,.8]),o.backgroundPadding=null!==(v=t.backgroundPadding&&(0,l.toCartesian2)(t.backgroundPadding))&&void 0!==v?v:new p.Cartesian2(7,5),o.style=null!==(b=t.style&&h.czmPropMaps.labelStyleType[t.style])&&void 0!==b?b:p.LabelStyle.FILL)};return d(),i.dispose(f.disposableOn(d)),i.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=a.scene.camera.positionCartographic.height;(0,y.flyTo)(a.scene.camera,t.position,e,void 0,1e3)}else console.warn("当前没有位置信息，无法飞入！")}))),i.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&o&&r.primitive===o&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),i}var n;return o(t,e),n=t,t.type=n.register(d.CzmLabel.type,n),t}(f.CzmObject);t.CzmCzmLabel=g},57947:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmModelEntity=void 0;var l=n(61556),c=n(80468),u=s(n(81557)),p=n(58354),f=n(93442),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,p.getViewerExtensions)(n.viewer))return r;var i=o.entities.add({position:u.Cartesian3.fromDegrees(0,0,0),model:{uri:""}});r.dispose((function(){return o.entities.remove(i)})),r.dispose(n.czmPickedEvent.disposableOn((function(e){if(e){var n=e.czmPickResult;n&&n.id===i&&t.pickedEvent.emit(e)}}))),(s=function(){i.show=t.show})(),r.dispose(t.showChanged.disposableOn(s));var a=new u.Cartesian3;(s=function(){i.position=t.position&&(0,l.positionToCartesian)(t.position,a)})(),r.dispose(t.positionChanged.disposableOn(s));var s,f=new u.Quaternion;(s=function(){var e;i.orientation=t.position&&(0,l.positionAndRotationToQuaternion)(t.position,null!==(e=t.rotation)&&void 0!==e?e:[0,0,0],f)})(),r.dispose(t.rotationChanged.disposableOn(s)),r.dispose(t.positionChanged.disposableOn(s));var d,h=r.disposeVar(c.SceneObject.context.createEvnStrReact([t,"uri"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/Cesium_Air.glb")),y=function(){i.model.uri=h.value};return y(),r.dispose(h.changed.disposableOn(y)),(d=function(){var e;i.model.scale=null!==(e=t.scale)&&void 0!==e?e:1})(),r.dispose(t.scaleChanged.disposableOn(d)),(d=function(){i.model.maximumScale=t.maximumScale})(),r.dispose(t.maximumScaleChanged.disposableOn(d)),(d=function(){var e;i.model.minimumPixelSize=null!==(e=t.minimumPixelSize)&&void 0!==e?e:0})(),r.dispose(t.minimumPixelSizeChanged.disposableOn(d)),(d=function(){i.model.color=t.color&&(0,l.toColor)(t.color)})(),r.dispose(t.colorChanged.disposableOn(d)),r.dispose(t.flyToEvent.disposableOn((function(){return n.actived&&o.flyTo(i)}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmModelEntity.type,n),t}(p.CzmObject);t.CzmCzmModelEntity=d},18603:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMatrixUpdating=void 0;var i=n(61556),a=function(e){function t(t){var n=e.call(this)||this;n._nativePrimitive=t;var r=n,o=r.sceneObject,a=r.sceneScaleFromPixelSize,s=r.viewer,l=r.primtive,c=function(){if(n.finalShow){l.show=!0;var e=(0,i.computeCzmModelMatrix)({localScale:o.localScale,initialRotation:"xForwardzUp",localRotation:o.localRotation,localPosition:o.localPosition,localModelMatrix:o.localModelMatrix,sceneScaleFromPixelSize:a.value,scale:o.scale,rotation:o.rotation,position:o.position,modelMatrix:o.modelMatrix});e?l.modelMatrix=e:console.warn("computeCzmModelMatrix error.")}else l.show=!1},u=!0;return n.dispose(n.czmCzmModelPrimitive.finalShowChanged.disposableOn((function(){return u=!0}))),n.dispose(o.localPositionChanged.disposableOn((function(){return u=!0}))),n.dispose(o.localRotationChanged.disposableOn((function(){return u=!0}))),n.dispose(o.localScaleChanged.disposableOn((function(){return u=!0}))),n.dispose(o.localModelMatrixChanged.disposableOn((function(){return u=!0}))),n.dispose(o.positionChanged.disposableOn((function(){return u=!0}))),n.dispose(o.rotationChanged.disposableOn((function(){return u=!0}))),n.dispose(o.scaleChanged.disposableOn((function(){return u=!0}))),n.dispose(o.modelMatrixChanged.disposableOn((function(){return u=!0}))),n.dispose(a.changed.disposableOn((function(){return u=!0}))),c(),n.dispose(s.scene.preUpdate.addEventListener((function(){u&&(u&&(u=!1),c())}))),n}return o(t,e),Object.defineProperty(t.prototype,"nativePrimitve",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzmModelPrimitive",{get:function(){return this.nativePrimitve.czmCzmModelPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmCzmModelPrimitive.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneScaleFromPixelSize",{get:function(){return this.czmCzmModelPrimitive.sceneScaleFromPixelSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.czmCzmModelPrimitive.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalShow",{get:function(){return this.czmCzmModelPrimitive.finalShow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primtive",{get:function(){return this.nativePrimitve.primitive},enumerable:!1,configurable:!0}),t}(n(51355).Destroyable);t.ModelMatrixUpdating=a},15885:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NativePrimitive=void 0;var l=n(61556),c=n(80468),u=n(51355),p=n(59645),f=s(n(81557)),d=n(58354),h=n(95315),y=n(18603),g=n(71074),m=n(14794),v=function(e){function t(t,n,r){var o=e.call(this)||this;o._gltf=t,o._primitive=n,o._owner=r,o._modelMatrixUpdating=o.disposeVar(new y.ModelMatrixUpdating(o));var i=o,a=i.czmViewer,s=i.sceneObject,l=(i.pickingManager,a.viewer);if(!l)throw new Error("!viewer");var f=l.scene;f.primitives.add(o._primitive),o.dispose((function(){return f.primitives.remove(o._primitive)})),o.owner.owner.owner.setPrimitive(o._primitive),o.dispose((function(){return o.owner.owner.owner.setPrimitive(void 0)})),o.dispose(a.czmPickedEvent.disposableOn((function(e){var t;if(e){var n=e.czmPickResult;n&&null!==(t=s.allowPicking)&&void 0!==t&&t&&o._primitive&&n.primitive===o._primitive&&s.pickedEvent.emit(new c.SceneObjectPickedInfo(s,e))}}))),o.dispose(s.printDebugInfoEvent.disposableOn((function(){console.log("---czm-model-primitive-debug-info-viewerid-".concat(a.id,"-begin---")),console.log("CzmCzmModelPrimitive: ",o),console.log("native gltf: ",o.gltf),console.log("native primitive: ",o.primitive),console.log("---czm-model-primitive-debug-info-viewerid-".concat(a.id,"-end---"))})));var h=o.disposeVar((0,u.createNextAnimateFrameEvent)(s.sPositionEditing.pickingChanged,s.sPrsEditing.sPositionEditing.pickingChanged,s.allowPickingDepthChanged));o.disposeVar(new p.ObjResettingWithEvent(h,(function(){if(s.sPositionEditing.picking||s.sPrsEditing.sPositionEditing.picking||!s.allowPickingDepth)return new d.CzmViewer.ObjectsToExcludeWrapper(o.czmViewer,[o._primitive])})));var m=o._primitive.readyEvent.addEventListener((function(){if(m(),!o.primitive.ready)throw console.error("!this.primitive.ready"),new Error("!this.primitive.ready");if(o._nativePrimitiveReady)throw console.error("this._nativePrimitiveReady"),new Error("this._nativePrimitiveReady");o._nativePrimitiveReady=o.disposeVar(new g.NativePrimitiveReady(o)),o._nativePrimitiveReady.update()}));return o.dispose(m),o}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzmModelPrimitive",{get:function(){return this.owner.owner.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmCzmModelPrimitive.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scene",{get:function(){return this.viewer.scene},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmCzmModelPrimitive.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gltf",{get:function(){return this._gltf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickingManager",{get:function(){var e;return null===(e=this.czmViewer.extensions)||void 0===e?void 0:e.pickingManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativePrimitiveReady",{get:function(){return this._nativePrimitiveReady},enumerable:!1,configurable:!0}),t.prototype.update=function(){var e,t,n,r,o,i,a,s,c,u,p,d,y,g=this.owner.owner.owner,v=g.sceneObject,b=g.visibleAlpha,_=g.finalShow,w=g.finalSpecularEnvironmentMapsReact,P=this.primitive,C=_;P.show=C,P.clampAnimations=null===(e=v.clampAnimations)||void 0===e||e,P.shadows=h.czmPropMaps.shadowPropsMap[null!==(t=v.shadows)&&void 0!==t?t:"DISABLED"],P.debugShowBoundingVolume=null!==(n=v.debugShowBoundingVolume)&&void 0!==n&&n,P.debugWireframe=null!==(r=v.debugWireframe)&&void 0!==r&&r,P.backFaceCulling=null===(o=v.backFaceCulling)||void 0===o||o,P.heightReference=v.heightReference?h.czmPropMaps.heightReferencePropsMap[v.heightReference]:h.czmPropMaps.heightReferencePropsMap.NONE,P.distanceDisplayCondition=(0,l.toDistanceDisplayCondition)(null!==(i=v.distanceDisplayCondition)&&void 0!==i?i:[0,Number.MAX_VALUE]);var O=null!==(a=v.color)&&void 0!==a?a:[1,1,1,1];O[3]*=b;var x=(0,l.toColor)(O);P.color=x,P.colorBlendMode=h.czmPropMaps.colorBlendModeType[null!==(s=v.colorBlendMode)&&void 0!==s?s:"HIGHLIGHT"],P.silhouetteColor=v.silhouetteColor&&(0,l.toColor)(v.silhouetteColor)||f.Color.RED,P.silhouetteSize=null!==(c=v.silhouetteSize)&&void 0!==c?c:0,P.colorBlendAmount=null!==(u=v.colorBlendAmount)&&void 0!==u?u:.5,P.lightColor=(0,l.toCartesian3)(null!==(p=v.lightColor)&&void 0!==p?p:[1,1,1]);var S=P.imageBasedLighting;S&&(S.luminanceAtZenith=null!==(d=v.luminanceAtZenith)&&void 0!==d?d:.2,S.imageBasedLightingFactor=(0,l.toCartesian2)(null!==(y=v.imageBasedLightingFactor)&&void 0!==y?y:[1,1]),S.sphericalHarmonicCoefficients=v.sphericalHarmonicCoefficients&&(0,m.toCoefficients)(v.sphericalHarmonicCoefficients),S.specularEnvironmentMaps=w.value),P.minimumPixelSize=v.nativeMinimumPixelSize,P.maximumScale=v.nativeMaximumScale,P.scale=v.nativeScale,this._nativePrimitiveReady&&this._nativePrimitiveReady.update()},t}(u.Destroyable);t.NativePrimitive=v},67498:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.NativePrimitiveCreating=void 0;var p=n(61556),f=n(51355),d=n(59645),h=s(n(81557)),y=n(95315),g=n(15885),m=function(e){function t(t){var n=e.call(this)||this;n._owner=t;var r=n.disposeVar((0,d.createProcessingFromAsyncFunc)((function(e){return l(n,void 0,void 0,(function(){var t,r,o,i;return c(this,(function(a){switch(a.label){case 0:return this.owner.owner.finalModelUriReact.value?[4,e.promise(l(n,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,l,u,f,d,g,m;return c(this,(function(c){switch(c.label){case 0:return e=this.owner.owner,t=e.finalModelUriReact,n=e.sceneObject,r=e.czmViewer,o=e.visibleAlpha,i=e.finalShow,a=r.viewer,t.value?(s=n.customShaderInstanceClass&&new n.customShaderInstanceClass(n,r),(l=null!==(m=n.color)&&void 0!==m?m:[1,1,1,1])[3]*=o,u=(0,p.toColor)(l),[4,h.Model.fromGltfAsync({url:n.gltfJson?void 0:t.value,gltf:n.gltfJson?JSON.parse(JSON.stringify(n.gltfJson)):void 0,basePath:n.basePath,show:i,allowPicking:n.allowPicking,incrementallyLoadTextures:n.incrementallyLoadTextures,asynchronous:n.asynchronous,clampAnimations:n.clampAnimations,shadows:n.shadows&&y.czmPropMaps.shadowPropsMap[n.shadows],debugShowBoundingVolume:n.debugShowBoundingVolume,debugWireframe:n.debugWireframe,backFaceCulling:n.backFaceCulling,showOutline:n.showOutline,heightReference:n.heightReference&&y.czmPropMaps.heightReferencePropsMap[n.heightReference],distanceDisplayCondition:n.distanceDisplayCondition&&(0,p.toDistanceDisplayCondition)(n.distanceDisplayCondition),color:u,scene:a.scene,colorBlendMode:n.colorBlendMode&&y.czmPropMaps.colorBlendModeType[n.colorBlendMode],credit:n.credit,silhouetteColor:n.silhouetteColor&&(0,p.toColor)(n.silhouetteColor),colorBlendAmount:n.colorBlendAmount,silhouetteSize:n.silhouetteSize,upAxis:n.upAxis,forwardAxis:n.forwardAxis,customShader:s&&s.customShader,opaquePass:h.Pass[n.opaquePass],gltfCallback:function(e){f=e}})]):[2,void 0];case 1:return d=c.sent(),g=d.readyEvent.addEventListener((function(e){n.readyEvent.emit(e)})),this.dispose(g),[2,[d,s,f]]}}))})))]:[2];case 1:return(t=a.sent())?(r=u(t,3),o=r[0],r[1],i=r[2],this._nativePrimitive=this.disposeVar(new g.NativePrimitive(i,o,this)),this._nativePrimitive.update(),this.owner.owner.gltf=i,[2]):[2]}}))}))})));r.start();var o=n.owner.owner,i=o.sceneObject,a=o.visibleAlphaChanged,s=function(){n.nativePrimitive&&n.nativePrimitive.update()};s();var f=n.disposeVar((0,d.createNextAnimateFrameEvent)(i.showChanged,i.sPositionEditing.pickingChanged,i.clampAnimationsChanged,i.shadowsChanged,i.debugShowBoundingVolumeChanged,i.debugWireframeChanged,i.backFaceCullingChanged,i.heightReferenceChanged,i.distanceDisplayConditionChanged,i.colorChanged,i.colorBlendModeChanged,i.silhouetteColorChanged,i.colorBlendAmountChanged,i.silhouetteSizeChanged,i.activeAnimationsChanged,i.activeAnimationsAnimateWhilePausedChanged,i.nodeTransformationsChanged,i.nativeMinimumPixelSizeChanged,i.nativeMaximumScaleChanged,i.nativeScaleChanged,a));return n.dispose(f.disposableOn(s)),n}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativePrimitive",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),t}(f.Destroyable);t.NativePrimitiveCreating=m},71074:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.NativePrimitiveReady=void 0;var c=n(51355),u=s(n(81557)),p=n(93442),f=function(e){function t(t){var n=e.call(this)||this;return n._owner=t,n}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),t.prototype.updateNodeMatrix=function(e){var t,n,r,o=this.owner.owner.owner.owner.sceneObject,i=e._nodesByName&&Object.keys(e._nodesByName);if(i)try{for(var a=l(i),s=a.next();!s.done;s=a.next()){var c=s.value,p=e.getNode(c);if(p){var f=o.nodeTransformations&&o.nodeTransformations[c];if(f){var d=f.translationX,h=f.translationY,y=f.translationZ,g=f.rotationHeading,m=f.rotationPitch,v=f.rotationRoll,b=f.scaleX,_=f.scaleY,w=f.scaleZ;if(Number.isFinite(d)&&Number.isFinite(h)&&Number.isFinite(y)&&Number.isFinite(g)&&Number.isFinite(m)&&Number.isFinite(v)&&Number.isFinite(b)&&Number.isFinite(_)&&Number.isFinite(w))if(b<0||_<0||w<0)console.error("scaleX < 0 || scaleY < 0 || scaleZ < 0");else{var P=u.Math.toRadians,C=u.Matrix4.fromTranslationQuaternionRotationScale(new u.Cartesian3(d,h,y),u.Quaternion.fromHeadingPitchRoll(new u.HeadingPitchRoll(P(g),P(m),P(v))),new u.Cartesian3(b,_,w));p.matrix=u.Matrix4.multiply(p.originalMatrix,C,null!==(r=p.matrix)&&void 0!==r?r:new u.Matrix4)}else console.error("transformation数值有误！".concat(JSON.stringify(f,void 0,"    ")),f)}else u.Matrix4.equals(p.matrix,p.originalMatrix)||(p.matrix=void 0)}else console.error("!node ".concat(c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t.prototype.update=function(){var e,t,n,r=this.owner.owner.owner.owner.sceneObject,o=this.owner.primitive;if(o.activeAnimations.animateWhilePaused=null!==(n=r.activeAnimationsAnimateWhilePaused)&&void 0!==n?n:p.CzmModelPrimitive.defaults.activeAnimationsAnimateWhilePaused,o.activeAnimations.removeAll(),r.activeAnimations)try{for(var i=l(r.activeAnimations),a=i.next();!a.done;a=i.next()){var s=a.value;o.activeAnimations.add({name:s.name,index:s.index,startTime:s.startTime,delay:s.delay,stopTime:s.stopTime,removeOnStop:s.removeOnStop,multiplier:s.multiplier,reverse:s.reverse,loop:s.loop,animationTime:s.animationTime})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.updateNodeMatrix(o)},t}(c.Destroyable);t.NativePrimitiveReady=f},88506:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NativePrimitiveResetting=void 0;var i=n(51355),a=n(59645),s=n(67498),l=function(e){function t(t){var n,r,o,i,l,c=e.call(this)||this;return c._owner=t,c._resetting=(r=(n=c.owner).sceneObject,o=n.finalModelUriReact,i=n.finalSpecularEnvironmentMapsReact,l=c.disposeVar((0,a.createNextAnimateFrameEvent)(o.changed,r.basePathChanged,r.allowPickingChanged,r.incrementallyLoadTexturesChanged,r.showOutlineChanged,r.asynchronousChanged,r.creditChanged,r.forwardAxisChanged,r.upAxisChanged,r.imageBasedLightingFactorChanged,r.lightColorChanged,r.luminanceAtZenithChanged,r.sphericalHarmonicCoefficientsChanged,i.changed,r.customShaderInstanceClassChanged,r.opaquePassChanged,r.gltfJsonChanged)),c.disposeVar(new a.ObjResettingWithEvent(l,(function(){return new s.NativePrimitiveCreating(c)})))),c}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.NativePrimitiveResetting=l},53321:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmModelPrimitive=void 0;var u=n(61556),p=n(51355),f=n(59645),d=s(n(81557)),h=n(58354),y=n(93442),g=n(95315),m=n(86003),v=n(88506),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._gltf=r.disposeVar((0,p.react)(void 0)),r._czmViewVisibleDistanceRangeControl=r.disposeVar(new m.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,p.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0),r._sceneScaleFromPixelSize=r.disposeVar((0,p.react)(void 0)),r._finalShowReact=r.disposeVar((0,p.react)(!0)),r._finalModelUriReact=r.disposeVar(f.SceneObject.context.createEvnStrReact([r.sceneObject,"url"],y.CzmModelPrimitive.defaultUrl)),r._finalSpecularEnvironmentMapsReact=r.disposeVar(f.SceneObject.context.createEvnStrReact([r.sceneObject,"specularEnvironmentMaps"])),r._nativePrimitiveResetting=r.disposeVar(new v.NativePrimitiveResetting(r));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;(i=function(){var e=t.show&&r.visibleAlpha>0;r._finalShowReact.value=e,console.log("finalShow: ".concat(e)),console.log("this._finalShowReact.value: ".concat(r._finalShowReact.value))})(),r.dispose(t.showChanged.disposableOn(i)),r.dispose(r.visibleAlphaChanged.disposableOn(i));var i,a=r.sceneScaleFromPixelSize;return(i=function(){var e,n;do{if(!t.position||!t.pixelSize)break;var r=(e=d.Cartesian3).fromDegrees.apply(e,c([],l(t.position),!1));if(!r)break;if(void 0===(n=(0,u.getSceneScaleForScreenPixelSize)(o.scene,r,t.pixelSize)))break;void 0!==t.maximumScale&&n>t.maximumScale&&(n=t.maximumScale),void 0!==t.minimumScale&&n<t.minimumScale&&(n=t.minimumScale)}while(0);a.value=n})(),r.dispose(o.scene.preUpdate.addEventListener(i)),r.disposeVar(new g.CurrentSceneScalePoi(n,[t,"showSceneScale"],[t,"position"],a)),r.dispose(t.flyToEvent.disposableOn((function(e){if(t.position)if(r._primitive&&r._primitive.ready&&r._primitive.boundingSphere){var n=r._primitive._boundingSphere,i=n.center,a=n.radius,s=(d.Matrix4.multiplyByPoint(r._primitive.modelMatrix,i,new d.Cartesian3),3*a);(0,u.flyTo)(o.scene.camera,t.position,s,void 0,e)}else s=o.scene.camera.positionCartographic.height,(0,u.flyTo)(o.scene.camera,t.position,s,void 0,e);else console.warn("当前没有位置信息，无法飞入！")}))),r.dispose(t.updateCustomShaderEvent.disposableOn((function(e){r._customShaderInstance&&e(r._customShaderInstance,t,n)}))),r}var n;return o(t,e),t.prototype.setPrimitive=function(e){this._primitive=e},Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gltf",{get:function(){return this._gltf.value},set:function(e){this._gltf.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gltfChanged",{get:function(){return this._gltf.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneScaleFromPixelSize",{get:function(){return this._sceneScaleFromPixelSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalShow",{get:function(){return this._finalShowReact.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalShowChanged",{get:function(){return this._finalShowReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalModelUriReact",{get:function(){return this._finalModelUriReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalSpecularEnvironmentMapsReact",{get:function(){return this._finalSpecularEnvironmentMapsReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return!!this._primitive&&this._primitive.ready},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmModelPrimitive.type,n),t}(h.CzmObject);t.CzmCzmModelPrimitive=b},14794:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.toCoefficients=void 0;var l=i(n(81557));t.toCoefficients=function(e){var t,n,r,o,i,c,u,p,f;if(Array.isArray(e)&&9===e.length)return[new((t=l.Cartesian3).bind.apply(t,s([void 0],a(e[0]),!1))),new((n=l.Cartesian3).bind.apply(n,s([void 0],a(e[1]),!1))),new((r=l.Cartesian3).bind.apply(r,s([void 0],a(e[2]),!1))),new((o=l.Cartesian3).bind.apply(o,s([void 0],a(e[3]),!1))),new((i=l.Cartesian3).bind.apply(i,s([void 0],a(e[4]),!1))),new((c=l.Cartesian3).bind.apply(c,s([void 0],a(e[5]),!1))),new((u=l.Cartesian3).bind.apply(u,s([void 0],a(e[6]),!1))),new((p=l.Cartesian3).bind.apply(p,s([void 0],a(e[7]),!1))),new((f=l.Cartesian3).bind.apply(f,s([void 0],a(e[8]),!1)))];console.warn("toCoefficients error.")}},81793:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PrimitiveWrapper=void 0;var l=n(80468),c=n(51355),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(47916),y=n(37417),g=function(e){function t(t){var n=e.call(this)||this;n._czmObj=t,n._viewer=function(){var e=n.czmViewer.viewer;if(!e)throw new Error("viewer is not defined");return e}(),n._primitive=function(){var e=(0,h.createPrimitive)(n.sceneObj);n.viewer.scene.primitives.add(e),n.dispose((function(){return n.viewer.scene.primitives.remove(e)})),(t=function(){e.show=n.sceneObj.show})(),n.dispose(n.sceneObj.showChanged.disposableOn(t)),(t=function(){var t;e.image=null!==(t=n.sceneObj.image)&&void 0!==t?t:u.SceneObject.context.getStrFromEnv(d.CzmParticleSystemPrimitive.defaults.imageStr)})(),n.dispose(n.sceneObj.imageChanged.disposableOn(t)),(t=function(){var e;n._primitive&&(n._primitive.modelMatrix=null!==(e=(0,y.getModelMatrix)(n.sceneObj))&&void 0!==e?e:p.Matrix4.IDENTITY)})();var t,r=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.sceneObj.positionChanged,n.sceneObj.rotationChanged,n.sceneObj.modelMatrixChanged,n.sceneObj.localPositionChanged,n.sceneObj.localRotationChanged,n.sceneObj.localScaleChanged,n.sceneObj.localModelMatrixChanged));return n.dispose(r.disposableOn(t)),(t=function(){n._primitive&&(n._primitive.timeStamp=n.sceneObj.currentTime)})(),n.dispose(n.sceneObj.currentTimeChanged.disposableOn(t)),e}();var r=n.sceneObj,o=n.disposeVar((0,u.createNextAnimateFrameEvent)(r.sPositionEditing.pickingChanged,r.sPrsEditing.sPositionEditing.pickingChanged,r.allowPickingDepthChanged));n.disposeVar(new u.ObjResettingWithEvent(o,(function(){if(r.sPositionEditing.picking||r.sPrsEditing.sPositionEditing.picking||!r.allowPickingDepth)return new f.CzmViewer.ObjectsToExcludeWrapper(n.czmViewer,[n.primitive])})));var i=n.czmViewer,a=n.sceneObj;return n.dispose(i.czmPickedEvent.disposableOn((function(e){var t;if(e){var r=e.czmPickResult;r&&null!==(t=a.allowPicking)&&void 0!==t&&t&&r.primitive===n.primitive&&a.pickedEvent.emit(new l.SceneObjectPickedInfo(a,e))}}))),n}return o(t,e),Object.defineProperty(t.prototype,"czmObj",{get:function(){return this._czmObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObj",{get:function(){return this.czmObj.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmObj.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.PrimitiveWrapper=g},47916:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createPrimitive=void 0;var a=n(61556),s=n(59645),l=i(n(81557)),c=n(93442),u=n(38794),p=n(37417),f=n(39532);t.createPrimitive=function(e){var t,n,r,o,i=null!==(t=(0,p.getModelMatrix)(e))&&void 0!==t?t:l.Matrix4.IDENTITY,d=(0,u.getBursts)(e),h=(0,f.createParticleSystemEmitterFromJson)(e.emitter),y=e.color&&(0,a.toColor)(e.color),g=e.startColor&&(0,a.toColor)(e.startColor),m=e.endColor&&(0,a.toColor)(e.endColor),v=null!==(n=e.image)&&void 0!==n?n:s.SceneObject.context.getStrFromEnv(c.CzmParticleSystemPrimitive.defaults.imageStr);return new l.ParticleSystem({emitter:h,bursts:d,modelMatrix:i,updateCallback:e.updateCallback,image:v,imageSize:e.imageSize&&(0,a.toCartesian2)(e.imageSize),minimumImageSize:e.minimumImageSize&&(0,a.toCartesian2)(e.minimumImageSize),maximumImageSize:e.maximumImageSize&&(0,a.toCartesian2)(e.maximumImageSize),show:e.show,emissionRate:e.emissionRate,loop:e.loop,scale:e.scale,startScale:null!==(r=e.startScale)&&void 0!==r?r:c.CzmParticleSystemPrimitive.defaults.startScale,endScale:null!==(o=e.endScale)&&void 0!==o?o:c.CzmParticleSystemPrimitive.defaults.endScale,color:y,startColor:g,endColor:m,sizeInMeters:e.sizeInMeters,speed:e.speed,minimumSpeed:e.minimumSpeed,maximumSpeed:e.maximumSpeed,lifetime:e.lifetime,particleLife:e.particleLife,minimumParticleLife:e.minimumParticleLife,maximumParticleLife:e.maximumParticleLife,mass:e.mass,minimumMass:e.minimumMass,maximumMass:e.maximumMass})}},69125:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fixParticleSystem=void 0;var a=i(n(81557));t.fixParticleSystem=function(){if(void 0===a.ParticleSystem.prototype.timeStamp){Object.defineProperties(a.ParticleSystem.prototype,{timeStamp:{get:function(){return void 0===this._innerCurrentTimeStamp&&(this._innerCurrentTimeStamp=0),this._innerCurrentTimeStamp},set:function(e){this.timeStamp!==e&&(this._innerCurrentTimeStamp=e,a.JulianDate.fromDate(new Date(e),this._falseTime))}},_falseTime:{get:function(){return this.__falseTime||(this.__falseTime=a.JulianDate.fromDate(new Date(0))),this.__falseTime}}});var e=a.ParticleSystem.prototype.update;a.ParticleSystem.prototype.update=function(t){var n=t.time;t.time=this._falseTime;try{e.call(this,t);do{var r=this._billboardCollection;if(!r)break;var o=r._billboards;if(!o||!Array.isArray(o))break;for(var i=o.length,a=0;a<i;a++)o[a].pickPrimitive=this}while(0)}catch(e){}t.time=n}}else console.warn("fixParticleSystem已经执行过！")}},38794:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getBursts=void 0;var a=i(n(81557));t.getBursts=function(e){if(e.bursts){var t=[];return e.bursts.forEach((function(e){var n,r,o,i=new a.ParticleBurst({time:null!==(n=e.time)&&void 0!==n?n:0,minimum:null!==(r=e.maximum)&&void 0!==r?r:0,maximum:null!==(o=e.maximum)&&void 0!==o?o:50});t.push(i)})),t}}},37417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModelMatrix=void 0;var r=n(61556);t.getModelMatrix=function(e){var t;return(0,r.computeCzmModelMatrix)({localScale:e.localScale,initialRotation:"xForwardzUp",localRotation:e.localRotation,localPosition:e.localPosition,localModelMatrix:e.localModelMatrix,rotation:e.rotation,position:null!==(t=e.position)&&void 0!==t?t:[0,0,0],modelMatrix:e.modelMatrix})}},43045:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmParticleSystemPrimitive=void 0;var l=n(61556),c=n(59645),u=s(n(81557)),p=n(58354),f=n(93442),d=n(69125),h=n(81793);(0,d.fixParticleSystem)();var y=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._recreateEvent=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.sceneObject.emitterChanged,r.sceneObject.burstsChanged,r.sceneObject.emissionRateChanged,r.sceneObject.loopChanged,r.sceneObject.scaleChanged,r.sceneObject.startScaleChanged,r.sceneObject.endScaleChanged,r.sceneObject.colorChanged,r.sceneObject.startColorChanged,r.sceneObject.endColorChanged,r.sceneObject.imageSizeChanged,r.sceneObject.minimumImageSizeChanged,r.sceneObject.maximumImageSizeChanged,r.sceneObject.sizeInMetersChanged,r.sceneObject.speedChanged,r.sceneObject.minimumSpeedChanged,r.sceneObject.maximumSpeedChanged,r.sceneObject.lifetimeChanged,r.sceneObject.particleLifeChanged,r.sceneObject.minimumParticleLifeChanged,r.sceneObject.maximumParticleLifeChanged,r.sceneObject.massChanged,r.sceneObject.minimumMassChanged,r.sceneObject.maximumMassChanged,r.sceneObject.updateCallbackChanged,r.sceneObject.forceRecreteEvent)),r._primitiveObjResetting=r.disposeVar(new c.ObjResettingWithEvent(r._recreateEvent,(function(){return new h.PrimitiveWrapper(r)})));var o=n.viewer;return o?(r.dispose(t.applyCurentViewDistanceEvent.disposableOn((function(){if(n.actived)if(t.position){var e=(0,l.positionToCartesian)(t.position),r=o.camera.positionWC,i=u.Cartesian3.distance(e,r);t.viewDistance=i,console.log("应用当前视距($(d))。")}else console.warn("当前没有位置信息，无法计算视距！")}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=t.viewDistance,n=void 0===e?20:e;(0,l.flyTo)(o.scene.camera,t.position,n,void 0,1e3)}else console.warn("当前没有位置信息，无法飞入！")}))),r):(console.warn("viewer is undefined!"),r)}var n;return o(t,e),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),n=t,t.type=n.register(f.CzmParticleSystemPrimitive.type,n),t}(p.CzmObject);t.CzmCzmParticleSystemPrimitive=y},39532:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createParticleSystemEmitterFromJson=void 0;var a=i(n(81557)),s=n(61556);t.createParticleSystemEmitterFromJson=function(e){if("BoxEmitter"===e.type){var t=e.dimensions;return t?new a.BoxEmitter((0,s.toCartesian3)(t)):void 0}if("CircleEmitter"===e.type){var n=e.radius;return new a.CircleEmitter(n)}if("ConeEmitter"===e.type){var r=e.angle;return new a.ConeEmitter(r)}if("SphereEmitter"===e.type)return n=e.radius,new a.SphereEmitter(n)}},63752:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPointPrimitiveCollection=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,p.getViewerExtensions)(n.viewer))return o;var a=function(){r&&(r.removeAll(),i.scene.primitives.remove(r),r=void 0)};o.dispose(a);var s=function(){var e,n,o,s;a(),s=new l.PointPrimitiveCollection({show:null===(e=t.show)||void 0===e||e,debugShowBoundingVolume:null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,blendOption:null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT}),r=t.pointPrimitiveOptions?(t.pointPrimitiveOptions.forEach((function(e){var t;s.add({show:null===(t=e.show)||void 0===t||t,color:e.color&&(0,c.toColor)(e.color),disableDepthTestDistance:e.disableDepthTestDistance,distanceDisplayCondition:e.distanceDisplayCondition&&(0,c.toDistanceDisplayCondition)(e.distanceDisplayCondition),outlineColor:e.outlineColor&&(0,c.toColor)(e.outlineColor),outlineWidth:e.outlineWidth,pixelSize:e.pixelSize,position:e.position&&(0,c.positionToCartesian)(e.position),scaleByDistance:e.scaleByDistance&&(0,c.toNearFarScalar)(e.scaleByDistance),translucencyByDistance:e.translucencyByDistance&&(0,c.toNearFarScalar)(e.translucencyByDistance)})})),s):s,i.scene.primitives.add(r)};s();var f=o.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged,t.debugShowBoundingVolumeChanged,t.blendOptionChanged));o.dispose(f.disposableOn((function(){var e,n,o;r&&(r.show=null===(e=t.show)||void 0===e||e,r.debugShowBoundingVolume=null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,r.blendOption=null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT)})));var h=o.disposeVar((0,u.createNextAnimateFrameEvent)(t.pointPrimitiveOptionsChanged));o.dispose(h.disposableOn((function(){s()})));var y=new l.BoundingSphere;return o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.pointPrimitiveOptions)if(f.flush(),h.flush(),1===t.pointPrimitiveOptions.length){var r=t.pointPrimitiveOptions[0].position;if(!r)return;var o=i.scene.camera.positionCartographic.height;(0,c.flyTo)(i.scene.camera,r,o,void 0,e)}else{var a=t.pointPrimitiveOptions,s=[];a.forEach((function(e){e.position&&s.push(e.position)}));var u=(0,c.positionsToUniqueCartesians)(s);if(l.BoundingSphere.fromPoints(u,y),y.radius>0){var p=(0,c.positionFromCartesian)(y.center);p&&(0,c.flyTo)(i.camera,p,4*y.radius,void 0,e)}}}))),o}var n;return o(t,e),n=t,t.type=n.register(f.CzmPointPrimitiveCollection.type,n),t}(p.CzmObject);t.CzmCzmPointPrimitiveCollection=h},92707:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPoint=void 0;var l=n(61556),c=n(59645),u=s(n(81557)),p=n(58354),f=n(93442),d=n(86003),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i,a=new u.PointPrimitiveCollection,s=function(){a&&(i&&a.remove(i),o.scene.primitives.remove(a),i=void 0)};r.dispose(s),s(),i=a.add({}),o.scene.primitives.add(a);var h=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.showChanged,t.pixelSizeChanged,t.colorChanged,t.disableDepthTestDistanceChanged,t.distanceDisplayConditionChanged,t.outlineColorChanged,t.outlineWidthChanged,t.scaleByDistanceChanged,t.translucencyByDistanceChanged)),y=function(){var e,n,r,o,s;i&&a&&(i.show=(null===(e=t.show)||void 0===e||e)&&!!t.position,t.position&&(i.position=(0,l.positionToCartesian)(t.position)),i.pixelSize=null!==(n=t.pixelSize)&&void 0!==n?n:1,i.color=(0,l.toColor)(null!==(r=t.color)&&void 0!==r?r:f.CzmPoint.defaults.color),i.distanceDisplayCondition=t.distanceDisplayCondition&&(0,l.toDistanceDisplayCondition)(t.distanceDisplayCondition),i.outlineColor=(0,l.toColor)(null!==(o=t.outlineColor)&&void 0!==o?o:f.CzmPoint.defaults.outlineColor),i.outlineWidth=null!==(s=t.outlineWidth)&&void 0!==s?s:f.CzmPoint.defaults.outlineWidth,i.scaleByDistance=t.scaleByDistance&&(0,l.toNearFarScalar)(t.scaleByDistance),i.translucencyByDistance=t.translucencyByDistance&&(0,l.toNearFarScalar)(t.translucencyByDistance),i.disableDepthTestDistance=t.disableDepthTestDistance)};return y(),r.dispose(h.disposableOn(y)),r.disposeVar(new c.ObjResettingWithEvent(t.allowPickingChanged,(function(){if(!t.allowPicking)return new p.CzmViewer.ObjectsToExcludeWrapper(n,[a])}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(t.position){var n=o.scene.camera.positionCartographic.height;(0,d.flyTo)(o.scene.camera,t.position,n,void 0,e)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmPoint.type,n),t}(p.CzmObject);t.CzmCzmPoint=h},86961:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolygonGroundPrimitive=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(9675),d=n(58354),h=n(93442),y=n(95315),g=n(86003),m=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i._czmViewer=t,i._viewer=n,i._sceneObject=r,i._material=o,i._primitive=function(){var e=i._sceneObject,t=i._material;if(i._viewer,e.polygonHierarchies&&0!==e.polygonHierarchies.length){for(var n=new p.MaterialAppearance({material:t}),r=[],o=e.polygonHierarchies.length,a=0;a<o;a++){var s=new p.GeometryInstance({geometry:new p.PolygonGeometry({vertexFormat:p.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,y.createPolygonHierarchy)(e.polygonHierarchies[a]),stRotation:e.stRotation&&p.Math.toRadians(e.stRotation),arcType:e.arcType&&p.ArcType[e.arcType],height:e.height,extrudedHeight:e.extrudedHeight,perPositionHeight:e.perPositionHeight,closeTop:e.closeTop,closeBottom:e.closeBottom,ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid),granularity:void 0!==e.granularity?p.Math.toRadians(e.granularity):void 0}),id:i});r.push(s)}var c=new p.GroundPrimitive({geometryInstances:r,appearance:n,asynchronous:!1,allowPicking:e.allowPicking,compressVertices:!1}),u=i._czmViewer.viewerInstance.obj;if(!u)throw console.error("!viewerInstance"),new Error("!viewerInstance");var f,h=u.groundPrimitivesMananger.createGroundPrimitiveWrapper(c);return i.dispose((function(){return u.groundPrimitivesMananger.destroyGroundPrimitiveWrapper(h)})),(f=function(){h.zIndex=e.zIndex})(),i.dispose(e.zIndexChanged.disposableOn(f)),(f=function(){c.show=e.show})(),i.dispose(e.showChanged.disposableOn(f)),i.disposeVar(new d.CzmViewer.ObjectsToExcludeWrapper(i._czmViewer,c)),c}}(),i._boundingSphere=function(){var e=i._sceneObject,t=(i._material,new p.BoundingSphere);if(e.polygonHierarchies&&0!==e.polygonHierarchies.length){var n=(0,l.positionsToUniqueCartesians)(e.polygonHierarchies[0].positions);if(!(n.length<3))return p.BoundingSphere.fromPoints(n,t),t;t.radius=-1}}(),i.dispose(i._czmViewer.czmPickedEvent.disposableOn((function(e){var t;if(e){var n=e.czmPickResult;n&&null!==(t=i._sceneObject.allowPicking)&&void 0!==t&&t&&i._primitive&&n.primitive===i._primitive&&i._sceneObject.pickedEvent.emit(new c.SceneObjectPickedInfo(i._sceneObject,e))}}))),i}return o(t,e),t.prototype.flyTo=function(e){var t=this._boundingSphere;if(t&&t.radius>0){var n=(0,l.positionFromCartesian)(t.center);n&&(0,g.flyTo)(this._viewer.camera,n,4*t.radius,void 0,e)}},t}(f.Destroyable),v=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,d.getViewerExtensions)(n.viewer))return r;var i=r.disposeVar((0,y.createMaterialRef)([t,"material"]));r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}})));var a=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.polygonHierarchiesChanged,t.materialChanged,t.stRotationChanged,t.arcTypeChanged,t.heightChanged,t.extrudedHeightChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.ellipsoidChanged,t.granularityChanged,t.allowPickingChanged,i.changed)),s=r.disposeVar(new u.ObjResettingWithEvent(a,(function(){if(i.value)return new m(n,o,t,i.value)})));return r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&(a.flush(),s.obj&&s.obj.flyTo(e))}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmPolygonGroundPrimitive.type,n),t}(d.CzmObject);t.CzmCzmPolygonGroundPrimitive=v},61056:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolygonOutlinePrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=n(86003),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(i);var a=new l.Color,s=new l.BoundingSphere,p=function(){if(i(),t.polygonHierarchies&&0!==t.polygonHierarchies.length){var e=(0,c.positionsToUniqueCartesians)(t.polygonHierarchies[0].positions);e.length<3?s.radius=-1:(l.BoundingSphere.fromPoints(e,s),r._primitive=function(){var e;if(t.polygonHierarchies){for(var n=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(e=t.translucent)||void 0===e||e}),o=[],i=t.polygonHierarchies.length,s=0;s<i;s++){var u=new l.GeometryInstance({geometry:new l.PolygonOutlineGeometry({vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,d.createPolygonHierarchy)(t.polygonHierarchies[s]),height:t.height,extrudedHeight:t.extrudedHeight,arcType:t.arcType&&l.ArcType[t.arcType],perPositionHeight:t.perPositionHeight,ellipsoid:t.ellipsoid&&(0,c.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0}),attributes:{color:t.outlineColor?l.ColorGeometryInstanceAttribute.fromColor((0,c.toColor)(t.outlineColor,a)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))},id:r});o.push(u)}return new l.Primitive({geometryInstances:o,appearance:n,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(),r._primitive&&o.scene.primitives.add(r._primitive))}},f=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};p(),f();var y=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.polygonHierarchiesChanged,t.extrudedHeightChanged,t.outlineColorChanged,t.translucentChanged,t.heightChanged,t.arcTypeChanged));r.dispose(y.disposableOn((function(){p(),f()})));var g=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(g.disposableOn((function(){f()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&(y.flush(),g.flush(),s.radius>0)){var t=(0,c.positionFromCartesian)(s.center);t&&(0,h.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmPolygonOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmPolygonOutlinePrimitive=y},87848:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolygonPrimitive=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(95315),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}})));var i=r.disposeVar((0,h.createMaterialRef)([t,"material"])),a=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(a);var s=new p.BoundingSphere,d=function(){if(a(),t.polygonHierarchies&&0!==t.polygonHierarchies.length){var e=(0,l.positionsToUniqueCartesians)(t.polygonHierarchies[0].positions);e.length<3||!i.value?s.radius=-1:(p.BoundingSphere.fromPoints(e,s),r._primitive=function(e){if(t.polygonHierarchies&&0!==t.polygonHierarchies.length){for(var n=new p.MaterialAppearance({material:e}),o=[],i=t.polygonHierarchies.length,a=0;a<i;++a){var s=new p.GeometryInstance({geometry:new p.PolygonGeometry({vertexFormat:p.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,h.createPolygonHierarchy)(t.polygonHierarchies[a]),stRotation:t.stRotation&&p.Math.toRadians(t.stRotation),arcType:t.arcType&&p.ArcType[t.arcType],height:t.height,extrudedHeight:t.extrudedHeight,perPositionHeight:t.perPositionHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,ellipsoid:t.ellipsoid&&(0,l.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?p.Math.toRadians(t.granularity):void 0}),id:r});o.push(s)}return new p.Primitive({geometryInstances:o,appearance:n,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}}(i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},y=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};d(),y();var g=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.polygonHierarchiesChanged,t.materialChanged,t.stRotationChanged,t.arcTypeChanged,t.heightChanged,t.extrudedHeightChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.ellipsoidChanged,t.granularityChanged,t.allowPickingChanged,i.changed));r.dispose(g.disposableOn((function(){d(),y()})));var m=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(m.disposableOn((function(){y()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&(g.flush(),m.flush(),s.radius>0)){var t=(0,l.positionFromCartesian)(s.center);t&&(0,l.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmPolygonPrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolygonPrimitive=y},50261:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylineGroundPrimitive=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(95315),y=n(86003),g=function(e){function t(t,n){var r,o=e.call(this)||this;return o._czmCzmPolylineGroundPrimitive=t,o._cartesians=n,o._boundingSphere=(r=new p.BoundingSphere,p.BoundingSphere.fromPoints(o._cartesians,r),r),o._primitive=function(){var e=o.czmObj.materialRef.value;if(!e)throw console.warn("material is undefined!"),new Error("material is undefined!");var t=function(e,t,n,r){var o,i=new p.PolylineMaterialAppearance({material:r,renderState:{depthTest:{enabled:null!==(o=e.depthTest)&&void 0!==o&&o}}});i.renderState.depthMask=!1;var a=[];if(!(n.length<2)){"NONE"===e.arcType&&console.warn("贴地折线不能使用NONE模式，如果客户设定为此模式，则强制使用GEODESIC模式来处理！");var s="RHUMB"!==e.arcType?"GEODESIC":"RHUMB";return a.push(new p.GeometryInstance({geometry:new p.GroundPolylineGeometry({positions:n,width:e.width,vertexFormat:p.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:p.ArcType[s]}),id:t})),new p.GroundPolylinePrimitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:e.allowPicking,compressVertices:!1})}}(o.sceneObject,o.czmObj,o._cartesians,e);(r=function(){var e;t.show=null===(e=o.sceneObject.show)||void 0===e||e})(),o.dispose(o.sceneObject.showChanged.disposableOn(r)),o.dispose(o.sceneObject.flyToEvent.disposableOn((function(e){if(o.czmViewer.actived&&o.boundingSphere.radius>0){var t=(0,l.positionFromCartesian)(o.boundingSphere.center);t&&(0,y.flyTo)(o.viewer.camera,t,4*o.boundingSphere.radius,void 0,e)}}))),o.dispose(o.czmViewer.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult,i=o.sceneObject;r&&null!==(n=i.allowPicking)&&void 0!==n&&n&&t&&r.primitive===t&&i.pickedEvent.emit(new c.SceneObjectPickedInfo(i,e))}})));var n=o.czmViewer.viewerInstance.obj;if(!n)throw new Error("!viewerInstance");var r,i=n.groundPrimitivesMananger.createGroundPrimitiveWrapper(t);return(r=function(){return i.zIndex=o.sceneObject.zIndex})(),o.dispose(o.sceneObject.zIndexChanged.disposableOn(r)),o.dispose((function(){n.groundPrimitivesMananger.destroyGroundPrimitiveWrapper(i)})),t}(),o}return o(t,e),Object.defineProperty(t.prototype,"czmObj",{get:function(){return this._czmCzmPolylineGroundPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmObj.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmObj.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundingSphere",{get:function(){return this._boundingSphere},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),t}(n(51355).Destroyable),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._materialRef=r.disposeVar((0,h.createMaterialRef)([r.sceneObject,"material"])),!n.viewer)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;var o=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionsChanged,t.widthChanged,r.materialRef.changed,t.arcTypeChanged,t.allowPickingChanged,t.depthTestChanged,t.showChanged));return r.disposeVar(new u.ObjResettingWithEvent(o,(function(){var e;if((null===(e=t.show)||void 0===e||e)&&t.positions){var n=(0,l.positionsToUniqueCartesians)(t.positions);if(!(n.length<2)&&r.materialRef.value)return new g(r,n)}}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"materialRef",{get:function(){return this._materialRef},enumerable:!1,configurable:!0}),n=t,t.type=n.register(d.CzmPolylineGroundPrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolylineGroundPrimitive=m},18132:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylinePrimitive=void 0;var l=s(n(81557)),c=n(80468),u=n(61556),p=n(59645),f=n(58354),d=n(93442),h=n(95315),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;var i,a=r.disposeVar((0,h.createMaterialRef)([t,"material"])),s=new l.BoundingSphere,d=function(){i&&(o.scene.primitives.remove(i),i=void 0)};r.dispose(d);var y=function(){if(d(),t.positions){var e=(0,u.positionsToUniqueCartesians)(t.positions);e.length<2||!a.value?s.radius=-1:(l.BoundingSphere.fromPoints(e,s),i=function(e,n){var o,i=new l.PolylineMaterialAppearance({material:n,renderState:{depthTest:{enabled:null!==(o=t.depthTest)&&void 0!==o&&o}}});i.renderState.depthMask=!1;var a=[];if(!(e.length<2))return a.push(new l.GeometryInstance({geometry:new l.PolylineGeometry({positions:e,width:t.width,vertexFormat:l.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:t.arcType&&l.ArcType[t.arcType]}),id:r})),new l.Primitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}(e,a.value),i&&o.scene.primitives.add(i))}},g=function(){var e;i&&(i.show=null===(e=t.show)||void 0===e||e)};r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&i&&r.primitive===i&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),y(),g();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.positionsChanged,t.widthChanged,a.changed,t.arcTypeChanged,t.allowPickingChanged,t.depthTestChanged));r.dispose(m.disposableOn((function(){y(),g()})));var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(v.disposableOn((function(){g()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&(v.flush(),m.flush(),s.radius>0)){var t=(0,u.positionFromCartesian)(s.center);t&&(0,u.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmPolylinePrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolylinePrimitive=y},33932:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylinesGroundPrimitive=void 0;var c=s(n(81557)),u=n(80468),p=n(51355),f=n(61556),d=n(58354),h=n(93442),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,d.getViewerExtensions)(n.viewer))return r;r.dispose((function(){r._groundPrimitive&&o.scene.groundPrimitives.remove(r._groundPrimitive),r._groundPrimitive=void 0}));var i=new c.Color,a=new c.Color,s=function(e,t){t=t||new c.Color;var n=l(e,4),r=n[0],o=n[1],i=n[2],a=n[3];return t.red=r,t.green=o,t.blue=i,t.alpha=a,t},h=function(){var e,n,r,o,l,u;if(t.hasArrow){var p=c.Material.fromType("PolylineArrow");return p.uniforms.color=s(null!==(e=t.color)&&void 0!==e?e:[1,1,1,1],i),p}if(t.hasDash){var f=c.Material.fromType("PolylineDash");return f.uniforms.color=s(null!==(n=t.color)&&void 0!==n?n:[1,1,1,1],i),f.uniforms.gapColor=s(null!==(r=t.gapColor)&&void 0!==r?r:[0,0,0,0],a),f.uniforms.dashLength=null!==(o=t.dashLength)&&void 0!==o?o:16,f.uniforms.dashPattern=null!==(l=t.dashPattern)&&void 0!==l?l:255,f}var d=c.Material.fromType("Color");return d.uniforms.color=s(null!==(u=t.color)&&void 0!==u?u:[1,1,1,1],i),d},y=function(){var e;if(r._groundPrimitive&&o.scene.groundPrimitives.remove(r._groundPrimitive),r._groundPrimitive=void 0,(null===(e=t.show)||void 0===e||e)&&t.positions){var n=t.positions.map(f.positionsToUniqueCartesians);r._groundPrimitive=function(e){for(var n,o,i,a=[],s=0;s<e.length;++s){var l=e[s];l.length<2||a.push(new c.GeometryInstance({geometry:new c.GroundPolylineGeometry({positions:l,width:null!==(n=t.width)&&void 0!==n?n:1,vertexFormat:c.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:c.ArcType[null!==(o=t.arcType)&&void 0!==o?o:"GEODESIC"]}),id:r}))}if(0!==a.length)return new c.GroundPolylinePrimitive({geometryInstances:a,appearance:new c.PolylineMaterialAppearance({material:h(),renderState:{depthTest:{enabled:null!==(i=t.depthTest)&&void 0!==i&&i}}}),asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}(n),r._groundPrimitive&&o.scene.groundPrimitives.add(r._groundPrimitive)}},g=function(){var e,n=null===(e=t.show)||void 0===e||e;r._groundPrimitive&&(r._groundPrimitive.show=n)},m=new c.BoundingSphere,v=function(){var e=t.positions&&t.positions.map(f.positionsToUniqueCartesians);if(e){for(var n=[],o=e.length,i=0;i<o;++i)for(var a=e[i].length,s=0;s<a;++s)n.push(e[i][s]);r._boundingSphere=n?c.BoundingSphere.fromPoints(n,m):void 0}else r._boundingSphere=void 0};y(),g(),v();var b=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged,t.positionsChanged,t.widthChanged,t.hasDashChanged,t.hasArrowChanged,t.colorChanged,t.gapColorChanged,t.dashLengthChanged,t.dashPatternChanged,t.arcTypeChanged,t.depthTestChanged,t.allowPickingChanged));return r.dispose(b.disposableOn((function(){y(),g(),v()}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._groundPrimitive&&o.primitive===r._groundPrimitive&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(){n.actived&&(b.flush(),r._boundingSphere&&o.camera.flyToBoundingSphere(r._boundingSphere))}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmPolylinesGroundPrimitive.type,n),t}(d.CzmObject);t.CzmCzmPolylinesGroundPrimitive=y},42769:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylinesPrimitive=void 0;var c=s(n(81557)),u=n(80468),p=n(51355),f=n(61556),d=n(58354),h=n(93442),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,d.getViewerExtensions)(n.viewer))return r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=function(e,t){t=t||new c.Color;var n=l(e,4),r=n[0],o=n[1],i=n[2],a=n[3];return t.red=r,t.green=o,t.blue=i,t.alpha=a,t},a=function(){var e,n,r,o,a,s,l=new c.Color,u=new c.Color;if(t.hasArrow){var p=c.Material.fromType("PolylineArrow");return p.uniforms.color=i(null!==(e=t.color)&&void 0!==e?e:[1,1,1,1],l),p}if(t.hasDash){var f=c.Material.fromType("PolylineDash");return f.uniforms.color=i(null!==(n=t.color)&&void 0!==n?n:[1,1,1,1],l),f.uniforms.gapColor=i(null!==(r=t.gapColor)&&void 0!==r?r:[0,0,0,0],u),f.uniforms.dashLength=null!==(o=t.dashLength)&&void 0!==o?o:16,f.uniforms.dashPattern=null!==(a=t.dashPattern)&&void 0!==a?a:255,f}var d=c.Material.fromType("Color");return d.uniforms.color=i(null!==(s=t.color)&&void 0!==s?s:[1,1,1,1],l),d},s=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.positions){var e=t.positions.map(f.positionsToUniqueCartesians);r._primitive=function(e){var n,o,i,s=new c.PolylineMaterialAppearance({material:a(),renderState:{depthTest:{enabled:null!==(n=t.depthTest)&&void 0!==n&&n}}});s.renderState.depthMask=!1;for(var l=[],u=0;u<e.length;++u){var p=e[u];p.length<2||l.push(new c.GeometryInstance({geometry:new c.PolylineGeometry({positions:p,width:null!==(o=t.width)&&void 0!==o?o:1,vertexFormat:c.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:c.ArcType[null!==(i=t.arcType)&&void 0!==i?i:"GEODESIC"]}),id:r}))}if(0!==l.length)return new c.Primitive({geometryInstances:l,appearance:s,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}(e),r._primitive&&o.scene.primitives.add(r._primitive)}},h=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)},y=new c.BoundingSphere,g=function(){var e=t.positions&&t.positions.map(f.positionsToUniqueCartesians);if(e){for(var n=[],o=e.length,i=0;i<o;++i)for(var a=e[i].length,s=0;s<a;++s)n.push(e[i][s]);r._boundingSphere=n?c.BoundingSphere.fromPoints(n,y):void 0}else r._boundingSphere=void 0};s(),h(),g();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.widthChanged,t.hasDashChanged,t.hasArrowChanged,t.colorChanged,t.gapColorChanged,t.dashLengthChanged,t.dashPatternChanged,t.arcTypeChanged,t.positionsChanged,t.depthTestChanged,t.allowPickingChanged));r.dispose(m.disposableOn((function(){s(),h(),g()})));var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(v.disposableOn((function(){h()}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(){n.actived&&(m.flush(),r._boundingSphere&&o.camera.flyToBoundingSphere(r._boundingSphere))}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmPolylinesPrimitive.type,n),t}(d.CzmObject);t.CzmCzmPolylinesPrimitive=y},55128:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRainPostProcess=void 0;var l=n(93442),c=s(n(81557)),u=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;var a=function(){r&&(i.scene.postProcessStages.remove(r),r=void 0)};o.dispose(a);var s=function(){var e;a(),(null===(e=t.show)||void 0===e||e)&&(r||(r=new c.PostProcessStage({name:"czm_rain",fragmentShader:"\nuniform sampler2D colorTexture;//输入的场景渲染照片\nin vec2 v_textureCoordinates;\n\nfloat hash(float x){\n    return fract(sin(x*133.3)*13.13);\n}\n\nvoid main(void){\n\n    float time = czm_frameNumber / 60.0;\n    vec2 resolution = czm_viewport.zw;\n\n    vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n    vec3 c=vec3(.6,.7,.8);\n\n    float a=-.4;\n    float si=sin(a),co=cos(a);\n    uv*=mat2(co,-si,si,co);\n    uv*=length(uv+vec2(0,4.9))*.3+1.;\n\n    float v=1.-sin(hash(floor(uv.x*100.))*2.);\n    float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n    c*=v*b; //屏幕上雨的颜色\n\n    out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(c,1), 0.5); //将雨和三维场景融合\n}\n"}),i.scene.postProcessStages.add(r)))};return s(),o.dispose(t.showChanged.disposableOn(s)),o}var n;return o(t,e),n=t,t.type=n.register(l.CzmRainPostProcess.type,n),t}(n(58354).CzmObject);t.CzmCzmRainPostProcess=u},70976:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRectangleGroundPrimitive=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(95315),y=n(86003),g=function(e){function t(t,n){var r=e.call(this)||this;return r._czmObj=t,r._cartesians=n,r._primitive=function(){var e=r.czmObj.materialRef.value,t=function(e,t,n,r){var o,i=new p.MaterialAppearance({material:t}),a=[],s=new p.GeometryInstance({geometry:new p.RectangleGeometry({rectangle:e,rotation:n.rotation&&p.Math.toRadians(n.rotation),stRotation:n.stRotation&&p.Math.toRadians(n.stRotation),vertexFormat:p.MaterialAppearance.MaterialSupport.ALL.vertexFormat}),id:r});return a.push(s),new p.GroundPrimitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=n.allowPicking)&&void 0!==o&&o,compressVertices:!1})}(r._cartesians,e,r.sceneObject,r.czmObj),n=r,o=n.czmViewer,i=n.viewer,a=n.sceneObject,s=r.sceneObject,u=function(){var e,t=null===(e=s.show)||void 0===e||e;r._primitive&&(r._primitive.show=t)};u(),r.dispose(s.showChanged.disposableOn(u)),r.dispose(o.czmPickedEvent.disposableOn((function(e){var t;if(e){var n=e.czmPickResult;n&&null!==(t=s.allowPicking)&&void 0!==t&&t&&r._primitive&&n.primitive===r._primitive&&s.pickedEvent.emit(new c.SceneObjectPickedInfo(s,e))}}))),r.dispose(s.flyToEvent.disposableOn((function(e){if(o.actived&&s.positions){var t=(0,l.toRectangle)(s.positions),n=p.BoundingSphere.fromRectangle3D(t,void 0,0);if(n.radius>0){var r=(0,l.positionFromCartesian)(n.center);r&&(0,y.flyTo)(i.camera,r,4*n.radius,void 0,e)}}})));var f=o.viewerInstance.obj;if(!f)throw console.error("!viewerInstance"),new Error("!viewerInstance");var d=f.groundPrimitivesMananger.createGroundPrimitiveWrapper(t);r.dispose((function(){return f.groundPrimitivesMananger.destroyGroundPrimitiveWrapper(d)}));var h=function(){d.zIndex=a.zIndex};return h(),r.dispose(a.zIndexChanged.disposableOn(h)),t}(),r}return o(t,e),Object.defineProperty(t.prototype,"czmObj",{get:function(){return this._czmObj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmObj.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmObj.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),t}(n(51355).Destroyable),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._materialRef=r.disposeVar((0,h.createMaterialRef)([r.sceneObject,"material"],d.CzmRectangleGroundPrimitive.defaults.material)),!n.viewer)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;var o=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionsChanged,t.materialChanged,t.stRotationChanged,t.rotationChanged,r.materialRef.changed,t.allowPickingChanged));return r.disposeVar(new u.ObjResettingWithEvent(o,(function(){if(t.positions){var e=(0,l.toRectangle)(t.positions);if(e&&r.materialRef.value)return new g(r,e)}}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"materialRef",{get:function(){return this._materialRef},enumerable:!1,configurable:!0}),n=t,t.type=n.register(d.CzmRectangleGroundPrimitive.type,n),t}(f.CzmObject);t.CzmCzmRectangleGroundPrimitive=m},47163:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRectangleOutlinePrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(86003),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(i);var a=new l.Color,s=function(){if(i(),t.positions){var e=(0,c.toRectangle)(t.positions);e&&(r._primitive=function(e){var n,o,i,s=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(n=t.translucent)||void 0===n||n}),u=[],p=new l.GeometryInstance({geometry:new l.RectangleOutlineGeometry({rectangle:e,height:null!==(o=t.height)&&void 0!==o?o:0,extrudedHeight:t.extrudedHeight,rotation:t.rotation&&l.Math.toRadians(t.rotation)}),attributes:{color:t.color?l.ColorGeometryInstanceAttribute.fromColor((0,c.toColor)(t.color,a)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))},id:r});return u.push(p),new l.Primitive({geometryInstances:u,appearance:s,asynchronous:!1,allowPicking:null!==(i=t.allowPicking)&&void 0!==i&&i,compressVertices:!1})}(e),r._primitive&&o.scene.primitives.add(r._primitive))}},p=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};s(),p();var f=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionsChanged,t.colorChanged,t.translucentChanged,t.extrudedHeightChanged,t.heightChanged,t.rotationChanged,t.allowPickingChanged));r.dispose(f.disposableOn((function(){s(),p()})));var h=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(h.disposableOn((function(){p()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.positions){var r=(0,c.toRectangle)(t.positions),i=l.BoundingSphere.fromRectangle3D(r,void 0,t.height);if(i.radius>0){var a=(0,c.positionFromCartesian)(i.center);a&&(0,d.flyTo)(o.camera,a,4*i.radius,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmRectangleOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmRectangleOutlinePrimitive=h},51981:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRectanglePrimitive=void 0;var l=s(n(81557)),c=n(61556),u=n(59645),p=n(58354),f=n(93442),d=n(95315),h=n(86003),y=n(80468),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,p.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new y.SceneObjectPickedInfo(t,e))}})));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"])),a=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(a);var s=function(){if(a(),t.positions){var e=(0,c.toRectangle)(t.positions);e&&i.value&&(r._primitive=function(e,n){var o,i=new l.MaterialAppearance({material:n}),a=[],s=new l.GeometryInstance({geometry:new l.RectangleGeometry({rectangle:e,height:t.height,rotation:t.rotation&&l.Math.toRadians(t.rotation),extrudedHeight:t.extrudedHeight,stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat}),id:r});return a.push(s),new l.Primitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o&&o,compressVertices:!1})}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},f=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};s(),f();var g=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionsChanged,t.materialChanged,t.extrudedHeightChanged,t.heightChanged,t.stRotationChanged,t.rotationChanged,i.changed,t.allowPickingChanged));r.dispose(g.disposableOn((function(){s(),f()})));var m=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(m.disposableOn((function(){f()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.positions){var r=(0,c.toRectangle)(t.positions),i=l.BoundingSphere.fromRectangle3D(r,void 0,t.height);if(i.radius>0){var a=(0,c.positionFromCartesian)(i.center);a&&(0,h.flyTo)(o.camera,a,4*i.radius,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmRectanglePrimitive.type,n),t}(p.CzmObject);t.CzmCzmRectanglePrimitive=g},65077:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRoad=void 0;var l=n(61556),c=n(80468),u=n(51355),p=n(59645),f=s(n(81557)),d=n(58354),h=n(93442),y=n(86003),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=p.SceneObject.context.createEvnStrReact([t,"imageUrl"],h.CzmRoad.defaults.imageUrl),a=r.disposeVar((0,u.react)(void 0)),s=function(){var e,n=f.Material.fromType(f.Material.ImageType);n.uniforms.image=i.value,n.uniforms.repeat=(0,l.toCartesian2)(null!==(e=t.repeat)&&void 0!==e?e:h.CzmRoad.defaults.repeat),a.value=n};s();var d=r.disposeVar((0,p.createNextAnimateFrameEvent)(i.changed,t.repeatChanged));r.dispose(d.disposableOn(s));var g,m=new f.BoundingSphere,v=function(){g&&(o.scene.primitives.remove(g),g=void 0)};r.dispose(v);var b=function(){if(v(),t.positions){var e=(0,l.positionsToUniqueCartesians)(t.positions);e.length<2||!a.value?m.radius=-1:(f.BoundingSphere.fromPoints(e,m),g=function(e,n){var o,i,a,s=new f.PolylineMaterialAppearance({material:n,renderState:{depthTest:{enabled:!1}}});s.renderState.depthMask=!1;var c=[];if(!(e.length<2))return c.push(new f.GeometryInstance({geometry:new f.GroundPolylineGeometry({positions:e,width:null!==(o=t.width)&&void 0!==o?o:h.CzmRoad.defaults.width,vertexFormat:f.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:f.ArcType[null!==(i=t.arcType)&&void 0!==i?i:h.CzmRoad.defaults.arcType]}),id:r})),new l.XbsjGroundPolylinePrimitive({geometryInstances:c,appearance:s,asynchronous:!1,allowPicking:null!==(a=t.allowPicking)&&void 0!==a?a:h.CzmRoad.defaults.allowPicking,compressVertices:!1})}(e,a.value),g&&o.scene.primitives.add(g))}},_=function(){var e;g&&(g.show=null===(e=t.show)||void 0===e||e)};r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&m.radius>0){var t=(0,l.positionFromCartesian)(m.center);t&&(0,y.flyTo)(o.camera,t,4*m.radius,void 0,e)}}))),b(),_();var w=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.positionsChanged,t.widthChanged,a.changed,t.arcTypeChanged,t.allowPickingChanged));r.dispose(w.disposableOn((function(){b(),_()})));var P=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(P.disposableOn((function(){_()}))),n.extensions?(r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&g&&r.primitive===g&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),r):(console.warn("!extensions"),r)}var n;return o(t,e),n=t,t.type=n.register(h.CzmRoad.type,n),t}(d.CzmObject);t.CzmCzmRoad=g},68974:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalTransmissionCollectionPrimitive=void 0;var u=n(61556),p=n(51355),f=n(61546),d=s(n(81557)),h=n(89089),y=function(e){function t(t,n,r){var o,i=this;(i=e.call(this)||this)._viewer=t;var a=i._viewer,s=n.routePaths;if(!s)throw new Error("!routePath");var p=void 0!==n.arcType?d.ArcType[n.arcType]:d.ArcType.GEODESIC,y=(0,u.xbsjCreateODLinesPrimitive)(s,[1,1,1,1],p,(function(e,t,r){var o,i,a,u,p,d,y,g,m,v,b,_=s[e];if(!n)return r;r.repeat=(null!==(a=_.repeat)&&void 0!==a?a:1)*n.repeat;var w=null!==(u=_.startTime)&&void 0!==u?u:n.startTime,P=null!==(y=null!==(d=null!==(p=_.transmissionTime)&&void 0!==p?p:n.transmissionTime)&&void 0!==d?d:n.duration)&&void 0!==y?y:h.CzmSignalTransmissionCollection.defaults.duration,C=null!==(g=n.currentTime)&&void 0!==g?g:h.CzmSignalTransmissionCollection.defaults.currentTime,O=(0,f.clamp)((C-w)/P,0,1);r.timeRatio=O/r.repeat;var x=null!==(m=_.color)&&void 0!==m?m:n.color,S=null!==(v=_.bgColor)&&void 0!==v?v:n.bgColor;(o=r.color).splice.apply(o,c([0,4],l(x),!1)),(i=r.bgColor).splice.apply(i,c([0,4],l(S),!1)),r.bidirectional=null!==(b=_.bidirectional)&&void 0!==b?b:n.bidirectional;var E=n.routePathCallback&&n.routePathCallback(r,n,e,t);return null!=E?E:r}),n.brightening,n.depthTest,r);return y?(a.scene.primitives.add(y),i.dispose((function(){a.scene.primitives.remove(y)})),y.show=null===(o=n.show)||void 0===o||o,i.dispose(n.showChanged.disposableOn((function(){var e;y&&(y.show=null===(e=n.show)||void 0===e||e)}))),i._nativePrimitive=y,i):i}return o(t,e),Object.defineProperty(t.prototype,"nativePrimitive",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),t}(p.Destroyable);t.SignalTransmissionCollectionPrimitive=y},75535:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSignalTransmissionCollection=void 0;var s=n(61556),l=n(80468),c=n(51355),u=n(59645),p=n(58354),f=n(93442),d=n(68974),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var p=t.finalImageUrlReact,f=r.disposeVar(new s.ResourceHandler),h=r.disposeVar((0,u.createProcessingFromAsyncFunc)((function(e){return i(r,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return p.value?(t=(0,s.getSharedTexturePool)(o.scene.context).getTextureHandler(p.value))instanceof s.ResourceHandler?(f.reset(t),[3,3]):[3,1]:[2];case 1:return[4,e.promise(t)];case 2:n=r.sent(),f.reset(n),r.label=3;case 3:return[2]}}))}))}))),y=function(){return f.valid?f.raw:o.scene.context.defaultTexture},g=function(){return h.restart()};g(),r.dispose(p.changed.disposableOn(g));var m=r.disposeVar(new u.ObjResettingWithEvent(t.routePathsChanged,(function(){if(t.routePaths&&0!==t.routePaths.length)return new d.SignalTransmissionCollectionPrimitive(o,t,p.value&&y||void 0)})));return n.extensions&&r.dispose(n.czmPickedEvent.disposableOn((function(e){var n,r;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&t&&o.primitive===(null===(r=m.obj)||void 0===r?void 0:r.nativePrimitive)&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){var n=t.routePaths;if(n&&0!==n.length){var r=n.map((function(e){return"positions"in e?e.positions:[e.startPos,e.endPos]})).flat(1),i=(0,c.min)(r.map((function(e){return e[0]}))),a=(0,c.max)(r.map((function(e){return e[0]}))),l=(0,c.min)(r.map((function(e){return e[1]}))),u=(0,c.max)(r.map((function(e){return e[1]}))),p=(0,c.min)(r.map((function(e){var t;return null!==(t=e[2])&&void 0!==t?t:0}))),f=(0,c.max)(r.map((function(e){var t;return null!==(t=e[2])&&void 0!==t?t:0}))),d=[(a+i)/2,(l+u)/2,(p+f)/2],h=6378137*Math.cos(d[1]*Math.PI/180)*Math.PI/180,y=Math.max((a-i)*h,(u-l)*h,f-p);(0,s.flyTo)(o.camera,d,1.5*y,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmSignalTransmissionCollection.type,n),t}(p.CzmObject);t.CzmCzmSignalTransmissionCollection=h},68419:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},10891:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSnowPostProcess=void 0;var l=n(93442),c=s(n(81557)),u=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){r&&(a.scene.postProcessStages.remove(r),r=void 0)};i.dispose(s);var l=function(){o&&(a.scene.postProcessStages.remove(o),o=void 0)};i.dispose(l);var u=function(){if(o){var e=c.Math.clamp(t.alpha,0,1);o.uniforms.alpha=e}};u(),i.dispose(t.alphaChanged.disposableOn(u));var p=function(){var e;s(),l(),(null===(e=t.show)||void 0===e||e)&&(r=new c.PostProcessStage({name:"czm_snow",fragmentShader:"\nuniform sampler2D colorTexture; //输入的场景渲染照片\nin vec2 v_textureCoordinates;\n\nfloat snow(vec2 uv,float scale)\n{\n    float time = czm_frameNumber / 60.0;\n    float w=smoothstep(1.,0.,-uv.y*(scale/10.));if(w<.1)return 0.;\n    uv+=time/scale;uv.y+=time*2./scale;uv.x+=sin(uv.y+time*.5)/scale;\n    uv*=scale;vec2 s=floor(uv),f=fract(uv),p;float k=3.,d;\n    p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;d=length(p);k=min(d,k);\n    k=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n    return k*w;\n}\n\nvoid main(void){\n    vec2 resolution = czm_viewport.zw;\n    vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n    vec3 finalColor=vec3(0);\n    //float c=smoothstep(1.,0.3,clamp(uv.y*.3+.8,0.,.75));\n    float c = 0.0;\n    c+=snow(uv,30.)*.0;\n    c+=snow(uv,20.)*.0;\n    c+=snow(uv,15.)*.0;\n    c+=snow(uv,10.);\n    c+=snow(uv,8.);\n    c+=snow(uv,6.);\n    c+=snow(uv,5.);\n    finalColor=(vec3(c)); //屏幕上雪的颜色\n    out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(finalColor,1), 0.5);  //将雪和三维场景融合\n}\n"}),a.scene.postProcessStages.add(r),o=new c.PostProcessStage({name:"czm_snowCover",fragmentShader:"\n#extension GL_OES_standard_derivatives : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform float alpha;\nin vec2 v_textureCoordinates;\nvec4 toEye(in vec2 uv, in float depth) {\n    vec2 xy = vec2((uv.x * 2.0 - 1.0), (uv.y * 2.0 - 1.0));\n    vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n    posInCamera = posInCamera / posInCamera.w;\n    return posInCamera;\n}\nfloat getDepth(in vec4 depth) {\n    float z_window = czm_unpackDepth(depth);\n    z_window = czm_reverseLogDepth(z_window);\n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main() {\n    vec4 color = texture(colorTexture, v_textureCoordinates);\n    vec4 currD = texture(depthTexture, v_textureCoordinates);\n    if(currD.r >= 1.0) {\n        out_FragColor = color;\n        return;\n    }\n    float depth = getDepth(currD);\n    vec4 positionEC = toEye(v_textureCoordinates, depth);\n    vec3 dx = dFdx(positionEC.xyz);\n    vec3 dy = dFdy(positionEC.xyz);\n    vec3 nor = normalize(cross(dx, dy));\n    vec4 positionWC = normalize(czm_inverseView * positionEC);\n    vec3 normalWC = normalize(czm_inverseViewRotation * nor);\n    float dotNumWC = dot(positionWC.xyz, normalWC);\n    if(dotNumWC <= 0.3) {\n        out_FragColor = mix(color, vec4(1.0), alpha*0.3);\n        return;\n    }\n    out_FragColor = mix(color, vec4(1.0), dotNumWC*alpha);\n}\n",uniforms:{alpha:t.alpha}}),a.scene.postProcessStages.add(o),u())};return p(),i.dispose(t.showChanged.disposableOn(p)),i}var n;return o(t,e),n=t,t.type=n.register(l.CzmSnowPostProcess.type,n),t}(n(58354).CzmObject);t.CzmCzmSnowPostProcess=u},36758:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSpaceAreaMeasurement=void 0;var p=s(n(83855)),f=s(n(81557)),d=u(n(89268)),h=n(58354),y=n(93442),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;return o?(0,h.getViewerExtensions)(n.viewer)?(r.dispose(t.startEvent.don((function(){var e,n,r,i;if(!t.positions||t.positions.length<3)return t.totalArea=0,t.customPrimitive.position=void 0,t.customPrimitive.attributes=void 0,t.customPrimitive.indexTypedArray=void 0,void(t.customPrimitive.show=!1);for(var a=null!==(e=t.interpolationDistance)&&void 0!==e?e:y.CzmSpaceAreaMeasurement.defaults.interpolationDistance,s=null!==(n=t.interpolation)&&void 0!==n?n:y.CzmSpaceAreaMeasurement.defaults.interpolation,u=null!==(r=t.offsetHeight)&&void 0!==r?r:y.CzmSpaceAreaMeasurement.defaults.offsetHeight,p=null!==(i=t.drillDepth)&&void 0!==i?i:y.CzmSpaceAreaMeasurement.defaults.drillDepth,h=[],g=0;g<t.positions.length;++g){var C=f.Cartesian3.fromDegrees(t.positions[g][0],t.positions[g][1],t.positions[g][2]);h.push(C)}var O=function(e){for(var t=new f.Cartesian3(0,0,0),n=new f.Cartesian3(0,0,0),r=new f.Cartesian3(0,0,0),o=new f.Cartesian3(0,0,0),i=e.length,a=0;a<i;++a){var s,l,c=e[a];s=0==a?e[e.length-1]:e[a-1],l=a==e.length-1?e[0]:e[a+1],t=f.Cartesian3.subtract(c,s,t),n=f.Cartesian3.subtract(c,l,n),r=f.Cartesian3.cross(t,n,r),r=f.Cartesian3.normalize(r,r),o=f.Cartesian3.add(o,r,o)}return r.x=o.x/i,r.y=o.y/i,r.z=o.z/i,r}(h);if(isNaN(O.x)||isNaN(O.y)||isNaN(O.z))console.warn("法向量计算错误！");else{var x=function(e){for(var t=new f.Cartesian3(0,0,0),n=e.length,r=0;r<n;++r){var o=e[r];t=f.Cartesian3.add(t,o,t)}return t.x=t.x/n,t.y=t.y/n,t.z=t.z/n,t}(h),S=f.Cartesian3.normalize(x,new f.Cartesian3),E=f.Cartesian3.dot(S,O);E<0&&(O=m(O),h.reverse());var j=f.Transforms.eastNorthUpToFixedFrame(x),T=f.Matrix4.inverseTransformation(j,new f.Matrix4);if(Math.abs(E)<.999){var M=function(e,t){var n=f.Cartesian3.cross(e,t,new f.Cartesian3);n=f.Cartesian3.normalize(n,n);var r=f.Cartesian3.cross(e,n,new f.Cartesian3);r=f.Cartesian3.normalize(r,r);var o=e;return new f.Matrix4(n.x,n.y,n.z,0,r.x,r.y,r.z,0,o.x,o.y,o.z,0,0,0,0,1)}(O,S),A=m(x),I=f.Matrix4.fromTranslation(A,new f.Matrix4);T=f.Matrix4.multiply(M,I,I),j=f.Matrix4.inverse(T,new f.Matrix4)}var z,D,N,R,k,L=v(h,T),F=[],B=[],V=[];if(s&&a>0){var G=(D=(z=L)[0].x,N=z[0].y,R=z[0].x,k=z[0].y,z.forEach((function(e){D=Math.min(D,e.x),N=Math.min(N,e.y),R=Math.max(R,e.x),k=Math.max(k,e.y)})),{minx:D,miny:N,maxx:R,maxy:k}),U=function(e){var t=[];return e.forEach((function(e){t.push([e.x,e.y])})),t.push(t[0]),t}(L),W=function(e,t,n){for(var r=[],o=t.minx;o<t.maxx;o+=n)for(var i=t.miny;i<t.maxy;i+=n)w([o,i],e)&&r.push(new f.Cartesian3(o,i,0));return r}(U,G,a),H=P(W,j,T,O,o.scene,u,p),J=function(e,t){for(var n=[],r=0;r<e.length;++r){var o=_(e[r],r==e.length-1?e[0]:e[r+1],t);n.push.apply(n,c([],l(o),!1))}return n}(L,a),q=P(J,j,T,O,o.scene,u,p);V.push.apply(V,c([],l(H.world_cartesian),!1)),F.push.apply(F,c([],l(H.local),!1)),B.push.apply(B,c([],l(H.world),!1)),V.push.apply(V,c([],l(q.world_cartesian),!1)),F.push.apply(F,c([],l(q.local),!1)),B.push.apply(B,c([],l(q.world),!1)),L.forEach((function(e){var t=P([e],j,T,O,o.scene,u,p);if(t.local.length>0)F.push.apply(F,c([],l(t.local),!1)),B.push.apply(B,c([],l(t.world),!1)),V.push.apply(V,c([],l(t.world_cartesian),!1));else{F.push(e);for(var n=v([e],j),r=0;r<n.length;++r){V.push(n[r]);var i=f.Cartographic.fromCartesian(n[r]);B.push([i.longitude,i.latitude,i.height+u])}}}))}else for(F=L,V=v(L,j),g=0;g<V.length;++g){var Y=f.Cartographic.fromCartesian(V[g]);B.push([Y.longitude,Y.latitude,Y.height+u])}var X=function(e){var t=[];return e.forEach((function(e){var n=[e.x,e.y];t.push(n)})),d.default.from(t).triangles.reverse()}(F),Z=function(e,t){for(var n=0,r=0;r<t.length;r+=3)n+=b([e[t[r]],e[t[r+1]],e[t[r+2]]]);return n}(V,X);t.totalArea=Z;var K=[];F.forEach((function(e){var t=[e.x,e.y,e.z];t&&K.push.apply(K,c([],l(t),!1))}));var Q={position:{typedArray:new Float32Array(K),componentsPerAttribute:3}};t.customPrimitive.modelMatrix=f.Matrix4.toArray(j),t.customPrimitive.attributes=Q;var $=function(e){e.length%3!=0&&console.warn("当前传入的索引不是3的倍数,可能不是三角片的索引!");for(var t=e.length/3|0,n=new Array(6*t),r=0;r<t;++r)n[6*r+0]=e[3*r+0],n[6*r+1]=e[3*r+1],n[6*r+2]=e[3*r+2],n[6*r+3]=e[3*r+1],n[6*r+4]=e[3*r+2],n[6*r+5]=e[3*r+0];return n}(c([],l(X),!1));t.customPrimitive.indexTypedArray=new Uint32Array($),t.customPrimitive.show=!0}}))),r):r:(console.warn("viewer is undefined!"),r)}var n;return o(t,e),n=t,t.type=n.register(y.CzmSpaceAreaMeasurement.type,n),t}(h.CzmObject);function m(e){return new f.Cartesian3(-1*e.x,-1*e.y,-1*e.z)}function v(e,t){for(var n=[],r=0;r<e.length;++r){var o=e[r],i=f.Matrix4.multiplyByPoint(t,o,new f.Cartesian3);n.push(i)}return n}function b(e){var t=f.Cartesian3.distance(e[0],e[1]),n=f.Cartesian3.distance(e[1],e[2]),r=f.Cartesian3.distance(e[2],e[0]),o=(t+n+r)/2;return Math.sqrt(o*(o-t)*(o-n)*(o-r))}function _(e,t,n){var r=[],o=f.Cartesian3.distance(e,t),i=f.Cartesian3.subtract(t,e,new f.Cartesian3);i=f.Cartesian3.normalize(i,i);for(var a=n;a<o;){var s=new f.Cartesian3(i.x*a,i.y*a,i.z*a),l=f.Cartesian3.add(e,s,new f.Cartesian3);r.push(l),a+=n}return r}function w(e,t){var n=p.point(e);if(!p.booleanEqual(p.point(t[0]),p.point(t[t.length-1])))return!1;var r=[];r.push(t);var o=p.polygon(r);return p.booleanPointInPolygon(n,o)}function P(e,t,n,r,o,i,a){var s=[];e.forEach((function(e){var t=e.clone();t.z=1e5,s.push(t)}));for(var l=v(s,t),c=new f.Cartesian3(-1*r.x,-1*r.y,-1*r.z),u=[],p=[],d=[],h=0;h<l.length;++h){var y=l[h],g=new f.Ray(y,c),m=[];try{m=o.drillPickFromRay(g,a)}catch(e){}if(0===m.length){g=new f.Ray(y,r);try{m=o.drillPickFromRay(g,a)}catch(e){}}if(0!==m.length){for(var b,_=0;_<m.length;_++){var w=m[_];if((!w.object||w.object.content)&&w.position){b=w.position;break}}if(b&&b.x&&!isNaN(b.x)){var P=v([b],n);P.forEach((function(e){e.z+=i})),b=v(P,t)[0],d.push(b),b=f.Cartographic.fromCartesian(b),u.push([b.longitude,b.latitude,b.height]),p.push(e[h])}}}return{local:p,world:u,world_cartesian:d}}t.CzmCzmSpaceAreaMeasurement=g},58428:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmTerrain=t.getApproximateTerrainMinimumMaximumHeights=void 0;var u=n(61556),p=n(51355),f=n(59645),d=s(n(81557)),h=n(58354),y=n(93442),g=n(59783);t.getApproximateTerrainMinimumMaximumHeights=function(e,t){return d.ApproximateTerrainHeights.getMinimumMaximumHeights(e,t)};var m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._provider=r.disposeVar((0,p.react)(void 0));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,h.getViewerExtensions)(o);if(!i)return r;var a=i.terrainManager,s=function(){r.provider&&(a.delete(r),r.provider=void 0)};r.dispose(s);var d=!1,y=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e,o){return l(r,void 0,void 0,(function(){var r,i,l,u;return c(this,(function(c){switch(c.label){case 0:if(!o)return[3,5];d=!0,c.label=1;case 1:return s(),t.provider?(r=(0,f.sleep)(3e3).then((function(){})),i=(0,g.createTerrainProviderFromJson)(t.provider,n),l=Promise.any([i,r]),[4,e.promise(l)]):[3,4];case 2:if(!(u=c.sent()))return[3,4];this.provider=u,a.add(this),c.label=3;case 3:c.label=4;case 4:d=!1,c.label=5;case 5:return m(),[2]}}))}))})));y.errorFunc=function(){return d=!1},y.completeFunc=function(){return d=!1};var m=function(){};y.restart(void 0,!0);var v=r.disposeVar(new p.Event),b=r.disposeVar(new p.Event);r.dispose(t.providerChanged.disposableOn((function(e,t){(0,g.needRecreate)(t,e)?v.emit():b.emit()}))),r.dispose(f.SceneObject.context.environmentVariablesChanged.disposableOn((function(){v.emit()})));var _=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.recreateEvent,v));r.dispose(_.disposableOn((function(){y.restart(void 0,!0)})));var w=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.showChanged,b));return r.dispose(w.disposableOn((function(){d||y.restart(void 0,!1)}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=n.viewer;r&&(t.rectangle?r.camera.flyTo({destination:(0,u.toRectangle)(t.rectangle),duration:e}):console.warn("无法飞入,因为未设置rectangle属性!"))}}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"provider",{get:function(){return this._provider.value},set:function(e){this._provider.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"providerChanged",{get:function(){return this._provider.changed},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmTerrain.type,n),t}(h.CzmObject);t.CzmCzmTerrain=m},59783:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTerrainProviderFromJson=t.needRecreate=void 0;var l=n(80468),c=i(n(81557)),u=n(61556),p=n(86003),f=n(93442),d=l.SceneObject.context.getStrFromEnv;t.needRecreate=function(e,t){return!0},t.createTerrainProviderFromJson=function(e,t){return a(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return"EllipsoidTerrainProvider"!==e.type?[3,1]:[2,new c.EllipsoidTerrainProvider({ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),tilingScheme:e.tilingScheme&&(0,p.createTilingSchema)(e.tilingScheme)})];case 1:return"CesiumTerrainProvider"!==e.type?[3,3]:(t=(0,f.getFinalTerrainProviderUrl)(e.url))?[4,c.CesiumTerrainProvider.fromUrl(t,{requestVertexNormals:e.requestVertexNormals,requestWaterMask:e.requestWaterMask,requestMetadata:e.requestMetadata,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit})]:[2,void 0];case 2:case 5:case 7:case 10:return[2,r.sent()];case 3:return"GoogleEarthEnterpriseTerrainProvider"!==e.type?[3,6]:[4,c.GoogleEarthEnterpriseMetadata.fromUrl(d(e.url))];case 4:return n=r.sent(),[4,c.GoogleEarthEnterpriseTerrainProvider.fromMetadata(n,{ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit})];case 6:return"ArcGISTiledElevationTerrainProvider"!==e.type?[3,8]:[4,c.ArcGISTiledElevationTerrainProvider.fromUrl(d(e.url),{token:e.token,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid)})];case 8:return"CustomHeightmapTerrainProvider"!==e.type?[3,9]:[2,new c.CustomHeightmapTerrainProvider({tilingScheme:e.tilingScheme&&(0,p.createTilingSchema)(e.tilingScheme),width:e.width,height:e.height,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit,callback:e.callback&&Function('"use strict";return ('+e.callback+")")()})];case 9:return"VRTheWorldTerrainProvider"!==e.type?[3,11]:[4,c.VRTheWorldTerrainProvider.fromUrl(d(e.url),{ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit})];case 11:return[2]}}))}))}},73194:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmTexture=void 0;var i=n(51355),a=n(59645),s=n(58354),l=n(93442),c=n(61556),u=n(33866),p=function(e){function t(t){var n,r=e.call(this,t)||this;return r._builtin=((n=r.disposeVar(a.SceneObject.createFromJson(u.previewCustomPrimitiveJson))).uniformMap={u_image:{type:"texture",id:r.owner.sceneObject.id}},void r.dispose(r.owner.czmViewer.disposableAdd(n))),r}return o(t,e),t}(i.HasOwner),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._czmNativeTexture=r.disposeVar(new c.CzmTexture(r.czmViewer.viewer,r.sceneObject.complexImage)),r._previewResetting=r.disposeVar(new a.ObjResettingWithEvent(r.sceneObject.showPreviewChanged,(function(){if(r.sceneObject.showPreview)return new p(r)}))),!n.viewer)throw console.warn("viewer is undefined!"),new Error("viewer is undefined!");return t.readyEvent.emit(n),r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmNativeTexture",{get:function(){return this._czmNativeTexture},enumerable:!1,configurable:!0}),t.prototype.getDefaultTexture=function(){if(!this.czmViewer.viewer)throw new Error("!this.czmViewer.viewer");return this.czmViewer.viewer.scene.context.defaultTexture},Object.defineProperty(t.prototype,"texture",{get:function(){var e;return null!==(e=this.czmNativeTexture.nativeTexture)&&void 0!==e?e:this.getDefaultTexture()},enumerable:!1,configurable:!0}),n=t,t.type=n.register(l.CzmTexture.type,n),t}(s.CzmObject);t.CzmCzmTexture=f},33866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.previewCustomPrimitiveJson=void 0,t.previewCustomPrimitiveJson={id:"e80d8802-e7dc-40d6-8cff-cfe3a12c8763",type:"CzmCustomPrimitive",show:!0,allowPicking:!0,cull:!1,pass:"OVERLAY",vertexShaderSource:"in vec3 position;\nin vec2 st;\nuniform sampler2D u_image;\nout vec2 v_st;\nvoid main()\n{\n    vec2 texture_size = vec2(textureSize(u_image, 0));\n    vec2 viewport_size = czm_viewport.zw;\n    float wh_ratio = (texture_size.x / texture_size.y) * (viewport_size.y / viewport_size.x);\n    v_st = st;\n    gl_Position = vec4(position * vec3(wh_ratio, 1.0, 1.0), 1.0);\n}\n",fragmentShaderSource:"in vec2 v_st;\nuniform sampler2D u_image;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor;\n}\n",uniformMap:{u_image:{type:"texture",id:"059734c9-7bba-489a-854d-9ce3bfedd86a"}},name:"自定义屏幕图元_clone",attributes:{position:{typedArray:{type:"Float32Array",array:[-.5,.5,0,-.5,-.5,0,.5,-.5,0,-.5,.5,0,.5,-.5,0,.5,.5,0]},componentsPerAttribute:3},textureCoordinates:{typedArray:{type:"Float32Array",array:[0,1,0,0,1,0,0,1,1,0,1,1]},componentsPerAttribute:2}}}},70:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmToolbar=void 0;var a=n(80468),s=n(51355),l=n(58354),c=n(93442),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._customDiv=r.disposeVar(new a.GeoCustomDivPoi),!n.viewer)return console.warn("viewer is undefined!"),r;var l=r._customDiv;n.add(l),r.dispose((function(){return n.delete(l)})),r.dispose((0,s.track)([l,"show"],[t,"show"])),r.dispose((0,s.bind)([l,"editing"],[t,"editing"])),r.dispose((0,s.bind)([l,"position"],[t,"position"])),l.originRatioAndOffset=[0,0,0,-20],r.dispose(t.flyToEvent.disposableOn((function(e){l.flyTo(e)}))),l.instanceClass=function(e){return function(t){function n(n,r,o){var a=t.call(this)||this;if(!o)return a;var s,l,u,p=o,f=document.createElement("div");n.appendChild(f),a.dispose((function(){return n.removeChild(f)})),f.style.pointerEvents="all",s=document.createElement("div"),f.appendChild(s),s.style.cssText="\n                    height:34px;\n                    width:auto;\n                    background-color: rgba(53, 54, 58);\n                    border-radius: 6px;\n                    display: flex;\n                ",l=document.createElement("div"),s.appendChild(l),l.style.cssText="\n                    width: 10px;\n                    height: 100%;\n                    text-align: center;\n                    cursor: move;\n                    overflow-wrap: anywhere;\n                    overflow: hidden;\n                    line-height: 4px;\n                    font-size: 12px;\n                    background-color:#151515;\n                    border-bottom-left-radius: 6px;\n                    padding: 6px 1px 1px;\n                    border-top-left-radius: 6px;\n                    box-sizing: border-box;\n                    color: #dddddd;\n                    -webkit-user-select:none;\n                    -moz-user-select:none;\n                    -ms-user-select:none;\n                    user-select:none;\n                ",l.innerText="........",a.disposeVar(new c.CzmToolbar.ToolbarMoving(r,l)),u=document.createElement("div"),s.appendChild(u),u.style.cssText="\n                    height:100%;\n                    width:auto;\n                    display: flex;\n                    align-items: center;\n                ";var d,h=[];return(d=function(){h.length>0&&(h.forEach((function(e){var t=i(e,2),n=t[0],r=t[1];r.destroy&&r.destroy(),n.parentElement.removeChild(n)})),h.length=0),e.config&&0!==e.config.length&&e.config.forEach((function(t){var n=document.createElement("div");u.appendChild(n),n.style.cssText="\nheight:20px;\nwidth:20px;\nmargin: 0 5px;\ncursor: pointer;\n-webkit-user-select:none;\n-moz-user-select:none;\n-ms-user-select:none;\nuser-select:none;\noverflow: hidden;\n",n.title=t.name;var r=document.createElement("img");n.appendChild(r),r.src="".concat(e.transitionImageUrl(t.url)),r.style.cssText="\nheight:20px;\nwidth:20px;\n",n.addEventListener("mouseover",(function(){n.style.textIndent="-20px",r.style.filter="drop-shadow(20px 0px #ffffff)"})),n.addEventListener("mouseout",(function(){n.style.textIndent="unset",r.style.filter="unset"}));var o=t.creatFunc(e,n,r,p);h.push([n,o])}))})(),a.dispose(e.configChanged.disposableOn(d)),a.dispose((function(){return e.config=[]})),(d=function(){var e;f.style.display=null===(e=r.show)||void 0===e||e?"block":"none"})(),a.dispose(r.showChanged.disposableOn(d)),a}return o(n,t),Object.defineProperty(n.prototype,"sceneTreeApp",{get:function(){return this._sceneTreeApp},enumerable:!1,configurable:!0}),n}(s.Destroyable)}(t);var u,p=r.disposeVar(new c.CzmModelPrimitive);return n.add(p),r.dispose((function(){return n.delete(p)})),r.dispose((0,s.track)([p,"show"],[t,"debug"])),r.dispose((0,s.track)([p,"position"],[t,"position"])),r.dispose((0,s.track)([p,"scale"],[t,"scale"],(function(e){return[e,e,e]}))),p.pixelSize=10,(u=function(){t.scale<=0&&(t.scale=1)})(),r.dispose(t.scaleChanged.disposableOn(u)),(u=function(){t.show||(t.debug=!1)})(),r.dispose(t.showChanged.disposableOn(u)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),n=t,t.type=n.register(c.CzmToolbar.type,n),t}(l.CzmObject);t.CzmCzmToolbar=u},91120:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmViewShed=void 0;var l=n(61556),c=n(59645),u=s(n(81557)),p=n(58354),f=n(93442),d=n(80468),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=r.disposeVar(new l.XbsjViewshed(o.scene));o.scene.primitives.add(i),r.dispose((function(){return o.scene.primitives.remove(i)}));var a=function(){i.enabled=!!t.position&&t.show,i.showHelper=t.showHelper,t.position&&(i.position=(0,l.positionToCartesian)(t.position)),i.heading=u.Math.toRadians(t.rotation[0]),i.pitch=u.Math.toRadians(t.rotation[1]),i.roll=u.Math.toRadians(t.rotation[2]),i.fovH=u.Math.toRadians(t.fovH),i.fovV=u.Math.toRadians(t.fovV),i.near=t.near,i.far=t.far};a();var s=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.showChanged,t.showHelperChanged,t.rotationChanged,t.farChanged,t.nearChanged,t.fovHChanged,t.fovVChanged));return r.dispose(s.disposableOn(a)),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=3*t.far;(0,l.flyTo)(o.scene.camera,t.position,r,void 0,e)}}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;console.log("pickedResult",r,i),r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&i&&r.primitive===i&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmViewShed.type,n),t}(p.CzmObject);t.CzmCzmViewShed=h},33419:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmWaterPrimitive=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(95315),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;r.d(n.czmPickedEvent.don((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}})));var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.d(i);var a=function(e){return u.SceneObject.context.getStrFromEnv(e)},s=function(){var e,n,r=a(null!==(e=t.normalMap)&&void 0!==e?e:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/water/waterNormalsSmall.jpg"),o={baseWaterColor:(0,l.toColor)(null!==(n=t.baseWaterColor)&&void 0!==n?n:[.25,.6,1,.7]),normalMap:r,frequency:t.frequency,animationSpeed:t.animationSpeed,amplitude:t.amplitude,specularIntensity:t.specularIntensity};return t.blendColor&&(o.blendColor=(0,l.toColor)(t.blendColor)),t.specularMap&&(o.specularMap=a(t.specularMap)),new p.Material({fabric:{type:"Water",uniforms:o}})},d=function(){if(t.positions){var e={positions:t.positions},n=new p.PolygonGeometry({polygonHierarchy:(0,h.createPolygonHierarchy)(e),perPositionHeight:t.perPositionHeight,vertexFormat:p.MaterialAppearance.MaterialSupport.ALL.vertexFormat,stRotation:t.stRotation&&p.Math.toRadians(t.stRotation),arcType:t.arcType&&p.ArcType[t.arcType],height:t.height,extrudedHeight:t.extrudedHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,ellipsoid:t.ellipsoid&&(0,l.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?p.Math.toRadians(t.granularity):void 0});return new p.GeometryInstance({geometry:n,id:r})}},y=new p.BoundingSphere,g=function(){if(i(),t.positions){var e=(0,l.positionsToUniqueCartesians)(t.positions);e.length<3?y.radius=-1:(p.BoundingSphere.fromPoints(e,y),r._primitive=function(){var e;if(t.positions){var n=new p.EllipsoidSurfaceAppearance({material:s(),aboveGround:!0}),r=d();return null!==(e=t.ground)&&void 0!==e&&e?new p.GroundPrimitive({geometryInstances:r,appearance:n,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1}):new p.Primitive({geometryInstances:r,appearance:n,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}}(),r._primitive&&o.scene.primitives.add(r._primitive))}},m=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};g(),m();var v=r.dv((0,u.createNextAnimateFrameEvent)(t.allowPickingChanged,t.perPositionHeightChanged,t.arcTypeChanged,t.stRotationChanged,t.extrudedHeightChanged,t.ellipsoidChanged,t.granularityChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.baseWaterColorChanged,t.blendColorChanged,t.specularMapChanged,t.normalMapChanged,t.frequencyChanged,t.animationSpeedChanged,t.amplitudeChanged,t.specularIntensityChanged,t.groundChanged));r.d(v.don((function(){g(),m()})));var b=r.dv((0,u.createNextAnimateFrameEvent)(t.positionsChanged,t.heightChanged));return r.d(b.don((function(){t.positions?r._primitive&&!t.ground?(r._primitive._state=3,r._primitive._appearance=void 0,r._primitive.geometryInstances=d()):(g(),m()):i()}))),r.d(t.showChanged.don(m)),r.d(t.flyToEvent.don((function(e){if(y.radius>0){var t=(0,l.positionFromCartesian)(y.center);t&&(0,l.flyTo)(o.camera,t,4*y.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmWaterPrimitive.type,n),t}(f.CzmObject);t.CzmCzmWaterPrimitive=y},74790:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmWater=void 0;var l=n(61556),c=n(80468),u=n(59645),p=s(n(81557)),f=n(58354),d=n(93442),h=n(95315),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;r.d(n.czmPickedEvent.don((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}})));var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.d(i);var a=function(e){return u.SceneObject.context.getStrFromEnv(e)},s=new p.BoundingSphere,d=function(){if(i(),t.positions){var e=(0,l.positionsToUniqueCartesians)(t.positions);e.length<3?s.radius=-1:(p.BoundingSphere.fromPoints(e,s),r._primitive=function(){if(t.positions){var e,n,o,i,s=new p.EllipsoidSurfaceAppearance({material:(o=a(null!==(e=t.normalMap)&&void 0!==e?e:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/water/waterNormalsSmall.jpg"),i={baseWaterColor:(0,l.toColor)(null!==(n=t.baseWaterColor)&&void 0!==n?n:[.25,.6,1,.7]),normalMap:o,frequency:t.frequency,animationSpeed:t.animationSpeed,amplitude:t.amplitude,specularIntensity:t.specularIntensity},t.blendColor&&(i.blendColor=(0,l.toColor)(t.blendColor)),t.specularMap&&(i.specularMap=a(t.specularMap)),new p.Material({fabric:{type:"Water",uniforms:i}})),aboveGround:!0}),c={positions:t.positions},u=new p.GeometryInstance({geometry:new p.CoplanarPolygonGeometry({polygonHierarchy:(0,h.createPolygonHierarchy)(c),vertexFormat:p.MaterialAppearance.MaterialSupport.ALL.vertexFormat,stRotation:t.stRotation&&p.Math.toRadians(t.stRotation)}),id:r});return new p.Primitive({geometryInstances:u,appearance:s,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}}(),r._primitive&&o.scene.primitives.add(r._primitive))}},y=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};d(),y();var g=r.dv((0,u.createNextAnimateFrameEvent)(t.positionsChanged,t.allowPickingChanged,t.stRotationChanged,t.baseWaterColorChanged,t.blendColorChanged,t.specularMapChanged,t.normalMapChanged,t.frequencyChanged,t.animationSpeedChanged,t.amplitudeChanged,t.specularIntensityChanged));return r.d(g.don((function(){d(),y()}))),r.d(t.showChanged.don(y)),r.d(t.flyToEvent.don((function(e){if(s.radius>0){var t=(0,l.positionFromCartesian)(s.center);t&&(0,l.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmWater.type,n),t}(f.CzmObject);t.CzmCzmWater=y},21886:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(51649),t),o(n(59138),t),o(n(37586),t),o(n(29011),t),o(n(1875),t),o(n(49617),t),o(n(60384),t),o(n(84456),t),o(n(19922),t),o(n(13895),t),o(n(86726),t),o(n(74589),t),o(n(16453),t),o(n(2862),t),o(n(28337),t),o(n(58464),t),o(n(8776),t),o(n(55427),t),o(n(25253),t),o(n(75241),t),o(n(56969),t),o(n(59517),t),o(n(74767),t),o(n(54254),t),o(n(61236),t),o(n(57947),t),o(n(53321),t),o(n(43045),t),o(n(92707),t),o(n(63752),t),o(n(86961),t),o(n(61056),t),o(n(87848),t),o(n(50261),t),o(n(18132),t),o(n(33932),t),o(n(42769),t),o(n(55128),t),o(n(70976),t),o(n(47163),t),o(n(51981),t),o(n(65077),t),o(n(76254),t),o(n(81463),t),o(n(99652),t),o(n(29152),t),o(n(70859),t),o(n(31130),t),o(n(50932),t),o(n(43074),t),o(n(66931),t),o(n(90033),t),o(n(81741),t),o(n(68419),t),o(n(75535),t),o(n(10891),t),o(n(36758),t),o(n(58428),t),o(n(73194),t),o(n(70),t),o(n(91120),t),o(n(15572),t),o(n(82526),t),o(n(33419),t),o(n(74790),t),o(n(98377),t)},54412:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCameraController=void 0;var l=n(61556),c=n(80468),u=n(51355),p=n(61546),f=s(n(81557)),d=n(58354),h=function(e){function t(t,n){var r=e.call(this)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=!0;r.dispose(t.positionChanged.disposableOn((function(){return i=!0}))),r.dispose(t.rotationChanged.disposableOn((function(){return i=!0}))),r.dispose(t.offsetHeightChanged.disposableOn((function(){return i=!0}))),r.dispose(t.viewDistanceChanged.disposableOn((function(){return i=!0}))),r.dispose(t.offsetRotationChanged.disposableOn((function(){return i=!0})));var a=[0,0,0],s=[0,0,0];r.dispose(o.clock.onTick.addEventListener((function(){if(i)if(i=!1,t.position){if(void 0===t.viewDistance){console.warn("相机控制器(".concat(t.name,"-").concat(t.id,")未能设置视距，将自动设置视距！"));var e=(0,l.positionToCartesian)(t.position),r=o.camera.positionWC,u=f.Cartesian3.distance(e,r);t.viewDistance=u}p.Vector.clone(t.position,s),t.offsetHeight&&(s[2]+=t.offsetHeight);var d=t.rotation,h=t.offsetRotation,y=void 0===h?c.GeoCameraController.defaults.offsetRotation:h;p.Vector.set(a,0,0,0),d&&p.Vector.add(d,a,a),p.Vector.add(y,a,a),n.flyTo(s,t.viewDistance,a,0)}else console.warn("相机控制器(".concat(t.name,"-").concat(t.id,")未能设置位置，无法启用！"))}))),n.incrementDisabledInputStack(),console.log("incrementDisabledInputStack ".concat(n.disabledInputStack)),r.dispose((function(){n.decrementDisabledInputStack(),console.log("decrementDisabledInputStack ".concat(n.disabledInputStack))}));var u=(0,d.getViewerExtensions)(o);if(!u)return r;var h=u.interaction;return r.dispose(h.pointerMoveEvent.disposableOn((function(e){var n;if(t.enabledRotationInput&&(1===e.buttons||2===e.buttons)){var r=e.movementX,o=e.movementY;t.offsetRotation=p.Vector.add(null!==(n=t.offsetRotation)&&void 0!==n?n:c.GeoCameraController.defaults.offsetRotation,[.2*r,-.2*o,0])}}))),r.dispose(h.wheelEvent.disposableOn((function(e){if(t.enabledScaleInput){var n=e.deltaY,r=Math.max(1,t.viewDistance)*(.001*n);t.viewDistance=t.viewDistance+r}}))),r}return o(t,e),t}(u.Destroyable),y=function(e){function t(t,n){var r,o=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),o;var i=function(){r&&(r.destroy(),r=void 0)};o.dispose(i);var a=function(){i(),t.enabled&&(r=new h(t,n))};return a(),o.dispose(t.enabledChanged.disposableOn(a)),o.dispose(t.resetWithCameraEvent.disposableOn((function(e){if(n.actived){var r=function(e){if(e.viewer){var t=e.viewer.camera;return[t.heading,t.pitch,t.roll].map(f.Math.toDegrees)}}(n);if(r){var o=t.rotation;t.offsetRotation=[r[0]-o[0],r[1]-o[1],r[2]-o[2]]}}}))),o}var n;return o(t,e),n=t,t.type=n.register(c.GeoCameraController.type,n),t}(d.CzmObject);t.CzmGeoCameraController=y},11737:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCanvasPoi=void 0;var a=n(61556),s=n(80468),l=n(51355),c=n(59645),u=n(58354),p=n(86003),f=function(e){function t(t,n,r,o,s,l){var u,p=e.call(this)||this,f=p.disposeVar(new a.CzmCanvasPoi(n,r));p.disposeVar(s(f.canvasPoi,l.visibleAlphaChanged)),(u=function(){t.position&&(f.cartesian=(0,a.positionToCartesian)(t.position))})(),p.dispose(t.positionChanged.disposableOn(u)),(u=function(){var e;f.show=(null===(e=t.show)||void 0===e||e)&&!!t.position&&l.visibleAlpha>0})();var d=p.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged,t.positionChanged,l.visibleAlphaChanged));return p.dispose(d.disposableOn(u)),p.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;if(t.viewDistanceRange){var n=i(t.viewDistanceRange,4),r=(n[0],n[1]),s=n[2];n[3],e=.5*(r+s)}(0,a.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),p}return o(t,e),t}(l.Destroyable),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new p.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,l.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var a=(0,u.getViewerExtensions)(o);if(!a)return r;var s=a.poiContext;return s?(r.disposeVar(new c.ObjResettingWithEvent(t.canvasPoiClassAndCreateFuncChanged,(function(){if(t.canvasPoiClassAndCreateFunc){var e=i(t.canvasPoiClassAndCreateFunc,2),n=e[0],a=e[1];return new f(t,n,s,o,a,r)}}))),r):r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(s.GeoCanvasPoi.type,n),t}(u.CzmObject);t.CzmGeoCanvasPoi=d},13143:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var i=n(80468),a=n(51355),s=n(93442),l=n(59645),c=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmCirclePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var c=r.disposeVar(new s.CzmCircleOutlinePrimitive);n.add(c),r.dispose((function(){return n.delete(c)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,a.track)([c,"allowPicking"],[t,"allowPicking"]));var u=function(){var e=t.show,n=t.outline;c.show=e&&n,o.show=e,c.show?c.position=t.position:c.position=void 0,o.show?o.position=t.position:o.position=void 0,c.radius=o.radius=t.radius,c.extrudedHeight=o.extrudedHeight=t.extrudedHeight,t.position&&(c.height=o.height=t.position[2]),0===t.granularity&&(console.error("granularity不能设置为0"),t.granularity=1),o.granularity=c.granularity=t.granularity,o.ellipsoid=c.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,c.outlineColor=t.outlineColor,c.translucent=t.outlineTranslucent,c.numberOfVerticalLines=t.numberOfVerticalLines};u();var p=r.disposeVar((0,l.createNextAnimateFrameEvent)(t.showChanged,t.radiusChanged,t.outlineChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.outlineTranslucentChanged,t.ellipsoidChanged,t.granularityChanged,t.numberOfVerticalLinesChanged));return r.dispose(p.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose(c.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r}return o(t,e),t}(a.Destroyable);t.Circle=c},53156:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundCircle=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(93442),c=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new l.CzmCircleGroundPrimitive);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"]));var c=function(){var e=t.show;o.show=e,o.show?o.position=t.position:o.position=void 0,o.radius=t.radius,0===t.granularity?(console.error("granularity不能设置为0"),o.granularity=1):o.granularity=t.granularity,o.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,o.zIndex=t.zIndex};c();var u=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.radiusChanged,t.outlineChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.outlineTranslucentChanged,t.ellipsoidChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.zIndexChanged));return r.dispose(u.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r}return o(t,e),t}(a.Destroyable);t.GroundCircle=c},8835:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCircle=void 0;var i=n(80468),a=n(58354),s=n(59645),l=n(13143),c=n(53156),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._circleOrGroundCircleResetting=r.disposeVar(new s.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new c.GroundCircle(t,n):new l.Circle(t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"circleOrGroundCircleResetting",{get:function(){return this._circleOrGroundCircleResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoCircle.type,n),t}(a.CzmObject);t.CzmGeoCircle=u},69497:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClassificationPolygon=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(93442),c=function(e){function t(t,n){var r=e.call(this)||this;r._czmClassificationPolygonPrimitive=r.disposeVar(new l.CzmClassificationPolygonPrimitive);var o=r._czmClassificationPolygonPrimitive;n.add(o),r.dispose((function(){return n.delete(o)}));var c=function(){var e,n=t.show,r=t.fill;if(o.show=n&&r,t.positions&&t.positions.length>0?o.height=t.positions[0][2]:o.height=void 0,o.polygonHierarchy=o.show?{positions:t.positions||[]}:{positions:[]},o.color=t.color,void 0===t.depth)throw new Error("sceneObject.depth === undefined");o.extrudedHeight=(null!==(e=o.height)&&void 0!==e?e:0)+t.depth,o.classificationType=t.classificationType};c();var u=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.fillChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.depthChanged,t.classificationTypeChanged));return r.dispose(u.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r}return o(t,e),t}(a.Destroyable);t.CzmClassificationPolygon=c},42231:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoClassificationPolygon=void 0;var i=n(80468),a=n(58354),s=n(69497),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.disposeVar(new i.ObjResettingWithEvent(t.depthChanged,(function(){if(!(void 0===t.depth||t.depth<0))return new s.CzmClassificationPolygon(t,n)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoClassificationPolygon.type,n),t}(a.CzmObject);t.CzmGeoClassificationPolygon=l},23566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68819:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCoordinatesEditor=void 0;var f=n(80468),d=s(n(81557)),h=n(51355),y=n(59645),g=n(58354),m=n(61556),v=n(61556),b=n(61556),_=n(76237),w=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,g.getViewerExtensions)(o);if(!i)return r;var a=i.interaction,s=o.scene,w=r.disposeVar((0,h.reactArray)([1,1,1])),P=new d.Cartesian3,C=function(){var e,n=t.position,r=void 0===n?f.GeoCoordinatesEditor.defaults.position:n;(e=d.Cartesian3).fromDegrees.apply(e,p(p([],u(r),!1),[void 0,P],!1))};C(),r.dispose(t.positionChanged.disposableOn(C)),r.dispose(s.preUpdate.addEventListener((function(){var e=(0,m.getSceneScaleForScreenPixelSize)(s,P,t.axisPixelSize);void 0!==e?w.value=[e,e,e]:console.warn("CzmGeoCoordinatesEditor warn: scale: ".concat(null!=e?e:"undefined"))})));var O={step:r.disposeVar((0,h.react)(0)),constraintMode:r.disposeVar((0,h.react)("none")),originPosition:r.disposeVar((0,h.reactArray)([0,0,0])),originHeading:r.disposeVar((0,h.react)(0)),originDimensions:r.disposeVar((0,h.reactArray)([1,1,1])),draggingStartPosition:r.disposeVar((0,h.reactArray)([0,0,0])),movingPosition:r.disposeVar((0,h.reactArray)([0,0,0])),destinationPosition:r.disposeVar((0,h.reactArray)([0,0,0])),destinationHeading:r.disposeVar((0,h.react)(0)),moved:r.disposeVar((0,h.react)(!1))},x=function(){"none"!==O.constraintMode.value?O.originHeading.value===O.destinationHeading.value&&O.originPosition.value.every((function(e,t){return e===O.destinationPosition.value[t]}))||(O.moved.value=!0):O.moved.value=!1};x(),r.dispose(O.originHeading.changed.disposableOn(x)),r.dispose(O.originPosition.changed.disposableOn(x)),r.dispose(O.destinationHeading.changed.disposableOn(x)),r.dispose(O.destinationPosition.changed.disposableOn(x));var S=r._createMainCoordinates(n,t,s);r.dispose(t.flyToEvent.disposableOn((function(e){return n.actived&&S.flyTo(e)})));var E=function(){return(0,_.setCoordinatesColor)(S,O.constraintMode.value,0===O.step.value)};E(),r.dispose(O.constraintMode.changed.disposableOn(E)),r.dispose(O.step.changed.disposableOn(E)),r._createOriginCoordinates(n,t,O),r._createGrid(n,O,t),r._createHelpLines(n,O),r._createCircle(n,O,t),r.dispose(O.destinationPosition.changed.disposableOn((function(){return O.moved&&(t.position=O.destinationPosition.value)}))),r.dispose(O.destinationHeading.changed.disposableOn((function(){return O.moved&&(t.heading=O.destinationHeading.value)})));var j=r.disposeVar(new y.Processing((function(e,t,n){var r=[0,0,0],o=new d.Cartographic;return a.pointerMoveEvent.disposableOn((function(e){var i=(0,m.toCartesian)((0,y.getDomEventCurrentTargetPos)(e));if((0,m.pickVirtualEarth)(s,i,O.originPosition.value[2],o)){(0,m.fromCartographic)(o,r),"x"===O.constraintMode.value?(0,b.geoNeareastPointOnRhumbLine)(O.originPosition.value,O.originHeading.value+90,r,r):"y"===O.constraintMode.value?(0,b.geoNeareastPointOnRhumbLine)(O.originPosition.value,O.originHeading.value,r,r):"xy"===O.constraintMode.value||console.warn("should not be here!"),O.movingPosition.value=r;var a=[0,0,0];(0,m.geoRhumbDestination)(r,n,t,a),O.destinationPosition.value=a}}))}))),T=r.disposeVar(new y.Processing((function(){var e=new d.Cartesian3,t=[0,0,0];return a.pointerMoveEvent.disposableOn((function(n){var r=(0,m.toCartesian)((0,y.getDomEventCurrentTargetPos)(n));if((0,m.pickHeightPosition)(s,(0,m.positionToCartesian)(O.originPosition.value),r,e)){var o=O.originPosition.value[2]-O.draggingStartPosition.value[2];if((0,m.positionFromCartesian)(e,t)){O.movingPosition.value=t;var i=O.originPosition.value;O.destinationPosition.value=[i[0],i[1],t[2]+o]}}}))}))),M=r.disposeVar(new y.Processing((function(){var e=[0,0,0],n=new d.Cartographic;return a.pointerMoveEvent.disposableOn((function(r){var o=(0,m.toCartesian)((0,y.getDomEventCurrentTargetPos)(r));if((0,m.pickVirtualEarth)(s,o,O.originPosition.value[2],n)){(0,m.fromCartographic)(n,e);var i=(0,m.geoRhumbHeading)(O.originPosition.value,O.draggingStartPosition.value),a=(0,m.geoRhumbHeading)(O.originPosition.value,e)-i,l=O.originHeading.value+a;l=d.Math.toDegrees(d.Math.negativePiToPi(d.Math.toRadians(l))),t.heading=l,O.movingPosition.value=e,O.destinationHeading.value=l}}))}))),A=r.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var r=this;return c(this,(function(o){switch(o.label){case 0:return O.step.value=0,O.constraintMode.value="none",e.disposer.dispose((function(){O.constraintMode.value="none"})),[4,(0,y.step)(e,(function(e){return l(r,void 0,void 0,(function(){var n,r,o,i,l;return c(this,(function(c){switch(c.label){case 0:return n=function(){var e;return O.originPosition.value=null!==(e=t.position)&&void 0!==e?e:f.GeoCoordinatesEditor.defaults.position,O.destinationPosition.value=O.originPosition.value},r=function(){return O.originHeading.value=t.heading,O.destinationHeading.value=O.originHeading.value},o=function(){return O.originDimensions.value=w.value},e.disposer.dispose((n(),t.positionChanged.disposableOn(n))),e.disposer.dispose((r(),t.headingChanged.disposableOn(r))),e.disposer.dispose((o(),w.changed.disposableOn(o))),i={constraintMode:"none",startDragPos:[0,0,0]},l=function(e){var n,r,o,a={position:null!==(n=S.position)&&void 0!==n?n:f.GeoCoordinates.defaults.position,dimensions:null!==(r=S.dimensions)&&void 0!==r?r:f.GeoCoordinates.defaults.dimensions,heading:null!==(o=S.heading)&&void 0!==o?o:f.GeoCoordinates.defaults.heading};(0,v.computePickingInfoWithCoordinates)(e,s,a,t.axisSnapPixelSize,i,{x:t.disableX,y:t.disableY,z:t.disableZ,xy:t.disableXY,zAxis:t.disableZAxis}),O.constraintMode.value=i.constraintMode,O.draggingStartPosition.value=i.startDragPos,O.movingPosition.value=O.draggingStartPosition.value},e.disposer.dispose(a.pointerMoveEvent.disposableOn(l)),[4,(0,y.step)(e,(function(e){return new Promise((function(t,n){e.disposer.dispose(n),e.disposer.dispose(a.pointerDownEvent.disposableOn((function(e){0===e.button&&(l(e),"none"!==i.constraintMode&&t())})))}))}))];case 1:return c.sent(),[2]}}))}))}))];case 1:return o.sent(),O.step.value=1,[4,(0,y.step)(e,(function(e){return l(r,void 0,void 0,(function(){var t,r;return c(this,(function(o){switch(o.label){case 0:return n.incrementDisabledInputStack(),e.disposer.dispose((function(){return n.decrementDisabledInputStack()})),["xy","x","y"].includes(O.constraintMode.value)?(t=(0,m.geoRhumbHeading)(O.draggingStartPosition.value,O.originPosition.value),r=(0,m.geoRhumbDistance)(O.draggingStartPosition.value,O.originPosition.value),j.restart(void 0,t,r),e.disposer.dispose((function(){return j.cancel()}))):"z"===O.constraintMode.value?(T.restart(),e.disposer.dispose((function(){return T.cancel()}))):"zAxis"===O.constraintMode.value?(M.restart(),e.disposer.dispose((function(){return M.cancel()}))):console.warn("pickingInfo.constraintMode error! ".concat(O.constraintMode.value)),[4,(0,y.step)(e,(function(e){return new Promise((function(t,n){e.disposer.dispose(n),e.disposer.dispose(a.pointerUpEvent.disposableOn((function(){t()}))),e.disposer.dispose(a.pointerOutEvent.disposableOn((function(){t()})))}))}))];case 1:return o.sent(),[2]}}))}))}))];case 2:o.sent(),o.label=3;case 3:return[3,0];case 4:return[2]}}))}))}))),I=function(){t.enabled?A.restart():A.isRunning&&A.cancel()};return I(),r.dispose(t.enabledChanged.disposableOn(I)),r}var n;return o(t,e),t.prototype._createGrid=function(e,t,n){var r,o=this.disposeVar(new f.GeoPolylines);e.add(o),this.dispose((function(){return e.delete(o)})),o.color=[1,1,0,.3],(r=function(){o.color="none"!==t.constraintMode.value?[1,1,0,.6]:[1,1,0,.3]})(),this.dispose(t.constraintMode.changed.disposableOn(r)),(r=function(){o.show=n.enabled&&n.showCircle})(),this.dispose(n.enabledChanged.disposableOn(r)),this.dispose(n.showCircleChanged.disposableOn(r));var i=this.disposeVar((0,y.createNextAnimateFrameEvent)(t.originPosition.changed,t.originHeading.changed,t.originDimensions.changed)),a=function(){for(var e=t.originPosition.value,n=t.originHeading.value,r=t.originDimensions.value[0],i=[],a=-4;a<5;++a)if(c=(0,m.geoRhumbDestination)(e,.2*r*a,n+90)){var s=(0,m.geoRhumbDestination)(c,r,n+180),l=(0,m.geoRhumbDestination)(c,r,n);s&&l&&i.push([s,c,l])}for(a=-4;a<5;++a){var c;(c=(0,m.geoRhumbDestination)(e,.2*r*a,n))&&(s=(0,m.geoRhumbDestination)(c,r,n-90),l=(0,m.geoRhumbDestination)(c,r,n+90),s&&l&&i.push([s,c,l]))}o.positions=i};return a(),this.dispose(i.disposableOn(a)),o},t.prototype._createOriginCoordinates=function(e,t,n){var r=this.disposeVar(new f.GeoCoordinates);r.xAxisColor=[1,0,0,.5],r.yAxisColor=[0,1,0,.5],r.zAxisColor=[0,0,1,.5],e.add(r),this.dispose((function(){return e.delete(r)}));var o=n.originPosition,i=n.originHeading,a=n.originDimensions,s=function(){r.show=n.moved.value&&t.showCoordinates};s(),this.dispose(n.moved.changed.disposableOn(s));var l=function(){return r.position=o.value};l(),this.dispose(o.changed.disposableOn(l));var c=function(){return r.dimensions=a.value};c(),this.dispose(a.changed.disposableOn(c));var u=function(){return r.heading=i.value};return u(),this.dispose(i.changed.disposableOn(u)),r},t.prototype._createMainCoordinates=function(e,t,n){var r=this.disposeVar(new f.GeoCoordinates);e.add(r),this.dispose((function(){return e.delete(r)})),r.show=!0;var o,i=new d.Cartesian3,a=function(){var e,n=t.position,r=void 0===n?f.GeoCoordinatesEditor.defaults.position:n;(e=d.Cartesian3).fromDegrees.apply(e,p(p([],u(r),!1),[void 0,i],!1))};return a(),this.dispose(t.positionChanged.disposableOn(a)),this.dispose(n.preUpdate.addEventListener((function(){var e=(0,m.getSceneScaleForScreenPixelSize)(n,i,t.axisPixelSize);void 0!==e?r.dimensions=[e,e,e]:console.warn("CzmGeoCoordinatesEditor warn: scale: ".concat(null!=e?e:"undefined"))}))),(o=function(){var e;r.show=null!==(e=t.enabled)&&void 0!==e&&e&&t.showCoordinates})(),this.dispose(t.enabledChanged.disposableOn(o)),this.dispose(t.showCoordinatesChanged.disposableOn(o)),(o=function(){var e;r.position=null!==(e=t.position)&&void 0!==e?e:[0,0,0]})(),this.dispose(t.positionChanged.disposableOn(o)),(o=function(){var e;r.heading=null!==(e=t.heading)&&void 0!==e?e:0})(),this.dispose(t.headingChanged.disposableOn(o)),r},t.prototype._createHelpLines=function(e,t){var n=this,r=this.disposeVar(new f.GeoPolylines);r.arcType="RHUMB",r.color=[1,1,0,.99],r.hasDash=!0,e.add(r),this.dispose((function(){return e.delete(r)}));var o=function(){return r.positions=[[t.originPosition.value,t.destinationPosition.value]]};this.dispose(t.originPosition.changed.disposableOn(o)),this.dispose(t.destinationPosition.changed.disposableOn(o));var i=function(){return r.show=t.moved.value&&n.sceneObject.showCircle};i(),this.dispose(t.moved.changed.disposableOn(i)),this.dispose(this.sceneObject.showCircleChanged.disposableOn(i))},t.prototype._createCircle=function(e,t,n){var r=this.disposeVar(new f.GeoPolylines);r.arcType="RHUMB",r.hasDash=!0,r.width=2,e.add(r),this.dispose((function(){return e.delete(r)}));var o=function(){return r.color="zAxis"===t.constraintMode.value?[1,1,0,.99]:[1,1,0,.5]};o(),this.dispose(t.constraintMode.changed.disposableOn(o));var i=function(){return r.show=n.enabled&&n.showCircle};i(),this.dispose(n.enabledChanged.disposableOn(i)),this.dispose(n.showCircleChanged.disposableOn(i));var a=this.disposeVar((0,y.createNextAnimateFrameEvent)(t.originPosition.changed,t.originHeading.changed,t.originDimensions.changed)),s=function(){for(var e=t.originPosition.value,n=(t.originHeading.value,t.originDimensions.value[0]),o=[],i=0;i<=32;++i){var a=(0,m.geoRhumbDestination)(e,n,360*i/32);a&&o.push(a)}r.positions=[o]};s(),this.dispose(a.disposableOn(s))},n=t,t.type=n.register(f.GeoCoordinatesEditor.type,n),t}(g.CzmObject);t.CzmGeoCoordinatesEditor=w},76237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCoordinatesColor=void 0,t.setCoordinatesColor=function(e,t,n){e.xAxisColor=[1,0,0,.99],e.yAxisColor=[0,1,0,.99],e.zAxisColor=[0,0,1,.99],"x"===t?e.xAxisColor=n?[1,1,0,.8]:[1,1,0,.99]:"y"===t?e.yAxisColor=n?[1,1,0,.8]:[1,1,0,.99]:"z"===t?e.zAxisColor=n?[1,1,0,.8]:[1,1,0,.99]:"xy"===t&&(e.xAxisColor=n?[1,1,0,.8]:[1,1,0,.99],e.yAxisColor=n?[1,1,0,.8]:[1,1,0,.99])}},37413:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPointWrapper=void 0;var i=n(93442),a=function(e){function t(t,n){var r,o=e.call(this)||this,a=o.disposeVar(new i.CzmPoint);return a.pixelSize=4,a.outlineColor=[0,0,.8,1],a.outlineWidth=2,a.allowPicking=!1,t.add(a),o.dispose((function(){return t.delete(a)})),(r=function(){return a.position=n.position})(),o.dispose(n.positionChanged.disposableOn(r)),(r=function(){return a.show=n.enabled&&!!n.position&&n.showPoint})(),o.dispose(n.showPointChanged.disposableOn(r)),o.dispose(n.enabledChanged.disposableOn(r)),o.dispose(n.positionChanged.disposableOn(r)),o}return o(t,e),t}(n(9675).Destroyable);t.CzmPointWrapper=a},3692:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.MainCoordinates=void 0;var u=n(80468),p=s(n(81557)),f=n(61556),d=function(e){function t(t,n){var r=e.call(this)||this;return r._czmViewer=t,r._coordinatesPicker=n,r._coordinates=r.disposeVar(new u.GeoCoordinates),r._coordinatesInit=function(){var e;r.dispose(r._czmViewer.disposableAdd(r._coordinates));var t=r.coordinates,n=r._coordinatesPicker,o=function(){return t.show=n.enabled&&!!n.position&&n.showCoordinates};o(),r.dispose(n.showCoordinatesChanged.disposableOn(o)),r.dispose(n.enabledChanged.disposableOn(o)),r.dispose(n.positionChanged.disposableOn(o));var i=null===(e=r._czmViewer.viewer)||void 0===e?void 0:e.scene;if(!i)throw new Error("scene is null");var a,s=new p.Cartesian3,u=!1,d=function(e){var t;u=!!e,e&&(t=p.Cartesian3).fromDegrees.apply(t,c(c([],l(e),!1),[void 0,s],!1))};d(n.position),r.dispose(n.positionChanged.disposableOn(d)),r.dispose(i.preUpdate.addEventListener((function(){if(u){var e=(0,f.getSceneScaleForScreenPixelSize)(i,s,n.axisPixelSize);void 0!==e?t.dimensions=[e,e,e]:console.warn("CzmGeoCoordinatesEditor warn: scale: ".concat(null!=e?e:"undefined"))}}))),(a=function(){n.position&&(t.position=n.position)})(),r.dispose(n.positionChanged.disposableOn(a)),(a=function(){t.heading=n.heading})(),r.dispose(n.headingChanged.disposableOn(a))}(),r}return o(t,e),Object.defineProperty(t.prototype,"coordinates",{get:function(){return this._coordinates},enumerable:!1,configurable:!0}),t}(n(9675).Destroyable);t.MainCoordinates=d},69224:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.PickingProcessing=void 0;var s=n(51355),l=n(59645),c=n(58354),u=n(27160),p=function(e){function t(t,n,r){var o=e.call(this)||this;o._owner=t;var a=o._owner.owner.owner.czmViewer,s=(0,u.pickPosition)(a,n,o._owner.owner.owner.sceneObject.virtualHeight),c=i((0,l.getEventFromPromise)(s),2),p=c[0];return c[1],o.dispose(p.disposableOn(r)),o}return o(t,e),t}(s.Destroyable),f=function(e){function t(t){var n=e.call(this)||this;return n._owner=t,n._doings=[],n._doingsInit=n.dispose((function(){return n.reset()})),n._resultEvent=n.disposeVar(new s.Event),n}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultEvent",{get:function(){return this._resultEvent},enumerable:!1,configurable:!0}),t.prototype.do=function(e){var t=this,n=new p(this,e,(function(e){t._resultEvent.emit(e),t._doings.splice(0,t._doings.indexOf(n)+1).forEach((function(e){return e.destroy()}))}));this._doings.push(n)},t.prototype.reset=function(){var e,t;try{for(var n=a(this._doings),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this._doings.length=0},t}(s.Destroyable),d=function(e){function t(t){var n=e.call(this)||this;n._owner=t,n._pickingPosition=n.disposeVar(new f(n));var r=n._owner,o=r.czmViewer,i=r.sceneObject,a=o.viewer;if(!a)throw console.warn("viewer is undefined!"),new Error("viewer is undefined!");var s=(0,c.getViewerExtensions)(a);if(!s)throw new Error("!viewerExtensions");var u=s.interaction;n.dispose(n._pickingPosition.resultEvent.disposableOn((function(e){e&&(i.position=e)})));var p=l.DomElementEvent.on(u.pointerMoveEvent,(function(e){n._pickingPosition.do(e)})),d=l.DomElementEvent.on(u.pointerDownEvent,(function(e){n._pickingPosition.do(e)})),h=function(){p(),d(),n._pickingPosition.reset()};n.dispose(h);var y=function(e){i.overEvent.emit(),i.enabled=!1};return n.dispose(l.DomElementEvent.on(u.pointerClick.clickEvent,(function(e){i.clickEnabled&&(i.clickFilterFunc&&!i.clickFilterFunc(e)||(h(),y()))}))),n.dispose(l.DomElementEvent.on(u.pointerClick.dbclickEvent,(function(e){i.dbClickEnabled&&(i.dbClickFilterFunc&&!i.dbClickFilterFunc(e)||(h(),y()))}))),n}return o(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.PickingProcessing=d},45632:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCoordinatesPicker=void 0;var i=n(80468),a=n(59645),s=n(58354),l=n(37413),c=n(3692),u=n(69224),p=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._mainCoordinates=r.disposeVar(new c.MainCoordinates(r.czmViewer,r.sceneObject)),r._czmPointWrapper=r.disposeVar(new l.CzmPointWrapper(r.czmViewer,r.sceneObject)),r._pickingProcessingResetting=r.disposeVar(new a.ObjResettingWithEvent(r.sceneObject.enabledChanged,(function(){if(r.sceneObject.enabled)return new u.PickingProcessing(r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"coordinates",{get:function(){return this._mainCoordinates.coordinates},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoCoordinatesPicker.type,n),t}(s.CzmObject);t.CzmGeoCoordinatesPicker=p},27160:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.pickPosition=void 0;var i=n(61556),a=n(81901);t.pickPosition=function(e,t,n,s){var l;return r(this,void 0,void 0,(function(){var r,s,c,u,p;return o(this,(function(o){switch(o.label){case 0:if(!(r=null===(l=e.viewer)||void 0===l?void 0:l.scene))throw new Error("!scene");return s=(0,a.getDomEventCurrentTargetPos)(t),c=(0,i.toCartesian)(s),void 0!==n?[3,2]:(u=e.quickPickPosition(s))?[4,u]:[2,void 0];case 1:return[2,o.sent()];case 2:return(p=(0,i.pickVirtualEarth)(r,c,n))?[2,(0,i.fromCartographic)(p)]:[2,void 0]}}))}))}},56273:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CoplanarPolygon=void 0;var i=n(80468),a=n(80468),s=n(51355),l=n(93442),c=function(e){function t(t,n,r){var o=e.call(this)||this,c=o.disposeVar(new l.CzmCoplanarPolygonPrimitive);n.add(c),o.dispose((function(){return n.delete(c)}));var u=o.disposeVar(new i.GeoPolyline);n.add(u),o.dispose((function(){return n.delete(u)})),u.arcType="NONE",u.loop=!0,o.dispose((0,s.bind)([u,"depthTest"],[t,"depthTest"])),o.dispose((0,s.track)([c,"allowPicking"],[t,"allowPicking"])),o.dispose(c.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))})));var p=function(){u.show=t.show&&t.outline&&r.visibleAlpha>0,c.show=t.show&&t.fill&&r.visibleAlpha>0,u.positions=u.show?t.positions:i.GeoCoplanarPolygon.defaults.positions,c.polygonHierarchy=c.show?{positions:t.positions||[]}:{positions:[]},u.color=t.outlineColor,u.width=t.outlineWidth,c.material={type:"Color",color:t.color||[1,1,1,.5]}};p();var f=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.fillChanged,t.colorChanged,t.positionsChanged,r.visibleAlphaChanged));return o.dispose(f.disposableOn(p)),o.dispose(t.flyToEvent.disposableOn((function(e){if(t.viewDistanceRange){var r=t.positionsCenter.center,o=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2;n.flyTo(r,o,void 0,e)}else c.flyTo(e),t.fill||u.flyTo(e)}))),o}return o(t,e),t}(s.Destroyable);t.CoplanarPolygon=c},52684:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundCoplanarPolygon=void 0;var i=n(80468),a=n(80468),s=n(51355),l=n(93442),c=function(e){function t(t,n,r){var o=e.call(this)||this,c=o.disposeVar(new l.CzmPolygonGroundPrimitive);n.add(c),o.dispose((function(){return n.delete(c)}));var u=o.disposeVar(new i.GeoPolyline);n.add(u),o.dispose((function(){return n.delete(u)})),u.arcType="GEODESIC",u.loop=!0,u.ground=t.ground,o.dispose((0,s.bind)([u,"depthTest"],[t,"depthTest"])),o.dispose((0,s.track)([c,"allowPicking"],[t,"allowPicking"])),o.dispose(c.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))})));var p=function(){u.show=t.show&&t.outline&&r.visibleAlpha>0,c.show=t.show&&t.fill&&r.visibleAlpha>0,u.positions=u.show?t.positions:i.GeoCoplanarPolygon.defaults.positions,c.polygonHierarchies=c.show?[{positions:t.positions||[]}]:[],u.color=t.outlineColor,u.width=t.outlineWidth,c.material={type:"Color",color:t.color||[1,1,1,.5]}};p();var f=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.fillChanged,t.colorChanged,t.positionsChanged,r.visibleAlphaChanged));return o.dispose(f.disposableOn(p)),o.dispose(t.flyToEvent.disposableOn((function(e){if(t.viewDistanceRange){var r=t.positionsCenter.center,o=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2;n.flyTo(r,o,void 0,e)}else c.flyTo(e),t.fill||u.flyTo(e)}))),o}return o(t,e),t}(s.Destroyable);t.GroundCoplanarPolygon=c},79517:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCoplanarPolygon=void 0;var i=n(80468),a=n(51355),s=n(58354),l=n(56273),c=n(52684),u=n(86003),p=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._czmViewVisibleDistanceRangeControl=r.disposeVar(new u.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],r.sceneObject.positionsCenter.centerReact)),r._viewDistanceDebugBinding=(r.dispose((0,a.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0),r._resetting=r.disposeVar(new i.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new c.GroundCoplanarPolygon(t,n,r):new l.CoplanarPolygon(t,n,r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"resetting",{get:function(){return this._resetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoCoplanarPolygon.type,n),t}(s.CzmObject);t.CzmGeoCoplanarPolygon=p},91945:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCustomDivPoi=void 0;var a=n(61556),s=n(80468),l=n(51355),c=n(59645),u=n(58354),p=n(86003),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new p.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,l.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)throw console.warn("viewer is undefined!"),new Error("viewer is undefined!");var s=(0,u.getViewerExtensions)(o);if(!s)throw new Error("!viewerExtensions");var f=s.poiContext;if(!f)throw new Error("!poiContext");var d=r.disposeVar(new a.CzmDivPoi(c.PosFloatDiv,f)),h=function(){d.divPoi.floatDiv.contentDiv.style.all=t.cssAllInitial?"initial":"unset"};h(),r.dispose(t.cssAllInitialChanged.disposableOn(h));var y=r.disposeVar((0,l.createNextAnimateFrameEvent)(t.instanceClassChanged,t.shadowDomChanged)),g=r.disposeVar(new c.ObjResettingWithEvent(y,(function(){var e=t.instanceClass;if(e){var r=d.divPoi.floatDiv.contentDiv;if(r.firstElementChild&&r.removeChild(r.firstElementChild),t.shadowDom){var o=r.appendChild(document.createElement("div"));r=o.attachShadow({mode:"open"}).appendChild(document.createElement("div"))}return new e(r,t,n)}})));r._objResetting=g;var m=t._updateEvent;r.dispose(m.disposableOn((function(e){if(g.obj)try{e(g.obj,t,n)}catch(e){console.error("CustomDiv update error! ".concat(e))}})));var v=function(){var e;d.divPoi.floatDiv.opacity=(null!==(e=t.opacity)&&void 0!==e?e:1)*r.visibleAlpha};v(),r.dispose(t.opacityChanged.disposableOn(v)),r.dispose(r.visibleAlphaChanged.disposableOn(v));var b=function(){var e,n=i(null!==(e=t.originRatioAndOffset)&&void 0!==e?e:[.5,1,0,0],4),r=n[0],o=n[1],a=n[2],s=n[3];d.divPoi.floatDiv.originRatioX=r,d.divPoi.floatDiv.originRatioY=o,d.divPoi.floatDiv.originOffsetX=a,d.divPoi.floatDiv.originOffsetY=s};b(),r.dispose(t.originRatioAndOffsetChanged.disposableOn(b));var _=function(){var e;t.position&&(d.cartesian=(0,a.positionToCartesian)(t.position)),d.show=(null===(e=t.show)||void 0===e||e)&&!!t.position&&r.visibleAlpha>0};_(),r.dispose(t.positionChanged.disposableOn(_)),r.dispose(t.showChanged.disposableOn(_)),r.dispose(r.visibleAlphaChanged.disposableOn(_));var w=d.divPoi.floatDiv.contentDiv;return w.onclick=function(){var e;null!==(e=t.allowPicking)&&void 0!==e&&e&&t.pickFromDiv(w)},r.dispose(t.flyToEvent.disposableOn((function(e){if(t.position){var n=o.scene.camera.positionCartographic.height;if(t.viewDistanceRange){var r=i(t.viewDistanceRange,4),s=r[0],l=r[1],c=r[2],u=r[3];s>l||l>c||c>u?console.error("viewDistanceRange存在问题，需要满足逐级增大的条件，否则不生效！"):n=.5*(l+c)}(0,a.flyTo)(o.scene.camera,t.position,n,void 0,e)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(s.GeoCustomDivPoi.type,n),t}(u.CzmObject);t.CzmGeoCustomDivPoi=f},65268:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoDirectionMeasurement=void 0;var i=n(80468),a=n(80468),s=n(51355),l=n(86003),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new i.GeoPolyline);n.add(o),r.dispose((function(){return n.delete(o)})),o.ground=!1,o.loop=!1,r.dispose((0,s.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose((0,s.bind)([o,"arcType"],[t,"arcType"])),r.dispose((0,s.bind)([o,"color"],[t,"color"])),r.dispose((0,s.bind)([o,"dashLength"],[t,"dashLength"])),r.dispose((0,s.bind)([o,"dashPattern"],[t,"dashPattern"])),r.dispose((0,s.bind)([o,"gapColor"],[t,"gapColor"])),r.dispose((0,s.bind)([o,"hasArrow"],[t,"hasArrow"])),r.dispose((0,s.bind)([o,"hasDash"],[t,"hasDash"])),r.dispose((0,s.bind)([o,"positions"],[t,"positions"])),r.dispose((0,s.bind)([o,"show"],[t,"show"])),r.dispose((0,s.bind)([o,"width"],[t,"width"])),r.dispose((0,s.bind)([o,"depthTest"],[t,"depthTest"])),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&o.flyTo(e)})));var c,u=r.disposeVar(new i.GeoCustomDivPoi);n.add(u),u.dispose((function(){return n.delete(u)})),r.dispose((0,s.bind)([u,"shadowDom"],[t,"shadowDom"])),r.dispose((0,s.bind)([u,"cssAllInitial"],[t,"cssAllInitial"])),r.dispose((0,s.bind)([u,"show"],[t,"show"])),(c=function(){t.positions&&t.positions.length>=2?u.position=t.positions[1]:u.position=void 0})(),r.dispose(t.positionsChanged.disposableOn(c)),(c=function(){var e,n=t.heading,r=(null!==(e=t.textFunc)&&void 0!==e?e:i.GeoDirectionMeasurement.defaultTextFunc_度格式)(n);u.innerHTML=(0,l.createInnerHtmlWithWhiteTextBlackBackground)("方向: ".concat(r),24)})();var p=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.headingChanged,t.textFuncChanged));return r.dispose(p.disposableOn(c)),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoDirectionMeasurement.type,n),t}(n(58354).CzmObject);t.CzmGeoDirectionMeasurement=c},88412:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoDistanceMeasurement=void 0;var a=n(80468),s=n(80468),l=n(51355),c=n(86003),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new a.GeoPolyline);n.add(o),r.dispose((function(){return n.delete(o)})),o.ground=!1,o.loop=!1,r.dispose((0,l.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),r.dispose((0,l.bind)([o,"arcType"],[t,"arcType"])),r.dispose((0,l.bind)([o,"color"],[t,"color"])),r.dispose((0,l.bind)([o,"dashLength"],[t,"dashLength"])),r.dispose((0,l.bind)([o,"dashPattern"],[t,"dashPattern"])),r.dispose((0,l.bind)([o,"editing"],[t,"editing"])),r.dispose((0,l.bind)([o,"gapColor"],[t,"gapColor"])),r.dispose((0,l.bind)([o,"hasArrow"],[t,"hasArrow"])),r.dispose((0,l.bind)([o,"hasDash"],[t,"hasDash"])),r.dispose((0,l.bind)([o,"positions"],[t,"positions"])),r.dispose((0,l.bind)([o,"show"],[t,"show"])),r.dispose((0,l.bind)([o,"width"],[t,"width"])),r.dispose((0,l.bind)([o,"depthTest"],[t,"depthTest"])),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&o.flyTo(e)})));var u=[],p=function(){var e,t;try{for(var n=i(u),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}u.length=0};r.dispose(p);var f=function(){if(p(),t.positions){t.positions.length>0&&((o=(0,c.createInfoPoi)("起点",t.positions[0],n)).dispose((0,l.track)([o,"show"],[t,"show"])),o.dispose((0,l.track)([o,"shadowDom"],[t,"shadowDom"])),o.dispose((0,l.track)([o,"cssAllInitial"],[t,"cssAllInitial"])),u.push(o));for(var e=t.distances.length,r=0;r<e;++r){var o,i=t.distances[r],a=t.positions[r+1];(o=(0,c.createInfoPoi)("长度: ".concat((0,c.distanceToHumanStr)(i)),a,n)).dispose((0,l.track)([o,"show"],[t,"show"])),o.dispose((0,l.track)([o,"shadowDom"],[t,"shadowDom"])),o.dispose((0,l.track)([o,"cssAllInitial"],[t,"cssAllInitial"])),u.push(o)}}};return f(),r.dispose(t.distancesChanged.disposableOn(f)),r}var n;return o(t,e),n=t,t.type=n.register(a.GeoDistanceMeasurement.type,n),t}(n(58354).CzmObject);t.CzmGeoDistanceMeasurement=u},97413:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipse=void 0;var i=n(51355),a=n(36821),s=n(15),l=function(e){function t(t,n){var r=e.call(this)||this;return r.disposeVar(new a.InnerEllipse(t,n)),r.disposeVar(new s.OutlineEllipse(t,n)),r}return o(t,e),t}(i.Destroyable);t.Ellipse=l},77892:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundEllipse=void 0;var i=n(51355),a=n(59645),s=n(93442),l=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmEllipseGroundPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=function(){var e,n=null===(e=t.show)||void 0===e||e;o.show=n,o.show?o.position=t.position:o.position=void 0,o.rotation=t.rotation,o.semiMinorAxis=t.semiMinorAxis,o.semiMajorAxis=t.semiMajorAxis,o.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,o.extrudedHeight=t.extrudedHeight,o.height=t.height,o.granularity=t.granularity};i();var l=r.disposeVar((0,a.createNextAnimateFrameEvent)());return r.dispose(l.disposableOn(i)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(i.Destroyable);t.GroundEllipse=l},36821:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InnerEllipse=void 0;var i=n(51355),a=n(59645),s=n(93442),l=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmEllipsePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=function(){var e=t.show;o.show=e,o.show?o.position=t.position:o.position=void 0,o.rotation=t.rotation,o.semiMinorAxis=t.semiMinorAxis,o.semiMajorAxis=t.semiMajorAxis,o.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,o.extrudedHeight=t.extrudedHeight,o.height=t.height,0===t.granularity&&(console.error("granularity不能设置为0"),t.granularity=1),o.granularity=t.granularity};i();var l=r.disposeVar((0,a.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.translucentChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.ellipsoidChanged));return r.dispose(l.disposableOn(i)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(i.Destroyable);t.InnerEllipse=l},15:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineEllipse=void 0;var i=n(51355),a=n(59645),s=n(93442),l=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmEllipseOutlinePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=function(){var e=t.show,n=t.outline;o.show=e&&n,o.show?o.position=t.position:o.position=void 0,o.rotation=t.rotation,o.semiMinorAxis=t.semiMinorAxis,o.semiMajorAxis=t.semiMajorAxis,o.ellipsoid=t.ellipsoid,o.extrudedHeight=t.extrudedHeight,o.height=t.height,o.outlineColor=t.outlineColor,o.translucent=t.translucent,0===t.granularity&&(console.error("granularity不能设置为0"),t.granularity=1),o.granularity=t.granularity,o.numberOfVerticalLines=t.numberOfVerticalLines};i();var l=r.disposeVar((0,a.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.translucentChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.ellipsoidChanged));return r.dispose(l.disposableOn(i)),r}return o(t,e),t}(i.Destroyable);t.OutlineEllipse=l},43939:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoEllipse=void 0;var i=n(80468),a=n(59645),s=n(58354),l=n(97413),c=n(77892),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._ellipseOrGroundEllipseResetting=r.disposeVar(new a.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new c.GroundEllipse(t,n):new l.Ellipse(t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"ellipseOrGroundEllipseResetting",{get:function(){return this._ellipseOrGroundEllipseResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoEllipse.type,n),t}(s.CzmObject);t.CzmGeoEllipse=u},62884:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoEllipsoid=void 0;var i=n(80468),a=n(59645),s=n(58354),l=n(93442),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new l.CzmEllipsoidPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var s=r.disposeVar(new l.CzmEllipsoidOutlinePrimitive);n.add(s),r.dispose((function(){return n.delete(s)}));var c=function(){var e,n=t.show,r=t.outline;o.show=n,s.show=n&&r,s.show?s.position=t.position:s.position=void 0,o.show?o.position=t.position:o.position=void 0,o.material=null!==(e=t.material)&&void 0!==e?e:i.GeoEllipsoid.defaults.material,o.radii=s.radii=t.radii,o.innerRadii=s.innerRadii=t.innerRadii,s.color=t.outlineColor,s.translucent=t.translucent,s.subdivisions=t.subdivisions,o.minimumClock=s.minimumClock=t.minimumClock,o.maximumClock=s.maximumClock=t.maximumClock,o.minimumCone=s.minimumCone=t.minimumCone,o.maximumCone=s.maximumCone=t.maximumCone,o.stackPartitions=s.stackPartitions=t.stackPartitions};c();var u=r.disposeVar((0,a.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.materialChanged,t.radiiChanged,t.positionChanged,t.outlineColorChanged,t.translucentChanged,t.subdivisionsChanged,t.minimumClockChanged,t.maximumClockChanged,t.minimumConeChanged,t.maximumConeChanged,t.stackPartitionsChanged,t.slicePartitionsChanged,t.innerRadiiChanged));return r.dispose(u.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){var t;(null===(t=o.show)||void 0===t||t)&&o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoEllipsoid.type,n),t}(s.CzmObject);t.CzmGeoEllipsoid=c},88580:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoHeightMeasurement=void 0;var a=n(86003),s=n(80468),l=n(80468),c=n(51355),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new s.GeoPolyline);n.add(o),r.dispose((function(){return n.delete(o)})),o.ground=!1,o.loop=!1,r.dispose((0,c.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}))),r.dispose((0,c.bind)([o,"arcType"],[t,"arcType"])),r.dispose((0,c.bind)([o,"color"],[t,"color"])),r.dispose((0,c.bind)([o,"dashLength"],[t,"dashLength"])),r.dispose((0,c.bind)([o,"dashPattern"],[t,"dashPattern"])),r.dispose((0,c.bind)([o,"gapColor"],[t,"gapColor"])),r.dispose((0,c.bind)([o,"hasArrow"],[t,"hasArrow"])),r.dispose((0,c.bind)([o,"hasDash"],[t,"hasDash"])),r.dispose((0,c.bind)([o,"show"],[t,"show"])),r.dispose((0,c.bind)([o,"width"],[t,"width"])),r.dispose((0,c.bind)([o,"depthTest"],[t,"depthTest"])),o.loop=!0;var u=function(){if(t.positions&&2===t.positions.length){var e=i(t.positions,2),n=e[0],r=e[1];o.positions=[n,r,[n[0],n[1],r[2]]]}};u(),r.dispose(t.positionsChanged.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&o.flyTo(e)})));var p,f=r.disposeVar(new s.GeoCustomDivPoi);return n.add(f),f.dispose((function(){return n.delete(f)})),r.dispose((0,c.track)([f,"shadowDom"],[t,"shadowDom"])),r.dispose((0,c.track)([f,"cssAllInitial"],[t,"cssAllInitial"])),r.dispose((0,c.track)([f,"show"],[t,"show"])),(p=function(){f.position=t.heightPosition})(),r.dispose(t.heightPositionChanged.disposableOn(p)),(p=function(){f.innerHTML=(0,a.createInnerHtmlWithWhiteTextBlackBackground)("高度: ".concat((0,a.distanceToHumanStr)(t.height)," 角度：").concat(t.angle.toFixed(2),"°"),0)})(),r.dispose(t.heightChanged.disposableOn(p)),r}var n;return o(t,e),n=t,t.type=n.register(s.GeoHeightMeasurement.type,n),t}(n(58354).CzmObject);t.CzmGeoHeightMeasurement=u},92745:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoImageModel=void 0;var i=n(80468),a=n(51355),s=n(58354),l=n(93442),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._czmImageModel=r.disposeVar(new l.CzmImageModel),!n.viewer)return console.warn("viewer is undefined!"),r;var o=r._czmImageModel;return n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"show"],[t,"show"])),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,a.track)([o,"uri"],[t,"uri"])),r.dispose((0,a.bind)([o,"position"],[t,"position"])),r.dispose((0,a.bind)([o,"rotation"],[t,"rotation"])),r.dispose((0,a.bind)([o,"rotationMode"],[t,"rotationMode"])),r.dispose((0,a.bind)([o,"positionEditing"],[t,"positionEditing"])),r.dispose((0,a.bind)([o,"rotationEditing"],[t,"rotationEditing"])),r.dispose((0,a.track)([o,"size"],[t,"size"])),r.dispose((0,a.track)([o,"scale"],[t,"scale"])),r.dispose((0,a.track)([o,"maximumScale"],[t,"maximumScale"])),r.dispose((0,a.track)([o,"minimumScale"],[t,"minimumScale"])),r.dispose((0,a.track)([o,"pixelSize"],[t,"pixelSize"])),r.dispose((0,a.track)([o,"color"],[t,"color"])),r.dispose((0,a.track)([o,"originRatioAndOffset"],[t,"originRatioAndOffset"])),r.dispose((0,a.track)([o,"viewDistanceRange"],[t,"viewDistanceRange"])),r.dispose((0,a.track)([o,"viewDistanceDebug"],[t,"viewDistanceDebug"])),r.dispose(o.pickedEvent.disposableOn((function(e){return t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmImageModel",{get:function(){return this._czmImageModel},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoImageModel.type,n),t}(s.CzmObject);t.CzmGeoImageModel=c},46880:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoLocationMeasurement=void 0;var i=n(86003),a=n(80468),s=n(80468),l=n(51355),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new a.GeoCustomDivPoi);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,l.bind)([o,"position"],[t,"position"])),r.dispose((0,l.bind)([o,"show"],[t,"show"])),r.dispose((0,l.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,l.bind)([o,"editing"],[t,"editing"])),r.dispose((0,l.track)([o,"shadowDom"],[t,"shadowDom"])),r.dispose((0,l.track)([o,"cssAllInitial"],[t,"cssAllInitial"])),r.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),r.dispose(o.pickedEvent.disposableOn((function(e){var n;(null!==(n=t.allowPicking)&&void 0!==n?n:a.GeoLocationMeasurement.defaults.allowPicking)&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),r.dispose(o.innerHtmlMounted.disposableOn((function(e){var t=e.firstElementChild;t&&(t.style.pointerEvents="auto",t.style.cursor="default",t.onclick=function(e){return o.pickFromDiv(t,new a.AttachedPickedInfo({type:"viewerPicking",e}))})})));var c=function(){var e;if(t.position){var n=(null!==(e=t.textFunc)&&void 0!==e?e:a.GeoLocationMeasurement.defaultTextFunc_度格式)(t.position);o.innerHTML=(0,i.createInnerHtmlWithWhiteTextBlackBackground)(n)}};c();var u=r.disposeVar((0,l.createNextAnimateFrameEvent)(t.positionChanged,t.textFuncChanged));return r.dispose(u.disposableOn(c)),r}var n;return o(t,e),n=t,t.type=n.register(a.GeoLocationMeasurement.type,n),t}(n(58354).CzmObject);t.CzmGeoLocationMeasurement=c},12107:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPoint=void 0;var i=n(80468),a=n(51355),s=n(58354),l=n(93442),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new l.CzmPoint);return n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"show"],[t,"show"])),r.dispose((0,a.bind)([o,"position"],[t,"position"])),r.dispose((0,a.track)([o,"pixelSize"],[t,"pixelSize"])),r.dispose((0,a.track)([o,"color"],[t,"color"])),r.dispose((0,a.track)([o,"distanceDisplayCondition"],[t,"distanceDisplayCondition"])),r.dispose((0,a.track)([o,"disableDepthTestDistance"],[t,"disableDepthTestDistance"])),r.dispose((0,a.track)([o,"outlineColor"],[t,"outlineColor"])),r.dispose((0,a.track)([o,"outlineWidth"],[t,"outlineWidth"])),r.dispose((0,a.track)([o,"scaleByDistance"],[t,"scaleByDistance"])),r.dispose((0,a.track)([o,"translucencyByDistance"],[t,"translucencyByDistance"])),r.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoPoint.type,n),t}(s.CzmObject);t.CzmGeoPoint=c},530:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AroundPolyline=void 0;var i=n(80468),a=n(51355),s=n(59645),l=function(e){function t(t,n,r){var o=e.call(this)||this,l=o.disposeVar(new i.GeoPolylines);l.arcType="GEODESIC",n.add(l),o.dispose((function(){return n.delete(l)})),o.dispose((0,a.track)([l,"allowPicking"],[t,"allowPicking"])),o.dispose((0,a.bind)([l,"depthTest"],[t,"depthTest"])),o.dispose(l.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var c=function(){if(void 0===t.depth)throw new Error("sceneObject.depth === undefined");var e,n,o=t.show,i=t.outline;if(l.show=o&&i&&r.visibleAlpha>0,l.color=t.outlineColor,l.width=t.outlineWidth,l.show&&t.positions&&t.positions.length>1){var a=t.positions[0][2];e=t.positions.map((function(e){return[e[0],e[1],a]}))}if(n=t.positions&&t.positions.length>0?t.positions[0][2]:void 0,l.show&&e){var s=n,c=(null!=n?n:0)+t.depth;l.positions=e.map((function(e){return[[e[0],e[1],s],[e[0],e[1],c]]}))}else l.positions=void 0};c();var u=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,r.visibleAlphaChanged));return o.dispose(u.disposableOn(c)),o}return o(t,e),t}(a.Destroyable);t.AroundPolyline=l},95732:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BottomPolyline=void 0;var i=n(80468),a=n(51355),s=n(59645),l=function(e){function t(t,n,r,o){var l=e.call(this)||this;l._geoPolyline=l.disposeVar(new i.GeoPolyline);var c=l._geoPolyline;c.arcType="GEODESIC",c.loop=!0,c.ground=r,n.add(c),l.dispose((function(){return n.delete(c)})),l.dispose((0,a.bind)([c,"depthTest"],[t,"depthTest"]));var u=function(){var e=t.show,n=t.outline;if(c.show=e&&n&&o.visibleAlpha>0,c.show&&t.positions&&t.positions.length>1){var r=t.positions[0][2];c.positions=t.positions.map((function(e){return[e[0],e[1],r]}))}else c.positions=void 0;c.color=t.outlineColor,c.width=t.outlineWidth};u();var p=l.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,o.visibleAlphaChanged));return l.dispose(p.disposableOn(u)),l.dispose((0,a.track)([c,"allowPicking"],[t,"allowPicking"])),l.dispose(c.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),l}return o(t,e),Object.defineProperty(t.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.BottomPolyline=l},95318:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DepthPolygon=void 0;var i=n(51355),a=n(95732),s=n(530),l=n(37888),c=n(66281),u=function(e){function t(t,n,r){var o=e.call(this)||this,i=t.ground;return o._innerPolygon=o.disposeVar(new c.InnerPolygon(t,n,!0,i,r)),o._bottomPolyline=o.disposeVar(new a.BottomPolyline(t,n,i,r)),o.disposeVar(new s.AroundPolyline(t,n,r)),o.disposeVar(new l.TopPolyline(t,n,r)),o.dispose(t.flyToEvent.disposableOn((function(e){if(t.viewDistanceRange)o=t.positionsCenter.center,i=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2,n.flyTo(o,i,void 0,e);else{var r=t.positionsCenter.center;if(!t.positions)return;var o=[r[0],r[1],t.positions[0][2]],i=4*t.positionsCenter.radius;n.flyTo(o,i,void 0,e)}}))),o}return o(t,e),Object.defineProperty(t.prototype,"innerPolygon",{get:function(){return this._innerPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPolyline",{get:function(){return this._bottomPolyline},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.DepthPolygon=u},46923:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundBottomPolyline=void 0;var i=n(80468),a=n(51355),s=n(59645),l=function(e){function t(t,n,r,o){var l=e.call(this)||this;l._geoPolyline=l.disposeVar(new i.GeoPolyline);var c=l._geoPolyline;c.arcType="GEODESIC",c.loop=!0,c.ground=r,n.add(c),l.dispose((function(){return n.delete(c)}));var u=function(){var e=t.show,n=t.outline;if(c.show=e&&n&&o.visibleAlpha>0,c.show&&t.positions&&t.positions.length>1){var r=t.positions[0][2];c.positions=t.positions.map((function(e){return[e[0],e[1],r]}))}else c.positions=void 0;c.color=t.outlineColor,c.width=t.outlineWidth,c.zIndex=1.000000001*t.zIndex};u();var p=l.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.zIndexChanged,o.visibleAlphaChanged));return l.dispose(p.disposableOn(u)),l.dispose((0,a.track)([c,"allowPicking"],[t,"allowPicking"])),l.dispose(c.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),l}return o(t,e),Object.defineProperty(t.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.GroundBottomPolyline=l},88114:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundInnerPolygon=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(93442),c=function(e){function t(t,n,r){var o=e.call(this)||this;o._groundPolygonPrimitive=o.disposeVar(new l.CzmPolygonGroundPrimitive);var c=o._groundPolygonPrimitive;n.add(c),o.dispose((function(){return n.delete(c)}));var u=function(){var e=t.show,n=t.fill;c.show=e&&n&&r.visibleAlpha>0,c.polygonHierarchies=c.show?[{positions:t.positions||[]}]:[],c.material={type:"Color",color:t.color||[1,1,1,.5]},c.zIndex=t.zIndex};u();var p=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.fillChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.depthChanged,t.zIndexChanged,r.visibleAlphaChanged));return o.dispose(p.disposableOn(u)),o.dispose((0,a.track)([c,"allowPicking"],[t,"allowPicking"])),o.dispose(c.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),o}return o(t,e),Object.defineProperty(t.prototype,"groundPolygonPrimitive",{get:function(){return this._groundPolygonPrimitive},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.GroundInnerPolygon=c},8484:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundPolygon=void 0;var i=n(51355),a=n(88114),s=n(46923),l=function(e){function t(t,n,r){var o=e.call(this)||this,i=t.ground;return o._innerPolygon=o.disposeVar(new a.GroundInnerPolygon(t,n,r)),o._bottomPolyline=o.disposeVar(new s.GroundBottomPolyline(t,n,i,r)),o.dispose(t.flyToEvent.disposableOn((function(e){if(t.viewDistanceRange)o=t.positionsCenter.center,i=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2,n.flyTo(o,i,void 0,e);else{var r=t.positionsCenter.center;if(!t.positions)return;var o=[r[0],r[1],t.positions[0][2]],i=4*t.positionsCenter.radius;n.flyTo(o,i,void 0,e)}}))),o}return o(t,e),Object.defineProperty(t.prototype,"innerPolygon",{get:function(){return this._innerPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPolyline",{get:function(){return this._bottomPolyline},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.GroundPolygon=l},66281:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InnerPolygon=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(93442),c=function(e){function t(t,n,r,o,c){var u=e.call(this)||this;u._czmInnerPolygonPrimitive=u.disposeVar(new l.CzmPolygonPrimitive);var p=u._czmInnerPolygonPrimitive;n.add(p),u.dispose((function(){return n.delete(p)}));var f=function(){var e,n=t.show,i=t.fill;if(p.show=n&&i&&c.visibleAlpha>0,t.positions&&t.positions.length>0&&!o?p.height=t.positions[0][2]:p.height=void 0,p.polygonHierarchies=p.show?[{positions:t.positions||[]}]:[{positions:[]}],p.material={type:"Color",color:t.color||[1,1,1,.5]},r){if(void 0===t.depth)throw new Error("sceneObject.depth === undefined");p.extrudedHeight=(null!==(e=p.height)&&void 0!==e?e:0)+t.depth}};f();var d=u.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.fillChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.depthChanged,c.visibleAlphaChanged));return u.dispose(d.disposableOn(f)),u.dispose((0,a.track)([p,"allowPicking"],[t,"allowPicking"])),u.dispose(p.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),u}return o(t,e),Object.defineProperty(t.prototype,"czmInnerPolygonPrimitive",{get:function(){return this._czmInnerPolygonPrimitive},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.InnerPolygon=c},55641:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Polygon=void 0;var i=n(51355),a=n(95732),s=n(66281),l=function(e){function t(t,n,r){var o=e.call(this)||this,i=t.ground;return o._innerPolygon=o.disposeVar(new s.InnerPolygon(t,n,!1,i,r)),o._bottomPolyline=o.disposeVar(new a.BottomPolyline(t,n,i,r)),o.dispose(t.flyToEvent.disposableOn((function(e){if(t.viewDistanceRange)o=t.positionsCenter.center,i=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2,n.flyTo(o,i,void 0,e);else{var r=t.positionsCenter.center;if(!t.positions)return;var o=[r[0],r[1],t.positions[0][2]],i=4*t.positionsCenter.radius;n.flyTo(o,i,void 0,e)}}))),o}return o(t,e),Object.defineProperty(t.prototype,"innerPolygon",{get:function(){return this._innerPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPolyline",{get:function(){return this._bottomPolyline},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.Polygon=l},37888:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TopPolyline=void 0;var i=n(80468),a=n(51355),s=n(59645),l=function(e){function t(t,n,r){var o=e.call(this)||this,l=o.disposeVar(new i.GeoPolyline);l.arcType="GEODESIC",l.loop=!0,n.add(l),o.dispose((function(){return n.delete(l)})),o.dispose((0,a.track)([l,"allowPicking"],[t,"allowPicking"])),o.dispose((0,a.bind)([l,"depthTest"],[t,"depthTest"])),o.dispose(l.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var c=function(){if(void 0===t.depth)throw new Error("sceneObject.depth === undefined");var e,n,o=t.show,i=t.outline;if(l.show=o&&i&&r.visibleAlpha>0,l.color=t.outlineColor,l.width=t.outlineWidth,l.show&&t.positions&&t.positions.length>1){var a=t.positions[0][2];e=t.positions.map((function(e){return[e[0],e[1],a]}))}if(n=t.positions&&t.positions.length>0?t.positions[0][2]:void 0,l.show&&e){var s=(null!=n?n:0)+t.depth;l.positions=e.map((function(e){return[e[0],e[1],s]}))}else l.positions=void 0};c();var u=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,r.visibleAlphaChanged));return o.dispose(u.disposableOn(c)),o}return o(t,e),t}(a.Destroyable);t.TopPolyline=l},74947:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPolygon=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(58354),c=n(95318),u=n(8484),p=n(55641),f=n(86003),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new f.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],r.sceneObject.positionsCenter.centerReact)),r._viewDistanceDebugBinding=(r.dispose((0,a.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.groundChanged,t.depthChanged));return r._polygonOrGroundPolygonResetting=r.disposeVar(new s.ObjResettingWithEvent(o,(function(){return t.ground?new u.GroundPolygon(t,n,r):void 0!==t.depth&&t.depth>0?new c.DepthPolygon(t,n,r):new p.Polygon(t,n,r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"polygonOrGroundPolygonResetting",{get:function(){return this._polygonOrGroundPolygonResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoPolygon.type,n),t}(l.CzmObject);t.CzmGeoPolygon=d},57479:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPolyline=void 0;var s=n(80468),l=n(51355),c=n(59645),u=n(58354),p=n(93442),f=n(86003);function d(e){var t=e.color,n=e.gapColor;return e.hasDash?{type:"PolylineDash",color:t,gapColor:n,dashLength:e.dashLength,dashPattern:e.dashPattern}:e.hasArrow?{type:"PolylineArrow",color:t}:{type:"Color",color:t}}function h(e){return e.loop&&e.positions&&e.positions.length>=3?a(a([],i(e.positions),!1),[e.positions[0]],!1):e.positions}function y(e){return[e.showChanged,e.positionsChanged,e.loopChanged,e.widthChanged,e.colorChanged,e.hasDashChanged,e.gapColorChanged,e.dashLengthChanged,e.dashPatternChanged,e.hasArrowChanged,e.arcTypeChanged,e.depthTestChanged,e.zIndexChanged]}var g=function(e){function t(t,n,r){var o=e.call(this)||this,u=o.disposeVar(new p.CzmPolylinePrimitive);n.add(u),o.dispose((function(){return n.delete(u)})),o.dispose((0,l.track)([u,"allowPicking"],[t,"allowPicking"])),o.dispose(u.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),o.dispose((0,l.track)([u,"depthTest"],[t,"depthTest"]));var f=o.disposeVar(c.createNextAnimateFrameEvent.apply(void 0,a(a([],i(y(t)),!1),[r.czmViewVisibleDistanceRangeControl.visibleAlphaChanged],!1))),g=function(){var e=r.czmViewVisibleDistanceRangeControl.visibleAlpha;u.show=t.show&&e>0,u.arcType=t.arcType,u.width=t.width,u.positions=h(t),u.material=d(t)};return g(),o.dispose(f.disposableOn(g)),o.dispose(t.flyToEvent.disposableOn((function(e){if(f.flush(),t.viewDistanceRange){var r=t.positionsCenter.center,o=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2;n.flyTo(r,o,void 0,e)}else u.flyTo(e)}))),o}return o(t,e),t}(l.Destroyable),m=function(e){function t(t,n,r){var o=e.call(this)||this;o._czmViewer=n,o._czmPolylineGroundPrimitive=function(){var e=o.disposeVar(new p.CzmPolylineGroundPrimitive);return o.czmViewer.add(e),o.dispose((function(){return o.czmViewer.delete(e)})),e}();var u=o.czmPolylineGroundPrimitive;o.dispose((0,l.track)([u,"allowPicking"],[t,"allowPicking"])),o.dispose(u.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),o.dispose((0,l.track)([u,"depthTest"],[t,"depthTest"]));var f=o.disposeVar(c.createNextAnimateFrameEvent.apply(void 0,a(a([],i(y(t)),!1),[r.czmViewVisibleDistanceRangeControl.visibleAlphaChanged],!1))),g=function(){var e=r.czmViewVisibleDistanceRangeControl.visibleAlpha;u.show=t.show&&e>0,u.arcType=t.arcType,u.width=t.width,u.positions=h(t),u.material=d(t),u.zIndex=t.zIndex};return g(),o.dispose(f.disposableOn(g)),o.dispose(t.flyToEvent.disposableOn((function(e){if(f.flush(),t.viewDistanceRange){var n=t.positionsCenter.center,r=(t.viewDistanceRange[1]+t.viewDistanceRange[2])/2;o.czmViewer.flyTo(n,r,void 0,e)}else u.flyTo(e)}))),o}return o(t,e),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmPolylineGroundPrimitive",{get:function(){return this._czmPolylineGroundPrimitive},enumerable:!1,configurable:!0}),t}(l.Destroyable),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._czmViewVisibleDistanceRangeControl=r.disposeVar(new f.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],r.sceneObject.positionsCenter.centerReact)),r._viewDistanceDebugBinding=(r.dispose((0,l.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0),r._polylineOrGroundPolylineResetting=r.disposeVar(new c.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new m(t,n,r):new g(t,n,r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"polylineOrGroundPolylineResetting",{get:function(){return this._polylineOrGroundPolylineResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(s.GeoPolyline.type,n),t}(u.CzmObject);t.CzmGeoPolyline=v},62744:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPolylines=void 0;var i=n(80468),a=n(80468),s=n(51355),l=n(59645),c=n(58354),u=n(93442),p=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new u.CzmPolylinesPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=r.disposeVar(new u.CzmPolylinesGroundPrimitive);n.add(i),r.dispose((function(){return n.delete(i)})),r.dispose((0,s.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose((0,s.track)([i,"allowPicking"],[t,"allowPicking"])),r.dispose(i.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))})));var c=function(){var e,n,r,a,s,l=null!==(e=t.ground)&&void 0!==e&&e,c=null===(n=t.show)||void 0===n||n;o.show=c&&!l,i.show=c&&l,o.positions=i.positions=t.positions,o.arcType=i.arcType=t.arcType,o.width=i.width=null!==(r=t.width)&&void 0!==r?r:1,o.hasDash=i.hasDash=t.hasDash,o.hasArrow=i.hasArrow=t.hasArrow,o.color=i.color=t.color,o.gapColor=i.gapColor=t.gapColor,o.dashLength=i.dashLength=t.dashLength,o.dashPattern=i.dashPattern=t.dashPattern,o.depthTest=i.depthTest=null!==(a=t.depthTest)&&void 0!==a&&a,o.allowPicking=i.allowPicking=null!==(s=t.allowPicking)&&void 0!==s&&s},p=r.disposeVar((0,l.createNextAnimateFrameEvent)(t.showChanged,t.groundChanged,t.positionsChanged,t.arcTypeChanged,t.widthChanged,t.hasDashChanged,t.hasArrowChanged,t.colorChanged,t.gapColorChanged,t.dashLengthChanged,t.dashPatternChanged,t.depthTestChanged,t.allowPickingChanged));return r.dispose(p.disposableOn((function(){c()}))),c(),r.dispose(t.flyToEvent.disposableOn((function(e){t.ground?i.flyTo(e):o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoPolylines.type,n),t}(c.CzmObject);t.CzmGeoPolylines=p},90674:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoRectangle2=void 0;var a=n(80468),s=n(51355),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.disposeVar(new a.GeoPolygon);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,s.track)([o,"show"],[t,"show"])),r.dispose((0,s.bind)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,s.bind)([o,"pointEditing"],[t,"pointEditing"])),r.dispose((0,s.track)([o,"ground"],[t,"ground"])),r.dispose((0,s.track)([o,"outline"],[t,"outline"])),r.dispose((0,s.track)([o,"outlineColor"],[t,"outlineColor"])),r.dispose((0,s.track)([o,"outlineWidth"],[t,"outlineWidth"])),r.dispose((0,s.track)([o,"fill"],[t,"fill"])),r.dispose((0,s.track)([o,"color"],[t,"color"])),r.dispose((0,s.track)([o,"depth"],[t,"depth"])),r.dispose((0,s.track)([o,"zIndex"],[t,"zIndex"])),r.dispose((0,s.track)([o,"depthTest"],[t,"depthTest"]));var l=function(){if(t.rectangle){if(t.points&&t.points.length){var e=i(t.rectangle,4),n=e[0],r=e[1],a=e[2],s=e[3],l=[[n,r,t.points[0][2]],[a,r,t.points[0][2]],[a,s,t.points[0][2]],[n,s,t.points[0][2]]];o.positions=l}}else o.positions=void 0};return l(),r.dispose(t.rectangleChanged.disposableOn(l)),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(a.GeoRectangle2.type,n),t}(n(58354).CzmObject);t.CzmGeoRectangle2=l},41724:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundRectangle=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(93442),c=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new l.CzmRectangleGroundPrimitive);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var c=function(){var e,n,r,a=null===(e=t.show)||void 0===e||e,s=null!==(n=t.ground)&&void 0!==n&&n;o.show=a&&s,o.show?o.positions=t.rectangle:o.positions=void 0,o.rotation=t.rotation,o.material=null!==(r=t.material)&&void 0!==r?r:i.GeoRectangle.defaults.material,o.stRotation=t.stRotation,o.zIndex=t.zIndex};c();var u=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.rectangleChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.outlineTranslucentChanged,t.zIndexChanged));return r.dispose(u.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(a.Destroyable);t.GroundRectangle=c},59629:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Rectangle=void 0;var i=n(80468),a=n(51355),s=n(59645),l=n(93442),c=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new l.CzmRectanglePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var c=r.disposeVar(new l.CzmRectangleOutlinePrimitive);n.add(c),r.dispose((function(){return n.delete(c)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var u=function(){var e,n,r,a,s=null===(e=t.show)||void 0===e||e,l=null!==(n=t.ground)&&void 0!==n&&n,u=null!==(r=t.outline)&&void 0!==r&&r;c.show=s&&!l&&u,o.show=s&&!l,c.show?c.positions=t.rectangle:c.positions=void 0,o.show?o.positions=t.rectangle:o.positions=void 0,c.rotation=o.rotation=t.rotation,o.material=null!==(a=t.material)&&void 0!==a?a:i.GeoRectangle.defaults.material,o.stRotation=t.stRotation,c.extrudedHeight=o.extrudedHeight=t.extrudedHeight,c.height=o.height=t.height,c.color=t.outlineColor,c.translucent=t.outlineTranslucent};u();var p=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.rectangleChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.outlineTranslucentChanged));return r.dispose(p.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(a.Destroyable);t.Rectangle=c},93516:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoRectangle=void 0;var i=n(80468),a=n(59645),s=n(58354),l=n(59629),c=n(41724),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._rectangleOrGroundRectangleResetting=r.disposeVar(new a.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new c.GroundRectangle(t,n):new l.Rectangle(t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"rectangleOrGroundRectangleResetting",{get:function(){return this._rectangleOrGroundRectangleResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoRectangle.type,n),t}(s.CzmObject);t.CzmGeoRectangle=u},20030:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CircleCanvas=void 0;var l=n(51355),c=s(n(81557)),u=n(66030),p=function(e){function t(t){var n=e.call(this,t)||this;n._canvas=document.createElement("canvas"),n._ctx=n.canvas.getContext("2d"),n._flipText=n.disposeVar((0,l.react)(!1));var r=n.canvas;r.width=256,r.height=256;var o=n.owner.sceneObject,i=function(){var e={rotation:o.circleRotation*Math.PI/180,startRotation:o.circleStartRotation*Math.PI/180,endRotation:o.circleEndRotation*Math.PI/180},t=n._ctx,r=o.color,i="rgba(".concat(255*r[0]|0,", ").concat(255*r[1]|0,", ").concat(255*r[2]|0,", ").concat(r[3],")");t.clearRect(0,0,256,256),t.lineWidth=6,t.beginPath(),t.arc(128,128,64,0,2*Math.PI,!1),t.strokeStyle="rgba(0, 0, 0, ".concat(r[3],")"),t.stroke(),t.lineWidth=4,t.beginPath(),t.arc(128,128,64,0,2*Math.PI,!1),t.strokeStyle=i,t.stroke(),t.lineWidth=1,t.beginPath();var a=c.Math.zeroToTwoPi(e.startRotation),s=c.Math.zeroToTwoPi(e.endRotation);s<a&&(s+=2*Math.PI),a===s&&0===a||(t.moveTo(128,128),t.arc(128,128,64,a,s,s-a>Math.PI),t.lineTo(128,128),t.strokeStyle="rgba(255, 255, 0, 1.0)",t.stroke());var l=c.Math.negativePiToPi(e.rotation);t.lineWidth=3,t.beginPath(),t.moveTo(128,128),t.arc(128,128,64,0,l,c.Math.negativePiToPi(l-0)<0),t.lineTo(128,128),t.fillStyle="rgba(".concat(255*r[0]|0,", ").concat(255*r[1]|0,", ").concat(255*r[2]|0,", 0.5)"),t.fill(),t.save(),t.font="16px console",t.textBaseline="middle";var u=(180*c.Math.negativePiToPi(l-0)/Math.PI*10|0)/10,p="".concat(u,"°"),f=t.measureText(p).width;t.translate(128,128),t.rotate(.5*Math.PI),l=c.Math.negativePiToPi(l-0)+0,t.rotate(.5*(l+0)),t.scale(n.flipText?-1:1,1),t.translate(-128,-128),t.fillStyle="white",t.fillText(p,128-.5*f,54),t.lineWidth=1,t.restore(),n.owner.czmTexture.copyFromCanvas(n.canvas)};n.dispose(n.owner.czmTexture.readyEvent.disposableOn((function(){i()})));var a=n.disposeVar((0,l.createNextAnimateFrameEvent)(o.colorChanged,o.circleRotationChanged,o.circleStartRotationChanged,o.circleEndRotationChanged,n.flipTextChanged));i(),n.dispose(a.disposableOn(i));var s=function(){var e=(0,u.computeCzmModelMatrix)({rotation:n.owner.sceneObject.selfRotation});if(e){var t=(0,u.computeCzmModelMatrix)({position:n.owner.sceneObject.position,rotation:n.owner.sceneObject.rotation,localModelMatrix:c.Matrix4.toArray(e)});if(t){var r=n.owner.czmViewer.viewer;if(r){var o=c.Cartesian3.dot(r.scene.camera.directionWC,new c.Cartesian3(t[8],t[9],t[10]));n.flipText=o>0}}}};s();var p=n.disposeVar((0,l.createNextAnimateFrameEvent)(n.owner.czmViewer.cameraChanged,n.owner.sceneObject.positionChanged,n.owner.sceneObject.rotationChanged,n.owner.sceneObject.selfRotationChanged));return n.dispose(p.disposableOn(s)),n}return o(t,e),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ctx",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipText",{get:function(){return this._flipText.value},set:function(e){this._flipText.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipTextChanged",{get:function(){return this._flipText.changed},enumerable:!1,configurable:!0}),t}(l.HasOwner);t.CircleCanvas=p},33043:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPrimitiveForCircle=t.createCustomPrimitive=void 0;var l=n(80468),c=n(9675),u=n(66030),p=s(n(81557));function f(){return l.SceneObject.createFromJson({type:"CzmCustomPrimitive",allowPicking:!0,positionEditing:!1,pixelSize:100,boundingVolume:{type:"LocalAxisedBoundingBox",data:{min:[0,-1,0],max:[1,0,0]}},renderState:{depthTest:{enabled:!1},cull:{enabled:!1,face:1029},depthMask:!1,blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}},uniformMap:{u_image:{type:"texture",id:"46d5d1a1-4aeb-4dc3-a0e2-dfbf4b8ee771"},u_color:[1,1,0,1]},localPosition:[-.5,-.5,0],localRotation:[-90,0,0],name:"CzmCustomPrimitive_012c"})}t.createCustomPrimitive=f;var d=function(e){function t(t){var n,r=e.call(this,t)||this;return r._customPrimitive=r.disposeVar(f()),r._customPrimitiveInit=(r.dispose((0,c.track)([r.customPrimitive,"position"],[r.sceneObject,"position"])),r.dispose((0,c.track)([r.customPrimitive,"rotation"],[r.sceneObject,"rotation"])),(n=function(){var e=(0,u.computeCzmModelMatrix)({rotation:r.sceneObject.selfRotation});r.customPrimitive.localModelMatrix=e&&p.Matrix4.toArray(e)||void 0})(),r.dispose(r.sceneObject.selfRotationChanged.disposableOn(n)),r.dispose((0,c.track)([r.customPrimitive,"pixelSize"],[r.sceneObject,"pixelSize"])),(n=function(){r._customPrimitive.uniformMap={u_image:{type:"texture",id:r.czmTexture.id},u_color:r.sceneObject.color}})(),r.dispose(r.sceneObject.colorChanged.disposableOn(n)),void r.dispose(r.czmViewer.disposableAdd(r.customPrimitive))),r}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.owner.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTexture",{get:function(){return this.owner.czmTexture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.owner.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPrimitive",{get:function(){return this._customPrimitive},enumerable:!1,configurable:!0}),t}(c.HasOwner);t.CustomPrimitiveForCircle=d},55478:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAxis=void 0;var l=n(51355),c=n(59645),u=n(66030),p=s(n(81557)),f={type:"CzmCustomPrimitive",allowPicking:!0,positionEditing:!1,position:[114.86128105686282,40.86825802653499,0],primitiveType:"LINES",vertexShaderSource:"in vec3 position;\nvoid main()\n{\n    // 如果这一句注释，要相应地注释掉attribute中的normal，也就是说顶点属性要和shader中的一一匹配！\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n",fragmentShaderSource:"uniform vec4 u_color;\nvoid main()\n{\n    out_FragColor = u_color;\n}\n",uniformMap:{u_color:[1,1,0,1]},name:"CzmCustomPrimitive_47fd",attributes:{position:{typedArray:{type:"Float32Array",array:[0,0,0,0,0,1]},componentsPerAttribute:3}}},d=function(e){function t(t){var n,r,o=e.call(this,t)||this;return o._axis=o.disposeVar(c.SceneObject.createFromJson(f)),o._axisInit=(r=o.owner.sceneObject,o.dispose((0,l.track)([o._axis,"pixelSize"],[r,"pixelSize"])),o.dispose((0,l.track)([o._axis,"position"],[r,"position"])),o.dispose((0,l.track)([o._axis,"rotation"],[r,"rotation"])),o.dispose((0,l.track)([o._axis,"show"],[r,"debug"])),(n=function(){var e=(0,u.computeCzmModelMatrix)({rotation:r.selfRotation});o._axis.localModelMatrix=e&&p.Matrix4.toArray(e)||void 0})(),o.dispose(r.selfRotationChanged.disposableOn(n)),(n=function(){o._axis.uniformMap={u_color:r.color}})(),o.dispose(r.colorChanged.disposableOn(n)),void o.dispose(o.owner.czmViewer.disposableAdd(o._axis))),o}return o(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},enumerable:!1,configurable:!0}),t}(l.HasOwner);t.DebugAxis=d},12208:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoRotatorCircle=void 0;var i=n(80468),a=n(51355),s=n(58354),l=n(93442),c=n(20030),u=n(33043),p=n(55478),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._czmTexture=r.disposeVar(i.SceneObject.createFromClass(l.CzmTexture)),r._czmTextureInit=(r.czmTexture.uri="",void r.dispose(r.czmViewer.disposableAdd(r.czmTexture))),r._customPrimitiveForCircle=r.disposeVar(new u.CustomPrimitiveForCircle(r)),r._circleCanvas=r.disposeVar(new c.CircleCanvas(r)),r._debugAxis=r.disposeVar(new p.DebugAxis(r)),n.viewer?(r.dispose((0,a.track)([r.customPrimitiveForCircle.customPrimitive,"show"],[r.sceneObject,"show"])),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.customPrimitiveForCircle.customPrimitive.flyTo(e)}))),r.dispose(r.customPrimitiveForCircle.customPrimitive.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r):(console.warn("viewer is undefined!"),r)}var n;return o(t,e),Object.defineProperty(t.prototype,"czmTexture",{get:function(){return this._czmTexture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPrimitiveForCircle",{get:function(){return this._customPrimitiveForCircle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleCanvas",{get:function(){return this._circleCanvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugAxis",{get:function(){return this._debugAxis},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoRotatorCircle.type,n),t}(s.CzmObject);t.CzmGeoRotatorCircle=f},45065:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BasePlane=void 0;var l=n(61556),c=n(51355),u=s(n(81557)),p=n(62276),f=function(e){function t(t){var n=e.call(this,t)||this;return n._valid=!1,n._normal=new u.Cartesian3(0,0,0),n._origin=new u.Cartesian3(0,0,0),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.owner.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scene",{get:function(){return this.viewer.scene},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.owner.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this._valid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._valid&&this._normal||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._valid&&this._origin},enumerable:!1,configurable:!0}),t.prototype.pick=function(e){if(this.normal&&this.owner.cartesian){var t=this.owner.cartesian,n=(0,l.toCartesian2)(e);return(0,p.pickVirtualPlane)(this.scene,t,this.normal,n)}},t}(c.HasOwner);t.BasePlane=f},4397:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GeoRotatorCircleWrapper=void 0;var i=n(80468),a=n(51355),s=n(95704),l=function(e){function t(t,n){var r,o=e.call(this,t)||this;return o._type=n,o._circle=o.disposeVar(new i.GeoRotatorCircle),o._circleInit=(o.dispose((0,a.track)([o.circle,"position"],[o.sceneObject,"position"])),o.dispose((0,a.track)([o.circle,"pixelSize"],[o.sceneObject,"pixelSize"])),o.dispose((0,a.track)([o.circle,"debug"],[o.sceneObject,"debug"])),o.dispose((0,a.track)([o.circle,"rotation"],[o.sceneObject,"rotation"])),(r=function(){o.circle.selfRotation=s.CzmGeoRotator.rotationFuncs[o.type](o.sceneObject.selfRotation),o.circle.circleRotation=o.sceneObject.selfRotation[s.CzmGeoRotator.rotationNum[o.type]]})(),o.dispose(o.sceneObject.selfRotationChanged.disposableOn(r)),(r=function(){var e=o.owner.movingPlaneType===o.type,t=o.owner.hoveredPlaneType===o.type,n=[0,0,0,e||t?1:.8];n[s.CzmGeoRotator.rotationNum[o.type]]=1,o.circle.color=n})(),o.dispose(o.owner.movingPlaneTypeChanged.disposableOn(r)),o.dispose(o.owner.hoveredPlaneTypeChanged.disposableOn(r)),void o.dispose(o.owner.czmViewer.disposableAdd(o.circle))),o}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.owner.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circle",{get:function(){return this._circle},enumerable:!1,configurable:!0}),t}(a.HasOwner);t.GeoRotatorCircleWrapper=l},70878:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.HeadingPlane=void 0;var i=n(61556),a=function(e){function t(t){var n=e.call(this,t)||this,r=function(){var e,t=(0,i.computeCzmModelMatrix)({position:n.sceneObject.position,rotation:n.sceneObject.rotation});n._valid=!!t,t&&((e=n._normal).x=t[8],e.y=t[9],e.z=t[10],(e=n._origin).x=t[4],e.y=t[5],e.z=t[6])};return r(),n.dispose(n.sceneObject.positionChanged.disposableOn(r)),n.dispose(n.sceneObject.rotationChanged.disposableOn(r)),n}return o(t,e),t}(n(45065).BasePlane);t.HeadingPlane=a},87430:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PitchPlane=void 0;var l=n(61556),c=n(45065),u=s(n(81557)),p=function(e){function t(t){var n=e.call(this,t)||this,r=function(){var e=(0,l.computeCzmModelMatrix)({rotation:[n.sceneObject.selfRotation[0],0,0]});if(!e)throw new Error("PitchPlane: rm is undefined");var t,r=(0,l.computeCzmModelMatrix)({position:n.sceneObject.position,rotation:n.sceneObject.rotation,localModelMatrix:u.Matrix4.toArray(e)});n._valid=!!r,r&&((t=n._normal).x=-r[0],t.y=-r[1],t.z=-r[2],(t=n._origin).x=r[4],t.y=r[5],t.z=r[6])};return r(),n.dispose(n.sceneObject.positionChanged.disposableOn(r)),n.dispose(n.sceneObject.rotationChanged.disposableOn(r)),n.dispose(n.sceneObject.selfRotationChanged.disposableOn(r)),n}return o(t,e),t}(c.BasePlane);t.PitchPlane=p},53871:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RollPlane=void 0;var l=n(61556),c=n(45065),u=s(n(81557)),p=function(e){function t(t){var n=e.call(this,t)||this,r=function(){var e=(0,l.computeCzmModelMatrix)({rotation:[n.sceneObject.selfRotation[0],n.sceneObject.selfRotation[1],0]});if(!e)throw new Error("PitchPlane: rm is undefined");var t,r=(0,l.computeCzmModelMatrix)({position:n.sceneObject.position,rotation:n.sceneObject.rotation,localModelMatrix:u.Matrix4.toArray(e)});n._valid=!!r,r&&((t=n._normal).x=-r[4],t.y=-r[5],t.z=-r[6],(t=n._origin).x=r[8],t.y=r[9],t.z=r[10])};return r(),n.dispose(n.sceneObject.positionChanged.disposableOn(r)),n.dispose(n.sceneObject.rotationChanged.disposableOn(r)),n.dispose(n.sceneObject.selfRotationChanged.disposableOn(r)),n}return o(t,e),t}(c.BasePlane);t.RollPlane=p},44474:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Rotating=void 0;var u=n(51355),p=s(n(81557)),f=n(95704);function d(e,t,n){var r=p.Cartesian3.cross(t,e,new p.Cartesian3);p.Cartesian3.normalize(r,r);var o=p.Cartesian3.dot(r,n),i=180*Math.acos(p.Cartesian3.dot(e,t))/Math.PI;return o>0?i:-i}var h=function(e){function t(t,n){var r=e.call(this,t)||this;r._startInfo=n,console.log("Rotating creating...");var o=r.startInfo,i=r.owner.owner.czmViewer;return i.incrementDisabledInputStack(),r.dispose((function(){i.decrementDisabledInputStack()})),r.dispose(i.interaction.pointerMoveEvent.disposableOn((function(e){o.pointerId===e.pointerId&&o&&r.move(e,o)}))),r.owner.owner.movingPlaneType=o.currentPlaneType,r.dispose((function(){return r.owner.owner.movingPlaneType="none"})),r.dispose((function(){r.circle.circleStartRotation=0,r.circle.circleEndRotation=0})),r}return o(t,e),Object.defineProperty(t.prototype,"startInfo",{get:function(){return this._startInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"planeType",{get:function(){return this.startInfo.currentPlaneType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmGeoRotator",{get:function(){return this.owner.owner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"plane",{get:function(){return this.czmGeoRotator.getPlane(this.planeType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circle",{get:function(){return this.czmGeoRotator.circles[this.planeType].circle},enumerable:!1,configurable:!0}),t.prototype.move=function(e,t){var n=[e.offsetX,e.offsetY],r=t.currentPlaneType;if("none"!==r){var o=this.czmGeoRotator.getPlane(r);if(t.currentV){var i=o.pick(n);if(i&&this.czmGeoRotator.cartesian){var a=p.Cartesian3.subtract(t.currentV,this.czmGeoRotator.cartesian,new p.Cartesian3);p.Cartesian3.normalize(a,a);var s=p.Cartesian3.subtract(i,this.czmGeoRotator.cartesian,new p.Cartesian3);if(p.Cartesian3.normalize(s,s),o.normal&&o.origin){var u=d(a,s,o.normal),h=d(o.origin,a,o.normal),y=d(o.origin,s,o.normal),g=c([],l(this.czmGeoRotator.sceneObject.selfRotation),!1);g[f.CzmGeoRotator.rotationNum[r]]=t.startRotation+u,this.czmGeoRotator.sceneObject.selfRotation=g,this.circle.circleStartRotation=h,this.circle.circleEndRotation=y}}}}},t}(u.HasOwner);t.Rotating=h},8290:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.RotatorRunning=void 0;var u=n(61556),p=n(51355),f=n(59645),d=s(n(81557)),h=n(95704),y=n(44474),g=function(e){function t(t){var n=e.call(this,t)||this;n._rotatingResetting=n.disposeVar(new f.ObjResetting((function(e){if(void 0!==e)return new y.Rotating(n,e)}),!1));var r=n.owner.czmViewer,o=void 0;return n.dispose(r.interaction.keyDownEvent.disposableOn((function(e){"Escape"===e.key&&(n.owner.sceneObject.enabled=!1)}))),n.dispose(r.interaction.pointerClick.dbclickEvent.disposableOn((function(e){do{var t=n.getStartInfo(e);if(!t)break;if("none"===t.currentPlaneType)break;var r=t.currentPlaneType,o=c([],l(n.owner.sceneObject.selfRotation),!1);return o[h.CzmGeoRotator.rotationNum[r]]=0,void(n.owner.sceneObject.selfRotation=o)}while(0);n.owner.sceneObject.enabled=!1}))),n.dispose(r.interaction.pointerDownEvent.disposableOn((function(e){o&&"none"!==o.currentPlaneType&&(n.rotatingResetting.reset(o),o=void 0)}))),n.dispose((function(){return n.owner.hoveredPlaneType="none"})),n.dispose(r.interaction.pointerMoveEvent.disposableOn((function(e){var t=n.getStartInfo(e);o=t,t&&(n._rotatingResetting.obj||(n.owner.hoveredPlaneType=t.currentPlaneType))}))),n.dispose(r.interaction.pointerUpEvent.disposableOn((function(e){n.rotatingResetting.obj&&n.rotatingResetting.reset(void 0)}))),n}return o(t,e),Object.defineProperty(t.prototype,"rotatingResetting",{get:function(){return this._rotatingResetting},enumerable:!1,configurable:!0}),t.prototype.pickPlane=function(e,t,n,r,o){var i=this.owner.cartesian;if(i){var a=this.owner.sceneObject.selfRotation,s=this.owner.getPlane(n).pick(r);if(s){var l=d.Cartesian3.distance(i,s),c=o/4,u=3*c/128;if(l>=c-u&&l<=c+u){var p=d.Cartesian3.distance(t.camera.positionWC,s);e.currentD2c<=p||(e.currentPlaneType=n,e.currentD2c=p,e.currentV=s,e.startRotation=a[h.CzmGeoRotator.rotationNum[n]])}}}},t.prototype.getStartInfo=function(e){var t,n=this.owner,r=n.czmViewer,o=n.sceneObject,i=null===(t=r.viewer)||void 0===t?void 0:t.scene;if(o.position&&this.owner.cartesian){var a=(0,u.getSceneScaleForScreenPixelSize)(i,this.owner.cartesian,this.owner.sceneObject.pixelSize);if(a){var s=[e.offsetX,e.offsetY],l=e.pointerId,c={currentPlaneType:"none",currentD2c:Number.POSITIVE_INFINITY,currentV:void 0,startRotation:0,pointerId:l};return this.pickPlane(c,i,"heading",s,a),this.pickPlane(c,i,"pitch",s,a),this.pickPlane(c,i,"roll",s,a),c}}},t}(p.HasOwner);t.RotatorRunning=g},95704:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoRotator=void 0;var c=n(61556),u=n(80468),p=n(51355),f=s(n(81557)),d=n(58354),h=n(93442),y=n(4397),g=n(70878),m=n(87430),v=n(53871),b=n(8290),_=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._pointer=r.disposeVar(new u.GeoPoint),r._pointerInit=void r.dispose(r.czmViewer.disposableAdd(r.pointer)),r._cameraModel=r.disposeVar(new h.CzmModelPrimitive),r._cameraModelInit=function(){r.cameraModel.url="${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/camera1/camera1.gltf",r.cameraModel.localRotation=[90,0,0],r.cameraModel.allowPicking=!1,r.cameraModel.opaquePass="OVERLAY",r.dispose((0,p.track)([r.cameraModel,"pixelSize"],[r.sceneObject,"pixelSize"],(function(e){return.1*e}))),r.dispose((0,p.track)([r.cameraModel,"position"],[r.sceneObject,"position"])),r.dispose((0,p.track)([r.cameraModel,"rotation"],[r.sceneObject,"rotation"]));var e=function(){var e=(0,c.computeCzmModelMatrix)({rotation:r.sceneObject.selfRotation});if(!e)throw new Error("!rm");r.cameraModel.localModelMatrix=f.Matrix4.toArray(e)};e(),r.dispose(r.sceneObject.selfRotationChanged.disposableOn(e)),r.dispose(r.czmViewer.disposableAdd(r.cameraModel))}(),r._hoveredPlaneType=r.disposeVar((0,p.react)("none")),r._movingPlaneType=r.disposeVar((0,p.react)("none")),r._circles={heading:r.disposeVar(new y.GeoRotatorCircleWrapper(r,"heading")),pitch:r.disposeVar(new y.GeoRotatorCircleWrapper(r,"pitch")),roll:r.disposeVar(new y.GeoRotatorCircleWrapper(r,"roll"))},r._cartesian=void 0,r._cartesianInit=function(){var e=function(){r._cartesian=r.sceneObject.position&&(0,c.positionToCartesian)(r.sceneObject.position)||void 0};e(),r.dispose(r.sceneObject.positionChanged.disposableOn(e))}(),r._planes={heading:r.disposeVar(new g.HeadingPlane(r)),pitch:r.disposeVar(new m.PitchPlane(r)),roll:r.disposeVar(new v.RollPlane(r))},r._rotatorRunningResetting=r.disposeVar(new u.ObjResettingWithEvent(r.sceneObject.enabledChanged,(function(){if(r.sceneObject.enabled&&r.sceneObject.position)return new b.RotatorRunning(r)}))),!n.viewer)return console.warn("viewer is undefined!"),r;var o=function(){r.circles.heading.circle.show=r.sceneObject.enabled,r.circles.pitch.circle.show=r.sceneObject.enabled,r.circles.roll.circle.show=r.sceneObject.enabled,r.cameraModel.show=r.sceneObject.enabled&&r.sceneObject.showHelper};return o(),r.dispose(r.sceneObject.enabledChanged.disposableOn(o)),r.dispose(r.sceneObject.showHelperChanged.disposableOn(o)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"pointer",{get:function(){return this._pointer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraModel",{get:function(){return this._cameraModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredPlaneType",{get:function(){return this._hoveredPlaneType.value},set:function(e){this._hoveredPlaneType.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hoveredPlaneTypeChanged",{get:function(){return this._hoveredPlaneType.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movingPlaneType",{get:function(){return this._movingPlaneType.value},set:function(e){this._movingPlaneType.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"movingPlaneTypeChanged",{get:function(){return this._movingPlaneType.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circles",{get:function(){return this._circles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cartesian",{get:function(){return this._cartesian},enumerable:!1,configurable:!0}),t.prototype.getPlane=function(e){if("none"===e)throw new Error("Invalid plane type: none");return this._planes[e]},Object.defineProperty(t.prototype,"rotatorRunningResetting",{get:function(){return this._rotatorRunningResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(u.GeoRotator.type,n),t.rotationNum={heading:0,pitch:1,roll:2},t.rotationFuncs={heading:function(e){var t=l(e,3);return t[0],t[1],t[2],[0,0,0]},pitch:function(e){var t=l(e,3),n=t[0];return t[1],t[2],[n,0,-90]},roll:function(e){var t=l(e,3),n=t[0],r=t[1];return t[2],[n,r+90,0]}},t}(d.CzmObject);t.CzmGeoRotator=_},62276:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickVirtualPlane=void 0;var a,s,l=i(n(81557));t.pickVirtualPlane=function(e,t,n,r,o){o=o||new l.Cartesian3,a=a||new l.Ray,s=s||new l.Plane(l.Cartesian3.UNIT_X,0);var i=e.camera.getPickRay(r,a),c=l.Plane.fromPointNormal(t,n,s);return l.IntersectionTests.rayPlane(i,c,o)}},86887:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoVolumeMeasurement=void 0;var f=n(80468),d=n(51355),h=n(58354),y=n(80468),g=s(n(83855)),m=s(n(81557)),v=n(80468),b=n(59645),_=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=t.excavationPolylines;n.add(i),r.dispose((function(){return n.delete(i)})),i.color=[1,1,0,1],r.dispose((0,d.track)([i,"show"],[t,"show"])),i.show=!1,i.depthTest=!0;var a=t.fillPolylines;n.add(a),r.dispose((function(){return n.delete(a)})),a.color=[0,0,1,1],r.dispose((0,d.track)([a,"show"],[t,"show"])),a.show=!1;var s=r.disposeVar(new f.GeoPolygon);n.add(s),r.dispose((function(){return n.delete(s)})),r.dispose((0,d.track)([s,"show"],[t,"show"])),r.dispose((0,d.bind)([s,"allowPicking"],[t,"allowPicking"])),r.dispose((0,d.bind)([s,"editing"],[t,"editing"])),r.dispose((0,d.bind)([s,"positions"],[t,"positions"])),r.dispose((0,d.bind)([s,"depthTest"],[t,"depthTest"])),r.dispose((0,d.bind)([s,"outlineWidth"],[t,"outlineWidth"])),r.dispose((0,d.bind)([s,"outlineColor"],[t,"outlineColor"])),s.fill=!1,r.dispose(s.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new f.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.disposableOn((function(e){s.flyTo(e)})));var h,y=function(){i.positions=[],a.positions=[],t.area=0,t.cutVolume=0,t.fillVolume=0,t.cutAndFillVolume=0,i.depthTest=!0},_=r.disposeVar((0,b.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,i,a,s,l;return c(this,(function(d){switch(d.label){case 0:n=function(){if(t.positions&&t.positions.length){var e=(0,f.getMinMaxCorner)(t.positions),n=e.minPos,r=e.maxPos,o=n[0],i=n[1],a=r[0],s=r[1],l=t.positions.map((function(e){return[e[0],e[1]]})),c={type:"Polygon",coordinates:[p([],u(l),!1)]},d=[o,i,a,s],h=t.gridWidth,y={units:"meters",mask:c},v=g.pointGrid(d,h,y).features.map((function(e){return e.geometry.coordinates})),b=m.Math.toRadians;return v.map((function(e){return new m.Cartographic(b(e[0]),b(e[1]))}))}}(),r=0,i=300,a=Math.ceil(n.length/i),s=[],l=function(){var l,f,d,h,y;return c(this,(function(c){switch(c.label){case 0:return[],l=r===a-1?n.slice(r*i):n.slice(r*i,(r+1)*i),f=o.scene.sampleHeightMostDetailed(l),[4,e.promise(f)];case 1:return d=c.sent(),r===a-1?t.progress=Math.round(t.progress+100/a):t.progress+=100/a,d&&d.length&&(h=m.Math.toDegrees,y=d.map((function(e){return[h(e.longitude),h(e.latitude),e.height]})),s.push.apply(s,p([],u(y),!1))),r++,[2]}}))},d.label=1;case 1:return[5,l()];case 2:d.sent(),d.label=3;case 3:if(r<a)return[3,1];d.label=4;case 4:return s&&s.length?(t.gridPoints=s,[2]):[2]}}))}))}))),w=null;return(h=function(){if(t.positions&&t.positions.length&&t.gridPoints){var e=0,n=[],r=0,o=[];t.gridPoints.forEach((function(i){var a=t.positions;i[2]>a[0][2]?(e+=t.gridWidth*t.gridWidth*(i[2]-a[0][2]),n.push([i,[i[0],i[1],a[0][2]]])):(r+=t.gridWidth*t.gridWidth*(a[0][2]-i[2]),o.push([i,[i[0],i[1],a[0][2]]]))})),i.positions=n,a.positions=o,i.show=!0,a.show=!0,t.area=(0,v.updateArea)(t.positions),t.cutVolume=e,t.fillVolume=r,t.cutAndFillVolume=r-e,w&&clearTimeout(w),w=setTimeout((function(){i.depthTest=!1}),200)}})(),r.dispose(t.gridPointsChanged.disposableOn(h)),r.dispose((function(){return clearTimeout(w)})),(h=function(){t.positions&&t.positions.length?t.planeHeight=t.positions[0][2]:t.planeHeight=void 0})(),r.dispose(t.positionsChanged.disposableOn(h)),(h=function(){if(t.planeHeight&&t.positions&&t.positions.length){var e=JSON.parse(JSON.stringify(t.positions.slice(1)));e.unshift([t.positions[0][0],t.positions[0][1],t.planeHeight]),t.positions=e}})(),r.dispose(t.planeHeightChanged.disposableOn(h)),r.dispose(t.enableEvent.disposableOn((function(){y(),t.gridPoints=[],t.progress=0,_.restart()}))),r.dispose(t.clearEvent.disposableOn((function(){y()}))),r}var n;return o(t,e),n=t,t.type=n.register(y.GeoVolumeMeasurement.type,n),t}(h.CzmObject);t.CzmGeoVolumeMeasurement=_},5949:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(54412),t),o(n(11737),t),o(n(8835),t),o(n(42231),t),o(n(68819),t),o(n(23566),t),o(n(45632),t),o(n(79517),t),o(n(91945),t),o(n(65268),t),o(n(88412),t),o(n(43939),t),o(n(62884),t),o(n(88580),t),o(n(92745),t),o(n(46880),t),o(n(12107),t),o(n(74947),t),o(n(57479),t),o(n(62744),t),o(n(93516),t),o(n(90674),t),o(n(95704),t),o(n(12208),t),o(n(86887),t)},14910:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewCollectionTool=void 0;var i=n(80468),a=n(80468),s=n(51355),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,l=n.viewer,c=n.extensions;if(!l)return r;if(!c)return r;var u=r.disposeVar(new i.CustomDiv);n.add(u),r.dispose((function(){return n.delete(u)})),r.dispose((0,s.track)([u,"show"],[t,"show"]));var p=function(){u.instanceClass=function(e){function n(n,r,o){var i,s=this;(s=e.call(this)||this)._subContainer=n;var l=document.createElement("div"),c=function(){var e;return l.style.display=(null!==(e=r.show)&&void 0!==e?e:a.ViewCollectionTool.defaults.show)?"block":"none"};return c(),s.dispose(r.showChanged.disposableOn(c)),l.style.cssText="\n                            position: absolute;\n                            left: 0;\n                            bottom: 0;\n                            z-index: 100;\n                            width:100%;\n                            height:300px;\n                            background-color:#00212b;\n                            color:#ffffff;\n                        "+(null!==(i=t.cssText)&&void 0!==i?i:a.ViewCollectionTool.defaults.cssText),l.innerText="111111111111111111111",s._subContainer.appendChild(l),s.dispose((function(){return s._subContainer.removeChild(l)})),s}return o(n,e),n}(s.Destroyable)};p();var f=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.cssTextChanged));return r.dispose(f.disposableOn(p)),r}var n;return o(t,e),n=t,t.type=n.register(a.ViewCollectionTool.type,n),t}(n(58354).CzmObject);t.CzmViewCollectionTool=l},10259:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCameraHelper=void 0;var l=n(80468),c=n(51355),u=s(n(81557)),p=n(93442),f=n(86003),d=function(e){function t(t,n){var r=e.call(this)||this;if(r._model=r.disposeVar(new p.CzmModelPrimitive),r._geoPoint=r.disposeVar(new l.GeoPoint),r._geoAxis=r.disposeVar(new l.GeoAxis),!n.extensions)throw new Error("!czmViewer.extensions");n.add(r._model),r.dispose((function(){return n.delete(r._model)})),r._model.url="${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/camera1/camera1.gltf",r._model.localRotation=[90,0,0],r._model.allowPicking=!1,r._model.pixelSize=30,(i=function(){var e,n,o;t.position&&(r._model.position=(0,f.getCameraTargetPos)(t.position,null!==(e=t.rotation)&&void 0!==e?e:[0,0,0],null!==(n=t.viewDistance)&&void 0!==n?n:0),r._model.rotation=null!==(o=t.rotation)&&void 0!==o?o:[0,0,0])})();var o=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.rotationChanged,t.viewDistanceChanged));r.dispose(o.disposableOn(i)),(i=function(){var e=n.getCameraInfo();if(e){var t=e.position,o=r._model.position;if(o){var i=u.Cartesian3.fromDegrees(o[0],o[1],o[2]),a=u.Cartesian3.fromDegrees(t[0],t[1],t[2]),s=u.Cartesian3.distanceSquared(i,a);r._model.show=s>1}}})();var i,a=r.disposeVar((0,c.createNextAnimateFrameEvent)(n.extensions.cameraChanged,r._model.positionChanged));r.dispose(a.disposableOn(i)),n.add(r._geoAxis),r.dispose((function(){return n.delete(r._geoAxis)})),r._geoAxis.width=6,r._geoAxis.color=[1,1,0,.7],(i=function(){t.position&&r.model.position&&(r._geoAxis.startPosition=r.model.position,r._geoAxis.stopPosition=t.position)})();var s=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,r._model.positionChanged));return r.dispose(s.disposableOn(i)),r}return o(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoPoint",{get:function(){return this._geoPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoAxis",{get:function(){return this._geoAxis},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.CzmCameraHelper=d},59468:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmView=void 0;var s=n(80468),l=n(59645),c=n(58354),u=n(86003),p=n(10259),f=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.disposeVar(new l.ObjResettingWithEvent(t.showChanged,(function(){return t.show&&t.position?new p.CzmCameraHelper(t,n):void 0}))),r.dispose(t.flyToEvent.disposableOn((function(e){return r.flyTo(e)}))),r.dispose(t.resetWithCurrentCameraEvent.disposableOn((function(e){return r.resetWithCurrentCamera(e)}))),t.default&&r.flyTo(void 0,!1);var c=o.camera,f=r.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e){return i(r,void 0,void 0,(function(){var n,r,o,i,s,l;return a(this,(function(a){switch(a.label){case 0:return n=t.position,r=t.rotation,o=t.viewDistance,i=t.duration,s=void 0===i?1e3:i,n?(l=(0,u.flyTo)(c,n,o,r,s,(function(){t.enabled=!1})))?[4,e.promise(l)]:[3,2]:[3,3];case 1:a.sent(),a.label=2;case 2:t.enabled=!1,a.label=3;case 3:return[2]}}))}))})));r.dispose(t.enabledChanged.disposableOn((function(){f.isRunning&&f.cancel(),t.enabled&&f.restart()})));var d=r.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e,o,s,l){return i(r,void 0,void 0,(function(){var r,i;return a(this,(function(a){switch(a.label){case 0:return(r=n.capture(o,s,l))?[4,e.promise(r)]:[2];case 1:return i=a.sent(),t.thumbnail=i,[2]}}))}))})));return r.dispose(t.captureEvent.disposableOn((function(e,t,n){d.restart(void 0,null!=e?e:s.View.defaults.thumbnailWidth,null!=t?t:s.View.defaults.thumbnailHeight,n)}))),r}var n;return o(t,e),t.prototype.resetWithCurrentCamera=function(e){if(this.czmViewer.actived){var t=this.czmViewer.viewer;if(t){var n=this.sceneObject;e&s.View.ResetFlag.Position&&(n.position=(0,u.getCameraPosition)(t.camera)),e&s.View.ResetFlag.Rotation&&(n.rotation=(0,u.getCameraRotation)(t.camera)),e&s.View.ResetFlag.ViewDistance&&(n.viewDistance=0)}}},t.prototype.flyTo=function(e,t){if(null!=t&&!t||this.czmViewer.actived){var n=this.sceneObject,r=this.czmViewer.viewer,o=n.position,i=n.rotation,a=n.viewDistance,s=n.duration;r&&o&&(0,u.flyTo)(r.camera,o,a,i,null!=e?e:s)}},n=t,t.type=n.register(s.View.type,n),t}(c.CzmObject);t.CzmView=f},69474:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(59468),t),o(n(14910),t)},20912:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonsTools=void 0;var l=n(80468),c=n(51355),u=n(58354),p="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/buttons/button.png",f=[{imgUrl:p,title:"按钮1"},{imgUrl:p,title:"按钮2"},{imgUrl:p,title:"按钮3"},{imgUrl:p,title:"按钮4"}],d=function(e){function t(n){var r=e.call(this,n)||this;r._buttonsFnReact=r.disposeVar((0,c.react)(void 0));var i=r.disposeVar(new l.CustomDiv);r.dispose(r.components.disposableAdd(i));var a=r;r.dispose((0,c.track)([i,"show"],[r,"show"])),(s=function(){var e;try{r.buttonsFn=Function('"use strict";return ('.concat(null!==(e=r.buttonsFnStr)&&void 0!==e?e:t.defaults.buttonsFnStr,")"))()||void 0}catch(e){console.error("buttonsFn",e),r.buttonsFn=void 0}})(),r.dispose(r.buttonsFnStrChanged.disposableOn(s));var s=function(){try{i.instanceClass=function(e){function n(n,r,o){var i,s=this;if((s=e.call(this)||this)._subContainer=n,!o)return s;if(!(o instanceof u.CzmViewer))return s;var p=document.createElement("div");s._subContainer.appendChild(p),s.dispose((function(){return s._subContainer.removeChild(p)}));var f=function(){var e,n,o="display: ".concat((null!==(e=r.show)&&void 0!==e?e:t.defaults.show)?"flex":"none",";");p.style.cssText=o+(null!==(n=a.cssText)&&void 0!==n?n:t.defaults.cssText)};f();var d=s.disposeVar((0,c.createNextAnimateFrameEvent)(a.cssTextChanged,r.showChanged));return s.dispose(d.disposableOn(f)),(null!==(i=a.items)&&void 0!==i?i:t.defaults.items).forEach((function(e,n){var r=document.createElement("div");p.appendChild(r),s.dispose((function(){return p.removeChild(r)})),r.style.cursor="pointer",r.style.display="flex",r.style.flexDirection="column",r.addEventListener("click",(function(){a.buttonsFn&&a.buttonsFn(n,e)}));var o=document.createElement("div");r.appendChild(o),s.dispose((function(){return r.removeChild(o)})),o.style.padding="5px 10px",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center";var i=document.createElement("img");o.appendChild(i),s.dispose((function(){return o.removeChild(i)}));var c=function(){i.style.width="".concat(a.imgSize?a.imgSize[0]:t.defaults.imgSize[0],"px"),i.style.height="".concat(a.imgSize?a.imgSize[1]:t.defaults.imgSize[1],"px")};c(),s.dispose(a.imgSizeChanged.disposableOn(c)),i.src=l.SceneObject.context.getStrFromEnv(e.imgUrl);var u=document.createElement("div");r.appendChild(u),s.dispose((function(){return r.removeChild(u)})),u.style.width="100%",u.style.height="20px",u.style.textAlign="center",u.style.lineHeight="20px",u.style.fontSize="12px",u.style.overflow="hidden",u.innerText=e.title})),s}return o(n,e),n}(c.Destroyable)}catch(e){console.error(e)}};return s(),r.dispose(r.itemsChanged.disposableOn(s)),r.dispose((0,c.track)([i,"containerId"],[r,"containerId"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return" ButtonsTools"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonsFn",{get:function(){return this._buttonsFnReact.value},set:function(e){this._buttonsFnReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonsFnChanged",{get:function(){return this._buttonsFnReact.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("显示","显示",!0,!1,[this,"show"],t.defaults.show),new l.Number2Property("图片宽高","按钮图片宽高",!0,!1,[this,"imgSize"],t.defaults.imgSize),new l.LongStringProperty("CSS样式","CSS样式",!0,!1,[this,"cssText"],t.defaults.cssText,"\n位置位于左上角\n```\nposition: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于中间上方\n```\nposition: absolute; \nleft: 50%; \ntop: 10px; \ntransform: translate(-50%);\ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于右上角\n```\nposition: absolute; \ntop: 10px; \nright: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n\n\n"),new l.EvalStringProperty("按钮执行函数","按钮执行函数",!0,!1,[this,"buttonsFnStr"],t.defaults.buttonsFnStr),new l.JsonProperty("按钮列表","按钮列表",!0,!1,[this,"items"],t.defaults.items),new l.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"],t.defaults.containerId)])],!1)},n=t,t.type=n.register("ButtonsTools",n,{chsName:"按钮工具",tags:["CzmObjects","_ES_Impl_Cesium"],description:"按钮工具"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,items:f,buttonsFnStr:"function initButtonsTools(index, item) {\n    alert(`    \n    索引为${index},\n    图片路径为${item.imgUrl},\n    按钮名称为${item.title}`);\n}\n",cssText:"position: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \nborder: 1px solid rgb(0, 64, 82); \n",imgSize:[30,30],containerId:""}),t}(l.ESSceneObject);t.ButtonsTools=d,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:void 0,buttonsFnStr:void 0,cssText:void 0,items:(0,c.reactJsonWithUndefined)(void 0),imgSize:void 0,containerId:void 0})}}(d=t.ButtonsTools||(t.ButtonsTools={})),t.ButtonsTools=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},24880:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClippingPlanesIdResetting=void 0;var i=n(51355),a=function(e){function t(t,n){var r=e.call(this)||this;return r._czm3DTiles=t,r._czmClippingPlanes=n,r.dispose((0,i.track)([r._czm3DTiles,"clippingPlanes"],[r._czmClippingPlanes,"computedClippingPlanes"])),r.dispose((function(){return r._czm3DTiles.clippingPlanes=void 0})),r}return o(t,e),t}(i.Destroyable);t.ClippingPlanesIdResetting=a},11424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clippingPlanesMd=void 0;var r=n(93191);t.clippingPlanesMd="\n## 类型\n```\nexport type CzmClippingPlaneCollectionJsonType = {\n    planes?: CzmClippingPlaneJsonType[];\n    enabled?: boolean; // true\n    modelMatrix?: NativeNumber16Type; // Matrix4.IDENTITY\n    unionClippingRegions?: boolean; // false \n    edgeColor?: [number, number, number, number]; // Color.White\n    edgeWidth?: number; // 0\n};\n```\n## 示例\n```\n".concat(JSON.stringify(r.defaultClippingPlanes,void 0,"    "),"\n```\n")},74256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customShaderInstanceClassStrMd=void 0;var r=n(88216);t.customShaderInstanceClassStrMd="\n## 文档\nshader定义请参见文档：https://github.com/CesiumGS/cesium/tree/main/Documentation/CustomShaderGuide#customshader-documentation  \n\n## 示例1 默认纯色示例\n```\n".concat(r.defaultCustomShaderInstanceClassStr,"\n```\n\n## 示例2 数字城市示例\n```\nclass CityShaderInstance extends vtxf['xr-base-utils'].Destroyable {\n    constructor(sceneObject, viewer) {\n        super();\n\n        // Use the checkerboard red channel as a mask\n        const shader = this.disposeVar(new Cesium.CustomShader({\n            //lightingModel: Cesium.LightingModel.UNLIT,\n            fragmentShaderText: `\n                // Color tiles by distance to the camera\n                void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n                {\n                    // 可以修改的参数\n                    // 注意shader中写浮点数是，一定要带小数点，否则会报错，比如0需要写成0.0，1要写成1.0\n                    float _baseHeight = 0.0; // 物体的基础高度，需要修改成一个合适的建筑基础高度\n                    float _heightRange = 100.0; // 高亮的范围(_baseHeight ~ _baseHeight + _heightRange) 默认是 0-60米\n                    float _glowRange = 300.0; // 光环的移动范围(高度)\n\n                    // 建筑基础色\n                    float vtxf_height = fsInput.attributes.positionMC.y - _baseHeight;\n                    float vtxf_a11 = fract(czm_frameNumber / 120.0) * 3.14159265 * 2.0;\n                    float vtxf_a12 = vtxf_height / _heightRange + sin(vtxf_a11) * 0.1;\n                    material.diffuse *= vec3(vtxf_a12, vtxf_a12, vtxf_a12);\n                    material.diffuse *= vec3(0, .5, 1.);\n\n                    // 动态光环\n                    float vtxf_a13 = fract(czm_frameNumber / 360.0);\n                    float vtxf_h = clamp(vtxf_height / _glowRange, 0.0, 1.0);\n                    vtxf_a13 = abs(vtxf_a13 - 0.5) * 2.0;\n                    float vtxf_diff = step(0.005, abs(vtxf_h - vtxf_a13));\n                    material.diffuse += material.diffuse * (1.0 - vtxf_diff);\n\n                  //material.diffuse = vec3(0.0, 0.0, 1.0);\n                  //material.diffuse.g = -fsInput.attributes.positionEC.z / 1.0e4;\n                }\n                `,\n          }));\n\n        this._customShader = shader;\n    }\n\n    update() {\n        alert('暂未实现!');\n    }\n\n    get customShader() {\n        return this._customShader;\n    }\n}\n```\n")},93191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultClippingPlanes=void 0,t.defaultClippingPlanes={planes:[{normal:[1,0,0],distance:0}],enabled:!0,modelMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],unionClippingRegions:!1,edgeColor:[1,1,1,1],edgeWidth:2}},88216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCustomShaderInstanceClassStr=void 0,t.defaultCustomShaderInstanceClassStr="\n// shader定义请参见文档：https://github.com/CesiumGS/cesium/tree/main/Documentation/CustomShaderGuide#customshader-documentation\nclass CityShaderInstance extends vtxf['xr-base-utils'].Destroyable {\n    constructor(sceneObject, viewer) {\n        super();\n\n        // Use the checkerboard red channel as a mask\n        const shader = this.disposeVar(new Cesium.CustomShader({\n            lightingModel: Cesium.LightingModel.UNLIT,\n            fragmentShaderText: `\n              // Color tiles by distance to the camera\n              void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n              {\n                  material.diffuse = vec3(0.0, 0.0, 1.0);\n                  material.diffuse.g = -fsInput.attributes.positionEC.z / 1.0e4;\n              }\n              `,\n          }));\n\n        this._customShader = shader;\n    }\n\n    update() {\n        alert('暂未实现!');\n    }\n\n    get customShader() {\n        return this._customShader;\n    }\n}\n"},72436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFoveatedInterpolationCallbackStr=void 0,t.defaultFoveatedInterpolationCallbackStr="function (p, q, time) {\n    return (1.0 - time) * p + time * q;\n};"},53634:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultImageBasedLighting=void 0,t.defaultImageBasedLighting={imageBasedLightingFactor:[1,1],luminanceAtZenith:.2,sphericalHarmonicCoefficients:[[1.234709620475769,1.221461296081543,1.273156881332397],[1.135921120643616,1.171217799186707,1.287644743919373],[1.245193719863892,1.245591878890991,1.282818794250488],[-1.106930732727051,-1.112522482872009,-1.153198838233948],[-1.086226940155029,-1.079731941223145,-1.101912498474121],[1.189834713935852,1.185906887054443,1.214385271072388],[.01778045296669,.02013735473156,.025313569232821],[-1.086826920509338,-1.084611177444458,-1.111204028129578],[-.05241484940052,-.048303380608559,-.041960217058659]],specularEnvironmentMaps:""}},19155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPointCloudShading=void 0,t.defaultPointCloudShading={attenuation:!1,geometricErrorScale:1,maximumAttenuation:16,baseResolution:void 0,eyeDomeLighting:!0,eyeDomeLightingStrength:1,eyeDomeLightingRadius:1,backFaceCulling:!1,normalShading:!0}},7119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStyleJson=void 0,t.defaultStyleJson={color:"vec4(1,0,0,1)"}},33834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCzmCodeFromCzm3DTiles=void 0;var r=n(60239);t.getCzmCodeFromCzm3DTiles=function(e){if(e.url){var t=(0,r.getFinalCzm3DTilesUrlString)(e.url);return"async function createCzm3DTiles() {\n    var tileset = await Cesium.Cesium3DTileset.fromUrl(\n        ".concat(t,"\n    );\n    viewer.scene.primitives.add(tileset);\n    // viewer.flyTo(tileset);\n    return tileset;\n}\n")}}},60239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFinalCzm3DTilesUrlString=void 0;var r=n(59645);t.getFinalCzm3DTilesUrlString=function(e){var t;do{if(!e.startsWith("Ion("))break;var n=/Ion\((\d+)/.exec(e);if(!n)break;var o=n[1]&&+n[1];try{o&&(t='"await Cesium.IonResource.fromAssetId('.concat(o,'))"'))}catch(e){console.error("Ion资源未能获取到 error: ".concat(e),e);break}}while(0);return t||'"'.concat(r.SceneObject.context.getStrFromEnv(e),'"')}},41326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageBasedLightingMd=void 0;var r=n(53634);t.imageBasedLightingMd="\n## 类型\n```\nexport type CzmImageBasedLightingJsonType = {\n    imageBasedLightingFactor?: [number, number];\n    luminanceAtZenith?: number;\n    sphericalHarmonicCoefficients?: [number, number, number, number, number, number, number, number, number];\n    specularEnvironmentMaps?: string;\n}\n```\n## 示例\n```\n".concat(JSON.stringify(r.defaultImageBasedLighting,void 0,"    "),"\n```\n")},53083:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Czm3DTiles=t.getFoveatedInterpolationCallback=void 0;var d=n(80468),h=n(51355),y=n(59645),g=l(n(81557)),m=n(95315),v=n(61556),b=n(88216),_=n(74256),w=n(52835),P=n(72436),C=n(7119),O=n(93191),x=n(11424),S=n(19155),E=n(26313),j=n(53634),T=n(41326),M=n(33834),A=n(24880),I=n(80788);function z(e){var t;try{t=e&&Function('"use strict";return ('+e+")")()}catch(e){t=void 0}return t||g.Math.lerp}t.getFoveatedInterpolationCallback=z;var D=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=function(e){function t(n){var r,o=e.call(this,n)||this;o._pickedEvent=o.disposeVar(new h.Event),o._flyToEvent=o.disposeVar(new h.Event),o._customShaderInstanceClass=o.disposeVar((0,h.react)(void 0)),o._updateCustomShaderEvent=o.disposeVar(new h.Event),o._foveatedInterpolationCallback=o.disposeVar((0,h.react)(t.defaultFoveatedInterpolationCallback)),o._origin=o.disposeVar((0,h.react)(void 0)),o._czmTilesetReadyEvent=o.disposeVar(new h.Event),o._sPositionEditing=o.disposeVar(new d.PositionEditing([o,"position"],void 0,o.components)),o._czmFlattenedPlaneWithId=o.disposeVar(new y.SceneObjectWithId),o._czmFlattenedPlaneWithIdInit=o.dispose((0,h.track)([o._czmFlattenedPlaneWithId,"id"],[o,"czmFlattenedPlaneId"])),o._clippingPlanesSceneObjectWithId=o.disposeVar(new y.SceneObjectWithId),o._clippingPlanesSceneObjectWithIdInit=o.dispose((0,h.track)([o._clippingPlanesSceneObjectWithId,"id"],[o,"clippingPlanesId"])),o._clippingPlanesIdResetting=o.disposeVar(new y.ObjResettingWithEvent(o.clippingPlanesSceneObjectWithId.sceneObjectChanged,(function(){var e=o.clippingPlanesSceneObjectWithId.sceneObject;if(e&&"computedClippingPlanes"in e&&"computedClippingPlanesChanged"in e)return new A.ClippingPlanesIdResetting(o,e)}))),o._sRotationEditing=o.disposeVar(new d.RotationEditing([o,"position"],[o,"rotation"],[o,"rotationEditing"],o.components,{showHelper:!1})),o._boundingSphere=(r=o.disposeVar((0,h.reactArrayWithUndefined)(void 0)),o.dispose(o.czmTilesetReadyEvent.disposableOn((function(e){var t=e.boundingSphere;if(t){var n=t.center,r=t.radius,i=n.x,a=n.y,s=n.z;if(0!==i||0!==a||0!==s){var l=(0,v.positionFromCartesian)(n);l&&(o._boundingSphere.value=[l[0],l[1],l[2],r])}else o._boundingSphere.value=[0,0,0,-6378137]}}))),r),o._styles=o.disposeVar(new I.PriorityQueue),o._styleDirtyEvent=o.disposeVar(new h.Event);var i=o.sPositionEditing.editingRef;o.dispose(o.positionEditingChanged.disposableOn((function(e,t){o.positionEditing?(!o.position&&o.origin&&(o.position=o.origin),o.position&&(i.value=!0)):i.value=!1}))),o.dispose(o.positionChanged.disposableOn((function(e,t){e?void 0===t&&o.positionEditing&&(i.value=!0):i.value=!1}))),o.dispose(i.changed.disposableOn((function(){i.value||(o.positionEditing=!1)}))),o.dispose(o.originChanged.disposableOn((function(){o.origin&&o.positionEditing&&!o.position&&(o.position=o.origin)})));var a=function(){try{o.customShaderInstanceClass=o.customShaderInstanceClassStr&&Function('"use strict";return ('.concat(o.customShaderInstanceClassStr,")"))()}catch(e){o.customShaderInstanceClass=void 0}};return a(),o.dispose(o.customShaderInstanceClassStrChanged.disposableOn(a)),(0,d.registerEventUpdate)(o,o.foveatedInterpolationCallbackStrChanged,(function(){o.foveatedInterpolationCallback=z(o.foveatedInterpolationCallbackStr)})),o.dispose(o.urlChanged.disposableOn((function(){o._origin.value=void 0}))),o.dispose(o.czmTilesetReadyEvent.disposableOn((function(e,t){if(!o._origin.value){var n=e.root.transform,r=g.Matrix4.getTranslation(n,new g.Cartesian3),i=r.x,a=r.y,s=r.z;if(0===i&&0===a&&0===s)return;var l=g.Cartographic.fromCartesian(r,void 0,new g.Cartographic),c=l.longitude,u=l.latitude,p=l.height;o._origin.value=[180*c/Math.PI,180*u/Math.PI,p]}}))),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"Czm3DTiles"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getCzmCode=function(){return(0,M.getCzmCodeFromCzm3DTiles)(this)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){c(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:if(!(t=this.boundingSphere))return console.warn("当前数据需要从网络加载，但是目前未加载！无法获取位置，故无法飞入！"),[2];n.label=1;case 1:return h.ui.confirm?t[2]>-2e3||this.position?[3,5]:[4,h.ui.confirm("获取到的当前瓦片数据在地下2000米以下，有可能是因为数据没有指定地球上的具体位置，是否需要强制将数据放到北京再继续飞入？")]:[3,5];case 2:return n.sent()?(this.position=[116.39,39.9,0],[4,(0,y.sleep)(100)]):[3,5];case 3:n.sent(),n.label=4;case 4:n.label=5;case 5:return this._flyToEvent.emit(e),[2]}}))}))},Object.defineProperty(t.prototype,"customShaderInstanceClass",{get:function(){return this._customShaderInstanceClass.value},set:function(e){this._customShaderInstanceClass.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShaderInstanceClassChanged",{get:function(){return this._customShaderInstanceClass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateCustomShaderEvent",{get:function(){return this._updateCustomShaderEvent},enumerable:!1,configurable:!0}),t.prototype.updateCustomShader=function(e){this._updateCustomShaderEvent.emit(e)},Object.defineProperty(t.prototype,"foveatedInterpolationCallback",{get:function(){return this._foveatedInterpolationCallback.value},set:function(e){this._foveatedInterpolationCallback.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foveatedInterpolationCallbackChanged",{get:function(){return this._foveatedInterpolationCallback.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageBasedLightingFactor",{get:function(){return this.imageBasedLighting&&this.imageBasedLighting.imageBasedLightingFactor},set:function(e){this.imageBasedLighting=this.imageBasedLighting&&i(i({},this.imageBasedLighting),{imageBasedLightingFactor:e})||{imageBasedLightingFactor:e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageBasedLightingFactorChanged",{get:function(){return this.imageBasedLightingChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"luminanceAtZenith",{get:function(){return this.imageBasedLighting&&this.imageBasedLighting.luminanceAtZenith},set:function(e){this.imageBasedLighting=this.imageBasedLighting&&i(i({},this.imageBasedLighting),{luminanceAtZenith:e})||{luminanceAtZenith:e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"luminanceAtZenithChanged",{get:function(){return this.imageBasedLightingChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originChanged",{get:function(){return this._origin.changed},enumerable:!1,configurable:!0}),t.prototype.setPositionAsOrigin=function(){this.position=this.origin},Object.defineProperty(t.prototype,"czmTilesetReadyEvent",{get:function(){return this._czmTilesetReadyEvent},enumerable:!1,configurable:!0}),t.prototype.notifyCzmTilesetReady=function(e,t){this._czmTilesetReadyEvent.emit(e,t)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmFlattenedPlaneWithId",{get:function(){return this._czmFlattenedPlaneWithId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clippingPlanesSceneObjectWithId",{get:function(){return this._clippingPlanesSceneObjectWithId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sRotationEditing",{get:function(){return this._sRotationEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundingSphere",{get:function(){return this._boundingSphere.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundingSphereChanged",{get:function(){return this._boundingSphere.changed},enumerable:!1,configurable:!0}),t.prototype.openLocalDir=function(){return c(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return[4,y.defaultLocalFileServer.getRootDirId("3dtiles")];case 1:return void 0===(e=n.sent())?(console.warn("openLocalDir failed!"),[2]):(t="https://".concat(e,"/tileset.json"),this.url=t,[2])}}))}))},Object.defineProperty(t.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),t.prototype.addStyle=function(e,t){void 0===t&&(t=0),this._styles.enqueue(e,t)},t.prototype.removeStyle=function(e){this._styles.dequeue(e)},Object.defineProperty(t.prototype,"styleDirtyEvent",{get:function(){return this._styleDirtyEvent},enumerable:!1,configurable:!0}),t.prototype.makeStyleDirty=function(){this._styleDirtyEvent.emit()},t.prototype.getProperties=function(n){var r=this,o=function(e){e||alert("evalFuncStr为空，无法执行！");try{var t=e&&Function('"use strict";return ('.concat(e,")"))();r.updateCustomShader(t)}catch(e){alert("updateDivFunc error: ".concat(e))}};return f(f([],p(e.prototype.getProperties.call(this,n)),!1),[new d.GroupProperty("通用","通用",[new d.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new d.UriProperty("路径","路径",!0,!1,[this,"url"],t.defaults.url),new d.FunctionProperty("打开本地目录","打开本地目录，加载本地3dtiles数据，注意只能打开tileset.json文件所在目录",[],(function(){return r.openLocalDir()}),[]),new d.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new d.PositionProperty("位置","位置",!0,!1,[this,"position"]),new d.PositionProperty("原点","加载后自动读取瓦片数据的原点位置，为只读属性，不可修改！",!0,!0,[this,"origin"]),new d.FunctionProperty("将位置设置为原点","将位置设置为原点",[],(function(){return r.setPositionAsOrigin()}),[]),new d.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new d.RotationProperty("姿态","姿态",!1,!1,[this,"rotation"]),new d.BooleanProperty("姿态编辑","姿态编辑",!1,!1,[this,"rotationEditing"]),new d.BooleanProperty("允许拾取","允许拾取",!1,!1,[this,"allowPicking"]),new d.FunctionProperty("获取Cesium代码","获取Cesium代码",[],(function(){return console.log(r.getCzmCode())}),[])]),new d.GroupProperty("常用","常用",[new d.JsonProperty("clippingPlanes","The ClippingPlaneCollection used to selectively disable rendering the tileset.",!0,!1,[this,"clippingPlanes"],t.defaults.clippingPlanes,x.clippingPlanesMd),new d.EnumProperty("classificationType","classificationType",!0,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]],t.defaults.classificationType),new d.BooleanProperty("skipLevelOfDetail","skipLevelOfDetail",!0,!1,[this,"skipLevelOfDetail"],t.defaults.skipLevelOfDetail),new d.NumberProperty("maximumScreenSpaceError","显示精度,maximumScreenSpaceError",!0,!1,[this,"maximumScreenSpaceError"],t.defaults.maximumScreenSpaceError),new d.NumberProperty("maximumMemoryUsage","最大内存占用(单位M)，Cesium1.110以前(不含)的版本起作用",!0,!1,[this,"maximumMemoryUsage"],t.defaults.maximumMemoryUsage),new d.NumberProperty("cacheBytes","最大内存占用，超过的会自动卸载，但是视野范围内能看见的不管。单位字节。Cesium1.110(含)以后的版本起作用。",!0,!1,[this,"cacheBytes"],t.defaults.cacheBytes),new d.NumberProperty("maximumCacheOverflowBytes","最大内存占用，单位字节，超过这个数字无论什么情况绝不加载。Cesium1.110(含)以后的版本起作用。",!0,!1,[this,"maximumCacheOverflowBytes"],t.defaults.maximumCacheOverflowBytes),new d.Number2Property("imageBasedLightingFactor","散射强度 ,imageBasedLightingFactor",!0,!1,[this,"imageBasedLightingFactor"],[1,1]),new d.NumberProperty("luminanceAtZenith","材质底色 ,luminanceAtZenith",!0,!1,[this,"luminanceAtZenith"],.2)]),new d.GroupProperty("高级","高级",[new d.JsonProperty("modelMatrix","A 4x4 transformation matrix that transforms the tilesets root tile.",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix),new d.JsonProperty("styleJson","styleJson",!0,!1,[this,"styleJson"],{},w.styleMd),new d.LongStringProperty("自定义Shader","自定义Shader",!0,!1,[this,"customShaderInstanceClassStr"],b.defaultCustomShaderInstanceClassStr,_.customShaderInstanceClassStrMd),new d.FunctionProperty("更新Shader","更新Shader",["string"],o,["(customShaderInstance, sceneObject, viewer) => customShaderInstance.update && customShaderInstance.update()"])]),new d.GroupProperty("Cesium创建属性","Cesium创建属性",[new d.GroupProperty("url","url",[new d.UriProperty("url","url",!0,!1,[this,"url"],t.defaults.url),new d.BooleanProperty("show","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new d.JsonProperty("modelMatrix","A 4x4 transformation matrix that transforms the tilesets root tile.",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix),new d.EnumProperty("modelUpAxis","Which axis is considered up when loading models for tile contents.",!0,!1,[this,"modelUpAxis"],[["X","X"],["Y","Y"],["Z","Z"]],t.defaults.modelUpAxis),new d.EnumProperty("modelForwardAxis","Which axis is considered forward when loading models for tile contents.",!0,!1,[this,"modelForwardAxis"],[["X","X"],["Y","Y"],["Z","Z"]],t.defaults.modelForwardAxis),new d.EnumProperty("shadows","shadows",!0,!1,[this,"shadows"],[["DISABLED","DISABLED"],["ENABLED","ENABLED"],["CAST_ONLY","CAST_ONLY"],["RECEIVE_ONLY","RECEIVE_ONLY"]],t.defaults.shadows)]),new d.GroupProperty("maximum","maximum",[new d.NumberProperty("maximumScreenSpaceError","显示精度,maximumScreenSpaceError",!0,!1,[this,"maximumScreenSpaceError"],t.defaults.maximumScreenSpaceError),new d.NumberProperty("maximumMemoryUsage","最大内存,maximumMemoryUsage",!0,!1,[this,"maximumMemoryUsage"],t.defaults.maximumMemoryUsage),new d.NumberProperty("cacheBytes","最大内存占用，超过的会自动卸载，但是视野范围内能看见的不管。单位字节。Cesium1.110(含)以后的版本起作用。",!0,!1,[this,"cacheBytes"],t.defaults.cacheBytes),new d.NumberProperty("maximumCacheOverflowBytes","最大内存占用，单位字节，超过这个数字无论什么情况绝不加载。Cesium1.110(含)以后的版本起作用。",!0,!1,[this,"maximumCacheOverflowBytes"],t.defaults.maximumCacheOverflowBytes)]),new d.GroupProperty("cull","cull",[new d.BooleanProperty("cullWithChildrenBounds","Optimization option. Whether to cull tiles using the union of their children bounding volumes.",!0,!1,[this,"cullWithChildrenBounds"],t.defaults.cullWithChildrenBounds),new d.BooleanProperty("cullRequestsWhileMoving","Optimization option. Dont request tiles that will likely be unused when they come back because of the cameras movement. This optimization only applies to stationary tilesets.",!0,!1,[this,"cullRequestsWhileMoving"],t.defaults.cullRequestsWhileMoving),new d.NumberProperty("cullRequestsWhileMovingMultiplier","Optimization option. Multiplier used in culling requests while moving. Larger is more aggressive culling, smaller less aggressive culling.",!0,!1,[this,"cullRequestsWhileMovingMultiplier"],t.defaults.cullRequestsWhileMovingMultiplier)]),new d.GroupProperty("preload","preload",[new d.BooleanProperty("preloadWhenHidden","Preload tiles when tileset.show is false. Loads tiles as if the tileset is visible but does not render them.",!0,!1,[this,"preloadWhenHidden"],t.defaults.preloadWhenHidden),new d.BooleanProperty("preloadFlightDestinations","Optimization option. Preload tiles at the cameras flight destination while the camera is in flight.",!0,!1,[this,"preloadFlightDestinations"],t.defaults.preloadFlightDestinations),new d.BooleanProperty("preferLeaves","Optimization option. Prefer loading of leaves first.",!0,!1,[this,"preferLeaves"],t.defaults.preferLeaves)]),new d.GroupProperty("dynamic","dynamic",[new d.BooleanProperty("dynamicScreenSpaceError","Optimization option. Reduce the screen space error for tiles that are further away from the camera.",!0,!1,[this,"dynamicScreenSpaceError"],t.defaults.dynamicScreenSpaceError),new d.NumberProperty("dynamicScreenSpaceErrorDensity","Density used to adjust the dynamic screen space error, similar to fog density.",!0,!1,[this,"dynamicScreenSpaceErrorDensity"],t.defaults.dynamicScreenSpaceErrorDensity),new d.NumberProperty("dynamicScreenSpaceErrorFactor","A factor used to increase the computed dynamic screen space error.",!0,!1,[this,"dynamicScreenSpaceErrorFactor"],t.defaults.dynamicScreenSpaceErrorFactor),new d.NumberProperty("dynamicScreenSpaceErrorHeightFalloff","A ratio of the tilesets height at which the density starts to falloff.",!0,!1,[this,"dynamicScreenSpaceErrorHeightFalloff"],t.defaults.dynamicScreenSpaceErrorHeightFalloff)]),new d.NumberProperty("progressiveResolutionHeightFraction","Optimization option. If between (0.0, 0.5], tiles at or above the screen space error for the reduced screen resolution of progressiveResolutionHeightFraction*screenHeight will be prioritized first. This can help get a quick layer of tiles down while full resolution tiles continue to load.",!0,!1,[this,"progressiveResolutionHeightFraction"],t.defaults.progressiveResolutionHeightFraction),new d.GroupProperty("foveated","foveated",[new d.BooleanProperty("foveatedScreenSpaceError","Optimization option. Prioritize loading tiles in the center of the screen by temporarily raising the screen space error for tiles around the edge of the screen. Screen space error returns to normal once all the tiles in the center of the screen as determined by the Cesium3DTileset#foveatedConeSize are loaded.",!0,!1,[this,"foveatedScreenSpaceError"],t.defaults.foveatedScreenSpaceError),new d.NumberProperty("foveatedConeSize","Optimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control the cone size that determines which tiles are deferred. Tiles that are inside this cone are loaded immediately. Tiles outside the cone are potentially deferred based on how far outside the cone they are and their screen space error. This is controlled by Cesium3DTileset#foveatedInterpolationCallback and Cesium3DTileset#foveatedMinimumScreenSpaceErrorRelaxation. Setting this to 0.0 means the cone will be the line formed by the camera position and its view direction. Setting this to 1.0 means the cone encompasses the entire field of view of the camera, disabling the effect.",!0,!1,[this,"foveatedConeSize"],t.defaults.foveatedConeSize),new d.NumberProperty("foveatedMinimumScreenSpaceErrorRelaxation","Optimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control the starting screen space error relaxation for tiles outside the foveated cone. The screen space error will be raised starting with tileset value up to Cesium3DTileset#maximumScreenSpaceError based on the provided Cesium3DTileset#foveatedInterpolationCallback.",!0,!1,[this,"foveatedMinimumScreenSpaceErrorRelaxation"],t.defaults.foveatedMinimumScreenSpaceErrorRelaxation),new d.EvalStringProperty("foveatedInterpolationCallback","Cesium3DTileset.foveatedInterpolationCallback\tMath.lerp\toptionalOptimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control how much to raise the screen space error for tiles outside the foveated cone, interpolating between Cesium3DTileset#foveatedMinimumScreenSpaceErrorRelaxation and Cesium3DTileset#maximumScreenSpaceError",!0,!1,[this,"foveatedInterpolationCallbackStr"],t.defaults.foveatedInterpolationCallbackStr),new d.NumberProperty("foveatedTimeDelay","Optimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control how long in seconds to wait after the camera stops moving before deferred tiles start loading in. This time delay prevents requesting tiles around the edges of the screen when the camera is moving. Setting this to 0.0 will immediately request all tiles in any given view.",!0,!1,[this,"foveatedTimeDelay"],t.defaults.foveatedTimeDelay)]),new d.GroupProperty("skip","skip",[new d.BooleanProperty("skipLevelOfDetail","skipLevelOfDetail",!0,!1,[this,"skipLevelOfDetail"],t.defaults.skipLevelOfDetail),new d.NumberProperty("baseScreenSpaceError","When skipLevelOfDetail is true, the screen space error that must be reached before skipping levels of detail.",!0,!1,[this,"baseScreenSpaceError"],t.defaults.baseScreenSpaceError),new d.NumberProperty("skipScreenSpaceErrorFactor","When skipLevelOfDetail is true, a multiplier defining the minimum screen space error to skip. Used in conjunction with skipLevels to determine which tiles to load.",!0,!1,[this,"skipScreenSpaceErrorFactor"],t.defaults.skipScreenSpaceErrorFactor),new d.NumberProperty("skipLevels","When skipLevelOfDetail is true, a constant defining the minimum : undefined as number | undefined,// of levels to skip when loading tiles. When it is 0, no levels are skipped. Used in conjunction with skipScreenSpaceErrorFactor to determine which tiles to load.",!0,!1,[this,"skipLevels"],t.defaults.skipLevels)]),new d.GroupProperty("load","load",[new d.BooleanProperty("immediatelyLoadDesiredLevelOfDetail","When skipLevelOfDetail is true, only tiles that meet the maximum screen space error will ever be downloaded. Skipping factors are ignored and just the desired tiles are loaded.",!0,!1,[this,"immediatelyLoadDesiredLevelOfDetail"],t.defaults.immediatelyLoadDesiredLevelOfDetail),new d.BooleanProperty("loadSiblings","When skipLevelOfDetail is true, determines whether siblings of visible tiles are always downloaded during traversal.",!0,!1,[this,"loadSiblings"],t.defaults.loadSiblings)]),new d.GroupProperty("clippingPlanes","clippingPlanes",[new d.JsonProperty("clippingPlanes","The ClippingPlaneCollection used to selectively disable rendering the tileset.",!0,!1,[this,"clippingPlanes"],t.defaults.clippingPlanes,x.clippingPlanesMd),new d.StringProperty("clippingPlanesId","clippingPlanesId",!1,!1,[this,"clippingPlanesId"]),new d.BooleanProperty("absoluteClippingPlanes","absoluteClippingPlanes",!1,!1,[this,"absoluteClippingPlanes"]),new d.EnumProperty("classificationType","Determines whether terrain, 3D Tiles or both will be classified by this tileset. See Cesium3DTileset#classificationType for details about restrictions and limitations.",!0,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]],t.defaults.classificationType),new d.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new d.JsonProperty("pointCloudShading","pointCloudShading",!0,!1,[this,"pointCloudShading"],t.defaults.pointCloudShading,E.pointCloudShadingMd),new d.ColorRgbProperty("lightColor","The light color when shading models. When <code>undefined</code> the scene's light color is used instead.",!0,!1,[this,"lightColor"],t.defaults.lightColor),new d.JsonProperty("imageBasedLighting","The properties for managing image-based lighting for this tileset.",!0,!1,[this,"imageBasedLighting"],t.defaults.imageBasedLighting,T.imageBasedLightingMd),new d.BooleanProperty("backFaceCulling","backFaceCulling",!0,!1,[this,"backFaceCulling"],t.defaults.backFaceCulling),new d.BooleanProperty("enableShowOutline","enableShowOutline",!0,!1,[this,"enableShowOutline"],t.defaults.enableShowOutline),new d.BooleanProperty("showOutline","Whether to display the outline for models using the CESIUM_primitive_outline extension. When true, outlines are displayed. When false, outlines are not displayed.",!0,!1,[this,"showOutline"],t.defaults.showOutline),new d.ColorProperty("outlineColor"," outlineColor,rgba",!0,!1,[this,"outlineColor"],[1,1,1,1])]),new d.GroupProperty("vector","vector",[new d.BooleanProperty("vectorClassificationOnly","Indicates that only the tilesets vector tiles should be used for classification.",!0,!1,[this,"vectorClassificationOnly"],t.defaults.vectorClassificationOnly),new d.BooleanProperty("vectorKeepDecodedPositions","Whether vector tiles should keep decoded positions in memory. This is used with Cesium3DTileFeature.getPolylinePositions.",!0,!1,[this,"vectorKeepDecodedPositions"],t.defaults.vectorKeepDecodedPositions)]),new d.GroupProperty("feature","feature",[new d.StringProperty("featureIdLabel","featureIdLabel",!0,!1,[this,"featureIdLabel"],t.defaults.featureIdLabel),new d.StringProperty("instanceFeatureIdLabel","instanceFeatureIdLabel",!0,!1,[this,"instanceFeatureIdLabel"],t.defaults.instanceFeatureIdLabel)]),new d.GroupProperty("show","show",[new d.BooleanProperty("showCreditsOnScreen","Whether to display the credits of this tileset on screen.",!0,!1,[this,"showCreditsOnScreen"],t.defaults.showCreditsOnScreen),new d.EnumProperty("splitDirection","SplitDirection.NONE\toptionalThe SplitDirection split to apply to this tileset.",!0,!1,[this,"splitDirection"],[["LEFT","LEFT"],["NONE","NONE"],["RIGHT","RIGHT"]],t.defaults.splitDirection),new d.BooleanProperty("projectTo2D","Whether to accurately project the tileset to 2D. If this is true, the tileset will be projected accurately to 2D, but it will use more memory to do so. If this is false, the tileset will use less memory and will still render in 2D / CV mode, but its projected positions may be inaccurate. This cannot be set after the tileset has loaded.",!0,!1,[this,"projectTo2D"],t.defaults.projectTo2D)]),new d.GroupProperty("调试","调试",[new d.StringProperty("debugHeatmapTilePropertyName","The tile variable to colorize as a heatmap. All rendered tiles will be colorized relative to each others specified variable value.",!0,!1,[this,"debugHeatmapTilePropertyName"],t.defaults.debugHeatmapTilePropertyName),new d.BooleanProperty("debugFreezeFrame","For debugging only.Determines if only the tiles from last frame should be used for rendering.",!0,!1,[this,"debugFreezeFrame"],t.defaults.debugFreezeFrame),new d.BooleanProperty("debugColorizeTiles","For debugging only.When true, assigns a random color to each tile.",!0,!1,[this,"debugColorizeTiles"],t.defaults.debugColorizeTiles),new d.BooleanProperty("enableDebugWireframe","For debugging only.This must be true for debugWireframe to work for ModelExperimental in WebGL1.This cannot be set after the tileset has loaded.",!0,!1,[this,"enableDebugWireframe"],t.defaults.enableDebugWireframe),new d.BooleanProperty("debugWireframe","For debugging only.When true, render each tile content as a wireframe",!0,!1,[this,"debugWireframe"],t.defaults.debugWireframe),new d.BooleanProperty("debugShowBoundingVolume","For debugging only.When true, renders the bounding volume for each tile.",!0,!1,[this,"debugShowBoundingVolume"],t.defaults.debugShowBoundingVolume),new d.BooleanProperty("debugShowContentBoundingVolume","debugShowContentBoundingVolume.",!0,!1,[this,"debugShowContentBoundingVolume"],t.defaults.debugShowContentBoundingVolume),new d.BooleanProperty("debugShowViewerRequestVolume","For debugging only.When true, renders the viewer request volume for each tile.",!0,!1,[this,"debugShowViewerRequestVolume"],t.defaults.debugShowViewerRequestVolume),new d.BooleanProperty("debugShowGeometricError","For debugging only.When true, draws labels to indicate the geometric error of each tile.",!0,!1,[this,"debugShowGeometricError"],t.defaults.debugShowGeometricError),new d.BooleanProperty("debugShowRenderingStatistics","For debugging only.When true, draws labels to indicate the number of commands, points, triangles and features for each tile.",!0,!1,[this,"debugShowRenderingStatistics"],t.defaults.debugShowRenderingStatistics),new d.BooleanProperty("debugShowMemoryUsage","For debugging only.When true, draws labels to indicate the texture and geometry memory in megabytes used by each tile.",!0,!1,[this,"debugShowMemoryUsage"],t.defaults.debugShowMemoryUsage),new d.BooleanProperty("debugShowUrl","For debugging only.When true, draws labels to indicate the url of each tile.",!0,!1,[this,"debugShowUrl"],t.defaults.debugShowUrl)]),new d.GroupProperty("customShader","customShader",[new d.LongStringProperty("自定义Shader","自定义Shader",!0,!1,[this,"customShaderInstanceClassStr"],b.defaultCustomShaderInstanceClassStr,_.customShaderInstanceClassStrMd),new d.FunctionProperty("更新Shader","更新Shader",["string"],o,["(customShaderInstance, sceneObject, viewer) => customShaderInstance.update && customShaderInstance.update()"])]),new d.GroupProperty("压平","压平",[new d.StringProperty("czmFlattenedPlaneId","czmFlattenedPlaneId",!1,!1,[this,"czmFlattenedPlaneId"])])]),new d.GroupProperty("Cesium更新属性","Cesium更新属性",[new d.JsonProperty("styleJson","styleJson",!0,!1,[this,"styleJson"],{},w.styleMd),new d.BooleanProperty("onlyUseStyleJson","onlyUseStyleJson",!1,!1,[this,"onlyUseStyleJson"])])],!1)},n=t,t.type=n.register("Czm3DTiles",n,{chsName:"Czm3DTiles",tags:["CzmObjects","_ES_Impl_Cesium","_ES_Misc_NoEditingOnCreating"],description:"通过Cesium的Cesium3DTiles API 实现的模型。"}),t.defaultCustomShaderInstanceClassStr=b.defaultCustomShaderInstanceClassStr,t.customShaderInstanceClassStrMd=_.customShaderInstanceClassStrMd,t.styleMd=w.styleMd,t.defaultFoveatedInterpolationCallbackStr=P.defaultFoveatedInterpolationCallbackStr,t.defaultStyleJson=C.defaultStyleJson,t.defaultFoveatedInterpolationCallback=g.Math.lerp,t.defaults=i(i({},d.ESSceneObject.defaults),{url:"",show:!0,modelMatrix:D,modelUpAxis:"Y",modelForwardAxis:"X",shadows:"ENABLED",maximumScreenSpaceError:16,maximumMemoryUsage:512,cacheBytes:536870912,maximumCacheOverflowBytes:536870912,cullWithChildrenBounds:!0,cullRequestsWhileMoving:!0,cullRequestsWhileMovingMultiplier:60,preloadWhenHidden:!1,preloadFlightDestinations:!0,preferLeaves:!1,dynamicScreenSpaceError:!1,dynamicScreenSpaceErrorDensity:.00278,dynamicScreenSpaceErrorFactor:4,dynamicScreenSpaceErrorHeightFalloff:.25,progressiveResolutionHeightFraction:.3,foveatedScreenSpaceError:!0,foveatedConeSize:.1,foveatedMinimumScreenSpaceErrorRelaxation:0,foveatedTimeDelay:.2,skipLevelOfDetail:!1,baseScreenSpaceError:1024,skipScreenSpaceErrorFactor:16,skipLevels:1,immediatelyLoadDesiredLevelOfDetail:!1,loadSiblings:!1,clippingPlanes:O.defaultClippingPlanes,classificationType:"NONE",ellipsoid:m.czmEllipsoidWGS84,pointCloudShading:S.defaultPointCloudShading,lightColor:[1,1,1],imageBasedLighting:j.defaultImageBasedLighting,backFaceCulling:!0,enableShowOutline:!0,showOutline:!0,outlineColor:[1,1,1,1],vectorClassificationOnly:!1,vectorKeepDecodedPositions:!1,featureIdLabel:"featureId_0",instanceFeatureIdLabel:"instanceFeatureId_0",showCreditsOnScreen:!1,splitDirection:"NONE",projectTo2D:!1,debugHeatmapTilePropertyName:"",debugFreezeFrame:!1,debugColorizeTiles:!1,enableDebugWireframe:!1,debugWireframe:!1,debugShowBoundingVolume:!1,debugShowContentBoundingVolume:!1,debugShowViewerRequestVolume:!1,debugShowGeometricError:!1,debugShowRenderingStatistics:!1,debugShowMemoryUsage:!1,debugShowUrl:!1,customShaderInstanceClassStr:t.defaultCustomShaderInstanceClassStr,styleJson:t.defaultStyleJson,foveatedInterpolationCallbackStr:t.defaultFoveatedInterpolationCallbackStr}),t}(d.ESSceneObject);t.Czm3DTiles=N,function(e){e.createDefaultProps=function(){return i(i({},d.ESSceneObject.createDefaultProps()),{position:(0,h.reactArrayWithUndefined)(void 0),positionEditing:!1,rotation:(0,h.reactArrayWithUndefined)([0,0,0]),rotationEditing:!1,allowPicking:!1,czmFlattenedPlaneId:"",url:void 0,show:void 0,modelMatrix:(0,h.reactArrayWithUndefined)(void 0),modelUpAxis:void 0,modelForwardAxis:void 0,shadows:void 0,maximumScreenSpaceError:void 0,maximumMemoryUsage:void 0,cacheBytes:void 0,maximumCacheOverflowBytes:void 0,cullWithChildrenBounds:void 0,cullRequestsWhileMoving:void 0,cullRequestsWhileMovingMultiplier:void 0,preloadWhenHidden:void 0,preloadFlightDestinations:void 0,preferLeaves:void 0,dynamicScreenSpaceError:void 0,dynamicScreenSpaceErrorDensity:void 0,dynamicScreenSpaceErrorFactor:void 0,dynamicScreenSpaceErrorHeightFalloff:void 0,progressiveResolutionHeightFraction:void 0,foveatedScreenSpaceError:void 0,foveatedConeSize:void 0,foveatedMinimumScreenSpaceErrorRelaxation:void 0,foveatedInterpolationCallbackStr:void 0,foveatedTimeDelay:void 0,skipLevelOfDetail:void 0,baseScreenSpaceError:void 0,skipScreenSpaceErrorFactor:void 0,skipLevels:void 0,immediatelyLoadDesiredLevelOfDetail:void 0,loadSiblings:void 0,clippingPlanes:(0,h.reactJsonWithUndefined)(void 0),clippingPlanesId:"",absoluteClippingPlanes:!1,classificationType:void 0,ellipsoid:(0,h.reactArrayWithUndefined)(void 0),pointCloudShading:(0,h.reactJsonWithUndefined)(void 0),lightColor:(0,h.reactArrayWithUndefined)(void 0),imageBasedLighting:(0,h.reactJsonWithUndefined)(void 0),backFaceCulling:void 0,enableShowOutline:void 0,showOutline:void 0,outlineColor:(0,h.reactArrayWithUndefined)(void 0),vectorClassificationOnly:void 0,vectorKeepDecodedPositions:void 0,featureIdLabel:void 0,instanceFeatureIdLabel:void 0,showCreditsOnScreen:void 0,splitDirection:void 0,projectTo2D:void 0,debugHeatmapTilePropertyName:void 0,debugFreezeFrame:void 0,debugColorizeTiles:void 0,enableDebugWireframe:void 0,debugWireframe:void 0,debugShowBoundingVolume:void 0,debugShowContentBoundingVolume:void 0,debugShowViewerRequestVolume:void 0,debugShowGeometricError:void 0,debugShowRenderingStatistics:void 0,debugShowMemoryUsage:void 0,debugShowUrl:void 0,customShaderInstanceClassStr:void 0,styleJson:(0,h.reactJsonWithUndefined)(void 0),onlyUseStyleJson:!1,autoSetPositionAsOrigin:void 0})}}(N=t.Czm3DTiles||(t.Czm3DTiles={})),t.Czm3DTiles=N,(0,h.extendClassProps)(N.prototype,N.createDefaultProps)},26313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointCloudShadingMd=void 0;var r=n(19155);t.pointCloudShadingMd="\n## 类型\n```\nexport type CzmPointCloudShadingJsonType = {\n    attenuation: boolean; //\tfalse\toptionalPerform point attenuation based on geometric error.\n    geometricErrorScale: number; //\t1.0\toptionalScale to be applied to each tile's geometric error.\n    maximumAttenuation: number; //\t\toptionalMaximum attenuation in pixels. Defaults to the Cesium3DTileset's maximumScreenSpaceError.\n    baseResolution?: number; //\t\toptionalAverage base resolution for the dataset in meters. Substitute for Geometric Error when not available.\n    eyeDomeLighting: boolean; //\ttrue\toptionalWhen true, use eye dome lighting when drawing with point attenuation.\n    eyeDomeLightingStrength: number; //\t1.0\toptionalIncreasing this value increases contrast on slopes and edges.\n    eyeDomeLightingRadius: number; //\t1.0\toptionalIncrease the thickness of contours from eye dome lighting.\n    backFaceCulling: boolean; //\tfalse\toptionalDetermines whether back-facing points are hidden. This option works only if data has normals included.\n    normalShading: boolean; //\ttrue\toptionalDetermines whether a point cloud that contains normals is shaded by the scene's light source.\n}\n```\n## 示例\n```\n".concat(JSON.stringify(r.defaultPointCloudShading,void 0,"    "),"\n```\n")},52835:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleMd=void 0,t.styleMd='\n## style示例\n```\n纯色\n{\n    "color": "vec4(1,0,0,1)"\n}\n\n半透明\n{\n    "color": "vec4(1,1,1,0.5)"\n}\n\n建筑高度着色\n{\n    "color": {\n        "conditions": [\n            ["${height} >= 300", "rgba(45, 0, 75, 0.5)"],\n            ["${height} >= 200", "rgb(102, 71, 151)"],\n            ["${height} >= 100", "rgb(170, 162, 204)"],\n            ["${height} >= 50", "rgb(224, 226, 238)"],\n            ["${height} >= 25", "rgb(252, 230, 200)"],\n            ["${height} >= 10", "rgb(248, 176, 87)"],\n            ["${height} >= 5", "rgb(198, 106, 11)"],\n            ["true", "rgb(127, 59, 8)"]\n        ]\n    }\n}\n\n点云高度着色\n{\n    "color": {\n        "conditions": [\n            ["${POSITION}.z >= 10", "rgba(255,255, 0, 1)"], \n            ["true", "rgb(255, 0, 0)"]\n        ]\n    }\n}\n\n分类全透\n{\n    "color": "vec4(0,0,1,0.01)"\n}\n\n分类浅色\n{\n    "color": "vec4(0,0,1,0.1)"\n}\n```\n'},38656:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmArcgisHistoryImagery=void 0;var l=n(80468),c=n(51355),u=n(80468),p="position: absolute;\nleft:10px;\ntop:10px;\ncolor:white;\nfont-size:16px;\nwidth:105px;\nheight:21px;\nzIndex:100;\npointer-events:all;\nbackground-color:#313d51;\noverflow:hidden;\n",f=function(e){function t(t){var n=e.call(this,t)||this;return n._datesEvent=n.disposeVar(new c.Event),n._container=n.disposeVar((0,c.react)(void 0)),n._dates=n.disposeVar((0,c.react)(void 0)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmArcgisHistoryImagery"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datesEvent",{get:function(){return this._datesEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container.value},set:function(e){this._container.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dates",{get:function(){return this._dates.value},set:function(e){this._dates.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datesChanged",{get:function(){return this._dates.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying.",!1,!1,[this,"show"]),new l.BooleanProperty("是否显示ui","A boolean Property specifying.",!1,!1,[this,"showUI"]),new l.StringProperty("currentDate","currentDate",!1,!1,[this,"currentDate"]),new l.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"]),new l.LongStringProperty("ui的cssText","ui的cssText",!1,!1,[this,"cssText"])])],!1)},n=t,t.type=n.register("CzmArcgisHistoryImagery",n,{chsName:"arcgis历史影像",tags:["CzmObjects","_ES_Impl_Cesium"],description:"加载历史影像"}),t.defaults=i(i({},u.ESSceneObject.defaults),{containerId:"",cssText:p}),t}(u.ESSceneObject);t.CzmArcgisHistoryImagery=f,function(e){e.createDefaultProps=function(){return i({show:!0,showUI:!0,currentDate:"",containerId:void 0,cssText:p},u.ESSceneObject.createDefaultProps())}}(f=t.CzmArcgisHistoryImagery||(t.CzmArcgisHistoryImagery={})),t.CzmArcgisHistoryImagery=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},75551:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBackLayerCloud=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBackLayerCloud"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("slice","slice",!0,!1,[this,"slice"],t.defaults.slice),new l.NumberProperty("brightness","brightness",!0,!1,[this,"brightness"],t.defaults.brightness),new l.Number2Property("scale","scale",!0,!1,[this,"scale"],t.defaults.scale),new l.Number3Property("maximumSize","maximumSize",!0,!1,[this,"maximumSize"],t.defaults.maximumSize),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color)])],!1)},n=t,t.type=n.register("CzmBackLayerCloud",n,{chsName:"后层云",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部后层云 CloudCollection API实现。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{slice:-1,brightness:1,scale:[24,10],maximumSize:[25,9,10],color:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmBackLayerCloud=u,function(e){e.createDefaultProps=function(){return i({editing:void 0,show:void 0,slice:void 0,brightness:void 0,scale:(0,c.reactArrayWithUndefined)(void 0),position:(0,c.reactArrayWithUndefined)(void 0),maximumSize:(0,c.reactArrayWithUndefined)(void 0),color:(0,c.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(u=t.CzmBackLayerCloud||(t.CzmBackLayerCloud={})),t.CzmBackLayerCloud=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},60679:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBackLayerCloudCollection=t.cloudCollectionTypeMd=void 0;var l=n(80468),c=n(51355);t.cloudCollectionTypeMd='\n```javascript\n[\n    {\n        "slice": -1,\n        "brightness": 1,\n        "scale": [24, 10],\n        "maximumSize": [25, 9, 10],\n        "color": [1, 1, 1, 1],\n        "position": [116.9, 39.9, 100]\n    }\n]\n```\n';var u=function(e){function n(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var r;return o(n,e),Object.defineProperty(n.prototype,"typeName",{get:function(){return"CzmBackLayerCloudCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultProps",{get:function(){return n.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),n.prototype.flyTo=function(e){this._flyToEvent.emit(e)},n.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.JsonProperty("option","option",!1,!1,[this,"option"],void 0,t.cloudCollectionTypeMd)])],!1)},r=n,n.type=r.register("CzmBackLayerCloudCollection",r,{chsName:"后层云集合",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部后层云集合 CloudCollection API实现。"}),n.defaults=i(i({},l.ESSceneObject.defaults),{slice:-1,brightness:1,scale:[24,10],maximumSize:[25,9,10],color:[1,1,1,1],position:[116.9,39.9,100]}),n}(l.ESSceneObject);t.CzmBackLayerCloudCollection=u,function(e){e.createDefaultProps=function(){return i({show:!0,option:(0,c.reactJson)([])},l.ESSceneObject.createDefaultProps())}}(u=t.CzmBackLayerCloudCollection||(t.CzmBackLayerCloudCollection={})),t.CzmBackLayerCloudCollection=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},88515:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBillboard=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBillboard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("单位为米","sizeInMeters.",!0,!1,[this,"sizeInMeters"],t.defaults.sizeInMeters),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new l.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],t.defaults.heightReference),new l.EnumProperty("horizontalOrigin","CENTER | LEFT | RIGHT",!0,!1,[this,"horizontalOrigin"],[["CENTER","CENTER"],["LEFT","LEFT"],["RIGHT","RIGHT"]],t.defaults.horizontalOrigin),new l.EnumProperty("verticalOrigin",'"CENTER" | "BOTTOM" | "BASELINE" | "TOP"',!0,!1,[this,"verticalOrigin"],[["CENTER","CENTER"],["TOP","TOP"],["BOTTOM","BOTTOM"],["BASELINE","BASELINE"]],t.defaults.verticalOrigin),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"],t.defaults.distanceDisplayCondition),new l.NearFarScalerProperty("scaleByDistance","scaleByDistance",!0,!1,[this,"scaleByDistance"],t.defaults.scaleByDistance),new l.NearFarScalerProperty("translucencyByDistance","translucencyByDistance",!0,!1,[this,"translucencyByDistance"],t.defaults.translucencyByDistance),new l.NearFarScalerProperty("pixelOffsetScaleByDistance","pixelOffsetScaleByDistance",!0,!1,[this,"pixelOffsetScaleByDistance"],t.defaults.pixelOffsetScaleByDistance),new l.NumberProperty("scale","缩放",!0,!1,[this,"scale"],t.defaults.scale),new l.UriProperty("image","图片地址",!0,!1,[this,"image"],t.defaults.image),new l.NumberProperty("旋转角度","旋转角度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.Number3Property("alignedAxis","alignedAxis",!0,!1,[this,"alignedAxis"],t.defaults.alignedAxis),new l.Number2Property("pixelOffset","pixelOffset",!0,!1,[this,"pixelOffset"],t.defaults.pixelOffset),new l.Number3Property("eyeOffset","eyeOffset",!0,!1,[this,"eyeOffset"],t.defaults.eyeOffset),new l.NumberProperty("宽","width",!0,!1,[this,"width"],t.defaults.width),new l.NumberProperty("高","height",!0,!1,[this,"height"],t.defaults.height),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmBillboard",n,{chsName:"图片标绘(primitive)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部图片标绘API实现。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{image:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png",sizeInMeters:!1,editing:!0,allowPicking:!1,show:!0,color:[1,1,1,1],heightReference:"NONE",horizontalOrigin:"CENTER",verticalOrigin:"BASELINE",scaleByDistance:[0,0,1,0],translucencyByDistance:[0,0,1,0],pixelOffsetScaleByDistance:[0,0,1,0],scale:1,rotation:0,alignedAxis:[0,0,0],pixelOffset:[0,0],eyeOffset:[0,0,0],width:0,height:0,distanceDisplayCondition:[0,17976931348623157e292]}),t}(l.ESSceneObject);t.CzmBillboard=u,function(e){e.createDefaultProps=function(){return i({editing:void 0,allowPicking:void 0,show:void 0,position:(0,c.reactArrayWithUndefined)(void 0),color:(0,c.reactArrayWithUndefined)(void 0),pixelOffset:void 0,eyeOffset:(0,c.reactArrayWithUndefined)(void 0),heightReference:void 0,horizontalOrigin:void 0,verticalOrigin:void 0,scale:void 0,image:void 0,rotation:void 0,alignedAxis:(0,c.reactArrayWithUndefined)(void 0),width:void 0,height:void 0,scaleByDistance:(0,c.reactArrayWithUndefined)(void 0),translucencyByDistance:(0,c.reactArrayWithUndefined)(void 0),pixelOffsetScaleByDistance:(0,c.reactArrayWithUndefined)(void 0),sizeInMeters:void 0,distanceDisplayCondition:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmBillboard||(t.CzmBillboard={})),t.CzmBillboard=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},18478:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBillboardPrimitiveCollection=void 0;var l=n(80468),c=n(51355),u="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png",p='### 图片标绘集合示例\n更多 billboard 的属性点击下面链接去cesium官方文档查看\n\n<a href="https://cesium.com/learn/cesiumjs/ref-doc/BillboardCollection.html#add" target="_blank">cesium官方文档</a>\n```\n[\n    {\n        "position": [\n            116.4,\n            30,\n            0\n        ],\n        "scale": 2,\n        "rotation": 10,\n        "color": [\n            1,\n            0,\n            0,\n            1\n        ],\n        "image": "'.concat(u,'"\n    },\n    {\n        "position": [\n            116.4,\n            40,\n            0\n        ],\n        "rotation": 20,\n        "image": "').concat(u,'"\n    }\n]\n```\n'),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBillboardPrimitiveCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.EnumProperty("blendOption","The label blending option. The default is used for rendering both opaque and translucent labels. However, if either all of the labels are completely opaque or all are completely translucent, setting the technique to BlendOption.OPAQUE or BlendOption.TRANSLUCENT can improve performance by up to 2x.",!0,!1,[this,"blendOption"],[["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OPAQUE_AND_TRANSLUCENT","OPAQUE_AND_TRANSLUCENT"]],t.defaults.blendOption),new l.BooleanProperty("是否显示","Determines if the primitives in the collection will be shown.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("debugShowBoundingVolume","For debugging only.Determines if this primitives commands bounding spheres are shown.",!0,!1,[this,"debugShowBoundingVolume"],t.defaults.debugShowBoundingVolume),new l.JsonProperty("billboardPrimitiveOptions","图片标绘集合.",!0,!1,[this,"billboardPrimitiveOptions"],void 0,p)])],!1)},n=t,t.type=n.register("CzmBillboardPrimitiveCollection",n,{chsName:"图片标绘集合(BillboardPrimitiveCollection)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的文字标绘集合。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{blendOption:"OPAQUE",show:!0,debugShowBoundingVolume:!1}),t}(l.ESSceneObject);t.CzmBillboardPrimitiveCollection=f,function(e){e.createDefaultProps=function(){return i({show:void 0,debugShowBoundingVolume:void 0,blendOption:void 0,billboardPrimitiveOptions:void 0,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0),scale:(0,c.reactArrayWithUndefined)(void 0),localPosition:(0,c.reactArrayWithUndefined)(void 0),localRotation:(0,c.reactArrayWithUndefined)(void 0),localScale:(0,c.reactArrayWithUndefined)(void 0),localModelMatrix:(0,c.reactArrayWithUndefined)(void 0),modelMatrix:(0,c.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(f=t.CzmBillboardPrimitiveCollection||(t.CzmBillboardPrimitiveCollection={})),t.CzmBillboardPrimitiveCollection=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},74233:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBlastParticleSystem=void 0;var l=n(80468),c=n(51355),u=n(90039),p=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new c.Event);var r=n,o=n.disposeVar(new u.CzmParticleSystemPrimitive);n.dispose(n.components.disposableAdd(o));var i=n.disposeVar(l.ESSceneObject.context.createEvnStrReact([r,"image"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png"));n.dispose((0,c.bind)([o,"position"],[r,"position"])),n.dispose((0,c.bind)([o,"positionEditing"],[r,"positionEditing"])),n.dispose((0,c.bind)([o,"localPosition"],[r,"localPosition"])),n.dispose((0,c.bind)([o,"rotation"],[r,"rotation"])),o.image=i.value,o.show=!0,o.startColor=[.9686274509803922,.8745098039215686,.027450980392156862,.6],o.endColor=[.011764705882352941,0,0,.98],o.startScale=3,o.endScale=5,o.minimumParticleLife=0,o.maximumParticleLife=1,o.minimumSpeed=0,o.maximumSpeed=3,o.emissionRate=20,o.lifetime=5,o.imageSize=[2,2],o.emitter={type:"CircleEmitter",radius:1},o.sizeInMeters=!0;var a=n.disposeVar((0,c.createNextAnimateFrameEvent)(r.showChanged,r.imageStrChanged));return n.dispose(a.disposableOn((function(){var e;o.show=null===(e=r.show)||void 0===e||e,o.image=i.value}))),n.dispose(r.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBlastParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new l.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"imageStr"],u.CzmParticleSystemPrimitive.defaults.imageStr),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.Number3Property("localPosition","localPosition",!1,!1,[this,"localPosition"],[0,0,0]),new l.Number3Property("rotation","rotation,偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"],[0,0,0]),new l.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"])])],!1)},n=t,t.type=n.register("CzmBlastParticleSystem",n,{chsName:"爆炸粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"爆炸粒子特效"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,image:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png",translation:[0,0,0],rotation:[0,0,0],positionEditing:!1}),t}(l.ESSceneObject);t.CzmBlastParticleSystem=p,function(e){e.createDefaultProps=function(){return i({show:!0,imageStr:void 0,positionEditing:!1,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArray)([0,0,0]),localPosition:(0,c.reactArray)([0,0,0])},l.ESSceneObject.createDefaultProps())}}(p=t.CzmBlastParticleSystem||(t.CzmBlastParticleSystem={})),t.CzmBlastParticleSystem=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},39568:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBoxClippingPlanes=void 0;var p=n(61556),f=n(80468),d=n(51355),h=l(n(81557)),y=n(58354),g=n(91132);function m(e,t,n){var r=e,o=t,i=[[r[0],r[1],r[2]],[o[0],r[1],r[2]],[o[0],o[1],r[2]],[r[0],o[1],r[2]],[r[0],r[1],o[2]],[o[0],r[1],o[2]],[o[0],o[1],o[2]],[r[0],o[1],o[2]]],a=h.Math.toDegrees,s=i.map((function(e){var t,r=h.Matrix4.multiplyByPoint(n,(t=h.Cartesian3).fromElements.apply(t,u([],c(e),!1)),new h.Cartesian3),o=h.Cartographic.fromCartesian(r);return[a(o.longitude),a(o.latitude),o.height]}));return[[s[0],s[1],s[2],s[3],s[0]],[s[4],s[5],s[6],s[7],s[4]],[s[0],s[4]],[s[1],s[5]],[s[2],s[6]],[s[3],s[7]]]}var v=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new d.Event),n._computedClippingPlanes=n.disposeVar((0,d.react)(void 0)),n._sPositionEditing=n.disposeVar(new f.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._polylines=n.disposeVar(new g.CzmPolylinesPrimitive),n._polylinesInit=(n._polylines.arcType="NONE",void n.dispose(n.components.disposableAdd(n.polylines))),n.registerAttachedObjectForContainer((function(e){var t=new d.Destroyable;return t.dispose(n.flyToEvent.disposableOn((function(t){if(e instanceof y.CzmViewer&&e.actived)if(n.position){var r=n.minSize,o=n.maxSize,i=[o[0]-r[0],o[1]-r[1],o[2]-r[2]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);e.flyTo(n.position,2*a,void 0,t)}else console.warn("CzmBoxClippingPlanes warning: 没有位置，无法飞入！")}))),t})),n.registerAttachedObjectForContainer((function(e){var t=new d.Destroyable,r=function(){e instanceof y.CzmViewer&&(e.sceneGlobeClippingPlanes=n.applyOnTerrain&&n.computedClippingPlanes||void 0)};r();var o=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.applyOnTerrainChanged,n.computedClippingPlanesChanged));return t.dispose(o.disposableOn(r)),t}));var r=function(){var e=n.minSize,t=n.maxSize,r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],o=n.reverse?-1:1,i=u([],c(n.modelMatrix),!1),a=[];do{if(!n.position)break;var s=(0,p.computeCzmModelMatrix)({position:n.position,rotation:n.rotation});if(!s)break;var l=h.Matrix4.fromArray(n.modelMatrix),f=h.Matrix4.multiply(s,l,new h.Matrix4);h.Matrix4.toArray(f,i),a=m(n.minSize,n.maxSize,f)}while(0);n.polylines.positions=a,n._computedClippingPlanes.value={planes:[{normal:[-1*o,0,0],distance:(r[0]+e[0])*o},{normal:[1*o,0,0],distance:-e[0]*o},{normal:[0,-1*o,0],distance:(r[1]+e[1])*o},{normal:[0,1*o,0],distance:-e[1]*o},{normal:[0,0,-1*o],distance:(r[2]+e[2])*o},{normal:[0,0,1*o],distance:-e[2]*o}],enabled:n.enabled,modelMatrix:i,unionClippingRegions:!n.reverse,edgeColor:n.edgeColor,edgeWidth:n.edgeWidth}};r();var o=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.enabledChanged,n.positionChanged,n.rotationChanged,n.modelMatrixChanged,n.reverseChanged,n.edgeColorChanged,n.edgeWidthChanged,n.minSizeChanged,n.maxSizeChanged));return n.dispose(o.disposableOn(r)),n.dispose((0,d.track)([n.polylines,"color"],[n,"edgeColor"])),n.dispose((0,d.track)([n.polylines,"width"],[n,"edgeWidth"])),n.dispose((0,d.track)([n.polylines,"show"],[n,"showHelper"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBoxClippingPlanes"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"computedClippingPlanes",{get:function(){return this._computedClippingPlanes.value},set:function(e){this._computedClippingPlanes.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedClippingPlanesChanged",{get:function(){return this._computedClippingPlanes.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polylines",{get:function(){return this._polylines},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return u(u([],c(e.prototype.getProperties.call(this,n)),!1),[new f.GroupProperty("通用","通用",[new f.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new f.BooleanProperty("辅助线框","辅助线框",!1,!1,[this,"showHelper"]),new f.BooleanProperty("作用到地形","作用到地形",!1,!1,[this,"applyOnTerrain"]),new f.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new f.PositionProperty("位置","位置",!0,!1,[this,"position"],t.defaults.position),new f.PositionProperty("姿态","姿态",!1,!1,[this,"rotation"]),new f.JsonProperty("矩阵","矩阵",!1,!1,[this,"modelMatrix"],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]"),new f.BooleanProperty("reverse","reverse",!1,!1,[this,"reverse"]),new f.ColorProperty("edgeColor","edgeColor",!1,!1,[this,"edgeColor"]),new f.NumberProperty("edgeWidth","edgeWidth",!1,!1,[this,"edgeWidth"]),new f.Number3Property("minSzie","minSize",!1,!1,[this,"minSize"]),new f.Number3Property("maxSize","maxSize",!1,!1,[this,"maxSize"]),new f.JsonProperty("computedClippingPlanes","computedClippingPlanes",!1,!0,[this,"computedClippingPlanes"])])],!1)},n=t,t.type=n.register("CzmBoxClippingPlanes",n,{chsName:"CzmBoxClippingPlanes",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmBoxClippingPlanes"}),t.defaults=i(i({},f.ESSceneObject.defaults),{position:[116.39,39.9,100]}),t}(f.ESSceneObject);t.CzmBoxClippingPlanes=v,function(e){e.createDefaultProps=function(){return i(i({},f.ESSceneObject.createDefaultProps()),{enabled:!0,showHelper:!0,applyOnTerrain:!1,positionEditing:!1,position:(0,d.reactArrayWithUndefined)(void 0),rotation:(0,d.reactArray)([0,0,0]),modelMatrix:(0,d.reactArray)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),reverse:!1,edgeColor:(0,d.reactArray)([1,1,1,1]),edgeWidth:2,minSize:(0,d.reactArray)([-100,-100,-100]),maxSize:(0,d.reactArray)([100,100,100])})}}(v=t.CzmBoxClippingPlanes||(t.CzmBoxClippingPlanes={})),t.CzmBoxClippingPlanes=v,(0,d.extendClassProps)(v.prototype,v.createDefaultProps)},30658:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBoxEntity=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBoxEntity"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],t.defaults.positionEditing),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.RotationProperty("姿态","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the box.",!1,!1,[this,"show"],t.defaults.show),new l.Number3Property("尺寸","Property specifying the length, width, and height of the box.",!0,!1,[this,"dimensions"],t.defaults.dimensions),new l.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],t.defaults.heightReference),new l.BooleanProperty("是否填充"," A boolean Property specifying whether the box is filled with the provided material.",!0,!1,[this,"fill"],t.defaults.fill),new l.ColorProperty("材质"," A Property specifying the material used to fill the box.",!0,!1,[this,"material"],t.defaults.material),new l.BooleanProperty("是否显示外轮廓","A boolean Property specifying whether the box is outlined.",!0,!1,[this,"outline"],t.defaults.outline),new l.ColorProperty("外轮廓颜色","A Property specifying the {@link Color} of the outline.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NumberProperty("外轮廓宽度","A numeric Property specifying the width of the outline.",!0,!1,[this,"outlineWidth"],t.defaults.outlineWidth),new l.EnumProperty("阴影类型","An enum Property specifying whether the box casts or receives shadows from light sources.",!0,!1,[this,"shadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],t.defaults.shadows),new l.MinmaxProperty("距离限制","A Property specifying at what distance from the camera that this box will be displayed.",!0,!1,[this,"distanceDisplayCondition"],t.defaults.distanceDisplayCondition)])],!1)},n=t,t.type=n.register("CzmBoxEntity",n,{chsName:"盒子",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Entity API实现的盒子。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{positionEditing:!1,allowPicking:!1,rotation:[0,0,0],show:!0,dimensions:[1,1,1],heightReference:"NONE",fill:!0,material:[1,1,1,1],outline:!0,outlineColor:[1,1,1,1],outlineWidth:0,shadows:"ENABLED",distanceDisplayCondition:[0,17976931348623157e292]}),t}(l.ESSceneObject);t.CzmBoxEntity=u,function(e){e.createDefaultProps=function(){return i({position:(0,c.reactArrayWithUndefined)(void 0),positionEditing:void 0,allowPicking:void 0,rotation:(0,c.reactArrayWithUndefined)(void 0),show:!0,dimensions:(0,c.reactArrayWithUndefined)(void 0),heightReference:"NONE",fill:void 0,material:(0,c.reactArrayWithUndefined)(void 0),outline:void 0,outlineColor:(0,c.reactArrayWithUndefined)(void 0),outlineWidth:void 0,shadows:void 0,distanceDisplayCondition:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmBoxEntity||(t.CzmBoxEntity={})),t.CzmBoxEntity=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},17706:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCameraVideo=void 0;var p=n(80468),f=n(51355),d=n(59645),h=l(n(81557)),y=function(e){function t(t){var n,r,o,i=e.call(this,t)||this;return i._pickedEvent=i.disposeVar(new f.Event),i._flyToEvent=i.disposeVar(new f.Event),i._resetWithCameraInfoEvent=i.disposeVar(new f.Event),i._rayEditing=i.disposeVar(new p.RayEditing(i.positionReact,i.rotationReact,i.farReact,[i,"editing"],i.components)),i._sharedCzmTextureWithId=i.disposeVar(new d.SceneObjectWithId),i._sharedCzmTextureWithIdTrack=i.dispose((0,f.track)([i.sharedCzmTextureWithId,"id"],[i,"czmTextureId"])),i._fovy=i.disposeVar((0,f.react)(0)),i._fovyUpdate=(r=h.Math.toRadians,o=h.Math.toDegrees,(n=function(){var e=o(i.aspectRatio<=1?r(i.fov):2*Math.atan(Math.tan(.5*r(i.fov))/i.aspectRatio));Math.abs(e-i.fovy)<1e-5||(i.fovy=e)})(),i.dispose(i.fovChanged.disposableOn(n)),i.dispose(i.aspectRatioChanged.disposableOn(n)),(n=function(){var e=o(i.aspectRatio<=1?r(i.fovy):2*Math.atan(Math.tan(.5*r(i.fovy))*i.aspectRatio));Math.abs(e-i.fov)<1e-5||(i.fov=e)})(),void i.dispose(i.fovyChanged.disposableOn(n))),i._fovx=i.disposeVar((0,f.react)(0)),i._fovxUpdate=function(){var e,t=h.Math.toRadians,n=h.Math.toDegrees;(e=function(){var e=n(i.aspectRatio>1?t(i.fov):2*Math.atan(Math.tan(.5*t(i.fov))*i.aspectRatio));Math.abs(e-i.fovx)<1e-5||(i.fovx=e)})(),i.dispose(i.fovChanged.disposableOn(e)),i.dispose(i.aspectRatioChanged.disposableOn(e)),(e=function(){var e=n(i.aspectRatio>1?t(i.fovx):2*Math.atan(Math.tan(.5*t(i.fovx))/i.aspectRatio));Math.abs(e-i.fov)<1e-5||(i.fov=e)})(),i.dispose(i.fovxChanged.disposableOn(e))}(),i}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCameraVideo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"resetWithCameraInfoEvent",{get:function(){return this._resetWithCameraInfoEvent},enumerable:!1,configurable:!0}),t.prototype.resetWithCameraInfo=function(){this._resetWithCameraInfoEvent.emit()},Object.defineProperty(t.prototype,"rayEditing",{get:function(){return this._rayEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedCzmTextureWithId",{get:function(){return this._sharedCzmTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getCurrentCzmTexture=function(){return this._sharedCzmTextureWithId.sceneObject},Object.defineProperty(t.prototype,"fovy",{get:function(){return this._fovy.value},set:function(e){this._fovy.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fovyChanged",{get:function(){return this._fovy.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fovx",{get:function(){return this._fovx.value},set:function(e){this._fovx.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fovxChanged",{get:function(){return this._fovx.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return u(u([],c(e.prototype.getProperties.call(this,n)),!1),[new p.GroupProperty("通用","通用",[new p.BooleanProperty("显示","显示(show)",!1,!1,[this,"show"]),new p.BooleanProperty("编辑","编辑(editing)",!1,!1,[this,"editing"]),new p.PositionProperty("位置","位置(position)",!0,!1,[this,"position"],t.defaults.position),new p.RotationProperty("姿态","姿态",!1,!1,[this,"rotation"]),new p.FunctionProperty("重置","以当前相机状态重置",[],(function(){return r.resetWithCameraInfo()}),[]),new p.NumberProperty("fov","aspectRatio>1时，fov表示水平广角，否则表示纵向广角！",!1,!1,[this,"fov"]),new p.NumberProperty("fovy","纵向广角，注意本属性，不会存储到json中",!1,!1,[this,"fovy"]),new p.NumberProperty("fovx","水平广角，注意本属性，不会存储到json中",!1,!1,[this,"fovx"]),new p.NumberProperty("aspectRatio","aspectRatio",!1,!1,[this,"aspectRatio"]),new p.NumberProperty("near","near",!1,!1,[this,"near"]),new p.NumberProperty("far","far",!1,!1,[this,"far"]),new p.BooleanProperty("showHelperPrimitive","showHelperPrimitive",!1,!1,[this,"showHelperPrimitive"])]),new p.GroupProperty("czmTexture","czmTexture",[new p.StringProperty("czmTextureId","czmTextureId",!0,!1,[this,"czmTextureId"],t.defaults.czmTextureId)])],!1)},n=t,t.type=n.register("CzmCameraVideo",n,{chsName:"CzmCameraVideo",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmCameraVideo"}),t.defaults=i(i({},p.ESSceneObject.defaults),{position:[116.39,39.9,100],czmTextureId:""}),t}(p.ESSceneObject);t.CzmCameraVideo=y,function(e){e.createDefaultProps=function(){return i(i({},p.ESSceneObject.createDefaultProps()),{show:!0,editing:!1,position:(0,f.reactArrayWithUndefined)(void 0),rotation:(0,f.reactArray)([0,0,0]),fov:30,aspectRatio:1.333,near:3,far:100,showHelperPrimitive:!0,czmTextureId:void 0})}}(y=t.CzmCameraVideo||(t.CzmCameraVideo={})),t.CzmCameraVideo=y,(0,f.extendClassProps)(y.prototype,y.createDefaultProps)},32784:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCircleGroundPrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCircleGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否编辑","editing circle.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.JsonProperty("材质","A Property specifying the material used to fill the circle.",!0,!1,[this,"material"],t.defaults.material,u.CzmMaterialJsonTypeMd),new l.PositionProperty("圆心位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("半径","A numeric Property specifying the  radius of the circle.",!0,!1,[this,"radius"],t.defaults.radius),new l.NumberProperty("纹理旋转角度","纹理旋转角度",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("zIndex","zIndex",!1,!1,[this,"zIndex"])])],!1)},n=t,t.type=n.register("CzmCircleGroundPrimitive",n,{chsName:"贴地圆形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的贴地圆形。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,editing:!0,allowPicking:!1,material:{type:"Color",color:[1,1,1,.5]},radius:0,stRotation:0,ellipsoid:[6378137,6378137,6356752.314245179],granularity:1}),t}(p.ESSceneObject);t.CzmCircleGroundPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,editing:void 0,allowPicking:void 0,material:(0,c.reactJsonWithUndefined)(void 0),granularity:void 0,position:(0,c.reactArrayWithUndefined)(void 0),radius:void 0,stRotation:void 0,ellipsoid:void 0,zIndex:0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCircleGroundPrimitive||(t.CzmCircleGroundPrimitive={})),t.CzmCircleGroundPrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},30817:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCircleOutlinePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCircleOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent of the circle.",!0,!1,[this,"translucent"],t.defaults.translucent),new l.ColorProperty("轮廓颜色"," A Property specifying the color of circle.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.PositionProperty("圆心位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.NumberProperty("半径","A numeric Property specifying the  radius of the circle.",!0,!1,[this,"radius"],t.defaults.radius),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("垂直线条数","numberOfVerticalLines.",!0,!1,[this,"numberOfVerticalLines"],t.defaults.numberOfVerticalLines),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCircleOutlinePrimitive",n,{chsName:"圆形外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API实现的圆形外轮廓。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,translucent:!0,allowPicking:!1,outlineColor:[1,1,1,1],position:[0,0,0],height:0,extrudedHeight:0,radius:0,ellipsoid:[6378137,6378137,6356752.314245179],granularity:1,numberOfVerticalLines:0}),t}(p.ESSceneObject);t.CzmCircleOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:!0,translucent:void 0,allowPicking:void 0,outlineColor:(0,c.reactArrayWithUndefined)(void 0),position:(0,c.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,radius:void 0,ellipsoid:void 0,granularity:void 0,numberOfVerticalLines:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCircleOutlinePrimitive||(t.CzmCircleOutlinePrimitive={})),t.CzmCircleOutlinePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},90445:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCirclePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCirclePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.JsonProperty("材质","A Property specifying the material used to fill the circle.",!1,!1,[this,"material"],void 0,u.CzmMaterialJsonTypeMd),new l.PositionProperty("圆心位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.NumberProperty("半径","A numeric Property specifying the  radius of the circle.",!0,!1,[this,"radius"],t.defaults.radius),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCirclePrimitive",n,{chsName:"常规圆形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API实现的常规圆形。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,allowPicking:!1,translucent:!0,outlineColor:[1,1,1,1],position:[0,0,0],height:0,extrudedHeight:0,radius:0,stRotation:0,ellipsoid:[6378137,6378137,6356752.314245179],granularity:1}),t}(p.ESSceneObject);t.CzmCirclePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,material:(0,c.reactJson)({type:"Color"}),position:(0,c.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,radius:void 0,stRotation:void 0,ellipsoid:void 0,granularity:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCirclePrimitive||(t.CzmCirclePrimitive={})),t.CzmCirclePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},12003:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClassicNavigator=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClassicNavigator"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("指北针可见性","指北针可见性",!1,!1,[this,"showCompass"]),new l.JsonProperty("指北针css样式","指北针css样式",!1,!1,[this,"compassStyle"],void 0,t.compassStyleReadMe),new l.BooleanProperty("比例尺可见性","比例尺可见性",!1,!1,[this,"showDistanceLegend"]),new l.JsonProperty("比例尺css样式","比例尺css样式",!1,!1,[this,"distanceLegendStyle"],void 0,t.distanceLegendStyleReadMe)])],!1)},n=t,t.type=n.register("CzmClassicNavigator",n,{chsName:"经典导航",tags:["CzmObjects","_ES_Impl_Cesium"],description:"经典指北针和比例尺，注意该场景对象只能有一个，不能有多个，会相互影响！"}),t.compassStyleReadMe="compassStyle的配置形式如下: [left, top, right, bottom], 如果每一项不进行配置，需要设置为null，例如[null, 18, 18, null]",t.distanceLegendStyleReadMe="distanceLegendStyle的配置形式如下: [left, top, right, bottom], 如果每一项不进行配置，需要设置为null，例如[null, null, 18, 18]",t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmClassicNavigator=u,function(e){e.createDefaultProps=function(){return i({showCompass:!1,compassStyle:(0,c.reactArray)([void 0,18,18,void 0]),showDistanceLegend:!1,distanceLegendStyle:(0,c.reactArray)([void 0,void 0,18,18])},l.ESSceneObject.createDefaultProps())}}(u=t.CzmClassicNavigator||(t.CzmClassicNavigator={})),t.CzmClassicNavigator=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},45541:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClassificationPolygonPrimitive=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClassificationPolygonPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){if(this.polygonHierarchy)return(0,l.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new l.BooleanProperty("是否关闭顶部","是否关闭顶部.",!0,!1,[this,"closeTop"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new l.EnumProperty("classificationType","classificationType",!1,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmClassificationPolygonPrimitive",n,{chsName:"常规多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的多边形。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{color:[1,1,1,.5]}),t}(l.ESSceneObject);t.CzmClassificationPolygonPrimitive=u,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,arcType:void 0,color:(0,c.reactArrayWithUndefined)(void 0),stRotation:void 0,polygonHierarchy:(0,c.reactJson)({positions:[]}),height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0,closeTop:void 0,closeBottom:void 0,classificationType:"BOTH"},l.ESSceneObject.createDefaultProps())}}(u=t.CzmClassificationPolygonPrimitive||(t.CzmClassificationPolygonPrimitive={})),t.CzmClassificationPolygonPrimitive=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},53347:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClippingPlanes=void 0;var p=n(61556),f=n(80468),d=n(51355),h=n(59645),y=l(n(81557)),g=n(49006),m=n(61546),v=function(e){function t(t,n){var r,o=e.call(this)||this;o._czmClippingPlanes=t,o._planeIds=n,o._centerMatrix=o.disposeVar((0,d.react)(void 0)),o._inverseCenterMatrix=o.disposeVar((0,d.react)(void 0)),o._czmPlaneWrappers=o._planeIds.map((function(e){return o.disposeVar(new _(o,e))})),o._czmPlaneWrappersChanged=o.disposeVar((0,d.createNextAnimateFrameEvent)()),o._computedPlanesChanged=o.disposeVar((0,d.createNextAnimateFrameEvent)()),(r=function(){var e=void 0,t=void 0;do{var n=o._czmPlaneWrappers.filter((function(e){return e.position&&e.rotation}));if(0===n.length)break;var r=n.map((function(e){return e.position})),i=(0,f.getMinMaxCorner)(r);if(!(e=(0,p.computeCzmModelMatrix)({position:i.center})))break;t=y.Matrix4.inverseTransformation(e,new y.Matrix4)}while(0);o.centerMatrix=e,o.inverseCenterMatrix=t})(),o.dispose(o.czmPlaneWrappersChanged.disposableOn(r)),(r=function(){if(o.centerMatrix){var e=y.Matrix4.toArray(o.centerMatrix),t=o._czmPlaneWrappers.filter((function(e){return!!e.computedPlane})).map((function(e){return e.computedPlane}));o._czmClippingPlanes.computedClippingPlanes={planes:t,enabled:o._czmClippingPlanes.enabled,modelMatrix:e,unionClippingRegions:o._czmClippingPlanes.unionClippingRegions,edgeColor:o._czmClippingPlanes.edgeColor,edgeWidth:o._czmClippingPlanes.edgeWidth}}else o._czmClippingPlanes.computedClippingPlanes=void 0})();var i=o.disposeVar((0,d.createNextAnimateFrameEvent)(o._czmClippingPlanes.enabledChanged,o.centerMatrixChanged,o.inverseCenterMatrixChanged,o.computedPlanesChanged,o._czmClippingPlanes.unionClippingRegionsChanged,o._czmClippingPlanes.edgeColorChanged,o._czmClippingPlanes.edgeWidthChanged));return o.dispose(i.disposableOn(r)),o}return o(t,e),Object.defineProperty(t.prototype,"centerMatrix",{get:function(){return this._centerMatrix.value},set:function(e){this._centerMatrix.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerMatrixChanged",{get:function(){return this._centerMatrix.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inverseCenterMatrix",{get:function(){return this._inverseCenterMatrix.value},set:function(e){this._inverseCenterMatrix.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inverseCenterMatrixChanged",{get:function(){return this._inverseCenterMatrix.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmPlaneWrappers",{get:function(){return this._czmPlaneWrappers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmPlaneWrappersChanged",{get:function(){return this._czmPlaneWrappersChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedPlanesChanged",{get:function(){return this._computedPlanesChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmClippingPlanes",{get:function(){return this._czmClippingPlanes},enumerable:!1,configurable:!0}),t}(d.Destroyable),b=function(e){function t(t,n){var r=e.call(this)||this;return r._czmPlaneWrapper=t,r._czmPlane=n,r._czmPlaneWrapper.position=r._czmPlane.position,r.dispose((function(){return r._czmPlaneWrapper.position=void 0})),r.dispose((0,d.track)([r._czmPlaneWrapper,"position"],[r._czmPlane,"position"])),r._czmPlaneWrapper.rotation=r._czmPlane.rotation,r.dispose((function(){return r._czmPlaneWrapper.rotation=[0,0,0]})),r.dispose((0,d.track)([r._czmPlaneWrapper,"rotation"],[r._czmPlane,"rotation"])),r}return o(t,e),t}(d.Destroyable),_=function(e){function t(t,n){var r=e.call(this)||this;r._planesResetting=t,r._planeId=n,r._sowi=r.disposeVar(new h.SceneObjectWithId),r._sowiInit=void(r._sowi.id=r._planeId),r._position=r.disposeVar((0,d.reactArrayWithUndefined)(void 0)),r._rotation=r.disposeVar((0,d.reactArray)([0,0,0])),r._resetting=r.disposeVar(new h.ObjResettingWithEvent(r.sowi.sceneObjectChanged,(function(){var e=r.sowi.sceneObject;if(e&&e instanceof g.CzmPlane)return new b(r,e)}))),r._computedPlane=r.disposeVar((0,d.reactJson)(void 0)),r.dispose(r.positionChanged.disposableOn((function(){return r._planesResetting.czmPlaneWrappersChanged.next()}))),r.dispose(r.rotationChanged.disposableOn((function(){return r._planesResetting.czmPlaneWrappersChanged.next()})));var o=function(){var e=void 0;do{var t=r._planesResetting.inverseCenterMatrix;if(!t)break;var n=r,o=n.position,i=n.rotation;if(!o)break;var a=(0,p.computeCzmModelMatrix)({position:o,rotation:i});if(!a)break;var s=y.Matrix4.multiply(t,a,new y.Matrix4),l=new y.Cartesian3(s[4],s[5],s[6]),c=new y.Cartesian3(s[12],s[13],s[14]);y.Cartesian3.normalize(l,l);var u=-y.Cartesian3.dot(l,c),f=[l.x,l.y,l.z];r._planesResetting.czmClippingPlanes.reverseNormal&&(m.Vector.negate(f,f),u=-u),e={normal:f,distance:u}}while(0);r.computedPlane=e};o();var i=r.disposeVar((0,d.createNextAnimateFrameEvent)(r._planesResetting.inverseCenterMatrixChanged,r.positionChanged,r.rotationChanged,r._planesResetting.czmClippingPlanes.reverseNormalChanged));return r.dispose(i.disposableOn(o)),r.dispose(r.computedPlaneChanged.disposableOn((function(){return r._planesResetting.computedPlanesChanged.next()}))),r}return o(t,e),Object.defineProperty(t.prototype,"sowi",{get:function(){return this._sowi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position.value},set:function(e){this._position.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionChanged",{get:function(){return this._position.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation.value},set:function(e){this._rotation.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationChanged",{get:function(){return this._rotation.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedPlane",{get:function(){return this._computedPlane.value},set:function(e){this._computedPlane.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedPlaneChanged",{get:function(){return this._computedPlane.changed},enumerable:!1,configurable:!0}),t}(d.Destroyable),w=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new d.Event),n._computedClippingPlanes=n.disposeVar((0,d.react)(void 0)),n._planesResetting=n.disposeVar(new h.ObjResettingWithEvent(n.planeIdsChanged,(function(){return new v(n,n.planeIds)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClippingPlanes"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"computedClippingPlanes",{get:function(){return this._computedClippingPlanes.value},set:function(e){this._computedClippingPlanes.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedClippingPlanesChanged",{get:function(){return this._computedClippingPlanes.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return u(u([],c(e.prototype.getProperties.call(this,t)),!1),[new f.GroupProperty("通用","通用",[new f.BooleanProperty("enabled","enabled",!1,!1,[this,"enabled"]),new f.StringsProperty("planeIds","planeIds",!1,!1,[this,"planeIds"]),new f.BooleanProperty("reverseNormal","reverseNormal",!1,!1,[this,"reverseNormal"]),new f.BooleanProperty("unionClippingRegions","unionClippingRegions",!1,!1,[this,"unionClippingRegions"]),new f.ColorProperty("edgeColor","edgeColor",!1,!1,[this,"edgeColor"]),new f.NumberProperty("edgeWidth","edgeWidth",!1,!1,[this,"edgeWidth"]),new f.JsonProperty("computedClippingPlanes","computedClippingPlanes",!1,!0,[this,"computedClippingPlanes"])])],!1)},n=t,t.type=n.register("CzmClippingPlanes",n,{chsName:"CzmClippingPlanes",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmClippingPlanes"}),t.defaults=i({},f.ESSceneObject.defaults),t}(f.ESSceneObject);t.CzmClippingPlanes=w,function(e){e.createDefaultProps=function(){return i(i({},f.ESSceneObject.createDefaultProps()),{enabled:!0,planeIds:(0,d.reactArray)([]),reverseNormal:!1,unionClippingRegions:!0,edgeColor:(0,d.reactArray)([1,1,1,1]),edgeWidth:2})}}(w=t.CzmClippingPlanes||(t.CzmClippingPlanes={})),t.CzmClippingPlanes=w,(0,d.extendClassProps)(w.prototype,w.createDefaultProps)},94914:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClock=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("启用","启用",!0,!1,[this,"enabled"],t.defaults.enabled),new l.DateProperty("开始时间","开始时间",!0,!1,[this,"startTime"],t.defaults.startTime),new l.DateProperty("结束时间","结束时间",!0,!1,[this,"stopTime"],t.defaults.stopTime),new l.DateProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("倍速","倍速.",!0,!1,[this,"multiplier"],t.defaults.multiplier),new l.EnumProperty("clockStep","clockStep",!0,!1,[this,"clockStep"],[["TICK_DEPENDENT","TICK_DEPENDENT"],["SYSTEM_CLOCK_MULTIPLIER","SYSTEM_CLOCK_MULTIPLIER"],["SYSTEM_CLOCK","SYSTEM_CLOCK"]],t.defaults.clockStep),new l.EnumProperty("clockRange","clockRange",!0,!1,[this,"clockRange"],[["UNBOUNDED","UNBOUNDED"],["CLAMPED","CLAMPED"],["LOOP_STOP","LOOP_STOP"]],t.defaults.clockRange),new l.BooleanProperty("是否启用动画","是否启用动画",!0,!1,[this,"shouldAnimate"],t.defaults.shouldAnimate)])],!1)},n=t,t.type=n.register("CzmClock",n,{chsName:"时钟",tags:["CzmObjects","_ES_Impl_Cesium"],description:"绘制时钟。"}),t.defaults=i(i({},u.ESSceneObject.defaults),{enabled:!1,startTime:function(){return Date.now()},stopTime:function(){return Date.now()+864e5},currentTime:function(){return Date.now()},multiplier:1,clockStep:"SYSTEM_CLOCK_MULTIPLIER",clockRange:"UNBOUNDED",shouldAnimate:!1}),t}(u.ESSceneObject);t.CzmClock=p,function(e){e.createDefaultProps=function(){return i({enabled:void 0,startTime:void 0,stopTime:void 0,currentTime:void 0,multiplier:void 0,clockStep:void 0,clockRange:void 0,shouldAnimate:void 0},u.ESSceneObject.createDefaultProps())}}(p=t.CzmClock||(t.CzmClock={})),t.CzmClock=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},5467:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmColumnar=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],void 0,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmColumnar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("show","是否显示",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("editing","editing",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("outline","是否显示outline",!0,!1,[this,"outline"],t.defaults.outline),new l.NumberProperty("高度","height",!0,!1,[this,"height"],t.defaults.height),new l.JsonProperty("位置数组","positions",!0,!1,[this,"positions"],t.defaults.positions),new l.ColorProperty("颜色","material",!0,!1,[this,"material"],t.defaults.material),new l.ColorProperty("轮廓线颜色","outlineColor",!0,!1,[this,"outlineColor"],t.defaults.outlineColor)])],!1)},n=t,t.type=n.register("CzmColumnar",n,{chsName:"包围体(底面不共面)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"czm绘制底面不共面体"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,editing:!1,positions:void 0,height:50,outline:!1,material:[1,1,1,1],outlineColor:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmColumnar=u,function(e){e.createDefaultProps=function(){return i({show:void 0,editing:void 0,positions:(0,c.reactPositions)(void 0),height:void 0,outline:void 0,material:(0,c.reactArrayWithUndefined)(void 0),outlineColor:(0,c.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(u=t.CzmColumnar||(t.CzmColumnar={})),t.CzmColumnar=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},32707:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCoplanarPolygonPrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCoplanarPolygonPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return this.polygonHierarchy?(0,l.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name):{}},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaluts.allowPicking),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaluts.show),new l.JsonProperty("材质","A Property specifying the material.",!0,!1,[this,"material"],t.defaluts.material,l.CzmMaterialJsonTypeMd),new l.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"],t.defaluts.polygonHierarchy,t.polygonHierarchyMd),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaluts.stRotation),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCoplanarPolygonPrimitive",n,{chsName:"共面多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的多边形。"}),t.defaluts={allowPicking:!1,show:!0,polygonHierarchy:{positions:[]},stRotation:0,material:{type:"Color",color:[1,1,1,.5]}},t.polygonHierarchyMd='\n类型说明：\n```javascript\n\ntype PolygonHierarchyType = {\n    positions: [number, number, number][],\n    holes?: PolygonHierarchyType[],\n}\n\n```\n\npolygonHierarchy是一个内部包含三个元素的数组，表示经纬度高度。示例代码如下：\n```\n\n{\n    "positions": [\n        [\n            93.19429118627504,\n            61.48556372186203,\n            12824.544175304914\n        ],\n        [\n            71.62096868744942,\n            47.45924012009615,\n            0.7280036300965961\n        ],\n        [\n            88.38946536737586,\n            37.829583176316866,\n            0.3838874167831524\n        ],\n        [\n            107.9427992944273,\n            38.334598753898184,\n            -0.7953822805248424\n        ],\n        [\n            127.5326036793715,\n            48.94155332924799,\n            1024.1092355217022\n        ]\n    ]\n}\n\n```\n',t}(u.ESSceneObject);t.CzmCoplanarPolygonPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,polygonHierarchy:(0,c.reactJsonWithUndefined)(void 0),stRotation:void 0,material:(0,c.reactJsonWithUndefined)(void 0)},u.ESSceneObject.createDefaultProps())}}(p=t.CzmCoplanarPolygonPrimitive||(t.CzmCoplanarPolygonPrimitive={})),t.CzmCoplanarPolygonPrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},18500:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCursorInfo=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCursorInfo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.cursorPosition,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.cursorPosition=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"],t.defaults.enabled),new l.Number3Property("光标三维位置","光标三维位置",!0,!0,[this,"cursorPosition"]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCursorInfo",n,{chsName:"Czm光标信息",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Czm光标信息"}),t.defaults=i(i({},p.ESSceneObject.defaults),{enabled:!0}),t}(p.ESSceneObject);t.CzmCursorInfo=f,function(e){e.createDefaultProps=function(){return i({enabled:void 0,cursorPosition:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCursorInfo||(t.CzmCursorInfo={})),t.CzmCursorInfo=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},7878:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCustomGroundRectangle=void 0;var l=n(80468),c=n(51355),u=n(59645),p=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new c.Event),r._flyToEvent=r.disposeVar(new c.Event),r._sharedCzmTextureWithId=r.disposeVar(new u.SceneObjectWithId),r.__sharedCzmTextureWithIdTrack=r.dispose((0,c.track)([r.sharedCzmTextureWithId,"id"],[r,"czmTextureId"])),r._positions=r.disposeVar((0,c.reactPositions)(void 0)),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!1,[r,"editing"],r.components,2)),r._pointEditor=r.disposeVar(new l.PointEditing([r,"positions"],[r,"pointEditing"],r.components));var o=!1,i=function(){if(o){var e;do{var t=r.positions;if(!t)break;if(t.length<2)break;e=[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}while(0);r.rectangle=e}},a=function(){var e,n,a;(null!==(e=r.editing)&&void 0!==e?e:t.defaults.editing)||(null!==(n=r.pointEditing)&&void 0!==n?n:t.defaults.pointEditing)?(a=r.rectangle,r.positions=a?[[a[0],a[1],0],[a[2],a[3],0]]:void 0,o=!0,i()):(i(),o=!1,r.positions=void 0)};return r.dispose(r.editingChanged.disposableOn(a,void 0,!0)),r.dispose(r.pointEditingChanged.disposableOn(a,void 0,!0)),r.dispose(r.positionsChanged.disposableOn(i)),r.dispose((function(){return r.editing=!1})),r.dispose((function(){return r.pointEditing=!1})),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCustomGroundRectangle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sharedCzmTextureWithId",{get:function(){return this._sharedCzmTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getCurrentCzmTexture=function(){return this._sharedCzmTextureWithId.sceneObject},Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions.value},set:function(e){this._positions.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionsChanged",{get:function(){return this._positions.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("显示","显示",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("编辑","编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("单点编辑","单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new l.Number4Property("rectangle","rectangle",!0,!1,[this,"rectangle"],t.defaults.rectangle),new l.NumberProperty("rotation","rotation",!1,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation",!1,!1,[this,"stRotation"]),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new l.EnumProperty("classificationType","classificationType",!1,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]]),new l.NumberProperty("zIndex","zIndex",!1,!1,[this,"zIndex"])]),new l.GroupProperty("czmTexture","czmTexture",[new l.StringProperty("czmTextureId","czmTextureId",!0,!1,[this,"czmTextureId"],t.defaults.czmTextureId)])],!1)},n=t,t.type=n.register("CzmCustomGroundRectangle",n,{chsName:"Cesium自定义贴地矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium自定义贴地矩形"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!1,editing:!1,pointEditing:!1,positions:[],rectangle:[119.39,39.9,120.39,40.9],color:[1,1,1,1],classificationType:"Both",czmTextureId:""}),t}(l.ESSceneObject);t.CzmCustomGroundRectangle=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,pointEditing:void 0,rectangle:(0,c.reactArrayWithUndefined)(void 0),rotation:0,stRotation:0,color:(0,c.reactArrayWithUndefined)(void 0),classificationType:"BOTH",czmTextureId:void 0,zIndex:0},l.ESSceneObject.createDefaultProps())}}(p=t.CzmCustomGroundRectangle||(t.CzmCustomGroundRectangle={})),t.CzmCustomGroundRectangle=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},5137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDsIndexTypedArray=t.defaultDsAttribute=t.defaultIndexTypedArray=t.defaultAttribute=t.defaultUniformMap=t.defaultRenderState=t.defaultBoundingVolume=t.defaultFragmentShaderSource=t.defaultVertexShaderSource=void 0,t.defaultVertexShaderSource="in vec3 position;\nin vec3 normal;\nin vec2 st;\nout vec3 v_normalEC;\nout vec2 v_st;\nvoid main()\n{\n    // 如果这一句注释，要相应地注释掉attribute中的normal，也就是说顶点属性要和shader中的一一匹配！\n    v_normalEC = czm_normal * normal; \n    v_st = st;\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n",t.defaultFragmentShaderSource="in vec2 v_st;\nuniform sampler2D u_image;\nuniform vec4 u_color;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor * u_color;\n}\n",t.defaultBoundingVolume={type:"LocalAxisedBoundingBox",data:{min:[0,-1,0],max:[1,0,0]}},t.defaultRenderState={depthTest:{enabled:!0},cull:{enabled:!0,face:1029},depthMask:!1,blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}},t.defaultUniformMap={u_image:{type:"image",uri:""},u_color:[1,1,0,1]},t.defaultAttribute={position:{typedArray:new Float32Array([0,0,0,0,-1,0,1,-1,0,0,0,0,1,-1,0,1,0,0]),componentsPerAttribute:3},normal:{typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array([0,1,0,0,1,0,0,1,1,0,1,1]),componentsPerAttribute:2}},t.defaultIndexTypedArray=new Uint16Array([0,1,2,3,4,5]),t.defaultDsAttribute={position:{typedArray:new Float32Array([0,0,0,0,-1,0,1,-1,0,0,0,0,1,-1,0,1,0,0,0,0,0,0,-1,0,1,-1,0,0,0,0,1,-1,0,1,0,0]),componentsPerAttribute:3},normal:{typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1]),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array([0,1,0,0,1,0,0,1,1,0,1,1,1,1,1,0,0,0,1,1,0,0,0,1]),componentsPerAttribute:2}},t.defaultDsIndexTypedArray=new Uint16Array([0,1,2,3,4,5,8,7,6,11,10,9])},18808:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.triangleIndicesToLine=t.indexJsonToIndex=t.indexToIndexJson=t.attributesJsonToAttributes=t.attributesToAttributesJson=void 0,t.attributesToAttributesJson=function(e){var t,n,a={};try{for(var s=r(Object.keys(e)),l=s.next();!l.done;l=s.next()){var c=l.value,u=e[c],p=u.typedArray,f=u.componentsPerAttribute,d=u.usage,h=u.normalize;a[c]={typedArray:{type:p.constructor.name,array:i([],o(p.values()),!1)},componentsPerAttribute:f,usage:d,normalize:h}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},t.attributesJsonToAttributes=function(e){var t,o,i={};try{for(var a=r(Object.keys(e)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l],u=c.typedArray,p=u.type,f=u.array,d=c.componentsPerAttribute,h=c.usage,y=c.normalize;i[l]={typedArray:new n.g[p](f),componentsPerAttribute:d,usage:h,normalize:y}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}return i},t.indexToIndexJson=function(e){return{type:e.constructor.name,array:i([],o(e.values()),!1)}},t.indexJsonToIndex=function(e){var t=e.type,r=e.array;return new n.g[t](r)},t.triangleIndicesToLine=function(e){e.length%3!=0&&console.warn("当前传入的索引不是3的倍数，可能不是三角片的索引！当前索引数是".concat(e.length));for(var t=e.length/3|0,n=new Array(6*t),r=0;r<t;++r)n[6*r+0]=e[3*r+0],n[6*r+1]=e[3*r+1],n[6*r+2]=e[3*r+2],n[6*r+3]=e[3*r+1],n[6*r+4]=e[3*r+2],n[6*r+5]=e[3*r+0];return n}},44075:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCustomPrimitive=void 0;var l=n(80468),c=n(80468),u=n(51355),p=n(5137),f=n(18808),d=n(68278),h=n(84110),y=function(e){function t(t){var n=e.call(this,t)||this;return n._attributes=n.disposeVar((0,u.react)(void 0)),n._indexTypedArray=n.disposeVar((0,u.react)(void 0)),n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sceneScaleEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._sRotationEditing=n.disposeVar(new l.RotationEditing([n,"position"],[n,"rotation"],[n,"rotationEditing"],n.components,{showHelper:!1})),n._sPrsEditing=n.disposeVar(new l.PrsEditing([n,"position"],[n,"rotation"],[n,"editing"],n,{rotation:{showHelper:!1}})),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCustomPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){var e=this._innerGetJson();return e.attributes=this.attributesJson,e.indexTypedArray=this.indexTypedArrayJson,e},set:function(e){this._innerSetJson(e),this.attributesJson=e.attributes,this.indexTypedArrayJson=e.indexTypedArray},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesJson",{get:function(){return this.attributes&&(0,f.attributesToAttributesJson)(this.attributes)},set:function(e){JSON.stringify(this.attributesJson)!==JSON.stringify(e)&&(this.attributes=e&&(0,f.attributesJsonToAttributes)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesJsonChanged",{get:function(){return this.attributesChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArrayJson",{get:function(){return this.indexTypedArray&&(0,f.indexToIndexJson)(this.indexTypedArray)},set:function(e){JSON.stringify(this.indexTypedArrayJson)!==JSON.stringify(e)&&(this.indexTypedArray=e&&(0,f.indexJsonToIndex)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArrayJsonChanged",{get:function(){return this.indexTypedArrayChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this._attributes.value},set:function(e){this._attributes.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesChanged",{get:function(){return this._attributes.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArray",{get:function(){return this._indexTypedArray.value},set:function(e){this._indexTypedArray.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArrayChanged",{get:function(){return this._indexTypedArray.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sceneScaleEvent",{get:function(){return this._sceneScaleEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sRotationEditing",{get:function(){return this._sRotationEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPrsEditing",{get:function(){return this._sPrsEditing},enumerable:!1,configurable:!0}),t.prototype.setUniformMap=function(e){var t;if(!Object.entries(e).some((function(e){var t=a(e,2),n=t[0],r=t[1];return console.warn("setUniformMap error: key: ".concat(n," value: ").concat(r)),null===r}))){var n=i(i({},null!==(t=this.uniformMap)&&void 0!==t?t:{}),e);this.uniformMap=n}},t.prototype.setLocalBoundingSphere=function(e,t){void 0===t&&(t=[0,0,0]),!Number.isFinite(e)||e<=0?console.warn("!Number.isFinite(radius) || radius <= 0 radius: ".concat(e)):this.boundingVolume={type:"LocalBoundingSphere",data:{center:t,radius:e}}},t.prototype.setLocalAxisedBoundingBox=function(e,t){e.some((function(e){return!Number.isFinite(e)}))||t.some((function(e){return!Number.isFinite(e)}))?console.warn("setLocalAxisedBoundingBox error, min: ".concat(e.toString(),", max: ").concat(t.toString())):this.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:e,max:t}}},t.prototype.computeLocalAxisedBoundingBoxFromAttribute=function(e){if(void 0===e&&(e="a_position"),this.attributes&&this.attributes[e]){var n=this.attributes[e];if("typedArray"in n&&n.typedArray instanceof Float32Array)if("componentsPerAttribute"in n&&3===n.componentsPerAttribute){var r=t.getMinMaxPosition(n.typedArray),o=r.min,i=r.max;if(!o.some((function(e){return!Number.isFinite(e)||i.some((function(e){return!Number.isFinite(e)}))})))return{min:o,max:i}}else console.warn("!('componentsPerAttribute' in posAttribute) || posAttribute.componentsPerAttribute !== 3 attributeName: ".concat(e));else console.warn("!('typedArray' in posAttribute) || !(posAttribute.typedArray instanceof Float32Array) attributeName: ".concat(e))}else console.warn("attributes[".concat(e,"]不存在！无法获取！"))},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility of the box.",!0,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new c.BooleanProperty("允许拾取深度","是否允许拾取深度",!1,!1,[this,"allowPickingDepth"]),new c.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new c.BooleanProperty("姿态编辑","姿态编辑",!1,!1,[this,"rotationEditing"]),new c.BooleanProperty("编辑","编辑",!1,!1,[this,"editing"]),new c.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new c.RotationProperty("姿态","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new c.Number3Property("缩放","缩放",!0,!1,[this,"scale"],t.defaults.scale),new c.JsonProperty("模型矩阵","模型矩阵",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix),new l.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],t.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])]),new c.GroupProperty("屏幕像素","屏幕像素",[new c.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"maximumScale"],3),new c.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"minimumScale"],1),new c.NumberProperty("屏幕像素","注意物体的实际屏幕像素=pixelSize*物体的物理尺寸(m)，例如：一个20米长的房子，pixelSize设置为5，那么它在屏幕上的实际像素尺寸就是5*20=100px。根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!0,!1,[this,"pixelSize"],5),new c.BooleanProperty("显示缩放值","每个视口都显示各自的缩放值",!0,!1,[this,"showSceneScale"],!1)]),new c.GroupProperty("图元属性","图元属性",[new c.BooleanProperty("是否拣选","是否拣选",!0,!1,[this,"cull"]),new c.JsonProperty("包围体","用来进行拣选，以剔除不再视野范围内的模型",!0,!1,[this,"boundingVolume"],p.defaultBoundingVolume,d.boundingVolumeReadMe),new c.EnumProperty("渲染顺序","渲染顺序",!0,!1,[this,"pass"],h.passEnums,"TRANSLUCENT"),new c.EnumProperty("图元类型","图元类型",!0,!1,[this,"primitiveType"],h.primitiveTypeEnums,"TRIANGLES"),new c.JsonProperty("渲染状态","渲染状态",!0,!1,[this,"renderState"],p.defaultRenderState,d.renderStateReadMe),new c.EvalStringProperty("顶点着色器","顶点着色器",!0,!1,[this,"vertexShaderSource"],p.defaultVertexShaderSource,d.vertexShaderSourceReadMe),new c.EvalStringProperty("片元着色器","片元着色器",!0,!1,[this,"fragmentShaderSource"],p.defaultFragmentShaderSource,d.fragmentShaderSourceReadMe),new c.JsonProperty("一致性变量(uniform)","一致性变量(uniform)",!0,!1,[this,"uniformMap"],p.defaultUniformMap,d.uniformMapReadMe),new c.JsonProperty("顶点属性(attributes)","顶点属性(attributes)",!0,!1,[this,"attributesJson"],(0,f.attributesToAttributesJson)(p.defaultAttribute),d.attributesReadMe),new c.JsonProperty("索引(index)","索引(index)",!0,!1,[this,"indexTypedArrayJson"],(0,f.indexToIndexJson)(p.defaultIndexTypedArray),d.indexTypeArrayReadMe),new c.NumberProperty("count","count",!0,!1,[this,"count"],0),new c.NumberProperty("offset","offset",!0,!1,[this,"offset"],0),new c.NumberProperty("instanceCount","instanceCount",!0,!1,[this,"instanceCount"],0),new c.FunctionProperty("自动计算包围盒","根据顶点位置属性，自动计算包围盒",["string"],(function(e){var t=r.computeLocalAxisedBoundingBoxFromAttribute(e);if(t){var n=t.min,o=t.max;r.setLocalAxisedBoundingBox(n,o)}}),["position"])]),new c.GroupProperty("本地变换","本地变换",[new c.PositionProperty("本地偏移","本地偏移，不是经纬度！",!0,!1,[this,"localPosition"]),new c.RotationProperty("本地姿态","本地姿态",!0,!1,[this,"localRotation"]),new c.Number3Property("本地缩放","本地缩放",!0,!1,[this,"localScale"],[1,1,1]),new c.JsonProperty("本地模型矩阵","本地模型矩阵，如果该属性有值，那么localPosition、localRotation、localScale等属性将不起作用。",!0,!1,[this,"localModelMatrix"])]),new c.GroupProperty("调试","调试",[new c.BooleanProperty("debugShowBoundingVolume","debugShowBoundingVolume",!0,!1,[this,"debugShowBoundingVolume"],!1),new c.NumberProperty("debugOverlappingFrustums","debugOverlappingFrustums",!0,!1,[this,"debugOverlappingFrustums"],0)]),new c.GroupProperty("Czm特有","Czm特有",[new c.BooleanProperty("occlude","occlude",!0,!1,[this,"occlude"],!0),new c.BooleanProperty("castShadows","castShadows",!0,!1,[this,"castShadows"],!1),new c.BooleanProperty("receiveShadows","receiveShadows",!0,!1,[this,"receiveShadows"],!1),new c.BooleanProperty("executeInClosestFrustum","executeInClosestFrustum",!0,!1,[this,"executeInClosestFrustum"],!1),new c.BooleanProperty("pickOnly","pickOnly",!0,!1,[this,"pickOnly"],!1),new c.BooleanProperty("depthForTranslucentClassification","depthForTranslucentClassification",!0,!1,[this,"depthForTranslucentClassification"],!1)])],!1)},n=t,t.type=n.register("CzmCustomPrimitive",n,{chsName:"自定义图元",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium自定义图元"}),t.defaultRenderState=p.defaultRenderState,t.defaultVertexShaderSource=p.defaultVertexShaderSource,t.defaultFragmentShaderSource=p.defaultFragmentShaderSource,t.defaultUniformMap=p.defaultUniformMap,t.defaultBoundingVolume=p.defaultBoundingVolume,t.defaultAttribute=p.defaultAttribute,t.defaultIndexTypedArray=p.defaultIndexTypedArray,t.defaultDsAttribute=p.defaultDsAttribute,t.defaultDsIndexTypedArray=p.defaultDsIndexTypedArray,t.triangleIndicesToLine=f.triangleIndicesToLine,t.defaults=i(i({},c.ESSceneObject.defaults),{position:[116.39,39.9,0],rotation:[0,0,0],scale:[1,1,1],modelMatrix:[-.8957893500750183,-.4444788412198901,0,0,.28511078894078473,-.5746037485691958,.7671651518152995,0,-.3409886777031455,.68721837274483,.6414496315691579,0,-2177873.9967047274,4389222.053178148,4069473.6755001387,1],viewDistanceRange:[1e3,1e4,3e4,6e4]}),t.getMinMaxPosition=u.getMinMaxPosition,t}(c.ESSceneObject);t.CzmCustomPrimitive=y,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:!1,allowPickingDepth:!0,positionEditing:!1,rotationEditing:!1,editing:!1,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),scale:(0,u.reactArrayWithUndefined)(void 0),maximumScale:void 0,minimumScale:void 0,pixelSize:void 0,showSceneScale:void 0,modelMatrix:(0,u.reactArrayWithUndefined)(void 0),cull:(0,u.react)(void 0),boundingVolume:(0,u.reactJson)(void 0),renderState:(0,u.reactJson)(void 0),primitiveType:void 0,pass:void 0,vertexShaderSource:void 0,fragmentShaderSource:void 0,uniformMap:(0,u.reactJson)(void 0),localPosition:(0,u.reactArrayWithUndefined)(void 0),localRotation:(0,u.reactArrayWithUndefined)(void 0),localScale:(0,u.reactArrayWithUndefined)(void 0),localModelMatrix:(0,u.reactArrayWithUndefined)(void 0),occlude:void 0,count:void 0,offset:void 0,instanceCount:void 0,castShadows:void 0,receiveShadows:void 0,executeInClosestFrustum:void 0,debugShowBoundingVolume:void 0,debugOverlappingFrustums:void 0,pickOnly:void 0,depthForTranslucentClassification:void 0,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},c.ESSceneObject.createDefaultProps())}}(y=t.CzmCustomPrimitive||(t.CzmCustomPrimitive={})),t.CzmCustomPrimitive=y,(0,u.extendClassProps)(y.prototype,y.createDefaultProps)},94849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributesReadMe=void 0,t.attributesReadMe="### 默认的顶点属性\n```\n{\n    position: {\n        typedArray: new Float32Array([0, 0, 0, 0, -1, 0, 1, -1, 0, 0, 0, 0, 1, -1, 0, 1, 0, 0]),\n        componentsPerAttribute: 3,\n    },\n    normal: {\n        typedArray: new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n        componentsPerAttribute: 3,\n    },\n    textureCoordinates: {\n        typedArray: new Float32Array([0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1]),\n        componentsPerAttribute: 2,\n    }\n}\n```\n\n### Attributes类型规格\n```\nexport type AttributeJsonType = {\n    typedArray: {\n        type: 'Float32Array' | 'Float64Array' | 'Int8Array' | 'Uint8Array' | 'Int16Array' | 'Uint16Array' | 'Int32Array' | 'Uint32Array';\n        array: number[];\n    };\n    componentsPerAttribute: 1 | 2 | 3 | 4;\n    usage?: Cesium.BufferUsage;\n    normalize?: boolean;\n}\n\nexport type AttributesJsonType = {\n    [k: string]: AttributeJsonType;\n}\n```\n"},3250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boundingVolumeReadMe=void 0,t.boundingVolumeReadMe="### 默认的BoundingVolume\n```\ntype: 'LocalAxisedBoundingBox',\ndata: {\n    min: [0, -1, 0],\n    max: [1, 0, 0],\n}\n```\n\n### BoundingVolume类型规格\n```\nexport type BoundingVolumeJsonType = {\n    type: 'BoundingSphere'; // BoundingSphere表示世界坐标系下的包围球, center为[经度, 纬度, 高度], radius单位为米\n    data: { center: [number, number, number], radius: number };\n} | {\n    type: 'LocalBoundingSphere'; // LocalBoundingSphere表示本地坐标系下的包围球, center本地坐标系下的[x, y, z]，单位是米, radius单位为米\n    data: { center: [number, number, number], radius: number };\n} | {\n    type: 'BoundingRectangle'; // 指定地球上的矩形区域，分别用最西侧经度、最南侧纬度、最东侧经度、最北侧纬度来表示一个矩形范围\n    data: [west: number, south: number, east: number, north: number];\n} | {\n    type: 'LocalAxisedBoundingBox'; // 本地坐标系下，min为最小角点，max为最大角点，推荐使用此种方式！\n    data: {\n        min: [number, number, number];\n        max: [number, number, number];\n    };\n};\n```\n"},68278:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(32443),t),o(n(3250),t),o(n(96448),t),o(n(12942),t),o(n(94849),t),o(n(78069),t)},78069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indexTypeArrayReadMe=void 0,t.indexTypeArrayReadMe="### 默认的索引数组\n```\n{\n    \"type\": \"Uint16Array\",\n    \"array\": [0, 1, 2, 3, 4, 5]\n}\n```\n\n### 索引类型规格说明\n```\nexport type IndexJsonType = {\n    type: 'Uint8Array' | 'Uint16Array' | 'Uint32Array';\n    array: number[];\n}\n```\n"},32443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderStateReadMe=void 0,t.renderStateReadMe="### 默认使用的渲染状态\n```\n{\n    depthTest: {\n        enabled: true,\n    },\n    cull: {\n        enabled: true,\n        face: 1029,\n    },\n    blending: {\n        enabled: true,\n        equationRgb: 0x8006,\n        equationAlpha: 0x8006,\n        functionSourceRgb: 0x0302,\n        functionSourceAlpha: 1,\n        functionDestinationRgb: 0x0303,\n        functionDestinationAlpha: 0x0303,\n    }\n};\n```\n\n### 所有状态值说明\n```\ninterface RenderStateOptions {\n    // 默认值：2305 可选值: 2304(CLOCKWISE顺时针), 2305(COUNTER_CLOCKWISE逆时针)\n    frontFace?: number, \n    cull?: {\n        enabled?: boolean, // false\n        // 默认值：1029 可选值：1028(FRONT), 1029(BACK), 1032(FRONT_AND_BACK)\n        face?: CullFace, // CullFace.BACK\n    },\n    lineWidth?: number, // 1 windows系统只能是，显卡驱动原因，设置其他数值不起作用！\n    polygonOffset?: {\n        enabled?: boolean, // false\n        factor?: number, // 0,\n        units?: number, // 0\n    },\n    scissorTest?: {\n        enabled?: boolean, // false,\n        rectangle?: {\n            x?: number, // 0,\n            y?: number, // 0,\n            width?: number, // 0,\n            height?: number, // 0\n        }\n    },\n    depthRange?: {\n        near?: number, // 0,\n        far?: number, // 1\n    },\n    depthTest?: {\n        enabled?: boolean; // false,\n        // 默认值:513 可选值：512(NEVER), 513(LESS), 514(EQUAL), 515(LESS_OR_EQUAL), \n        //   516(GREATER), 517(NOT_EQUAL), 518(GREATER_OR_EQUAL), 519(ALWAYS)\n        func?: number; \n    },\n    colorMask?: {\n        red?: boolean, // true,\n        green?: boolean, // true,\n        blue?: boolean, // true,\n        alpha?: boolean, // true\n    },\n    depthMask?: boolean, // true,\n    stencilMask?: number, // ~0\n    blending?: {\n        enabled?: boolean, // false,\n        color?: {\n            red?: number, // 0.0,\n            green?: number, // 0.0,\n            blue?: number, // 0.0,\n            alpha?: number, // 0.0\n        },\n        // 默认值：32774, 可选值：32774(ADD), 32778(SUBTRACT), 32779(REVERSE_SUBTRACT), 32775(MIN), MIN(MAX)\n        equationRgb?: BlendEquation, // BlendEquation.ADD,\n        // 默认值：32774, 可选值：32774(ADD), 32778(SUBTRACT), 32779(REVERSE_SUBTRACT), 32775(MIN), MIN(MAX)\n        equationAlpha?: BlendEquation, // BlendEquation.ADD,\n        // BlendFunction类型可选值：0(ZERO), 1(ONE), 768(SOURCE_COLOR), 769(ONE_MINUS_SOURCE_COLOR),\n        //   774(DESTINATION_COLOR), 775(ONE_MINUS_DESTINATION_COLOR), 770(SOURCE_ALPHA),\n        //   771(ONE_MINUS_SOURCE_ALPHA), 772(DESTINATION_ALPHA), 773(ONE_MINUS_DESTINATION_ALPHA),\n        //   32769(CONSTANT_COLOR), 32770(ONE_MINUS_CONSTANT_COLOR), 32771(CONSTANT_ALPHA),\n        //   32772(ONE_MINUS_CONSTANT_ALPHA), 776(SOURCE_ALPHA_SATURATE)\n        // 默认值：1, 可选值参见上方BlendFunction类型可选值\n        functionSourceRgb?: BlendFunction, // BlendFunction.ONE,\n        // 默认值：1, 可选值参见上方BlendFunction类型可选值\n        functionSourceAlpha?: BlendFunction, // BlendFunction.ONE,\n        // 默认值：0, 可选值参见上方BlendFunction类型可选值\n        functionDestinationRgb?: BlendFunction, // BlendFunction.ZERO,\n        // 默认值：0, 可选值参见上方BlendFunction类型可选值\n        functionDestinationAlpha?: BlendFunction, // BlendFunction.ZERO\n    },\n    stencilTest?: {\n        enabled?: boolean, // false,\n        // StencilFunction类型可选值：512(NEVER), 513(LESS), 514(EQUAL), 515(LESS_OR_EQUAL),\n        //   516(GREATER), 517(NOT_EQUAL), 518(GREATER_OR_EQUAL), 519(ALWAYS)\n        // 默认值 519, 可选值参见StencilFunction类型可选值\n        frontFunction?: StencilFunction, // StencilFunction.ALWAYS,\n        // 默认值 519, 可选值参见StencilFunction类型可选值\n        backFunction?: StencilFunction, // StencilFunction.ALWAYS,\n        reference?: number; // 0,\n        mask?: number; // ~0,\n        // StencilOperation类型可选值：0(ZERO), 7680(KEEP), 7681(REPLACE), 7682(INCREMENT),\n        //   7683(DECREMENT), 5386(INVERT), 34055(INCREMENT_WRAP), 34056(DECREMENT_WRAP)\n        frontOperation?: {\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            fail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zFail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zPass?: StencilOperation, // StencilOperation.KEEP\n        },\n        backOperation?: {\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            fail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zFail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zPass?: StencilOperation, // StencilOperation.KEEP\n        }\n    },\n    sampleCoverage?: {\n        enabled?: boolean, // false,\n        value?: number, // 1.0,\n        invert?: boolean, // false\n    }\n}\n```\n"},96448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentShaderSourceReadMe=t.vertexShaderSourceReadMe=void 0,t.vertexShaderSourceReadMe="### 默认顶点Shader示例\n```\nin vec3 position;\nin vec3 normal;\nin vec2 st;\nout vec3 v_normalEC;\nout vec2 v_st;\nvoid main()\n{\n    // 如果这一句注释，要相应地注释掉attribute中的normal，也就是说顶点属性要和shader中的一一匹配！\n    v_normalEC = czm_normal * normal; \n    v_st = st;\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n```\n\n### 相对完整的顶点Shader\n```\n// vtxf 使用double类型的position进行计算\n// in vec3 position3DHigh;\n// in vec3 position3DLow;\nin vec3 position;\nin vec3 normal;\nin vec2 st;\nin float batchId;\nout vec3 v_positionEC;\nout vec3 v_normalEC;\nout vec2 v_st;\nvoid main()\n{\n    // vtxf 使用double类型的position进行计算\n    // vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n    // v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    // v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    // v_st = st;\n    // gl_Position = czm_modelViewProjectionRelativeToEye * p;\n    v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n    v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n    v_st = st;\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n```\n",t.fragmentShaderSourceReadMe="### 默认片元Shader示例\n```\nin vec2 v_st;\nuniform sampler2D u_image;\nuniform vec4 u_color;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor * u_color;\n}\n```\n\n### xe2VisibleAlpha使用示例\nxe2VisibleAlpha是根据视距范围自动计算出来的alpha值，用来设置透明，产生渐显的效果。\n``` \nin vec2 v_st;\nuniform sampler2D u_image;\nuniform vec4 u_color;\nuniform float u_xe2VisibleAlpha;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor * u_color * vec4(1., 1., 1., u_xe2VisibleAlpha);\n}\n```\n\n### 相对完整的片元Shader示例\n```\nin vec3 v_positionEC;\nin vec3 v_normalEC;\nin vec2 v_st;\nuniform sampler2D myImage;\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    materialInput.st = v_st;\n    //czm_material material = czm_getMaterial(materialInput);\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec4 imageColor = texture(myImage, materialInput.st);\n    material.diffuse = imageColor.rgb;\n    material.alpha = imageColor.a;\n// #ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n// #else\n    // out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n// #endif\n}\n```\n"},12942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniformMapReadMe=void 0,t.uniformMapReadMe='### 默认使用的UniformMap\n```\n{\n    "myImage": { \n        "type": "image", \n        "uri": "${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png"\n    }\n}\n```\n\n### 示例1\n```\n{\n    "myImage": { \n        "type": "image", \n        "uri": "${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png"\n    },\n    "ratio": 0.5,\n}\n```\n\n### 示例2\n```\n{\n    "u_image": {\n        "type": "texture",\n        "id": "3010d3bd-cbf8-46cd-939f-c0b39b926255"\n    },\n    "ratio": 0.5,\n}\n\n```\n\n### 示例3\n```\n{\n    "ratioAndStart": [0.5, 0.7],\n}\n```\n\n### UniformMap类型规格\n```\nexport type CzmCustomPrimitiveUniformType = number | [number, number] | [number, number, number] | [number, number, number, number] | { type: \'image\', uri: string };\nexport type CzmCustomPrimitiveUniformMapType = { [k: string]: CzmCustomPrimitiveUniformType };\n```\n'},84110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passEnums=t.primitiveTypeEnums=void 0,t.primitiveTypeEnums=[["POINTS","POINTS"],["LINES","LINES"],["LINE_LOOP","LINE_LOOP"],["LINE_STRIP","LINE_STRIP"],["TRIANGLES","TRIANGLES"],["TRIANGLE_STRIP","TRIANGLE_STRIP"],["TRIANGLE_FAN","TRIANGLE_FAN"]],t.passEnums=[["ENVIRONMENT","ENVIRONMENT"],["COMPUTE","COMPUTE"],["GLOBE","GLOBE"],["TERRAIN_CLASSIFICATION","TERRAIN_CLASSIFICATION"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["CESIUM_3D_TILE_CLASSIFICATION","CESIUM_3D_TILE_CLASSIFICATION"],["CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW","CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW"],["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OVERLAY","OVERLAY"],["NUMBER_OF_PASSES","NUMBER_OF_PASSES"]]},14655:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCustomRectangle=void 0;var l=n(80468),c=n(51355),u=n(59645),p=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new c.Event),r._flyToEvent=r.disposeVar(new c.Event),r._sharedCzmTextureWithId=r.disposeVar(new u.SceneObjectWithId),r.__sharedCzmTextureWithIdTrack=r.dispose((0,c.track)([r.sharedCzmTextureWithId,"id"],[r,"czmTextureId"])),r._positions=r.disposeVar((0,c.reactPositions)(void 0)),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!1,[r,"editing"],r.components,2)),r._pointEditor=r.disposeVar(new l.PointEditing([r,"positions"],[r,"pointEditing"],r.components));var o=!1,i=function(){if(o){var e;do{var t=r.positions;if(!t)break;if(t.length<2)break;e=[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}while(0);r.rectangle=e}},a=function(){var e,n,a;(null!==(e=r.editing)&&void 0!==e?e:t.defaults.editing)||(null!==(n=r.pointEditing)&&void 0!==n?n:t.defaults.pointEditing)?(a=r.rectangle,r.positions=a?[[a[0],a[1],0],[a[2],a[3],0]]:void 0,o=!0,i()):(i(),o=!1,r.positions=void 0)};return r.dispose(r.editingChanged.disposableOn(a,void 0,!0)),r.dispose(r.pointEditingChanged.disposableOn(a,void 0,!0)),r.dispose(r.positionsChanged.disposableOn(i)),r.dispose((function(){return r.editing=!1})),r.dispose((function(){return r.pointEditing=!1})),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCustomRectangle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sharedCzmTextureWithId",{get:function(){return this._sharedCzmTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getCurrentCzmTexture=function(){return this._sharedCzmTextureWithId.sceneObject},Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions.value},set:function(e){this._positions.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionsChanged",{get:function(){return this._positions.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("显示","显示",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("编辑","编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("单点编辑","单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new l.Number4Property("rectangle","rectangle",!0,!1,[this,"rectangle"],t.defaults.rectangle),new l.NumberProperty("height","height",!1,!1,[this,"height"]),new l.NumberProperty("rotation","rotation",!1,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation",!1,!1,[this,"stRotation"]),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new l.EnumProperty("classificationType","classificationType",!1,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]])]),new l.GroupProperty("czmTexture","czmTexture",[new l.StringProperty("czmTextureId","czmTextureId",!0,!1,[this,"czmTextureId"],t.defaults.czmTextureId)])],!1)},n=t,t.type=n.register("CzmCustomRectangle",n,{chsName:"Cesium自定义矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium自定义矩形"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!1,editing:!1,pointEditing:!1,positions:[],rectangle:[119.39,39.9,120.39,40.9],color:[1,1,1,1],classificationType:"Both",czmTextureId:""}),t}(l.ESSceneObject);t.CzmCustomRectangle=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,pointEditing:void 0,rectangle:(0,c.reactArrayWithUndefined)(void 0),height:0,rotation:0,stRotation:0,color:(0,c.reactArrayWithUndefined)(void 0),classificationType:"BOTH",czmTextureId:void 0},l.ESSceneObject.createDefaultProps())}}(p=t.CzmCustomRectangle||(t.CzmCustomRectangle={})),t.CzmCustomRectangle=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},83939:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCylinderEntity=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCylinderEntity"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"],t.defaults.show),new l.NumberProperty("圆柱体长度","圆柱体长度",!0,!1,[this,"length"],t.defaults.length),new l.NumberProperty("顶部半径","顶部半径",!0,!1,[this,"topRadius"],t.defaults.topRadius),new l.NumberProperty("底部半径","底部半径",!0,!1,[this,"bottomRadius"],t.defaults.bottomRadius),new l.EnumProperty("高度参考","高度参考",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],t.defaults.heightReference),new l.BooleanProperty("是否填充","是否填充.",!0,!1,[this,"fill"],t.defaults.fill),new l.ColorProperty("材质","A Property specifying the material.",!0,!1,[this,"material"],t.defaults.material),new l.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!0,!1,[this,"outline"],t.defaults.outline),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NumberProperty("线宽","线宽",!0,!1,[this,"outlineWidth"],t.defaults.outlineWidth),new l.NumberProperty("垂直线条数","垂直线条数",!0,!1,[this,"numberOfVerticalLines"],t.defaults.numberOfVerticalLines),new l.NumberProperty("slices","slices",!0,!1,[this,"slices"],t.defaults.slices),new l.EnumProperty("阴影类型","阴影类型",!0,!1,[this,"shadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],t.defaults.shadows),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"],t.defaults.distanceDisplayCondition),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.RotationProperty("姿态","姿态",!1,!1,[this,"rotation"],t.defaults.rotation),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCylinderEntity",n,{chsName:"圆柱",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Entity API实现的圆柱。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,length:0,topRadius:0,bottomRadius:0,heightReference:"NONE",fill:!0,material:[1,1,1,1],outline:!0,outlineColor:[1,1,1,1],outlineWidth:0,numberOfVerticalLines:0,slices:128,shadows:"ENABLED",distanceDisplayCondition:[0,17976931348623157e292],position:[0,0,0],rotation:[0,0,0]}),t}(p.ESSceneObject);t.CzmCylinderEntity=f,function(e){e.createDefaultProps=function(){return i({show:!0,length:void 0,topRadius:void 0,bottomRadius:void 0,heightReference:"NONE",fill:void 0,material:(0,c.reactArrayWithUndefined)(void 0),outline:void 0,outlineColor:(0,c.reactArrayWithUndefined)(void 0),outlineWidth:void 0,numberOfVerticalLines:void 0,slices:void 0,shadows:void 0,distanceDisplayCondition:void 0,position:(0,c.reactArrayWithUndefined)(void 0),rotation:[0,0,0]},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCylinderEntity||(t.CzmCylinderEntity={})),t.CzmCylinderEntity=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},6770:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzml=void 0;var l=n(80468),c=n(51355),u=n(94914),p=[{id:"document",version:"1.0"},{id:"Vehicle",availability:"2012-08-04T16:00:00Z/2012-08-04T16:14:15.251Z",billboard:{eyeOffset:{cartesian:[0,0,0]},horizontalOrigin:"CENTER",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEISURBVEhLvVXBDYQwDOuojHKj8LhBbpTbpBCEkZsmIVTXq1RVQGrHiWlLmTTqPiZBlyLgy/KSZQ5JSHDQ/mCYCsC8106kDU0AdwRnvYZArWRcAl0dcYJq1hWCb3hBrumbDAVMwAC82WoRvgMnVMDBnB0nYZFTbE6BBvdUGqVqCbjBIk3PyFFR/NU7EKzru+qZsau3ryPwwCRLKYOzutZuCL6fUmWeJGzNzL/RxAMrUmASSCkkAayk2IxPlwhAAYGpsiHQjbLccfdOY5gKkCXAMi7SscAwbQpAnKyctWyUZ6z8ja3OGMepwD8asz+9FnSvbhU8uVOHFIwQsI3/p0CfhuqCSQuxLqsN6mu8SS+N42MAAAAASUVORK5CYII=",pixelOffset:{cartesian2:[0,0]},scale:.8333333333333334,show:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",boolean:!0}],verticalOrigin:"BOTTOM"},label:{fillColor:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",rgba:[255,255,0,255]}],font:"bold 10pt Segoe UI Semibold",horizontalOrigin:"LEFT",outlineColor:{rgba:[0,0,0,255]},pixelOffset:{cartesian2:[10,0]},scale:1,show:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",boolean:!0}],style:"FILL",text:"Vehicle",verticalOrigin:"CENTER"},path:{material:{solidColor:{color:{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",rgba:[255,255,0,255]}}},width:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",number:5}],show:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",boolean:!0}]},position:{interpolationAlgorithm:"LAGRANGE",interpolationDegree:1,epoch:"2012-08-04T16:00:00Z",cartesian:[0,-2379754.6637012,-4665332.88013588,3628133.68924173,100,-2379510.08905552,-4665419.64840452,3628182.20006795,200,-2379568.4769522,-4665555.3441867,3627970.83323261,300,-2379638.93786855,-4665691.63561896,3627750.82085873,400,-2379709.29834665,-4665827.9679646,3627530.80187124,500,-2379837.28064915,-4665847.7494347,3627422.12874017,600,-2379624.98289073,-4665907.50853722,3627484.1191848,700,-2379386.12743523,-4666029.54174431,3627483.83297459,800,-2379147.26777171,-4666151.56669944,3627483.5403492,900,-2378908.40390057,-4666273.58340244,3627483.24130864,1e3]}}],f="(dataSource) => {\n    var entities = dataSource.entities.values;\n \n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      if (Cesium.defined(entity.billboard)) {\n        // entity.label = undefined; // 去掉文字的显示\n \n        entity.point = new Cesium.PointGraphics({\n            color: Cesium.Color.BLUE,\n            pixelSize: 30\n        });\n      }\n    }   \n}\n",d="data 路径都可以使用下面回调函数\n```\n".concat(f,"\n```\n\n"),h=Date.now(),y=(new Date(h).toISOString(),new Date(h+864e5).toISOString(),function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._loadFuncReact=n.disposeVar((0,c.react)(void 0)),n._pickedEvent=n.disposeVar(new c.Event),n._clock=n.disposeVar(new u.CzmClock),n._resetClockEvent=n.disposeVar(new c.Event),n.dispose(n.components.disposableAdd(n._clock)),n.dispose((0,c.bind)([n.clock,"startTime"],[n,"startTime"])),n.dispose((0,c.bind)([n.clock,"stopTime"],[n,"stopTime"])),n.dispose((0,c.bind)([n.clock,"currentTime"],[n,"currentTime"])),n.dispose((0,c.bind)([n.clock,"multiplier"],[n,"multiplier"])),n.dispose((0,c.bind)([n.clock,"clockStep"],[n,"clockStep"])),n.dispose((0,c.bind)([n.clock,"clockRange"],[n,"clockRange"])),n.dispose((0,c.bind)([n.clock,"shouldAnimate"],[n,"shouldAnimate"])),n.dispose((0,c.bind)([n.clock,"enabled"],[n,"clockEnabled"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCzml"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"loadFun",{get:function(){return this._loadFuncReact.value},set:function(e){this._loadFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunChanged",{get:function(){return this._loadFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clock",{get:function(){return this._clock},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetClockEvent",{get:function(){return this._resetClockEvent},enumerable:!1,configurable:!0}),t.prototype.resetClock=function(){this._resetClockEvent.emit()},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.JsonProperty("数据","数据",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],t.defaults.uri),new l.BooleanProperty("自动设置时钟","自动设置时钟",!0,!1,[this,"autoResetClock"],t.defaults.autoResetClock),new l.FunctionProperty("重设时钟","根据当前加载的数据重设始终",[],(function(){return r.resetClock()}),[]),new l.EvalStringProperty("loadFnStr","loadFnStr",!0,!1,[this,"loadFuncStr"],t.defaults.defaultLoadFuncStr,t.defaults.defaultLoadFuncDocStr)]),new l.GroupProperty("时钟","时钟",[new l.BooleanProperty("启用","启用",!0,!1,[this,"clockEnabled"],t.defaults.clockEnabled),new l.DateProperty("开始时间","开始时间",!0,!1,[this,"startTime"],t.defaults.startTime),new l.DateProperty("结束时间","结束时间",!0,!1,[this,"stopTime"],t.defaults.stopTime),new l.DateProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("倍速","倍速.",!0,!1,[this,"multiplier"],t.defaults.multiplier),new l.EnumProperty("clockStep","clockStep",!0,!1,[this,"clockStep"],[["TICK_DEPENDENT","TICK_DEPENDENT"],["SYSTEM_CLOCK_MULTIPLIER","SYSTEM_CLOCK_MULTIPLIER"],["SYSTEM_CLOCK","SYSTEM_CLOCK"]],t.defaults.clockStep),new l.EnumProperty("clockRange","clockRange",!0,!1,[this,"clockRange"],[["UNBOUNDED","UNBOUNDED"],["CLAMPED","CLAMPED"],["LOOP_STOP","LOOP_STOP"]],t.defaults.clockRange),new l.BooleanProperty("是否启用动画","是否启用动画",!0,!1,[this,"shouldAnimate"],t.defaults.shouldAnimate)])],!1)},n=t,t.type=n.register("CzmCzml",n,{chsName:"CzmCzml",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Czml数据加载"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!0,data:p,dataMd:'第一个packet代表了cesium场景（cesium时间轴的范围，当前时刻，倍速等信息）之外，其他的packet都可以理解为描述某一时间范围内的entity的行为。\n```\n[{\n    "id": "document",\n    "name": "CZML Path",\n    "version": "1.0",\n    "clock": {\n        "interval": "2012-08-04T10:00:00Z/2012-08-04T15:00:00Z",\n        "currentTime": "2012-08-04T10:00:00Z",\n        "multiplier": 10\n    }\n}, {\n    "id": "path",\n    "name": "path with GPS flight data",\n    "description": "<p>Hang gliding flight log data from Daniel H. Friedman.<br>Icon created by Larisa Skosyrska from the Noun Project</p>",\n    "availability": "2012-08-04T10:00:00Z/2012-08-04T15:00:00Z",\n    "path": {\n        "material": {\n            "polylineOutline": {\n                "color": {\n                    "rgba": [255, 0, 255, 255]\n                },\n                "outlineColor": {\n                    "rgba": [0, 255, 255, 255]\n                },\n                "outlineWidth": 5\n            }\n        },\n        "width": 8,\n        "leadTime": 10,\n        "trailTime": 1000,\n        "resolution": 5\n    },\n    "billboard": {\n        "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAfCAYAAACVgY94AAAACXBIWXMAAC4jAAAuIwF4pT92AAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA7VJREFUeNrEl2uIlWUQx39nXUu0m2uQbZYrbabdLKMs/VBkmHQjioqFIhBS+hKEQpQRgVAf2u5RQkGBRUllRH4I2e5ZUBJlEZVt5i0tTfHStrZ6fn35L70d9n7Obg88vOedmWfmf2bmmZkXlRrtq9V16mZ1iVqqhd5agXvQf1c5zw/V8dXqrqO6dQKwBrgdWApsCb0VqAc2AnOrMVANwIsD4BLgTOBPYB2wHJgEzAG+ANqAu4ZsZYiuX5QwfqI2hvaNulA9J7zLQn8o76vUuuHOwXHqSzH4aIF+TWjnBkSH+nCBf716SP1KPWO4AJ6ltgfIjRW8p9U/1KPz/ry6RT2mIDNF3Zjz19Ya4G1R/J16dgWvQd2pPlXhMdVZPUTgxfCW1wJgXUJpQlvfg8zs8K8r0Caom9QHetG7NGfa1ElDBThRXRtFd/Qh16puKIS3e7+clBjdy7kL1b3q4fzJQQGck5z6Nb97kxujblWf64HXov7Vl/E4YXWccP9AAd6dAx+ox/WTArNzY1t64B0f8K0DyLXuUvRGZfcpCo1VX4tg6wB76WMB0dALf526foAX8cqUot2pGP8B2Kz+krBeNYjS8636dh/8Beo2deoA9TWp76pd6g0q9cDNwKvAD8A84EfglLRBe2g+JWAfcEF68bPABOCoAl/gIPA5MA64FVgGnNhP292W3r0SeB1YVlJXAjcBP8XwyQUj9AKwAzg2+/fQSsBhoJxBAaALaIzenZGnD911wA7gEDAD2FFSpwOzgDHZ5T7+ZSlGd2d6AXgi5+qAn+O5U0PbBVwKtAD3AHuB8f3YGBUdncCGoQ4LE9XtGRqK9LnduVPRIu2BPqwD65IYbS7Qpql7Ql9YoJcy9bwzkgPrfOCj5G33+h54E/g0PAr5thq4ApgyEgNrc27aWwVaPTA1QJ4BjgTGFvhteV40EgPrgvTP7qlmZqFnl9WD+b2posN83E/NrEkOjlI/U1fkfUYa/pe5IE3qZPW8jFOqiyN7p3pAPX04c7AxYSoDDcAjKT2LgLXA6IR2M3Bviv59wDTgQGTPH84Qd8+HXfHcoUws2zM0HMjuUPep+xP2PWpnwtw0GJsldbBpewQwE/gbeDyt7H1gcW53O7AC+A3Yn6+/W+Ld9SnWA15DAVhc8xK2TuA9YHrCuhV4EngFuBx4YagG6qv8cF+T52kB2Zy+e1I8taUacNV+uBdXO7ABmJwJpwx8XQvF9TUCWM64tiQhbq/oMv+7BwFWpQzNT8vbVQul/wwAGzzdmXU1xuUAAAAASUVORK5CYII=",\n        "scale": 1.5,\n        "eyeOffset": {\n            "cartesian": [0.0, 0.0, -10.0]\n        }\n    },\n    "position": {\n        "epoch": "2012-08-04T10:00:00Z",\n        "cartographicDegrees": [\n            0, -122.93797, 39.50935, 1776,\n            10, -122.93822, 39.50918, 1773,\n            20, -122.9385, 39.50883, 1772,\n            30, -122.93855, 39.50842, 1770,\n            40, -122.93868, 39.50792, 1770,\n            50, -122.93877, 39.50743, 1767,\n            60, -122.93862, 39.50697, 1771,\n            70, -122.93828, 39.50648, 1765,\n        ]\n    }\n}]\n```\n',autoResetClock:!0,clockEnabled:!1,startTime:u.CzmClock.defaults.startTime,stopTime:u.CzmClock.defaults.stopTime,currentTime:u.CzmClock.defaults.currentTime,multiplier:u.CzmClock.defaults.multiplier,clockStep:u.CzmClock.defaults.clockStep,clockRange:u.CzmClock.defaults.clockRange,shouldAnimate:u.CzmClock.defaults.shouldAnimate,uri:"${xe2-assets-script-dir}/xe2-assets/scene-manager/misc/simple.czml",defaultLoadFuncStr:f,defaultLoadFuncDocStr:d}),t}(l.ESSceneObject));t.CzmCzml=y,function(e){e.createDefaultProps=function(){return i({show:void 0,uri:void 0,allowPicking:void 0,data:(0,c.reactJsonWithUndefined)(void 0),autoResetClock:void 0,clockEnabled:void 0,startTime:void 0,stopTime:void 0,currentTime:void 0,multiplier:void 0,clockStep:void 0,clockRange:void 0,shouldAnimate:void 0,loadFuncStr:void 0},l.ESSceneObject.createDefaultProps())}}(y=t.CzmCzml||(t.CzmCzml={})),t.CzmCzml=y,(0,c.extendClassProps)(y.prototype,y.createDefaultProps)},87651:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmDepthOfFieldPostProcess=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmDepthOfFieldPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("show","show",!1,!1,[this,"show"]),new l.NumberProperty("focalDistance","focalDistance",!1,!1,[this,"focalDistance"]),new l.NumberProperty("delta","delta",!1,!1,[this,"delta"]),new l.NumberProperty("sigma","sigma",!1,!1,[this,"sigma"]),new l.NumberProperty("stepSize","stepSize",!1,!1,[this,"stepSize"])])],!1)},n=t,t.type=n.register("CzmDepthOfFieldPostProcess",n,{chsName:"景深后处理特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"景深后处理特效"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmDepthOfFieldPostProcess=u,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,focalDistance:87,delta:1,sigma:3.78,stepSize:2.46})}}(u=t.CzmDepthOfFieldPostProcess||(t.CzmDepthOfFieldPostProcess={})),t.CzmDepthOfFieldPostProcess=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},35038:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmDetectives=void 0;var l=n(80468),c=n(80468),u=n(51355),p=n(61546),f=n(44075),d=function(e){function t(n){var r=e.call(this,n)||this;r._customPrimitive=r.disposeVar(new f.CzmCustomPrimitive),r._flyToEvent=r.disposeVar(new u.Event),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!1,[r,"editing"],r.components,2)),r._pickedEvent=r.disposeVar(new u.Event),r._player=r.disposeVar(new l.Player);var o=r.customPrimitive;r.dispose(r.components.disposableAdd(o));var d,h={depthTest:{enabled:!1},cull:{enabled:!0,face:1029},blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}};(d=function(){o.renderState=i(i({},h),{depthTest:{enabled:r.depthTest}})})(),r.dispose(r.depthTestChanged.disposableOn(d)),r.dispose(r.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),(d=function(){o.allowPicking=r.allowPicking&&!r.editing})(),r.dispose(r.allowPickingChanged.disposableOn(d)),r.dispose(r.editingChanged.disposableOn(d)),r.dispose(o.pickedEvent.disposableOn((function(e){var t;null!==(t=r.allowPicking)&&void 0!==t&&t&&r.pickedEvent.emit(new c.SceneObjectPickedInfo(r,e))})));var y=function(){var e,t=r.segments,n=void 0===t?4:t;if(!n&&n<3)r._customPrimitive.show=!1;else{r._customPrimitive.show=null===(e=r.show)||void 0===e||e;var o=s([],a(new Array(n+1).keys()),!1),i=2*Math.PI/n,c=r,u=c.topRadius,p=void 0===u?0:u,f=c.bottomRadius,d=void 0===f?.4:f,h=o.map((function(e){return e*i})).map((function(e){return[p*Math.cos(e),p*Math.sin(e),1]})),y=o.map((function(e){return e*i})).map((function(e){return[d*Math.cos(e),d*Math.sin(e),0]})),g=s(s([],a(h),!1),a(y),!1),m=(0,l.getMinMaxCorner)(g),v=m.minPos,b=m.maxPos,_=o.map((function(e){return[0,0,0]})).flat(),w=o.map((function(e){return[e/n,0]})).flat(),P=o.map((function(e){return[e/n,1]})).flat();r._customPrimitive.attributes={position:{componentsPerAttribute:3,typedArray:new Float32Array(g.flat())},normal:{componentsPerAttribute:3,typedArray:new Float32Array(s(s([],a(_),!1),a(_),!1))},textureCoordinates:{componentsPerAttribute:2,typedArray:new Float32Array(s(s([],a(w),!1),a(P),!1))}},r._customPrimitive.indexTypedArray=new Uint16Array(s([],a(new Array(n).keys()),!1).map((function(e){return[e,e+n+1,e+n+2,e,e+n+2,e+1,e,e+n+2,e+n+1,e,e+1,e+n+2]})).flat()),r._customPrimitive.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:v,max:b}}}};y();var g=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.showChanged,r.bottomRadiusChanged,r.topRadiusChanged,r.segmentsChanged));r.dispose(g.disposableOn(y));var m=function(){if(r.positions&&!(r.positions.length<2)){var e=function(e,t){var n,r=(0,l.lbhToXyz)(e),o=(0,l.lbhToXyz)(t),i=p.Vector.subtract(o,r),a=p.Vector.magnitude(i);p.Vector.normalize(i,i);var s=[1,0,0],c=[0,1,0],u=[0,0,1],f=Math.abs(p.Vector.dot(i,s)),d=Math.abs(p.Vector.dot(i,c)),h=Math.abs(p.Vector.dot(i,u));n=f<=d&&f<=h?s:d<=f&&d<=h?c:u;var y=p.Vector3.cross(i,n);p.Vector.normalize(y,y);var g=p.Vector3.cross(y,i);p.Vector.normalize(g,g);var m=p.Matrix4.fromDirectionUpRightAndTranslation(i,g,y,o);return p.Matrix4.multiplyByUniformScale(m,a,m),m}(r.positions[0],r.positions[1]);r._customPrimitive.modelMatrix=e}};m();var v=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.positionsChanged,r.bottomRadiusChanged));r.dispose(v.disposableOn(m));var b=function(){var e,t=r,n=t.ringRepeat,o=void 0===n?6:n,i=t.ringFill,a=void 0===i?.4:i,s=r.ratio*o,l=s-Math.floor(s),c=null!==(e=r.color)&&void 0!==e?e:[1,1,0,.6];r._customPrimitive.uniformMap={u_ratioRepeatFill:[l,o,a],u_ringColor:c}};b(),r.dispose(r.ratioChanged.disposableOn(b)),r.dispose(r.ringRepeatChanged.disposableOn(b)),r.dispose(r.ringFillChanged.disposableOn(b)),r.dispose(r.colorChanged.disposableOn(b)),r._customPrimitive.fragmentShaderSource="\n        in vec3 v_positionEC;\n        in vec3 v_normalEC;\n        in vec2 v_st;\n        uniform vec3 u_ratioRepeatFill;\n        uniform vec4 u_ringColor;\n        void main()\n        {\n            float ratio = u_ratioRepeatFill.x;\n            float ringRepeat = u_ratioRepeatFill.y;\n            float ringFill = u_ratioRepeatFill.z;\n\n            float start = ratio;\n            float end = start + ringFill;\n\n            float t = fract(v_st.t * ringRepeat);\n\n            float alpha = step(start, t) * step(t, end);\n            start -= 1.;\n            end -= 1.;\n            alpha += step(start, t) * step(t, end);\n\n            out_FragColor = u_ringColor;\n            out_FragColor.a *= alpha;\n        }\n        ",r.dispose(r._flyToEvent.disposableOn((function(e){return r._customPrimitive.flyTo(e)})));var _=t.defaults;return r.dispose((0,u.bind)([r._player,"loop"],[r,"loop"],(function(e){return null!=e?e:_.loop}),(function(e){return null!=e?e:_.loop}))),r.dispose((0,u.bind)([r._player,"currentTime"],[r,"currentTime"],(function(e){return null!=e?e:_.currentTime}),(function(e){return null!=e?e:_.currentTime}))),r.dispose((0,u.bind)([r._player,"duration"],[r,"duration"],(function(e){return null!=e?e:_.duration}),(function(e){return null!=e?e:_.duration}))),r.dispose((0,u.bind)([r._player,"playing"],[r,"playing"],(function(e){return null!=e?e:_.playing}),(function(e){return null!=e?e:_.playing}))),r.dispose((0,u.bind)([r._player,"speed"],[r,"speed"],(function(e){return null!=e?e:_.speed}),(function(e){return null!=e?e:_.speed}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmDetectives"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i(i({},t.createDefaultProps()),y)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPrimitive",{get:function(){return this._customPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("是否编辑","是否编辑",!1,!1,[this,"editing"]),new c.PositionsProperty("位置","位置",!0,!1,[this,"positions"]),new c.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new c.NumberProperty("顶部半径比率","注意不是实际长度，是和高度的比值，范围可取0-2",!0,!1,[this,"topRadius"],t.defaults.topRadius),new c.NumberProperty("底部半径比率","注意不是实际长度，是和高度的比值，范围可取0-2",!0,!1,[this,"bottomRadius"],t.defaults.bottomRadius),new c.NumberProperty("分段数","分段数",!0,!1,[this,"segments"],t.defaults.segments),new c.NumberProperty("环带重复数","环带重复数，任意正整数，默认6",!1,!1,[this,"ringRepeat"],t.defaults.ringRepeat),new c.NumberProperty("环带填充比","环带填充比，数值在0-1之间，默认0.4",!1,!1,[this,"ringFill"],t.defaults.ringFill),new c.BooleanProperty("深度监测","深度监测",!1,!1,[this,"depthTest"])]),new c.GroupProperty("播放器","播放器",[new c.NumberProperty("播放比率","播放比率(0-1)",!0,!1,[this,"ratio"],t.defaults.ratio),new c.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"]),new c.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],t.defaults.loop),new c.NumberProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new c.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],t.defaults.duration),new c.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],t.defaults.playing),new c.NumberProperty("播放速度","播放速度.",!0,!1,[this,"speed"],t.defaults.speed)])],!1)},n=t,t.type=n.register("CzmDetectives",n,{chsName:"侦照",tags:["CzmObjects","_ES_Impl_Cesium"],description:"侦照"}),t.defaults=i(i({},c.ESSceneObject.defaults),{allowPicking:!0,show:!0,editing:!0,color:[1,1,0,.6],topRadius:0,bottomRadius:.4,segments:4,ringRepeat:6,ringFill:.4,loop:!0,currentTime:0,playerCurrentTime:0,duration:6e3,speed:1,playing:!0,ratio:0}),t}(c.ESSceneObject);t.CzmDetectives=d;var h={},y=(0,c.getDefaultComponentProps)(h);(0,c.extendComponentProps)(d.prototype,h),function(e){e.createDefaultProps=function(){return i({show:!0,allowPicking:!1,editing:!1,positions:(0,u.reactPositions)(void 0),color:(0,u.reactArrayWithUndefined)(void 0),topRadius:void 0,bottomRadius:void 0,segments:void 0,ringRepeat:void 0,ringFill:void 0,depthTest:!1,loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0},c.ESSceneObject.createDefaultProps())}}(d=t.CzmDetectives||(t.CzmDetectives={})),t.CzmDetectives=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},72216:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmDrainageParticleSystem=void 0;var p=n(80468),f=n(51355),d=l(n(81557)),h=n(90039),y=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new f.Event),n._czmParticleSystemPrimitive=n.disposeVar(new h.CzmParticleSystemPrimitive);var r=n,o=n._czmParticleSystemPrimitive;n.dispose(n.components.disposableAdd(o));var i=n.disposeVar(p.ESSceneObject.context.createEvnStrReact([r,"image"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png")),a=new d.Cartesian3;function s(e,t){var n=e.position;d.Cartesian3.normalize(n,a),d.Cartesian3.multiplyByScalar(a,-8*t,a),e.velocity=d.Cartesian3.add(e.velocity,a,e.velocity)}n.dispose((0,f.bind)([o,"position"],[r,"position"])),n.dispose((0,f.bind)([o,"positionEditing"],[r,"positionEditing"])),n.dispose((0,f.bind)([o,"localPosition"],[r,"localPosition"])),n.dispose((0,f.bind)([o,"rotation"],[r,"rotation"])),n.dispose(r.positionChanged.don((function(){o.updateCallback=s}))),o.image=i.value,o.show=!0,o.startColor=[.1,.7,.7,.3],o.endColor=[1,1,1,.3],o.startScale=2,o.endScale=10,o.particleLife=3,o.minimumSpeed=10,o.maximumSpeed=14,o.minimumParticleLife=1,o.maximumParticleLife=2,o.imageSize=[2,2],o.emissionRate=30,o.lifetime=3,o.emitter={type:"CircleEmitter",radius:.2},o.sizeInMeters=!0,o.updateCallback=s;var l=n.disposeVar((0,f.createNextAnimateFrameEvent)(r.showChanged,r.imageStrChanged));return n.dispose(l.disposableOn((function(){var e;o.show=null===(e=r.show)||void 0===e||e,o.image=i.value}))),n.dispose(r.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmDrainageParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return u(u([],c(e.prototype.getProperties.call(this,t)),!1),[new p.GroupProperty("通用","通用",[new p.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new p.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new p.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"imageStr"],h.CzmParticleSystemPrimitive.defaults.imageStr),new p.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new p.Number3Property("localPosition","localPosition",!1,!1,[this,"localPosition"],[0,0,0]),new p.Number3Property("rotation","rotation,偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"],[0,0,0]),new p.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"])])],!1)},n=t,t.type=n.register("CzmDrainageParticleSystem",n,{chsName:"排水粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"排水口水流粒子特效"}),t}(p.ESSceneObject);t.CzmDrainageParticleSystem=y,function(e){e.createDefaultProps=function(){return i({show:!0,imageStr:void 0,positionEditing:!1,position:(0,f.reactArrayWithUndefined)(void 0),rotation:(0,f.reactArray)([0,0,0]),localPosition:(0,f.reactArray)([0,0,0])},p.ESSceneObject.createDefaultProps())}}(y=t.CzmDrainageParticleSystem||(t.CzmDrainageParticleSystem={})),t.CzmDrainageParticleSystem=y,(0,f.extendClassProps)(y.prototype,y.createDefaultProps)},61599:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipseGroundPrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipseGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],t.defaults.material,u.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("短半轴","短半轴",!0,!1,[this,"semiMinorAxis"],t.defaults.semiMinorAxis),new l.NumberProperty("长半轴","长半轴",!0,!1,[this,"semiMajorAxis"],t.defaults.semiMajorAxis),new l.NumberProperty("旋转角度","旋转角度,逆时针旋转,单位为度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipseGroundPrimitive",n,{chsName:"贴地椭圆",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的贴地椭圆。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,material:void 0,position:[0,0,0],granularity:1,semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:90,stRotation:90,height:1e6,extrudedHeight:1e6,ellipsoid:[0,0,0]}),t}(p.ESSceneObject);t.CzmEllipseGroundPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,material:(0,c.reactJson)({type:"Color"}),position:(0,c.reactArrayWithUndefined)(void 0),granularity:void 0,semiMinorAxis:void 0,semiMajorAxis:void 0,rotation:void 0,stRotation:void 0,ellipsoid:void 0,height:void 0,extrudedHeight:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipseGroundPrimitive||(t.CzmEllipseGroundPrimitive={})),t.CzmEllipseGroundPrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},80589:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipseOutlinePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipseOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("垂直线条数","垂直线条数",!0,!1,[this,"numberOfVerticalLines"],t.defaults.numberOfVerticalLines),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"],t.defaults.translucent),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NumberProperty("短半轴","短半轴",!0,!1,[this,"semiMinorAxis"],t.defaults.semiMinorAxis),new l.NumberProperty("长半轴","长半轴",!0,!1,[this,"semiMajorAxis"],t.defaults.semiMajorAxis),new l.NumberProperty("旋转角度","旋转角度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipseOutlinePrimitive",n,{chsName:"椭圆外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的椭圆外轮廓。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,position:[0,0,0],granularity:1,numberOfVerticalLines:10,translucent:!1,outlineColor:[.3,1,1,1],semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:90,height:1e6,extrudedHeight:1e6,ellipsoid:[0,0,0]}),t}(p.ESSceneObject);t.CzmEllipseOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,position:(0,c.reactArrayWithUndefined)(void 0),granularity:void 0,numberOfVerticalLines:void 0,translucent:void 0,outlineColor:(0,c.reactArrayWithUndefined)(void 0),semiMinorAxis:void 0,semiMajorAxis:void 0,rotation:void 0,height:void 0,extrudedHeight:void 0,ellipsoid:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipseOutlinePrimitive||(t.CzmEllipseOutlinePrimitive={})),t.CzmEllipseOutlinePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},74801:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipsePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipsePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],t.defaults.material,u.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("短半轴","短半轴",!0,!1,[this,"semiMinorAxis"],t.defaults.semiMinorAxis),new l.NumberProperty("长半轴","长半轴",!0,!1,[this,"semiMajorAxis"],t.defaults.semiMajorAxis),new l.NumberProperty("旋转角度","旋转角度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipsePrimitive",n,{chsName:"椭圆",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的椭圆。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,material:void 0,position:[0,0,0],granularity:1,semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:90,stRotation:90,height:1e6,extrudedHeight:1e6,ellipsoid:[0,0,0]}),t}(p.ESSceneObject);t.CzmEllipsePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,material:(0,c.reactJson)({type:"Color"}),position:(0,c.reactArrayWithUndefined)(void 0),granularity:void 0,semiMinorAxis:void 0,semiMajorAxis:void 0,rotation:void 0,stRotation:void 0,height:void 0,extrudedHeight:void 0,ellipsoid:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipsePrimitive||(t.CzmEllipsePrimitive={})),t.CzmEllipsePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},86630:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipsoidOutlinePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipsoidOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.ColorProperty("线条颜色","A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.Number3Property("半径","m为单位",!0,!1,[this,"radii"],t.defaults.radii),new l.Number3Property("内半径","m为单位",!0,!1,[this,"innerRadii"],t.defaults.innerRadii),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"],t.defaults.translucent),new l.NumberProperty("minimumClock","minimumClock",!0,!1,[this,"minimumClock"],t.defaults.minimumClock),new l.NumberProperty("maximumClock","maximumClock",!0,!1,[this,"maximumClock"],t.defaults.maximumClock),new l.NumberProperty("minimumCone","minimumCone",!0,!1,[this,"minimumCone"],t.defaults.minimumCone),new l.NumberProperty("maximumCone","maximumCone",!0,!1,[this,"maximumCone"],t.defaults.maximumCone),new l.NumberProperty("stackPartitions","stackPartitions",!0,!1,[this,"stackPartitions"],t.defaults.stackPartitions),new l.NumberProperty("slicePartitions","slicePartitions",!0,!1,[this,"slicePartitions"],t.defaults.slicePartitions),new l.NumberProperty("subdivisions","subdivisions",!0,!1,[this,"subdivisions"],t.defaults.subdivisions),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipsoidOutlinePrimitive",n,{chsName:"椭球外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的椭球外轮廓。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,color:[.3,1,1,1],position:[0,0,0],radii:[3e5,3e5,3e5],innerRadii:[1e5,1e5,1e5],translucent:!1,minimumClock:10,maximumClock:10,minimumCone:10,maximumCone:10,stackPartitions:10,slicePartitions:10,subdivisions:10}),t}(p.ESSceneObject);t.CzmEllipsoidOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,color:(0,c.reactArrayWithUndefined)(void 0),position:(0,c.reactArrayWithUndefined)(void 0),radii:(0,c.reactArrayWithUndefined)(void 0),innerRadii:(0,c.reactArrayWithUndefined)(void 0),minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0,translucent:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipsoidOutlinePrimitive||(t.CzmEllipsoidOutlinePrimitive={})),t.CzmEllipsoidOutlinePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},70548:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipsoidPrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipsoidPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,u.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,u.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],t.defaults.material,u.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.Number3Property("半径","m为单位",!0,!1,[this,"radii"],t.defaults.radii),new l.Number3Property("内半径","m为单位",!0,!1,[this,"innerRadii"],t.defaults.innerRadii),new l.NumberProperty("minimumClock","minimumClock",!0,!1,[this,"minimumClock"],t.defaults.minimumClock),new l.NumberProperty("maximumClock","maximumClock",!0,!1,[this,"maximumClock"],t.defaults.maximumClock),new l.NumberProperty("minimumCone","minimumCone",!0,!1,[this,"minimumCone"],t.defaults.minimumCone),new l.NumberProperty("maximumCone","maximumCone",!0,!1,[this,"maximumCone"],t.defaults.maximumCone),new l.NumberProperty("stackPartitions","stackPartitions",!0,!1,[this,"stackPartitions"],t.defaults.stackPartitions),new l.NumberProperty("slicePartitions","slicePartitions",!0,!1,[this,"slicePartitions"],t.defaults.slicePartitions),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipsoidPrimitive",n,{chsName:"椭球",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的椭球。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,material:void 0,position:[0,0,0],radii:[3e5,3e5,3e5],innerRadii:[1e5,1e5,1e5],minimumClock:10,maximumClock:10,minimumCone:10,maximumCone:10,stackPartitions:10,slicePartitions:10}),t}(p.ESSceneObject);t.CzmEllipsoidPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,material:(0,c.reactJson)({type:"Color",color:[0,0,0,1]}),position:(0,c.reactArrayWithUndefined)(void 0),radii:(0,c.reactArrayWithUndefined)(void 0),innerRadii:(0,c.reactArrayWithUndefined)(void 0),minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipsoidPrimitive||(t.CzmEllipsoidPrimitive={})),t.CzmEllipsoidPrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},56381:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFireParticleSystem=void 0;var l=n(80468),c=n(80468),u=n(51355),p=n(90039),f=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new u.Event);var r=n,o=n.disposeVar(new p.CzmParticleSystemPrimitive);n.dispose(n.components.disposableAdd(o));var i=n.disposeVar(c.ESSceneObject.context.createEvnStrReact([r,"image"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png"));n.dispose((0,u.bind)([o,"position"],[r,"position"])),n.dispose((0,u.bind)([o,"positionEditing"],[r,"positionEditing"])),n.dispose((0,u.bind)([o,"localPosition"],[r,"localPosition"])),n.dispose((0,u.bind)([o,"rotation"],[r,"rotation"])),o.image=i.value,o.show=!0,o.startColor=[1,1,0,.4],o.endColor=[1,0,0,.5],o.startScale=3,o.endScale=4,o.particleLife=.5,o.minimumSpeed=1,o.maximumSpeed=10,o.emissionRate=20,o.lifetime=10,o.imageSize=[2,2],o.emitter={type:"CircleEmitter",radius:.5},o.sizeInMeters=!0;var a=n.disposeVar((0,u.createNextAnimateFrameEvent)(r.showChanged,r.imageStrChanged));return n.dispose(a.disposableOn((function(){var e;o.show=null===(e=r.show)||void 0===e||e,o.image=i.value}))),n.dispose(r.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFireParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"imageStr"],p.CzmParticleSystemPrimitive.defaults.imageStr),new c.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new c.Number3Property("localPosition","localPosition",!1,!1,[this,"localPosition"],[0,0,0]),new c.Number3Property("rotation","rotation,偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"],[0,0,0]),new c.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"])])],!1)},n=t,t.type=n.register("CzmFireParticleSystem",n,{chsName:"火焰粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"火焰粒子特效"}),t.defaults=i(i({},c.ESSceneObject.defaults),{show:!1,image:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png",position:[0,0,0],translation:[0,0,0],rotation:[0,0,0]}),t}(c.ESSceneObject);t.CzmFireParticleSystem=f,function(e){e.createDefaultProps=function(){return i({show:!0,imageStr:void 0,positionEditing:!1,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArray)([0,0,0]),localPosition:(0,u.reactArray)([0,0,0])},c.ESSceneObject.createDefaultProps())}}(f=t.CzmFireParticleSystem||(t.CzmFireParticleSystem={})),t.CzmFireParticleSystem=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},51193:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFlattenedPlane=void 0;var p=n(61556),f=n(80468),d=n(51355),h=n(59645),y=l(n(81557)),g=n(58354),m=n(91132);function v(e,t,n){var r=e,o=t,i=[[r[0],r[1],0],[o[0],r[1],0],[o[0],o[1],0],[r[0],o[1],0]],a=y.Math.toDegrees,s=i.map((function(e){var t,r=y.Matrix4.multiplyByPoint(n,(t=y.Cartesian3).fromElements.apply(t,u([],c(e),!1)),new y.Cartesian3),o=y.Cartographic.fromCartesian(r);return[a(o.longitude),a(o.latitude),o.height]}));return[[s[0],s[1],s[2],s[3],s[0]]]}var b=function(e){function t(t,n){var r,i,a=e.call(this)||this;return a._czmFlattenedPlane=t,a._reverse=n,a._customShader=(r=a._reverse,i=a._czmFlattenedPlane,function(e){function t(t,n){var o,a=e.call(this)||this;return a._sceneObject=t,a._viewer=n,a._customShader=a.disposeVar(new y.CustomShader({lightingModel:y.LightingModel.UNLIT,uniforms:{u_discardRatio:{value:new y.Cartesian2(0,1),type:y.UniformType.VEC2},u_topColor:{value:new y.Color(1,1,1,1),type:y.UniformType.VEC4},u_bottomColor:{value:new y.Color(1,1,1,1),type:y.UniformType.VEC4}},varyings:{v_xbsjPos:y.VaryingType.VEC3,v_m:y.VaryingType.FLOAT},vertexShaderText:"                // IMPORTANT: the function signature must use these parameter names. This\n                // makes it easier for the runtime to generate the shader and make optimizations.\n                void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {\n                    // code goes here. An empty body is a no-op.\n                    #ifdef XBSJ_FLATTERN\n                    vec3 xbsjPos = (u_inverseElevationModelMatrix * vec4(vsInput.attributes.positionMC, 1.0)).xyz;\n                    vec2 size = u_flattenedBound.zw - u_flattenedBound.xy;\n                    vec2 st = (xbsjPos.xy - u_flattenedBound.xy) / size;\n                    ".concat(r?"                        v_m = 1.;\n                        if ( all(greaterThan(st, vec2(0, 0))) && all(lessThan(st, vec2(1.0))) ) {\n                            vec4 color = texture(u_flattenedPolygonTexture, st);\n                            v_m = 1. - clamp(max(color.r, max(color.g, color.b)) * color.a, 0., 1.);\n                            xbsjPos.z = mix(xbsjPos.z, (atan(xbsjPos.z) / 3.1415926), v_m);\n                        } else {\n                            xbsjPos.z = (atan(xbsjPos.z) / 3.1415926);\n                        }\n                        vsOutput.positionMC = (u_inverseModelElevationMatrix * vec4(xbsjPos, 1.0)).xyz;\n                    ":"                        v_m = 0.0;\n                        if (all(greaterThan(st, vec2(0, 0))) && all(lessThan(st, vec2(1.0)))) {\n                            vec4 color = texture(u_flattenedPolygonTexture, st);\n                            v_m = clamp(max(color.r, max(color.g, color.b)) * color.a, 0., 1.);\n                            xbsjPos.z = mix(xbsjPos.z, (atan(xbsjPos.z) / 3.1415926), v_m);\n                            vsOutput.positionMC = (u_inverseModelElevationMatrix * vec4(xbsjPos, 1.0)).xyz;\n                        }\n                        ","\n                    v_xbsjPos = xbsjPos;\n                    #endif\n                }\n              "),fragmentShaderText:"                // Color tiles by distance to the camera\n                void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n                {\n                    if (v_m < u_discardRatio.x) discard;\n                    if (v_m > u_discardRatio.y) discard;\n\n                    if (v_xbsjPos.z <= 0.) {\n                        material.diffuse *= (u_bottomColor.rgb * u_bottomColor.a);\n                    } else {\n                        material.diffuse *= (u_topColor.rgb * u_topColor.a);\n                    }\n                }\n              "})),(o=function(){a._customShader.uniforms.u_discardRatio.value=y.Cartesian2.fromArray(i.discard)})(),a.dispose(i.discardChanged.disposableOn(o)),(o=function(){var e;a._customShader.uniforms.u_bottomColor.value=new((e=y.Color).bind.apply(e,u([void 0],c(i.bottomColor),!1)))})(),a.dispose(i.bottomColorChanged.disposableOn(o)),(o=function(){var e;a._customShader.uniforms.u_topColor.value=new((e=y.Color).bind.apply(e,u([void 0],c(i.topColor),!1)))})(),a.dispose(i.topColorChanged.disposableOn(o)),a}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShader",{get:function(){return this._customShader},enumerable:!1,configurable:!0}),t.prototype.update=function(){alert("暂未实现!")},t}(d.Destroyable)),a._czmFlattenedPlane.computedCustomShader=a.customShader,a.dispose((function(){a._czmFlattenedPlane.computedCustomShader=void 0})),a}return o(t,e),Object.defineProperty(t.prototype,"customShader",{get:function(){return this._customShader},enumerable:!1,configurable:!0}),t}(d.Destroyable),_=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new d.Event),n._computedCustomShader=n.disposeVar((0,d.react)(void 0)),n._sPositionEditing=n.disposeVar(new f.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._polylines=n.disposeVar(new m.CzmPolylinesPrimitive),n._polylinesInit=(n._polylines.arcType="NONE",void n.dispose(n.components.disposableAdd(n.polylines))),n._finalMatrix=n.disposeVar((0,d.react)(void 0)),n._czmTextureWithId=n.disposeVar(new h.SceneObjectWithId),n._czmTextureWithIdInit=void n.dispose((0,d.track)([n._czmTextureWithId,"id"],[n,"czmTextureId"])),n.registerAttachedObjectForContainer((function(e){var t=new d.Destroyable;return t.dispose(n.flyToEvent.disposableOn((function(t){if(e instanceof g.CzmViewer&&e.actived)if(n.position){var r=n.minSize,o=n.maxSize,i=[o[0]-r[0],o[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]);e.flyTo(n.position,2*a,void 0,t)}else console.warn("CzmFlattenedPlane warning: 没有位置，无法飞入！")}))),t}));var r=function(){if(!n.enabled)return n.finalMatrix=void 0,void(n.polylines.positions=void 0);var e=u([],c(n.modelMatrix),!1),t=[];do{if(n.finalMatrix=void 0,!n.position)break;var r=(0,p.computeCzmModelMatrix)({position:n.position,rotation:n.rotation});if(!r)break;var o=y.Matrix4.fromArray(n.modelMatrix),i=y.Matrix4.multiply(r,o,new y.Matrix4);y.Matrix4.toArray(i,e),n.finalMatrix=i,t=v(n.minSize,n.maxSize,i)}while(0);n.polylines.positions=t};r();var o=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.enabledChanged,n.positionChanged,n.rotationChanged,n.modelMatrixChanged,n.minSizeChanged,n.maxSizeChanged));n.dispose(o.disposableOn(r));var i=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.enabledChanged,n.reverseChanged));return n.disposeVar(new h.ObjResettingWithEvent(i,(function(){if(n.enabled)return new b(n,n.reverse)}))),n.dispose((0,d.track)([n.polylines,"color"],[n,"edgeColor"])),n.dispose((0,d.track)([n.polylines,"width"],[n,"edgeWidth"])),n.dispose((0,d.track)([n.polylines,"show"],[n,"showHelper"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFlattenedPlane"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"computedCustomShader",{get:function(){return this._computedCustomShader.value},set:function(e){this._computedCustomShader.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedCustomShaderChanged",{get:function(){return this._computedCustomShader.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polylines",{get:function(){return this._polylines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalMatrix",{get:function(){return this._finalMatrix.value},set:function(e){this._finalMatrix.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalMatrixChanged",{get:function(){return this._finalMatrix.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTextureWithId",{get:function(){return this._czmTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return u(u([],c(e.prototype.getProperties.call(this,n)),!1),[new f.GroupProperty("通用","通用",[new f.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new f.BooleanProperty("辅助线框","辅助线框",!1,!1,[this,"showHelper"]),new f.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new f.PositionProperty("位置","位置",!0,!1,[this,"position"],t.defaults.position),new f.PositionProperty("姿态","姿态",!1,!1,[this,"rotation"]),new f.JsonProperty("矩阵","矩阵",!1,!1,[this,"modelMatrix"],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]"),new f.BooleanProperty("reverse","reverse",!1,!1,[this,"reverse"]),new f.Number2Property("discard","discard",!1,!1,[this,"discard"]),new f.ColorProperty("topColor","topColor",!1,!1,[this,"topColor"]),new f.ColorProperty("bottomColor","bottomColor",!1,!1,[this,"bottomColor"]),new f.ColorProperty("edgeColor","edgeColor",!1,!1,[this,"edgeColor"]),new f.NumberProperty("edgeWidth","edgeWidth",!1,!1,[this,"edgeWidth"]),new f.Number2Property("minSize","minSize",!1,!1,[this,"minSize"]),new f.Number2Property("maxSize","maxSize",!1,!1,[this,"maxSize"]),new f.StringsProperty("sceneObjectIds已弃用","sceneObjectIds已弃用",!1,!1,[this,"sceneObjectIds"])]),new f.GroupProperty("czmTexture","czmTexture",[new f.StringProperty("czmTextureId","czmTextureId",!1,!1,[this,"czmTextureId"])])],!1)},n=t,t.type=n.register("CzmFlattenedPlane",n,{chsName:"CzmFlattenedPlane",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmFlattenedPlane"}),t.defaults=i(i({},f.ESSceneObject.defaults),{position:[116.39,39.9,100]}),t}(f.ESSceneObject);t.CzmFlattenedPlane=_,function(e){e.createDefaultProps=function(){return i(i({},f.ESSceneObject.createDefaultProps()),{enabled:!0,showHelper:!0,positionEditing:!1,position:(0,d.reactArrayWithUndefined)(void 0),rotation:(0,d.reactArray)([0,0,0]),modelMatrix:(0,d.reactArray)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),reverse:!1,discard:(0,d.reactArray)([0,1]),topColor:(0,d.reactArray)([1,1,1,1]),bottomColor:(0,d.reactArray)([1,1,1,1]),edgeColor:(0,d.reactArray)([1,1,1,1]),edgeWidth:2,minSize:(0,d.reactArray)([-100,-100]),maxSize:(0,d.reactArray)([100,100]),sceneObjectIds:(0,d.reactArray)([]),czmTextureId:""})}}(_=t.CzmFlattenedPlane||(t.CzmFlattenedPlane={})),t.CzmFlattenedPlane=_,(0,d.extendClassProps)(_.prototype,_.createDefaultProps)},93684:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFlyAround=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(27934),f=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new c.Event),n._applyCurrentEvent=n.disposeVar(new c.Event);var r=n.disposeVar(new p.CzmPoint);return n.dispose(n.components.disposableAdd(r)),r.show=!1,r.pixelSize=5,r.color=[1,1,0,1],r.outlineColor=[0,0,0,.6],r.outlineWidth=1,n.dispose((0,c.bind)([r,"position"],[n,"position"])),n.dispose((0,c.bind)([r,"editing"],[n,"positionEditing"])),n.dispose(r.showChanged.disposableOn((function(e){return n.showTarget=null==e||e}))),n.dispose(n.showTargetChanged.disposableOn((function(e){return r.show=null!=e&&e}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFlyAround"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否启用","是否启用",!1,!1,[this,"enabled"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],t.defaults.positionEditing),new l.BooleanProperty("目标显示","目标显示",!0,!1,[this,"showTarget"],t.defaults.showTarget),new l.NumberProperty("目标距离","环绕飞行的目标距离",!0,!1,[this,"stopRadius"],t.defaults.stopRadius),new l.FunctionProperty("应用当前视距","应用当前视距",[],(function(){return r.applyCurrentDistance()}),[]),new l.NumberProperty("目标俯仰角","目标俯仰角",!0,!1,[this,"stopPitch"],t.defaults.stopPitch),new l.FunctionProperty("应用当前俯仰角","应用当前俯仰角",[],(function(){return r.applyCurrentPitch()}),[]),new l.NumberProperty("飞入时长","注意只是飞入目标位置的耗时，飞入目标位置以后，将进行无限循环时环绕飞行",!0,!1,[this,"flyToDuration"],t.defaults.flyToDuration),new l.NumberProperty("环绕速度","环绕速度, 单位为度/毫秒，例如0.018相当于180/10000，即每10秒转180度。",!0,!1,[this,"aroundSpeed"],t.defaults.aroundSpeed),new l.BooleanProperty("置中","是否将目标位置移动到屏幕中心",!0,!1,[this,"placeCenter"],t.defaults.placeCenter)])],!1)},Object.defineProperty(t.prototype,"applyCurrentEvent",{get:function(){return this._applyCurrentEvent},enumerable:!1,configurable:!0}),t.prototype.applyCurrentDistance=function(){this._applyCurrentEvent.emit({distance:!0})},t.prototype.applyCurrentPitch=function(){this._applyCurrentEvent.emit({pitch:!0})},n=t,t.type=n.register("CzmFlyAround",n,{chsName:"环绕飞行",tags:["GeoObjects","_ES_Impl_Cesium"],description:"CzmFlyAround环绕飞行"}),t.defaults=i(i({},u.ESSceneObject.defaults),{position:[0,0,0],positionEditing:!1,showTarget:!1,stopRadius:1e3,stopPitch:-50,flyToDuration:1e3,aroundSpeed:.018,placeCenter:!1}),t}(u.ESSceneObject);t.CzmFlyAround=f,function(e){e.createDefaultProps=function(){return i({enabled:!1,position:(0,c.reactArrayWithUndefined)(void 0),positionEditing:void 0,showTarget:void 0,stopRadius:void 0,stopPitch:void 0,flyToDuration:void 0,aroundSpeed:void 0,placeCenter:void 0},u.ESSceneObject.createDefaultProps())}}(f=t.CzmFlyAround||(t.CzmFlyAround={})),t.CzmFlyAround=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},58633:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFogPostProcess=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFogPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("show","show",!1,!1,[this,"show"]),new l.Number4Property("fogByDistance","fogByDistance",!1,!1,[this,"fogByDistance"]),new l.ColorProperty("fogColor","fogColor",!1,!1,[this,"fogColor"])])],!1)},n=t,t.type=n.register("CzmFogPostProcess",n,{chsName:"雾后处理特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"雾后处理特效"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmFogPostProcess=u,function(e){e.createDefaultProps=function(){return i({show:!0,fogByDistance:(0,c.reactArray)([10,0,200,1]),fogColor:(0,c.reactArray)([1,1,1,1])},l.ESSceneObject.createDefaultProps())}}(u=t.CzmFogPostProcess||(t.CzmFogPostProcess={})),t.CzmFogPostProcess=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},87509:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeHistoryImagery=void 0;var l=n(80468),c=n(51355),u=n(80468),p="position: absolute;\nleft:10px;\ntop:10px;\ncolor:white;\nfont-size:16px;\nwidth:105px;\nheight:21px;\nzIndex:100;\npointer-events:all;\nbackground-color:#313d51;\noverflow:hidden;\n",f=function(e){function t(t){var n=e.call(this,t)||this;return n._datesEvent=n.disposeVar(new c.Event),n._container=n.disposeVar((0,c.react)(void 0)),n._dates=n.disposeVar((0,c.reactArray)([])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGeHistoryImagery"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datesEvent",{get:function(){return this._datesEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container.value},set:function(e){this._container.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dates",{get:function(){return this._dates.value},set:function(e){this._dates.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datesChanged",{get:function(){return this._dates.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying.",!1,!1,[this,"show"]),new l.BooleanProperty("是否显示ui","A boolean Property specifying.",!1,!1,[this,"showUI"]),new l.StringProperty("currentDate","currentDate",!1,!1,[this,"currentDate"]),new l.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"]),new l.LongStringProperty("ui的cssText","ui的cssText",!1,!1,[this,"cssText"])])],!1)},n=t,t.type=n.register("CzmGeHistoryImagery",n,{chsName:"谷歌历史影像",tags:["CzmObjects","_ES_Impl_Cesium"],description:"加载历史影像"}),t.defaults=i(i({},u.ESSceneObject.defaults),{containerId:"",cssText:p}),t}(u.ESSceneObject);t.CzmGeHistoryImagery=f,function(e){e.createDefaultProps=function(){return i({show:!0,showUI:!0,currentDate:"",containerId:void 0,cssText:p},u.ESSceneObject.createDefaultProps())}}(f=t.CzmGeHistoryImagery||(t.CzmGeHistoryImagery={})),t.CzmGeHistoryImagery=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},43891:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoJson=void 0;var l=n(80468),c=n(51355),u={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[116.2,39.56]},properties:{title:"swimming","marker-symbol":"swimming","marker-color":"#8F1312"}},{type:"Feature",geometry:{type:"Point",coordinates:[115.2,38.56]},properties:{title:"8","marker-symbol":"8","marker-color":"#46117E"}},{type:"Feature",geometry:{type:"Point",coordinates:[114.2,37.56]},properties:{title:"6","marker-symbol":"6","marker-color":"#713291"}}]},p="// dataSource\n(dataSource) => {\n    if (dataSource) {\n        dataSource.show = true;\n\n        const entities = dataSource.entities.values;\n        const colorHash = {};\n        for (let i = 0; i < entities.length; i++) {\n            const entity = entities[i];\n            const name = entity.name;\n            let color = colorHash[name];\n            if (!color) {\n                color = Cesium.Color.fromRandom({\n                    alpha: 1.0,\n                });\n                colorHash[name] = color;\n            }\n            if (entity.polygon) {\n\n                entity.polygon.material = color;\n                entity.polygon.outline = false;\n                entity.polygon.extrudedHeight = entity.properties.Population / 50.0;\n            }\n        }\n    }\n}\n",f="${xe2-assets-script-dir}/xe2-assets/scene-manager/misc/2.geojson",d="".concat(f,"\n\n该路径可以使用下面回调函数\n```\n").concat(p,"\n```\n"),h=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._loadFuncReact=n.disposeVar((0,c.react)(void 0)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGeoJson"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFun",{get:function(){return this._loadFuncReact.value},set:function(e){this._loadFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunChanged",{get:function(){return this._loadFuncReact.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.JsonProperty("数据","数据",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],t.defaults.uri),new l.ColorProperty("填充颜色","填充颜色",!0,!1,[this,"fill"],t.defaults.fill),new l.ColorProperty("轮廓颜色","轮廓颜色",!0,!1,[this,"stroke"],t.defaults.stroke),new l.NumberProperty("轮廓宽度","轮廓宽度",!0,!1,[this,"strokeWidth\t"],t.defaults.strokeWidth),new l.StringProperty("点位符号","点位符号",!0,!1,[this,"markerSymbol"],t.defaults.markerSymbol),new l.ColorProperty("点位颜色","点位颜色",!0,!1,[this,"markerColor"],t.defaults.markerColor),new l.NumberProperty("点位大小","点位大小",!0,!1,[this,"markerSize"],t.defaults.markerSize),new l.BooleanProperty("是否贴地","是否贴地",!0,!1,[this,"clampToGround"],t.defaults.clampToGround),new l.EvalStringProperty("loadFnStr","loadFnStr",!0,!1,[this,"loadFuncStr"],t.defaults.defaultLoadFuncStr,t.defaults.defaultLoadFuncDocStr)])],!1)},n=t,t.type=n.register("CzmGeoJson",n,{chsName:"CzmGeoJson",tags:["CzmObjects","_ES_Impl_Cesium"],description:"GeoJson数据加载"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!0,fill:[.79,.91,.06,.2],stroke:[.79,.91,.06,1],strokeWidth:1,markerSymbol:"0",markerColor:[.79,.91,.06,1],markerSize:100,clampToGround:!1,uri:f,defaultLoadFuncStr:p,defaultLoadFuncDocStr:d,data:u,dataMd:'properties是一个包含三个属性的对象，title表示标题，marker-symbol表示点位的文字内容，marker-color表示点位颜色，properties可以删除，然后使用场景对象属性设置。\n```\n{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "geometry": {\n                "type": "Point",\n                "coordinates": [\n                    116.2,\n                    39.56\n                ]\n            },\n            "properties": {\n                "title": "swimming",\n                "marker-symbol": "swimming",\n                "marker-color": "#8F1312"\n            }\n        },\n        {\n            "type": "Feature",\n            "geometry": {\n                "type": "Point",\n                "coordinates": [\n                    115.2,\n                    38.56\n                ],\n                "properties": {\n                    "title": "8",\n                    "marker-symbol": "8",\n                    "marker-color": "#46117E"\n                }\n            }\n        },\n        {\n            "type": "Feature",\n            "geometry": {\n                "type": "Point",\n                "coordinates": [\n                    114.2,\n                    37.56\n                ],\n                "properties": {\n                    "title": "6",\n                    "marker-symbol": "6",\n                    "marker-color": "#713291"\n                }\n            }\n        }\n    ]\n}\n```\n'}),t}(l.ESSceneObject);t.CzmGeoJson=h,function(e){e.createDefaultProps=function(){return i({show:!0,uri:void 0,fill:(0,c.reactArrayWithUndefined)(void 0),data:(0,c.reactJsonWithUndefined)(void 0),stroke:(0,c.reactArrayWithUndefined)(void 0),strokeWidth:void 0,clampToGround:void 0,allowPicking:void 0,loadFuncStr:void 0,markerSymbol:void 0,markerColor:(0,c.reactArrayWithUndefined)(void 0),markerSize:void 0},l.ESSceneObject.createDefaultProps())}}(h=t.CzmGeoJson||(t.CzmGeoJson={})),t.CzmGeoJson=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},12078:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGlobeLevelMaterial=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGlobeLevelMaterial"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new l.Number3Property("inputShadows","inputShadows",!1,!1,[this,"inputShadows"]),new l.Number3Property("inputHighlights","inputHighlights",!1,!1,[this,"inputHighlights"]),new l.Number3Property("midtones","midtones",!1,!1,[this,"midtones"]),new l.Number3Property("outputShadows","outputShadows",!1,!1,[this,"outputShadows"]),new l.Number3Property("outputHighlights","outputHighlights",!1,!1,[this,"outputHighlights"])])],!1)},n=t,t.type=n.register("CzmGlobeLevelMaterial",n,{chsName:"CzmGlobeLevelMaterial",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmGlobeLevelMaterial"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmGlobeLevelMaterial=u,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{enabled:!0,inputShadows:[0,0,0],inputHighlights:[1,1,1],midtones:[.5,.5,.5],outputShadows:[0,0,0],outputHighlights:[1,1,1]})}}(u=t.CzmGlobeLevelMaterial||(t.CzmGlobeLevelMaterial={})),t.CzmGlobeLevelMaterial=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},51724:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGlobeMaterial=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGlobeMaterial"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("enableContour","enableContour.",!0,!1,[this,"enableContour"],t.defaults.enableContour),new l.NumberProperty("contourSpacing","contourSpacing",!0,!1,[this,"contourSpacing"],t.defaults.contourSpacing),new l.NumberProperty("contourWidth","contourWidth",!0,!1,[this,"contourWidth"],t.defaults.contourWidth),new l.EnumProperty("材质模式","材质模式",!0,!1,[this,"shadingMode"],[["高程","elevation"],["坡度","slope"],["坡向","aspect"],["不着色","none"]],t.defaults.shadingMode)])],!1)},n=t,t.type=n.register("CzmGlobeMaterial",n,{chsName:"全球材质",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Material API 实现的全球材质, 注意坡度和坡向材质起作用是需要地形的requestVertexNormals属性设置为true"}),t.defaults=i(i({},u.ESSceneObject.defaults),{show:!1,enableContour:!1,contourSpacing:150,contourWidth:2,shadingMode:"none"}),t}(u.ESSceneObject);t.CzmGlobeMaterial=p,function(e){e.createDefaultProps=function(){return i({show:void 0,shadingMode:void 0,enableContour:!1,contourSpacing:150,contourWidth:2},u.ESSceneObject.createDefaultProps())}}(p=t.CzmGlobeMaterial||(t.CzmGlobeMaterial={})),t.CzmGlobeMaterial=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},66551:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmHeatMap=void 0;var c=n(80468),u=n(51355),p=n(59645),f=n(7878),d=l(n(97339)),h=n(64759),y=n(14655),g=function(e){function t(t){var n=e.call(this)||this;return n._czmHeatMap=t,n._czmCustomGroundRectangle=function(){var e=n.disposeVar(new f.CzmCustomGroundRectangle);n.dispose(n.czmHeatMap.components.disposableAdd(e)),e.sharedCzmTextureWithId.sceneObject=n.czmHeatMap.czmTexture;var t=n.czmHeatMap;return n.dispose((0,u.track)([e,"show"],[t,"show"])),n.dispose((0,u.bind)([e,"allowPicking"],[t,"allowPicking"])),n.dispose((0,u.bind)([e,"editing"],[t,"editing"])),n.dispose((0,u.bind)([e,"pointEditing"],[t,"pointEditing"])),n.dispose((0,u.bind)([e,"rectangle"],[t,"rectangle"])),n.dispose((0,u.bind)([e,"rotation"],[t,"rotationAngle"])),n.dispose((0,u.track)([e,"color"],[t,"color"])),n.dispose((0,u.track)([e,"classificationType"],[t,"classificationType"])),n.dispose(e.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}))),n.dispose(t.flyToEvent.disposableOn((function(t){e.flyTo(t)}))),e}(),n}return o(t,e),Object.defineProperty(t.prototype,"czmHeatMap",{get:function(){return this._czmHeatMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCustomGroundRectangle",{get:function(){return this._czmCustomGroundRectangle},enumerable:!1,configurable:!0}),t}(u.Destroyable),m=function(e){function t(t){var n=e.call(this)||this;return n._czmHeatMap=t,n._czmCustomRectangle=function(){var e=n.disposeVar(new y.CzmCustomRectangle);n.dispose(n.czmHeatMap.components.disposableAdd(e)),e.sharedCzmTextureWithId.sceneObject=n.czmHeatMap.czmTexture;var t=n.czmHeatMap;return n.dispose((0,u.track)([e,"show"],[t,"show"])),n.dispose((0,u.bind)([e,"allowPicking"],[t,"allowPicking"])),n.dispose((0,u.bind)([e,"editing"],[t,"editing"])),n.dispose((0,u.bind)([e,"pointEditing"],[t,"pointEditing"])),n.dispose((0,u.bind)([e,"rectangle"],[t,"rectangle"])),n.dispose((0,u.bind)([e,"height"],[t,"height"])),n.dispose((0,u.bind)([e,"rotation"],[t,"rotationAngle"])),n.dispose((0,u.track)([e,"color"],[t,"color"])),n.dispose(e.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}))),n.dispose(t.flyToEvent.disposableOn((function(t){e.flyTo(t)}))),e}(),n}return o(t,e),Object.defineProperty(t.prototype,"czmHeatMap",{get:function(){return this._czmHeatMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCustomGroundRectangle",{get:function(){return this._czmCustomRectangle},enumerable:!1,configurable:!0}),t}(u.Destroyable),v=function(e){function t(n){var r,o=e.call(this,n)||this;o._pickedEvent=o.disposeVar(new u.Event),o._flyToEvent=o.disposeVar(new u.Event),o._geoRectangle=o.disposeVar(new c.GeoRectangle),o._canvasHeightAndCanvasUnitPerMeter=o.disposeVar((0,u.reactArrayWithUndefined)(void 0)),o._transformedData=o.disposeVar((0,u.react)([])),o._radiusInCanvasUnit=o.disposeVar((0,u.react)(void 0)),o._czmTexture=(r=o.disposeVar(new h.CzmTexture),o.dispose(o.components.disposableAdd(r)),r.flipY=!1,r),o._rectangleResetting=o.disposeVar(new p.ObjResettingWithEvent(o.groundChanged,(function(){return o.ground?new g(o):new m(o)})));var i=o,s=o._canvasHeightAndCanvasUnitPerMeter,l=document.createElement("div");o._div=l,document.body.appendChild(l),o.dispose((function(){document.body.removeChild(l)})),l.style.display="none";var f=d.default.create({container:l,radius:40,blur:.85});o._heatMap=f,(O=function(){var e,n=null!==(e=i.rectangle)&&void 0!==e?e:t.defaults.rectangle,r=n[2]-n[0],a=n[3]-n[1];if(!Number.isFinite(r)||!Number.isFinite(a)||r<=0||a<=0)s.value=void 0;else{var l=o.getCanvasWidth(),c=12756274*Math.PI/360,u=Math.cos((n[1]+.5*a)*Math.PI/180);if(u<=0)s.value=void 0;else{var p=1/u,f=p*l*a/r,d=l/(r*p*c);s.value=[f,d],i.debug&&console.log("canvasHeightAndCanvasUnitPerMeter: ".concat(s.value.toString()))}}})();var y=o.disposeVar((0,u.createNextAnimateFrameEvent)(i.canvasWidthChanged,i.rectangleChanged));o.dispose(y.disposableOn(O));var v=o._transformedData;(O=function(){var e,n;if(s.value){var r=i.getCanvasWidth(),o=a(s.value,1)[0],c=null!==(e=i.rectangle)&&void 0!==e?e:t.defaults.rectangle;l.style.width="".concat(r,"px"),l.style.height="".concat(o,"px"),i.heatMap._renderer.setDimensions(r,o),i.debug&&console.log("setDimensions(".concat(r,", ").concat(o,")")),v.value=function(e,t,n,r){return e.map((function(e){return{x:(e[0]-t[0])*n/(t[2]-t[0])|0,y:(e[1]-t[1])*r/(t[3]-t[1])|0,value:e[2]}}))}(null!==(n=i.data)&&void 0!==n?n:t.defaults.data,c,r,o),i.debug&&console.log("transformedData changed",v)}})();var b=o.disposeVar((0,u.createNextAnimateFrameEvent)(i.canvasWidthChanged,s.changed,i.rectangleChanged,i.dataChanged));o.dispose(b.disposableOn(O));var _=o.disposeVar(new u.Event);(O=function(){var e,n,r,o,a,s=null!==(e=i.radius)&&void 0!==e?e:t.defaults.radius,l={radius:s,maxOpacity:null!==(n=i.maxOpacity)&&void 0!==n?n:t.defaults.maxOpacity,minOpacity:null!==(r=i.minOpacity)&&void 0!==r?r:t.defaults.minOpacity,blur:null!==(o=i.blur)&&void 0!==o?o:t.defaults.blur,gradient:null!==(a=i.gradient)&&void 0!==a?a:t.defaults.gradient};f.configure(l),f._store._cfgRadius=s,_.emit(),i.debug&&console.log("resetDataEvent.emit()")})();var w=o.disposeVar((0,u.createNextAnimateFrameEvent)(i.radiusChanged,i.maxOpacityChanged,i.minOpacityChanged,i.blurChanged,i.gradientChanged));o.dispose(w.disposableOn(O)),(O=function(){var e,n,r,a={max:null!==(e=i.max)&&void 0!==e?e:t.defaults.max,min:null!==(n=i.min)&&void 0!==n?n:t.defaults.min,data:v.value};f.setData(a);var s=f._renderer.canvas;(null!==(r=i.debug)&&void 0!==r?r:t.defaults.debug)&&console.log("canvas: ",s),o.czmTexture.copyFromCanvas(s)})();var P=o.disposeVar((0,u.createNextAnimateFrameEvent)(i.maxChanged,i.minChanged,v.changed,_));o.dispose(P.disposableOn(O));var C=o.geoRectangle;C.material={type:"Color",color:[1,1,1,.3]},o.dispose(o.components.disposableAdd(C));var O,x=o.disposeVar((0,u.createNextAnimateFrameEvent)(o.editingChanged,o.pointEditingChanged));return(O=function(){var e,n,r=(null!==(e=o.editing)&&void 0!==e?e:t.defaults.editing)||(null!==(n=o.pointEditing)&&void 0!==n?n:t.defaults.pointEditing);C.show=r})(),o.dispose(x.disposableOn(O)),o.dispose((0,u.track)([C,"rectangle"],[o,"rectangle"])),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmHeatMap"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heatMap",{get:function(){return this._heatMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoRectangle",{get:function(){return this._geoRectangle},enumerable:!1,configurable:!0}),t.prototype.setTestCenterData=function(){if(this.rectangle){var e=this.rectangle,t=e[2]-e[0],n=e[3]-e[1];t<=0||n<=0?console.warn("setRandomData error: w <= 0 || h <= 0"):this.data=[[e[0],e[1],100],[e[2],e[3],100],[.5*t+e[0],.5*n+e[1],100]]}else console.warn("setRandomData error: !this.rectangle")},t.prototype.getCanvasWidth=function(){var e,n=null!==(e=this.canvasWidth)&&void 0!==e?e:t.defaults.canvasWidth;return n<0?10:n>8192?8192:n},t.prototype.setTestRandomData=function(e){var n;if(this.rectangle){var r=this.rectangle,o=r[2]-r[0],i=r[3]-r[1];if(o<=0||i<=0)console.warn("setRandomData error: w <= 0 || h <= 0");else{var l=null!==(n=this.radius)&&void 0!==n?n:t.defaults.radius,c=this.getCanvasWidth(),u=Math.cos((r[1]+.5*i)*Math.PI/180),p=2*l/c,f=p*u;this.data=s([],a(new Array(e).keys()),!1).map((function(e){return[r[0]+f*o+(o-2*o*f)*Math.random(),r[1]+p*i+(i-2*i*p)*Math.random(),100*Math.random()]}))}}else console.warn("setRandomData error: !this.rectangle")},Object.defineProperty(t.prototype,"canvasHeightAndCanvasUnitPerMeter",{get:function(){return this._canvasHeightAndCanvasUnitPerMeter.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformedData",{get:function(){return this._transformedData.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radiusInCanvasUnit",{get:function(){return this._radiusInCanvasUnit.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTexture",{get:function(){return this._czmTexture},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],t.defaults.show),new c.BooleanProperty("allowPicking","allowPicking.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new c.NumberProperty("旋转角","旋转角",!1,!1,[this,"rotationAngle"]),new c.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new c.Number4Property("rectangle","rectangle",!0,!1,[this,"rectangle"],t.defaults.rectangle),new c.NumberProperty("height","height",!1,!1,[this,"height"]),new c.Number4Property("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new c.EnumProperty("classificationType","classificationType",!0,!1,[this,"classificationType"],[["Terrain","Terrain"],["Cesium3dTile","Cesium3dTile"],["Both","Both"]],t.defaults.classificationType)]),new c.GroupProperty("热力图","热力图",[new c.JsonProperty("数据","数据，需要经纬度以及对应的热力值",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new c.NumberProperty("画布宽度","画布宽度",!0,!1,[this,"canvasWidth"],t.defaults.canvasWidth),new c.NumberProperty("最大值","最大值",!0,!1,[this,"max"],t.defaults.max),new c.NumberProperty("最小值","最小值",!0,!1,[this,"min"],t.defaults.min),new c.NumberProperty("半径","半径",!0,!1,[this,"radius"],t.defaults.radius),new c.NumberProperty("最大不透明度","最大不透明度(0-1),最高值将具有的最大不透明度",!0,!1,[this,"maxOpacity"],t.defaults.maxOpacity),new c.NumberProperty("最小不透明度","最小不透明度(0-1),最低值将具有的最小不透明度",!0,!1,[this,"minOpacity"],t.defaults.minOpacity),new c.NumberProperty("模糊","模糊(0-1),应用于所有数据点的模糊因子。模糊因子越高，渐变越平滑",!0,!1,[this,"blur"],t.defaults.blur),new c.JsonProperty("色带","色带",!0,!1,[this,"gradient"],t.defaults.gradient),new c.FunctionProperty("setTestCenterData","setTestCenterData",[],(function(){return r.setTestCenterData()}),[]),new c.FunctionProperty("setTestRandomData","setTestRandomData",["number"],(function(e){return r.setTestRandomData(e)}),[55]),new c.BooleanProperty("贴地","贴地",!1,!1,[this,"ground"]),new c.BooleanProperty("调试","调试.",!0,!1,[this,"debug"],t.defaults.debug)])],!1)},n=t,t.type=n.register("CzmHeatMap",n,{chsName:"CzmHeatMap",tags:["CzmObjects"],description:"CzmHeatMap"}),t.defaults=i(i({},c.ESSceneObject.defaults),{show:!0,allowPicking:!1,origin:[.5,.5],rotationAngle:0,color:[1,1,1,1],classificationType:"Both",data:[],dataMd:"\n示例1:设置rectangle为 [\n    119.39,\n    39.9,\n    120.39,\n    40.9\n]\n```\n",canvasWidth:256,max:100,min:0,radius:10,maxOpacity:.5,minOpacity:0,blur:.85,gradient:{".5":"green",".7":"yellow",".95":"red"},pointEditing:!1,rectangle:[118.39,38.9,120.39,40.9],editing:!1,debug:!1}),t}(c.ESSceneObject);t.CzmHeatMap=v,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,rotationAngle:0,color:(0,u.reactArrayWithUndefined)(void 0),classificationType:void 0,data:(0,u.reactDeepArrayWithUndefined)(void 0,(function(e,t){return e.every((function(e,n){return e===t[n]}))}),(function(e){return s([],a(e),!1)})),canvasWidth:void 0,max:void 0,min:void 0,radius:void 0,maxOpacity:void 0,minOpacity:void 0,blur:void 0,gradient:(0,u.reactJsonWithUndefined)(void 0),rectangle:(0,u.reactArrayWithUndefined)(void 0),height:0,editing:void 0,pointEditing:void 0,ground:!0,debug:void 0},c.ESSceneObject.createDefaultProps())}}(v=t.CzmHeatMap||(t.CzmHeatMap={})),t.CzmHeatMap=v,(0,u.extendClassProps)(v.prototype,v.createDefaultProps)},87752:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmImageModel=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._sRotationEditing=n.disposeVar(new l.RotationEditing([n,"position"],[n,"rotation"],[n,"rotationEditing"],n.components,{showHelper:!1})),n._sPrsEditing=n.disposeVar(new l.PrsEditing([n,"position"],[n,"rotation"],[n,"editing"],n,{rotation:{showHelper:!1}})),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmImageModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sRotationEditing",{get:function(){return this._sRotationEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPrsEditing",{get:function(){return this._sPrsEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.StringProperty("图片url","图片url",!1,!1,[this,"uri"]),new l.StringProperty("czmTextureId","czmTextureId",!1,!1,[this,"czmTextureId"]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.PositionProperty("位置","位置(经度/纬度/高度)，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.RotationProperty("姿态","姿态(偏航/俯仰/翻转)，度为单位",!1,!1,[this,"rotation"]),new l.EnumProperty("旋转模式","旋转模式",!1,!1,[this,"rotationMode"],[["WithCameraOnlyZ","WithCameraOnlyZ"],["WithCamera","WithCamera"],["WithProp","WithProp"]]),new l.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new l.BooleanProperty("姿态编辑","姿态编辑",!1,!1,[this,"rotationEditing"]),new l.BooleanProperty("编辑","编辑",!1,!1,[this,"editing"]),new l.Number2Property("尺寸","size 单位是米",!1,!1,[this,"size"]),new l.NumberProperty("缩放","scale",!1,!1,[this,"scale"]),new l.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!1,!1,[this,"maximumScale"]),new l.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!1,!1,[this,"minimumScale"]),new l.NumberProperty("屏幕像素","屏幕像素，根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!1,!1,[this,"pixelSize"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.Number4Property("原点比例","原点比例",!1,!1,[this,"originRatioAndOffset"]),new l.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],t.defaults.viewDistanceRange),new l.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])])],!1)},n=t,t.type=n.register("CzmImageModel",n,{chsName:"图片模型",tags:["CzmObjects"],description:"将图片当成一个模型来绘制，可以设置方向、位置、缩放等。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{position:[0,0,0],viewDistanceRange:[1e3,1e4,3e4,6e4]}),t}(l.ESSceneObject);t.CzmImageModel=u,function(e){e.createDefaultProps=function(){return i({show:!0,allowPicking:!1,uri:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png",czmTextureId:"",position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArray)([0,0,0]),positionEditing:!1,rotationEditing:!1,editing:!1,rotationWithCamera:!1,rotationMode:"WithProp",size:(0,c.reactArray)([1,1]),scale:1,maximumScale:Number.MAX_VALUE,minimumScale:Number.MIN_VALUE,pixelSize:50,color:(0,c.reactArray)([1,1,1,1]),originRatioAndOffset:(0,c.reactArray)([.5,1,0,0]),viewDistanceRange:(0,c.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},l.ESSceneObject.createDefaultProps())}}(u=t.CzmImageModel||(t.CzmImageModel={})),t.CzmImageModel=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},1976:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmImagery=t.getCzmCodeFromCzmImagery=t.getCzmCode=t.getTilingSchemeStr=void 0;var c=n(80468),u=n(80468),p=n(51355),f=n(59645);function d(e){return"GeographicTilingScheme"===e.type?"new Cesium.GeographicTilingScheme()":"WebMercatorTilingScheme"===e.type?"new Cesium.WebMercatorTilingScheme()":void 0}function h(e){if(e.imageryProvider)if("UrlTemplateImageryProvider"===e.imageryProvider.type){var t=e.imageryProvider,n=f.SceneObject.context.getStrFromEnv;if(t.url){var r=[];return t.url&&r.push("url: '".concat(n(t.url),"'")),t.minimumLevel&&r.push("minimumLevel: ".concat(t.minimumLevel)),t.maximumLevel&&r.push("maximumLevel: ".concat(t.maximumLevel)),t.credit&&r.push("credit: '".concat(t.credit,"'")),t.rectangle&&r.push("rectangle: Cesium.Rectangle.fromDegrees(".concat(t.rectangle.join(", "),")")),t.tilingScheme&&("GeographicTilingScheme"===t.tilingScheme.type?r.push("tilingScheme: new Cesium.GeographicTilingScheme()"):("WebMercatorTilingScheme"===t.tilingScheme.type||"ToGCJ02WebMercatorTilingScheme"===t.tilingScheme.type||"ToWGS84WebMercatorTilingScheme"===t.tilingScheme.type)&&r.push("tilingScheme: new Cesium.WebMercatorTilingScheme()")),t.tileWidth&&r.push("tileWidth: ".concat(t.tileWidth)),t.tileHeight&&r.push("tileHeight: ".concat(t.tileHeight)),t.subdomains&&(Array.isArray(t.subdomains)?r.push("subdomains: [".concat(t.subdomains.map((function(e){return"'".concat(e,"'")})).join(", "),"]")):r.push("subdomains: '".concat(t.subdomains,"'"))),t.hasAlphaChannel&&r.push("hasAlphaChannel: ".concat(t.hasAlphaChannel)),t.pickFeaturesUrl&&"string"==typeof t.pickFeaturesUrl&&r.push("pickFeaturesUrl: '".concat(t.pickFeaturesUrl,"'")),"var imageryProvider = new Cesium.UrlTemplateImageryProvider({\n".concat(r.map((function(e){return"    ".concat(e)})).join(", \n"),"\n});\nviewer.imageryLayers.addImageryProvider(imageryProvider);")}}else console.warn("暂时只支持UrlTemplateImageryProvider的影像导出成纯Cesium代码。");else console.warn("还未配置provider！无法导出Cesium代码！")}t.getTilingSchemeStr=d,t.getCzmCode=function(e){var t,n;if("UrlTemplateImageryProvider"===e.type){var r=e.customTags,o="";if(r){o+="customTags: {\n";try{for(var i=a(Object.entries(r)),l=i.next();!l.done;l=i.next()){var c=s(l.value,2),u=c[0],p=c[1];o+='        "'.concat(u,'": ').concat(p,",\n")}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}o+="    }"}var h=e.tilingScheme?"tilingScheme: ".concat(d(e.tilingScheme)):"",y=f.SceneObject.context.getStrFromEnv;return'\nconst imageryProvider = new Cesium.UrlTemplateImageryProvider({\n    url: "'.concat(y(e.url),'",').concat(h&&"\n    "+h+",").concat(o&&"\n    "+o+",","\n});\nviewer.imageryLayers.addImageryProvider(imageryProvider);\n        ")}},t.getCzmCodeFromCzmImagery=h;var y=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new p.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmImagery"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getCzmCode=function(){if(this.imageryProvider)return h(this)},t.prototype.getProperties=function(n){var r=this;return l(l([],s(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.BooleanProperty("show","是否显示",!1,!1,[this,"show"]),new u.FunctionProperty("获取Cesium代码","获取Cesium代码",[],(function(){return console.log(r.getCzmCode())}),[])]),new u.GroupProperty("图层","图层",[new u.NumberProperty("zIndex","层级",!0,!1,[this,"zIndex"],t.defaults.zIndex),new u.Number4Property("矩形范围","西南东北",!0,!1,[this,"rectangle"],t.defaults.rectangle),new u.NumberProperty("alpha","The alpha blending value of this layer, from 0.0 to 1.0.",!0,!1,[this,"alpha"],t.defaults.alpha),new u.NumberProperty("nightAlpha","The alpha blending value of this layer on the night side of the globe, from 0.0 to 1.0.",!0,!1,[this,"nightAlpha"],t.defaults.nightAlpha),new u.NumberProperty("dayAlpha","The alpha blending value of this layer on the day side of the globe, from 0.0 to 1.0.",!0,!1,[this,"dayAlpha"],t.defaults.dayAlpha),new u.NumberProperty("brightness","The brightness of this layer. 1.0 uses the unmodified imagery color.",!0,!1,[this,"brightness"],t.defaults.brightness),new u.NumberProperty("contrast","The contrast of this layer. 1.0 uses the unmodified imagery color.",!0,!1,[this,"contrast"],t.defaults.contrast),new u.NumberProperty("hue","The hue of this layer. 0.0 uses the unmodified imagery color. ",!0,!1,[this,"hue"],t.defaults.hue),new u.NumberProperty("saturation","The saturation of this layer. 1.0 uses the unmodified imagery color. ",!0,!1,[this,"saturation"],t.defaults.saturation),new u.NumberProperty("gamma","The gamma correction to apply to this layer. 1.0 uses the unmodified imagery color.",!0,!1,[this,"gamma"],t.defaults.gamma),new u.EnumProperty("splitDirection","The ImagerySplitDirection split to apply to this layer.",!0,!1,[this,"splitDirection"],[["LEFT","LEFT"],["NONE","NONE"],["RIGHT","RIGHT"]],t.defaults.splitDirection),new u.EnumProperty("minificationFilter","The texture minification filter to apply to this layer.",!0,!1,[this,"minificationFilter"],[["LINEAR_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"],["NEAREST_MIPMAP_LINEAR","NEAREST_MIPMAP_LINEAR"],["LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST"],["NEAREST","NEAREST"],["LINEAR","LINEAR"],["NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_NEAREST"]],t.defaults.minificationFilter),new u.EnumProperty("magnificationFilter","The texture minification filter to apply to this layer.",!0,!1,[this,"magnificationFilter"],[["NEAREST","NEAREST"],["LINEAR","LINEAR"]],t.defaults.magnificationFilter),new u.NumberProperty("maximumAnisotropy","The maximum anisotropy level to use for texture filtering.",!0,!1,[this,"maximumAnisotropy"],t.defaults.maximumAnisotropy),new u.NumberProperty("minimumTerrainLevel","The minimum terrain level-of-detail at which to show this imagery layer, ",!0,!1,[this,"minimumTerrainLevel"],t.defaults.minimumTerrainLevel),new u.NumberProperty("maximumTerrainLevel","The maximum terrain level-of-detail at which to show this imagery layer,",!0,!1,[this,"maximumTerrainLevel"],t.defaults.maximumTerrainLevel),new u.Number4Property("cutoutRectangle","西南东北 ",!0,!1,[this,"cutoutRectangle"],t.defaults.cutoutRectangle),new u.ColorProperty("colorToAlpha","Color to be used as alpha.",!0,!1,[this,"colorToAlpha"],t.defaults.colorToAlpha),new u.NumberProperty("colorToAlphaThreshold","Threshold for color-to-alpha.",!0,!1,[this,"colorToAlphaThreshold"],t.defaults.colorToAlphaThreshold),new u.BooleanProperty("hasAlphaChannel","hasAlphaChannel",!0,!1,[this,"hasAlphaChannel"],t.defaults.hasAlphaChannel),new u.BooleanProperty("enablePickFeatures","enablePickFeatures",!0,!1,[this,"enablePickFeatures"],t.defaults.enablePickFeatures),new u.UriProperty("pickFeaturesUrl","pickFeaturesUrl",!0,!1,[this,"pickFeaturesUrl"],t.defaults.pickFeaturesUrl)]),new u.GroupProperty("数据提供","数据提供",[new u.JsonProperty("Provider","imageryProvider",!1,!1,[this,"imageryProvider"],void 0,c.CzmImageryProviderJsonTypeMd)])],!1)},n=t,t.type=n.register("CzmImagery",n,{chsName:"影像",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的ImageryLayer API 实现的影像。"}),t.defaults=i(i({},u.ESSceneObject.defaults),{rectangle:[-180,-90,180,90],alpha:1,nightAlpha:1,dayAlpha:1,brightness:1,contrast:1,hue:0,saturation:1,gamma:1,splitDirection:"NONE",minificationFilter:"LINEAR",magnificationFilter:"LINEAR",maximumAnisotropy:0,minimumTerrainLevel:0,maximumTerrainLevel:0,cutoutRectangle:[1,1,1,1],colorToAlpha:[1,1,1,.5],colorToAlphaThreshold:.004,imageryProvider:{type:"TileMapServiceImageryProvider"},zIndex:0,hasAlphaChannel:!0,pickFeaturesUrl:"",enablePickFeatures:!0}),t}(u.ESSceneObject);t.CzmImagery=y,function(e){e.createDefaultProps=function(){return i({show:!0,rectangle:(0,p.reactArrayWithUndefined)(void 0),alpha:void 0,nightAlpha:void 0,dayAlpha:void 0,brightness:void 0,contrast:void 0,hue:void 0,saturation:void 0,gamma:void 0,splitDirection:void 0,minificationFilter:void 0,magnificationFilter:void 0,maximumAnisotropy:void 0,minimumTerrainLevel:void 0,maximumTerrainLevel:void 0,cutoutRectangle:(0,p.reactArrayWithUndefined)(void 0),colorToAlpha:(0,p.reactArrayWithUndefined)(void 0),colorToAlphaThreshold:void 0,imageryProvider:(0,p.reactJsonWithUndefined)(void 0),zIndex:0,hasAlphaChannel:void 0,pickFeaturesUrl:void 0,enablePickFeatures:void 0},u.ESSceneObject.createDefaultProps())}}(y=t.CzmImagery||(t.CzmImagery={})),t.CzmImagery=y,(0,p.extendClassProps)(y.prototype,y.createDefaultProps)},52180:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmKml=void 0;var l=n(80468),c=n(51355),u=n(94914),p='async (dataSource, viewer) => {\n    viewer.clock.shouldAnimate = false;\n    const rider = dataSource.entities.getById("tour");\n    await viewer.flyTo(rider)\n\n    viewer.trackedEntity = rider;\n    viewer.selectedEntity = viewer.trackedEntity;\n    viewer.clock.multiplier = 30;\n    viewer.clock.shouldAnimate = true;\n}\n',f="".concat("${xe2-assets-script-dir}/xe2-assets/scene-manager/misc/bikeRide.kml","\n\n该路径可以使用下面回调函数\n```\n").concat(p,"\n```\n\n").concat("${xe2-assets-script-dir}/xe2-assets/scene-manager/misc/facilities/facilities.kml","\n\n该路径可以使用下面回调函数\n```\n").concat("(dataSource) => {\n    var entities = dataSource.entities.values;\n \n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      if (Cesium.defined(entity.billboard)) {\n        // entity.label = undefined; // 去掉文字的显示\n \n        entity.point = new Cesium.PointGraphics({\n            color: Cesium.Color.BLUE,\n            pixelSize: 10\n        });\n      }\n    }   \n}\n","\n```\n\n").concat("${xe2-assets-script-dir}/xe2-assets/scene-manager/misc/gdpPerCapita2008.kmz","\n\n该路径可以使用下面回调函数\n```\n").concat("(dataSource) => {\n    var entities = dataSource.entities.values;\n\n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      if (Cesium.defined(entity.billboard)) {\n        // entity.label = undefined; // 去掉文字的显示\n\n        entity.point = new Cesium.PointGraphics({\n            color: Cesium.Color.YELLOW,\n            pixelSize: 20\n        });\n      }\n    }   \n}\n","\n```\n"),d=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._loadFuncReact=n.disposeVar((0,c.react)(void 0)),n._clock=n.disposeVar(new u.CzmClock),n._resetClockEvent=n.disposeVar(new c.Event),n.dispose(n.components.disposableAdd(n._clock)),n.dispose((0,c.bind)([n.clock,"startTime"],[n,"startTime"])),n.dispose((0,c.bind)([n.clock,"stopTime"],[n,"stopTime"])),n.dispose((0,c.bind)([n.clock,"currentTime"],[n,"currentTime"])),n.dispose((0,c.bind)([n.clock,"multiplier"],[n,"multiplier"])),n.dispose((0,c.bind)([n.clock,"clockStep"],[n,"clockStep"])),n.dispose((0,c.bind)([n.clock,"clockRange"],[n,"clockRange"])),n.dispose((0,c.bind)([n.clock,"shouldAnimate"],[n,"shouldAnimate"])),n.dispose((0,c.bind)([n.clock,"enabled"],[n,"clockEnabled"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmKml"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFun",{get:function(){return this._loadFuncReact.value},set:function(e){this._loadFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunChanged",{get:function(){return this._loadFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clock",{get:function(){return this._clock},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetClockEvent",{get:function(){return this._resetClockEvent},enumerable:!1,configurable:!0}),t.prototype.resetClock=function(){this._resetClockEvent.emit()},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.LongStringProperty("数据","数据",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],t.defaults.uri),new l.EvalStringProperty("loadFnStr","loadFnStr",!0,!1,[this,"loadFuncStr"],t.defaults.defaultLoadFuncStr,t.defaults.defaultLoadFuncDocStr),new l.BooleanProperty("自动设置时钟","自动设置时钟",!0,!1,[this,"autoResetClock"],t.defaults.autoResetClock),new l.FunctionProperty("重设时钟","根据当前加载的数据重设始终",[],(function(){return r.resetClock()}),[])]),new l.GroupProperty("时钟","时钟",[new l.BooleanProperty("启用","启用",!0,!1,[this,"clockEnabled"],t.defaults.clockEnabled),new l.DateProperty("开始时间","开始时间",!0,!1,[this,"startTime"],t.defaults.startTime),new l.DateProperty("结束时间","结束时间",!0,!1,[this,"stopTime"],t.defaults.stopTime),new l.DateProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("倍速","倍速.",!0,!1,[this,"multiplier"],t.defaults.multiplier),new l.EnumProperty("clockStep","clockStep",!0,!1,[this,"clockStep"],[["TICK_DEPENDENT","TICK_DEPENDENT"],["SYSTEM_CLOCK_MULTIPLIER","SYSTEM_CLOCK_MULTIPLIER"],["SYSTEM_CLOCK","SYSTEM_CLOCK"]],t.defaults.clockStep),new l.EnumProperty("clockRange","clockRange",!0,!1,[this,"clockRange"],[["UNBOUNDED","UNBOUNDED"],["CLAMPED","CLAMPED"],["LOOP_STOP","LOOP_STOP"]],t.defaults.clockRange),new l.BooleanProperty("是否启用动画","是否启用动画",!0,!1,[this,"shouldAnimate"],t.defaults.shouldAnimate)])],!1)},n=t,t.type=n.register("CzmKml",n,{chsName:"CzmKml",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Kml数据加载"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!0,defaultLoadFuncStr:p,defaultLoadFuncDocStr:f,data:'<?xml version="1.0" encoding="utf-8" ?>\n<kml xmlns="http://www.opengis.net/kml/2.2">\n<Document id="root_doc">\n<Folder><name>高速公路</name>\n  <Placemark>\n\t<name>卫岗隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.8385657,32.0429378 118.8338431,32.0439411</coordinates></LineString>\n  </Placemark>\n  <Placemark>\n\t<name>南京长江隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.67057150000001,32.0543862 118.6921381,32.0428005 118.6931683,32.0420084 118.6942853,32.0410913 118.6954844,32.0399309 118.6978042,32.037811</coordinates></LineString>\n  </Placemark>\n</Folder>\n<Folder><name>市级地名</name>\n  <Placemark>\n\t<name>南京市</name>\n      <Point><coordinates>118.79126,32.06042</coordinates></Point>\n  </Placemark>\n  <Placemark>\n\t<name>马鞍山市</name>\n      <Point><coordinates>118.49952,31.69933</coordinates></Point>\n  </Placemark>\n</Folder>\n',dataMd:'KML文件本质上是一个XML文件，完全遵循XML文件格式。但是，KML文件定义了几个特殊的元素标签，常用标签为：Placemark：标记或路径 Linestring：路劲的坐标点 Point：标记位置的坐标 Coordinates：经纬度坐标\n```\n<?xml version="1.0" encoding="utf-8" ?>\n<kml xmlns="http://www.opengis.net/kml/2.2">\n<Document id="root_doc">\n<Folder><name>高速公路</name>\n  <Placemark>\n\t<name>卫岗隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.8385657,32.0429378 118.8338431,32.0439411</coordinates></LineString>\n  </Placemark>\n  <Placemark>\n\t<name>南京长江隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.67057150000001,32.0543862 118.6921381,32.0428005 118.6931683,32.0420084 118.6942853,32.0410913 118.6954844,32.0399309 118.6978042,32.037811</coordinates></LineString>\n  </Placemark>\n</Folder>\n<Folder><name>市级地名</name>\n  <Placemark>\n\t<name>南京市</name>\n      <Point><coordinates>118.79126,32.06042</coordinates></Point>\n  </Placemark>\n  <Placemark>\n\t<name>马鞍山市</name>\n      <Point><coordinates>118.49952,31.69933</coordinates></Point>\n  </Placemark>\n</Folder>\n```\n',autoResetClock:!0,clockEnabled:!1,startTime:u.CzmClock.defaults.startTime,stopTime:u.CzmClock.defaults.stopTime,currentTime:u.CzmClock.defaults.currentTime,multiplier:u.CzmClock.defaults.multiplier,clockStep:u.CzmClock.defaults.clockStep,clockRange:u.CzmClock.defaults.clockRange,shouldAnimate:u.CzmClock.defaults.shouldAnimate,uri:"${xe2-assets-script-dir}/xe2-assets/scene-manager/misc/bikeRide.kml"}),t}(l.ESSceneObject);t.CzmKml=d,function(e){e.createDefaultProps=function(){return i({show:!0,uri:void 0,allowPicking:void 0,loadFuncStr:void 0,data:void 0,autoResetClock:void 0,clockEnabled:void 0,startTime:void 0,stopTime:void 0,currentTime:void 0,multiplier:void 0,clockStep:void 0,clockRange:void 0,shouldAnimate:void 0},l.ESSceneObject.createDefaultProps())}}(d=t.CzmKml||(t.CzmKml={})),t.CzmKml=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},37774:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmLabel=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmLabel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],!1),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"fillColor"],[1,1,1,1]),new l.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],"NONE"),new l.EnumProperty("horizontalOrigin","CENTER | LEFT | RIGHT",!0,!1,[this,"horizontalOrigin"],[["CENTER","CENTER"],["LEFT","LEFT"],["RIGHT","RIGHT"]],"CENTER"),new l.EnumProperty("verticalOrigin",'"CENTER" | "BOTTOM" | "BASELINE" | "TOP"',!0,!1,[this,"verticalOrigin"],[["CENTER","CENTER"],["TOP","TOP"],["BOTTOM","BOTTOM"],["BASELINE","BASELINE"]],"CENTER"),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"]),new l.NearFarScalerProperty("translucencyByDistance","translucencyByDistance",!0,!1,[this,"translucencyByDistance"]),new l.NearFarScalerProperty("pixelOffsetScaleByDistance","pixelOffsetScaleByDistance",!0,!1,[this,"pixelOffsetScaleByDistance"]),new l.NumberProperty("scale","缩放",!0,!1,[this,"scale"],1),new l.Number2Property("pixelOffset","pixelOffset",!0,!1,[this,"pixelOffset"]),new l.Number3Property("eyeOffset","eyeOffset",!0,!1,[this,"eyeOffset"]),new l.EnumProperty("style",'"FILL" | "OUTLINE" | "FILL_AND_OUTLINE"',!0,!1,[this,"style"],[["FILL","FILL"],["OUTLINE","OUTLINE"],["FILL_AND_OUTLINE","FILL_AND_OUTLINE"]],"FILL"),new l.Number2Property("backgroundPadding","backgroundPadding",!0,!1,[this,"backgroundPadding"],[7,5]),new l.ColorProperty("backgroundColor"," A Property specifying the background color.",!0,!1,[this,"backgroundColor"],[.165,.165,.165,.8]),new l.ColorProperty("outlineColor"," A Property specifying the outline color.",!0,!1,[this,"outlineColor"],[0,0,0,1]),new l.BooleanProperty("showBackground","showBackground.",!0,!1,[this,"showBackground"],!1),new l.LongStringProperty("text","text",!0,!1,[this,"text"],"文字标绘(primitive)"),new l.StringProperty("font","font",!0,!1,[this,"font"],"30px sans-serif"),new l.NumberProperty("outlineWidth","outlineWidth",!0,!1,[this,"outlineWidth"],1),new l.NearFarScalerProperty("scaleByDistance","scaleByDistance",!0,!1,[this,"scaleByDistance"])])],!1)},n=t,t.type=n.register("CzmLabel",n,{chsName:"文字标绘(primitive)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部文字标绘API实现。"}),t}(l.ESSceneObject);t.CzmLabel=u,function(e){e.createDefaultProps=function(){return i({editing:void 0,fillColor:(0,c.reactArrayWithUndefined)(void 0),show:void 0,allowPicking:void 0,position:(0,c.reactArrayWithUndefined)(void 0),pixelOffset:void 0,eyeOffset:(0,c.reactArrayWithUndefined)(void 0),heightReference:void 0,horizontalOrigin:void 0,verticalOrigin:void 0,scale:void 0,translucencyByDistance:(0,c.reactArrayWithUndefined)(void 0),pixelOffsetScaleByDistance:(0,c.reactArrayWithUndefined)(void 0),distanceDisplayCondition:void 0,scaleByDistance:(0,c.reactArrayWithUndefined)(void 0),style:void 0,backgroundPadding:void 0,backgroundColor:(0,c.reactArrayWithUndefined)(void 0),outlineColor:(0,c.reactArrayWithUndefined)(void 0),showBackground:void 0,text:void 0,font:void 0,outlineWidth:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmLabel||(t.CzmLabel={})),t.CzmLabel=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},38017:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmLabelPrimitiveCollection=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmLabelPrimitiveCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.EnumProperty("blendOption","The label blending option. The default is used for rendering both opaque and translucent labels. However, if either all of the labels are completely opaque or all are completely translucent, setting the technique to BlendOption.OPAQUE or BlendOption.TRANSLUCENT can improve performance by up to 2x.",!0,!1,[this,"blendOption"],[["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OPAQUE_AND_TRANSLUCENT","OPAQUE_AND_TRANSLUCENT"]],"OPAQUE"),new l.BooleanProperty("是否显示","Determines if the primitives in the collection will be shown.",!0,!1,[this,"show"],!0),new l.BooleanProperty("debugShowBoundingVolume","For debugging only.Determines if this primitives commands bounding spheres are shown.",!0,!1,[this,"debugShowBoundingVolume"],!1),new l.JsonProperty("labelPrimitiveOptions","文字集合.",!0,!1,[this,"labelPrimitiveOptions"],void 0,'### 文字标绘集合示例\n```\n[\n    {\n        "position": [\n            116.4,\n            39.91,\n            0\n        ],\n        "fillColor": [\n            1,\n            0,\n            0,\n            1\n        ],\n        "text": "123"\n    },\n    {\n        "position": [\n            116.4,\n            39.92,\n            0\n        ],\n        "text": "千里莺啼绿映红，水村山郭酒旗风"\n    }\n]\n```\n')])],!1)},n=t,t.type=n.register("CzmLabelPrimitiveCollection",n,{chsName:"文字集合(LabelPrimitiveCollection)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的文字标绘集合。"}),t}(u.ESSceneObject);t.CzmLabelPrimitiveCollection=p,function(e){e.createDefaultProps=function(){return i({show:void 0,debugShowBoundingVolume:void 0,blendOption:void 0,labelPrimitiveOptions:void 0,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0),scale:(0,c.reactArrayWithUndefined)(void 0),localPosition:(0,c.reactArrayWithUndefined)(void 0),localRotation:(0,c.reactArrayWithUndefined)(void 0),localScale:(0,c.reactArrayWithUndefined)(void 0),localModelMatrix:(0,c.reactArrayWithUndefined)(void 0),modelMatrix:(0,c.reactArrayWithUndefined)(void 0)},u.ESSceneObject.createDefaultProps())}}(p=t.CzmLabelPrimitiveCollection||(t.CzmLabelPrimitiveCollection={})),t.CzmLabelPrimitiveCollection=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},64580:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmModelCreatingTool=void 0;var u=n(80468),p=n(51355),f=n(58354),d="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/drags/",h="${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/",y=[{imgUrl:d+"adult.png",modelUrl:h+"Cesium_Man.glb",title:"人物"},{imgUrl:d+"balloon.png",modelUrl:h+"CesiumBalloon.glb",title:"气球"},{imgUrl:d+"UAV.png",modelUrl:h+"CesiumDrone.glb",title:"无人机"},{imgUrl:d+"aircraft.png",modelUrl:h+"Cesium_Air.glb",title:"飞机"},{imgUrl:d+"satellite.png",modelUrl:h+"WeiXing.glb",title:"卫星"},{imgUrl:d+"missile.png",modelUrl:h+"DaoDan.glb",title:"导弹"},{imgUrl:d+"goodsTrain.png",modelUrl:h+"CesiumMilkTruck.glb",title:"货车"},{imgUrl:d+"tank.png",modelUrl:h+"TanKe.glb",title:"坦克"}],g=function(e){function t(n){var r=e.call(this,n)||this,i=r.disposeVar(new u.CustomDiv);r.dispose(r.components.disposableAdd(i));var l,c,d=r;r.dispose((0,p.track)([i,"show"],[r,"show"])),(y=function(){var e;try{r.createModelFn=Function(null!==(e=r.createModelFnStr)&&void 0!==e?e:t.defaults.createModelFnStr)}catch(e){console.error("createModelFn",e),r.createModelFn=void 0}})(),r.dispose(r.createModelFnStrChanged.disposableOn(y));var h=r,y=function(){try{i.instanceClass=function(e){function n(n,r,o){var i,y=this;if((y=e.call(this)||this)._subContainer=n,!o)return y;if(!(o instanceof f.CzmViewer))return y;var g=document.createElement("div");y._subContainer.appendChild(g),y.dispose((function(){return y._subContainer.removeChild(g)}));var m=function(){var e,n,o="display: ".concat((null!==(e=r.show)&&void 0!==e?e:t.defaults.show)?"flex":"none",";");g.style.cssText=o+(null!==(n=d.cssText)&&void 0!==n?n:t.defaults.cssText)};m();var v=y.disposeVar((0,p.createNextAnimateFrameEvent)(h.cssTextChanged,r.showChanged));return y.dispose(v.disposableOn(m)),(null!==(i=d.items)&&void 0!==i?i:t.defaults.items).forEach((function(e){var t=document.createElement("div");g.appendChild(t),y.dispose((function(){return g.removeChild(t)}));var n,r=document.createElement("img");t.appendChild(r),y.dispose((function(){return t.removeChild(r)})),r.style.width="100%",r.style.height="100%",r.src=u.SceneObject.context.getStrFromEnv(e.imgUrl),t.draggable=!0,t.style.width="40px",t.style.height="40px",t.style.borderRadius="3px",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.boxSizing="border-box",t.style.padding="5px",t.style.position="relative",t.style.cursor="move",t.style.userSelect="none",t.addEventListener("mouseover",(function(){t.style.background="#383838",n=document.createElement("div"),t.appendChild(n),n.style.width="50px",n.style.height="20px",n.style.position="absolute",n.style.left="0px",n.style.top="100%",n.style.color="#000",n.style.background="#ffffff",n.style.border="1px solid #000",n.style.fontSize="14px",n.style.lineHeight="20px",n.style.textAlign="center",n.innerText=e.title})),t.addEventListener("mouseout",(function(){t.style.background="none",t.removeChild(n)})),t.addEventListener("click",(function(){if(d.createModelFn){var t=d.createModelFn();t.url=e.modelUrl,t.name=e.title,t.positionEditing=!0}else alert("请设置instanceClassStr")})),t.addEventListener("dragstart",(function(t){l=e.modelUrl,c=e.title}))})),y.dispose(o.interaction.dragOverEvent.disposableOn((function(e){return e.preventDefault()}))),y.dispose(o.interaction.dropEvent.disposableOn((function(e){return a(y,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(a){switch(a.label){case 0:return e.preventDefault(),t=e.offsetX,n=e.offsetY,[4,o.pickPosition([t,n])];case 1:if(!(r=a.sent()))return[2];if(d.createModelFn){if(!l)return[2];if(!c)return[2];(i=d.createModelFn()).url=l,i.name=c,i.position=r,i.positionEditing=!0,l=void 0,c=void 0}else console.warn("请设置instanceClassStr");return[2]}}))}))}))),y}return o(n,e),n}(p.Destroyable)}catch(e){console.error(e)}};return y(),r.dispose(r.itemsChanged.disposableOn(y)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return" CzmModelCreatingTool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return c(c([],l(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("显示","显示",!0,!1,[this,"show"],t.defaults.show),new u.EvalStringProperty("模型创建函数","模型创建函数",!0,!1,[this,"createModelFnStr"],t.defaults.createModelFnStr),new u.LongStringProperty("CSS样式","CSS样式",!0,!1,[this,"cssText"],t.defaults.cssText,"\n位置位于左上角\n```\nposition: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \ndisplay: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于中间上方\n```\nposition: absolute; \nleft: 50%; \ntop: 10px; \ntransform: translate(-50%);\ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于右上角\n```\nposition: absolute; \ntop: 10px; \nright: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n\n\n"),new u.JsonProperty("模型列表","模型列表",!0,!1,[this,"items"],t.defaults.items),new u.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"],u.CustomDiv.defaults.containerId)])],!1)},n=t,t.type=n.register("CzmModelCreatingTool",n,{chsName:"常用模型创建工具",tags:["CzmObjects","_ES_Impl_Cesium"],description:"常用模型创建工具"}),t.defaults=i(i({},u.ESSceneObject.defaults),{show:!0,items:y,createModelFnStr:"const p = g_appProjectManager.xe2ProjectManager; // 需要根据项目情况自行定制\nconst treeItem = p.createSceneObjectTreeItem('CzmModelPrimitive');\nreturn treeItem.sceneObject;",cssText:"position: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \nborder: 1px solid rgb(0, 64, 82); \n"}),t}(u.ESSceneObject);t.CzmModelCreatingTool=g,function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:void 0,createModelFnStr:void 0,cssText:void 0,items:(0,p.reactJsonWithUndefined)(void 0),containerId:void 0})}}(g=t.CzmModelCreatingTool||(t.CzmModelCreatingTool={})),t.CzmModelCreatingTool=g,(0,p.extendClassProps)(g.prototype,g.createDefaultProps)},21454:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmModelEntity=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmModelEntity"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/Cesium_Air.glb"),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.RotationProperty("偏移","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"]),new l.BooleanProperty("是否位置编辑","是否位置编辑.",!0,!1,[this,"positionEditing"]),new l.BooleanProperty("是否偏移编辑","是否偏移编辑.",!0,!1,[this,"rotationEditing"]),new l.NumberProperty("缩放","scale",!0,!1,[this,"scale"]),new l.NumberProperty("maximumScale","线宽",!0,!1,[this,"maximumScale"]),new l.NumberProperty("minimumPixelSize","minimumPixelSize",!0,!1,[this,"minimumPixelSize"],50),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"])])],!1)},n=t,t.type=n.register("CzmModelEntity",n,{chsName:"模型(Entity)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Entity API 实现的模型。"}),t}(l.ESSceneObject);t.CzmModelEntity=u,function(e){e.createDefaultProps=function(){return i({show:!0,uri:"",position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0),positionEditing:void 0,rotationEditing:void 0,scale:void 0,maximumScale:void 0,minimumPixelSize:50,color:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmModelEntity||(t.CzmModelEntity={})),t.CzmModelEntity=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},71820:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmModelPrimitive=t.passEnums=t.getCzmModelAnimationLoop=void 0;var d=n(80468),h=n(51355),y=n(59645),g=l(n(81557)),m=n(95315),v={translationX:0,translationY:0,translationZ:0,rotationHeading:0,rotationPitch:0,rotationRoll:0,scaleX:1,scaleY:1,scaleZ:1},b={Prop:{translationX:0,translationY:10,translationZ:0,rotationHeading:0,rotationPitch:0,rotationRoll:0,scaleX:1,scaleY:1,scaleZ:1}};t.getCzmModelAnimationLoop=function(e){return g.ModelAnimationLoop[e]};var _=[[1.234709620475769,1.221461296081543,1.273156881332397],[1.135921120643616,1.171217799186707,1.287644743919373],[1.245193719863892,1.245591878890991,1.282818794250488],[-1.106930732727051,-1.112522482872009,-1.153198838233948],[-1.086226940155029,-1.079731941223145,-1.101912498474121],[1.189834713935852,1.185906887054443,1.214385271072388],[.01778045296669,.02013735473156,.025313569232821],[-1.086826920509338,-1.084611177444458,-1.111204028129578],[-.05241484940052,-.048303380608559,-.041960217058659]],w=[{index:0,loop:"REPEAT",animationTime:"(duration) => Date.now() / 1000 / duration"},{index:1,loop:"REPEAT",animationTime:"(duration) => Date.now() / 1000 / duration"}];t.passEnums=[["ENVIRONMENT","ENVIRONMENT"],["COMPUTE","COMPUTE"],["GLOBE","GLOBE"],["TERRAIN_CLASSIFICATION","TERRAIN_CLASSIFICATION"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["CESIUM_3D_TILE_CLASSIFICATION","CESIUM_3D_TILE_CLASSIFICATION"],["CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW","CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW"],["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OVERLAY","OVERLAY"],["NUMBER_OF_PASSES","NUMBER_OF_PASSES"]];var P=function(e){function n(t){var n=e.call(this,t)||this;n._readyEvent=n.disposeVar(new h.Event),n._pickedEvent=n.disposeVar(new h.Event),n._flyToEvent=n.disposeVar(new h.Event),n._customShaderInstanceClass=n.disposeVar((0,h.react)(void 0)),n._updateCustomShaderEvent=n.disposeVar(new h.Event),n._activeAnimations=n.disposeVar((0,h.reactDeepArrayWithUndefined)(void 0,(function(e,t){return e.animationTime===t.animationTime&&e.delay===t.delay&&e.index===t.index&&e.loop===t.loop&&e.multiplier===t.multiplier&&e.name===t.name&&e.removeOnStop===t.removeOnStop&&e.reverse===t.reverse&&g.JulianDate.equals(e.startTime,t.startTime)&&g.JulianDate.equals(e.stopTime,t.stopTime)&&!0}),(function(e){return i({},e)}))),n._sPositionEditing=n.disposeVar(new d.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._sRotationEditing=n.disposeVar(new d.RotationEditing([n,"position"],[n,"rotation"],[n,"rotationEditing"],n.components,{showHelper:!1})),n._sPrsEditing=n.disposeVar(new d.PrsEditing([n,"position"],[n,"rotation"],[n,"editing"],n,{rotation:{showHelper:!1}})),n._printDebugInfoEvent=n.disposeVar(new h.Event),n._smoothMoving=n.disposeVar(new d.SmoothMoving),n._smoothMovingBinding=n.dispose(n._smoothMoving.currentPositionChanged.disposableOn((function(){return n.position=n._smoothMoving.currentPosition}))),n._smoothMovingBinding2=n.dispose(n._smoothMoving.currentPositionChanged.disposableOn((function(){var e;return n.rotation=[null!==(e=n._smoothMoving.currentHeading)&&void 0!==e?e:0,n.rotation&&n.rotation[1]||0,n.rotation&&n.rotation[2]||0]})));var r=function(){try{n.customShaderInstanceClass=n.customShaderInstanceClassStr&&Function('"use strict";return ('.concat(n.customShaderInstanceClassStr,")"))()}catch(e){n.customShaderInstanceClass=void 0}};r(),n.dispose(n.customShaderInstanceClassStrChanged.disposableOn(r));var o=function(){n.activeAnimationsJson?n.activeAnimations=n.activeAnimationsJson.map((function(e){var t=void 0;try{t=e.animationTime&&Function('"use strict";return ('.concat(e.animationTime,")"))()}catch(e){console.error("animationTimeStr eval error: ".concat(e),e),t=void 0}return{name:e.name,index:e.index,startTime:void 0!==e.startTime&&g.JulianDate.fromDate(new Date(e.startTime))||void 0,delay:e.delay,stopTime:void 0!==e.stopTime&&g.JulianDate.fromDate(new Date(e.stopTime))||void 0,removeOnStop:e.removeOnStop,multiplier:e.multiplier,reverse:e.reverse,loop:e.loop&&g.ModelAnimationLoop[e.loop],animationTime:t}})):n.activeAnimations=void 0};return o(),n.activeAnimationsJsonChanged.disposableOn(o),n}var r;return o(n,e),Object.defineProperty(n.prototype,"typeName",{get:function(){return"CzmModelPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultProps",{get:function(){return n.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"geoJson",{get:function(){return(0,d.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,d.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"readyEvent",{get:function(){return this._readyEvent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),n.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(n.prototype,"customShaderInstanceClass",{get:function(){return this._customShaderInstanceClass.value},set:function(e){this._customShaderInstanceClass.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"customShaderInstanceClassChanged",{get:function(){return this._customShaderInstanceClass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"updateCustomShaderEvent",{get:function(){return this._updateCustomShaderEvent},enumerable:!1,configurable:!0}),n.prototype.updateCustomShader=function(e){this._updateCustomShaderEvent.emit(e)},Object.defineProperty(n.prototype,"activeAnimations",{get:function(){return this._activeAnimations.value},set:function(e){this._activeAnimations.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeAnimationsChanged",{get:function(){return this._activeAnimations.changed},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sRotationEditing",{get:function(){return this._sRotationEditing},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sPrsEditing",{get:function(){return this._sPrsEditing},enumerable:!1,configurable:!0}),n.prototype.openLocalDir=function(){return c(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,(0,y.defaultGetLocalFilePath)(["gltf","glb"],"gltf")];case 1:return e=t.sent(),this.url=e,[2]}}))}))},n.prototype.deleteNodeTransformation=function(e){if(this.nodeTransformations&&this.nodeTransformations[e]){var t=i({},this.nodeTransformations);delete t[e],this.nodeTransformations=t}},n.prototype.setNodeTranslation=function(e,t){var n,r;this.nodeTransformations||(this.nodeTransformations={});var o=null!==(r=this.nodeTransformations[e])&&void 0!==r?r:i({},v);3!==t.length||t.some((function(e){return!Number.isFinite(e)}))?console.error("setNodeTranslation error: translation.length !== 3 || translation.some(e => !Number.isFinite(e)): ".concat(e," ").concat(t)):this.nodeTransformations=i(i({},this.nodeTransformations),((n={})[e]=i(i({},o),{translationX:t[0],translationY:t[1],translationZ:t[2]}),n))},n.prototype.getNodeTranslation=function(e){if(this.nodeTransformations){var t=this.nodeTransformations[e];if(t)return[t.translationX,t.translationY,t.translationZ]}},n.prototype.setNodeRotation=function(e,t){var n,r;this.nodeTransformations||(this.nodeTransformations={});var o=null!==(r=this.nodeTransformations[e])&&void 0!==r?r:i({},v);3!==t.length||t.some((function(e){return!Number.isFinite(e)}))?console.error("setNodeTranslation error: rotation.length !== 3 || rotation.some(e => !Number.isFinite(e)) ".concat(e," ").concat(t)):this.nodeTransformations=i(i({},this.nodeTransformations),((n={})[e]=i(i({},o),{rotationHeading:t[0],rotationPitch:t[1],rotationRoll:t[2]}),n))},n.prototype.getNodeRotation=function(e){if(this.nodeTransformations){var t=this.nodeTransformations[e];if(t)return[t.rotationHeading,t.rotationPitch,t.rotationRoll]}},n.prototype.setNodeScale=function(e,t){var n,r;this.nodeTransformations||(this.nodeTransformations={});var o=null!==(r=this.nodeTransformations[e])&&void 0!==r?r:i({},v);3!==t.length||t.some((function(e){return!Number.isFinite(e)||e<0}))?console.error("setNodeTranslation error: scale.length !== 3 || scale.some(e => !Number.isFinite(e) || e < 0) ".concat(e," ").concat(t)):this.nodeTransformations=i(i({},this.nodeTransformations),((n={})[e]=i(i({},o),{scaleX:t[0],scaleY:t[1],scaleZ:t[2]}),n))},n.prototype.getNodeScale=function(e){if(this.nodeTransformations){var t=this.nodeTransformations[e];if(t)return[t.scaleX,t.scaleY,t.scaleZ]}},Object.defineProperty(n.prototype,"printDebugInfoEvent",{get:function(){return this._printDebugInfoEvent},enumerable:!1,configurable:!0}),n.prototype.printDebugInfo=function(){this._printDebugInfoEvent.emit()},n.prototype.smoothMove=function(e,t){this.position||(this.position=e),this._smoothMoving.restart(this.position,0),this._smoothMoving.restart(e,t)},n.prototype.getProperties=function(r){var o=this;return f(f([],p(e.prototype.getProperties.call(this,r)),!1),[new d.GroupProperty("通用","通用",[new d.FunctionProperty("飞入","飞入",["number"],(function(e){return o.flyTo(e)}),[1e3]),new d.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new d.UriProperty("路径","The url to the .gltf file.",!0,!1,[this,"url"],n.defaultUrl),new d.FunctionProperty("打开本地目录","打开本地目录，加载本地gltf数据，注意只能打开gltf文件所在目录",[],(function(){return o.openLocalDir()}),[]),new d.ColorProperty("颜色"," A color that blends with the models rendered color.",!0,!1,[this,"color"]),new d.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return o.geoJsonStr}),(function(e){return e&&(o.geoJsonStr=e)})),new d.LongStringProperty("自定义Shader","自定义Shader",!0,!1,[this,"customShaderInstanceClassStr"],"\n// shader定义请参见文档：https://github.com/CesiumGS/cesium/tree/main/Documentation/CustomShaderGuide#customshader-documentation\nclass CheckerboardMaskShaderInstance extends vtxf['xr-base-utils'].Destroyable {\n    constructor(sceneObject, viewer) {\n        super();\n\n        // make a checkerboard texture with an alpha that increases with the\n        // diagonal number\n        function makeCheckerboardTexture(textureSize) {\n          const checkerboard = new Uint8Array(4 * textureSize * textureSize);\n        \n          const maxDiagonal = 2 * (textureSize - 1);\n          for (let i = 0; i < textureSize; i++) {\n            for (let j = 0; j < textureSize; j++) {\n              const index = i * textureSize + j;\n              // Checking the parity of the diagonal number gives a checkerboard\n              // pattern.\n              const diagonal = i + j;\n              if (diagonal % 2 === 0) {\n                // set the square red. We only need to set the red channel!\n                checkerboard[4 * index] = 255;\n              }\n              // otherwise we'd set the square to black. But arrays are already\n              // initialized to 0s so nothing needed here.\n        \n              // for the alpha channel, map the diagonal number to [0, 255]\n              checkerboard[4 * index + 3] = (255 * diagonal) / maxDiagonal;\n            }\n          }\n          return new Cesium.TextureUniform({\n            typedArray: checkerboard,\n            width: textureSize,\n            height: textureSize,\n            // Don't interpolate, we want crisp checkerboard edges\n            minificationFilter: Cesium.TextureMinificationFilter.NEAREST,\n            magnificationFilter: Cesium.TextureMagnificationFilter.NEAREST,\n          });\n        }\n        const checkerboardTexture = makeCheckerboardTexture(8);\n        \n        // Use the checkerboard red channel as a mask\n        const checkerboardMaskShader = this.disposeVar(new Cesium.CustomShader({\n          uniforms: {\n            u_checkerboard: {\n              type: Cesium.UniformType.SAMPLER_2D,\n              value: checkerboardTexture,\n            },\n          },\n          fragmentShaderText: `  \n            void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n            {\n                vec2 texCoord = fsInput.attributes.texCoord_0;\n                vec4 checkerboard = texture(u_checkerboard, texCoord);\n                material.diffuse = mix(material.diffuse, vec3(0.0), checkerboard.r);\n            }\n            `,\n        }));\n\n        this._customShader = checkerboardMaskShader;\n    }\n\n    update() {\n        alert('暂未实现!');\n    }\n\n    get customShader() {\n        return this._customShader;\n    }\n}\n"),new d.FunctionProperty("更新Shader","更新Shader",["string"],(function(e){e||alert("evalFuncStr为空，无法执行！");try{var t=e&&Function('"use strict";return ('.concat(e,")"))();o.updateCustomShader(t)}catch(e){alert("updateDivFunc error: ".concat(e))}}),["(customShaderInstance, sceneObject, viewer) => customShaderInstance.update && customShaderInstance.update()"]),new d.BooleanProperty("允许拾取","允许拾取",!0,!1,[this,"allowPicking"],!1),new d.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],n.defaults.viewDistanceRange),new d.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])]),new d.GroupProperty("变换","变换",[new d.BooleanProperty("编辑","编辑.",!1,!1,[this,"editing"]),new d.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"]),new d.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new d.BooleanProperty("姿态编辑","姿态编辑.",!1,!1,[this,"rotationEditing"]),new d.RotationProperty("姿态","偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"]),new d.Number3Property("缩放","缩放",!0,!1,[this,"scale"],[1,1,1]),new d.JsonProperty("模型矩阵","模型矩阵",!0,!1,[this,"modelMatrix"])]),new d.GroupProperty("屏幕像素","屏幕像素",[new d.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"maximumScale"],3),new d.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"minimumScale"],1),new d.NumberProperty("屏幕像素","注意物体的实际屏幕像素=pixelSize*物体的物理尺寸(m)，例如：一个20米长的房子，pixelSize设置为5，那么它在屏幕上的实际像素尺寸就是5*20=100px。根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!0,!1,[this,"pixelSize"],5),new d.BooleanProperty("显示缩放值","每个视口都显示各自的缩放值",!0,!1,[this,"showSceneScale"],!1)]),new d.GroupProperty("本地变换","本地变换",[new d.Number3Property("本地偏移","本地偏移，不是经纬度！",!0,!1,[this,"localPosition"]),new d.Number3Property("本地姿态","本地姿态",!0,!1,[this,"localRotation"]),new d.Number3Property("本地缩放","本地缩放",!0,!1,[this,"localScale"],[1,1,1]),new d.JsonProperty("本地模型矩阵","本地模型矩阵，如果该属性有值，那么localPosition、localRotation、localScale等属性将不起作用。",!0,!1,[this,"localModelMatrix"]),new d.EnumProperty("前向轴","注意一般情况下不要使用，除非原始加载Cesium模型时就配置了该参数。",!0,!1,[this,"forwardAxis"],[["X轴正向",0],["Z轴正向",2]],2),new d.EnumProperty("向上轴","注意一般情况下不要使用，除非原始加载Cesium模型时就配置了该参数。",!0,!1,[this,"upAxis"],[["X轴正向",0],["Y轴正向",1],["Z轴正向",2]],1)]),new d.GroupProperty("PBR","PBR",[new d.Number2Property("imageBasedLightingFactor","imageBasedLightingFactor",!0,!1,[this,"imageBasedLightingFactor"],[1,1]),new d.Number3Property("lightColor","lightColor",!0,!1,[this,"lightColor"],[1,1,1]),new d.NumberProperty("luminanceAtZenith","luminanceAtZenith",!0,!1,[this,"luminanceAtZenith"],.2),new d.Number3sProperty("sphericalHarmonicCoefficients","sphericalHarmonicCoefficients",!0,!1,[this,"sphericalHarmonicCoefficients"],_),new d.StringProperty("specularEnvironmentMaps","specularEnvironmentMaps",!0,!1,[this,"specularEnvironmentMaps"],n.defaultSpecularEnvironmentMaps)]),new d.GroupProperty("动画","动画",[new d.BooleanProperty("activeAnimationsAnimateWhilePaused","activeAnimationsAnimateWhilePaused",!0,!1,[this,"activeAnimationsAnimateWhilePaused"],!1),new d.JsonProperty("activeAnimationsJson","activeAnimationsJson",!0,!1,[this,"activeAnimationsJson"],w,"## 示例1\n注意，需要先让Cesium的时钟动起来，以下设置才能生效。  \n```\n[{\n    index: 0,\n    loop: 'REPEAT',\n}, {\n    index: 1,\n    loop: 'REPEAT',\n}];\n```\n\n## 示例2\n以下方式，不再需要Cesium的时钟运动。  \n```\nlsso.activeAnimationsAnimateWhilePaused = true; // Cesium不运动时，也需要更新动画，设置以后，animationTime的回调函数才能起作用\nlsso.activeAnimationsJson = [{\n    index: 0,\n    loop: 'REPEAT',\n    animationTime: `(duration) => Date.now() / 1000 / duration`,\n}, {\n    index: 1,\n    loop: 'REPEAT',\n    animationTime: `(duration) => Date.now() / 1000 / duration`,\n}];\n```\n")]),new d.GroupProperty("节点控制","节点控制",[new d.JsonProperty("nodeTransformations","nodeTransformations",!0,!1,[this,"nodeTransformations"],b,"\n## 示例1\n```\n{\n    Prop: {\n        translationX: 0,\n        translationY: 10,\n        translationZ: 0,\n        rotationHeading: 0,\n        rotationPitch: 0,\n        rotationRoll: 0,\n        scaleX: 0,\n        scaleY: 0,\n        scaleZ: 0,\n    }\n}\n```\n")]),new d.GroupProperty("调试","调试",[new d.FunctionProperty("打印调试信息","控制台打印调试信息",[],(function(){return o.printDebugInfo()}),[])]),new d.GroupProperty("原生","原生",[new d.NumberProperty("nativeMinimumPixelSize","nativeMinimumPixelSize",!1,!1,[this,"nativeMinimumPixelSize"]),new d.NumberProperty("nativeMaximumScale","nativeMaximumScale",!0,!1,[this,"nativeMaximumScale"]),new d.NumberProperty("nativeScale","nativeScale",!1,!1,[this,"nativeScale"])]),new d.GroupProperty("其他","其他",[new d.ColorProperty("silhouetteColor","The silhouette color. If more than 256 models have silhouettes enabled, there is a small chance that overlapping models will have minor artifacts.",!0,!1,[this,"silhouetteColor"],[1,0,0,1]),new d.NumberProperty("silhouetteSize","The size of the silhouette in pixels.",!0,!1,[this,"silhouetteSize"],0),new d.NumberProperty("colorBlendAmount","Value used to determine the color strength when the colorBlendMode is MIX. A value of 0.0 results in the models rendered color while a value of 1.0 results in a solid color, with any value in-between resulting in a mix of the two.",!0,!1,[this,"colorBlendAmount"],.5),new d.EnumProperty("阴影类型","Determines whether the model casts or receives shadows from light sources.",!0,!1,[this,"shadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],"DISABLED"),new d.BooleanProperty("backFaceCulling","Whether to cull back-facing geometry. When true, back face culling is determined by the materials doubleSided property; when false, back face culling is disabled. Back faces are not culled if Model#color is translucent or Model#silhouetteSize is greater than 0.0..",!0,!1,[this,"backFaceCulling"],!0),new d.BooleanProperty("showOutline","Whether to display the outline for models using the CESIUM_primitive_outline extension. When true, outlines are displayed. When false, outlines are not displayed..",!0,!1,[this,"showOutline"],!0),new d.BooleanProperty("debugShowBoundingVolume","For debugging only. Draws the bounding sphere for each draw command in the model..",!0,!1,[this,"debugShowBoundingVolume"],!1),new d.BooleanProperty("debugWireframe","For debugging only. Draws the model in wireframe..",!0,!1,[this,"debugWireframe"],!1),new d.BooleanProperty("incrementallyLoadTextures","Determine if textures may continue to stream in after the model is loaded..",!0,!1,[this,"incrementallyLoadTextures"],!0),new d.BooleanProperty("asynchronous","Determines if model WebGL resource creation will be spread out over several frames or block until completion once all glTF files are loaded..",!0,!1,[this,"asynchronous"],!0),new d.BooleanProperty("clampAnimations","Determines if the models animations should hold a pose over frames where no keyframes are specified..",!0,!1,[this,"clampAnimations"],!0),new d.StringProperty("credit","credit",!0,!1,[this,"credit"]),new d.StringProperty("basePath","basePath",!0,!1,[this,"basePath"]),new d.JsonProperty("gltf","gltf",!0,!1,[this,"gltfJson"]),new d.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],m.CzmHeightReferenceTypeEnums,"NONE"),new d.MinmaxProperty("距离限制","A Property specifying at what distance from the camera that this box will be displayed.",!0,!1,[this,"distanceDisplayCondition"]),new d.EnumProperty("colorBlendMode","Defines how the color blends with the model.",!0,!1,[this,"colorBlendMode"],[["HIGHLIGHT","HIGHLIGHT"],["REPLACE","REPLACE"],["MIX","MIX"]],"HIGHLIGHT"),new d.EnumProperty("opaquePass","opaquePass",!1,!1,[this,"opaquePass"],t.passEnums)])],!1)},r=n,n.type=r.register("CzmModelPrimitive",r,{chsName:"模型(Primitive)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的模型。"}),n.defaults=i(i({},d.ESSceneObject.defaults),{activeAnimationsAnimateWhilePaused:!1,viewDistanceRange:[1e3,1e4,3e4,6e4]}),n.defaultUrl="${xe2-assets-script-dir}/xe2-assets/scene-manager/glbs/Cesium_Air.glb",n.defaultSpecularEnvironmentMaps="${xe2-assets-script-dir}/xe2-assets/scene-manager/EnvironmentMap/kiara_6_afternoon_2k_ibl.ktx2",n}(d.ESSceneObject);t.CzmModelPrimitive=P,function(e){e.createDefaultProps=function(){return i(i({},d.ESSceneObject.createDefaultProps()),{show:!0,url:void 0,editing:!1,positionEditing:!1,rotationEditing:!1,allowPicking:void 0,allowPickingDepth:!0,maximumScale:void 0,minimumScale:void 0,pixelSize:void 0,showSceneScale:void 0,position:(0,h.reactArrayWithUndefined)(void 0),rotation:(0,h.reactArray)([0,0,0]),scale:(0,h.reactArrayWithUndefined)(void 0),localPosition:(0,h.reactArrayWithUndefined)(void 0),localRotation:(0,h.reactArrayWithUndefined)(void 0),localScale:(0,h.reactArrayWithUndefined)(void 0),localModelMatrix:(0,h.reactArrayWithUndefined)(void 0),modelMatrix:(0,h.reactArrayWithUndefined)(void 0),forwardAxis:void 0,upAxis:void 0,color:(0,h.reactArrayWithUndefined)(void 0),silhouetteColor:(0,h.reactArrayWithUndefined)(void 0),shadows:void 0,credit:void 0,basePath:void 0,gltfJson:(0,h.reactJson)(void 0),heightReference:void 0,distanceDisplayCondition:(0,h.reactArrayWithUndefined)(void 0),colorBlendMode:void 0,incrementallyLoadTextures:void 0,asynchronous:void 0,clampAnimations:void 0,debugShowBoundingVolume:void 0,debugWireframe:void 0,backFaceCulling:void 0,showOutline:void 0,colorBlendAmount:void 0,silhouetteSize:void 0,imageBasedLightingFactor:(0,h.reactArrayWithUndefined)(void 0),lightColor:(0,h.reactArrayWithUndefined)(void 0),luminanceAtZenith:void 0,sphericalHarmonicCoefficients:(0,h.reactDeepArrayWithUndefined)(void 0,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}),(function(e){return f([],p(e),!1)})),specularEnvironmentMaps:void 0,customShaderInstanceClassStr:void 0,activeAnimationsJson:(0,h.reactJsonWithUndefined)(void 0),activeAnimationsAnimateWhilePaused:void 0,nodeTransformations:(0,h.reactJsonWithUndefined)(void 0),viewDistanceRange:(0,h.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1,nativeMinimumPixelSize:0,nativeMaximumScale:void 0,nativeScale:1,opaquePass:"OPAQUE"})}}(P=t.CzmModelPrimitive||(t.CzmModelPrimitive={})),t.CzmModelPrimitive=P,(0,h.extendClassProps)(P.prototype,P.createDefaultProps)},63660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.burstTypeReadMeStr=void 0,t.burstTypeReadMeStr='# 示例代码\n```\n[\n    {\n        "time": 5.0,\n        "minimum": 10,\n        "maximum": 100\n    },\n    {\n        "time": 10.0,\n        "minimum": 50,\n        "maximum": 100\n    },\n    {\n        "time": 15.0,\n        "minimum": 200,\n        "maximum": 300\n    }\n]\n```\n\n# 规格说明\n```\nexport type CzmParticleSystemPrimitiveParticleBurstType = {\n    time?: number;\n    minimum?: number;\n    maximum?: number;\n};\n```\n'},35713:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBursts=void 0,t.defaultBursts=[{time:5,minimum:10,maximum:100},{time:10,minimum:50,maximum:100},{time:15,minimum:200,maximum:300}]},39637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUpdateCallbackStr=void 0,t.defaultUpdateCallbackStr="function (particle, dt) {\n    const gravityVector = new Cesium.Cartesian3();\n    const gravity = -(9.8 * 9.8);\n    // Compute a local up vector for each particle in geocentric space.\n    const position = particle.position;\n\n    Cesium.Cartesian3.normalize(position, gravityVector);\n    Cesium.Cartesian3.multiplyByScalar(\n        gravityVector,\n        gravity * dt,\n        gravityVector\n    );\n\n    particle.velocity = Cesium.Cartesian3.add(particle.velocity, gravityVector, particle.velocity);\n}\n"},43836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitterReadMeStr=void 0,t.emitterReadMeStr="# 发射器示例\n```\n// 圆形发射器，在一个半径为0.5的圆面上向上发射随机粒子\n{\n    \"type\": \"CircleEmitter\",\n    \"radius\": 0.5\n}\n```\n\n# 发射器规则\n\n```\nexport type CzmParticleEmitterJsonType = {\n    type: 'BoxEmitter';\n    dimensions: [number, number, number];//The width, height and depth dimensions of the box.\n} | {\n    type: 'CircleEmitter';\n    radius?: number;//optional The radius of the circle in meters.\n} | {\n    type: 'ConeEmitter';\n    angle?: number; //\tNumber\tCesium.Math.toRadians(30.0)\toptionalThe angle of the cone in radians.\n} | {\n    type: 'SphereEmitter';\n    radius?: number;//\tNumber\t1.0\toptionalThe radius of the sphere in meters.\n};\n```\n"},90039:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmParticleSystemPrimitive=void 0;var l=n(80468),c=n(51355),u=n(59645),p=n(43836),f=n(39637),d=n(87363),h=n(35713),y=n(63660),g=n(5768),m=function(e){function t(n){var r,o=e.call(this,n)||this;return o._flyToEvent=o.disposeVar(new c.Event),o._pickedEvent=o.disposeVar(new c.Event),o._player=o.disposeVar(new l.Player),o._updateCallback=o.disposeVar((0,c.react)(void 0)),o._updateCallbackStrInit=((r=function(){o.updateCallback=(0,l.getFuncFromStr)(o.updateCallbackStr)})(),void o.dispose(o.updateCallbackStrChanged.disposableOn(r))),o._forceRecreteEvent=o.disposeVar(new c.Event),o._image=o.disposeVar((0,c.react)(void 0)),o._imageStrInit=function(){var e=function(){void 0!==o.imageStr&&(o.image=u.SceneObject.context.getStrFromEnv(o.imageStr))};e(),o.dispose(o.imageStrChanged.disposableOn(e))}(),o._sPositionEditing=o.disposeVar(new l.PositionEditing([o,"position"],[o,"positionEditing"],o.components)),o._sRotationEditing=o.disposeVar(new l.RotationEditing([o,"position"],[o,"rotation"],[o,"rotationEditing"],o.components)),o._sPrsEditing=o.disposeVar(new l.PrsEditing([o,"position"],[o,"rotation"],[o,"editing"],o,{rotation:{showHelper:!1}})),o._applyCurentViewDistanceEvent=o.disposeVar(new c.Event),t.defaults,o.dispose((0,c.bind)([o._player,"loop"],[o,"playingLoop"])),o.dispose((0,c.bind)([o._player,"currentTime"],[o,"currentTime"])),o.dispose((0,c.bind)([o._player,"duration"],[o,"duration"])),o.dispose((0,c.bind)([o._player,"playing"],[o,"playing"])),o.dispose((0,c.bind)([o._player,"speed"],[o,"playingSpeed"])),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmParticleSystemPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateCallback",{get:function(){return this._updateCallback.value},set:function(e){this._updateCallback.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateCallbackChanged",{get:function(){return this._updateCallback.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceRecreteEvent",{get:function(){return this._forceRecreteEvent},enumerable:!1,configurable:!0}),t.prototype.forceRecrete=function(){this._forceRecreteEvent.emit()},Object.defineProperty(t.prototype,"image",{get:function(){return this._image.value},set:function(e){this._image.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageChanged",{get:function(){return this._image.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sRotationEditing",{get:function(){return this._sRotationEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPrsEditing",{get:function(){return this._sPrsEditing},enumerable:!1,configurable:!0}),t.prototype.setPresets=function(e){"origin"===e?this.setJsonWithDefaults({position:this.position,rotation:this.rotation,name:this.name}):"smoke"===e?this.setJsonWithDefaults(i(i({},g.smoke),{position:this.position,rotation:this.rotation,name:this.name})):"explosion"===e?this.setJsonWithDefaults(i(i({},g.explosion),{position:this.position,rotation:this.rotation,name:this.name})):"drain"===e?this.setJsonWithDefaults(i(i({},g.drain),{position:this.position,rotation:this.rotation,name:this.name})):"fire"===e?this.setJsonWithDefaults(i(i({},g.fire),{position:this.position,rotation:this.rotation,name:this.name})):"waveTail"===e&&this.setJsonWithDefaults(i(i({},g.waveTail),{position:this.position,rotation:this.rotation,name:this.name}))},Object.defineProperty(t.prototype,"applyCurentViewDistanceEvent",{get:function(){return this._applyCurentViewDistanceEvent},enumerable:!1,configurable:!0}),t.prototype.applyCurentViewDistance=function(){this._applyCurentViewDistanceEvent.emit()},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入，flyTo()",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.NumberProperty("视距","视距",!0,!1,[this,"viewDistance"]),new l.FunctionProperty("应用当前视距","应用当前视距，applyCurentViewDistance()",[],(function(){return r.applyCurentViewDistance()}),[]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","允许拾取",!1,!1,[this,"allowPicking"]),new l.BooleanProperty("允许拾取深度","允许拾取深度",!1,!1,[this,"allowPickingDepth"])]),new l.GroupProperty("预设","预设",[new l.FunctionProperty("原始","原始，setPresets('origin')",[],(function(){return r.setPresets("origin")}),[]),new l.FunctionProperty("烟雾","烟雾，setPresets('smoke')",[],(function(){return r.setPresets("smoke")}),[]),new l.FunctionProperty("爆炸","爆炸，setPresets('explosion')",[],(function(){return r.setPresets("explosion")}),[]),new l.FunctionProperty("排水","排水，setPresets('drain')",[],(function(){return r.setPresets("drain")}),[]),new l.FunctionProperty("火焰","火焰，setPresets('fire')",[],(function(){return r.setPresets("fire")}),[]),new l.FunctionProperty("船舶尾迹","船舶尾迹，setPresets('waveTail')",[],(function(){return r.setPresets("waveTail")}),[])]),new l.GroupProperty("方位","方位",[new l.GroupProperty("地理方位","地理方位",[new l.BooleanProperty("编辑","编辑",!1,!1,[this,"editing"]),new l.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new l.PositionProperty("位置","position,经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.BooleanProperty("姿态编辑","姿态编辑",!1,!1,[this,"rotationEditing"]),new l.Number3Property("姿态","rotation,偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"]),new l.JsonProperty("模型矩阵","模型矩阵",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix)]),new l.GroupProperty("本地方位","本地方位",[new l.Number3Property("localPosition","localPosition",!1,!1,[this,"localPosition"]),new l.Number3Property("localRotation","localRotation",!1,!1,[this,"localRotation"]),new l.Number3Property("localScale","localScale",!1,!1,[this,"localScale"]),new l.JsonProperty("本地模型矩阵","本地模型矩阵，如果该属性有值，那么localPosition、localRotation、localScale等属性将不起作用。",!0,!1,[this,"localModelMatrix"],t.defaults.localModelMatrix)])]),new l.GroupProperty("粒子","粒子",[new l.FunctionProperty("强制重建","强制重建，调用方法forceRecrete()",[],(function(){return r.forceRecrete()}),[]),new l.GroupProperty("发射器","发射器",[new l.JsonProperty("emitter","emitter",!1,!1,[this,"emitter"],void 0,p.emitterReadMeStr),new l.NumberProperty("emissionRate","emissionRate,The number of particles to emit per second.",!0,!1,[this,"emissionRate"],5),new l.JsonProperty("bursts","bursts",!1,!1,[this,"bursts"],h.defaultBursts,y.burstTypeReadMeStr),new l.EvalStringProperty("updateCallbackStr","The callback function to be called each frame to update a particle.",!1,!1,[this,"updateCallbackStr"],f.defaultUpdateCallbackStr,d.updateCallbackReadMeStr)]),new l.GroupProperty("缩放","缩放",[new l.NumberProperty("scale","scale,Sets the scale to apply to the image of the particle for the duration of its particleLife.",!0,!1,[this,"scale"],t.defaults.scale),new l.NumberProperty("startScale","startScale,The initial scale to apply to the image of the particle at the beginning of its life.",!0,!1,[this,"startScale"],t.defaults.startScale),new l.NumberProperty("endScale","endScale,The final scale to apply to the image of the particle at the end of its life.",!0,!1,[this,"endScale"],t.defaults.endScale)]),new l.GroupProperty("颜色","颜色",[new l.ColorProperty("color","Sets the color of a particle for the duration of its particleLife.",!0,!1,[this,"color"],t.defaults.color),new l.ColorProperty("startColor","The color of the particle at the beginning of its life.",!0,!1,[this,"startColor"],t.defaults.startColor),new l.ColorProperty("endColor","The color of the particle at the end of its life.",!0,!1,[this,"endColor"],t.defaults.endColor)]),new l.GroupProperty("速度","速度",[new l.NumberProperty("speed","speed,If set, overrides the minimumSpeed and maximumSpeed inputs with this value.",!0,!1,[this,"speed"],t.defaults.speed),new l.NumberProperty("minimumSpeed","minimumSpeed,Sets the minimum bound in meters per second above which a particles actual speed will be randomly chosen.",!0,!1,[this,"minimumSpeed"],t.defaults.minimumSpeed),new l.NumberProperty("maximumSpeed","maximumSpeed,Sets the maximum bound in meters per second below which a particles actual speed will be randomly chosen.",!0,!1,[this,"maximumSpeed"],t.defaults.maximumSpeed)]),new l.GroupProperty("粒子生命","粒子生命",[new l.NumberProperty("lifetime","lifetime,How long the particle system will emit particles, in seconds.",!0,!1,[this,"lifetime"],t.defaults.lifetime),new l.BooleanProperty("loop","loop,Whether the particle system should loop its bursts when it is complete.",!1,!1,[this,"loop"]),new l.NumberProperty("particleLife","particleLife,If set, overrides the minimumParticleLife and maximumParticleLife inputs with this value.",!0,!1,[this,"particleLife"],t.defaults.particleLife),new l.NumberProperty("minimumParticleLife","minimumParticleLife,Sets the minimum bound in seconds for the possible duration of a particles life above which a particles actual life will be randomly chosen.",!0,!1,[this,"minimumParticleLife"],t.defaults.maximumParticleLife),new l.NumberProperty("maximumParticleLife","maximumParticleLife,Sets the maximum bound in seconds for the possible duration of a particles life below which a particles actual life will be randomly chosen.",!0,!1,[this,"maximumParticleLife"],t.defaults.minimumParticleLife)]),new l.GroupProperty("质量","质量",[new l.NumberProperty("mass","mass,Sets the minimum and maximum mass of particles in kilograms.",!0,!1,[this,"mass"],t.defaults.mass),new l.NumberProperty("minimumMass","minimumMass,Sets the minimum bound for the mass of a particle in kilograms. A particles actual mass will be chosen as a random amount above this value.",!0,!1,[this,"minimumMass"],t.defaults.minimumMass),new l.NumberProperty("maximumMass","maximumMass,Sets the maximum mass of particles in kilograms. A particles actual mass will be chosen as a random amount below this value.",!0,!1,[this,"maximumMass"],t.defaults.maximumMass)]),new l.GroupProperty("图片","图片",[new l.UriProperty("imageStr","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"imageStr"],t.defaults.imageStr),new l.Number2Property("imageSize","imageSize",!0,!1,[this,"imageSize"],t.defaults.imageSize),new l.Number2Property("minimumImageSize","minimumImageSize",!0,!1,[this,"minimumImageSize"],t.defaults.minimumImageSize),new l.Number2Property("maximumImageSize","maximumImageSize",!0,!1,[this,"maximumImageSize"],t.defaults.maximumImageSize),new l.BooleanProperty("sizeInMeters","Sets if the size of particles is in meters or pixels. true to size the particles in meters; otherwise, the size is in pixels.",!1,!1,[this,"sizeInMeters"])])]),new l.GroupProperty("播放器","播放器",[new l.NumberProperty("播放比率","播放比率(0-1)",!1,!1,[this,"ratio"]),new l.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"playingLoop"]),new l.BooleanProperty("是否循环","是否循环.",!1,!1,[this,"playingLoop"]),new l.NumberProperty("当前时间","当前时间",!1,!1,[this,"currentTime"]),new l.NumberProperty("过渡时间","过渡时间",!1,!1,[this,"duration"]),new l.BooleanProperty("是否播放","是否播放.",!1,!1,[this,"playing"]),new l.NumberProperty("播放速度","播放速度.",!1,!1,[this,"playingSpeed"])])],!1)},n=t,t.type=n.register("CzmParticleSystemPrimitive",n,{chsName:"粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的粒子特效。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{position:[0,0,0],modelMatrix:[-.8957893500750183,-.4444788412198901,0,0,.28511078894078473,-.5746037485691958,.7671651518152995,0,-.3409886777031455,.68721837274483,.6414496315691579,0,-2177873.9967047274,4389222.053178148,4069473.6755001387,1],localModelMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],scale:20,startScale:1,endScale:20,color:[1,1,1,1],startColor:[1,1,1,1],endColor:[1,1,1,1],speed:1,minimumSpeed:1,maximumSpeed:1,particleLife:5,maximumParticleLife:5,minimumParticleLife:5,mass:1,minimumMass:1,maximumMass:1,imageSize:[1,1],minimumImageSize:[1,1],maximumImageSize:[1,1],lifetime:Number.MAX_VALUE,imageStr:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png"}),t}(l.ESSceneObject);t.CzmParticleSystemPrimitive=m,function(e){e.createDefaultProps=function(){return i({allowPickingDepth:!1,allowPicking:!1,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArray)([0,0,0]),modelMatrix:(0,c.reactArrayWithUndefined)(void 0),editing:!1,positionEditing:!1,rotationEditing:!1,localPosition:(0,c.reactArray)([0,0,0]),localRotation:(0,c.reactArray)([0,0,0]),localScale:(0,c.reactArray)([1,1,1]),localModelMatrix:(0,c.reactArrayWithUndefined)(void 0),emitter:(0,c.reactJson)({type:"CircleEmitter",radius:.5}),bursts:(0,c.reactJson)([]),imageStr:void 0,imageSize:(0,c.reactArrayWithUndefined)(void 0),minimumImageSize:(0,c.reactArrayWithUndefined)(void 0),maximumImageSize:(0,c.reactArrayWithUndefined)(void 0),show:!0,updateCallbackStr:"",emissionRate:5,loop:!0,scale:void 0,startScale:void 0,endScale:void 0,color:(0,c.reactArrayWithUndefined)(void 0),startColor:(0,c.reactArrayWithUndefined)(void 0),endColor:(0,c.reactArrayWithUndefined)(void 0),sizeInMeters:!1,speed:void 0,minimumSpeed:void 0,maximumSpeed:void 0,lifetime:void 0,particleLife:void 0,minimumParticleLife:void 0,maximumParticleLife:void 0,mass:void 0,minimumMass:void 0,maximumMass:void 0,playingLoop:!0,currentTime:0,duration:6e3,playingSpeed:1,playing:!0,viewDistance:void 0},l.ESSceneObject.createDefaultProps())}}(m=t.CzmParticleSystemPrimitive||(t.CzmParticleSystemPrimitive={})),t.CzmParticleSystemPrimitive=m,(0,c.extendClassProps)(m.prototype,m.createDefaultProps)},91426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drain=void 0,t.drain={type:"CzmParticleSystemPrimitive",rotation:[0,30,0],localRotation:[0,-90,0],emitter:{type:"CircleEmitter",radius:2},updateCallbackStr:"function (particle, dt) {\n    const gravityVector = new Cesium.Cartesian3();\n    const gravity = -9.8;\n    // Compute a local up vector for each particle in geocentric space.\n    const position = particle.position;\n\n    Cesium.Cartesian3.normalize(position, gravityVector);\n    Cesium.Cartesian3.multiplyByScalar(\n        gravityVector,\n        gravity * dt,\n        gravityVector\n    );\n\n    particle.velocity = Cesium.Cartesian3.add(particle.velocity, gravityVector, particle.velocity);\n}\n",emissionRate:20,loop:!1,startScale:8,endScale:10,startColor:[.7607843137254902,.9803921568627451,1,1],endColor:[1,1,1,.55],sizeInMeters:!0,speed:20,minimumParticleLife:5,maximumParticleLife:5,currentTime:4152.0999990701675,name:"大坝排水"}},46859:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.explosion=void 0,t.explosion={type:"CzmParticleSystemPrimitive",emitter:{type:"ConeEmitter",angle:1.5},imageSize:[2,2],emissionRate:201,loop:!1,startScale:2,endScale:2,startColor:[.9607843137254902,.9490196078431372,.6039215686274509,.86],endColor:[1,1,1,0],sizeInMeters:!0,minimumSpeed:10,maximumSpeed:10,lifetime:.8,minimumParticleLife:.5,maximumParticleLife:.8,currentTime:4894.000000432134,name:"爆炸"}},57022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fire=void 0,t.fire={type:"CzmParticleSystemPrimitive",emitter:{type:"CircleEmitter",radius:5},minimumImageSize:[1,1],maximumImageSize:[10,10],emissionRate:100,startScale:1,endScale:2,startColor:[.9803921568627451,.8352941176470589,.0196078431372549,.46],endColor:[.9803921568627451,.49411764705882355,.00784313725490196,0],sizeInMeters:!0,minimumSpeed:5,maximumSpeed:22,particleLife:1,currentTime:3099.600000053644,name:"火焰"}},5768:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(91426),t),o(n(46859),t),o(n(64509),t),o(n(57022),t),o(n(53021),t)},53021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smoke=void 0,t.smoke={type:"CzmParticleSystemPrimitive",emitter:{type:"CircleEmitter",radius:1},emissionRate:20,startScale:5,endScale:10,startColor:[.058823529411764705,.03529411764705882,.03529411764705882,.34],endColor:[0,0,0,0],sizeInMeters:!0,minimumSpeed:1,maximumSpeed:2,particleLife:12,currentTime:5318.9999987483025,name:"烟雾"}},64509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waveTail=void 0,t.waveTail={type:"CzmParticleSystemPrimitive",localRotation:[0,90,0],emitter:{type:"CircleEmitter",radius:1},loop:!1,startScale:20,endScale:100,startColor:[.9019607843137255,.9450980392156862,.9882352941176471,1],endColor:[.7098039215686275,.7098039215686275,.7098039215686275,0],sizeInMeters:!0,speed:50,mass:0,currentTime:1569.199999794364,name:"船舶尾迹"}},87363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCallbackReadMeStr=void 0,t.updateCallbackReadMeStr="# 示例代码\n```\nfunction (particle, dt) {\n    const gravityVector = new Cesium.Cartesian3();\n    const gravity = -(9.8 * 9.8);\n    // Compute a local up vector for each particle in geocentric space.\n    const position = particle.position;\n\n    Cesium.Cartesian3.normalize(position, gravityVector);\n    Cesium.Cartesian3.multiplyByScalar(\n        gravityVector,\n        gravity * dt,\n        gravityVector\n    );\n\n    particle.velocity = Cesium.Cartesian3.add(particle.velocity, gravityVector, particle.velocity);\n}\n```\n\n# 规格说明\n```\n/**\n * A particle emitted by a {@link ParticleSystem}.\n * @param options - An object with the following properties:\n * @param [options.mass = 1.0] - The mass of the particle in kilograms.\n * @param [options.position = Cartesian3.ZERO] - The initial position of the particle in world coordinates.\n * @param [options.velocity = Cartesian3.ZERO] - The velocity vector of the particle in world coordinates.\n * @param [options.life = Number.MAX_VALUE] - The life of the particle in seconds.\n * @param [options.image] - The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.\n * @param [options.startColor = Color.WHITE] - The color of a particle when it is born.\n * @param [options.endColor = Color.WHITE] - The color of a particle when it dies.\n * @param [options.startScale = 1.0] - The scale of the particle when it is born.\n * @param [options.endScale = 1.0] - The scale of the particle when it dies.\n * @param [options.imageSize = new Cartesian2(1.0, 1.0)] - The dimensions, width by height, to scale the particle image in pixels.\n */\nexport class Particle {\n    constructor(options: {\n        mass?: number;\n        position?: Cartesian3;\n        velocity?: Cartesian3;\n        life?: number;\n        image?: any;\n        startColor?: Color;\n        endColor?: Color;\n        startScale?: number;\n        endScale?: number;\n        imageSize?: Cartesian2;\n    });\n    /**\n     * The mass of the particle in kilograms.\n     */\n    mass: number;\n    /**\n     * The positon of the particle in world coordinates.\n     */\n    position: Cartesian3;\n    /**\n     * The velocity of the particle in world coordinates.\n     */\n    velocity: Cartesian3;\n    /**\n     * The life of the particle in seconds.\n     */\n    life: number;\n    /**\n     * The image to use for the particle.\n     */\n    image: any;\n    /**\n     * The color of the particle when it is born.\n     */\n    startColor: Color;\n    /**\n     * The color of the particle when it dies.\n     */\n    endColor: Color;\n    /**\n     * the scale of the particle when it is born.\n     */\n    startScale: number;\n    /**\n     * The scale of the particle when it dies.\n     */\n    endScale: number;\n    /**\n     * The dimensions, width by height, to scale the particle image in pixels.\n     */\n    imageSize: Cartesian2;\n    /**\n     * Gets the age of the particle in seconds.\n     */\n    age: number;\n    /**\n     * Gets the age normalized to a value in the range [0.0, 1.0].\n     */\n    normalizedAge: number;\n}\n```\n\n"},49006:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPlane=void 0;var p=n(61556),f=n(80468),d=n(51355),h=l(n(81557)),y=n(58354),g=n(91132);function m(e,t,n){var r=e,o=t,i=(o[0]-r[0]+(o[1]-r[1]))/4,a=[[r[0],0,r[1]],[o[0],0,r[1]],[o[0],0,o[1]],[r[0],0,o[1]],[0,i,0]],s=h.Math.toDegrees,l=a.map((function(e){var t,r=h.Matrix4.multiplyByPoint(n,(t=h.Cartesian3).fromElements.apply(t,u([],c(e),!1)),new h.Cartesian3),o=h.Cartographic.fromCartesian(r);return[s(o.longitude),s(o.latitude),o.height]}));return[[[l[0],l[1],l[2],l[3],l[0]]],l[4]]}var v=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new d.Event),n._sPositionEditing=n.disposeVar(new f.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._sRotationEditing=n.disposeVar(new f.RotationEditing([n,"position"],[n,"rotation"],[n,"rotationEditing"],n.components,{showHelper:!1})),n._sPrsEditing=n.disposeVar(new f.PrsEditing([n,"position"],[n,"rotation"],[n,"editing"],n,{rotation:{showHelper:!1}})),n._polylines=n.disposeVar(new g.CzmPolylinesPrimitive),n._polylinesInit=(n._polylines.arcType="NONE",void n.dispose(n.components.disposableAdd(n.polylines))),n._axis=n.disposeVar(new f.GeoAxis),n._axisInit=(n._axis.arcType="NONE",void n.dispose(n.components.disposableAdd(n.axis))),n.registerAttachedObjectForContainer((function(e){var t=new d.Destroyable;return t.dispose(n.flyToEvent.disposableOn((function(t){if(e instanceof y.CzmViewer&&e.actived)if(n.position){var r=n.minSize,o=n.maxSize,i=[o[0]-r[0],o[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]);e.flyTo(n.position,2*a,void 0,t)}else console.warn("CzmPlane warning: 没有位置，无法飞入！")}))),t})),(r=function(){var e=[],t=void 0;do{if(!n.position)break;var r=(0,p.computeCzmModelMatrix)({position:n.position,rotation:n.rotation});if(!r)break;var o=m(n.minSize,n.maxSize,r);e=o[0],t=o[1]}while(0);n.polylines.positions=e,n.position&&t&&(n.axis.positions=[n.position,t])})();var r,o=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.positionChanged,n.rotationChanged,n.minSizeChanged,n.maxSizeChanged));return n.dispose(o.disposableOn(r)),n.dispose((0,d.track)([n.polylines,"color"],[n,"color"])),n.dispose((0,d.track)([n.polylines,"width"],[n,"width"])),n.dispose((0,d.track)([n.polylines,"show"],[n,"show"])),n.dispose((0,d.track)([n.axis,"color"],[n,"color"])),(r=function(){n.axis.show=n.show&&n.showArrow})(),n.dispose(n.showChanged.disposableOn(r)),n.dispose(n.showArrowChanged.disposableOn(r)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPlane"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sRotationEditing",{get:function(){return this._sRotationEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPrsEditing",{get:function(){return this._sPrsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polylines",{get:function(){return this._polylines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return u(u([],c(e.prototype.getProperties.call(this,t)),!1),[new f.GroupProperty("通用","通用",[new f.BooleanProperty("显示","显示",!1,!1,[this,"show"]),new f.BooleanProperty("显示箭头","显示箭头",!1,!1,[this,"showArrow"]),new f.BooleanProperty("编辑","编辑.",!1,!1,[this,"editing"]),new f.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"]),new f.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new f.BooleanProperty("姿态编辑","姿态编辑.",!1,!1,[this,"rotationEditing"]),new f.RotationProperty("姿态","偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"]),new f.PositionProperty("姿态","姿态",!1,!1,[this,"rotation"]),new f.ColorProperty("color","color",!1,!1,[this,"color"]),new f.NumberProperty("width","width",!1,!1,[this,"width"]),new f.Number2Property("minSize","minSize",!1,!1,[this,"minSize"]),new f.Number2Property("maxSize","maxSize",!1,!1,[this,"maxSize"]),new f.NumberProperty("pixelSize","pixelSize",!1,!1,[this,"pixelSize"])])],!1)},n=t,t.type=n.register("CzmPlane",n,{chsName:"CzmPlane",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmPlane"}),t.defaults=i(i({},f.ESSceneObject.defaults),{position:[116.39,39.9,100]}),t}(f.ESSceneObject);t.CzmPlane=v,function(e){e.createDefaultProps=function(){return i(i({},f.ESSceneObject.createDefaultProps()),{show:!0,showArrow:!0,editing:!1,positionEditing:!1,rotationEditing:!1,position:(0,d.reactArrayWithUndefined)(void 0),rotation:(0,d.reactArray)([0,0,0]),color:(0,d.reactArray)([1,1,1,1]),width:2,minSize:(0,d.reactArray)([-100,-100]),maxSize:(0,d.reactArray)([100,100])})}}(v=t.CzmPlane||(t.CzmPlane={})),t.CzmPlane=v,(0,d.extendClassProps)(v.prototype,v.createDefaultProps)},27934:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPoint=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPoint"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.BooleanProperty("是否允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("屏幕像素尺寸","屏幕像素尺寸",!0,!1,[this,"pixelSize"],t.defaults.pixelSize),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"]),new l.NumberProperty("禁用深度检测距离","禁用深度检测距离",!1,!1,[this,"disableDepthTestDistance"]),new l.NumberProperty("外轮廓宽度","外轮廓宽度",!0,!1,[this,"outlineWidth"],t.defaults.outlineWidth),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NearFarScalerProperty("相机距离缩放","相机距离缩放",!0,!1,[this,"scaleByDistance"]),new l.NearFarScalerProperty("相机距离缩放","相机距离缩放",!0,!1,[this,"translucencyByDistance"])])],!1)},n=t,t.type=n.register("CzmPoint",n,{chsName:"CzmPoint",tags:["CzmObjects","_ES_Impl_Cesium"],description:"CzmPoint"}),t.defaults=i(i({},l.ESSceneObject.defaults),{pixelSize:1,outlineWidth:1,color:[1,1,1,.5],outlineColor:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmPoint=u,function(e){e.createDefaultProps=function(){return i({editing:!1,show:void 0,allowPicking:!1,position:(0,c.reactArrayWithUndefined)(void 0),pixelSize:void 0,color:(0,c.reactArrayWithUndefined)(void 0),distanceDisplayCondition:(0,c.reactArrayWithUndefined)(void 0),disableDepthTestDistance:0,outlineColor:(0,c.reactArrayWithUndefined)(void 0),outlineWidth:void 0,scaleByDistance:(0,c.reactArrayWithUndefined)(void 0),translucencyByDistance:(0,c.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(u=t.CzmPoint||(t.CzmPoint={})),t.CzmPoint=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},76689:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPointPrimitiveCollection=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPointPrimitiveCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.EnumProperty("blendOption","The label blending option. The default is used for rendering both opaque and translucent labels. However, if either all of the labels are completely opaque or all are completely translucent, setting the technique to BlendOption.OPAQUE or BlendOption.TRANSLUCENT can improve performance by up to 2x.",!0,!1,[this,"blendOption"],[["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OPAQUE_AND_TRANSLUCENT","OPAQUE_AND_TRANSLUCENT"]],"OPAQUE"),new l.BooleanProperty("是否显示","Determines if the primitives in the collection will be shown.",!0,!1,[this,"show"],!0),new l.BooleanProperty("debugShowBoundingVolume","For debugging only.Determines if this primitives commands bounding spheres are shown.",!0,!1,[this,"debugShowBoundingVolume"],!1),new l.JsonProperty("pointPrimitiveOptions","点集合.",!0,!1,[this,"pointPrimitiveOptions"],void 0,'### 点位标绘集合示例\n```\n[\n    {\n        "position": [\n            116.4,\n            39.95,\n            0\n        ],\n        "color": [\n            1,\n            0,\n            0,\n            1\n        ],\n    },\n    {\n        "position": [\n            116.4,\n            39.96,\n            0\n        ],\n    }\n]\n```\n')])],!1)},n=t,t.type=n.register("CzmPointPrimitiveCollection",n,{chsName:"点集合(PointPrimitiveCollection)",tags:["GeoObjects","_ES_Impl_Cesium"],description:"自定义的点集合。"}),t}(u.ESSceneObject);t.CzmPointPrimitiveCollection=p,function(e){e.createDefaultProps=function(){return i({show:void 0,debugShowBoundingVolume:void 0,blendOption:void 0,pointPrimitiveOptions:void 0,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0),scale:(0,c.reactArrayWithUndefined)(void 0),localPosition:(0,c.reactArrayWithUndefined)(void 0),localRotation:(0,c.reactArrayWithUndefined)(void 0),localScale:(0,c.reactArrayWithUndefined)(void 0),localModelMatrix:(0,c.reactArrayWithUndefined)(void 0),modelMatrix:(0,c.reactArrayWithUndefined)(void 0)},u.ESSceneObject.createDefaultProps())}}(p=t.CzmPointPrimitiveCollection||(t.CzmPointPrimitiveCollection={})),t.CzmPointPrimitiveCollection=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},64403:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonClippingPlanes=t.ClippingPlanesFromPositions=t.positionsToClippingPlaneInfos=void 0;var l=n(80468),c=n(51355),u=n(61546),p=n(59645),f=n(53347),d=n(49006);function h(e){var t=(0,l.uniquePositions)(e);if(!(t.length<3)){var n,r=(0,l.getMinMaxCorner)(t).center,o=u.Vector.subtract(r,t[0]),i=u.Vector.subtract(t[1],t[0]);u.Vector.normalize(o,o),u.Vector.normalize(i,i);var a=u.Vector3.cross(i,o,[0,0,0]);u.Vector.normalize(a,a),n=a[2]>0;var s=t.length;return t.map((function(e,r){var o=t[(r+1)%s],i=(0,l.geoHeading)(e,o);return{pos:e,dir:(0,l.clamp0_360)(i+(n?-90:90))}}))}}t.positionsToClippingPlaneInfos=h;var y=function(e){function t(n,r,o){var i=e.call(this)||this;return i._sceneObject=n,i._czmClippingPlanes=r,i._positions=o,i._czmPlanes=function(){var e=t.positionsToClippingPlaneInfos(i._positions);if(e)return e.map((function(e){var t=i.disposeVar(p.SceneObject.createFromClass(d.CzmPlane));return t.position=e.pos,t.rotation=[e.dir,0,0],t.show=!1,t}))}(),i._czmPlanes&&(i._czmClippingPlanes.planeIds=i._czmPlanes.map((function(e){return e.id}))),i.dispose((function(){i._czmClippingPlanes.planeIds=[]})),i}return o(t,e),Object.defineProperty(t.prototype,"czmClippingPlanes",{get:function(){return this._czmClippingPlanes},enumerable:!1,configurable:!0}),t.positionsToClippingPlaneInfos=h,t}(c.Destroyable);t.ClippingPlanesFromPositions=y;var g=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!0,[n,"editing"],n.components)),n._polygon=n.disposeVar(new l.GeoPolygon),n._polygonInit=(n._polygon.fill=!1,n.dispose(n.components.disposableAdd(n._polygon)),n.dispose((0,c.track)([n._polygon,"positions"],[n,"positions"])),n.dispose((0,c.track)([n._polygon,"show"],[n,"showHelper"])),void n.dispose((0,c.track)([n._polygon,"allowPicking"],[n,"allowPicking"]))),n._clippingPlanes=n.disposeVar(new f.CzmClippingPlanes),n._clippingPlanesInit=function(){n.dispose(n.components.disposableAdd(n._clippingPlanes)),n.dispose((0,c.track)([n._clippingPlanes,"enabled"],[n,"enabled"])),n.dispose((0,c.track)([n._clippingPlanes,"edgeColor"],[n,"edgeColor"])),n.dispose((0,c.track)([n._clippingPlanes,"edgeWidth"],[n,"edgeWidth"]));var e=function(){n._clippingPlanes.unionClippingRegions=!n.reverse,n._clippingPlanes.reverseNormal=n.reverse};e(),n.dispose(n.reverseChanged.disposableOn(e))}(),n._positionsResetting=n.disposeVar(new p.ObjResettingWithEvent(n.positionsChanged,(function(){if(n.positions&&!(n.positions.length<3))return new y(n,n._clippingPlanes,n.positions)}))),n.dispose(n._flyToEvent.disposableOn((function(e){n._polygon.flyTo(e)}))),n.dispose(n._polygon.pickedEvent.disposableOn((function(e){n.pickedEvent.emit(new l.SceneObjectPickedInfo(n,e))}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonClippingPlanes"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygon",{get:function(){return this._polygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clippingPlanes",{get:function(){return this._clippingPlanes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedClippingPlanes",{get:function(){return this._clippingPlanes.computedClippingPlanes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedClippingPlanesChanged",{get:function(){return this._clippingPlanes.computedClippingPlanesChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new l.BooleanProperty("辅助线框","辅助线框",!1,!1,[this,"showHelper"]),new l.BooleanProperty("作用到地形","作用到地形",!1,!1,[this,"applyOnTerrain"]),new l.BooleanProperty("编辑","编辑(editing)",!1,!1,[this,"editing"]),new l.PositionsProperty("位置","位置",!0,!1,[this,"positions"]),new l.BooleanProperty("reverse","reverse",!1,!1,[this,"reverse"]),new l.ColorProperty("edgeColor","edgeColor",!1,!1,[this,"edgeColor"]),new l.NumberProperty("edgeWidth","edgeWidth",!1,!1,[this,"edgeWidth"]),new l.JsonProperty("computedClippingPlanes","computedClippingPlanes",!1,!0,[this,"computedClippingPlanes"])])],!1)},n=t,t.type=n.register("CzmPolygonClippingPlanes",n,{chsName:"CzmPolygonClippingPlanes",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmPolygonClippingPlanes"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmPolygonClippingPlanes=g,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{enabled:!0,showHelper:!0,editing:!1,allowPicking:!1,positions:(0,c.reactPositions)(void 0),reverse:!1,edgeColor:(0,c.reactArray)([1,1,1,1]),edgeWidth:2})}}(g=t.CzmPolygonClippingPlanes||(t.CzmPolygonClippingPlanes={})),t.CzmPolygonClippingPlanes=g,(0,c.extendClassProps)(g.prototype,g.createDefaultProps)},96882:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonFence=void 0;var l=n(80468),c=n(51355),u=n(44075),p=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new c.Event),r._flyToEvent=r.disposeVar(new c.Event),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!0,[r,"editing"],r.components)),r._pointEditor=r.disposeVar(new l.PointEditing([r,"positions"],[r,"pointEditing"],r.components)),r._czmCustomPrimitive=r.disposeVar(new u.CzmCustomPrimitive),r._geoBoundingSphere=r.disposeVar((0,l.createGeoBoudingSphereReactFromPositions)([r,"positions"])),r.dispose(r.components.disposableAdd(r.czmCustomPrimitive));var o=r.czmCustomPrimitive;r.dispose((0,c.track)([o,"show"],[r,"show"])),r.dispose((0,c.track)([o,"allowPicking"],[r,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){r.pickedEvent.emit(new l.SceneObjectPickedInfo(r,e))})));var i=r.disposeVar((0,c.react)(0));(p=function(){if(!r.positions||r.positions.length<3)o.show=!1;else{o.show=!0;var e=a((0,l.positionsToLocalPositions)({originPosition:r.positions[0]},r.positions),3),n=e[0],c=e[1];e[2],o.modelMatrix=c,o.cull=!1,n.push(n[0]);var u=n.length,p=s(s([],a(n),!1),a(n.map((function(e){var n;return[e[0],e[1],e[2]+(null!==(n=r.height)&&void 0!==n?n:t.defaults.height)]}))),!1),f=n.reduce((function(e,t,n,r){if(0===n)return e.push(0),e;var o=n-1,i=r[o],a=Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]));return e.push(e[o]+a),e}),[]);i.value=f[u-1];var d=f.map((function(e){return e/i.value})),h=s(s([],a(d.map((function(e){return[e,0]}))),!1),a(d.map((function(e){return[e,1]}))),!1);o.attributes={a_position:{typedArray:new Float32Array(p.flat(1)),componentsPerAttribute:3},a_st:{typedArray:new Float32Array(h.flat(1)),componentsPerAttribute:2}};var y=o.computeLocalAxisedBoundingBoxFromAttribute("a_position");if(y){o.setLocalAxisedBoundingBox(y.min,y.max);var g=s([],a(new Array(u-1).keys()),!1).map((function(e){return[[e,e+1,e+u+1],[e,e+u+1,e+u],[e+u+1,e+1,e],[e+u,e+u+1,e]]})).flat(2);o.indexTypedArray=new Uint16Array(g),o.vertexShaderSource="                    in vec3 a_position;\n                    in vec2 a_st;\n                    out vec2 v_st;\n                    void main()\n                    {\n                        v_st = a_st;\n                        gl_Position = czm_modelViewProjection * vec4(a_position, 1.0);\n                    }\n                ",o.fragmentShaderSource="                    in vec2 v_st;\n                    uniform sampler2D u_image;\n                    uniform vec4 u_color;\n                    uniform vec2 u_speed;\n                    uniform vec2 u_stScale;\n                    void main()\n                    {\n                        vec2 addst = u_speed * (czm_frameNumber / 60.0);\n                        vec4 imageColor = texture(u_image, fract(v_st * u_stScale - addst));\n                        out_FragColor = imageColor * u_color;\n                    }\n                "}else console.warn("包围盒计算存在问题！")}})();var p,f=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.heightChanged,r.positionsChanged));r.dispose(f.disposableOn(p)),r.dispose(r.flyToEvent.disposableOn((function(e){r.czmCustomPrimitive.flyTo(e)}))),(p=function(){var e,n,a,s=i.value?i.value:1,l=null!==(e=r.height)&&void 0!==e?e:t.defaults.height,c=r.textureSizeInMeters,u=void 0===c?t.defaults.textureSizeInMeters:c,p=r.textureUri,f=void 0===p?t.defaults.textureUri:p;o.uniformMap={u_image:{type:"image",uri:f},u_stScale:[s/u[0],l/u[1]],u_speed:null!==(n=r.textureMoveSpeed)&&void 0!==n?n:t.defaults.textureMoveSpeed,u_color:null!==(a=r.textureColor)&&void 0!==a?a:t.defaults.textureColor}})();var d=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.textureColorChanged,r.textureMoveSpeedChanged,r.textureSizeInMetersChanged,r.heightChanged,r.textureSizeInMetersChanged,r.textureUriChanged,i.changed));return r.dispose(d.disposableOn(p)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonFence"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCustomPrimitive",{get:function(){return this._czmCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoBoundingSphere",{get:function(){return this._geoBoundingSphere.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoBoundingSphereChanged",{get:function(){return this._geoBoundingSphere.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("是否单点编辑","是否单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],l.GeoPolygon.defaults.positions),new l.NumberProperty("高度","高度, 单位米",!0,!1,[this,"height"],t.defaults.height),new l.StringProperty("纹理路径","纹理路径",!0,!1,[this,"textureUri"],t.defaults.textureUri),new l.Number2Property("纹理移动速度","纹理移动速度",!0,!1,[this,"textureMoveSpeed"],t.defaults.textureMoveSpeed),new l.ColorProperty("纹理颜色","纹理颜色",!0,!1,[this,"textureColor"],t.defaults.textureColor)])],!1)},n=t,t.type=n.register("CzmPolygonFence",n,{chsName:"CzmPolygonFence",tags:["CzmObjects"],description:"CzmPolygonFence"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!1,editing:!1,pointEditing:!1,positions:[],height:1e3,textureSizeInMeters:[500,500],textureUri:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png",textureMoveSpeed:[0,.3],textureColor:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmPolygonFence=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,pointEditing:void 0,positions:(0,c.reactPositions)(void 0),height:void 0,textureSizeInMeters:(0,c.reactArrayWithUndefined)(void 0),textureUri:void 0,textureMoveSpeed:(0,c.reactArrayWithUndefined)(void 0),textureColor:(0,c.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(p=t.CzmPolygonFence||(t.CzmPolygonFence={})),t.CzmPolygonFence=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},33897:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonFlattenedPlane=void 0;var p=n(80468),f=n(51355),d=n(59645),h=n(51193),y=n(64759),g=l(n(81557)),m=function(e){function t(t,n){var r=e.call(this)||this;r._czmPolygonFlattenedPlane=t,r._czmFlattenedPlane=n;var o=r._czmPolygonFlattenedPlane.polygonCanvas,i=6378137,a=g.Math.toRadians,s=function(){var e=o.canvasGeoInfo;if(e){var t=e.rect,n=e.height,s=[(t[0]+t[2])/2,(t[1]+t[3])/2,n],l=a(t[2]-t[0])*i*Math.cos(a(s[1])),c=a(t[3]-t[1])*i;r._czmFlattenedPlane.position=s,r._czmFlattenedPlane.minSize=[.5*-l,.5*-c],r._czmFlattenedPlane.maxSize=[.5*l,.5*c]}};s(),r.dispose(o.canvasGeoInfoChanged.disposableOn(s)),r._czmFlattenedPlane.czmTextureWithId.sceneObject=r._czmPolygonFlattenedPlane.czmTexture,r.dispose((function(){return r._czmFlattenedPlane.czmTextureWithId.sceneObject=void 0}));var l=r._czmFlattenedPlane.showHelper;return r._czmFlattenedPlane.showHelper=!1,r.dispose((function(){return r._czmFlattenedPlane.showHelper=l})),r.dispose((0,f.track)([r._czmFlattenedPlane,"enabled"],[r._czmPolygonFlattenedPlane,"enabled"])),r}return o(t,e),t}(f.Destroyable),v=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new f.Event),n._flyToEvent=n.disposeVar(new f.Event),n._sPositionsEditing=n.disposeVar(new p.PositionsEditing([n,"positions"],!0,[n,"editing"],n.components)),n._sPointEditing=n.disposeVar(new p.PointEditing([n,"positions"],[n,"pointEditing"],n.components)),n._positionsCenter=n.disposeVar(new p.PositionsCenter([n,"positions"])),n._czmTexture=n.disposeVar(d.SceneObject.createFromClass(y.CzmTexture)),n._czmTextureInit=void n.dispose(n.components.disposableAdd(n._czmTexture)),n._polygon=n.disposeVar(new p.GeoPolygon),n._polygonInit=(n.dispose(n.components.disposableAdd(n._polygon)),n.dispose((0,f.track)([n._polygon,"allowPicking"],[n,"allowPicking"])),n.dispose((0,f.track)([n._polygon,"positions"],[n,"positions"])),void n.dispose((0,f.track)([n._polygon,"show"],[n,"show"]))),n._polygonCanvas=n.disposeVar(new p.GeoPolygonCanvas),n._polygonCanvasInit=function(){n.dispose(n.components.disposableAdd(n._polygonCanvas)),n._polygonCanvas.geoPolygonWithId.sceneObject=n._polygon;var e=function(){n._czmTexture.copyFromCanvas(n._polygonCanvas.canvas)};e(),n.dispose(n._polygonCanvas.canvasChanged.disposableOn(e)),n.dispose(n._czmTexture.readyEvent.disposableOn(e))}(),n._czmFlattenedPlaneWithId=n.disposeVar(new d.SceneObjectWithId),n._czmFlattenedPlaneWithIdInit=void n.dispose((0,f.track)([n._czmFlattenedPlaneWithId,"id"],[n,"czmFlattenedPlaneId"])),n._czmFlattendPlaneWithIdResetting=n.disposeVar(new d.ObjResettingWithEvent(n.czmFlattenedPlaneWithId.sceneObjectChanged,(function(){var e=n.czmFlattenedPlaneWithId.sceneObject;if(e instanceof h.CzmFlattenedPlane)return new m(n,e)}))),n.dispose(n._flyToEvent.disposableOn((function(e){n._polygon.flyTo(e)}))),n.dispose(n._polygon.pickedEvent.disposableOn((function(e){n._pickedEvent.emit(new p.SceneObjectPickedInfo(n,e))}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonFlattenedPlane"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPointEditing",{get:function(){return this._sPointEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionsCenter",{get:function(){return this._positionsCenter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmTexture",{get:function(){return this._czmTexture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygon",{get:function(){return this._polygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonCanvas",{get:function(){return this._polygonCanvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmFlattenedPlaneWithId",{get:function(){return this._czmFlattenedPlaneWithId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmFlattendPlaneWithIdResetting",{get:function(){return this._czmFlattendPlaneWithIdResetting},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return u(u([],c(e.prototype.getProperties.call(this,t)),!1),[new p.GroupProperty("通用","通用",[new p.BooleanProperty("enabled","enabled",!1,!1,[this,"enabled"]),new p.BooleanProperty("显示","显示(show)",!1,!1,[this,"show"]),new p.BooleanProperty("编辑","编辑(editing)",!1,!1,[this,"editing"]),new p.BooleanProperty("单点编辑","单点编辑(editing)",!1,!1,[this,"pointEditing"]),new p.BooleanProperty("allowPicking","allowPicking",!1,!1,[this,"allowPicking"]),new p.PositionsProperty("位置","位置(position)",!1,!1,[this,"positions"]),new p.StringProperty("czmFlattenedPlaneId","czmFlattenedPlaneId",!1,!1,[this,"czmFlattenedPlaneId"])])],!1)},n=t,t.type=n.register("CzmPolygonFlattenedPlane",n,{chsName:"CzmPolygonFlattenedPlane",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmPolygonFlattenedPlane"}),t.defaults=i({},p.ESSceneObject.defaults),t}(p.ESSceneObject);t.CzmPolygonFlattenedPlane=v,function(e){e.createDefaultProps=function(){return i(i({},p.ESSceneObject.createDefaultProps()),{enabled:!0,show:!0,editing:!1,pointEditing:!1,positions:(0,f.reactPositions)([]),allowPicking:!1,czmFlattenedPlaneId:""})}}(v=t.CzmPolygonFlattenedPlane||(t.CzmPolygonFlattenedPlane={})),t.CzmPolygonFlattenedPlane=v,(0,f.extendClassProps)(v.prototype,v.createDefaultProps)},9848:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonGroundPrimitive=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!1,!1,[this,"stRotation"]),new l.JsonProperty("polygonHierarchies","polygonHierarchies",!1,!1,[this,"polygonHierarchies"],[],l.CzmPolygonHierarchyTypeMd),new l.NumberProperty("高度","高度",!1,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!1,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!1,!1,[this,"perPositionHeight"]),new l.BooleanProperty("是否关闭顶部","是否关闭顶部.",!1,!1,[this,"closeTop"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!1,!1,[this,"closeBottom"]),new l.NumberProperty("zIndex","zIndex",!1,!1,[this,"zIndex"])])],!1)},n=t,t.type=n.register("CzmPolygonGroundPrimitive",n,{chsName:"贴地多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的多边形贴地。"}),t}(l.ESSceneObject);t.CzmPolygonGroundPrimitive=u,function(e){e.createDefaultProps=function(){return i({show:!0,allowPicking:!1,arcType:"GEODESIC",material:(0,c.reactJson)({type:"Color"}),stRotation:0,polygonHierarchies:(0,c.reactJson)([{positions:[]}]),height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:1,perPositionHeight:!1,closeTop:!0,closeBottom:!0,zIndex:0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmPolygonGroundPrimitive||(t.CzmPolygonGroundPrimitive={})),t.CzmPolygonGroundPrimitive=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},1433:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonOutlinePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.JsonProperty("polygonHierarchies","polygonHierarchies",!1,!1,[this,"polygonHierarchies"],[],l.CzmPolygonHierarchyTypeMd),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"])])],!1)},n=t,t.type=n.register("CzmPolygonOutlinePrimitive",n,{chsName:"多边形外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API实现的多边形外轮廓。"}),t}(u.ESSceneObject);t.CzmPolygonOutlinePrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,height:void 0,extrudedHeight:void 0,translucent:void 0,outlineColor:(0,c.reactArrayWithUndefined)(void 0),arcType:void 0,polygonHierarchies:(0,c.reactJson)([]),ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0},u.ESSceneObject.createDefaultProps())}}(p=t.CzmPolygonOutlinePrimitive||(t.CzmPolygonOutlinePrimitive={})),t.CzmPolygonOutlinePrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},80661:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonPrimitive=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new l.JsonProperty("polygonHierarchies","polygonHierarchies",!1,!1,[this,"polygonHierarchies"],[],l.CzmPolygonHierarchyTypeMd),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new l.BooleanProperty("是否关闭顶部","是否关闭顶部.",!0,!1,[this,"closeTop"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"])])],!1)},n=t,t.type=n.register("CzmPolygonPrimitive",n,{chsName:"多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的多边形。"}),t}(l.ESSceneObject);t.CzmPolygonPrimitive=u,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,arcType:void 0,material:(0,c.reactJson)({type:"Color"}),stRotation:void 0,polygonHierarchies:(0,c.reactJson)([{positions:[]}]),height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0,closeTop:void 0,closeBottom:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmPolygonPrimitive||(t.CzmPolygonPrimitive={})),t.CzmPolygonPrimitive=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},21120:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylineGroundPrimitive=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylineGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("是否开启地形深度检测","A boolean Property specifying the visibility.",!0,!1,[this,"depthTest"],!1),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"]),new l.NumberProperty("zIndex","zIndex",!0,!1,[this,"zIndex"])])],!1)},n=t,t.type=n.register("CzmPolylineGroundPrimitive",n,{chsName:"贴地线条",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的贴地折线。"}),t}(l.ESSceneObject);t.CzmPolylineGroundPrimitive=u,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,c.reactPositions)(void 0),width:void 0,arcType:void 0,material:(0,c.reactJson)({type:"Color"}),editing:void 0,depthTest:void 0,zIndex:0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmPolylineGroundPrimitive||(t.CzmPolylineGroundPrimitive={})),t.CzmPolylineGroundPrimitive=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},8957:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylinePrimitive=void 0;var l=n(80468),c=n(80468),u=n(51355),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("LineString",this.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.positions=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new c.BooleanProperty("是否开启地形深度检测","A boolean Property specifying the visibility.",!0,!1,[this,"depthTest"],!1),new c.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new c.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new c.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new c.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new c.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new c.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolylinePrimitive",n,{chsName:"线条",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的折线。"}),t}(p.ESSceneObject);t.CzmPolylinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,u.reactPositions)(void 0),width:void 0,arcType:void 0,material:(0,u.reactJson)({type:"Color"}),depthTest:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmPolylinePrimitive||(t.CzmPolylinePrimitive={})),t.CzmPolylinePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},44197:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylinesGroundPrimitive=void 0;var l=n(80468),c=n(80468),u=n(51355),p=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylinesGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("MultiLineString",this.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.positions=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new c.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new c.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new c.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"]),new c.BooleanProperty("是否为虚线","是否为虚线",!0,!1,[this,"hasDash"]),new c.BooleanProperty("是否开启深度检测","是否开启深度检测",!0,!1,[this,"depthTest"],!0),new c.ColorProperty("间隔颜色"," A Property specifying the color.",!0,!1,[this,"gapColor"]),new c.NumberProperty("虚线长度","虚线长度",!0,!1,[this,"dashLength"]),new c.NumberProperty("虚线图案","虚线图案",!0,!1,[this,"dashPattern"]),new c.BooleanProperty("是否带箭头","是否带箭头",!0,!1,[this,"hasArrow"]),new c.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new c.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolylinesGroundPrimitive",n,{chsName:"折线集合(贴地)",tags:["GeoObjects","_ES_Impl_Cesium"],description:"绘制多条贴地折线。"}),t}(c.ESSceneObject);t.CzmPolylinesGroundPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,u.reactPositionsSet)(void 0),width:void 0,color:(0,u.reactArrayWithUndefined)(void 0),hasDash:void 0,gapColor:(0,u.reactArrayWithUndefined)(void 0),dashLength:void 0,dashPattern:void 0,hasArrow:void 0,arcType:void 0,depthTest:void 0},c.ESSceneObject.createDefaultProps())}}(p=t.CzmPolylinesGroundPrimitive||(t.CzmPolylinesGroundPrimitive={})),t.CzmPolylinesGroundPrimitive=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},91132:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylinesPrimitive=void 0;var l=n(80468),c=n(80468),u=n(51355),p=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylinesPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("MultiLineString",this.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.positions=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new c.PositionsSetPropety("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new c.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new c.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"]),new c.BooleanProperty("是否为虚线","是否为虚线",!0,!1,[this,"hasDash"]),new c.BooleanProperty("是否开启深度检测","是否开启深度检测",!0,!1,[this,"depthTest"],!0),new c.ColorProperty("间隔颜色"," A Property specifying the color.",!0,!1,[this,"gapColor"]),new c.NumberProperty("虚线长度","虚线长度",!0,!1,[this,"dashLength"]),new c.NumberProperty("虚线图案","虚线图案",!0,!1,[this,"dashPattern"]),new c.BooleanProperty("是否带箭头","是否带箭头",!0,!1,[this,"hasArrow"]),new c.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new c.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolylinesPrimitive",n,{chsName:"折线集合",tags:["GeoObjects","_ES_Impl_Cesium"],description:"绘制多条折线(不可贴地)。"}),t}(c.ESSceneObject);t.CzmPolylinesPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,u.reactPositionsSet)(void 0),width:void 0,color:(0,u.reactArrayWithUndefined)(void 0),hasDash:void 0,gapColor:(0,u.reactArrayWithUndefined)(void 0),dashLength:void 0,dashPattern:void 0,hasArrow:void 0,arcType:void 0,depthTest:void 0},c.ESSceneObject.createDefaultProps())}}(p=t.CzmPolylinesPrimitive||(t.CzmPolylinesPrimitive={})),t.CzmPolylinesPrimitive=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},71309:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRainPostProcess=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRainPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"])])],!1)},n=t,t.type=n.register("CzmRainPostProcess",n,{chsName:"雨后特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"雨后特效"}),t}(u.ESSceneObject);t.CzmRainPostProcess=p,function(e){e.createDefaultProps=function(){return i({show:void 0},u.ESSceneObject.createDefaultProps())}}(p=t.CzmRainPostProcess||(t.CzmRainPostProcess={})),t.CzmRainPostProcess=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},32389:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRectangleGroundPrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRectangleGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.Number4Property("范围","东南西北",!0,!1,[this,"positions"]),new l.NumberProperty("rotation","rotation.",!0,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation.",!0,!1,[this,"stRotation"]),new l.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],t.defaults.material,u.CzmMaterialJsonTypeMd),new l.NumberProperty("zIndex","zIndex.",!1,!1,[this,"zIndex"])])],!1)},n=t,t.type=n.register("CzmRectangleGroundPrimitive",n,{chsName:"贴地矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的矩形贴地。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{material:{type:"Color",color:[1,1,1,.5]}}),t}(p.ESSceneObject);t.CzmRectangleGroundPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,material:(0,c.reactJsonWithUndefined)(void 0),positions:(0,c.reactArrayWithUndefined)(void 0),rotation:void 0,stRotation:void 0,zIndex:0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmRectangleGroundPrimitive||(t.CzmRectangleGroundPrimitive={})),t.CzmRectangleGroundPrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},59057:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRectangleOutlinePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRectangleOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"]),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number4Property("范围","东南西北",!0,!1,[this,"positions"]),new l.NumberProperty("rotation","rotation.",!0,!1,[this,"rotation"])])],!1)},n=t,t.type=n.register("CzmRectangleOutlinePrimitive",n,{chsName:"矩形外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的矩形外轮廓。"}),t}(u.ESSceneObject);t.CzmRectangleOutlinePrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,translucent:void 0,color:(0,c.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,rotation:void 0,positions:(0,c.reactArrayWithUndefined)(void 0)},u.ESSceneObject.createDefaultProps())}}(p=t.CzmRectangleOutlinePrimitive||(t.CzmRectangleOutlinePrimitive={})),t.CzmRectangleOutlinePrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},65116:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRectanglePrimitive=void 0;var l=n(80468),c=n(51355),u=n(80468),p=n(80468),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRectanglePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],void 0,u.CzmMaterialJsonTypeMd),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number4Property("范围","东南西北",!0,!1,[this,"positions"]),new l.NumberProperty("rotation","rotation.",!0,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation.",!0,!1,[this,"stRotation"])])],!1)},n=t,t.type=n.register("CzmRectanglePrimitive",n,{chsName:"矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的矩形。"}),t}(p.ESSceneObject);t.CzmRectanglePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,material:(0,c.reactJsonWithUndefined)(void 0),positions:(0,c.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,rotation:void 0,stRotation:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmRectanglePrimitive||(t.CzmRectanglePrimitive={})),t.CzmRectanglePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},90100:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRoad=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRoad"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],t.defaults.positions),new l.NumberProperty("线宽","道路宽度，单位是米！",!0,!1,[this,"width"],t.defaults.width),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],t.defaults.arcType),new l.StringProperty("道路图片","道路图片",!0,!1,[this,"imageUrl"],t.defaults.imageUrl),new l.Number2Property("重复次数","重复次数，该参数以后会取消！",!0,!1,[this,"repeat"],t.defaults.repeat),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3])])],!1)},n=t,t.type=n.register("CzmRoad",n,{chsName:"贴地道路",tags:["CzmObjects","_ES_Impl_Cesium"],description:"最大宽度到1000米"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,positions:[],width:50,arcType:"GEODESIC",imageUrl:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/roads/4.jpg",repeat:[100,1],editing:!1,allowPicking:!1}),t}(l.ESSceneObject);t.CzmRoad=u,function(e){e.createDefaultProps=function(){return i({show:void 0,positions:(0,c.reactPositions)(void 0),width:void 0,arcType:void 0,imageUrl:void 0,repeat:void 0,editing:void 0,allowPicking:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmRoad||(t.CzmRoad={})),t.CzmRoad=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},99277:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSectioningLine=t.SectioningAnalysis=void 0;var p=n(80468),f=n(51355),d=n(59645),h=n(21120),y=l(n(81557)),g=n(58354),m=function(e){function t(t,n){var r=e.call(this)||this;r._czmViewer=t,r._sceneObject=n;var o=function(){var e,t;if(r.czmViewer.actived){var n=r.czmViewer.viewer;if(n){var o=n.scene,i=r.sceneObject.positions;if(i){for(var a=i.length,s=[],l=0;l<a-1;++l){var u=i[l],p=i[l+1],f=c(u,3),d=f[0],h=f[1],g=f[2],m=c(p,3),v=m[0],b=m[1],_=m[2],w=y.Cartographic.fromDegrees(d,h,g),P=y.Cartographic.fromDegrees(v,b,_),C=new y.EllipsoidGeodesic(w,P),O=0;l>0&&(O=s[l-1].accumDistance);var x=null!==(e=r.sceneObject.segmentsNumArray[l])&&void 0!==e?e:r.sceneObject.defaultSegmentsNum;x<1&&(x=1);for(var S=C.surfaceDistance/x,E=y.Math.toDegrees,j=[],T=0;T<=x;++T){var M=S*T,A=C.interpolateUsingSurfaceDistance(M),I=[E(A.longitude),E(A.latitude),A.height],z=null!==(t=o.sampleHeight(A))&&void 0!==t?t:0;j.push({p:I,c:A,distance:M,accumDistance:O+M,height:z})}s.push({p0:u,p1:p,c0:w,c1:P,ellipsoidGeodesic:C,distance:C.surfaceDistance,accumDistance:O+C.surfaceDistance,segments:j})}r.sceneObject.analysisResult=s;var D={xAxis:{type:"value"},yAxis:{type:"value"},series:[{data:s.map((function(e){return e.segments.map((function(e){return[e.accumDistance,e.height]}))})).flat(1),type:"line"}]};r.sceneObject.echartsOptionsStr="option = "+JSON.stringify(D,void 0,"    ")}}}};o();var i=r.disposeVar((0,f.createNextAnimateFrameEvent)(r.sceneObject.positionsChanged,r.sceneObject.segmentsNumArrayChanged,r.sceneObject.defaultSegmentsNumChanged,r.sceneObject.forceUpdateEvent));return r.dispose(i.disposableOn(o)),r}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(f.Destroyable);t.SectioningAnalysis=m;var v=function(e){function t(t){var n,r=e.call(this,t)||this;return r._pickedEvent=r.disposeVar(new f.Event),r._flyToEvent=r.disposeVar(new f.Event),r._sPositionsEditing=r.disposeVar(new p.PositionsEditing([r,"positions"],!1,[r,"editing"],r.components)),r._forceUpdateEvent=r.disposeVar(new f.Event),r._analysisResult=r.disposeVar((0,f.react)(void 0)),r._echartsOptionsStr=r.disposeVar((0,f.react)("")),r._line=((n=r.disposeVar(d.SceneObject.createFromClass(h.CzmPolylineGroundPrimitive))).width=2,r.dispose(r.components.disposableAdd(n)),r.dispose((0,f.track)([n,"show"],[r,"show"])),r.dispose((0,f.bind)([n,"positions"],[r,"positions"])),r.dispose((0,f.bind)([n,"editing"],[r,"editing"])),n),r._sectioningChartPerView=void r.dispose(r.createAttachedObject((function(e){if(e instanceof g.CzmViewer)return new m(e,r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSectioningLine"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceUpdateEvent",{get:function(){return this._forceUpdateEvent},enumerable:!1,configurable:!0}),t.prototype.forceUpdate=function(){this._forceUpdateEvent.emit()},Object.defineProperty(t.prototype,"analysisResult",{get:function(){return this._analysisResult.value},set:function(e){this._analysisResult.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"analysisResultChanged",{get:function(){return this._analysisResult.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"echartsOptionsStr",{get:function(){return this._echartsOptionsStr.value},set:function(e){this._echartsOptionsStr.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"echartsOptionsStrChanged",{get:function(){return this._echartsOptionsStr.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._line},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return u(u([],c(e.prototype.getProperties.call(this,t)),!1),[new p.GroupProperty("通用","通用",[new p.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new p.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new p.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new p.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new p.FunctionProperty("强制刷新","强制刷新",[],(function(){return n.forceUpdate()}),[]),new p.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3])])],!1)},n=t,t.type=n.register("CzmSectioningLine",n,{chsName:"剖切线",tags:["CzmObjects","_ES_Impl_Cesium"],description:"剖切线"}),t}(p.ESSceneObject);t.CzmSectioningLine=v,function(e){e.createDefaultProps=function(){return i({show:!0,positions:(0,f.reactPositions)(void 0),editing:!1,allowPicking:!1,defaultSegmentsNum:20,segmentsNumArray:(0,f.reactArray)([])},p.ESSceneObject.createDefaultProps())}}(v=t.CzmSectioningLine||(t.CzmSectioningLine={})),t.CzmSectioningLine=v,(0,f.extendClassProps)(v.prototype,v.createDefaultProps)},37602:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSignalTransmission=void 0;var l=n(80468),c=n(51355),u=n(59645),p=n(89089),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n._collection=n.disposeVar(u.SceneObject.createFromClass(p.CzmSignalTransmissionCollection)),n._collectionInit=function(){n.dispose(n.components.disposableAdd(n._collection)),n.dispose((0,c.track)([n._collection,"show"],[n,"show"])),n.dispose((0,c.track)([n._collection,"startTime"],[n,"startTime"])),n.dispose((0,c.track)([n._collection,"transmissionTime"],[n,"transmissionTime"])),n.dispose((0,c.track)([n._collection,"color"],[n,"color"])),n.dispose((0,c.track)([n._collection,"bgColor"],[n,"bgColor"])),n.dispose((0,c.track)([n._collection,"width"],[n,"width"])),n.dispose((0,c.track)([n._collection,"arcType"],[n,"arcType"])),n.dispose((0,c.track)([n._collection,"brightening"],[n,"brightening"])),n.dispose((0,c.track)([n._collection,"depthTest"],[n,"depthTest"])),n.dispose((0,c.track)([n._collection,"imageUrl"],[n,"imageUrl"])),n.dispose((0,c.track)([n._collection,"repeat"],[n,"repeat"])),n.dispose((0,c.track)([n._collection,"repeatLength"],[n,"repeatLength"])),n.dispose((0,c.track)([n._collection,"bidirectional"],[n,"bidirectional"])),n.dispose((0,c.track)([n._collection,"allowPicking"],[n,"allowPicking"])),n.dispose((0,c.bind)([n._collection,"playing"],[n,"playing"])),n.dispose((0,c.track)([n._collection,"loop"],[n,"loop"])),n.dispose((0,c.bind)([n._collection,"currentTime"],[n,"currentTime"])),n.dispose((0,c.bind)([n._collection,"duration"],[n,"duration"])),n.dispose((0,c.bind)([n._collection,"speed"],[n,"speed"])),n.dispose(n.flyToEvent.disposableOn((function(e){n._collection.flyTo(e)}))),n.dispose(n.collection.pickedEvent.disposableOn((function(e){n._pickedEvent.emit(new l.SceneObjectPickedInfo(n,e))})));var e=function(){n.positions?0!==n.heightRatio?n.positions.length>=2?n._collection.data=[{startPos:n.positions[0],endPos:n.positions[n.positions.length-1],width:n.width,heightRatio:n.heightRatio}]:n._collection.data=void 0:n._collection.data=[{positions:n.positions,width:n.width}]:n._collection.data=void 0};e();var t=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.positionsChanged,n.heightRatioChanged,n.widthChanged));n.dispose(t.disposableOn(e))}(),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSignalTransmission"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this.collection.player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.player.ratio},set:function(e){this.player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this.player.ratioChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","是否显示",!1,!1,[this,"show"]),new l.NumberProperty("起始时间","信号起始传输时间",!1,!1,[this,"startTime"]),new l.NumberProperty("传输时间","信号实际传输时间",!0,!1,[this,"transmissionTime"],t.defaults.transmissionTime),new l.ColorProperty("颜色","颜色",!1,!1,[this,"color"]),new l.ColorProperty("背景颜色","背景颜色",!1,!1,[this,"bgColor"]),new l.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new l.NumberProperty("高度比率","当只有两个位置点时才有效，此时信号线会自动变成有高度的曲线",!1,!1,[this,"heightRatio"]),new l.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new l.BooleanProperty("变亮","变亮",!1,!1,[this,"brightening"]),new l.BooleanProperty("深度监测","深度监测",!1,!1,[this,"depthTest"]),new l.UriProperty("图片路径","图片路径，若无图片，则显示内部的OD线样式",!0,!1,[this,"imageUrl"],t.defaultImageUri),new l.FunctionProperty("设置纯色渐变图像","设置纯色渐变图像",[],(function(){return r.imageUrl=p.CzmSignalTransmissionCollection.whiteGradientImageBase64}),[]),new l.NumberProperty("图像重复次数","图像重复次数，有图像时才有效",!0,!1,[this,"repeat"],5),new l.NumberProperty("图像重复长度","图像重复长度，单位米，有图像时才生效",!1,!1,[this,"repeatLength"]),new l.EnumProperty("运动方向","运动方向，注意对图片来说只有正反向。",!0,!1,[this,"bidirectional"],[["正向",0],["反向",1],["双向",2],["无",3]],0),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"])]),new l.GroupProperty("播放器","播放器",[new l.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],t.defaults),new l.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],t.defaults.loop),new l.NumberProperty("当前时间","当前时间",!0,!1,[this.player,"currentTime"],t.defaults.playerCurrentTime),new l.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],t.defaults.duration),new l.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],t.defaults.playing),new l.NumberProperty("播放速度","播放速度.",!0,!1,[this,"speed"],t.defaults.speed)])],!1)},n=t,t.type=n.register("CzmSignalTransmission",n,{chsName:"信号传输器",tags:["CzmObjects","_ES_Impl_Cesium"],description:"信号传输器"}),t.defaults=i(i({},l.ESSceneObject.defaults),{loop:!0,currentTime:0,playerCurrentTime:0,duration:3e3,speed:1,playing:!0,transmissionTime:3e3}),t.defaultImageUri="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/signal.png",t}(l.ESSceneObject);t.CzmSignalTransmission=f,function(e){e.createDefaultProps=function(){return i({show:!0,imageUrl:void 0,repeat:1,bidirectional:0,startTime:0,transmissionTime:void 0,color:(0,c.reactArray)([0,1,0,1]),bgColor:(0,c.reactArray)([0,1,0,.2]),width:3,repeatLength:1e4,arcType:"GEODESIC",brightening:!1,depthTest:!0,positions:(0,c.reactPositions)(void 0),heightRatio:0,allowPicking:!1,editing:!1,loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0},l.ESSceneObject.createDefaultProps())}}(f=t.CzmSignalTransmission||(t.CzmSignalTransmission={})),t.CzmSignalTransmission=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},89089:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSignalTransmissionCollection=t.whiteGradientImageBase64=void 0;var u=n(80468),p=n(51355),f=n(59645),d=n(3383);t.whiteGradientImageBase64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAATUlEQVQYlaXLOQqEUBQF0SMmojgvpfe/JiccEvlNwwuM24IK7oXKUkof7ylQoUGHHsPDMf4WNcpociTcuHBgx4oFczg9/O0tPKP7D3wBky8UMt76XnoAAAAASUVORK5CYII=";var h=function(e){function n(t){var r=e.call(this,t)||this;r._flyToEvent=r.disposeVar(new p.Event),r._pickedEvent=r.disposeVar(new p.Event),r._player=r.disposeVar(new u.Player),r._finalImageUrlReact=r.disposeVar(f.SceneObject.context.createEnvStrReact([r,"imageUrl"])),r._routePaths=r.disposeVar((0,p.react)(void 0));var o=n.defaults;r.dispose((0,p.bind)([r._player,"loop"],[r,"loop"],(function(e){return null!=e?e:o.loop}),(function(e){return null!=e?e:o.loop}))),r.dispose((0,p.bind)([r._player,"currentTime"],[r,"currentTime"],(function(e){return null!=e?e:o.currentTime}),(function(e){return null!=e?e:o.currentTime}))),r.dispose((0,p.bind)([r._player,"duration"],[r,"duration"],(function(e){return null!=e?e:o.duration}),(function(e){return null!=e?e:o.duration}))),r.dispose((0,p.bind)([r._player,"playing"],[r,"playing"],(function(e){return null!=e?e:o.playing}),(function(e){return null!=e?e:o.playing}))),r.dispose((0,p.bind)([r._player,"speed"],[r,"speed"],(function(e){return null!=e?e:o.speed}),(function(e){return null!=e?e:o.speed})));var i=r.disposeVar(f.SceneObject.context.createEnvStrReact([r,"geoJsonUrl"])),h=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return a(r,void 0,void 0,(function(){var e,t,n,r,o=this;return s(this,(function(a){switch(a.label){case 0:if(this.routePaths=void 0,!(e=i.value))return[3,5];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(e)];case 2:return[4,a.sent().json()];case 3:return t=a.sent(),this.routePaths=(0,d.getSTCRoutePathsFromGeoJson)(t,this.width,this.repeatLength),[2];case 4:return n=a.sent(),console.error("geojson加载解析出错！".concat(n)),console.error(n),[3,5];case 5:return this.data?(this.routePaths=c([],l(this.data),!1),[2]):this.positionsSet&&(r=this.positionsSet)?(this.routePaths=r.map((function(e){return{positions:e,width:o.width}})),[2]):[2]}}))}))})));(y=function(){h.restart()})();var y,g=r.disposeVar((0,p.createNextAnimateFrameEvent)(i.changed,r.positionsSetChanged,r.dataChanged,r.finalImageUrlReact.changed,r.widthChanged,r.repeatLengthChanged,r.arcTypeChanged,r.brighteningChanged,r.depthTestChanged));return r.dispose(g.disposableOn(y)),(y=function(){r.routePathCallback=(0,u.getFuncFromStr)(r.routePathCallbackStr)})(),r.dispose(r.routePathCallbackStrChanged.disposableOn(y)),r}var r;return o(n,e),Object.defineProperty(n.prototype,"typeName",{get:function(){return"CzmSignalTransmissionCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultProps",{get:function(){return n.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),n.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(n.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"finalImageUrlReact",{get:function(){return this._finalImageUrlReact},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"routePaths",{get:function(){return this._routePaths.value},set:function(e){this._routePaths.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"routePathsChanged",{get:function(){return this._routePaths.changed},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(t){var r=this;return c(c([],l(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","是否显示",!1,!1,[this,"show"]),new u.NumberProperty("起始时间","信号起始传输时间",!1,!1,[this,"startTime"]),new u.NumberProperty("传输时间","信号实际传输时间",!0,!1,[this,"transmissionTime"],n.defaults.transmissionTime),new u.ColorProperty("颜色","颜色",!1,!1,[this,"color"]),new u.ColorProperty("背景颜色","背景颜色",!1,!1,[this,"bgColor"]),new u.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new u.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new u.BooleanProperty("变亮","变亮",!1,!1,[this,"brightening"]),new u.BooleanProperty("深度监测","深度监测",!1,!1,[this,"depthTest"]),new u.UriProperty("图片路径","图片路径，若无图片，则显示内部的OD线样式",!0,!1,[this,"imageUrl"],n.defaultImageUri),new u.FunctionProperty("设置纯色渐变图像","设置纯色渐变图像",[],(function(){return r.imageUrl=n.whiteGradientImageBase64}),[]),new u.NumberProperty("图像重复次数","图像重复次数，有图像时才生效",!1,!1,[this,"repeat"]),new u.NumberProperty("图像重复长度","图像重复长度，单位米，有图像时才生效，只对geojson路径生效！",!1,!1,[this,"repeatLength"]),new u.EnumProperty("运动方向","运动方向，注意对图片来说只有正反向。",!1,!1,[this,"bidirectional"],[["正向",0],["反向",1],["双向",2],["无",3]]),new u.PositionsSetPropety("位置数组集合","经度纬度高度，度为单位",!0,!1,[this,"positionsSet"]),new u.JsonProperty("数据","一旦设置positionsSet将不起作用！",!0,!1,[this,"data"],[]),new u.StringProperty("GeoJson路径","一旦设置data和positionsSet将不起作用！",!1,!1,[this,"geoJsonUrl"]),new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.EvalStringProperty("渲染回调","渲染回调",!1,!1,[this,"routePathCallbackStr"],void 0,n.routePathCallbackStrMd)]),new u.GroupProperty("播放器","播放器",[new u.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],n.defaults),new u.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],n.defaults.loop),new u.NumberProperty("当前时间","当前时间",!0,!1,[this.player,"currentTime"],n.defaults.playerCurrentTime),new u.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],n.defaults.duration),new u.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],n.defaults.playing),new u.NumberProperty("播放速度","播放速度.",!0,!1,[this,"speed"],n.defaults.speed)])],!1)},r=n,n.type=r.register("CzmSignalTransmissionCollection",r,{chsName:"信号传输器集合",tags:["CzmObjects","_ES_Impl_Cesium"],description:"信号传输器集合"}),n.whiteGradientImageBase64=t.whiteGradientImageBase64,n.defaultRoutePathCallback=function(e,t,n,r){var o=n/50,i=o-Math.floor(o);return e.color=[.5*i+.5,.5*(1-i)+.5,.5,1],e.bgColor=[.5*i+.5,.5*(1-i)+.5,.5,.3],e},n.routePathCallbackStrMd="默认示例代码  \n```\n// result 最后的结果\n// sceneObject 是当前的信号传输器集合\n// instanceIndex 当前的信号传输器集合的实例索引\n// frameState 当前的帧状态\n// 返回值如果是undefined，则相当于此函数不起作用。\nfunction (result, sceneObject, instanceIndex, frameState) {\n    const r = instanceIndex / 50;\n    const c = r - Math.floor(r);\n    result.color = [c*.5+.5, (1.0 - c)*.5+.5, 0.5, 1];\n    result.bgColor = [c*.5+.5, (1.0 - c)*.5+.5, 0.5, 0.3];\n    return result;\n}```\n",n.defaults=i(i({},u.ESSceneObject.defaults),{loop:!0,startTime:0,currentTime:0,playerCurrentTime:0,duration:3e3,speed:1,playing:!0,transmissionTime:3e3}),n.defaultImageUri="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/signal.png",n}(u.ESSceneObject);t.CzmSignalTransmissionCollection=h,function(e){e.createDefaultProps=function(){return i({show:!0,imageUrl:void 0,repeat:1,bidirectional:0,startTime:0,transmissionTime:void 0,color:(0,p.reactArray)([0,1,0,1]),bgColor:(0,p.reactArray)([0,1,0,.2]),width:3,repeatLength:1e4,arcType:"GEODESIC",brightening:!1,depthTest:!0,positionsSet:(0,p.reactPositionsSet)(void 0),data:(0,p.reactJson)(void 0),geoJsonUrl:"",allowPicking:!1,routePathCallbackStr:"",loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0},u.ESSceneObject.createDefaultProps())}}(h=t.CzmSignalTransmissionCollection||(t.CzmSignalTransmissionCollection={})),t.CzmSignalTransmissionCollection=h,(0,p.extendClassProps)(h.prototype,h.createDefaultProps)},3383:function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSTCRoutePathsFromGeoJson=t.geoPolylinesFromGeoJson=t.getGeoJsonNodeIterator=void 0;var l=n(88967),c=s(n(88840));function u(e){return r(this,(function(t){switch(t.label){case 0:return"FeatureCollection"!==e.type?[3,2]:[5,o(e.features.map((function(e){return[e.geometry,e]})))];case 1:return t.sent(),[3,4];case 2:return"Feature"!==e.type?[3,4]:[4,[e.geometry,e]];case 3:t.sent(),t.label=4;case 4:return[2]}}))}function p(e){var t,n,a,s,l,c,p,f,d,h,y,g,m;return r(this,(function(r){switch(r.label){case 0:r.trys.push([0,13,14,15]),t=o(u(e)),n=t.next(),r.label=1;case 1:return n.done?[3,12]:(a=i(n.value,2),s=a[0],l=a[1],"LineString"!==s.type?[3,3]:[4,[s.coordinates,l]]);case 2:return r.sent(),[3,11];case 3:if("MultiLineString"!==s.type)return[3,11];r.label=4;case 4:r.trys.push([4,9,10,11]),g=void 0,c=o(s.coordinates),p=c.next(),r.label=5;case 5:return p.done?[3,8]:[4,[p.value,l]];case 6:r.sent(),r.label=7;case 7:return p=c.next(),[3,5];case 8:return[3,11];case 9:return f=r.sent(),g={error:f},[3,11];case 10:try{p&&!p.done&&(m=c.return)&&m.call(c)}finally{if(g)throw g.error}return[7];case 11:return n=t.next(),[3,1];case 12:return[3,15];case 13:return d=r.sent(),h={error:d},[3,15];case 14:try{n&&!n.done&&(y=t.return)&&y.call(t)}finally{if(h)throw h.error}return[7];case 15:return[2]}}))}t.getGeoJsonNodeIterator=u,t.geoPolylinesFromGeoJson=p,t.getSTCRoutePathsFromGeoJson=function(e,t,n){return a([],i(p(e)),!1).map((function(e){var r=i(e,2),o=r[0],a=r[1];if(!(o.length<2)){var s=o.map((function(e){var t;return[e[0],e[1],null!==(t=e[2])&&void 0!==t?t:0]})),u=function(e){var t=(0,l.lineString)(e);return(0,c.default)(t,{units:"meters"})}(s);return{positions:s,repeat:u/n,width:t,extra:{geojson:{feature:a}}}}})).filter((function(e){return!!e}))}},35258:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSmokeParticleSystem=void 0;var l=n(80468),c=n(51355),u=n(90039),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._czmParticleSystemPrimitive=function(){var e=n,t=n.disposeVar(new u.CzmParticleSystemPrimitive);n.dispose(n.components.disposableAdd(t));var r=n.disposeVar(l.ESSceneObject.context.createEvnStrReact([e,"image"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/smoke.png"));n.dispose((0,c.bind)([t,"position"],[e,"position"])),n.dispose((0,c.bind)([t,"positionEditing"],[e,"positionEditing"])),n.dispose((0,c.bind)([t,"localPosition"],[e,"localPosition"])),n.dispose((0,c.bind)([t,"rotation"],[e,"rotation"])),t.image=r.value,t.show=!0,t.color=[0,0,0,.1],t.startColor=[0,0,0,.1],t.endColor=[0,0,0,0],t.startScale=0,t.endScale=10,t.particleLife=20,t.minimumSpeed=1,t.maximumSpeed=5,t.emissionRate=20,t.lifetime=16,t.imageSize=[2,2],t.emitter={type:"CircleEmitter",radius:.5},t.sizeInMeters=!0;var o=n.disposeVar((0,c.createNextAnimateFrameEvent)(e.showChanged,e.imageStrChanged));return n.dispose(o.disposableOn((function(){var n;t.show=null===(n=e.show)||void 0===n||n,t.image=r.value}))),t}(),n.dispose(n.flyToEvent.disposableOn((function(e){n.czmParticleSystemPrimitive.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSmokeParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"czmParticleSystemPrimitive",{get:function(){return this._czmParticleSystemPrimitive},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new l.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"imageStr"],u.CzmParticleSystemPrimitive.defaults.imageStr),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.Number3Property("localPosition","localPosition",!1,!1,[this,"localPosition"],[0,0,0]),new l.Number3Property("rotation","rotation,偏航俯仰翻转，度为单位",!1,!1,[this,"rotation"],[0,0,0]),new l.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"])])],!1)},n=t,t.type=n.register("CzmSmokeParticleSystem",n,{chsName:"烟雾粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"烟雾粒子特效"}),t}(l.ESSceneObject);t.CzmSmokeParticleSystem=p,function(e){e.createDefaultProps=function(){return i({show:!0,imageStr:void 0,positionEditing:!1,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArray)([0,0,0]),localPosition:(0,c.reactArray)([0,0,0])},l.ESSceneObject.createDefaultProps())}}(p=t.CzmSmokeParticleSystem||(t.CzmSmokeParticleSystem={})),t.CzmSmokeParticleSystem=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},96722:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSnowPostProcess=void 0;var l=n(80468),c=n(51355),u=n(80468),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSnowPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.NumberProperty("alpha","alpha",!1,!1,[this,"alpha"],0)])],!1)},n=t,t.type=n.register("CzmSnowPostProcess",n,{chsName:"雪后特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"雪后特效"}),t}(u.ESSceneObject);t.CzmSnowPostProcess=p,function(e){e.createDefaultProps=function(){return i({show:void 0,alpha:0},u.ESSceneObject.createDefaultProps())}}(p=t.CzmSnowPostProcess||(t.CzmSnowPostProcess={})),t.CzmSnowPostProcess=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},91427:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSpaceAreaMeasurement=void 0;var l=n(80468),c=n(51355),u=n(44075),p=function(e){function t(t){var n=e.call(this,t)||this;n._pickedEvent=n.disposeVar(new c.Event),n._startEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._geoPolyline=n.disposeVar(new l.GeoPolyline),n._customPrimitive=n.disposeVar(new u.CzmCustomPrimitive),n._geoDivPoi=n.disposeVar(new l.GeoCustomDivPoi),n.components.add(n._geoPolyline),n.dispose((function(){n.components.delete(n._geoPolyline)})),n._geoPolyline.loop=!0,n.dispose(n.flyToEvent.don((function(e){n._geoPolyline.flyTo(e)}))),n.components.add(n._customPrimitive),n.dispose((function(){n.components.delete(n._customPrimitive)})),n._customPrimitive.primitiveType="LINES",n._customPrimitive.renderState={depthTest:{enabled:!1},cull:{enabled:!1,face:1029},depthMask:!1,blending:{enabled:!1,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}},n._customPrimitive.fragmentShaderSource="\nuniform vec4 u_color;\nvoid main()\n{\n    out_FragColor = u_color;\n}\n",n._customPrimitive.vertexShaderSource="in vec3 position;\nvoid main()\n{\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n",n._customPrimitive.uniformMap={u_color:[1,1,0,1]},n.dispose(n._customPrimitive.pickedEvent.disposableOn((function(e){n.pickedEvent.emit(new l.SceneObjectPickedInfo(n,e))}))),n.dispose((0,c.track)([n._customPrimitive,"show"],[n,"show"])),n.dispose((0,c.track)([n._geoPolyline,"show"],[n,"show"])),n.dispose((0,c.bind)([n._geoPolyline,"positions"],[n,"positions"])),n.dispose((0,c.bind)([n._geoPolyline,"editing"],[n,"editing"])),n.dispose((0,c.bind)([n._geoPolyline,"width"],[n,"outlineWidth"])),n.dispose((0,c.bind)([n._geoPolyline,"color"],[n,"outlineColor"])),n.components.add(n._geoDivPoi),n.dispose((function(){n.components.delete(n._geoDivPoi)}));var r=function(){var e,t="暂无分析结果";n.totalArea&&(t="表面积: ".concat((null!==(e=n.totalArea)&&void 0!==e?e:0).toFixed(2),"平方米")),n._geoDivPoi.innerHTML=(0,l.createInnerHtmlWithWhiteTextBlackBackground)(t,24)};return r(),n.dispose(n.totalAreaChanged.don(r)),n.dispose((0,c.track)([n._geoDivPoi,"show"],[n,"show"])),n.dispose(n.positionsChanged.don((function(){n.positions&&n.positions.length>=3?n._geoDivPoi.position=(0,l.updateCenterOfMass)(n.positions):n._geoDivPoi.position=void 0}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSpaceAreaMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEvent",{get:function(){return this._startEvent},enumerable:!1,configurable:!0}),t.prototype.start=function(){this._startEvent.emit()},Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPrimitive",{get:function(){return this._customPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoDivPoi",{get:function(){return this._geoDivPoi},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.FunctionProperty("开始计算","开始计算",[],(function(){return n.start()}),[]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"editing"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位的数组",!0,!1,[this,"positions"]),new l.NumberProperty("表面积","表面积",!0,!0,[this,"totalArea"],0),new l.BooleanProperty("是否插值","是否插值",!0,!1,[this,"interpolation"],!0),new l.NumberProperty("插值距离","插值距离(m)",!0,!1,[this,"interpolationDistance"],.5),new l.NumberProperty("高度偏移","高度偏移",!0,!1,[this,"offsetHeight"],0),new l.NumberProperty("钻取深度","钻取深度",!0,!1,[this,"drillDepth"],3),new l.NumberProperty("边框线宽度","边框线宽度",!1,!1,[this,"outlineWidth"]),new l.ColorProperty("边框线颜色","边框线颜色",!1,!1,[this,"outlineColor"])])],!1)},n=t,t.type=n.register("CzmSpaceAreaMeasurement",n,{chsName:"空间面积测量",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的粒子特效。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{positions:[],editing:!1,totalArea:0,interpolation:!0,interpolationDistance:.5,offsetHeight:0,drillDepth:3,outlineWidth:2,outlineColor:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmSpaceAreaMeasurement=p,function(e){e.createDefaultProps=function(){return i({positions:(0,c.reactArrayWithUndefined)(void 0),editing:!1,show:void 0,totalArea:void 0,interpolationDistance:void 0,interpolation:void 0,offsetHeight:void 0,drillDepth:void 0,outlineWidth:void 0,outlineColor:(0,c.reactArray)([1,1,1,1])},l.ESSceneObject.createDefaultProps())}}(p=t.CzmSpaceAreaMeasurement||(t.CzmSpaceAreaMeasurement={})),t.CzmSpaceAreaMeasurement=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},95513:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmTerrain=t.getCzmCodeFromCzmTerrain=t.getFinalTerrainProviderUrlString=t.getFinalTerrainProviderUrl=void 0;var p=n(80468),f=n(51355),d=n(58354),h=n(59645),y=l(n(81557)),g=h.SceneObject.context.getStrFromEnv;function m(e){var t;if(e.startsWith("ion://")){var n=+e.substring(6);Number.isFinite(n)&&(t="Cesium.IonResource.fromAssetId(".concat(n,")"))}else t="'".concat(g(e),"'");return t}function v(e){if(e.provider){if("CesiumTerrainProvider"===e.provider.type){var t=["requestVertexNormals","requestMetadata","requestWaterMask","credit"].map((function(t){var n=e.provider[t];if(void 0!==n)return"".concat(t,": ").concat(n)})).filter((function(e){return void 0!==e})).join(",\n").trim();return""!==t&&(t=t.replaceAll(/^([^$])/gm,"    $1"),t="{\n".concat(t,"\n}").replaceAll(/^([^$])/gm,"    $1")),"\n// Cesium 1.115之前可用，之后就不能用了！\n// var terrainProvider = new Cesium.CesiumTerrainProvider({\n//     url: ".concat(m(e.provider.url),",\n// });\nvar terrainProvider = await Cesium.CesiumTerrainProvider.fromUrl(\n    ").concat(m(e.provider.url),",\n").concat(t,"\n);\nviewer.terrainProvider = terrainProvider;\n    ")}console.warn("目前不支持CesiumTerrainProvider以外的类型转成cesium代码！")}}t.getFinalTerrainProviderUrl=function(e){var t;if(e.startsWith("ion://")){var n=+e.substring(6);Number.isFinite(n)&&(t=y.IonResource.fromAssetId(n))}else t=g(e);return t},t.getFinalTerrainProviderUrlString=m,t.getCzmCodeFromCzmTerrain=v;var b=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new f.Event),n._recreateEvent=n.disposeVar(new f.Event),n.dispose(d.CzmViewer.latestDefaultAccessTokenChanged.disposableOn((function(){n.recreate()}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmTerrain"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"recreateEvent",{get:function(){return this._recreateEvent},enumerable:!1,configurable:!0}),t.prototype.recreate=function(){this._recreateEvent.emit()},t.prototype.getCzmCode=function(){if(this.provider)return v(this)},t.prototype.getProperties=function(n){var r=this;return u(u([],c(e.prototype.getProperties.call(this,n)),!1),[new p.GroupProperty("通用","通用",[new p.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1]),new p.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new p.Number4Property("矩形范围","西南东北",!0,!1,[this,"rectangle"],t.defaults.rectangle),new p.NumberProperty("高度","A numeric Property specifying the height of the terrain.",!0,!1,[this,"height"],t.defaults.height),new p.JsonProperty("provider","provider",!1,!1,[this,"provider"],t.defaults.provider,p.CzmTerrainProviderJsonTypeMd),new p.FunctionProperty("获取Cesium代码","获取Cesium代码",[],(function(){return console.log(r.getCzmCode())}),[]),new p.FunctionProperty("重建","重建地形",[],(function(){return r.recreate()}),[])])],!1)},n=t,t.type=n.register("CzmTerrain",n,{chsName:"地形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的CesiumTerrainProvider API 实现的地形。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,rectangle:[-180,-90,180,90],height:0,provider:{type:"EllipsoidTerrainProvider"}}),t}(p.ESSceneObject);t.CzmTerrain=b,function(e){e.createDefaultProps=function(){return i({show:void 0,rectangle:(0,f.reactArrayWithUndefined)(void 0),height:void 0,provider:(0,f.reactJsonWithUndefined)(void 0)},p.ESSceneObject.createDefaultProps())}}(b=t.CzmTerrain||(t.CzmTerrain={})),t.CzmTerrain=b,(0,f.extendClassProps)(b.prototype,b.createDefaultProps)},64759:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmTexture=void 0;var u=n(80468),p=n(51355),f=n(59645),d=function(e){function t(t){var n=e.call(this,t)||this;n._complexImage=n.disposeVar(new f.ComplexImage),n._copyFromClipboardProcessing=n.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return a(n,void 0,void 0,(function(){var t,n,r,o,i,a;return s(this,(function(s){switch(s.label){case 0:return[4,e.promise(navigator.clipboard.read())];case 1:return 0===(t=s.sent()).length?(console.warn("剪切板中没有内容，无法粘贴！"),[2]):(n=t[0],-1===(r=n.types.findIndex((function(e){return e.startsWith("image")})))?(console.warn("剪切板中没有图像！"),[2]):[4,e.promise(n.getType(n.types[r]))]);case 2:return o=s.sent(),i=window.URL.createObjectURL(new Blob([o])),e.disposer.dispose((function(){return window.URL.revokeObjectURL(i)})),[4,e.promise(new Promise((function(e,t){var n=new Image;n.src=i,n.onload=function(){return e(n)},n.onerror=function(){return t("无法加载图片！")},n.onabort=function(){return t("加载图片被中断！")}})))];case 3:return a=s.sent(),this.copyFromImage(a),[2]}}))}))}))),n._readyEvent=n.disposeVar(new p.Event),n.dispose((0,p.track)([n._complexImage,"enabled"],[n,"enabled"])),n.dispose((0,p.bind)([n._complexImage,"size"],[n,"size"])),n.dispose((0,p.bind)([n._complexImage,"pixelFormat"],[n,"pixelFormat"])),n.dispose((0,p.bind)([n._complexImage,"flipY"],[n,"flipY"]));var r=n.disposeVar(f.SceneObject.context.createEnvStrReact([n,"uri"]));return n.dispose((0,p.bind)([n._complexImage,"uri"],r)),n.dispose((0,p.bind)([n._complexImage,"type"],[n,"uriType"])),n.dispose((0,p.bind)([n._complexImage,"crossOrigin"],[n,"crossOrigin"],(function(e){return"null"===e?null:e}))),n.dispose((0,p.bind)([n._complexImage,"autoplay"],[n,"autoplay"])),n.dispose((0,p.bind)([n._complexImage,"loop"],[n,"loop"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmTexture"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"complexImage",{get:function(){return this._complexImage},enumerable:!1,configurable:!0}),t.prototype.copyTexture=function(e){this._complexImage.copyTexture(e)},t.prototype.copyFromImage=function(e){e.naturalWidth<=0||e.naturalHeight<=0?console.warn("copyFromImage error: image.naturalWidth <= 0 || image.naturalHeight <= 0"):(this.size=[e.naturalWidth,e.naturalHeight],this.copyTexture({source:e}))},t.prototype.copyFromCanvas=function(e){this._complexImage.copyFromCanvas(e)},t.prototype.copyFromClipboard=function(){this._copyFromClipboardProcessing.restart()},t.prototype.reset=function(){this.uri="",this.size=void 0,this.uriType=void 0,this.flipY=!0,this.pixelFormat="RGBA"},Object.defineProperty(t.prototype,"readyEvent",{get:function(){return this._readyEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return c(c([],l(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否启用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new u.BooleanProperty("开启预览","开启预览",!1,!1,[this,"showPreview"]),new u.Number2Property("尺寸","尺寸",!0,!1,[this,"size"],t.defaults.size),new u.EnumProperty("像素格式","像素格式",!1,!1,[this,"pixelFormat"],f.czmPixelFormats.map((function(e){return[e,e]}))),new u.BooleanProperty("flipY","flipY",!1,!1,[this,"flipY"])]),new u.GroupProperty("高级","高级",[new u.StringProperty("路径","路径，设置以后会自动修改",!1,!1,[this,"uri"]),new u.FunctionProperty("设置路径1","设置路径1",[],(function(){r.uri="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/location.png"}),[]),new u.FunctionProperty("设置路径2","设置路径2",[],(function(){r.uri="${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/top.jpg"}),[]),new u.EnumProperty("路径类型","路径类型",!0,!1,[this,"uriType"],t.defaults.uriTypes.map((function(e){return[e,e]})),t.defaults.uriType),new u.FunctionProperty("剪切板","获取剪切板图像",[],(function(){r.copyFromClipboard()}),[]),new u.StringProperty("crossOrigin","crossOrigin",!1,!1,[this,"crossOrigin"]),new u.BooleanProperty("autoplay","autoplay",!1,!1,[this,"autoplay"]),new u.BooleanProperty("loop","loop",!1,!1,[this,"loop"])])],!1)},n=t,t.type=n.register("CzmTexture",n,{chsName:"CzmTexture",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium的纹理对象，方便共享。"}),t.types=f.ComplexImage.types,t.suffixTypes=f.ComplexImage.suffixTypes,t.defaults=i(i({},u.ESSceneObject.defaults),{size:[256,256],uriType:"img",czmPixelFormats:f.czmPixelFormats,uriTypes:t.types}),t}(u.ESSceneObject);t.CzmTexture=d,function(e){e.createDefaultProps=function(){return i({enabled:!0,showPreview:!1,size:(0,p.reactArrayWithUndefined)(void 0),pixelFormat:"RGBA",flipY:!0,uri:"",uriType:void 0,crossOrigin:"",autoplay:!0,loop:!0},u.ESSceneObject.createDefaultProps())}}(d=t.CzmTexture||(t.CzmTexture={})),t.CzmTexture=d,(0,p.extendClassProps)(d.prototype,d.createDefaultProps)},51179:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HeightMoving=void 0;var s=n(51355),l=n(16045),c=function(e){function t(t,n,r){var o=e.call(this)||this;o._geoToolbar=t,o._div=n,o._czmViewer=r,o._mouseMoving=o.disposeVar(new l.MouseMoving(o._div));var s=o,c=s.geoToolbar,u=s.czmViewer,p=void 0;return o.dispose(o._mouseMoving.startEvent.disposableOn((function(){c.position&&(p=a([],i(c.position),!1))}))),o.dispose(o._mouseMoving.diffPosChanged.disposableOn((function(){var e;if(c.position&&o._mouseMoving.diffPos){var t=p;if(t){var n=i(o._mouseMoving.diffPos,2),r=(n[0],n[1]/1024*(null!==(e=u.getViewDistance(c.position))&&void 0!==e?e:0)*.8);c.position=[t[0],t[1],t[2]-r]}}}))),o.dispose(o._mouseMoving.stopEvent.disposableOn((function(){p=void 0}))),o}return o(t,e),Object.defineProperty(t.prototype,"geoToolbar",{get:function(){return this._geoToolbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.HeightMoving=c},87172:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LastCursorPos=void 0;var i=n(51355),a=function(e){function t(t){var n=e.call(this)||this;return n._czmViewer=t,n._winPos=n.disposeVar((0,i.reactArrayWithUndefined)(void 0)),n.dispose(n._czmViewer.interaction.pointerMoveEvent.disposableOn((function(e){n._winPos.value=[e.offsetX,e.offsetY]}))),n}return o(t,e),Object.defineProperty(t.prototype,"winPos",{get:function(){return this._winPos.value},set:function(e){this._winPos.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosChanged",{get:function(){return this._winPos.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.LastCursorPos=a},16045:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseMoving=void 0;var i=n(51355),a=n(59645),s=function(e){function t(t){var n=e.call(this)||this;n._div=t,n._diffPos=n.disposeVar((0,i.reactArrayWithUndefined)(void 0)),n._startEvent=n.disposeVar(new i.Event),n._stopEvent=n.disposeVar(new i.Event),n.debug=!1;var r=n._div,o=!1,s=0,l=0,c=n.disposeVar(a.DomElementEvent.create(r,"pointerdown")),u=n.disposeVar(a.DomElementEvent.create(r,"pointermove")),p=n.disposeVar(a.DomElementEvent.create(r,"pointerup"));return n.dispose(c.disposableOn((function(e){o=!0,s=e.screenX,l=e.screenY,r.setPointerCapture(e.pointerId),n._startEvent.emit()}))),n.dispose(u.disposableOn((function(e){o&&(0!==e.buttons?n._diffPos.value=[e.screenX-s,e.screenY-l]:o=!1)}))),n.dispose(p.disposableOn((function(e){o=!1,n._diffPos.value=[e.screenX-s,e.screenY-l],r.releasePointerCapture(e.pointerId),n._stopEvent.emit()}))),n.dispose(n.diffPosChanged.disposableOn((function(){n.debug&&console.log(n.diffPos)}))),n}return o(t,e),Object.defineProperty(t.prototype,"diffPos",{get:function(){return this._diffPos.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diffPosChanged",{get:function(){return this._diffPos.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEvent",{get:function(){return this._startEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopEvent",{get:function(){return this._stopEvent},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.MouseMoving=s},44567:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PositionMoving=void 0;var s=n(51355),l=n(16045),c=n(87172),u=function(e){function t(t,n,r){var o=e.call(this)||this;o._geoToolbar=t,o._div=n,o._czmViewer=r,o._mouseMoving=o.disposeVar(new l.MouseMoving(o._div)),o._lastCursorPos=o.disposeVar(new c.LastCursorPos(o._czmViewer));var s=o,u=s.geoToolbar,p=void s.czmViewer,f=void 0,d=void 0;return o.dispose(o._mouseMoving.startEvent.disposableOn((function(){u.position&&(d=o.lastCursorPos.winPos)&&(p=o._czmViewer.pickGlobePosition(d),f=a([],i(u.position),!1))}))),o.dispose(o._mouseMoving.diffPosChanged.disposableOn((function(){if(d&&u.position&&o._mouseMoving.diffPos&&p){var e=i(o._mouseMoving.diffPos,2),t=e[0],n=e[1],r=o._czmViewer.pickGlobePosition([d[0]+t,d[1]+n]);if(r){var a=f;a&&(u.position=[a[0]+(r[0]-p[0]),a[1]+(r[1]-p[1]),a[2]])}}}))),o.dispose(o._mouseMoving.stopEvent.disposableOn((function(){p=void 0,f=void 0,d=void 0}))),o}return o(t,e),Object.defineProperty(t.prototype,"geoToolbar",{get:function(){return this._geoToolbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCursorPos",{get:function(){return this._lastCursorPos},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.PositionMoving=u},67169:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.SizeScale=void 0;var a=n(51355),s=n(16045),l=function(e){function t(t,n){var r=e.call(this)||this;r._geoToolbar=t,r._div=n,r._mouseMoving=r.disposeVar(new s.MouseMoving(r._div));var o=r.geoToolbar,a=void 0;return r.dispose(r._mouseMoving.startEvent.disposableOn((function(){a=o.scale}))),r.dispose(r._mouseMoving.diffPosChanged.disposableOn((function(){if(r._mouseMoving.diffPos&&a){var e=i(r._mouseMoving.diffPos,2),t=(e[0],-e[1]/256),n=Math.exp(t);o.scale=a*n}}))),r.dispose(r._mouseMoving.stopEvent.disposableOn((function(){a=void 0}))),r}return o(t,e),Object.defineProperty(t.prototype,"geoToolbar",{get:function(){return this._geoToolbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.SizeScale=l},49665:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarMoving=void 0;var s=n(51355),l=n(16045),c=function(e){function t(t,n){var r=e.call(this)||this;r._geoCustomDivPoi=t,r._div=n,r._mouseMoving=r.disposeVar(new l.MouseMoving(r._div));var o=r.geoCustomDivPoi,s=void 0;return r.dispose(r._mouseMoving.startEvent.disposableOn((function(){if(!o.originRatioAndOffset)throw console.error("originRatioAndOffset不应该是undefined!"),new Error("originRatioAndOffset不应该是undefined!");s=a([],i(o.originRatioAndOffset),!1)}))),r.dispose(r._mouseMoving.diffPosChanged.disposableOn((function(){if(r._mouseMoving.diffPos){var e=s;if(e){var t=i(r._mouseMoving.diffPos,2),n=t[0],a=t[1];o.originRatioAndOffset=[e[0],e[1],e[2]-n,e[3]-a]}}}))),r.dispose(r._mouseMoving.stopEvent.disposableOn((function(){s=void 0}))),r}return o(t,e),Object.defineProperty(t.prototype,"geoCustomDivPoi",{get:function(){return this._geoCustomDivPoi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.ToolbarMoving=c},67240:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmToolbar=void 0;var l=n(80468),c=n(51355),u=n(59645),p=n(16045),f=n(49665),d=n(51179),h=n(87172),y=n(44567),g=n(67169),m={url:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/yidong2.png",name:"平移",creatFunc:function(e,t,n,r){return new P.PositionMoving(e,t,r)}},v={url:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/shang2.png",name:"抬升",creatFunc:function(e,t,n,r){return new P.HeightMoving(e,t,r)}},b={url:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/shensuo2.png",name:"伸缩",creatFunc:function(e,t,n,r){return new P.SizeScale(e,t)}},_={url:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/moren.png",name:"默认",creatFunc:function(e,t,n,r){var o=function(){function e(e){e.addEventListener("click",(function(){alert("点击默认图片")}))}return e.prototype.destroy=function(){console.log("销毁了")},e}();return new o(t)}},w=[m,v,b],P=function(e){function t(n){var r=e.call(this,n)||this;return r._flyToEvent=r.disposeVar(new c.Event),r._config=r.disposeVar((0,c.reactArray)(t.defaultConfig)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmToolbar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i({},t.createDefaultProps())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"config",{get:function(){return this._config.value},set:function(e){this._config.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configChanged",{get:function(){return this._config.changed},enumerable:!1,configurable:!0}),t.prototype.transitionImageUrl=function(e){return u.SceneObject.context.getStrFromEnv(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("缩放","缩放",!1,!1,[this,"scale"]),new l.BooleanProperty("debug","debug.",!1,!1,[this,"debug"]),new l.MarkdownProperty("config配置文档","config配置文档",!1,!1,[this,"markdown"])])],!1)},n=t,t.type=n.register("CzmToolbar",n,{chsName:"工具栏",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过GeoPolylinePath和GeoPathCameraController实现的路径跟踪器"}),t.images={move:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/yidong2.png",up:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/shang2.png",scale:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/shensuo2.png",default:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/moren.png"},t.MouseMoving=p.MouseMoving,t.ToolbarMoving=f.ToolbarMoving,t.HeightMoving=d.HeightMoving,t.LastCursorPos=h.LastCursorPos,t.PositionMoving=y.PositionMoving,t.SizeScale=g.SizeScale,t.defaultConfig=w,t.defaultConfigDoc='\nconfig对象有三个属性，分别是url：图片路径、name：功能名称、creatFunc：功能逻辑的回调函数。需要注意的地方是：\n设置的图片颜色为：#bfbfbf，creatFunc必须返回一个类。\n\n控制台调试，使用下面的代码\n```\n[\n    // 平移\n    XE2[\'xe2-cesium-objects\'].CzmToolbar.moveMod,\n    // 抬升\n    XE2[\'xe2-cesium-objects\'].CzmToolbar.upMod,\n    // 伸缩\n    XE2[\'xe2-cesium-objects\'].CzmToolbar.scaleMod,\n    // 默认\n    {\n        url: XE2[\'xe2-cesium-objects\'].CzmToolbar.images.default,\n        name: "默认",\n        creatFunc: function (sceneObject, div,img, czmViewer){\n\n            class Default {\n                destroy(){\n                   console.log("销毁了");\n                }\n                constructor(div) {\n                    div.addEventListener("click",() => {\n                        alert("点击默认图片")\n                    })\n                }\n            }\n            const default1 = new Default(div)\n            return default1\n        }\n    }\n]\n```\n\n开发调试，使用下面的代码\n```\n\n[\n    // 平移\n    CzmToolbar.moveMod,\n    // 抬升\n    CzmToolbar.upMod,\n    // 伸缩\n    CzmToolbar.scaleMod,\n    // 默认\n    {\n        url: CzmToolbar.images.default,\n        name: "默认",\n        creatFunc: function (sceneObject, div,img, czmViewer){\n\n            class Default {\n                destroy(){\n                   console.log("销毁了");\n                }\n                constructor(div) {\n                    div.addEventListener("click",() => {\n                        alert("点击默认图片")\n                    })\n                }\n            }\n            const default1 = new Default(div)\n            return default1\n        }\n    }\n]\n```\n',t.moveMod=m,t.upMod=v,t.scaleMod=b,t.defaultMod=_,t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,editing:!1,upImage:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/shang2.png",shensuoImage:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/shensuo2.png",moveImage:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/yidong2.png"}),t}(l.ESSceneObject);t.CzmToolbar=P,function(e){e.createDefaultProps=function(){return i({show:void 0,position:(0,c.reactArrayWithUndefined)(void 0),editing:void 0,scale:1,debug:!1,markdown:e.defaultConfigDoc},l.ESSceneObject.createDefaultProps())}}(P=t.CzmToolbar||(t.CzmToolbar={})),t.CzmToolbar=P,(0,c.extendClassProps)(P.prototype,P.createDefaultProps)},14103:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewDistanceRange=void 0;var l=n(80468),c=n(51355),u=n(59645),p=n(86003),f=function(e){function t(t,n,r,o,i){var a=e.call(this)||this;return a._czmViewDistanceRange=t,a._czmViewer=n,a._viewDistanceRangeReact=r,a._positionReact=o,a._radiusReact=i,a._czmViewDistanceRangeControl=a.disposeVar(new p.CzmViewDistanceRangeControl(a._czmViewer,a._viewDistanceRangeReact,a._positionReact,a._radiusReact)),a.dispose((0,c.track)([a._czmViewDistanceRange,"visibleAlpha"],[a.czmViewDistanceRangeControl,"visibleAlpha"])),a}return o(t,e),Object.defineProperty(t.prototype,"czmViewDistanceRangeControl",{get:function(){return this._czmViewDistanceRangeControl},enumerable:!1,configurable:!0}),t}(c.Destroyable),d=function(e){function t(t){var n=e.call(this,t)||this;return n._config=n.disposeVar((0,c.react)(void 0)),n._visibleAlpha=n.disposeVar((0,c.react)(0)),n._objResetting=n.disposeVar(new u.ObjResettingWithEvent(n.configChanged,(function(){if(n.config){var e=n.config,t=e.czmViewer,r=e.viewDistanceRangeReact,o=e.positionReact,i=e.radiusReact;return new f(n,t,r,o,i)}}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewDistanceRange"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config.value},set:function(e){this._config.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configChanged",{get:function(){return this._config.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._visibleAlpha.value},set:function(e){this._visibleAlpha.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._visibleAlpha.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[])],!1)},n=t,t.type=n.register("CzmViewDistanceRange",n,{chsName:"CzmViewDistanceRange",tags:["CzmObjects","_ES_Impl_Cesium"],description:"CzmViewDistanceRange"}),t}(l.ESSceneObject);t.CzmViewDistanceRange=d,function(e){e.createDefaultProps=function(){return i({},l.ESSceneObject.createDefaultProps())}}(d=t.CzmViewDistanceRange||(t.CzmViewDistanceRange={})),t.CzmViewDistanceRange=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},90897:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewShed=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._pickedEvent=n.disposeVar(new c.Event),n._rayEditing=n.disposeVar(new l.RayEditing(n.positionReact,n.rotationReact,n.farReact,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewShed"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rayEditing",{get:function(){return this._rayEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("显示","显示",!1,!1,[this,"show"]),new l.BooleanProperty("显示辅助","显示辅助",!1,!1,[this,"showHelper"]),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!1,!1,[this,"allowPicking"]),new l.NumberProperty("fovH","fovH",!1,!1,[this,"fovH"],90),new l.NumberProperty("fovV","fovV",!1,!1,[this,"fovV"],60),new l.NumberProperty("near","near",!1,!1,[this,"near"],10),new l.NumberProperty("far","far",!1,!1,[this,"far"],1e3),new l.RotationProperty("rotation","rotation.",!1,!1,[this,"rotation"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"])])],!1)},n=t,t.type=n.register("CzmViewShed",n,{chsName:"Czm视域分析",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium视域分析"}),t}(l.ESSceneObject);t.CzmViewShed=u,function(e){e.createDefaultProps=function(){return i({show:!0,showHelper:!0,fovH:90,fovV:60,allowPicking:!1,near:10,far:1e3,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArray)([0,0,0]),editing:void 0},l.ESSceneObject.createDefaultProps())}}(u=t.CzmViewShed||(t.CzmViewShed={})),t.CzmViewShed=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},35129:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewerStatusBar=void 0;var l=n(80468),c=n(51355),u=n(58354),p=n(59645),f=function(e){function t(n){var r=e.call(this,n)||this,i=r.disposeVar(new l.CustomDiv);r.dispose(r.components.disposableAdd(i));var a=r;return i.instanceClass=function(e){function n(n,r,o){var i=e.call(this)||this;if(i._subContainer=n,!o)return i;if(!(o instanceof u.CzmViewer))return i;o.extensions.cursorPositionInfo.enabled=!0;var s=document.createElement("div");i._subContainer.appendChild(s),i.dispose((function(){return i._subContainer.removeChild(s)})),s.style.width="100%",s.style.position="absolute",s.style.width="100%",s.style.height="".concat(t.defaults.height,"px"),s.style.left="0",s.style.bottom="0",s.style.color="#fff",s.style.padding="0 10px 0 10px",s.style.lineHeight="".concat(t.defaults.height,"px"),s.style.zIndex="100",i.disposeVar((0,p.createAnimateFrameWithStartValues)((function(){var e,t="",n=o.getCameraInfo();if(n){var r=function(e,t){return n.position[e].toFixed(t)},i=function(e,t){return n.rotation[e].toFixed(t)};t+="帧率:".concat(o.fps,"FPS 经度: ").concat(r(0,5),"° 纬度: ").concat(r(1,5),"° 高度: ").concat(r(2,2),"米 偏航角: ").concat(i(0,2),"° 俯仰角: ").concat(i(1,2),"° 翻滚角:").concat(i(2,2),"° ")}var a=null===(e=o.extensions)||void 0===e?void 0:e.cursorPositionInfo.cursorPosition;t+=a?"鼠标位置:".concat((r=function(e,t){return a[e].toFixed(t)})(0,5),"° ").concat(r(1,5),"° ").concat(r(2,2),"m"):"暂时无法获取鼠标位置...",s.innerText=t}))).start();var l=function(){var e,n;s.style.height=(null!==(e=a.height)&&void 0!==e?e:t.defaults.height)+"px",s.style.lineHeight=(null!==(n=a.height)&&void 0!==n?n:t.defaults.height)+"px"};return i.dispose(a.heightChanged.disposableOn(l)),l(),l=function(){var e;s.style.fontSize=(null!==(e=a.fontSize)&&void 0!==e?e:t.defaults.fontSize)+"px"},i.dispose(a.fontSizeChanged.disposableOn(l)),l(),l=function(){a.bgColor?s.style.background="rgba(".concat(255*a.bgColor[0],",").concat(255*a.bgColor[1],",").concat(255*a.bgColor[2],",").concat(a.bgColor[3],")"):s.style.background="rgba(".concat(255*t.defaults.bgColor[0],",").concat(255*t.defaults.bgColor[1],",").concat(255*t.defaults.bgColor[2],",").concat(t.defaults.bgColor[3],")")},i.dispose(a.bgColorChanged.disposableOn(l)),l(),i}return o(n,e),n}(c.Destroyable),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewerStatusBar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.NumberProperty("高度","height",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("文字大小","fontSize",!0,!1,[this,"fontSize"],t.defaults.fontSize),new l.ColorProperty("背景颜色"," 背景颜色",!0,!1,[this,"bgColor"],t.defaults.bgColor)])],!1)},n=t,t.type=n.register("CzmViewerStatusBar",n,{chsName:"状态栏",tags:["CzmObjects","_ES_Impl_Cesium"],description:"状态栏"}),t.defaults=i(i({},l.ESSceneObject.defaults),{height:30,fontSize:14,bgColor:[71,71,71,.8]}),t}(l.ESSceneObject);t.CzmViewerStatusBar=f,function(e){e.createDefaultProps=function(){return i({instanceClassStr:void 0,height:void 0,fontSize:void 0,bgColor:(0,c.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(f=t.CzmViewerStatusBar||(t.CzmViewerStatusBar={})),t.CzmViewerStatusBar=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},7829:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewerTracking=void 0;var l=n(80468),c=n(51355),u=n(59645),p=n(58354),f=function(e){function t(t,n){var r=e.call(this)||this;return r.dispose(n.cameraChanged.disposableOn((function(){var e=n.getCameraInfo();if(e){var r=e.position,o=e.rotation;do{var i=t.getCameraInfo();if(!i)break;var a=i.position,s=i.rotation;if(a.every((function(e,t){return Math.abs(e-r[t])>.001})))break;if(s.some((function(e,t){return Math.abs(e-o[t])>.001})))break;return}while(0);t.flyTo(r,void 0,o,0)}}))),r}return o(t,e),t}(c.Destroyable),d=function(e){function t(t,n){var r=e.call(this)||this;return r._viewer0=t,r._viewer1=n,r._t0=r.disposeVar(new f(r._viewer0,r._viewer1)),r._t1=r.disposeVar(new f(r._viewer1,r._viewer0)),r}return o(t,e),t}(c.Destroyable),h=function(e){function t(n){var r=e.call(this,n)||this;r._viewer0=r.disposeVar((0,c.react)(void 0)),r._viewer1=r.disposeVar((0,c.react)(void 0)),r._vvdEvent=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.enabledChanged,r.viewer0Changed,r.viewer1Changed,r.doubleChanged)),r._vvdResetting=r.disposeVar(new u.ObjResettingWithEvent(r._vvdEvent,(function(){var e,n;if((null!==(e=r.enabled)&&void 0!==e?e:t.defaults.enabled)&&r.viewer0&&r.viewer1)return(null!==(n=r.double)&&void 0!==n?n:t.defaults.double)?new d(r.viewer0,r.viewer1):new f(r.viewer0,r.viewer1)})));var o=r.disposeVar(new u.SceneObjectWithId),i=function(){o.sceneObject instanceof p.CzmViewer?r.viewer0=o.sceneObject:r.viewer0=void 0};r.dispose(o.sceneObjectChanged.disposableOn(i)),r.dispose((0,c.track)([o,"id"],[r,"viewer0Id"]));var a=r.disposeVar(new u.SceneObjectWithId);return i=function(){a.sceneObject instanceof p.CzmViewer?r.viewer1=a.sceneObject:r.viewer1=void 0},r.dispose(a.sceneObjectChanged.disposableOn(i)),r.dispose((0,c.track)([a,"id"],[r,"viewer1Id"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewerTracking"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer0",{get:function(){return this._viewer0.value},set:function(e){this._viewer0.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer0Changed",{get:function(){return this._viewer0.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer1",{get:function(){return this._viewer1.value},set:function(e){this._viewer1.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer1Changed",{get:function(){return this._viewer1.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vvdResetting",{get:function(){return this._vvdResetting},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("enabled","enabled",!0,!1,[this,"enabled"],t.defaults.enabled),new l.StringProperty("viewer0Id","viewer0Id",!0,!1,[this,"viewer0Id"],t.defaults.viewer0Id),new l.StringProperty("viewer1Id","viewer1Id",!0,!1,[this,"viewer1Id"],t.defaults.viewer1Id),new l.BooleanProperty("double","double",!0,!1,[this,"double"],t.defaults.double)])],!1)},n=t,t.type=n.register("CzmViewerTracking",n,{chsName:"CzmViewerTracking",tags:["CzmObjects"],description:"通过Cesium的Entity API实现的盒子。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{enabled:!1,viewer0Id:"",viewer1Id:"",double:!0}),t}(l.ESSceneObject);t.CzmViewerTracking=h,function(e){e.createDefaultProps=function(){return i({enabled:void 0,viewer0Id:void 0,viewer1Id:void 0,double:void 0},l.ESSceneObject.createDefaultProps())}}(h=t.CzmViewerTracking||(t.CzmViewerTracking={})),t.CzmViewerTracking=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},82919:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmWater=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmWater"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("编辑","editing",!0,!1,[this,"editing"],!1),new l.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new l.GroupProperty("水面效果","水面效果",[new l.ColorProperty("水的底色","rgba color对象水的底色.",!0,!1,[this,"baseWaterColor"],[0,.12,.27,1]),new l.ColorProperty("混合底色","从水混合到非水区域时使用的rgba颜色对象.",!0,!1,[this,"blendColor"]),new l.StringProperty("单通道纹理","用于指示水域的单通道纹理.",!0,!1,[this,"specularMap"]),new l.StringProperty("法线图","水法线扰动的法线图.",!0,!1,[this,"normalMap"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/water/waterNormalsSmall.jpg"),new l.NumberProperty("频率","频率：控制波数的数字。",!0,!1,[this,"frequency"],1e3),new l.NumberProperty("动画速度","动画速度：控制水的动画速度的数字。",!0,!1,[this,"animationSpeed"],.005),new l.NumberProperty("振幅","振幅：控制水波振幅的数字。",!0,!1,[this,"amplitude"],10),new l.NumberProperty("镜面反射强度","镜面反射强度：控制镜面反射强度的数字",!0,!1,[this,"specularIntensity"],.3)])])],!1)},n=t,t.type=n.register("CzmWater",n,{chsName:"地理多边形水面",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的CoplanarPolygonGeometry和Primitive API 和GroundPrimitive API实现的水面效果"}),t}(l.ESSceneObject);t.CzmWater=u,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,positions:(0,c.reactPositions)(void 0),stRotation:void 0,baseWaterColor:(0,c.reactArrayWithUndefined)([0,.12,.27,1]),blendColor:(0,c.reactArrayWithUndefined)(void 0),specularMap:void 0,normalMap:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/water/waterNormalsSmall.jpg",frequency:1e3,animationSpeed:.005,amplitude:10,specularIntensity:.3},l.ESSceneObject.createDefaultProps())}}(u=t.CzmWater||(t.CzmWater={})),t.CzmWater=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},8426:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmWaterPrimitive=void 0;var l=n(80468),c=n(51355),u=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmWaterPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("是否贴地","ground.",!0,!1,[this,"ground"],!1),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("编辑","editing",!0,!1,[this,"editing"],!1),new l.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new l.BooleanProperty("是否关闭顶部","是否关闭顶部.",!0,!1,[this,"closeTop"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new l.GroupProperty("水面效果","水面效果",[new l.ColorProperty("水的底色","rgba color对象水的底色.",!0,!1,[this,"baseWaterColor"],[0,.12,.27,1]),new l.ColorProperty("混合底色","从水混合到非水区域时使用的rgba颜色对象.",!0,!1,[this,"blendColor"]),new l.StringProperty("单通道纹理","用于指示水域的单通道纹理.",!0,!1,[this,"specularMap"]),new l.StringProperty("法线图","水法线扰动的法线图.",!0,!1,[this,"normalMap"],"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/water/waterNormalsSmall.jpg"),new l.NumberProperty("频率","频率：控制波数的数字。",!0,!1,[this,"frequency"],1e3),new l.NumberProperty("动画速度","动画速度：控制水的动画速度的数字。",!0,!1,[this,"animationSpeed"],.005),new l.NumberProperty("振幅","振幅：控制水波振幅的数字。",!0,!1,[this,"amplitude"],10),new l.NumberProperty("镜面反射强度","镜面反射强度：控制镜面反射强度的数字",!0,!1,[this,"specularIntensity"],.3)])])],!1)},n=t,t.type=n.register("CzmWaterPrimitive",n,{chsName:"动态水面",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的水面效果"}),t}(l.ESSceneObject);t.CzmWaterPrimitive=u,function(e){e.createDefaultProps=function(){return i({show:void 0,ground:void 0,allowPicking:void 0,editing:void 0,positions:(0,c.reactPositions)(void 0),arcType:void 0,stRotation:void 0,height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0,closeTop:void 0,closeBottom:void 0,baseWaterColor:(0,c.reactArrayWithUndefined)([0,.12,.27,1]),blendColor:(0,c.reactArrayWithUndefined)(void 0),specularMap:void 0,normalMap:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/water/waterNormalsSmall.jpg",frequency:1e3,animationSpeed:.005,amplitude:10,specularIntensity:.3},l.ESSceneObject.createDefaultProps())}}(u=t.CzmWaterPrimitive||(t.CzmWaterPrimitive={})),t.CzmWaterPrimitive=u,(0,c.extendClassProps)(u.prototype,u.createDefaultProps)},93442:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(53083),t),o(n(75551),t),o(n(60679),t),o(n(88515),t),o(n(18478),t),o(n(74233),t),o(n(30658),t),o(n(32784),t),o(n(30817),t),o(n(90445),t),o(n(12003),t),o(n(94914),t),o(n(5467),t),o(n(32707),t),o(n(18500),t),o(n(44075),t),o(n(83939),t),o(n(35038),t),o(n(72216),t),o(n(61599),t),o(n(80589),t),o(n(74801),t),o(n(86630),t),o(n(70548),t),o(n(56381),t),o(n(93684),t),o(n(58633),t),o(n(51724),t),o(n(87752),t),o(n(1976),t),o(n(37774),t),o(n(38017),t),o(n(21454),t),o(n(71820),t),o(n(90039),t),o(n(27934),t),o(n(76689),t),o(n(9848),t),o(n(1433),t),o(n(80661),t),o(n(21120),t),o(n(8957),t),o(n(44197),t),o(n(91132),t),o(n(71309),t),o(n(32389),t),o(n(59057),t),o(n(65116),t),o(n(90100),t),o(n(20912),t),o(n(38656),t),o(n(39568),t),o(n(17706),t),o(n(45541),t),o(n(53347),t),o(n(7878),t),o(n(6770),t),o(n(87651),t),o(n(51193),t),o(n(87509),t),o(n(43891),t),o(n(12078),t),o(n(66551),t),o(n(52180),t),o(n(64580),t),o(n(49006),t),o(n(64403),t),o(n(96882),t),o(n(33897),t),o(n(99277),t),o(n(37602),t),o(n(89089),t),o(n(35258),t),o(n(96722),t),o(n(91427),t),o(n(95513),t),o(n(64759),t),o(n(67240),t),o(n(14103),t),o(n(90897),t),o(n(35129),t),o(n(7829),t),o(n(82919),t),o(n(8426),t),o(n(14655),t)},48941:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(21886),t),o(n(5949),t),o(n(69474),t),o(n(93442),t),o(n(86003),t)},57991:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewDistanceRangeControl=void 0;var s=n(80468),l=n(51355),c=function(e){function t(t){var n=e.call(this)||this;n._geoDivText=n.disposeVar(new s.GeoDivTextPoi);var r=n._geoDivText;t.czmViewer.add(r),n.dispose((function(){return t.czmViewer.delete(r)})),n.dispose((0,l.track)([n._geoDivText,"position"],t.positionReact));var o=function(){t.viewDistance===Number.NEGATIVE_INFINITY?r.text="当前不可用":r.text="视距: ".concat(t.viewDistance.toFixed(2),"米, VA: ").concat(t.visibleAlpha.toFixed(2))};return o(),n.dispose(t.viewDistanceChanged.disposableOn(o)),n.dispose(t.visibleAlphaChanged.disposableOn(o)),n}return o(t,e),t}(l.Destroyable),u=function(e){function t(t){var n=e.call(this)||this;return n._control=t,n._debugObjResetting=n.disposeVar(new s.ObjResettingWithEvent(n._control.debugChanged,(function(){if(n._control.debug)return new c(n._control)}))),n}return o(t,e),Object.defineProperty(t.prototype,"debugObjResetting",{get:function(){return this._debugObjResetting},enumerable:!1,configurable:!0}),t}(l.Destroyable),p=function(e){function t(t,n,r,o){var c=e.call(this)||this;c._czmViewer=t,c._positionReact=r,c._visibleAlpha=c.disposeVar((0,l.react)(1)),c._viewDistance=c.disposeVar((0,l.react)(0)),c._debug=c.disposeVar((0,l.react)(!1)),c._viewDistanceDebug=c.disposeVar(new u(c));var p=c,f=p.positionReact,d=p.czmViewer,h=i((0,l.getReactFuncs)(n),3),y=h[0],g=(h[1],h[2]),m=i((0,l.getReactFuncs)(f),3),v=m[0],b=(m[1],m[2]),_=i(o?(0,l.getReactFuncs)(o):[void 0,void 0,void 0],3),w=_[0],P=(_[1],_[2]),C=function(){var e=1,t=Number.NEGATIVE_INFINITY;do{var n=y(),r=v(),o=w?w():0;if(!n||!r)break;var a=d.getCameraInfo();if(!a)break;t=(0,s.cartesianDistance)(a.position,r)-(null!=o?o:0);var l=i(n,4),u=l[0],p=l[1],f=l[2],h=l[3];if(u>p||p>f||f>h){console.error("viewDistanceRange存在问题，需要满足逐级增大的条件，否则不生效！");break}t>=p&&t<=f?e=1:t<=u||t>=h?e=0:t>u&&t<p?e=p-u<=0?0:(t-u)/(p-u):t>f&&t<h?(h<=f&&(e=0),e=(h-t)/(h-f)):(e=1,console.error("不应该运行至此！"))}while(0);c._viewDistance.value=t,c._visibleAlpha.value=e};C();var O=[d.cameraChanged,g,b];P&&O.push(P);var x=c.disposeVar(l.createNextAnimateFrameEvent.apply(void 0,a([],i(O),!1)));return c.dispose(x.disposableOn(C)),c}return o(t,e),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._visibleAlpha.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._visibleAlpha.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewDistance",{get:function(){return this._viewDistance.value},set:function(e){this._viewDistance.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewDistanceChanged",{get:function(){return this._viewDistance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug.value},set:function(e){this._debug.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugChanged",{get:function(){return this._debug.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionReact",{get:function(){return this._positionReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewDistanceDebug",{get:function(){return this._viewDistanceDebug},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.CzmViewDistanceRangeControl=p},80788:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.PriorityQueue=void 0;var s=n(51355),l=function(e){function t(){var t=e.call(this)||this;return t._queue=[],t._changed=t.disposeVar(new s.Event),t}return o(t,e),Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(e,t){if(void 0===t&&(t=0),-1===this._queue.findIndex((function(t){return t.element===e}))){for(var n=!1,r=0;r<this._queue.length;r++)if(t<this._queue[r].priority){this._queue.splice(r,0,{element:e,priority:t}),this._changed.emit(),n=!0;break}n||(this._queue.push({element:e,priority:t}),this._changed.emit())}else console.error("enqueue error: element has already been in queue!")},t.prototype.dequeue=function(e){if(!e)return this._queue.pop(),void this._changed.emit();var t=this._queue.findIndex((function(t){return t.element===e}));-1!==t?(this._queue.splice(t,1),this._changed.emit()):console.warn("dequeue warn: 未找到队列中的元素！")},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.size=function(){return this._queue.length},t.prototype[Symbol.iterator]=function(){var e=this;return function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,7]),t=a(e._queue),n=t.next(),i.label=1;case 1:return n.done?[3,4]:[4,n.value.element];case 2:i.sent(),i.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return r=i.sent(),o={error:r},[3,7];case 6:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(o)throw o.error}return[7];case 7:return[2]}}))}()},t}(s.Destroyable);t.PriorityQueue=l},72593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.angleToHumanStr=void 0,t.angleToHumanStr=function(e,t){void 0===t&&(t=!1);var n=e<0?"-":"",r=Math.abs(e),o=0|r,i=60*(r-o);if(t)return"".concat(n).concat(o,"°").concat(i.toFixed(3),"′");var a=0|i,s=(60*(i-a)).toFixed(3);return"".concat(n).concat(o,"°").concat(a,"′").concat(s,"″")}},61887:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areaToHumanStr=void 0,t.areaToHumanStr=function(e){return Math.abs(e)<1e6?"".concat(e.toFixed(2)," m²"):"".concat((e/1e6).toFixed(2)," km²")}},16503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInfoPoi=void 0;var r=n(80468),o=n(77375);t.createInfoPoi=function(e,t,n){var i=new r.GeoCustomDivPoi;return i.innerHTML=(0,o.createInnerHtmlWithWhiteTextBlackBackground)(e),i.position=t,i.show=!0,n.add(i),i.dispose((function(){return n.delete(i)})),i}},77375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInnerHtmlWithWhiteTextBlackBackground=void 0,t.createInnerHtmlWithWhiteTextBlackBackground=function(e,t){void 0===t&&(t=48);var n=e.split("\n").map((function(e){return'\n        <div style="height: 24px; line-height: 24px">\n            '.concat(e,"\n        </div>\n        ")}));return'\n        <div style="\n            background: rgba(0, 0, 0, 0.6);\n            color: white;\n            border-radius: 5px;\n            padding: 0 10px 0 10px;\n            font-size: 14px;\n            white-space: nowrap;\n        ">\n            '.concat(n.join(" "),'\n        </div>\n        <div style="\n            height: ').concat(t,'px;\n            width: 2px;\n            background: rgba(0, 0, 0, 0.6);\n            margin: auto;\n        ">\n        </div>\n    ')}},85070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPositionEditingRefForCzmViewer=void 0;var r=n(80468);t.createPositionEditingRefForCzmViewer=function(e,t){if(!t.viewer)throw new Error("!viewer");return(0,r.createPositionEditingRef)(e,(function(e){return t.add(e)}),(function(e){return t.delete(e)}))}},18301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPositionsEditingRefForCzmViewer=void 0;var r=n(80468);t.createPositionsEditingRefForCzmViewer=function(e,t,n,o){return(0,r.createPositionsEditingRef)(e,t,(function(e){return n.add(e)}),(function(e){return n.delete(e)}),o)}},54411:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTilingSchema=void 0;var a=i(n(81557)),s=n(61556),l=n(21886);t.createTilingSchema=function(e){return"GeographicTilingScheme"===e.type?new a.GeographicTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),rectangle:e.rectangle&&(0,s.toRectangle)(e.rectangle),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY}):"WebMercatorTilingScheme"===e.type?new a.WebMercatorTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY,rectangleSouthwestInMeters:e.rectangleSouthwestInMeters&&(0,s.toCartesian2)(e.rectangleSouthwestInMeters),rectangleNortheastInMeters:e.rectangleNortheastInMeters&&(0,s.toCartesian2)(e.rectangleNortheastInMeters)}):"ToGCJ02WebMercatorTilingScheme"===e.type?new l.ToGCJ02WebMercatorTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY,rectangleSouthwestInMeters:e.rectangleSouthwestInMeters&&(0,s.toCartesian2)(e.rectangleSouthwestInMeters),rectangleNortheastInMeters:e.rectangleNortheastInMeters&&(0,s.toCartesian2)(e.rectangleNortheastInMeters)}):"ToWGS84WebMercatorTilingScheme"===e.type?new l.ToWGS84WebMercatorTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY,rectangleSouthwestInMeters:e.rectangleSouthwestInMeters&&(0,s.toCartesian2)(e.rectangleSouthwestInMeters),rectangleNortheastInMeters:e.rectangleNortheastInMeters&&(0,s.toCartesian2)(e.rectangleNortheastInMeters)}):void console.warn("未能识别的类型tilingSchemaJson.type: ".concat(e.type))}},73744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.d01=void 0;var l=i(n(81557));t.d01=function(e,t){var n=l.Cartesian3,r=l.Transforms,o=l.Matrix4,i=l.Matrix3,c=n.fromDegrees.apply(n,s([],a(e),!1)),u=n.fromDegrees.apply(n,s([],a(t),!1)),p=n.distance(c,u),f=r.eastNorthUpToFixedFrame(c),d=o.getMatrix3(f,new l.Matrix3),h=i.transpose(d,new l.Matrix3),y=n.subtract(u,c,new l.Cartesian3),g=n.normalize(y,new l.Cartesian3),m=i.multiplyByVector(h,g,new l.Cartesian3),v=new n(0,0,1),b=n.dot(m,v);if(b>.9999)return{heading:0,pitch:90,distance:p,distanceInXY:p,height:p};if(b<-.9999)return{heading:0,pitch:-90,distance:p,distanceInXY:p,height:-p};var _=n.cross(v,n.cross(m,v,new n),new n),w=(_=n.normalize(_,_),n.dot(_,m)),P=Math.acos(w),C=p*Math.sin(P);P=m.z<0?-P:P,C=m.z<0?-C:C;var O=new n(0,1,0),x=Math.acos(n.dot(_,O)),S=p*w;return{heading:x=180*(x=_.x<0?-x:x)/Math.PI,pitch:P=180*P/Math.PI,distance:p,distanceInXY:S,height:C}}},36545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distanceToHumanStr=void 0,t.distanceToHumanStr=function(e){return Math.abs(e)<1e3?"".concat(e.toFixed(2)," m"):"".concat((e/1e3).toFixed(2)," km")}},86003:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getOffsetPosition=t.pickVirtualEarth=t.pickPosition=t.pickHeightPosition=t.getSurfaceAxisClosestPoint=t.getSceneScaleForScreenPixelSize=t.getCameraTargetPos=t.getCameraRotation=t.getCameraPosition=t.flyTo=t.czmFlyTo=void 0;var a=n(61556);Object.defineProperty(t,"czmFlyTo",{enumerable:!0,get:function(){return a.czmFlyTo}}),Object.defineProperty(t,"flyTo",{enumerable:!0,get:function(){return a.flyTo}}),Object.defineProperty(t,"getCameraPosition",{enumerable:!0,get:function(){return a.getCameraPosition}}),Object.defineProperty(t,"getCameraRotation",{enumerable:!0,get:function(){return a.getCameraRotation}}),Object.defineProperty(t,"getCameraTargetPos",{enumerable:!0,get:function(){return a.getCameraTargetPos}}),Object.defineProperty(t,"getSceneScaleForScreenPixelSize",{enumerable:!0,get:function(){return a.getSceneScaleForScreenPixelSize}}),Object.defineProperty(t,"getSurfaceAxisClosestPoint",{enumerable:!0,get:function(){return a.getSurfaceAxisClosestPoint}}),Object.defineProperty(t,"pickHeightPosition",{enumerable:!0,get:function(){return a.pickHeightPosition}}),Object.defineProperty(t,"pickPosition",{enumerable:!0,get:function(){return a.pickPosition}}),Object.defineProperty(t,"pickVirtualEarth",{enumerable:!0,get:function(){return a.pickVirtualEarth}}),o(n(72593),t),o(n(61887),t),o(n(16503),t),o(n(77375),t),o(n(85070),t),o(n(18301),t),o(n(54411),t),o(n(36545),t),o(n(50741),t),o(n(57991),t),o(n(73744),t),t.getOffsetPosition=function(e,t,n){var r=e[0]-t[0],o=e[1]-t[1],a=e[2]-t[2];return n.map((function(e){var t=i(e,3),n=t[0],s=t[1],l=t[2];return[n+r,s+o,l+a]}))}},50741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.positionToHumanStr=void 0;var r=n(36545),o=n(72593);t.positionToHumanStr=function(e,t){return void 0===t&&(t=!1),[(0,o.angleToHumanStr)(e[0],t),(0,o.angleToHumanStr)(e[1],t),(0,r.distanceToHumanStr)(e[2])]}},91078:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentSceneScalePoi=void 0;var a=n(80468),s=n(51355),l=function(e){function t(t,n,r,o){var l,c=e.call(this)||this,u=i((0,s.getReactFuncs)(n),3),p=u[0],f=(u[1],u[2]),d=i((0,s.getReactFuncs)(r),3),h=d[0],y=(d[1],d[2]),g=i((0,s.getReactFuncs)(o),3),m=g[0],v=(g[1],g[2]),b=function(){l&&(t.delete(l),l.destroy(),l=void 0)};c.dispose(b);var _=function(){l&&(l.position=h())};_(),c.dispose(y.disposableOn(_));var w=function(){l&&(l.text="当前缩放值：".concat(m()))};w(),c.dispose(v.disposableOn(w));var P=function(){var e;null!==(e=p())&&void 0!==e&&e?(l||(l=new a.GeoDivTextPoi,t.add(l)),_(),w()):b()};return P(),c.dispose(f.disposableOn(P)),c}return o(t,e),t}(s.Destroyable);t.CurrentSceneScalePoi=l},44147:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.setClippingPlaneCollection=t.createClippingPlaneCollection=void 0;var s=i(n(81557)),l=n(61556);t.createClippingPlaneCollection=function(e,t){var n=e.planes,r=e.enabled,o=e.modelMatrix,i=e.unionClippingRegions,a=e.edgeColor,c=e.edgeWidth,u=o&&s.Matrix4.fromArray(o);return t&&(u=u||s.Matrix4.clone(s.Matrix4.IDENTITY,new s.Matrix4),s.Matrix4.multiply(t,u,u)),new s.ClippingPlaneCollection({planes:n&&n.map((function(e){return new s.ClippingPlane((0,l.toCartesian3)(e.normal),e.distance)})),enabled:r,modelMatrix:u,unionClippingRegions:i,edgeColor:a&&(0,l.toColor)(a),edgeWidth:c})},t.setClippingPlaneCollection=function(e,t,n){var r,o,i,c,u,p,f=t;if(!f)return e.removeAll(),void(e.enabled=!1);if(e.removeAll(),f.planes)try{for(var d=a(f.planes),h=d.next();!h.done;h=d.next()){var y=h.value;e.add(new s.ClippingPlane((0,l.toCartesian3)(y.normal),y.distance))}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var g=f.modelMatrix&&s.Matrix4.fromArray(f.modelMatrix)||s.Matrix4.clone(s.Matrix4.IDENTITY,new s.Matrix4);n&&s.Matrix4.multiply(n,g,g),e.enabled=null===(i=f.enabled)||void 0===i||i,e.modelMatrix=g,e.unionClippingRegions=null!==(c=f.unionClippingRegions)&&void 0!==c&&c,e.edgeColor=(0,l.toColor)(null!==(u=f.edgeColor)&&void 0!==u?u:[1,1,1,1]),e.edgeWidth=null!==(p=f.edgeWidth)&&void 0!==p?p:2}},77433:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.createMaterialRef=t.updateMaterialFromJson=t.createMaterialFromJson=void 0;var s=n(80468),l=n(51355),c=i(n(81557)),u=n(61556);function p(e){var t=c.Material.fromType(e.type);return d(t,e),t}function f(e){return e&&s.SceneObject.context.getStrFromEnv(e)||c.Material.DefaultImageId}function d(e,t){var n,r,o,i,a,s,l,c,p,d,h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A,I,z,D,N,R,k,L,F,B,V,G,U,W,H,J,q,Y,X,Z,K,Q,$,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,pe,fe,de,he;"Color"===t.type?e.uniforms.color=(0,u.toColor)(null!==(n=t.color)&&void 0!==n?n:[1,1,1,1]):"PolylineArrow"===t.type?e.uniforms.color=(0,u.toColor)(null!==(r=t.color)&&void 0!==r?r:[1,1,1,1]):"PolylineDash"===t.type?(e.uniforms.color=(0,u.toColor)(null!==(o=t.color)&&void 0!==o?o:[1,1,1,1]),e.uniforms.gapColor=(0,u.toColor)(null!==(i=t.gapColor)&&void 0!==i?i:[0,0,0,0]),e.uniforms.dashLength=null!==(a=t.dashLength)&&void 0!==a?a:16,e.uniforms.dashPattern=null!==(s=t.dashPattern)&&void 0!==s?s:255):"PolylineGlow"===t.type?(e.uniforms.color=(0,u.toColor)(null!==(l=t.color)&&void 0!==l?l:[1,1,1,1]),e.uniforms.glowPower=null!==(c=t.glowPower)&&void 0!==c?c:.25,e.uniforms.taperPower=null!==(p=t.taperPower)&&void 0!==p?p:1):"PolylineOutline"===t.type?(e.uniforms.color=(0,u.toColor)(null!==(d=t.color)&&void 0!==d?d:[1,1,1,1]),e.uniforms.outlineColor=(0,u.toColor)(null!==(h=t.outlineColor)&&void 0!==h?h:[1,0,0,1]),e.uniforms.outlineWidth=null!==(y=t.outlineWidth)&&void 0!==y?y:1):"Image"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(g=t.repeat)&&void 0!==g?g:[1,1])):"DiffuseMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(m=t.repeat)&&void 0!==m?m:[1,1]),e.uniforms.channels=null!==(v=t.channels)&&void 0!==v?v:"rgb"):"AlphaMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(b=t.repeat)&&void 0!==b?b:[1,1]),e.uniforms.channel=null!==(_=t.channel)&&void 0!==_?_:"a"):"SpecularMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(w=t.repeat)&&void 0!==w?w:[1,1]),e.uniforms.channel=null!==(P=t.channel)&&void 0!==P?P:"r"):"EmissionMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(C=t.repeat)&&void 0!==C?C:[1,1]),e.uniforms.channels=null!==(O=t.channels)&&void 0!==O?O:"rgb"):"BumpMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(x=t.repeat)&&void 0!==x?x:[1,1]),e.uniforms.channel=null!==(S=t.channel)&&void 0!==S?S:"r",e.uniforms.strength=null!==(E=t.strength)&&void 0!==E?E:.8):"NormalMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,u.toCartesian2)(null!==(j=t.repeat)&&void 0!==j?j:[1,1]),e.uniforms.channels=null!==(T=t.channels)&&void 0!==T?T:"rgb",e.uniforms.strength=null!==(M=t.strength)&&void 0!==M?M:.8):"Grid"===t.type?(e.uniforms.color=(0,u.toColor)(null!==(A=t.color)&&void 0!==A?A:[0,1,0,1]),e.uniforms.cellAlpha=null!==(I=t.cellAlpha)&&void 0!==I?I:.1,e.uniforms.lineCount=(0,u.toCartesian2)(null!==(z=t.lineCount)&&void 0!==z?z:[8,8]),e.uniforms.lineThickness=(0,u.toCartesian2)(null!==(D=t.lineThickness)&&void 0!==D?D:[1,1]),e.uniforms.lineOffset=(0,u.toCartesian2)(null!==(N=t.lineOffset)&&void 0!==N?N:[0,0])):"Stripe"===t.type?(e.uniforms.evenColor=(0,u.toColor)(null!==(R=t.evenColor)&&void 0!==R?R:[1,1,1,.5]),e.uniforms.oddColor=(0,u.toColor)(null!==(k=t.oddColor)&&void 0!==k?k:[0,0,1,.5]),e.uniforms.horizontal=null===(L=t.horizontal)||void 0===L||L,e.uniforms.offset=null!==(F=t.offset)&&void 0!==F?F:0,e.uniforms.repeat=null!==(B=t.repeat)&&void 0!==B?B:5):"Checkerboard"===t.type?(e.uniforms.lightColor=(0,u.toColor)(null!==(V=t.lightColor)&&void 0!==V?V:[1,1,1,.5]),e.uniforms.darkColor=(0,u.toColor)(null!==(G=t.darkColor)&&void 0!==G?G:[0,0,0,.5]),e.uniforms.repeat=(0,u.toCartesian2)(null!==(U=t.repeat)&&void 0!==U?U:[5,5])):"Dot"===t.type?(e.uniforms.lightColor=(0,u.toColor)(null!==(W=t.lightColor)&&void 0!==W?W:[1,1,0,.75]),e.uniforms.darkColor=(0,u.toColor)(null!==(H=t.darkColor)&&void 0!==H?H:[0,1,1,.75]),e.uniforms.repeat=(0,u.toCartesian2)(null!==(J=t.repeat)&&void 0!==J?J:[5,5])):"Water"===t.type?(e.uniforms.baseWaterColor=(0,u.toColor)(null!==(q=t.baseWaterColor)&&void 0!==q?q:[.2,.3,.6,1]),e.uniforms.blendColor=(0,u.toColor)(null!==(Y=t.blendColor)&&void 0!==Y?Y:[0,1,.699,1]),e.uniforms.specularMap=f(t.specularMap),e.uniforms.normalMap=f(t.normalMap),e.uniforms.frequency=null!==(X=t.frequency)&&void 0!==X?X:10,e.uniforms.animationSpeed=null!==(Z=t.animationSpeed)&&void 0!==Z?Z:.01,e.uniforms.amplitude=null!==(K=t.amplitude)&&void 0!==K?K:1,e.uniforms.specularIntensity=null!==(Q=t.specularIntensity)&&void 0!==Q?Q:.5,e.uniforms.fadeFactor=null!==($=t.fadeFactor)&&void 0!==$?$:1):"RimLighting"===t.type?(e.uniforms.color=(0,u.toColor)(null!==(ee=t.color)&&void 0!==ee?ee:[1,0,0,.7]),e.uniforms.rimColor=(0,u.toColor)(null!==(te=t.rimColor)&&void 0!==te?te:[1,1,1,.4]),e.uniforms.width=null!==(ne=t.width)&&void 0!==ne?ne:.3):"Fade"===t.type?(e.uniforms.fadeInColor=(0,u.toColor)(null!==(re=t.fadeInColor)&&void 0!==re?re:[1,0,0,1]),e.uniforms.fadeOutColor=(0,u.toColor)(null!==(oe=t.fadeOutColor)&&void 0!==oe?oe:[0,0,0,0]),e.uniforms.maximumDistance=null!==(ie=t.maximumDistance)&&void 0!==ie?ie:.5,e.uniforms.repeat=null===(ae=t.repeat)||void 0===ae||ae,e.uniforms.fadeDirection={x:(he=null!==(se=t.fadeDirection)&&void 0!==se?se:[!0,!0])[0],y:he[1]},e.uniforms.time=(0,u.toCartesian2)(null!==(le=t.time)&&void 0!==le?le:[.5,.5])):"ElevationContour"===t.type?(e.uniforms.color=(0,u.toColor)(null!==(ce=t.color)&&void 0!==ce?ce:[1,0,0,1]),e.uniforms.spacing=null!==(ue=t.spacing)&&void 0!==ue?ue:100,e.uniforms.width=null!==(pe=t.width)&&void 0!==pe?pe:1):"ElevationRamp"===t.type?(e.uniforms.image=f(t.image),e.uniforms.minimumHeight=null!==(fe=t.minimumHeight)&&void 0!==fe?fe:0,e.uniforms.maximumHeight=null!==(de=t.maximumHeight)&&void 0!==de?de:1e4):"AspectRamp"===t.type?e.uniforms.image=f(t.image):"ElevationBand"===t.type?(e.uniforms.color=f(t.colors),e.uniforms.heights=f(t.heights)):console.warn("未知材质类型，无法更新 ".concat(t.type))}t.createMaterialFromJson=p,t.updateMaterialFromJson=d,t.createMaterialRef=function(e,t){var n=(0,l.react)(void 0),r="",o=a((0,l.getReactFuncs)(e),3),i=o[0],s=(o[1],o[2]),c=function(){var e;try{var o=null!==(e=i())&&void 0!==e?e:t;o?r!==o.type?(r=o.type,n.value=p(o)):n.value&&d(n.value,o):(r="",n.value=void 0)}catch(e){}};return c(),n.dispose(s.disposableOn(c)),n}},47390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPolygonHierarchy=void 0;var r=n(61556);t.createPolygonHierarchy=function e(t){return{positions:(0,r.positionsToUniqueCartesians)(t.positions),holes:t.holes&&t.holes.map((function(t){return e(t)}))}}},90541:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.czmPropMaps=t.CzmHeightReferenceTypeEnums=t.czmEllipsoidWGS84=void 0;var a,s=i(n(81557));t.czmEllipsoidWGS84=[6378137,6378137,6356752.314245179],t.CzmHeightReferenceTypeEnums=[["NONE","NONE"],["CLAMP_TO_GROUND","CLAMP_TO_GROUND"],["RELATIVE_TO_GROUND","RELATIVE_TO_GROUND"],["CLAMP_TO_TERRAIN","CLAMP_TO_TERRAIN"],["RELATIVE_TO_TERRAIN","RELATIVE_TO_TERRAIN"],["CLAMP_TO_3D_TILE","CLAMP_TO_3D_TILE"],["RELATIVE_TO_3D_TILE","RELATIVE_TO_3D_TILE"]],(a=t.czmPropMaps||(t.czmPropMaps={})).heightReferencePropsMap={NONE:s.HeightReference.NONE,CLAMP_TO_GROUND:s.HeightReference.CLAMP_TO_GROUND,RELATIVE_TO_GROUND:s.HeightReference.RELATIVE_TO_GROUND,CLAMP_TO_TERRAIN:s.HeightReference.CLAMP_TO_TERRAIN,RELATIVE_TO_TERRAIN:s.HeightReference.RELATIVE_TO_TERRAIN,CLAMP_TO_3D_TILE:s.HeightReference.CLAMP_TO_3D_TILE,RELATIVE_TO_3D_TILE:s.HeightReference.RELATIVE_TO_3D_TILE},a.shadowPropsMap={DISABLED:s.ShadowMode.DISABLED,CAST_ONLY:s.ShadowMode.CAST_ONLY,ENABLED:s.ShadowMode.ENABLED,RECEIVE_ONLY:s.ShadowMode.RECEIVE_ONLY},a.classificationTypeMap={TERRAIN:s.ClassificationType.TERRAIN,CESIUM_3D_TILE:s.ClassificationType.CESIUM_3D_TILE,BOTH:s.ClassificationType.BOTH,NONE:void 0},a.textureMinificationFilterType={NEAREST:s.TextureMinificationFilter.NEAREST,LINEAR:s.TextureMinificationFilter.LINEAR,NEAREST_MIPMAP_NEAREST:s.TextureMinificationFilter.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:s.TextureMinificationFilter.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:s.TextureMinificationFilter.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:s.TextureMinificationFilter.LINEAR_MIPMAP_LINEAR},a.textureMagnificationFilterType={NEAREST:s.TextureMagnificationFilter.NEAREST,LINEAR:s.TextureMagnificationFilter.LINEAR},a.colorBlendModeType={HIGHLIGHT:s.ColorBlendMode.HIGHLIGHT,REPLACE:s.ColorBlendMode.REPLACE,MIX:s.ColorBlendMode.MIX},a.horizontalOriginType={CENTER:s.HorizontalOrigin.CENTER,LEFT:s.HorizontalOrigin.LEFT,RIGHT:s.HorizontalOrigin.RIGHT},a.verticalOriginOriginType={CENTER:s.VerticalOrigin.CENTER,BOTTOM:s.VerticalOrigin.BOTTOM,BASELINE:s.VerticalOrigin.BASELINE,TOP:s.VerticalOrigin.TOP},a.labelStyleType={FILL:s.LabelStyle.FILL,OUTLINE:s.LabelStyle.OUTLINE,FILL_AND_OUTLINE:s.LabelStyle.FILL_AND_OUTLINE},a.blendOptionType={OPAQUE:s.BlendOption.OPAQUE,TRANSLUCENT:s.BlendOption.TRANSLUCENT,OPAQUE_AND_TRANSLUCENT:s.BlendOption.OPAQUE_AND_TRANSLUCENT}},95315:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.czmSubscribeAndEvaluate=t.CzmCustomPrimitive=void 0;var i=n(61556);Object.defineProperty(t,"CzmCustomPrimitive",{enumerable:!0,get:function(){return i.CzmCustomPrimitive}}),Object.defineProperty(t,"czmSubscribeAndEvaluate",{enumerable:!0,get:function(){return i.czmSubscribeAndEvaluate}}),o(n(77433),t),o(n(47390),t),o(n(91078),t),o(n(90541),t),o(n(44147),t)},39341:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmObject=t.CzmObjectsContext=void 0;var a=n(80468),s=n(51355),l=function(){function e(){this._registerObjsMap=new Map}return e.prototype.register=function(e,t){"string"!=typeof e&&(console.warn("CzmObjectsContext register error: the first param is not string!"),console.warn(e)),this._registerObjsMap.set(e,t)},e.prototype._getObjConstructor=function(e){return this._registerObjsMap.get(e)||void 0},e.prototype.createObject=function(e,t){var n=this._getObjConstructor(e.typeName);return(0,a.sceneObjConstructorCheck)(!!n,e.typeName,"Cesium"),n?new n(e,t):new c(e,t)},e}();t.CzmObjectsContext=l;var c=function(e){function t(n,r){var o=e.call(this)||this;o._sceneObject=n,o._czmViewer=r,o._id=++t._accumId;var a=o._sceneObject,s=o._czmViewer;++t._totalExistingCount,t.debugging&&console.log("CzmObject._totalExistingCount: ".concat(t._totalExistingCount)),o.dispose((function(){--t._totalExistingCount,t.debugging&&console.log("CzmObject._totalExistingCount: ".concat(t._totalExistingCount))}));var l=function(e,t){var n,r,o,a;try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var u=c.value;s.delete(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var p=i(t),f=p.next();!f.done;f=p.next())u=f.value,s.add(u)}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}};return l([],a.components.values()),o.dispose(a.components.toChange.disposableOn(l)),o.dispose((function(){return l(a.components.values(),[])})),o}var n;return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),n=t,t._accumId=-1,t._totalExistingCount=0,t.debugging=!1,t.context=new l,t.register=n.context.register.bind(n.context),t}(s.Destroyable);t.CzmObject=c},71300:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.FirstPersonController=void 0;var i=n(9675),a=n(150),s=n(79584),l=function(e){function t(t){var n=e.call(this)||this;return n._viewerInstance=t,n._mouseCameraController=n.disposeVar(new s.MouseCameraController(n)),n._keyboardCameraController=n.disposeVar(new a.KeyboardCameraController(n)),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewerInstance.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._viewerInstance.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseCameraController",{get:function(){return this._mouseCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseEnabled",{get:function(){return this.mouseCameraController.enabled},set:function(e){this.mouseCameraController.enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseEnabledChanged",{get:function(){return this.mouseCameraController.enabledChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyboardCameraController",{get:function(){return this._keyboardCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyboardEnabled",{get:function(){return this.keyboardCameraController.enabled},set:function(e){this.keyboardCameraController.enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyboardEnabledChanged",{get:function(){return this.keyboardCameraController.enabledChanged},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.FirstPersonController=l},55545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91052:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CameraOp=void 0;var c=n(9675),u=n(34378),p=s(n(81557)),f=function(e){function t(t){var n=e.call(this)||this;n._running=t,n._actions={MoveForward:!1,MoveBackword:!1,MoveLeft:!1,MoveRight:!1,MoveUp:!1,MoveDown:!1};var r=n.controller.firstPersonController.viewer,o=r.camera;n.dispose(n.running.keyStatus.currentKeyIdsChanged.disposableOn((function(){n._updateActions()}))),n.dispose(n.controller.keyDownEvent.disposableOn((function(e){var t=n.running.keyboardCameraController.keyStatusMap;"SpeedUp"===t[e.code]?n.controller.speed=2*n.controller.speed:"SpeedDown"===t[e.code]&&(n.controller.speed=.5*n.controller.speed)}))),n.dispose(n.controller.keyDownEvent.disposableOn((function(e){"SwitchAlwaysWithCamera"===n.running.keyboardCameraController.keyStatusMap[e.code]&&(n.controller.alwaysWithCamera=!n.controller.alwaysWithCamera)})));var i=n.actions,a=Date.now(),s=function(){var e=Date.now(),t=e-a;a=e;var r=n.controller.speed;i.WithCamera||n.controller.alwaysWithCamera?(i.MoveForward&&o.moveForward(t*r),i.MoveBackword&&o.moveBackward(t*r),i.MoveLeft&&o.moveLeft(t*r),i.MoveRight&&o.moveRight(t*r),i.MoveUp&&o.moveUp(t*r),i.MoveDown&&o.moveDown(t*r)):(i.MoveForward&&(0,u.moveForward)(o,t*r),i.MoveBackword&&(0,u.moveForward)(o,-t*r),i.MoveLeft&&(0,u.moveRight)(o,-t*r),i.MoveRight&&(0,u.moveRight)(o,t*r),i.MoveUp&&o.moveUp(t*r),i.MoveDown&&o.moveDown(t*r));var s=n.controller.rotateSpeed,l=p.Math.toRadians(s*t);i.RotateRight?o.lookRight(l):i.RotateLeft?o.lookRight(-l):i.RotateUp?o.lookDown(-l):i.RotateDown&&o.lookDown(l)};return r.scene.preUpdate.addEventListener(s),n.dispose((function(){return r.scene.preUpdate.removeEventListener(s)})),n}return o(t,e),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controller",{get:function(){return this.running.keyboardCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},enumerable:!1,configurable:!0}),t.prototype._resetActions=function(){var e,t,n=Object.keys(this._actions);try{for(var r=l(n),o=r.next();!o.done;o=r.next()){var i=o.value;this._actions[i]=!1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype._updateActions=function(){var e,t,n=this.running.keyStatus,r=this.actions;this._resetActions();var o=this.running.keyboardCameraController.keyStatusMap;try{for(var i=l(n.currentKeyIds),a=i.next();!a.done;a=i.next())r[o[a.value]]=!0}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t}(c.Destroyable);t.CameraOp=f},35067:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStatus=void 0;var s=n(9675),l=n(81901),c=function(e){function t(n){var r=e.call(this)||this;r._keyboardCameraControllerRunning=n,r._currentKeyIds=new Set,r._currentKeyIdsChanged=r.disposeVar(new s.Event),r._debug=r.disposeVar((0,s.react)(!1)),r._debugResetting=r.disposeVar(new l.ObjResettingWithEvent(r.debugChanged,(function(){if(r.debug)return new(function(e){function t(t){var n=e.call(this)||this,r=function(){console.log(a([],i(t.currentKeyIds),!1).join("\n"))};return r(),n.dispose(t.currentKeyIdsChanged.disposableOn(r)),n}return o(t,e),t}(s.Destroyable))(r)})));var c=r._keyboardCameraControllerRunning.keyboardCameraController;return r.dispose(c.keyDownEvent.disposableOn((function(e){var n=t.getKeyId(e);r._currentKeyIds.has(n)||(r._currentKeyIds.add(n),r._currentKeyIdsChanged.emit())}))),r.dispose(c.keyUpEvent.disposableOn((function(e){var n=t.getKeyId(e);r._currentKeyIds.has(n)&&(r._currentKeyIds.delete(n),r._currentKeyIdsChanged.emit())}))),r.dispose(c.abortEvent.disposableOn((function(){console.log("canvas blur!"),r._currentKeyIds.clear(),r._currentKeyIdsChanged.emit()}))),r}return o(t,e),t.getKeyId=function(e){return e.code},Object.defineProperty(t.prototype,"currentKeyIds",{get:function(){return this._currentKeyIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentKeyIdsChanged",{get:function(){return this._currentKeyIdsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug.value},set:function(e){this._debug.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugChanged",{get:function(){return this._debug.changed},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.KeyStatus=c},35210:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardCameraController=void 0;var i=n(9675),a=n(81901),s=n(61787),l=function(e){function t(n){var r=e.call(this)||this;return r._firstPersonController=n,r._enabled=r.disposeVar((0,i.react)(!1)),r._keyStatusMap=r.disposeVar((0,i.react)(t.defaultKeyStatusMap)),r._speed=r.disposeVar((0,i.react)(1)),r._rotateSpeed=r.disposeVar((0,i.react)(.01)),r._alwaysWithCamera=r.disposeVar((0,i.react)(!1)),r._keyDownEvent=r.disposeVar(new i.Event),r._keyUpEvent=r.disposeVar(new i.Event),r._abortEvent=r.disposeVar(new i.Event),r._keyboardResetting=r.disposeVar(new a.ObjResettingWithEvent(r.enabledChanged,(function(){if(r.enabled)return new s.KeyboardCameraControllerRunning(r)}))),r}return o(t,e),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this._firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatusMap",{get:function(){return this._keyStatusMap.value},set:function(e){this._keyStatusMap.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatusMapChanged",{get:function(){return this._keyStatusMap.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed.value},set:function(e){this._speed.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speedChanged",{get:function(){return this._speed.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotateSpeed",{get:function(){return this._rotateSpeed.value},set:function(e){this._rotateSpeed.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotateSpeedChanged",{get:function(){return this._rotateSpeed.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alwaysWithCamera",{get:function(){return this._alwaysWithCamera.value},set:function(e){this._alwaysWithCamera.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alwaysWithCameraChanged",{get:function(){return this._alwaysWithCamera.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDownEvent",{get:function(){return this._keyDownEvent},enumerable:!1,configurable:!0}),t.prototype.keyDown=function(e){this._keyDownEvent.emit(e)},Object.defineProperty(t.prototype,"keyUpEvent",{get:function(){return this._keyUpEvent},enumerable:!1,configurable:!0}),t.prototype.keyUp=function(e){this._keyUpEvent.emit(e)},Object.defineProperty(t.prototype,"abortEvent",{get:function(){return this._abortEvent},enumerable:!1,configurable:!0}),t.prototype.abort=function(){this._abortEvent.emit()},Object.defineProperty(t.prototype,"keyboardResetting",{get:function(){return this._keyboardResetting},enumerable:!1,configurable:!0}),t.defaultKeyStatusMap={ShiftLeft:"WithCamera",ShiftRight:"WithCamera",KeyW:"MoveForward",KeyS:"MoveBackword",KeyA:"MoveLeft",KeyD:"MoveRight",ArrowUp:"MoveForward",ArrowDown:"MoveBackword",ArrowLeft:"MoveLeft",ArrowRight:"MoveRight",KeyR:"SpeedUp",KeyF:"SpeedDown",KeyQ:"SwitchAlwaysWithCamera"},t}(i.Destroyable);t.KeyboardCameraController=l},61787:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardCameraControllerRunning=void 0;var i=n(9675),a=n(35067),s=n(91052),l=function(e){function t(t){var n=e.call(this)||this;return n._keyboardCameraController=t,n._keyStatus=n.disposeVar(new a.KeyStatus(n)),n._cameraOp=n.disposeVar(new s.CameraOp(n)),n}return o(t,e),Object.defineProperty(t.prototype,"keyboardCameraController",{get:function(){return this._keyboardCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyStatus",{get:function(){return this._keyStatus},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraOp",{get:function(){return this._cameraOp},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.KeyboardCameraControllerRunning=l},150:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(55545),t),o(n(91052),t),o(n(35067),t),o(n(35210),t)},39976:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseCameraController=void 0;var i=n(9675),a=n(2873),s=n(81901),l=function(e){function t(t){var n=e.call(this)||this;return n._firstPersonController=t,n._enabled=n.disposeVar((0,i.react)(!1)),n.enableViewerOriginInputs=function(e){e?n.firstPersonController.czmViewer.incrementDisabledInputStack():n.firstPersonController.czmViewer.decrementDisabledInputStack()},n._mouseResetting=n.disposeVar(new s.ObjResettingWithEvent(n.enabledChanged,(function(){if(n.enabled)return new a.MouseCameraControllerRunning(n)}))),n}return o(t,e),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this._firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseResetting",{get:function(){return this._mouseResetting},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.MouseCameraController=l},2873:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseCameraControllerRunning=void 0;var i=n(37301),a=function(e){function t(n){var r=e.call(this)||this;r._mouseCameraController=n,r._mouseMoving=r.disposeVar(new i.MouseMoving(r.firstPersonController,r.mouseCameraController));var o=r.firstPersonController.viewer;r.mouseCameraController.enableViewerOriginInputs(!1),r.dispose((function(){return r.mouseCameraController.enableViewerOriginInputs(!0)})),Element.prototype.setPointerCapture=function(){},r.dispose((function(){return Element.prototype.setPointerCapture=t.origin_setPointerCapture}));var a=o.canvas;a.requestPointerLock(),r.dispose((function(){return document.exitPointerLock()}));var s=function(){document.pointerLockElement!==a&&(r.firstPersonController.mouseEnabled=!1)};return document.addEventListener("pointerlockchange",s,!1),r.dispose((function(){return document.removeEventListener("pointerlockchange",s,!1)})),document.addEventListener("pointerlockerror",(function(){r.firstPersonController.mouseEnabled=!1,console.log("Error locking pointer")})),r}return o(t,e),Object.defineProperty(t.prototype,"mouseCameraController",{get:function(){return this._mouseCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this.mouseCameraController.firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mouseMoving",{get:function(){return this._mouseMoving},enumerable:!1,configurable:!0}),t.origin_setPointerCapture=Element.prototype.setPointerCapture,t}(n(9675).Destroyable);t.MouseCameraControllerRunning=a},37301:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseMoving=void 0;var l=s(n(81557)),c=function(e){function t(t,n){var r=e.call(this)||this;r._firstPersonController=t,r._mouseCameraController=n;var o=r._firstPersonController.viewer.canvas,i=function(e){!function(e,t){e.lookRight(.1*l.Math.toRadians(t.movementX)),e.lookDown(.1*l.Math.toRadians(t.movementY));var n=e.pitch,r=l.Math.clamp(n,-l.Math.PI_OVER_TWO,l.Math.PI_OVER_TWO);r!==n&&e.setView({destination:e.positionWC,orientation:{heading:e.heading,pitch:r,roll:e.roll}})}(r._firstPersonController.viewer.scene.camera,e)};return o.addEventListener("pointermove",i),r.dispose((function(){return o.removeEventListener("pointermove",i)})),r}return o(t,e),t}(n(9675).Destroyable);t.MouseMoving=c},79584:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(39976),t)},34378:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.moveUp=t.moveRight=t.moveForward=void 0;var a=i(n(81557)),s=new a.Cartesian3,l=new a.Cartesian3;function c(e,t,n){var r=a.Matrix4.clone(e.transform);e.lookAtTransform(a.Matrix4.IDENTITY);var o=e.positionCartographic.height,i=e.positionWC,c=a.Cartesian3.normalize(i,s),u=a.Cartesian3.dot(e.direction,c);if(u>-.9&&u<.9)var p=a.Cartesian3.cross(e.direction,c,l);else p=a.Cartesian3.cross(e.up,c,l);var f=p;n&&(f=a.Cartesian3.cross(c,p,s));var d=a.Cartesian3.magnitude(i);e.rotate(f,t/d);var h=e.positionCartographic,y=h.longitude,g=h.latitude;a.Cartesian3.fromRadians(y,g,o,void 0,e.position),e.lookAtTransform(r)}t.moveForward=function(e,t){c(e,t,!1)},t.moveRight=function(e,t){c(e,-t,!0)},t.moveUp=function(e,t){e.positionWC;var n=a.Matrix4.clone(e.transform);e.lookAtTransform(a.Matrix4.IDENTITY);var r=e.positionCartographic;a.Cartesian3.fromRadians(r.longitude,r.latitude,r.height+t,void 0,e.position),e.lookAtTransform(n)}},50859:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(71300),t),o(n(150),t),o(n(79584),t)},55563:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.GroundPrimitivesManager=t.GroundPrimitiveWrapper=void 0;var c=n(51355),u=s(n(81557)),p=function(e){function t(t,n){var r,o,i=e.call(this)||this;return i._manager=t,i._primitive=n,i._init=(i.manager.primitiveCollection.add(i.primitive),void i.dispose((function(){i.manager.primitiveCollection.remove(i.primitive)}))),i._zIndex=(r=i.disposeVar((0,c.react)(0)),(o=function(){return i.manager.sortEvent.next()})(),i.dispose(r.changed.disposableOn(o)),r),i}return o(t,e),Object.defineProperty(t.prototype,"manager",{get:function(){return this._manager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex.value},set:function(e){this._zIndex.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndexChanged",{get:function(){return this._zIndex.changed},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.GroundPrimitiveWrapper=p;var f=function(e){function t(t){var n,r,o,i=e.call(this)||this;return i._viewerInstance=t,i._primitiveCollection=(n=new u.PrimitiveCollection,i.viewer.scene.groundPrimitives.add(n),i.dispose((function(){return i.viewer.scene.groundPrimitives.remove(n)})),n),i._sortEvent=i.disposeVar((0,c.createNextAnimateFrameEvent)()),i._primitiveWrappers=(r=[],i.dispose((function(){r.length>0&&console.error("primitiveWrappers.length > 0")})),r),i._sortInit=((o=function(){var e,t;i._primitiveWrappers.sort((function(e,t){return e.zIndex-t.zIndex}));try{for(var n=l(i._primitiveWrappers),r=n.next();!r.done;r=n.next()){var o=r.value;i.primitiveCollection.contains(o.primitive)?i.primitiveCollection.raiseToTop(o.primitive):console.error(i.primitiveCollection.contains(o.primitive))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}})(),void i.dispose(i.sortEvent.disposableOn(o))),i}return o(t,e),Object.defineProperty(t.prototype,"viewerInstance",{get:function(){return this._viewerInstance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this.viewerInstance.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"primitiveCollection",{get:function(){return this._primitiveCollection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortEvent",{get:function(){return this._sortEvent},enumerable:!1,configurable:!0}),t.prototype.createGroundPrimitiveWrapper=function(e){var t=new p(this,e);return this._primitiveWrappers.push(t),t},t.prototype.destroyGroundPrimitiveWrapper=function(e){var t=this._primitiveWrappers.indexOf(e);t<0&&console.error("primitiveWrappers.indexOf(wrapper) < 0"),this._primitiveWrappers.splice(t,1),e.destroy()},t}(c.Destroyable);t.GroundPrimitivesManager=f},25590:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Legend=t.getLegendNum=void 0;var a=n(51355),s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];function l(e){var t=0|e;if(!(t<1||t>1e8)){for(var n=-1;t>=s[++n];);var r=t/s[n-1]|0;return[r*s[n-1],r,n]}}t.getLegendNum=l;var c=function(e){function t(){var t,n=e.call(this)||this;return n._lengthInPixels=n.disposeVar((0,a.react)(100)),n._resolution=n.disposeVar((0,a.react)(void 0)),n._computedLengthInPixels=n.disposeVar((0,a.react)(void 0)),n._computedLengthInMeters=n.disposeVar((0,a.react)(void 0)),n._computedLengthInStr=n.disposeVar((0,a.react)(void 0)),(t=function(){var e=void 0,t=void 0;do{var r=n,o=r.lengthInPixels,a=r.resolution;if(void 0===o)break;if(void 0===a)break;var s=l(o*a);if(!s)break;var c=i(s,3),u=c[0];c[1],c[2],t=u,e=u/a}while(0);n._computedLengthInPixels.value=e,n._computedLengthInMeters.value=t})(),n.dispose(n.lengthInPixelsChanged.disposableOn(t)),n.dispose(n.resolutionChanged.disposableOn(t)),(t=function(){var e=n.computedLengthInMeters;n._computedLengthInStr.value=e?e>1e3?"".concat(e/1e3|0,"km"):"".concat(e,"m"):void 0})(),n.dispose(n.computedLengthInMetersChanged.disposableOn(t)),n}return o(t,e),Object.defineProperty(t.prototype,"lengthInPixels",{get:function(){return this._lengthInPixels.value},set:function(e){this._lengthInPixels.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lengthInPixelsChanged",{get:function(){return this._lengthInPixels.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution.value},set:function(e){this._resolution.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolutionChanged",{get:function(){return this._resolution.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInPixels",{get:function(){return this._computedLengthInPixels.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInPixelsChanged",{get:function(){return this._computedLengthInPixels.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInMeters",{get:function(){return this._computedLengthInMeters.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInMetersChanged",{get:function(){return this._computedLengthInMeters.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInStr",{get:function(){return this._computedLengthInStr.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInStrChanged",{get:function(){return this._computedLengthInStr.changed},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.Legend=c},12969:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SkyAtmosphere=void 0;var o=r(n(86966));t.SkyAtmosphere=o.default},44675:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectsToExcludeWrapper=void 0;var l=function(e){function t(t,n){var r,o,l,c=this;(c=e.call(this)||this)._viewer=t;var u=null===(l=c._viewer.extensions)||void 0===l?void 0:l.pickingManager;if(!u)return c;var p=u.objectsToExclude,f=Array.isArray(n)?a([],i(n),!1):[n];try{for(var d=s(f),h=d.next();!h.done;h=d.next()){var y=h.value;if(p.includes(y))throw new Error("objectsToExclude.includes(p)");p.push(y)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return c.dispose((function(){var e,t;try{for(var n=s(f),r=n.next();!r.done;r=n.next()){var o=r.value,i=p.indexOf(o);if(-1===i)throw new Error("-1 === objectsToExclude.indexOf(p)");p.splice(i,1)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}})),c}return o(t,e),t}(n(51355).Destroyable);t.ObjectsToExcludeWrapper=l},74602:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerCreating=void 0;var u=n(51355),p=n(59645),f=s(n(81557)),d=n(35648);n(73086);var h=n(26072),y=n(61556),g=function(e){function t(t,n,r){var o=e.call(this)||this;o.dispose((function(){n.setStaus("Raw"),n.setCreatingLog("");var e=n.viewer;if(e){r(void 0);var t=(0,h.getViewerExtensions)(e);t&&(t.destroy(),(0,h.setViewerExtensions)(e,void 0)),e.destroy()}}));var i=o.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e,t){return l(o,void 0,void 0,(function(){var o,i,a,s;return c(this,(function(l){switch(l.label){case 0:return n.setStaus("Creating"),n.setCreatingLog("正在创建Cesium视口..."),o=null!==(s=n.createCesiumViewerFunc)&&void 0!==s?s:d.defaultCreateCesiumViewerFunc,[4,e.promise(new Promise((function(e,t){return f.GroundPolylinePrimitive.initializeTerrainHeights().then(e)})))];case 1:return l.sent(),[4,e.promise((0,p.createCancelablePromise)(o(t,n)))];case 2:return(i=l.sent()).scene._xbsjOriginSkyAtmosphere=i.scene.skyAtmosphere,i.scene._xbsjOriginSkyBox=i.scene.skyBox,i.clockViewModel.currentTime=f.JulianDate.fromDate(new Date(n.clockCurrentTime)),this.dispose(n.clockCurrentTimeChanged.disposableOn((function(){if(void 0!==n.clockCurrentTime){var e=f.JulianDate.fromDate(new Date(n.clockCurrentTime));f.JulianDate.equals(e,i.clockViewModel.currentTime)||(i.clockViewModel.currentTime=e)}}))),this.dispose((0,y.czmSubscribeAndEvaluate)(i.clockViewModel,"currentTime",(function(e){var t=f.JulianDate.toDate(i.clockViewModel.currentTime).getTime();t!==n.clockCurrentTime&&(n.clockCurrentTime=t)}))),a=new h.ViewerExtensions(i),(0,h.setViewerExtensions)(i,a),a.dispose(a.interaction.pointerDownEvent.disposableOn((function(){n.activeRequesting.emit(!0)}))),r(i),n.setStaus("Created"),n.setCreatingLog("成功创建Cesium视口!"),[2]}}))}))})));return i.start(t),o}return o(t,e),t}(u.Destroyable);t.ViewerCreating=g},51663:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ClassicNavigator=void 0;var c=n(51355),u=s(n(81557)),p=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._showCompass=(0,c.react)(!1),n._compassStyle=(0,c.react)(void 0),n._showDistanceLegend=(0,c.react)(!1),n._distanceLegendStyle=(0,c.react)(void 0);var r=n._viewer;if(!u.viewerCesiumNavigationMixin)throw new Error("ClassicNavigator创建之前，必须确保Cesium.viewerCesiumNavigationMixin有值！");r.extend(u.viewerCesiumNavigationMixin,{enableCompass:!0,enableZoomControls:!1,enableDistanceLegend:!0,enableCompassOuterRing:!0});var o=r.cesiumNavigation.navigationDiv.children[0];o.classList.remove("compass"),o.style["pointer-events"]="auto",o.style.overflow="hidden",o.style.position="absolute",o.style.width="95px",o.style.height="95px";var i,a=r.cesiumNavigation.distanceLegendDiv.children[0];return r.container.appendChild(r.cesiumNavigation.container),(i=function(){r.cesiumNavigation.navigationViewModel.showCompass=n.showCompass})(),n.dispose(n.showCompassChanged.disposableOn(i)),(i=function(){r.cesiumNavigation.distanceLegendViewModel.enableDistanceLegend=n.showDistanceLegend})(),n.dispose(n.showDistanceLegendChanged.disposableOn(i)),(i=function(){var e,t=o.style,r=l(null!==(e=n.compassStyle)&&void 0!==e?e:[void 0,18,18,void 0],4),i=r[0],a=r[1],s=r[2],c=r[3];t.left=i&&"".concat(i,"px")||"",t.top=a&&"".concat(a,"px")||"",t.right=s&&"".concat(s,"px")||"",t.bottom=c&&"".concat(c,"px")||""})(),n.dispose(n.compassStyleChanged.disposableOn(i)),(i=function(){var e,t=a.style,r=l(null!==(e=n.distanceLegendStyle)&&void 0!==e?e:[void 0,void 0,18,18],4),o=r[0],i=r[1],s=r[2],c=r[3];t.left=o&&"".concat(o,"px")||"",t.top=i&&"".concat(i,"px")||"",t.right=s&&"".concat(s,"px")||"",t.bottom=c&&"".concat(c,"px")||""})(),n.dispose(n.distanceLegendStyleChanged.disposableOn(i)),n}return o(t,e),Object.defineProperty(t.prototype,"showCompass",{get:function(){return this._showCompass.value},set:function(e){this._showCompass.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompassChanged",{get:function(){return this._showCompass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compassStyle",{get:function(){return this._compassStyle.value},set:function(e){this._compassStyle.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compassStyleChanged",{get:function(){return this._compassStyle.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDistanceLegend",{get:function(){return this._showDistanceLegend.value},set:function(e){this._showDistanceLegend.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDistanceLegendChanged",{get:function(){return this._showDistanceLegend.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distanceLegendStyle",{get:function(){return this._distanceLegendStyle.value},set:function(e){this._distanceLegendStyle.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distanceLegendStyleChanged",{get:function(){return this._distanceLegendStyle.changed},enumerable:!1,configurable:!0}),t}(c.Destroyable);t.ClassicNavigator=p},24633:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorInfoWrapper=void 0;var i=n(51355),a=n(59645),s=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._text=n.disposeVar((0,i.react)("")),n._show=n.disposeVar((0,i.react)(!1));var r=n._viewer,o=n.disposeVar(new a.CursorInfo(r.canvas.parentElement,a.CursorFloatDiv)),s=function(){return o.text=n.text};s(),n.dispose(n.textChanged.disposableOn(s));var l=function(){return o.show=n.show};return l(),n.dispose(n.showChanged.disposableOn(l)),n}return o(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._text.value},set:function(e){this._text.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textChanged",{get:function(){return this._text.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.CursorInfoWrapper=s},64455:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorPositionInfo=void 0;var s=n(51355),l=n(59645),c=n(26072),u=function(e){function t(t){var n=e.call(this)||this;n._enabled=n.disposeVar((0,s.react)(!1)),n._cursorPosition=(0,s.react)(void 0),n.quickPickPosition=!0;var r=new s.Destroyable,o=function(){r&&(r.destroy(),r=void 0)};n.dispose(o);var u=function(){if(o(),n._enabled.value&&t){var e=(0,c.getViewerExtensions)(t);if(e){var u=(r=new s.Destroyable).disposeVar((0,s.react)(void 0)),p=r.disposeVar((0,l.createNextAnimateFrameEvent)(u.changed));r.dispose(e.interaction.pointerMoveEvent.disposableOn((function(e){u.value=(0,l.getDomEventCurrentTargetPos)(e)})));var f=r.disposeVar((0,l.createProcessingFromAsyncFunc)((function(t){return i(n,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return e.pickingManager?u.value?this.quickPickPosition?[4,t.promise((0,l.createCancelablePromise)(e.pickingManager.quickPickPosition(u.value)))]:[3,2]:[3,4]:[2];case 1:return n=r.sent(),this._cursorPosition.value=n,[3,4];case 2:return[4,t.promise((0,l.createCancelablePromise)(e.pickingManager.pickPosition(u.value)))];case 3:n=r.sent(),this._cursorPosition.value=n,r.label=4;case 4:return[2]}}))}))})));r.dispose(p.disposableOn((function(){f.restart()})))}}};return u(),n.dispose(n._enabled.changed.disposableOn(u)),n}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorPosition",{get:function(){return this._cursorPosition.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorPositionChanged",{get:function(){return this._cursorPosition.changed},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.CursorPositionInfo=u},15073:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageriesManager=void 0;var l=n(51355),c=n(59645),u=n(48941),p=function(e){function t(t){var n=e.call(this)||this;return n._viewer=t,n._czmImageryLayerWrappers=new Set,n._zIndexChangedEvent=n.disposeVar(new l.Event),n.dispose(n._zIndexChangedEvent.disposableOn((function(){var e,t,r=a([],i(n.czmImageryLayerWrappers.values()),!1);r.sort((function(e,t){var n,r;return(null!==(n=e.czmCzmImageryWrapper.imagery.sceneObject.zIndex)&&void 0!==n?n:u.CzmImagery.defaults.zIndex)-(null!==(r=t.czmCzmImageryWrapper.imagery.sceneObject.zIndex)&&void 0!==r?r:u.CzmImagery.defaults.zIndex)}));try{for(var o=s(r),l=o.next();!l.done;l=o.next()){var c=l.value;n.viewer.imageryLayers.raiseToTop(c.imageryLayer)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}))),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageryLayerWrappers",{get:function(){return this._czmImageryLayerWrappers},enumerable:!1,configurable:!0}),t.prototype.add=function(e){this._czmImageryLayerWrappers.add(e),this.viewer.imageryLayers.add(e.imageryLayer),this.zIndexChange()},t.prototype.delete=function(e){this.viewer.imageryLayers.remove(e.imageryLayer,!1),this._czmImageryLayerWrappers.delete(e)},t.prototype.zIndexChange=function(){this._zIndexChangedEvent.emit()},t}(l.Destroyable),f=function(e){function t(t){var n=e.call(this)||this;if(n._czmCzmImageryWrapper=t,!n._czmCzmImageryWrapper.imagery.layer)throw new Error("this._czmCzmImageryWrapper.imagery.layer");n._imageryLayer=n._czmCzmImageryWrapper.imagery.layer;var r=n.czmCzmImageryWrapper.manager.czmImageryLayersManager;return r.add(n),n.dispose((function(){return r.delete(n)})),n.dispose(n._czmCzmImageryWrapper.imagery.sceneObject.zIndexChanged.disposableOn((function(){return r.zIndexChange()}))),n}return o(t,e),Object.defineProperty(t.prototype,"imageryLayer",{get:function(){return this._imageryLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzmImageryWrapper",{get:function(){return this._czmCzmImageryWrapper},enumerable:!1,configurable:!0}),t}(l.Destroyable),d=function(e){function t(t){var n=e.call(this)||this;return n._czmCzmImageryWrapper=t,n._objResetting=n.disposeVar(new c.ObjResettingWithEvent(n.czmCzmImageryWrapper.imagery.sceneObject.showChanged,(function(){var e;if(null===(e=n.czmCzmImageryWrapper.imagery.sceneObject.show)||void 0===e||e)return new f(n.czmCzmImageryWrapper)}))),n}return o(t,e),Object.defineProperty(t.prototype,"czmCzmImageryWrapper",{get:function(){return this._czmCzmImageryWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),t}(l.Destroyable),h=function(e){function t(t,n,r){var o=e.call(this)||this;return o._imagery=t,o._manager=n,o._czmImageryLayerWrapperObjResetting=o.disposeVar(new c.ObjResettingWithEvent(o.imagery.layerChanged,(function(){if(o.imagery.layer)return new d(o)}))),o}return o(t,e),Object.defineProperty(t.prototype,"imagery",{get:function(){return this._imagery},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return this._manager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageryLayerWrapperObjResetting",{get:function(){return this._czmImageryLayerWrapperObjResetting},enumerable:!1,configurable:!0}),t}(l.Destroyable),y=function(e){function t(t){var n=e.call(this)||this;return n._viewer=t,n._czmCzmImageryWrappers=new Set,n._czmImageryLayersManager=n.disposeVar(new p(n._viewer)),n}return o(t,e),Object.defineProperty(t.prototype,"czmCzmImageryWrappers",{get:function(){return this._czmCzmImageryWrappers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageryLayersManager",{get:function(){return this._czmImageryLayersManager},enumerable:!1,configurable:!0}),t.prototype.add=function(e){var t,n;try{for(var r=s(this.czmCzmImageryWrappers),o=r.next();!o.done;o=r.next())if(o.value.imagery===e)return void console.warn("imageriesManager add error: has already added!",e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.czmCzmImageryWrappers.add(new h(e,this,this._viewer))},t.prototype.delete=function(e){var t,n;try{for(var r=s(this.czmCzmImageryWrappers),o=r.next();!o.done;o=r.next()){var i=o.value;if(i.imagery===e)return void this.czmCzmImageryWrappers.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}console.warn("imageriesManager delete error!",e)},t}(l.Destroyable);t.ImageriesManager=y},2064:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.PickingManager=void 0;var d=n(61556),h=n(80468),y=n(51355),g=s(n(81557)),m=function(e){function t(t){var n=e.call(this)||this;return n._pickPositionTasks=[],n._pickTasks=[],n.pickHeightMustGreaterThanZero=!0,n.objectsToExclude=[],n.dispose((function(){n._pickPositionTasks.length>0&&(n._pickPositionTasks.forEach((function(e){return e[3]("CzmViewer销毁，任务不再执行！")})),n._pickPositionTasks.length=0),n._pickTasks.length>0&&(n._pickTasks.forEach((function(e){return e[4]("CzmViewer销毁，任务不再执行！")})),n._pickTasks.length=0)})),n.dispose(t.scene.preUpdate.addEventListener((function(){var e,r,o,i,a=p([],u(n._pickPositionTasks),!1);n._pickPositionTasks.length=0;var s=function(e){var r=u(e,4),o=r[0],i=r[1],a=r[2],s=r[3];try{l(n,void 0,void 0,(function(){var e,n,r,l,u,p,f,h;return c(this,(function(c){switch(c.label){case 0:e=t.scene,n=t.camera,r=(0,d.toCartesian2)(o),l=n.getPickRay(r),c.label=1;case 1:return l?(u=void 0,i?[4,e.pickFromRayMostDetailed(l,this.objectsToExclude)]:[3,3]):[3,6];case 2:return u=c.sent(),[3,4];case 3:u=e.pickFromRay(l,this.objectsToExclude),c.label=4;case 4:return u&&u.object&&u.position?(h=(0,d.positionFromCartesian)(u.position))?(a(h),[2]):(s(new Error("positionFromCartesian failed")),[2]):[3,6];case 5:c.label=6;case 6:return!l||e.terrainProvider instanceof g.EllipsoidTerrainProvider?(p=e.terrainProvider instanceof g.EllipsoidTerrainProvider?e.terrainProvider.tilingScheme.ellipsoid:t.scene.globe.ellipsoid,(f=t.camera.pickEllipsoid((0,d.toCartesian2)(o),p))?(h=(0,d.positionFromCartesian)(f))?(a(h),[2]):(s(new Error("positionFromCartesian failed")),[2]):(s(new Error("Pick failed")),[2])):(f=e.globe.pick(l,e))?(h=(0,d.positionFromCartesian)(f))?(this.pickHeightMustGreaterThanZero&&h[2]<0&&(h[2]=0),a(h),[2]):(s(new Error("positionFromCartesian failed")),[2]):(s(new Error("scene.globe.pick failed")),[2])}}))}))}catch(e){s(e)}};try{for(var y=f(a),m=y.next();!m.done;m=y.next())s(w=m.value)}catch(t){e={error:t}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}var v=p([],u(n._pickTasks),!1);n._pickTasks.length=0;try{for(var b=f(v),_=b.next();!_.done;_=b.next()){var w=_.value,P=u(w,5),C=P[0],O=P[1],x=P[2],S=P[3],E=P[4];try{var j=t.scene.pick((0,d.toCartesian2)(C),O&&O[0],O&&O[1]);S(new h.CzmPickedInfo(j,new h.AttachedPickedInfo(x)))}catch(e){E(e)}}}catch(e){o={error:e}}finally{try{_&&!_.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}}))),n}return o(t,e),t.prototype.pickPosition=function(e){var t=this;return new Promise((function(n,r){t._pickPositionTasks.push([e,!0,n,r])}))},t.prototype.quickPickPosition=function(e){var t=this;return new Promise((function(n,r){t._pickPositionTasks.push([e,!1,n,r])}))},t.prototype.pick=function(e,t,n){var r=this;return new Promise((function(o,i){r._pickTasks.push([e,t,n,o,i])}))},t}(y.Destroyable);t.PickingManager=m},79042:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TerrainManager=void 0;var c=n(51355),u=n(59645),p=new(s(n(81557)).EllipsoidTerrainProvider),f=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._terrainMap=new Map,n._nextAnimateFrame=n.disposeVar((0,u.createNextAnimateFrame)());var r=n._viewer;return n.dispose(n._changed.disposableOn((function(){var e,t,o,i;try{for(var a=l(n._terrainMap.keys()),s=a.next();!s.done;s=a.next()){var c=s.value;(null===(o=c.sceneObject.show)||void 0===o||o)&&c.provider&&(i&&console.warn("存在多个terrain，只能随机选择一个，请确保只有一个terrain的show为true！当前terrian：".concat(i.sceneObject.name,"(").concat(i.sceneObject.id,"), 即将被替换成").concat(c.sceneObject.name,"(").concat(c.sceneObject.id,")")),i=c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}r.scene.terrainProvider=i&&i.provider||p}))),n}return o(t,e),t.prototype._makeDirty=function(){this._nextAnimateFrame.restartIfNotRunning()},Object.defineProperty(t.prototype,"_changed",{get:function(){return this._nextAnimateFrame.completeEvent},enumerable:!1,configurable:!0}),t.prototype.add=function(e){var t=this;if(this._terrainMap.has(e))console.warn("this._terrainMap.has(imagery)");else{var n=new c.Destroyable;n.dispose(e.providerChanged.disposableOn((function(){return t._makeDirty()}))),n.dispose(e.sceneObject.showChanged.disposableOn((function(){return t._makeDirty()}))),this._terrainMap.set(e,(function(){return n.destroy()})),this._makeDirty()}},t.prototype.delete=function(e){if(this._terrainMap.has(e)){var t=this._terrainMap.get(e);t?(t(),this._terrainMap.delete(e),this._makeDirty()):console.error("!disposeFunc")}else console.warn("!this._imageriesMap.has(imagery)")},t}(c.Destroyable);t.TerrainManager=f},26072:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerExtensions=t.setViewerExtensions=t.getViewerExtensions=void 0;var p=n(80468),f=s(n(81557)),d=n(51355),h=n(61556),y=n(59645),g=n(51663),m=n(24633),v=n(64455),b=n(15073),_=n(2064),w=n(79042);l(n(51663),t),l(n(24633),t),l(n(15073),t),l(n(2064),t),l(n(79042),t),t.getViewerExtensions=function(e){return(0,d.getExtProp)(e,"_xbsjViewerExtensions22")},t.setViewerExtensions=function(e,t){(0,d.setExtProp)(e,"_xbsjViewerExtensions22",t)};var P=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._interactionUseBubble=n.disposeVar(new p.ContainerViewerInteraction(n._viewer.canvas.parentElement,!1)),n._interactionUseCapture=n.disposeVar(new p.ContainerViewerInteraction(n._viewer.canvas.parentElement,!0)),n._poiContext=n.disposeVar(new h.CzmPoisContext(n._viewer)),n._cameraChanged=n.disposeVar(new h.CzmCameraChanged(n._viewer.scene)),n._pickingManager=n.disposeVar(new _.PickingManager(n._viewer)),n._imageriesManager=n.disposeVar(new b.ImageriesManager(n._viewer)),n._terrainManager=n.disposeVar(new w.TerrainManager(n._viewer)),n._cursorInfo=n.disposeVar(new m.CursorInfoWrapper(n._viewer)),n._classicNavigator=n.disposeVar((0,d.react)(void 0)),n._needClassicNavigator=n.disposeVar((0,d.react)(!1)),n._cursorPositionInfo=n.disposeVar(new v.CursorPositionInfo(n._viewer));var r=n._viewer;"cesiumInspector"in r||r.extend(f.viewerCesiumInspectorMixin),r.cesiumInspector.container.style.display="none","cesium3DTilesInspector"in r||r.extend(f.viewerCesium3DTilesInspectorMixin),r.cesium3DTilesInspector.container.style.display="none",r.cesium3DTilesInspector.viewModel.picking=!1,n._viewer.xbsjExtensions22=n;var o=n.disposeVar((0,d.createNextAnimateFrameEvent)(p.SceneObject.context.environmentVariablesChanged,n._needClassicNavigator.changed)),i=n.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return c(n,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return this._classicNavigator.value?[3,3]:f.viewerCesiumNavigationMixin?[3,2]:(t=p.SceneObject.context.getStrFromEnv("${xe2-assets-script-dir}/xe2-assets/scene-manager/navigator/standalone/viewerCesiumNavigationMixin.js"),console.log("正在加载".concat(t)),[4,e.promise((0,d.loadJs)(t))]);case 1:n.sent(),n.label=2;case 2:f.viewerCesiumNavigationMixin||console.error("Navigation插件的js文件已加载，但是仍然没有Cesium.viewerCesiumNavigationMixin！"),this._classicNavigator.value=new g.ClassicNavigator(this._viewer),n.label=3;case 3:return[2]}}))}))}))),a=function(){n._classicNavigator.value||(i.isRunning&&i.cancel(),n._needClassicNavigator.value&&i.restart())};return a(),n.dispose(o.disposableOn(a)),n}return o(t,e),Object.defineProperty(t.prototype,"interactionUseBubble",{get:function(){return this._interactionUseBubble},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interaction",{get:function(){return this.interactionUseBubble},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interactionUseCapture",{get:function(){return this._interactionUseCapture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poiContext",{get:function(){return this._poiContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraChanged",{get:function(){return this._cameraChanged.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickingManager",{get:function(){return this._pickingManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageriesManager",{get:function(){return this._imageriesManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"terrainManager",{get:function(){return this._terrainManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorInfo",{get:function(){return this._cursorInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classicNavigator",{get:function(){return this._classicNavigator.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classicNavigatorChanged",{get:function(){return this._classicNavigator.changed},enumerable:!1,configurable:!0}),t.prototype.needClassicNavigator=function(){this._needClassicNavigator.value=!0},Object.defineProperty(t.prototype,"cursorPositionInfo",{get:function(){return this._cursorPositionInfo},enumerable:!1,configurable:!0}),t}(d.Destroyable);t.ViewerExtensions=P},12798:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerInstance=void 0;var l=n(61556),c=n(50859),u=n(80468),p=n(51355),f=n(61546),d=n(59645),h=s(n(81557)),y=n(41875),g=n(95315),m=n(3695),v=n(12969),b=n(55563),_=function(e){function t(n,r){var i=e.call(this)||this;i._czmViewer=n,i._viewer=r,i._localBoxSourcesInit=i.disposeVar(new d.ObjResettingWithEvent(i._czmViewer.xbsjLocalBoxSourcesChanged,(function(){if(i._czmViewer.xbsjLocalBoxSources){var e=(0,m.getCzmSceneSkyBoxSources)(i._czmViewer.xbsjLocalBoxSources);if(e)return new t.LocalSkyBoxResetting(i._czmViewer,i._viewer,e)}}))),i._backgroundImageInit=i.disposeVar(new d.ObjResettingWithEvent(i._czmViewer.xbsjUseBackgroundChanged,(function(){if(i._czmViewer.xbsjUseBackground)return new t.BackGroundResetting(i._czmViewer,i._viewer)}))),i._firstPersonController=i.disposeVar(new c.FirstPersonController(i)),i._firstPersonControllerInit=function(){i.dispose(i._czmViewer.interaction.keyDownEvent.disposableOn((function(e){return i._firstPersonController.keyboardCameraController.keyDown(e)}))),i.dispose(i._czmViewer.interaction.keyUpEvent.disposableOn((function(e){return i._firstPersonController.keyboardCameraController.keyUp(e)})));var e=i._czmViewer.subContainer;if(!e)throw new Error("_firstPersonControllerInit error!");var t=function(){return i._firstPersonController.keyboardCameraController.abort()};e.addEventListener("blur",t,!1),i.dispose((function(){return e.removeEventListener("blur",t,!1)})),i.dispose((0,p.bind)([i._firstPersonController,"keyboardEnabled"],[i._czmViewer,"firstPersonKeyboardEnabled"])),i.dispose((0,p.bind)([i._firstPersonController,"mouseEnabled"],[i._czmViewer,"firstPersonMouseEnabled"])),i.dispose((0,p.bind)([i._firstPersonController.keyboardCameraController,"speed"],[i._czmViewer,"firstPersonWalkingSpeed"])),i.dispose((0,p.bind)([i._firstPersonController.keyboardCameraController,"rotateSpeed"],[i._czmViewer,"firstPersonRotatingSpeed"])),i.dispose((0,p.bind)([i._firstPersonController.keyboardCameraController,"alwaysWithCamera"],[i._czmViewer,"firstPersonAlwaysWithCamera"])),i.dispose((0,p.bind)([i._firstPersonController.keyboardCameraController,"keyStatusMap"],[i._czmViewer,"firstPersonKeyStatusMap"])),i.dispose(i._czmViewer.firstPersonMouseEnabledChanged.disposableOn((function(){var e;null===(e=i._czmViewer.subContainer)||void 0===e||e.focus()})))}(),i._groundPrimitivesMananger=i.disposeVar(new b.GroundPrimitivesManager(i));var a=i._czmViewer,s=i._viewer,v=s.scene,_=v.screenSpaceCameraController,w=v.globe,P=function(e,t){return(0,u.registerEventUpdate)(i,e,t)},C=y.CzmViewer.defaults,O=function(e,t){return P(a[e+"Changed"],(function(){var n;if(!Reflect.has(a,e))throw new Error("!Reflect.has(czmViewer, ".concat(e,")"));if(!Reflect.has(C,e))throw new Error("!Reflect.has(CzmViewer.defaults, ".concat(e,")"));t(null!==(n=a[e])&&void 0!==n?n:C[e])}))},x=function(e,t){return P(a[e+"Changed"],(function(){if(!Reflect.has(a,e))throw new Error("!Reflect.has(czmViewer, ".concat(e,")"));t(a[e])}))};O("resolutionScale",(function(e){return s.resolutionScale=e})),x("shadows",(function(e){return s.shadows=e})),O("scenePpsfxaaEnabled",(function(e){return v.postProcessStages.fxaa.enabled=e})),x("scenePpsAmbientOcclusionEnabled",(function(e){return v.postProcessStages.ambientOcclusion.enabled=e})),x("scenePpsAmbientOcclusionAmbientOcclusionOnly",(function(e){return v.postProcessStages.ambientOcclusion.uniforms.ambientOcclusionOnly=e})),x("scenePpsAmbientOcclusionIntensity",(function(e){return v.postProcessStages.ambientOcclusion.uniforms.intensity=e})),x("scenePpsAmbientOcclusionBias",(function(e){return v.postProcessStages.ambientOcclusion.uniforms.bias=e})),x("scenePpsAmbientOcclusionLengthCap",(function(e){return v.postProcessStages.ambientOcclusion.uniforms.lengthCap=e})),x("scenePpsAmbientOcclusionStepSize",(function(e){return v.postProcessStages.ambientOcclusion.uniforms.stepSize=e})),x("scenePpsAmbientOcclusionBlurStepSize",(function(e){return v.postProcessStages.ambientOcclusion.uniforms.blurStepSize=e})),x("scenePpsBloomEnabled",(function(e){return v.postProcessStages.bloom.enabled=e})),x("scenePpsBloomGlowOnly",(function(e){return v.postProcessStages.bloom.uniforms.glowOnly=e})),x("scenePpsBloomContrast",(function(e){return v.postProcessStages.bloom.uniforms.contrast=e})),x("scenePpsBloomBrightness",(function(e){return v.postProcessStages.bloom.uniforms.brightness=e})),x("scenePpsBloomDelta",(function(e){return v.postProcessStages.bloom.uniforms.delta=e})),x("scenePpsBloomSigma",(function(e){return v.postProcessStages.bloom.uniforms.sigma=e})),x("scenePpsBloomStepSize",(function(e){return v.postProcessStages.bloom.uniforms.stepSize=e})),O("sceneGlobeShow",(function(e){return v.globe.show=e})),O("sceneGlobeDepthTestAgainstTerrain",(function(e){return v.globe.depthTestAgainstTerrain=e})),O("sceneGlobeEnableLighting",(function(e){return v.globe.enableLighting=e})),O("sceneGlobeShadows",(function(e){return v.globe.shadows=h.ShadowMode[null!=e?e:"RECEIVE_ONLY"]})),x("sceneGlobeTerrainExaggeration",(function(e){return v.globe.terrainExaggeration=e})),x("sceneGlobeTerrainExaggerationRelativeHeight",(function(e){return v.globe.terrainExaggerationRelativeHeight=e})),x("sceneGlobeVerticalExaggeration",(function(e){return v.globe.verticalExaggeration=e})),x("sceneGlobeVerticalExaggerationRelativeHeight",(function(e){return v.globe.verticalExaggerationRelativeHeight=e})),x("sceneGlobeBackFaceCulling",(function(e){return v.globe.backFaceCulling=e})),x("sceneGlobeShowSkirts",(function(e){return v.globe.showSkirts=e})),x("sceneGlobeShowWaterEffect",(function(e){return v.globe.showWaterEffect=e})),x("sceneGlobeBaseColor",(function(e){return v.globe.baseColor=(0,l.toColor)(e)})),x("sceneGlobeCartographicLimitRectangle",(function(e){return v.globe.cartographicLimitRectangle=(0,l.toRectangle)(e)})),x("sceneGlobeClippingPlanes",(function(e){v.globe.clippingPlanes?(0,g.setClippingPlaneCollection)(v.globe.clippingPlanes,e):v.globe.clippingPlanes=(0,g.createClippingPlaneCollection)(null!=e?e:{enabled:!1})})),O("sceneSunShow",(function(e){return v.sun.show=e})),O("sceneSunGlowFactor",(function(e){return v.sun.glowFactor=e})),O("sceneMoonShow",(function(e){return v.moon.show=e})),O("sceneMoonOnlySunLighting",(function(e){return v.moon.onlySunLighting=e})),O("sceneMoonTextureUrl",(function(e){return v.moon.textureUrl=d.SceneObject.context.getStrFromEnv(e)})),x("sceneSkyBoxShow",(function(e){return v._xbsjOriginSkyBox.show=e})),O("sceneSkyBoxSources",(function(e){return v._xbsjOriginSkyBox.sources=e&&(0,m.getCzmSceneSkyBoxSources)(e)})),x("sceneSkyAtmosphereShow",(function(e){return s.scene._xbsjOriginSkyAtmosphere.show=e})),x("sceneBackgroundColor",(function(e){return s.scene.backgroundColor=(0,l.toColor)(e)})),O("sceneFogEnabled",(function(e){return v.fog.enabled=e})),O("sceneFogDensity",(function(e){return v.fog.density=e})),O("sceneFogScreenSpaceErrorFactor",(function(e){return v.fog.screenSpaceErrorFactor=e})),O("sceneFogMinimumBrightness",(function(e){return v.fog.minimumBrightness=e})),O("sceneDebugShowFramesPerSecond",(function(e){return v.debugShowFramesPerSecond=e})),O("sceneDebugShowCommands",(function(e){return v.debugShowCommands=e})),O("sceneDebugShowFrustums",(function(e){return v.debugShowFrustums=e})),O("sceneDebugShowFrustumPlanes",(function(e){return v.debugShowFrustumPlanes=e})),O("sceneDebugShowDepthFrustum",(function(e){return v.debugShowDepthFrustum=e})),O("sceneGlobeUndergroundColor",(function(e){return w.undergroundColor=(0,l.toColor)(e)})),O("sceneGlobeUndergroundColorAlphaByDistance",(function(e){return w.undergroundColorAlphaByDistance=(0,l.toNearFarScalar)(e)})),O("sceneGlobeTranslucencyEnabled",(function(e){return w.translucency.enabled=e})),O("sceneGlobeTranslucencyBackFaceAlpha",(function(e){return w.translucency.backFaceAlpha=e})),O("sceneGlobeTranslucencyBackFaceAlphaByDistance",(function(e){return w.translucency.backFaceAlphaByDistance=e&&(0,l.toNearFarScalar)(e)})),O("sceneGlobeTranslucencyFrontFaceAlpha",(function(e){return w.translucency.frontFaceAlpha=e})),x("sceneGlobeTranslucencyFrontFaceAlphaByDistance",(function(e){return w.translucency.frontFaceAlphaByDistance=e&&(0,l.toNearFarScalar)(e)})),O("sceneGlobeTranslucencyRectangle",(function(e){return w.translucency.rectangle=(0,l.toRectangle)(e)})),O("sceneSplitPosition",(function(e){return v.splitPosition=(0,f.clamp)(e,0,1)})),P(a.disabledInputStackChanged,(function(){var e=0===a.disabledInputStack;_.enableInputs=e,_.enableTranslate=e,_.enableZoom=e,_.enableRotate=e,_.enableTilt=e,_.enableLook=e}));var S=function(e){function t(){var t=e.call(this)||this;return a.incrementDisabledInputStack(),t.dispose((function(){return a.decrementDisabledInputStack()})),t}return o(t,e),t}(p.Destroyable);i.disposeVar(new d.ObjResettingWithEvent(a.sceneSsccEnableInputsChanged,(function(){var e;return null===(e=a.sceneSsccEnableInputs)||void 0===e||e?void 0:new S}))),O("sceneSsccEnableCollisionDetection",(function(e){return v.screenSpaceCameraController.enableCollisionDetection=e})),O("sceneSsccZoomFactor",(function(e){return v.screenSpaceCameraController._zoomFactor=e})),x("sceneCameraFrustumFov",(function(e){"fov"in v.camera.frustum&&(v.camera.frustum.fov=h.Math.toRadians(e))})),(E=function(){var e;s.cesiumInspector&&(s.cesiumInspector.container.style.display=null!==(e=a.showCesiumInspector)&&void 0!==e&&e?"block":"none")})(),i.dispose(a.showCesiumInspectorChanged.disposableOn(E)),O("cesiumInspectorWireframe",(function(e){"cesiumInspector"in s&&(s.cesiumInspector.viewModel.wireframe=e)}));var E,j=i.disposeVar(new l.CzmCameraChanged(s.scene));i.dispose(j.changed.disposableOn((function(){a.cameraChanged.emit()}))),(E=function(){var e;s.cesium3DTilesInspector&&(s.cesium3DTilesInspector.container.style.display=null!==(e=a.showCesium3DTilesInspector)&&void 0!==e&&e?"block":"none")})(),i.dispose(a.showCesium3DTilesInspectorChanged.disposableOn(E));var T=new h.SunLight,M=new h.DirectionalLight({direction:s.scene.camera.directionWC}),A=function(e){function t(){var t,n=this;n=e.call(this)||this;var r=null!==(t=a.flashLighting)&&void 0!==t&&t;return s.scene.light=r?M:T,r&&n.dispose(s.scene.preRender.addEventListener((function(e,t){M.direction=h.Cartesian3.clone(e.camera.directionWC,e.light.direction)}))),n}return o(t,e),t}(p.Destroyable);i.disposeVar(new d.ObjResettingWithEvent(a.flashLightingChanged,(function(){return new A})));var I=h.getTimestamp(),z=0;return i.dispose(s.scene.preUpdate.addEventListener((function(){var e=h.getTimestamp();z++;var t=e-I;t>1e3&&(a._fps.value=1e3*z/t|0,I=e,z=0)}))),i}return o(t,e),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this._firstPersonController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groundPrimitivesMananger",{get:function(){return this._groundPrimitivesMananger},enumerable:!1,configurable:!0}),t.LocalSkyBoxResetting=function(e){function t(t,n,r){var o=e.call(this)||this;o._czmViewer=t,o._viewer=n,o._sources=r,o._skyAtmosphere=new v.SkyAtmosphere(void 0,o._sources);var i=o._viewer;i.scene.skyAtmosphere=o._skyAtmosphere,o.dispose((function(){return i.scene.skyAtmosphere=i.scene._xbsjOriginSkyAtmosphere}));var a=function(){o._skyAtmosphere.show=o._czmViewer.sceneSkyAtmosphereShow};return a(),o.dispose(o._czmViewer.sceneSkyAtmosphereShowChanged.disposableOn(a)),o}return o(t,e),Object.defineProperty(t.prototype,"skyAtmosphere",{get:function(){return this._skyAtmosphere},enumerable:!1,configurable:!0}),t}(p.Destroyable),t.BackGroundResetting=function(e){function t(t,n){var r=e.call(this)||this;r._czmViewer=t,r._viewer=n,r._backgroundImage=new l.BackGroundImage,r._backgroundImageInit=r._backgroundImage.material=h.Material.fromType("Image");var o,i=r._viewer;return i.scene.skyBox=r._backgroundImage,r.dispose((function(){return i.scene.skyBox=i.scene._xbsjOriginSkyBox})),(o=function(){r._backgroundImage.show=r._czmViewer.sceneSkyBoxShow})(),r.dispose(r._czmViewer.sceneSkyBoxShowChanged.disposableOn(o)),(o=function(){r._backgroundImage.material.uniforms.color=(0,l.toColor)(r._czmViewer.xbsjBackgroundColor)})(),r.dispose(r._czmViewer.xbsjBackgroundColorChanged.disposableOn(o)),(o=function(){r._backgroundImage.material.uniforms.image=d.SceneObject.context.getStrFromEnv(r._czmViewer.xbsjBackgroundImageUri)})(),r.dispose(r._czmViewer.xbsjBackgroundImageUriChanged.disposableOn(o)),r}return o(t,e),t}(p.Destroyable),t}(p.Destroyable);t.ViewerInstance=_},80644:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerLegend=void 0;var l=n(51355),c=n(25590),u=n(5851),p=n(59645),f=function(e){function t(t){var n=e.call(this)||this;n._czmViewer=t,n._enabled=n.disposeVar((0,l.react)(!0)),n._resolution=n.disposeVar((0,l.react)(void 0)),n._center=n.disposeVar((0,l.react)(void 0)),n._zoom=n.disposeVar((0,l.react)(void 0)),n._legend=n.disposeVar(new c.Legend);var r=n.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){var t,n,r,o,i,l,c;return a(this,(function(a){switch(a.label){case 0:t=void 0,n=void 0,r=void 0,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,e.promise((0,p.sleep)(1e3))];case 2:return a.sent(),[4,e.promise((0,u.getCenterResolution)(this._czmViewer))];case 3:return(o=a.sent())?(i=s(o,2),l=i[0],c=i[1],t=l,n=(0,u.getZoomFromResolution)(l),r=c,[3,5]):[3,6];case 4:return a.sent(),[3,6];case 5:a.label=6;case 6:return this._resolution.value=t,this._zoom.value=n,this._center.value=r,[2]}}))}))})));r.restart(),(o=function(){n.enabled?r.restart():r.cancel()})();var o,f=n.disposeVar((0,l.createNextAnimateFrameEvent)(n._czmViewer.cameraChanged,n.enabledChanged));return n.dispose(f.disposableOn(o)),(o=function(){n._legend.resolution=n.resolution})(),n.dispose(n.resolutionChanged.disposableOn(o)),n}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution.value},set:function(e){this._resolution.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolutionChanged",{get:function(){return this._resolution.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this._center.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerChanged",{get:function(){return this._center.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoomChanged",{get:function(){return this._zoom.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.ViewerLegend=f},63203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCesiumViewerFuncSample=void 0,t.createCesiumViewerFuncSample='\n####  示例代码1\n```\nasync function initCesiumViewer(container, czmViewer) {\n    const viewer = await XE2.g.defaultCreateCesiumViewerFunc(container, czmViewer);\n\n    // 若原Czm版权信息展示位置遮挡重要信息，可将以下语句解注释，在别的位置展示\n    viewer._cesiumWidget._creditContainer.style.display = "none";\n\n    return viewer;\n}\n```\n\n#### 示例代码2\n```\nasync function initCesiumViewer(container, czmViewer) {\n    // 使用离线地图，创建viewer\n    const viewer = new Cesium.Viewer(container, {\n        // imageryProvider: provider,\n        // imageryProvider: new Cesium.TileMapServiceImageryProvider({\n        //     url: Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII"),\n        // }),\n        animation: false,\n        baseLayerPicker: false,\n        fullscreenButton: false,\n        geocoder: false,\n        homeButton: false,\n        infoBox: false,\n        sceneModePicker: false,\n        selectionIndicator: false,\n        timeline: false,\n        navigationHelpButton: false,\n        navigationInstructionsInitiallyVisible: false,\n        scene3DOnly: true,\n        // @ts-ignore\n        msaaSamples: czmViewer.msaaSamples,\n    });\n\n    // 不知道从哪个版本开始，Cesium默认会增加Ion影像！\n    viewer.imageryLayers.removeAll();\n\n    viewer.clock.currentTime = Cesium.JulianDate.fromDate(new Date(\'2022-04-19T20:00:53.10067292911116965Z\'));\n\n    // 原始设置\n    // scene.screenSpaceCameraController.lookEventTypes = { eventType : CameraEventType.LEFT_DRAG, modifier : KeyboardEventModifier.SHIFT };\n    // scene.screenSpaceCameraController.zoomEventTypes = [CameraEventType.RIGHT_DRAG, CameraEventType.WHEEL, CameraEventType.PINCH]\n    // this._originLookEventTypes = scene.screenSpaceCameraController.lookEventTypes;\n    // this._originZoomEventTypes = scene.screenSpaceCameraController.zoomEventTypes;\n    viewer.scene.screenSpaceCameraController.lookEventTypes = [{ eventType: Cesium.CameraEventType.RIGHT_DRAG }, { eventType: Cesium.CameraEventType.RIGHT_DRAG, modifier: Cesium.KeyboardEventModifier.SHIFT }];\n    viewer.scene.screenSpaceCameraController.zoomEventTypes = [Cesium.CameraEventType.WHEEL, Cesium.CameraEventType.PINCH]\n\n    // 去除系统默认事件\n    viewer.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK);\n    viewer.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n\n    // 若原Czm版权信息展示位置遮挡重要信息，可将以下语句解注释，在别的位置展示\n    viewer._cesiumWidget._creditContainer.style.display = "none";\n\n    // bloom设置\n    // const bloom = viewer.scene.postProcessStages.bloom;\n    // bloom.enabled = true;\n    // bloom.glowOnly = false;\n    // bloom.contrast = 119;\n    // bloom.brightness = -0.4;\n    // bloom.delta = 0.9;\n    // bloom.sigma = 3.78;\n    // bloom.stepSize = 5;\n    // bloom.isSelected = false;\n\n    // 去掉天空环境\n    // viewer.scene.skyAtmosphere.show = false;\n\n    return viewer;\n}\n```\n'},12805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCreateCesiumViewerFuncStr=void 0,t.defaultCreateCesiumViewerFuncStr='async function initCesiumViewer(container, czmViewer) {\n    const viewer = await XE2.g.defaultCreateCesiumViewerFunc(container, czmViewer);\n\n    // 若原Czm版权信息展示位置遮挡重要信息，可将以下语句解注释，在别的位置展示\n    viewer._cesiumWidget._creditContainer.style.display = "none";\n\n    return viewer;\n}\n'},23582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCesiumIonToken=void 0,t.getCesiumIonToken=function(){var e="https://gitee.com/mirrors/CesiumJS/blob/main/packages/engine/Source/Core/Ion.js#L7",t="    因浏览器同源策略限制，需要用户自行打开网址获取最新的token，点击确定自动打开网址，请不要拦截！\n    github地址：".concat("https://github.com/CesiumGS/cesium/blob/main/packages/engine/Source/Core/Ion.js#L7","\n    gitee地址：").concat(e,"\n    ");console.log(t);var n=window.prompt(t,e);n&&window.open(n,"_blank")}},3695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCzmSceneSkyBoxSources=void 0;var r=n(59645);t.getCzmSceneSkyBoxSources=function(e){var t=e.positiveX,n=e.negativeX,o=e.positiveY,i=e.negativeY,a=e.positiveZ,s=e.negativeZ;if(t&&n&&o&&i&&a&&s)return{positiveX:r.SceneObject.context.getStrFromEnv(t),negativeX:r.SceneObject.context.getStrFromEnv(n),positiveY:r.SceneObject.context.getStrFromEnv(o),negativeY:r.SceneObject.context.getStrFromEnv(i),positiveZ:r.SceneObject.context.getStrFromEnv(a),negativeZ:r.SceneObject.context.getStrFromEnv(s)};console.warn("sceneSkyBoxSources的信息不全，无法设置skybox！")}},41875:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewer=void 0;var d=n(80468),h=n(51355),y=n(59645),g=l(n(81557)),m=n(61556),v=n(50859),b=n(61546),_=n(86003),w=n(39341),P=n(74602),C=n(26072),O=n(12798),x=n(63203),S=n(35648),E=n(12805),j=n(23582),T=n(80644),M=n(44675);c(n(26072),t),c(n(50859),t),d.SceneObject.context.setEnv("czm-path",g.buildModuleUrl("").slice(0,-1)),XE2.g.defaultCreateCesiumViewerFunc=S.defaultCreateCesiumViewerFunc;var A=function(e){function t(t,n){var r=e.call(this)||this;return r._czmViewer=t,r._czmClippingPlanes=n,r.dispose((0,h.track)([r._czmViewer,"sceneGlobeClippingPlanes"],[r._czmClippingPlanes,"computedClippingPlanes"])),r.dispose((function(){return r._czmViewer.sceneGlobeClippingPlanes=void 0})),r}return o(t,e),t}(h.Destroyable),I=function(e){function t(n,r){var o=e.call(this,n)||this;o._sceneObjectsMap=new Map,o._viewer=o.disposeVar((0,h.react)(void 0)),o._fps=o.disposeVar((0,h.react)(0)),o._disabledInputStack=o.disposeVar((0,h.react)(0)),o._createCesiumViewerFuncReact=o.disposeVar((0,h.react)(void 0)),o._cameraChanged=o.disposeVar(new h.Event),o._viewerLegend=o.disposeVar(new T.ViewerLegend(o)),o._clippingPlanesSceneObjectWithId=o.disposeVar(new y.SceneObjectWithId),o._clippingPlanesSceneObjectWithIdInit=o.dispose((0,h.track)([o._clippingPlanesSceneObjectWithId,"id"],[o,"sceneGlobeClippingPlanesId"])),o._clippingPlanesIdResetting=o.disposeVar(new d.ObjResettingWithEvent(o._clippingPlanesSceneObjectWithId.sceneObjectChanged,(function(){var e=o._clippingPlanesSceneObjectWithId.sceneObject;if(e&&"computedClippingPlanes"in e&&"computedClippingPlanesChanged"in e)return new A(o,e)}))),o._viewerInstance=o.disposeVar(new d.ObjResettingWithEvent(o.viewerChanged,(function(){if(o.viewer)return new O.ViewerInstance(o,o.viewer)})));var i=o.disposeVar(new y.ObjResetting((function(e){if(o.setStaus("Raw"),o.subContainer&&!e)return new P.ViewerCreating(o.subContainer,o,(function(e){return o._viewer.value=e}))}))),a=o.disposeVar((0,h.createNextAnimateFrameEvent)(o.subContainerChanged,o.createCesiumViewerFuncChanged,o.msaaSamplesChanged));o.dispose(a.disposableOn((function(){return i.reset(!1)})));var s,l=function(){return i.reset(!0)};return o.dispose(o.subContainerChanged.disposableOn(l)),o.dispose(o.createCesiumViewerFuncChanged.disposableOn(l)),o.dispose(o.msaaSamplesChanged.disposableOn(l)),o.dispose(o.viewerChanged.disposableOn((function(e){var t,n,r,i;try{for(var a=u(o._sceneObjectsMap.entries()),s=a.next();!s.done;s=a.next()){var l=p(s.value,2),c=l[0];(h=l[1])&&(h.destroy(),o._sceneObjectsMap.set(c,void 0))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}if(e)try{for(var f=u(o._sceneObjectsMap.entries()),d=f.next();!d.done;d=f.next()){var h,y=p(d.value,2);if(c=y[0],!(h=y[1])){var g=w.CzmObject.context.createObject(c,o);g&&o._sceneObjectsMap.set(c,g)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}))),o.dispose((function(){return o.container=void 0})),r&&(o.devTags=r),(s=function(){var e,n=null!==(e=t.latestDefaultAccessToken)&&void 0!==e?e:t.currentDefaultAccessToken;g.Ion.defaultAccessToken=""===o.ionAccessToken?n:o.ionAccessToken})(),o.dispose(o.ionAccessTokenChanged.disposableOn(s)),(s=function(){try{o.createCesiumViewerFunc=o.createCesiumViewerFuncStr&&Function('"use strict";return ('.concat(o.createCesiumViewerFuncStr,")"))()||void 0}catch(e){console.warn("createCesiumViewerFunc属性无法适用。。将自动适用内置创建函数来创建Cesium.Viewer。"),o.createCesiumViewerFunc=void 0}})(),o.dispose(o.createCesiumViewerFuncStrChanged.disposableOn(s)),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return"CzmViewer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectsMap",{get:function(){return this._sceneObjectsMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjects",{get:function(){return this._sceneObjectsMap.keys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewerChanged",{get:function(){return this._viewer.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this.viewer&&(0,C.getViewerExtensions)(this.viewer)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fpsChanged",{get:function(){return this._fps.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t,"latestDefaultAccessToken",{get:function(){return t._latestDefaultAccessToken.value},set:function(e){t._latestDefaultAccessToken.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"latestDefaultAccessTokenChanged",{get:function(){return t._latestDefaultAccessToken.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledInputStack",{get:function(){return this._disabledInputStack.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledInputStackChanged",{get:function(){return this._disabledInputStack.changed},enumerable:!1,configurable:!0}),t.prototype.incrementDisabledInputStack=function(){++this._disabledInputStack.value},t.prototype.decrementDisabledInputStack=function(){--this._disabledInputStack.value},Object.defineProperty(t.prototype,"createCesiumViewerFunc",{get:function(){return this._createCesiumViewerFuncReact.value},set:function(e){this._createCesiumViewerFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createCesiumViewerFuncChanged",{get:function(){return this._createCesiumViewerFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmPickedEvent",{get:function(){return this.nativePickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraChanged",{get:function(){return this._cameraChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewerLegend",{get:function(){return this._viewerLegend},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewerInstance",{get:function(){return this._viewerInstance},enumerable:!1,configurable:!0}),t.prototype._add=function(e){if(this.viewer){var t=w.CzmObject.context.createObject(e,this);this._sceneObjectsMap.set(e,t)}else this._sceneObjectsMap.set(e,void 0)},t.prototype._delete=function(e){if(this._sceneObjectsMap.has(e)){var t=this._sceneObjectsMap.get(e);t&&t.destroy(),this._sceneObjectsMap.delete(e)}},t.prototype.add=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e.prototype.add.apply(this,f([],p(r),!1));try{for(var i=u(r),a=i.next();!a.done;a=i.next()){var s=a.value;this._add(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.delete=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{for(var i=u(r),a=i.next();!a.done;a=i.next()){var s=a.value;this._delete(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.prototype.delete.apply(this,f([],p(r),!1))},t.prototype.has=function(e){return this._sceneObjectsMap.has(e)},t.prototype.getCzmObject=function(e){return this._sceneObjectsMap.get(e)},t.prototype.getProperties=function(){var n=this,r=t.defaults;return f(f([],p(e.prototype.getProperties.call(this)),!1),[new d.GroupProperty("通用","通用",[new d.EvalStringProperty("CesiumViewer创建函数","CesiumViewer创建函数",!0,!1,[this,"createCesiumViewerFuncStr"],E.defaultCreateCesiumViewerFuncStr,x.createCesiumViewerFuncSample),new d.FunctionProperty("获取官方token","获取官方token",[],(function(){return t.getCesiumIonToken()}),[]),new d.FunctionProperty("当前token","重置为当前使用的Cesium版本的token",[],(function(){return n.setCurrentDefaultAccessToken()}),[]),new d.FunctionProperty("最新token","重置为当前Cesium官方的最新token",[],(function(){return n.setLatestDefaultAccessToken()}),[]),new d.StringProperty("ionAccessToken","ionAccessToken",!1,!1,[this,"ionAccessToken"]),new d.BooleanProperty("头顶灯","设置为头顶灯，false时为太阳光",!0,!1,[this,"flashLighting"])]),new d.GroupProperty("Viewer","Viewer",[new d.NumberProperty("分辨率比率","分辨率比率",!0,!1,[this,"resolutionScale"],r.resolutionScale),new d.NumberProperty("msaaSamples","msaaSamples",!0,!1,[this,"msaaSamples"],r.msaaSamples),new d.BooleanProperty("shadows","shadows",!1,!1,[this,"shadows"]),new d.NumberProperty("时钟","时钟",!1,!1,[this,"clockCurrentTime"]),new d.GroupProperty("比例尺","比例尺(Legend)",[new d.NumberProperty("resolution","resolution",!0,!0,[this.viewerLegend,"resolution"]),new d.NumberProperty("zoom","zoom",!0,!0,[this.viewerLegend,"zoom"]),new d.Number3Property("center","center",!0,!0,[this.viewerLegend,"center"]),new d.NumberProperty("lengthInPixels","lengthInPixels",!0,!1,[this.viewerLegend.legend,"lengthInPixels"]),new d.NumberProperty("computedLengthInPixels","computedLengthInPixels",!0,!0,[this.viewerLegend.legend,"computedLengthInPixels"]),new d.NumberProperty("computedLengthInMeters","computedLengthInMeters",!0,!0,[this.viewerLegend.legend,"computedLengthInMeters"]),new d.StringProperty("computedLengthInStr","computedLengthInStr",!0,!0,[this.viewerLegend.legend,"computedLengthInStr"])]),new d.GroupProperty("场景","场景(Scene)",[new d.NumberProperty("内部视口分割比例","内部视口分割比例",!0,!1,[this,"sceneSplitPosition"],r.sceneSplitPosition),new d.GroupProperty("Globe","Globe",[new d.BooleanProperty("sceneGlobeShow","sceneGlobeShow",!0,!1,[this,"sceneGlobeShow"],r.sceneGlobeShow),new d.BooleanProperty("sceneGlobeDepthTestAgainstTerrain","sceneGlobeDepthTestAgainstTerrain",!0,!1,[this,"sceneGlobeDepthTestAgainstTerrain"],r.sceneGlobeDepthTestAgainstTerrain),new d.BooleanProperty("sceneGlobeEnableLighting","sceneGlobeEnableLighting",!0,!1,[this,"sceneGlobeEnableLighting"],r.sceneGlobeEnableLighting),new d.EnumProperty("sceneGlobeShadows","sceneGlobeShadows",!0,!1,[this,"sceneGlobeShadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],r.sceneGlobeShadows),new d.NumberProperty("sceneGlobeTerrainExaggeration","sceneGlobeTerrainExaggeration，Cesium1.116废弃",!1,!1,[this,"sceneGlobeTerrainExaggeration"]),new d.NumberProperty("sceneGlobeTerrainExaggerationRelativeHeight","sceneGlobeTerrainExaggerationRelativeHeight，Cesium1.116废弃",!1,!1,[this,"sceneGlobeTerrainExaggerationRelativeHeight"]),new d.NumberProperty("sceneGlobeVerticalExaggeration","sceneGlobeVerticalExaggeration",!1,!1,[this,"sceneGlobeVerticalExaggeration"]),new d.NumberProperty("sceneGlobeVerticalExaggerationRelativeHeight","sceneGlobeVerticalExaggerationRelativeHeight",!1,!1,[this,"sceneGlobeVerticalExaggerationRelativeHeight"]),new d.BooleanProperty("sceneGlobeBackFaceCulling","sceneGlobeBackFaceCulling",!1,!1,[this,"sceneGlobeBackFaceCulling"]),new d.BooleanProperty("sceneGlobeShowSkirts","sceneGlobeShowSkirts",!1,!1,[this,"sceneGlobeShowSkirts"]),new d.BooleanProperty("sceneGlobeShowWaterEffect","sceneGlobeShowWaterEffect",!1,!1,[this,"sceneGlobeShowWaterEffect"]),new d.ColorProperty("sceneGlobeBaseColor","sceneGlobeBaseColor",!1,!1,[this,"sceneGlobeBaseColor"]),new d.Number4Property("sceneGlobeCartographicLimitRectangle","sceneGlobeCartographicLimitRectangle",!1,!1,[this,"sceneGlobeCartographicLimitRectangle"]),new d.JsonProperty("sceneGlobeClippingPlanes","sceneGlobeClippingPlanes",!1,!1,[this,"sceneGlobeClippingPlanes"]),new d.StringProperty("sceneGlobeClippingPlanesId","sceneGlobeClippingPlanesId",!1,!1,[this,"sceneGlobeClippingPlanesId"]),new d.GroupProperty("Underground","Underground",[new d.ColorProperty("sceneGlobeUndergroundColor","sceneGlobeUndergroundColor",!0,!1,[this,"sceneGlobeUndergroundColor"],r.sceneGlobeUndergroundColor),new d.Number4Property("sceneGlobeUndergroundColorAlphaByDistance","sceneGlobeUndergroundColorAlphaByDistance",!0,!1,[this,"sceneGlobeUndergroundColorAlphaByDistance"],r.sceneGlobeUndergroundColorAlphaByDistance)]),new d.GroupProperty("Translucency","Translucency",[new d.BooleanProperty("启用","启用",!0,!1,[this,"sceneGlobeTranslucencyEnabled"],r.sceneGlobeTranslucencyEnabled),new d.NumberProperty("背面透明度","背面透明度",!0,!1,[this,"sceneGlobeTranslucencyBackFaceAlpha"],r.sceneGlobeTranslucencyBackFaceAlpha),new d.Number4Property("背面渐变透明度","背面渐变透明度",!0,!1,[this,"sceneGlobeTranslucencyBackFaceAlphaByDistance"],r.sceneGlobeTranslucencyBackFaceAlphaByDistance),new d.NumberProperty("正面透明度","正面透明度",!0,!1,[this,"sceneGlobeTranslucencyFrontFaceAlpha"],r.sceneGlobeTranslucencyFrontFaceAlpha),new d.Number4Property("正面渐变透明度","正面渐变透明度",!0,!1,[this,"sceneGlobeTranslucencyFrontFaceAlphaByDistance"],r.sceneGlobeTranslucencyFrontFaceAlphaByDistance),new d.Number4Property("矩形范围","矩形范围",!0,!1,[this,"sceneGlobeTranslucencyRectangle"],r.sceneGlobeTranslucencyRectangle)])]),new d.GroupProperty("Sun","Sun",[new d.BooleanProperty("sceneSunShow","sceneSunShow",!0,!1,[this,"sceneSunShow"],r.sceneSunShow),new d.NumberProperty("sceneSunGlowFactor","sceneSunGlowFactor",!0,!1,[this,"sceneSunGlowFactor"],r.sceneSunGlowFactor)]),new d.GroupProperty("Moon","Moon",[new d.BooleanProperty("sceneMoonShow","sceneMoonShow",!0,!1,[this,"sceneMoonShow"],r.sceneMoonShow),new d.StringProperty("sceneMoonTextureUrl","sceneMoonTextureUrl",!0,!1,[this,"sceneMoonTextureUrl"],r.sceneMoonTextureUrl),new d.BooleanProperty("sceneMoonOnlySunLighting","sceneMoonOnlySunLighting",!0,!1,[this,"sceneMoonOnlySunLighting"],r.sceneMoonOnlySunLighting)]),new d.GroupProperty("SkyBox","SkyBox",[new d.BooleanProperty("sceneSkyBoxShow","sceneSkyBoxShow",!1,!1,[this,"sceneSkyBoxShow"]),new d.JsonProperty("sceneSkyBoxSources","sceneSkyBoxSources",!0,!1,[this,"sceneSkyBoxSources"]),new d.GroupProperty("Background","Background",[new d.BooleanProperty("xbsjUseBackground","xbsjUseBackground",!1,!1,[this,"xbsjUseBackground"]),new d.StringProperty("xbsjBackgroundImageUri","xbsjBackgroundImageUri",!1,!1,[this,"xbsjBackgroundImageUri"]),new d.ColorProperty("xbsjBackgroundColor","xbsjBackgroundColor",!1,!1,[this,"xbsjBackgroundColor"])])]),new d.GroupProperty("SkyAtmosphere","SkyAtmosphere",[new d.BooleanProperty("sceneSkyAtmosphereShow","sceneSkyAtmosphereShow",!1,!1,[this,"sceneSkyAtmosphereShow"]),new d.JsonProperty("xbsjLocalBoxSources","xbsjLocalBoxSources",!0,!1,[this,"xbsjLocalBoxSources"],r.xbsjLocalBoxSources)]),new d.ColorProperty("sceneBackgroundColor","sceneBackgroundColor",!1,!1,[this,"sceneBackgroundColor"]),new d.GroupProperty("Fog","Fog",[new d.BooleanProperty("sceneFogEnabled","sceneFogEnabled",!0,!1,[this,"sceneFogEnabled"],r.sceneFogEnabled),new d.NumberProperty("sceneFogDensity","sceneFogDensity",!0,!1,[this,"sceneFogDensity"],r.sceneFogDensity),new d.NumberProperty("sceneFogScreenSpaceErrorFactor","sceneFogScreenSpaceErrorFactor",!0,!1,[this,"sceneFogScreenSpaceErrorFactor"],r.sceneFogScreenSpaceErrorFactor),new d.NumberProperty("sceneFogMinimumBrightness","sceneFogMinimumBrightness",!0,!1,[this,"sceneFogMinimumBrightness"],r.sceneFogMinimumBrightness)]),new d.GroupProperty("Sscc","Sscc",[new d.BooleanProperty("sceneSsccEnableInputs","sceneSsccEnableInputs",!0,!1,[this,"sceneSsccEnableInputs"],r.sceneSsccEnableInputs),new d.BooleanProperty("sceneSsccEnableCollisionDetection","sceneSsccEnableCollisionDetection",!0,!1,[this,"sceneSsccEnableCollisionDetection"],r.sceneSsccEnableCollisionDetection),new d.NumberProperty("sceneSsccZoomFactor","sceneSsccZoomFactor",!0,!1,[this,"sceneSsccZoomFactor"],r.sceneSsccZoomFactor)]),new d.NumberProperty("相机广角","相机广角(sceneCameraFrustumFov)",!1,!1,[this,"sceneCameraFrustumFov"]),new d.GroupProperty("后处理","后处理",[new d.BooleanProperty("开启FXAA","开启FXAA",!0,!1,[this,"scenePpsfxaaEnabled"],r.scenePpsfxaaEnabled),new d.GroupProperty("环境遮蔽","环境遮蔽",[new d.BooleanProperty("Enabled","Enabled",!1,!1,[this,"scenePpsAmbientOcclusionEnabled"]),new d.BooleanProperty("AmbientOcclusionOnly","AmbientOcclusionOnly",!1,!1,[this,"scenePpsAmbientOcclusionAmbientOcclusionOnly"]),new d.NumberProperty("Intensity","Intensity",!1,!1,[this,"scenePpsAmbientOcclusionIntensity"]),new d.NumberProperty("Bias","Bias",!1,!1,[this,"scenePpsAmbientOcclusionBias"]),new d.NumberProperty("LengthCap","LengthCap",!1,!1,[this,"scenePpsAmbientOcclusionLengthCap"]),new d.NumberProperty("StepSize","StepSize",!1,!1,[this,"scenePpsAmbientOcclusionStepSize"]),new d.NumberProperty("BlurStepSize","BlurStepSize",!1,!1,[this,"scenePpsAmbientOcclusionBlurStepSize"])]),new d.GroupProperty("Bloom","Bloom",[new d.BooleanProperty("Enabled","Enabled",!1,!1,[this,"scenePpsBloomEnabled"]),new d.BooleanProperty("GlowOnly","GlowOnly",!1,!1,[this,"scenePpsBloomGlowOnly"]),new d.NumberProperty("Contrast","Contrast",!1,!1,[this,"scenePpsBloomContrast"]),new d.NumberProperty("Brightness","Brightness",!1,!1,[this,"scenePpsBloomBrightness"]),new d.NumberProperty("Delta","Delta",!1,!1,[this,"scenePpsBloomDelta"]),new d.NumberProperty("Sigma","Sigma",!1,!1,[this,"scenePpsBloomSigma"]),new d.NumberProperty("StepSize","StepSize",!1,!1,[this,"scenePpsBloomStepSize"])])]),new d.GroupProperty("调试","调试",[new d.BooleanProperty("sceneDebugShowFramesPerSecond","sceneDebugShowFramesPerSecond",!0,!1,[this,"sceneDebugShowFramesPerSecond"],r.sceneDebugShowFramesPerSecond),new d.BooleanProperty("sceneDebugShowCommands","sceneDebugShowCommands",!0,!1,[this,"sceneDebugShowCommands"],r.sceneDebugShowCommands),new d.BooleanProperty("sceneDebugShowFrustums","sceneDebugShowFrustums",!0,!1,[this,"sceneDebugShowFrustums"],r.sceneDebugShowFrustums),new d.BooleanProperty("sceneDebugShowFrustumPlanes","sceneDebugShowFrustumPlanes",!0,!1,[this,"sceneDebugShowFrustumPlanes"],r.sceneDebugShowFrustumPlanes),new d.NumberProperty("sceneDebugShowDepthFrustum","sceneDebugShowDepthFrustum",!0,!1,[this,"sceneDebugShowDepthFrustum"],r.sceneDebugShowDepthFrustum)])]),new d.GroupProperty("第一人称漫游","第一人称漫游",[new d.BooleanProperty("firstPersonKeyboardEnabled","firstPersonKeyboardEnabled",!1,!1,[this,"firstPersonKeyboardEnabled"]),new d.BooleanProperty("firstPersonMouseEnabled","firstPersonMouseEnabled",!1,!1,[this,"firstPersonMouseEnabled"]),new d.NumberProperty("firstPersonWalkingSpeed","运动速度，m/ms 米/毫秒",!1,!1,[this,"firstPersonWalkingSpeed"]),new d.NumberProperty("firstPersonRotatingSpeed","旋转速度，°/ms 度/毫秒",!1,!1,[this,"firstPersonRotatingSpeed"]),new d.BooleanProperty("firstPersonAlwaysWithCamera","firstPersonAlwaysWithCamera",!1,!1,[this,"firstPersonAlwaysWithCamera"]),new d.JsonProperty("firstPersonKeyStatusMap","firstPersonKeyStatusMap",!1,!1,[this,"firstPersonKeyStatusMap"],void 0,t.firstPersonKeyStatusMapReadMe)]),new d.GroupProperty("Inspector","Inspector",[new d.BooleanProperty("showCesiumInspector","showCesiumInspector",!0,!1,[this,"showCesiumInspector"],r.showCesiumInspector),new d.BooleanProperty("cesiumInspectorWireframe","cesiumInspectorWireframe",!0,!1,[this,"cesiumInspectorWireframe"],r.cesiumInspectorWireframe),new d.BooleanProperty("showCesium3DTilesInspector","showCesium3DTilesInspector",!0,!1,[this,"showCesium3DTilesInspector"],r.showCesium3DTilesInspector)])])],!1)},t.prototype.getCameraInfo=function(){if(this.viewer){var e=this.viewer.camera;return{position:(0,_.getCameraPosition)(e),rotation:(0,_.getCameraRotation)(e)}}},t.prototype.calcFlyToParam=function(e){if(this.getCameraInfo()&&this.viewer){var t=this.viewer.camera;t.positionWC;var n=(0,m.positionToCartesian)(e),r=g.Cartesian3.distance(t.positionWC,n),o=(0,_.getCameraRotation)(t),i=g.Cartesian3.subtract(n,t.positionWC,new g.Cartesian3);g.Cartesian3.normalize(i,i);var a=g.Cartesian3.cross(i,t.upWC,new g.Cartesian3);g.Cartesian3.normalize(a,a);var s=g.Cartesian3.cross(t.upWC,a,new g.Cartesian3);g.Cartesian3.normalize(s,s);var l=Math.acos((0,b.clamp)(g.Cartesian3.dot(s,i),0,1)),c=g.Cartesian3.cross(s,i,new g.Cartesian3);g.Cartesian3.normalize(c,c),g.Cartesian3.dot(a,c)>0&&(l=-l);var u=Math.acos((0,b.clamp)(g.Cartesian3.dot(s,t.directionWC),0,1)),p=g.Cartesian3.cross(s,t.directionWC,new g.Cartesian3);return g.Cartesian3.normalize(p,p),g.Cartesian3.dot(p,t.upWC)<0&&(u=-u),{distance:r,heading:o[0],pitch:o[1],flyDuration:0,hDelta:180*u/Math.PI,pDelta:180*l/Math.PI}}},t.prototype.flyTo=function(e,t,n,r,o,i){var a,s=null===(a=this.viewer)||void 0===a?void 0:a.camera;return s&&(0,_.czmFlyTo)(s,{position:e,viewDistance:t,rotation:n,duration:r,hdelta:o&&-o,pdelta:i})},t.prototype.capture=function(e,t,n){if(this.viewer)return(0,m.capture)(this.viewer.scene,e,t,n);console.warn("当前viewer还未初始化，无法截屏！")},t.prototype.pickGlobePosition=function(e){if(this.viewer)if(Array.isArray(e)&&2===e.length){var t=p(e,2),n=t[0],r=t[1],o=this.viewer.camera.getPickRay(new g.Cartesian2(n,r));if(o){var i=this.viewer.scene.globe.pick(o,this.viewer.scene);if(i){var a=g.Cartographic.fromCartesian(i);return[180*a.longitude/Math.PI,180*a.latitude/Math.PI,a.height]}console.log("this.viewer.scene.globe.pick undefined")}else console.log("this.viewer.camera.getPickRay error")}else console.error("pickPosition error: windowPos is not an array or length is not 2");else console.error("pickPosition error: !this.viewer")},t.prototype.pick=function(e,t){if(this.extensions)if(Array.isArray(e)&&2===e.length){var n=this.extensions.pickingManager;if(n)return n.pick(e,void 0,t)}else console.error("pick error: windowPos is not an array or length is not 2");else console.warn("pick warn: !this.extensions")},t.prototype.pickPosition=function(e){if(this.extensions)if(Array.isArray(e)&&2===e.length){var t=this.extensions.pickingManager;if(t)return t.pickPosition(e)}else console.error("pickPosition error: windowPos is not an array or length is not 2");else console.warn("pick warn: !this.extensions")},t.prototype.quickPickPosition=function(e){if(this.extensions)if(Array.isArray(e)&&2===e.length){var t=this.extensions.pickingManager;if(t)return t.quickPickPosition(e)}else console.error("pickPosition error: windowPos is not an array or length is not 2");else console.warn("pick warn: !this.extensions")},t.prototype.pickEllipsoid=function(e){var t=this.viewer;if(t)if(Array.isArray(e)&&2===e.length){var n=p(e,2),r=n[0],o=n[1],i=t.scene.camera.pickEllipsoid(new g.Cartesian2(r,o),t.scene.globe.ellipsoid);if(i){var a=g.Cartographic.fromCartesian(i);return[180*a.longitude/Math.PI,180*a.latitude/Math.PI,a.height]}console.log("viewer.scene.camera.pickEllipsoid undefined")}else console.error("pickEllipsoid error: windowPos is not an array or length is not 2")},t.prototype.getTerrainHeight=function(e){var n=this.viewer;if(n){var r=g.Cartographic.fromDegrees(e[0],e[1],e[2],t.getHeightsScartchCarto);return n.scene.globe.getHeight(r)}},t.prototype.getViewDistance=function(e){var t=this.getCameraInfo();if(t)return(0,d.cartesianDistance)(t.position,e)},t.prototype.setCurrentDefaultAccessToken=function(){this.ionAccessToken=t.currentDefaultAccessToken},t.prototype.setLatestDefaultAccessToken=function(){if(!t.latestDefaultAccessToken)return alert("Cesium最新的iontoken无法获取！"),void console.error("Cesium最新的iontoken无法获取！");this.ionAccessToken=t.latestDefaultAccessToken},n=t,t.type=n.register("CzmViewer",n,{chsName:"Cesium视口",tags:["CzmViewer"],description:"通过Cesium实现的三维地球视口。"}),t.ObjectsToExcludeWrapper=M.ObjectsToExcludeWrapper,t.defaultCreateCesiumViewerFunc=S.defaultCreateCesiumViewerFunc,t.currentDefaultAccessToken=g.Ion.defaultAccessToken,t._latestDefaultAccessToken=(0,h.react)(void 0),t.getCesiumIonToken=j.getCesiumIonToken,t.defaults=i(i({},d.Viewer.defaults),{flashLighting:!1,resolutionScale:1,msaaSamples:1,sceneSplitPosition:0,sceneGlobeShow:!0,sceneGlobeDepthTestAgainstTerrain:!1,sceneGlobeEnableLighting:!1,sceneGlobeShadows:"RECEIVE_ONLY",sceneGlobeUndergroundColor:[0,0,0,1],sceneGlobeUndergroundColorAlphaByDistance:[6378.137,0,1275627.4,1],sceneGlobeTranslucencyEnabled:!1,sceneGlobeTranslucencyBackFaceAlpha:1,sceneGlobeTranslucencyBackFaceAlphaByDistance:[6378.137,0,1275627.4,1],sceneGlobeTranslucencyFrontFaceAlpha:1,sceneGlobeTranslucencyFrontFaceAlphaByDistance:[6378.137,0,1275627.4,1],sceneGlobeTranslucencyRectangle:[-3.141592653589793,-1.5707963267948966,3.141592653589793,1.5707963267948966].map((function(e){return 180*e/Math.PI})),sceneSunShow:!0,sceneSunGlowFactor:1,sceneMoonShow:!0,sceneMoonTextureUrl:"${czm-path}/Assets/Textures/moonSmall.jpg",sceneMoonOnlySunLighting:!0,sceneSkyBoxSources:{positiveX:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_px.jpg",negativeX:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_mx.jpg",positiveY:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_py.jpg",negativeY:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_my.jpg",positiveZ:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_pz.jpg",negativeZ:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_mz.jpg"},xbsjLocalBoxSources:{positiveX:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/east.jpg",negativeX:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/west.jpg",positiveY:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/bottom.jpg",negativeY:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/top.jpg",positiveZ:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/north.jpg",negativeZ:"${xe2-assets-script-dir}/xe2-assets/scene-manager/images/skybox/south.jpg"},sceneFogEnabled:!0,sceneFogDensity:2e-4,sceneFogScreenSpaceErrorFactor:2,sceneFogMinimumBrightness:.03,sceneSsccEnableInputs:!0,sceneSsccEnableCollisionDetection:!0,sceneSsccZoomFactor:5,scenePpsfxaaEnabled:!0,sceneDebugShowFramesPerSecond:!1,sceneDebugShowCommands:!1,sceneDebugShowFrustums:!1,sceneDebugShowFrustumPlanes:!1,sceneDebugShowDepthFrustum:1,showCesiumInspector:!1,cesiumInspectorWireframe:!1,showCesium3DTilesInspector:!1,clockCurrentTime:g.JulianDate.toDate(g.JulianDate.now()).getTime()}),t.firstPersonKeyStatusMapReadMe='\n    # keyCode\n    按键Code可以参见这里:  \n    https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/code  \n    # CameraActionType \n    相机动作类型目前定义有以下若干种： \n    WithCamera / MoveForward / MoveBackword / MoveRight / MoveLeft / MoveUp / MoveDown / SpeedUp / SpeedDown / SwitchAlwaysWithCamera /  \n    # 示例代码\n    ```\n    {\n        "ShiftLeft": "WithCamera",\n        "ShiftRight": "WithCamera",\n        "KeyW": "MoveForward",\n        "KeyS": "MoveBackword",\n        "KeyA": "MoveLeft",\n        "KeyD": "MoveRight",\n        "ArrowUp": "MoveForward",\n        "ArrowDown": "MoveBackword",\n        "ArrowLeft": "MoveLeft",\n        "ArrowRight": "MoveRight",\n        "KeyR": "SpeedUp",\n        "KeyF": "SpeedDown",\n        "KeyQ": "SwitchAlwaysWithCamera"\n    }\n    ```\n    ',t.getHeightsScartchCarto=new g.Cartographic,t}(d.Viewer);t.CzmViewer=I,function(e){e.createDefaultProps=function(){return i(i({},d.Viewer.createDefaultProps()),{createCesiumViewerFuncStr:void 0,ionAccessToken:"",flashLighting:void 0,resolutionScale:void 0,msaaSamples:void 0,shadows:!1,sceneSplitPosition:void 0,sceneGlobeShow:void 0,sceneGlobeDepthTestAgainstTerrain:void 0,sceneGlobeEnableLighting:void 0,sceneGlobeShadows:void 0,sceneGlobeTerrainExaggeration:1,sceneGlobeTerrainExaggerationRelativeHeight:0,sceneGlobeVerticalExaggeration:1,sceneGlobeVerticalExaggerationRelativeHeight:0,sceneGlobeBackFaceCulling:!0,sceneGlobeShowSkirts:!0,sceneGlobeShowWaterEffect:!0,sceneGlobeBaseColor:(0,h.reactArray)([0,0,1,0]),sceneGlobeCartographicLimitRectangle:(0,h.reactArray)([-180,-90,180,90]),sceneGlobeClippingPlanes:(0,h.reactJson)(void 0),sceneGlobeClippingPlanesId:"",sceneGlobeUndergroundColor:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeUndergroundColorAlphaByDistance:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeTranslucencyEnabled:void 0,sceneGlobeTranslucencyBackFaceAlpha:void 0,sceneGlobeTranslucencyBackFaceAlphaByDistance:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeTranslucencyFrontFaceAlpha:void 0,sceneGlobeTranslucencyFrontFaceAlphaByDistance:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeTranslucencyRectangle:(0,h.reactArrayWithUndefined)(void 0),sceneSunShow:void 0,sceneSunGlowFactor:void 0,sceneMoonShow:void 0,sceneMoonTextureUrl:void 0,sceneMoonOnlySunLighting:void 0,sceneSkyBoxShow:!0,sceneSkyBoxSources:(0,h.reactJson)(e.defaults.sceneSkyBoxSources),xbsjUseBackground:!1,xbsjBackgroundImageUri:"",xbsjBackgroundColor:(0,h.reactArray)([1,1,1,1]),sceneSkyAtmosphereShow:!0,xbsjLocalBoxSources:(0,h.reactJsonWithUndefined)(void 0),sceneBackgroundColor:(0,h.reactArray)([0,0,0,0]),sceneFogEnabled:void 0,sceneFogDensity:void 0,sceneFogScreenSpaceErrorFactor:void 0,sceneFogMinimumBrightness:void 0,sceneSsccEnableInputs:void 0,sceneSsccEnableCollisionDetection:void 0,sceneSsccZoomFactor:void 0,sceneCameraFrustumFov:90,scenePpsfxaaEnabled:void 0,scenePpsAmbientOcclusionEnabled:!1,scenePpsAmbientOcclusionAmbientOcclusionOnly:!1,scenePpsAmbientOcclusionIntensity:3,scenePpsAmbientOcclusionBias:.1,scenePpsAmbientOcclusionLengthCap:.03,scenePpsAmbientOcclusionStepSize:1,scenePpsAmbientOcclusionBlurStepSize:.86,scenePpsBloomEnabled:!1,scenePpsBloomGlowOnly:!1,scenePpsBloomContrast:128,scenePpsBloomBrightness:-.3,scenePpsBloomDelta:1,scenePpsBloomSigma:3.78,scenePpsBloomStepSize:5,sceneDebugShowFramesPerSecond:void 0,sceneDebugShowCommands:void 0,sceneDebugShowFrustums:void 0,sceneDebugShowFrustumPlanes:void 0,sceneDebugShowDepthFrustum:void 0,showCesiumInspector:void 0,cesiumInspectorWireframe:void 0,showCesium3DTilesInspector:void 0,firstPersonKeyboardEnabled:!1,firstPersonMouseEnabled:!1,firstPersonWalkingSpeed:1,firstPersonRotatingSpeed:.01,firstPersonAlwaysWithCamera:!1,firstPersonKeyStatusMap:(0,h.reactJson)(v.KeyboardCameraController.defaultKeyStatusMap),clockCurrentTime:Date.now()})}}(I=t.CzmViewer||(t.CzmViewer={})),t.CzmViewer=I,(0,h.extendClassProps)(I.prototype,I.createDefaultProps)},12346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixForCesium1_83=void 0,t.fixForCesium1_83=function(){try{Cesium.SplitDirection=Cesium.SplitDirection||Cesium.ImagerySplitDirection}catch(e){}}},73086:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(81557)),s=n(61556),l=n(12346);(0,s.fixCameraFlight)(),(0,s.fixCameraLook)(),(0,s.fixDepthPlane)(),(0,l.fixForCesium1_83)(),(0,s.fixGoogleEarth)(),(0,s.fixLocalFile)(),(0,s.fixModelInitialRadius)(),(0,s.fixCesiumForGlobelLevel)(),a.Camera.DEFAULT_VIEW_RECTANGLE=a.Rectangle.fromDegrees(70,5,140,55)},5851:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getZoomFromResolution=t.getCenterResolution=void 0;var u=i(n(81557));t.getCenterResolution=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,i,a,p,f,d,h,y,g,m;return s(this,(function(s){switch(s.label){case 0:return(t=e.viewer)?(n=t.canvas,r=n.width,o=n.height,(i=e.quickPickPosition([.5*r,.5*o]))?[4,i]:[2,void 0]):[2,void 0];case 1:return(a=s.sent())&&(p=(m=u.Cartesian3).fromDegrees.apply(m,c([],l(a),!1)))?(f=t.camera.positionWC,d=t.camera.directionWC,void 0===(h=t.camera.frustum.fovy)?[2,void 0]:(y=t.canvas.height,g=function(e,t,n,r,o){var i=u.Cartesian3.subtract(e,n,new u.Cartesian3),a=u.Cartesian3.dot(i,t);if(!(a<=0))return a*Math.tan(.5*r)*2/o}(p,d,f,h,y),[2,[g,a]])):[2,void 0]}}))}))};var p=2*u.Ellipsoid.WGS84.maximumRadius*Math.PI/512;t.getZoomFromResolution=function(e){return-Math.log2(e/p)}},58354:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(39341),t),o(n(41875),t)},27525:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCityBasePoint=void 0;var l=n(80468),c=n(48941),u=n(80468),p=n(51355),f=n(87824),d={depthTest:{enabled:!0},cull:{enabled:!0,face:1029},blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}},h=function(e){function t(n){var r=e.call(this,n)||this;r._flyToEvent=r.disposeVar(new p.Event),r._pickedEvent=r.disposeVar(new p.Event),r._circleCustomPrimitive=r.disposeVar(new c.CzmCustomPrimitive),r._cylinderCustomPrimitive=r.disposeVar(new c.CzmCustomPrimitive),r._cylinderParticlesCustomPrimitive=r.disposeVar(new c.CzmCustomPrimitive);var o=r.circleCustomPrimitive;r.dispose(r.components.disposableAdd(o)),(0,f.setRectangleGeometry)(o,{width:120,height:120}),o.fragmentShaderSource="\n                in vec2 v_st;\n                uniform vec4 u_color;\n                void main()\n                {\n                    float d = length(v_st);\n                    float movingCircleD = fract(czm_frameNumber / 130.0);\n                    float alpha = step(d, .1) + step(.4, d) * step(d, .45) + step(.9, d) * step(d, 1.) + d * d * step(d, 1.);\n                    alpha += step(movingCircleD, d) * step(d, movingCircleD + .01);\n                    out_FragColor = vec4(u_color.rgb, alpha);\n                }\n            ",o.pass="TRANSLUCENT",o.renderState=d,o.allowPickingDepth=!1;var i=r.cylinderCustomPrimitive;r.dispose(r.components.disposableAdd(i)),(0,f.setCylinderGeometry)(i,{segments:36,startRadius:10,stopRadius:2,height:260}),i.fragmentShaderSource="\n                in vec2 v_st;\n                uniform vec4 u_color;\n                void main()\n                {\n                    float powerRatio = fract(czm_frameNumber / 30.0) + 1.0;\n                    float alpha = pow(1.0 - v_st.t, powerRatio);\n                    out_FragColor = vec4(u_color.rgb, alpha*u_color.a);\n                }\n            ",i.pass="TRANSLUCENT",i.renderState=d,i.allowPickingDepth=!1;var a=r.cylinderParticlesCustomPrimitive;r.dispose(r.components.disposableAdd(a)),(0,f.setCylinderGeometry)(a,{segments:36,startRadius:20,stopRadius:4,height:230}),a.uniformMap={u_color:[1,1,0,2],u_image:{type:"image",uri:t.defaultParticlesImageUri}},a.fragmentShaderSource="\n                in vec2 v_st;\n                uniform sampler2D u_image;\n                uniform vec4 u_color;\n                void main()\n                {\n                    float dt = fract(czm_frameNumber / 90.0);\n                    vec2 st = fract(vec2(1.0) + v_st - vec2(dt, dt));\n                    vec4 imageColor = texture(u_image, st);\n                    out_FragColor = imageColor * u_color;\n                    out_FragColor.a *= smoothstep(1., 0.8, v_st.t);\n                }\n            ",a.pass="TRANSLUCENT",a.renderState=d,a.allowPickingDepth=!1,r.dispose((0,p.track)([o,"show"],[r,"show"])),r.dispose((0,p.track)([i,"show"],[r,"show"])),r.dispose((0,p.track)([a,"show"],[r,"show"])),r.dispose((0,p.track)([o,"position"],[r,"position"])),r.dispose((0,p.track)([i,"position"],[r,"position"])),r.dispose((0,p.track)([a,"position"],[r,"position"]));var s=r.disposeVar((0,l.createPositionEditingRefForComponent)([r,"position"],r.components));r.dispose((0,p.bind)(s,[r,"positionEditing"])),r.dispose((0,p.track)([o,"scale"],[r,"scale"])),r.dispose((0,p.track)([i,"scale"],[r,"scale"])),r.dispose((0,p.track)([a,"scale"],[r,"scale"]));var h={type:"image",uri:t.defaultParticlesImageUri},y=function(){var e,t,n;o.uniformMap={u_color:null!==(e=r.color)&&void 0!==e?e:[1,1,0,2]},i.uniformMap={u_color:null!==(t=r.color)&&void 0!==t?t:[1,1,0,2]},a.uniformMap={u_color:null!==(n=r.color)&&void 0!==n?n:[1,1,0,2],u_image:h}};return y(),r.dispose(r.colorChanged.disposableOn(y)),r.dispose(r.flyToEvent.disposableOn((function(e){i.flyTo(e)}))),r.dispose(o.pickedEvent.disposableOn((function(e){return r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,e))}))),r.dispose(i.pickedEvent.disposableOn((function(e){return r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,e))}))),r.dispose(a.pickedEvent.disposableOn((function(e){return r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,e))}))),r.dispose((0,p.track)([o,"allowPicking"],[r,"allowPicking"])),r.dispose((0,p.track)([i,"allowPicking"],[r,"allowPicking"])),r.dispose((0,p.track)([a,"allowPicking"],[r,"allowPicking"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCityBasePoint"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i(i({},t.createDefaultProps()),g)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleCustomPrimitive",{get:function(){return this._circleCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cylinderCustomPrimitive",{get:function(){return this._cylinderCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cylinderParticlesCustomPrimitive",{get:function(){return this._cylinderParticlesCustomPrimitive},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],!0),new u.PositionProperty("位置","位置",!0,!1,[this,"position"]),new u.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],!1),new u.Number3Property("缩放","缩放",!0,!1,[this,"scale"],[1,1,1]),new u.ColorProperty("颜色","颜色",!0,!1,[this,"color"],[1,1,0,1])])],!1)},n=t,t.type=n.register("CzmCityBasePoint",n,{chsName:"城市基点(Czm)",tags:["CzmObjects","CityObjects","_ES_Impl_Cesium"],description:"城市基点(Czm)"}),t.defaultParticlesImageUri="${xe2-assets-script-dir}/xe2-assets/xe2-objects/city/images/particles.png",t}(u.ESSceneObject);t.CzmCityBasePoint=h;var y={},g=(0,u.getDefaultComponentProps)(y);(0,u.extendComponentProps)(h.prototype,y),function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:void 0,position:(0,p.reactArrayWithUndefined)(void 0),positionEditing:void 0,scale:(0,p.reactArrayWithUndefined)(void 0),color:(0,p.reactArrayWithUndefined)(void 0),allowPicking:void 0})}}(h=t.CzmCityBasePoint||(t.CzmCityBasePoint={})),t.CzmCityBasePoint=h,(0,p.extendClassProps)(h.prototype,h.createDefaultProps)},95637:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCityCylinderBillboard=void 0;var l=n(48941),c=n(80468),u=n(80468),p=n(51355),f=n(59645),d=n(87824),h=function(e){function t(n){var r,o=this;(o=e.call(this,n)||this)._flyToEvent=o.disposeVar(new p.Event),o._pickedEvent=o.disposeVar(new p.Event),o._cylinderCustomPrimitive=o.disposeVar(new l.CzmCustomPrimitive);var i=o.cylinderCustomPrimitive;o.dispose(o.components.disposableAdd(i));var a=function(){var e,t,n=(null!==(e=o.circumference)&&void 0!==e?e:200)/(2*Math.PI);(0,d.setCylinderGeometry)(i,{segments:36,startRadius:n,stopRadius:n,height:null!==(t=o.height)&&void 0!==t?t:100})};a();var s=o.disposeVar((0,p.createNextAnimateFrameEvent)(o.circumferenceChanged,o.heightChanged));o.dispose(s.disposableOn(a)),o.dispose((0,p.track)([i,"show"],[o,"show"])),o.dispose((0,p.track)([i,"position"],[o,"position"]));var h=o.disposeVar((0,c.createPositionEditingRefForComponent)([o,"position"],o.components));o.dispose((0,p.bind)(h,[o,"positionEditing"])),o.dispose((0,p.track)([i,"scale"],[o,"scale"]));var y={type:"image",uri:null!==(r=o.imageUri)&&void 0!==r?r:t.defaultImageUri};a=function(){var e;i.uniformMap={u_color:null!==(e=o.color)&&void 0!==e?e:[1,1,0,2],u_image:y}},a(),s=o.disposeVar((0,p.createNextAnimateFrameEvent)(o.colorChanged,o.imageUriChanged)),o.dispose(s.disposableOn(a)),o.dispose(o.flyToEvent.disposableOn((function(e){i.flyTo(e)}))),o.dispose(i.pickedEvent.disposableOn((function(e){return o.pickedEvent.emit(new u.SceneObjectPickedInfo(o,e))}))),o.dispose((0,p.track)([i,"allowPicking"],[o,"allowPicking"]));var g=o.disposeVar((0,f.createAnimateFrameWithStartValues)((function(e){var t,n=.001*e*(null!==(t=o.rotationSpeed)&&void 0!==t?t:10);n=(n%=360)<0?n+360:n,i.rotation=[n,0,0]})));return g.restart(),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCityCylinderBillboard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i(i({},t.createDefaultProps()),g)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cylinderCustomPrimitive",{get:function(){return this._cylinderCustomPrimitive},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],!0),new u.PositionProperty("位置","位置",!0,!1,[this,"position"]),new u.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],!1),new u.Number3Property("缩放","缩放",!0,!1,[this,"scale"],[1,1,1]),new u.ColorProperty("颜色","颜色",!0,!1,[this,"color"],[1,1,0,1]),new u.StringProperty("图片路径","图片路径",!0,!1,[this,"imageUri"],t.defaultImageUri),new u.NumberProperty("周长","周长，注意单位是米, 默认200米",!0,!1,[this,"circumference"],200),new u.NumberProperty("高度","高度，注意单位是米，默认100米",!0,!1,[this,"height"],100),new u.NumberProperty("旋转速度","旋转速度，度/秒",!0,!1,[this,"rotationSpeed"],10)])],!1)},n=t,t.type=n.register("CzmCityCylinderBillboard",n,{chsName:"城市环形广告牌(Czm)",tags:["CzmObjects","CityObjects","_ES_Impl_Cesium"],description:"城市环形广告牌(Czm)"}),t.defaultImageUri="${xe2-assets-script-dir}/xe2-assets/xe2-objects/city/images/circular2.png",t}(u.ESSceneObject);t.CzmCityCylinderBillboard=h;var y={},g=(0,u.getDefaultComponentProps)(y);(0,u.extendComponentProps)(h.prototype,y),function(e){e.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:void 0,position:(0,p.reactArrayWithUndefined)(void 0),positionEditing:void 0,scale:(0,p.reactArrayWithUndefined)(void 0),color:(0,p.reactArrayWithUndefined)(void 0),allowPicking:void 0,imageUri:void 0,circumference:void 0,height:void 0,rotationSpeed:void 0})}}(h=t.CzmCityCylinderBillboard||(t.CzmCityCylinderBillboard={})),t.CzmCityCylinderBillboard=h,(0,p.extendClassProps)(h.prototype,h.createDefaultProps)},96097:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(27525),t),o(n(95637),t)},16370:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(96097),t),o(n(87285),t)},87285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},48133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMinMaxPosition=void 0;var r=n(51355);t.getMinMaxPosition=function(e){return{minPos:[(0,r.min)((0,r.objsIterator)(e,["0"])),(0,r.min)((0,r.objsIterator)(e,["1"])),(0,r.min)((0,r.objsIterator)(e,["2"]))],maxPos:[(0,r.max)((0,r.objsIterator)(e,["0"])),(0,r.max)((0,r.objsIterator)(e,["1"])),(0,r.max)((0,r.objsIterator)(e,["2"]))]}}},87824:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(48133),t),o(n(90234),t),o(n(64879),t)},90234:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.setCylinderGeometry=void 0;var i=n(48133);t.setCylinderGeometry=function(e,t){var n=360/t.segments,a=Math.PI/180*n,s=Math.floor(360/n),l=t.startRadius,c=t.stopRadius,u=t.height,p=o([],r(new Array(s+1).keys()),!1),f=p.map((function(e){return e*a})).map((function(e){return[l*Math.cos(e),l*Math.sin(e),0]})),d=p.map((function(e){return e*a})).map((function(e){return[c*Math.cos(e),c*Math.sin(e),u]})),h=o(o([],r(f),!1),r(d),!1),y=(0,i.getMinMaxPosition)(h),g=y.minPos,m=y.maxPos;e.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:g,max:m}};var v=p.map((function(e){return[0,1,0]})).flat(),b=p.map((function(e){return[e/s,0]})).flat(),_=p.map((function(e){return[e/s,1]})).flat();e.attributes={position:{componentsPerAttribute:3,typedArray:new Float32Array(h.flat())},normal:{componentsPerAttribute:3,typedArray:new Float32Array(o(o([],r(v),!1),r(v),!1))},textureCoordinates:{componentsPerAttribute:2,typedArray:new Float32Array(o(o([],r(b),!1),r(_),!1))}};var w=o([],r(new Array(s).keys()),!1),P=w.map((function(e){return[e,e+s+1,e+s+2,e,e+s+2,e+1]})),C=w.map((function(e){return[e,e+s+2,e+s+1,e,e+1,e+s+2]})),O=o(o([],r(P),!1),r(C),!1).flat();e.indexTypedArray=new Uint16Array(O)}},64879:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRectangleGeometry=void 0,t.setRectangleGeometry=function(e,t){var n=t.width,r=t.height;e.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:[.5*-n,.5*-r,0],max:[.5*n,.5*r,0]}},e.attributes={position:{componentsPerAttribute:3,typedArray:new Float32Array([-.5*n,-.5*r,0,.5*n,-.5*r,0,.5*n,.5*r,0,-.5*n,.5*r,0])},normal:{componentsPerAttribute:3,typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1])},textureCoordinates:{componentsPerAttribute:2,typedArray:new Float32Array([-1,-1,1,-1,1,1,-1,1])}},e.indexTypedArray=new Uint16Array([0,1,2,0,2,3])}},99520:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),(0,n(59645).registerScript)(),o(n(58753),t),o(n(58354),t),o(n(48941),t),o(n(16370),t),window.XE2CZM=window.Cesium},81557:e=>{"use strict";e.exports=Cesium},61556:e=>{"use strict";e.exports=XE2["xe2-base-cesium"]},80468:e=>{"use strict";e.exports=XE2["xe2-base-objects"]},51355:e=>{"use strict";e.exports=XE2["xe2-base-utils"]},61546:e=>{"use strict";e.exports=XE2["xe2-math"]},59645:e=>{"use strict";e.exports=XE2["xe2-utils"]},9675:e=>{"use strict";e.exports=vtxf["xr-base-utils"]},66030:e=>{"use strict";e.exports=vtxf["xr-cesium"]},81901:e=>{"use strict";e.exports=vtxf["xr-utils"]},89268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});const r=11102230246251565e-32,o=134217729,i=(3+8*r)*r;function a(e,t,n,r,o){let i,a,s,l,c=t[0],u=r[0],p=0,f=0;u>c==u>-c?(i=c,c=t[++p]):(i=u,u=r[++f]);let d=0;if(p<e&&f<n)for(u>c==u>-c?(a=c+i,s=i-(a-c),c=t[++p]):(a=u+i,s=i-(a-u),u=r[++f]),i=a,0!==s&&(o[d++]=s);p<e&&f<n;)u>c==u>-c?(a=i+c,l=a-i,s=i-(a-l)+(c-l),c=t[++p]):(a=i+u,l=a-i,s=i-(a-l)+(u-l),u=r[++f]),i=a,0!==s&&(o[d++]=s);for(;p<e;)a=i+c,l=a-i,s=i-(a-l)+(c-l),c=t[++p],i=a,0!==s&&(o[d++]=s);for(;f<n;)a=i+u,l=a-i,s=i-(a-l)+(u-l),u=r[++f],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function s(e){return new Float64Array(e)}const l=s(4),c=s(8),u=s(12),p=s(16),f=s(4);function d(e,t,n,r,s,d){const h=(t-d)*(n-s),y=(e-s)*(r-d),g=h-y,m=Math.abs(h+y);return Math.abs(g)>=33306690738754716e-32*m?g:-function(e,t,n,r,s,d,h){let y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A,I;const z=e-s,D=n-s,N=t-d,R=r-d;j=z*R,_=o*z,w=_-(_-z),P=z-w,_=o*R,C=_-(_-R),O=R-C,T=P*O-(j-w*C-P*C-w*O),M=N*D,_=o*N,w=_-(_-N),P=N-w,_=o*D,C=_-(_-D),O=D-C,A=P*O-(M-w*C-P*C-w*O),x=T-A,b=T-x,l[0]=T-(x+b)+(b-A),S=j+x,b=S-j,E=j-(S-b)+(x-b),x=E-M,b=E-x,l[1]=E-(x+b)+(b-M),I=S+x,b=I-S,l[2]=S-(I-b)+(x-b),l[3]=I;let k=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,l),L=22204460492503146e-32*h;if(k>=L||-k>=L)return k;if(b=e-z,y=e-(z+b)+(b-s),b=n-D,m=n-(D+b)+(b-s),b=t-N,g=t-(N+b)+(b-d),b=r-R,v=r-(R+b)+(b-d),0===y&&0===g&&0===m&&0===v)return k;if(L=11093356479670487e-47*h+i*Math.abs(k),k+=z*v+R*y-(N*m+D*g),k>=L||-k>=L)return k;j=y*R,_=o*y,w=_-(_-y),P=y-w,_=o*R,C=_-(_-R),O=R-C,T=P*O-(j-w*C-P*C-w*O),M=g*D,_=o*g,w=_-(_-g),P=g-w,_=o*D,C=_-(_-D),O=D-C,A=P*O-(M-w*C-P*C-w*O),x=T-A,b=T-x,f[0]=T-(x+b)+(b-A),S=j+x,b=S-j,E=j-(S-b)+(x-b),x=E-M,b=E-x,f[1]=E-(x+b)+(b-M),I=S+x,b=I-S,f[2]=S-(I-b)+(x-b),f[3]=I;const F=a(4,l,4,f,c);j=z*v,_=o*z,w=_-(_-z),P=z-w,_=o*v,C=_-(_-v),O=v-C,T=P*O-(j-w*C-P*C-w*O),M=N*m,_=o*N,w=_-(_-N),P=N-w,_=o*m,C=_-(_-m),O=m-C,A=P*O-(M-w*C-P*C-w*O),x=T-A,b=T-x,f[0]=T-(x+b)+(b-A),S=j+x,b=S-j,E=j-(S-b)+(x-b),x=E-M,b=E-x,f[1]=E-(x+b)+(b-M),I=S+x,b=I-S,f[2]=S-(I-b)+(x-b),f[3]=I;const B=a(F,c,4,f,u);j=y*v,_=o*y,w=_-(_-y),P=y-w,_=o*v,C=_-(_-v),O=v-C,T=P*O-(j-w*C-P*C-w*O),M=g*m,_=o*g,w=_-(_-g),P=g-w,_=o*m,C=_-(_-m),O=m-C,A=P*O-(M-w*C-P*C-w*O),x=T-A,b=T-x,f[0]=T-(x+b)+(b-A),S=j+x,b=S-j,E=j-(S-b)+(x-b),x=E-M,b=E-x,f[1]=E-(x+b)+(b-M),I=S+x,b=I-S,f[2]=S-(I-b)+(x-b),f[3]=I;const V=a(B,u,4,f,p);return p[V-1]}(e,t,n,r,s,d,m)}s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(8),s(8),s(8),s(4),s(8),s(8),s(8),s(12),s(192),s(192),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(8),s(8),s(8),s(8),s(8),s(8),s(8),s(8),s(8),s(4),s(4),s(4),s(8),s(16),s(16),s(16),s(32),s(32),s(48),s(64),s(1152),s(1152),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(4),s(24),s(24),s(24),s(24),s(24),s(24),s(24),s(24),s(24),s(24),s(1152),s(1152),s(1152),s(1152),s(1152),s(2304),s(2304),s(3456),s(5760),s(8),s(8),s(8),s(16),s(24),s(48),s(48),s(96),s(192),s(384),s(384),s(384),s(768),s(96),s(96),s(96),s(1152);const h=Math.pow(2,-52),y=new Uint32Array(512);class g{static from(e,t=P,n=C){const r=e.length,o=new Float64Array(2*r);for(let i=0;i<r;i++){const r=e[i];o[2*i]=t(r),o[2*i+1]=n(r)}return new g(o)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:o}=this,i=e.length>>1;let a=1/0,s=1/0,l=-1/0,c=-1/0;for(let t=0;t<i;t++){const n=e[2*t],r=e[2*t+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>c&&(c=r),this._ids[t]=t}const u=(a+l)/2,p=(s+c)/2;let f,y,g;for(let t=0,n=1/0;t<i;t++){const r=m(u,p,e[2*t],e[2*t+1]);r<n&&(f=t,n=r)}const v=e[2*f],w=e[2*f+1];for(let t=0,n=1/0;t<i;t++){if(t===f)continue;const r=m(v,w,e[2*t],e[2*t+1]);r<n&&r>0&&(y=t,n=r)}let P=e[2*y],C=e[2*y+1],O=1/0;for(let t=0;t<i;t++){if(t===f||t===y)continue;const n=b(v,w,P,C,e[2*t],e[2*t+1]);n<O&&(g=t,O=n)}let x=e[2*g],S=e[2*g+1];if(O===1/0){for(let t=0;t<i;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];_(this._ids,this._dists,0,i-1);const t=new Uint32Array(i);let n=0;for(let e=0,r=-1/0;e<i;e++){const o=this._ids[e],i=this._dists[o];i>r&&(t[n++]=o,r=i)}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(d(v,w,P,C,x,S)<0){const e=y,t=P,n=C;y=g,P=x,C=S,g=e,x=t,S=n}const E=function(e,t,n,r,o,i){const a=n-e,s=r-t,l=o-e,c=i-t,u=a*a+s*s,p=l*l+c*c,f=.5/(a*c-s*l);return{x:e+(c*u-s*p)*f,y:t+(a*p-l*u)*f}}(v,w,P,C,x,S);this._cx=E.x,this._cy=E.y;for(let t=0;t<i;t++)this._dists[t]=m(e[2*t],e[2*t+1],E.x,E.y);_(this._ids,this._dists,0,i-1),this._hullStart=f;let j=3;n[f]=t[g]=y,n[y]=t[f]=g,n[g]=t[y]=f,r[f]=0,r[y]=1,r[g]=2,o.fill(-1),o[this._hashKey(v,w)]=f,o[this._hashKey(P,C)]=y,o[this._hashKey(x,S)]=g,this.trianglesLen=0,this._addTriangle(f,y,g,-1,-1,-1);for(let i,a,s=0;s<this._ids.length;s++){const l=this._ids[s],c=e[2*l],u=e[2*l+1];if(s>0&&Math.abs(c-i)<=h&&Math.abs(u-a)<=h)continue;if(i=c,a=u,l===f||l===y||l===g)continue;let p=0;for(let e=0,t=this._hashKey(c,u);e<this._hashSize&&(p=o[(t+e)%this._hashSize],-1===p||p===n[p]);e++);p=t[p];let m,v=p;for(;m=n[v],d(c,u,e[2*v],e[2*v+1],e[2*m],e[2*m+1])>=0;)if(v=m,v===p){v=-1;break}if(-1===v)continue;let b=this._addTriangle(v,l,n[v],-1,-1,r[v]);r[l]=this._legalize(b+2),r[v]=b,j++;let _=n[v];for(;m=n[_],d(c,u,e[2*_],e[2*_+1],e[2*m],e[2*m+1])<0;)b=this._addTriangle(_,l,m,r[l],-1,r[_]),r[l]=this._legalize(b+2),n[_]=_,j--,_=m;if(v===p)for(;m=t[v],d(c,u,e[2*m],e[2*m+1],e[2*v],e[2*v+1])<0;)b=this._addTriangle(m,l,v,-1,r[v],r[m]),this._legalize(b+2),r[m]=b,n[v]=v,j--,v=m;this._hullStart=t[l]=v,n[v]=t[_]=l,n[l]=_,o[this._hashKey(c,u)]=l,o[this._hashKey(e[2*v],e[2*v+1])]=v}this.hull=new Uint32Array(j);for(let e=0,t=this._hullStart;e<j;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let o=0,i=0;for(;;){const a=n[e],s=e-e%3;if(i=s+(e+2)%3,-1===a){if(0===o)break;e=y[--o];continue}const l=a-a%3,c=s+(e+1)%3,u=l+(a+2)%3,p=t[i],f=t[e],d=t[c],h=t[u];if(v(r[2*p],r[2*p+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1])){t[e]=h,t[a]=p;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(a,n[i]),this._link(i,u);const s=l+(a+1)%3;o<y.length&&(y[o++]=s)}else{if(0===o)break;e=y[--o]}}return i}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,o,i){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,o),this._link(a+2,i),this.trianglesLen+=3,a}}function m(e,t,n,r){const o=e-n,i=t-r;return o*o+i*i}function v(e,t,n,r,o,i,a,s){const l=e-a,c=t-s,u=n-a,p=r-s,f=o-a,d=i-s,h=u*u+p*p,y=f*f+d*d;return l*(p*y-h*d)-c*(u*y-h*f)+(l*l+c*c)*(u*d-p*f)<0}function b(e,t,n,r,o,i){const a=n-e,s=r-t,l=o-e,c=i-t,u=a*a+s*s,p=l*l+c*c,f=.5/(a*c-s*l),d=(c*u-s*p)*f,h=(a*p-l*u)*f;return d*d+h*h}function _(e,t,n,r){if(r-n<=20)for(let o=n+1;o<=r;o++){const r=e[o],i=t[r];let a=o-1;for(;a>=n&&t[e[a]]>i;)e[a+1]=e[a--];e[a+1]=r}else{let o=n+1,i=r;w(e,n+r>>1,o),t[e[n]]>t[e[r]]&&w(e,n,r),t[e[o]]>t[e[r]]&&w(e,o,r),t[e[n]]>t[e[o]]&&w(e,n,o);const a=e[o],s=t[a];for(;;){do{o++}while(t[e[o]]<s);do{i--}while(t[e[i]]>s);if(i<o)break;w(e,o,i)}e[n+1]=e[i],e[i]=a,r-o+1>=i-n?(_(e,t,o,r),_(e,t,n,i-1)):(_(e,t,n,i-1),_(e,t,o,r))}}function w(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function P(e){return e[0]}function C(e){return e[1]}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=288;var r=n(99520);(XE2=void 0===XE2?{}:XE2)["xe2-cesium-objects"]=r})();